{"version":3,"sources":["sidecar:///sidecar.min.js","sidecar:///webpack/bootstrap b97ee8f4bc100bdbac53","sidecar:///./src/entry.js","sidecar:///./~/crosstab/src/crosstab.js?e58a","sidecar:///./~/script-loader/addScript.js","sidecar:///./~/crosstab/src/crosstab.js","sidecar:///./src/app.js","sidecar:///./~/jquery/dist/jquery.min.js?48d1","sidecar:///./~/jquery/dist/jquery.min.js","sidecar:///./~/underscore/underscore-min.js?d1f8","sidecar:///./~/underscore/underscore-min.js","sidecar:///./lib/backbone/backbone.min.js?8d59","sidecar:///./lib/backbone/backbone.min.js","sidecar:///./~/handlebars/dist/handlebars.min.js?3a71","sidecar:///./~/handlebars/dist/handlebars.min.js","sidecar:///./~/async/index.js","sidecar:///./~/async/lib/async.js","sidecar:///./~/process/browser.js","sidecar:///./~/moment/min/moment.min.js?5a95","sidecar:///./~/moment/min/moment.min.js","sidecar:///./~/store/store.min.js?1d82","sidecar:///./~/store/store.min.js","sidecar:///./lib/jquery/jquery-migrate-1.2.1.min.js?42b2","sidecar:///./lib/jquery/jquery-migrate-1.2.1.min.js","sidecar:///./lib/jquery-ui/js/jquery-ui-1.11.4.custom.min.js?8beb","sidecar:///./lib/jquery-ui/js/jquery-ui-1.11.4.custom.min.js","sidecar:///./lib/jquery/jquery.iframe.transport.js?7e76","sidecar:///./lib/jquery/jquery.iframe.transport.js","sidecar:///./lib/php-js/version_compare.js?bc93","sidecar:///./lib/php-js/version_compare.js","sidecar:///./~/big.js/big.js?d74f","sidecar:///./~/big.js/big.js","sidecar:///./lib/sugarapi/sugarapi.js","sidecar:///./src/utils/utils.js","sidecar:///./src/utils/date.js","sidecar:///./src/utils/math.js","sidecar:///./src/utils/currency.js","sidecar:///./src/core/before-event.js","sidecar:///./src/core/cache.js","sidecar:///./src/core/cookie.js","sidecar:///./src/core/events.js","sidecar:///./src/core/error.js","sidecar:///./src/view/template.js","sidecar:///./src/core/context.js","sidecar:///./src/core/controller.js","sidecar:///./src/core/router.js","sidecar:///./src/core/language.js","sidecar:///./src/core/metadata-manager.js","sidecar:///./src/core/acl.js","sidecar:///./src/core/user.js","sidecar:///./src/core/plugin-manager.js","sidecar:///./src/utils/logger.js","sidecar:///./src/data/bean.js","sidecar:///./src/data/bean-collection.js","sidecar:///./src/data/mixed-bean-collection.js","sidecar:///./src/data/data-manager.js","sidecar:///./src/data/validation.js","sidecar:///./src/view/hbs-helpers.js","sidecar:///./src/view/view-manager.js","sidecar:///./src/view/component.js","sidecar:///./src/view/view.js","sidecar:///./src/view/field.js","sidecar:///./src/view/layout.js","sidecar:///./src/view/alert.js","sidecar:///./lib/sugaranalytics/sugaranalytics.js","sidecar:///./lib/sugaranalytics/googleanalyticsconnector.js","sidecar:///./lib/sugar/sugar.liverelativedate.js","sidecar:///./src/utils/underscore-mixins.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","SUGAR","window","async","src","execScript","eval","App","_app","_modules","_isSyncing","_syncCallbacks","_make$","selector","$","opts","appId","_","uniqueId","extend","$rootEl","el","$contentEl","contentEl","additionalComponents","this","Backbone","Events","init","beforeEvent","events","register","cache","className","utils","capitalize","config","Klass","Controller","controller","api","Api","getInstance","defaultErrorHandler","error","handleHttpError","serverUrl","platform","timeout","serverTimeout","keyValueStore","authStore","clientID","disableBulkApi","externalLoginUICallback","_init","self","syncCallback","trigger","_initModules","_loadConfig","silent","callback","isFunction","cssCallback","loadCss","syncConfig","options","getPublic","metadata","sync","each","getConfig","css","themeName","success","rsp","url","attr","rel","href","buildUrl","appendTo","text","html","start","registerAjaxEvents","routing","destroy","history","stop","augment","name","obj","syncPublic","push","waterfall","isSynced","doUpdateLanguage","noUserUpdate","language","get","lang","getLanguage","user","updateLanguage","cut","cbw","parallel","load","err","data","declareModels","serverInfo","getServerInfo","sugarLogic","enabled","versionCompare","version","minServerVersion","fetchSugarLogic","navigate","context","model","action","route","router","buildRoute","login","credentials","info","callbacks","current_language","username","complete","logout","clear","originalComplete","originalError","isDynamic","buildURL","expressions","cacheSugarLogicExpressions","loadSugarLogic","dataType","set","_loadSugarLogic","compileJs","js","e","logger","fatal","isServerCompatible","flavors","supportedServerFlavors","minVersion","isSupportedFlavor","isSupportedVersion","isEmpty","contains","flavor","code","label","server_info","process","root","previous_async","noConflict","_forEach","arr","iterator","forEach","i","length","_map","map","results","x","a","_reduce","memo","reduce","_keys","Object","keys","k","hasOwnProperty","nextTick","fn","setTimeout","completed","forEachSeries","iterate","forEachLimit","limit","started","running","replenish","doParallel","args","Array","prototype","slice","arguments","apply","concat","doSeries","_asyncMap","eachfn","index","value","v","mapSeries","inject","foldl","reduceRight","reversed","reverse","foldr","_filter","sort","b","filter","filterSeries","select","selectSeries","_reject","reject","rejectSeries","_detect","main_callback","result","detect","detectSeries","some","any","every","all","sortBy","criteria","left","right","auto","tasks","listeners","addListener","unshift","removeListener","splice","taskComplete","task","Function","taskCallback","requires","Math","abs","ready","listener","wrapIterator","next","constructor","series","makeCallback","_concat","r","cb","y","concatSeries","whilst","test","until","queue","worker","concurrency","workers","q","saturated","empty","drain","shift","_console_fn","console","log","dir","memoize","hasher","queues","memoized","pop","key","l","unmemoized","unmemoize","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","len","run","Item","array","title","browser","env","argv","versions","noop","on","once","off","removeAllListeners","emit","binding","cwd","chdir","umask","_instance","_methodsToRequest","read","update","create","delete","_baseActions","_numCallsInProgress","_refreshTokenSuccess","_bulkQueues","_state","HttpError","request","textStatus","errorThrown","xhr","status","responseText","contentType","getResponseHeader","indexOf","payload","JSON","parse","message","error_message","toString","HttpRequest","params","debug","numExecuted","state","execute","token","mdHash","upHash","headers","type","parsedData","password","origCallback","ajax","bulkXHR","parentReq","contents","statusText","status_text","isObject","stringify","readyState","_parent","isResolved","h","getAllResponseHeaders","str","SugarApi","_serverUrl","_platform","_keyValueStore","_clientID","_timeout","_refreshingToken","_defaultErrorHandler","_externalLogin","_allowBulk","_externalLoginUICallback","_accessToken","_refreshToken","_downloadToken","_rqueue","_requests","_ruid","initAsync","reset","_resetAuth","access_token","refresh_token","download_token","_handleErrorAndRefreshToken","onError","refreshingToken","_oerror","setRefreshingToken","refreshFailed","needRefreshAuthToken","_dequeuing","resetAuth","refreshCallbacks","_ocomplete","getOAuthToken","crosstab","supported","refresh","event","broadcastMaster","needQueue","handleExternalLogin","abortRequest","aborted","abort","getRequest","setRefreshTokenSuccessCallback","method","uid","iframe","processData","skipMetadataHash","getMetadataHash","getUserprefHash","isLoginRequest","isAuthRequest","bulk","bulkQueue","triggerBulkCall","bulkId","requests","last","split","substring","o","clearBulkQueue","attributes","parts","link","isString","inArray","relatedId","field","fileId","join","undefined","param","buildFileURL","htmlJsonFormat","format","deleteIfFails","delete_if_fails","passOAuthToken","oauth_token","passDownloadToken","getDownloadToken","isUndefined","forceDownload","force_download","cleanCache","Date","getTime","keep","getRefreshToken","getMetadata","warn","oldOpt","types","public","type_filter","module_filter","wrap","_serverInfo","module_dependencies","records","relationships","related","favorite","follow","followed","enumOptions","fileDownload","internalCallbacks","prepend","location","file","$files","ajaxParams","files","count","exportRecords","$el","recordListUrl","response","omit","module_name","search","fetchWithPost","endpoint","useNewApi","grant_type","client_id","client_secret","client_info","me","charAt","ping","signup","contactData","verifyPassword","password_to_verify","updatePassword","oldPassword","newPasword","new_password","old_password","isAuthenticated","errorCode","RegExp","flag","originalEvent","origin","authData","parseJSON","isExternalLogin","setExternalLogin","setExternalLoginUICallback","getStateProperty","setStateProperty","clearStateProperty","resetState","createInstance","bind","_runningRefreshToken","broadcast","getCallsInProgressCount","_typeof","Symbol","app","_doWhenStack","_doWhenLocked","_doWhenInterval","_doWhenretryCount","_startDoWhenInterval","setInterval","_doWhenCheck","s","toUpperCase","substr","capitalizeHyphenated","_classify","classify","delimiter","lastIndexOf","words","word","extendClass","defaultBase","platformNamespace","klass","extendsFrom","base","formatNumber","round","precision","numberGroupSeparator","decimalSeparator","original","isNaN","isFinite","parseFloat","isNumber","isNull","parseInt","Big","toFixed","addNumberSeparators","formatNumberLocale","getPreference","formatName","replace","firstName","lastName","salutation","first_name","last_name","trim","formatNameModel","getModule","fields","formatMap","nameFormat","formattedString","letter","enumLabel","isEnum","list","getAppListStrings","formatNameLocale","numberString","numberArray","regex","unformatNumberString","toFloat","num_grp_sep_re","float","unformatNumberStringLocale","formatString","idx","regexEscape","string","specialRegExp","specials","generateUUID","random","cookie","setCookie","cName","exdays","path","exdate","c_value","setDate","getDate","encodeURIComponent","toUTCString","document","getCookie","ARRcookies","decodeURIComponent","isValidEmailAddress","address","doWhen","condition","scope","check","overrideContext","clearInterval","tryAgain","isReady","notAvail","executeItem","item","v1","v2","operator","version_compare","extendFrom","subc","superc","overrides","deepCopy","compareBeans","beanA","beanB","changedFields","attribute","areBeanValuesEqual","hasDefaultValueChanged","value1","value2","getValueToCompare","isEqual","bean","defaultValue","_defaults","isConnectivityError","ajaxError","getTimestamp","dateValue","date","dateString","toISOString","msecPrecision","siteUrl","getChangedProps","data1","data2","strict","getType","isArray","isEqualProp","value1Type","value2Type","keys1","keys2","val","diff","getParentLayout","component","parent","view","layout","isSortable","fieldViewdef","fieldVardef","sortable","stripHttpPrefix","hardRefresh","reload","isDirectionRTL","ltrChars","rtlChars","isRTL","moment","InvalidException","_cachedFormats","_serverDateFormat","convertFormat","server","convertTable","d","Y","H","client","to","from","compare","date1","date2","mDate1","mDate2","isValid","isBefore","isAfter","getUserDateFormat","getUserTimeFormat","phpStrToTime","now","parsed","match","today","year","days","ranges","times","fail","toLowerCase","getFullYear","getMonth","sun","mon","tue","wed","thu","fri","sat","yea","day","hou","min","sec","lastNext","range","modifier","getDay","splt","typeIsNumber","ago","num","_formatStringCache","oldFormat","jsDate","part","dateRemain","j","timeformat","guessFormat","setMonth","setYear","timeFormatString","postfix","setHours","setMinutes","setSeconds","time","dateSep","dateParts","dateFormat","timeFormat","timeParts","timeSep","ampmCase","timeEnd","parseFormat","month","hours","minutes","seconds","amPm","isDate","out","getHours","getMinutes","getSeconds","roundTime","UTCtoLocalTime","toUTC","UTCtoTimezone","offset","getTimezoneOffset","milliseconds","getMilliseconds","UTC","getRelativeTimeLabel","rightNow","isFuture","second","minute","hour","ctx","floor","parseDisplayDefault","displayDefault","dateMap","dt","humanDate","defaultTime","addMonths","setTimePart","dateObj","op","timeAway","n","todayDay","daysUntilNext","week","next monday","nextMonday","next friday","nextFriday","first of next month","firstOfNextMonth","sinceEpoch","exec","toDatepickerFormat","formatSpec","normalizedFormatSpec","sugarToDatepickerMap","stripIsoTimeDelimterAndTZ","isIso","yyyymmddExact","yyyymmddLooseMatch","formatUser","dateOnly","formatServer","isBetween","startDate","endDate","inclusive","isInRange","isSame","duration","asDays","_math","n1","n2","decimals","fixed","E_NEG","plus","minus","div","number","add","sub","mul","isDifferentWithPrecision","newValue","oldValue","user_precision","defaultCurrencySignificantDigits","getDifference","diffPrecision","pow","absolute","getBaseCurrencyId","getBaseCurrency","currId","currencyObj","getCurrency","currency_id","getCurrenciesSelector","template","currencies","getCurrencies","currency","getCurrencySymbol","currencyId","symbol","formatAmount","amount","decimalPrecision","numberGroupingSeparator","symbolSeparator","currencySymbol","defaultDecimalSeparator","defaultNumberGroupingSeparator","formatAmountLocale","unformatAmount","unformatAmountLocale","convertAmount","fromId","toId","currency1","currency2","math","convertWithRate","conversion_rate","convertToBase","convertFromBase","fromRate","toRate","eventSplitter","eventsApi","rest","names","triggerEvents","ev","before","_before","triggerBefore","allEvents","offBefore","retain","keyPrefix","buildKey","sugarStore","store","remove","cutAll","unquote","migrateStorage","has","localStorage","deserialize","uniqueKey","clean","preserveKeys","preservedValues","union","getAll","pathname","frame","createElement","style","display","body","appendChild","contentWindow","onload","_deprecated","deprecated","pick","unregister","warnMessage","initialize","remoteLogging","statusCodes","disableOnError","enableOnError","_callCustomHandler","handleStatusCodesFallback","_handleFineGrainedError","alternativeCallback","handlerName","0","handleTimeoutError","400","handleUnspecified400Error","401","handleUnauthorizedError","403","handleForbiddenError","404","_2","_x","handleNotFoundError","405","handleMethodNotAllowedError","409","handleMethodConflictError","412","handleHeaderPreconditionFailed","422","_3","_x2","_x3","handleValidationError","424","_4","_x4","_x5","handleMethodFailureError","500","handleServerError","502","503","errorName2Keys","maxValue","minValue","maxLength","minLength","datetime","required","email","primaryEmail","duplicateEmail","greaterThan","lessThan","getErrorString","errorKey","errors","alert","dismissAll","fieldError","errorMsg","fieldName","handleUnhandledError","line","handleRenderError","additionalInfo","level","messages","getModuleName","plural","show","handler","originalHandler","overloaded","onerror","mesg","throwErrorWithCallStack","skipThrow","stack","_header","_footer","_templates","_sources","_templateManager","cacheMeta","t","_add","tpl","force","Handlebars","templates","_compile","compile","precompile","_getView","getView","_getField","fallbackTemplate","skipFallbacks","foundTemplate","prefix","getField","_getLayout","moduleName","getLayout","setView","setField","setLayout","views","layouts","Context","Model","cid","children","_fetchCalled","collection","abortFetchRequest","child","stopListening","dispose","resetLoadFlag","isBoolean","recursive","resetModel","resetCollection","dataFetched","isCreate","getChildContext","def","forceNew","find","fetch","getContext","parentModel","parentModule","prepare","prepareRelated","modelId","_prepareRelated","_prepare","_relatedCollectionsPopulated","_populateRelatedContexts","setFetch","mixed","models","createBean","createMixedBeanCollection","createBeanCollection","createRelatedBean","createRelatedCollection","addFields","fieldsArray","loadData","forceFetch","_shouldFetch","objectToFetch","defaultOrdering","orderByDefaults","BeanCollection","orderBy","Bean","setOption","collectionFields","fieldsOfType","links","linkCollections","rc","isDataFetched","reloadData","View","_setLabels","render","loadView","oldLayout","createLayout","oldLayoutEl","createDocumentFragment","append","initComponents","skipFetch","loadAdditionalComponents","components","target","createView","setElement","_routes","beforeRoute","unsecureRoutes","after","setRoutes","customRoutes","Router","_previousFragment","_currentFragment","_initRoutes","_routeHandler","getFragment","_moduleExists","_addDefaultRoutes","defaultRoutes","addRoutes","fragment","getPreviousFragment","goBack","back","go","steps","History","handlers","routes","newRoutes","loadUrl","moduleOrContext","customBuildRoute","defaultModule","acl","hasAccess","externalLogin","getAppString","redirect","record","oldCollection","oldListCollection","listCollection","direction","getModString","moduleString","_get","getStrings","tuple","getAppListKeys","bundle","_sanitize","_currentLanguage","setLanguage","noSync","langHasChanged","forceRefresh","metadataTypes","setPreference","setCurrentLanguage","setDefaultLanguage","_defaultLanguage","getDefaultLanguage","setDirection","rtlLanguages","prevDirection","_keyPrefix","_metadata","_mdLoaded","_syncing","_setHash","isPublic","pKey","_hash","_cacheMeta","_getCachedMeta","_injectLabels","serverMetadata","labels","_fetchLabels","currentLanguage","langStringsUrl","userLang","ordered_labels","labelsData","ex","_initCustomComponents","platforms","fieldTemplate","_metaTypeIsSeparatedByPlatform","_sortAndDeclareComponents","tplSource","tplName","fieldTypeMap","varchar","multienum","decimal","_patchMetadata","_patched","meta","panels","panel","_patchFields","fieldIndex","fieldDef","displayParams","custom_type","vname","_sortControllers","updated","nameMap","entries","updateWeights","entry","weight","emptyController","getOwnPropertyNames","customExtendsFrom","declareModelClass","declareCollectionClass","declareComponent","_declareClasses","getModules","getHiddenSubpanels","hidden_subpanels","getRelationship","copy","loadModule","getModuleNames","filters","moduleList","oldClient","modules_info","clone","access","displayTabFilter","f","chain","without","opposite","oppositeList","difference","intersection","getFullModuleList","full_module_list","getLogoUrl","logo_url","getModuleTabMap","module_tab_map","getTabMappedModule","getFilterOperators","operators","moduleData","moduleFilters","getEditableDropdownFilter","dropdown","editable_dropdown_filters","getHash","overrideKeys","_override_values","_dev_data","publicMetadataTypes","errorCallback","compatible","include","jssource","_loadJSSource","isSyncing","scriptEl","loadJS","_checkJSSourceUpdated","head","_publicJSSourceFile","jssource_public","_jsSourceFile","bindAll","addEventListener","storageHandler","md","clearCache","_accessToAny","action2permission","readonly","edit","detail","disabled","_hasAccess","acls","_hasAccessToField","recordAcls","getAcls","fieldAcls","moduleMeta","fieldMeta","group","hasAccessToModel","assignedUserId","original_assigned_user_id","hasAccessToAny","User","current_user","loadLocale","done","preferred_language","updateProfile","updatePreferences","preferences","currency_iso","currency_name","currency_rate","currency_show_preferred","currency_symbol","lastState","keySeparator","lastStates","preservedKeys","buildLastStateKeyForStorage","keyParts","storedKey","getLastStateId","lastStateId","last_state","defaults","preserve","keyString","defaultState","_getPreservedKeys","ret","_pluginManager","plugins","attach","pluginName","prop","_isPluginDisabled","onAttach","detach","plugin","onDetach","disabledPlugins","validTypes","levels","TRACE","DEBUG","INFO","WARN","ERROR","FATAL","jQuery","migrateMute","getLevel","ConsoleWriter","write","ServerWriter","writeToServer","SimpleFormatter","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","trace","deprecatedLevel","logLevel","currentLevel","formatter","logFormatter","consoleWriter","logWriter","serverWriter","doValidate","setSyncedAttributes","_bindEvents","_relatedCollections","_activeFetchRequest","isNew","addValidationTask","_doValidate","getOption","getFetchRequest","req","attrs","collections","getCollectionFields","_handleCollectionFieldValues","MixedBeanCollection","object","listenTo","resetDelta","colOptions","_createMixedBeanCollectionField","getRelatedCollection","_checkAcl","changedFieldAcls","_checkFieldAcls","size","getSynced","fieldsProp","property","syncedFieldAcls","_setRelatedCollection","isValidAsync","flatten","waterfallCallback","_validationTasks","didWaterfallFail","_processValidationErrors","_addValidationError","validation","requiredValidator","validators","validator","validatorName","taskName","validate","removeValidationTask","fieldErrors","save","_this","fieldsToValidate","canHaveAttachments","getFiles","source","vardefs","pluck","permitCopy","duplicate_on_record_copy","auto_increment","isCopied","isCopy","uploadFile","temp","my_favorite","following","isFavorite","getChangeDiff","exclude","previousValue","hasChanged","coll","getDelta","toJSON","json","linkName","revertAttributes","revert","changedAttr","changedAttributes","_this2","changed","_syncedAttributes","getDefault","setDefault","_persistentOptions","unsetOption","where","merge","changes","Collection","_create","_initOptions","_bindCollectionEvents","total","activeFetchRequest","_decrementTotal","invoke","_prepareModel","searchInfo","_search","myItems","favorites","query","resetPagination","paginationDefaults","next_offset","page","optKeys","resetOptions","optKey","optionsList","option","paginate","maxSize","maxQueryResult","fetchTotal","orig","record_count","filterDef","hasAtLeast","hasAtLeastAmount","properties","hasMore","parseOptionsForSync","apiOptions","getPageNumber","pageNumber","ceil","getNext","current","_this3","ind","nextFn","at","hasNextModel","getModelIndex","getPrev","hasPreviousModel","newCol","_linkedCollections","_onLinkAdd","_onLinkRemove","_onLinkReset","_module","getBeanClass","_updating","groupedBeans","groupBy","_link","findKey","sortedBeans","delta","module_list","groupByModule","_models","_collections","_dataManager","beanModel","beanCollection","mixedBeanCollection","declareModel","modelController","collectionController","values","baseProperties","superModel","BaseModel","modelName","baseCollectionProperties","superCollection","BaseCollection","mergeModel","getModelClasses","getCollectionClasses","bean1","beanOrId2","relatedModule","getRelatedModule","canHaveMany","link_type","relationship","relationship_type","side","lhs_module","rhs_module","getRelateFields","parentModuleName","parentModuleDef","getRelationshipFields","ff","linkField","rel_fields","relationship_fields","fieldNames","getRelatedNameField","idFieldName","id_name","getEditableFields","editableFields","ignoreTypeList","fieldValue","relate","getSyncCallbacks","relatedData","viewed","max_num","order_by","my_items","lastModified","getSyncSuccessCallback","getSyncErrorCallback","getSyncCompleteCallback","getSyncAbortCallback","inSync","xmod_aggs","tags","_updateCollectionProperties","syncedAttributes","updatedAttributes","related_record","abortCallback","previousModels","modelList","_minMaxValue","_isBeforeAfter","compareTo","compareto","compareToValue","compareToLabel","minlen","emails","email_address","primary_address","duplicates","invalidNumberOfDigits","sep","formatParts","inRange","max","currentValue","currentUndefined","valueEmpty","_isArrayEmpty","registerHelper","createField","viewDefs","hash","viewName","getPlaceholder","viewDef","newComponent","placeholder","defs","componentName","componentDef","initializedInTemplate","hbsOptions","element","inverse","helpers","val1","val2","re","content","iso8601","Utils","escapeExpression","fromNow","SafeString","glue","nl2br","templateComponent","templateOptions","partials","Field","templateName","Layout","_sfId","_viewManager","getFieldId","_createComponent","_getPlatform","bindDataChange","xmeta","sfId","_getController","_getBaseComponent","moduleBasedClassName","baseClass","componentHasPlugin","overwrite","ucType","customModuleBasedClassName","customBaseClassName","Component","_isInitialized","_wrapInitialize","delegateEvents","css_class","addClass","updateVisibleState","_render","disposed","setTemplateOption","unbindData","unbind","undelegateEvents","_dispose","closestComponent","isVisible","_show","hide","_hide","_isVisible","visible","removeClass","_super","thisProto","getPrototypeOf","_superStack","_loadTemplate","fallbackFieldTemplate","primary","dataView","getFieldNames","_getTemplate","fallbackModule","_renderHtml","_renderFields","fieldElems","$this","_renderField","$fieldEl","_disposeFields","modulePlural","moduleSingular","nestedFields","compact","uniq","fieldMetadata","relates","type_name","getFields","getFieldMeta","includeChild","_isChild","setFieldMeta","childDef","fieldTag","fieldDefs","oldLabel","removeValidationErrors","handleAclChange","viewFallbackMap","_resetAction","_checkAccessToAction","_getFallbackTemplate","isDisabled","actionName","eventHandler","triggerMetadataEvent","getFormattedValue","unbindDom","getFieldElement","bindDomChange","unformat","setDisabled","disable","_previousAction","setViewName","setMode","equals","other","_components","placeComponentsFromTemplate","lazy_loaded","_componentsMeta","componentElems","$placeholder","replaceWith","newSubComponents","initialLength","_addComponentsFromDef","comp","createComponentFromDef","addComponent","_placeComponent","removeComponent","removed","getComponent","_disposeComponents","_alerts","_alert","preventAnyAlert","$alerts","AlertView","alertsEl","BaseAlertView","autoClose","_setAutoCloseTimer","onAutoClose","autoCloseDelay","prependTo","timerId","dismiss","alertAutoCloseDelay","close","_analytics","currentViewId","_eventsHash","click","swipeleft","swiperight","analytics","connector","connectors","trackPageView","trackEvent","_parseTrackTag","isNative","native","web","build","category","currentTarget","track","pieces","actionValue","_attachEvents","hasClass","optOut","GoogleAnalytics","g","getElementsByTagName","parentNode","insertBefore","gaOptions","cookieDomain","forceSSL","ga","pageUri","Zepto","updateInterval","$liveDates","liveRelativeDateGlobal","not","Event","isDefaultPrevented","pause","resume","interval","liveRelativeDateLocal","removeAttr","isLiveRelativeDate","$els","tracked","liverelativedate","mixin","isEmptyValue","obj1","obj2","allKeys"],"mappings":"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","file":"sidecar.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t\n\t__webpack_require__(2);\n\t\n\tvar SUGAR = __webpack_require__(5);\n\t\n\t// globalize these for Mango bwc:\n\t__webpack_require__(6);\n\t__webpack_require__(8);\n\t__webpack_require__(10);\n\t__webpack_require__(12);\n\twindow.async = __webpack_require__(14);\n\t__webpack_require__(17);\n\t__webpack_require__(19);\n\twindow.SUGAR = SUGAR;\n\t\n\t__webpack_require__(21);\n\t__webpack_require__(23);\n\t__webpack_require__(25);\n\t\n\t__webpack_require__(27);\n\t\n\t__webpack_require__(29);\n\t\n\t__webpack_require__(31);\n\t__webpack_require__(32);\n\t__webpack_require__(33);\n\t__webpack_require__(34);\n\t__webpack_require__(35);\n\t__webpack_require__(36);\n\t__webpack_require__(37);\n\t__webpack_require__(38);\n\t__webpack_require__(39);\n\t__webpack_require__(40);\n\t__webpack_require__(41);\n\t__webpack_require__(42);\n\t__webpack_require__(43);\n\t__webpack_require__(44);\n\t__webpack_require__(45);\n\t__webpack_require__(46);\n\t__webpack_require__(47);\n\t__webpack_require__(48);\n\t__webpack_require__(49);\n\t__webpack_require__(50);\n\t__webpack_require__(51);\n\t__webpack_require__(52);\n\t__webpack_require__(53);\n\t__webpack_require__(54);\n\t__webpack_require__(55);\n\t__webpack_require__(56);\n\t__webpack_require__(57);\n\t__webpack_require__(58);\n\t__webpack_require__(59);\n\t__webpack_require__(60);\n\t__webpack_require__(61);\n\t__webpack_require__(62);\n\t__webpack_require__(63);\n\t__webpack_require__(64);\n\t__webpack_require__(65);\n\t__webpack_require__(66);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(4))\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tmodule.exports = function(src) {\r\n\t\tif (typeof execScript !== \"undefined\")\r\n\t\t\texecScript(src);\r\n\t\telse\r\n\t\t\teval.call(null, src);\r\n\t}\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/*!\\r\\n * crosstab JavaScript Library v0.2.7\\r\\n * https://github.com/tejacques/crosstab\\r\\n *\\r\\n * License: Apache 2.0 https://github.com/tejacques/crosstab/blob/master/LICENSE\\r\\n */\\r\\n; (function (define) { define('crosstab', function (require, exports, module) {\\r\\n    'use strict';\\r\\n\\r\\n    // --- Handle Support ---\\r\\n    // See: http://detectmobilebrowsers.com/about\\r\\n    var useragent = navigator.userAgent || navigator.vendor || window.opera;\\r\\n    var isMobile = (/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(useragent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(useragent.substr(0, 4)));\\r\\n\\r\\n    var localStorage;\\r\\n    try {\\r\\n        localStorage = window.localStorage;\\r\\n        localStorage = window['ie-eventlistener/storage'] || window.localStorage;\\r\\n    } catch (e) {\\r\\n        // New versions of Firefox throw a Security exception\\r\\n        // if cookies are disabled. See\\r\\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\\r\\n    }\\r\\n\\r\\n    // When Safari on OS X or iOS is in private browsing mode,\\r\\n    // calling localStorage.setItem throws an exception.\\r\\n    //\\r\\n    // \\\"QUOTA_EXCEEDED_ERR: DOM Exception 22: An attempt was made\\r\\n    // to add something to storage that exceeded the quota.\\\"\\r\\n    var setItemAllowed = true;\\r\\n    try {\\r\\n        localStorage.setItem('__crosstab', '');\\r\\n        localStorage.removeItem('__crosstab');\\r\\n    } catch (e) {\\r\\n        setItemAllowed = false;\\r\\n    }\\r\\n\\r\\n    // Other reasons\\r\\n    var frozenTabEnvironment = false;\\r\\n\\r\\n    function notSupported() {\\r\\n        if (crosstab.supported) return;\\r\\n        var errorMsg = 'crosstab not supported';\\r\\n        var reasons = [];\\r\\n        if (!localStorage) {\\r\\n            reasons.push('localStorage not availabe');\\r\\n        }\\r\\n        if (!window.addEventListener) {\\r\\n            reasons.push('addEventListener not available');\\r\\n        }\\r\\n        if (isMobile) {\\r\\n            reasons.push('mobile browser');\\r\\n        }\\r\\n        if (frozenTabEnvironment) {\\r\\n            reasons.push('frozen tab environment detected');\\r\\n        }\\r\\n        if (!setItemAllowed) {\\r\\n            reasons.push('localStorage.setItem not allowed');\\r\\n        }\\r\\n\\r\\n        if (reasons.length > 0) {\\r\\n            errorMsg += ': ' + reasons.join(', ');\\r\\n        }\\r\\n\\r\\n        throw new Error(errorMsg);\\r\\n    }\\r\\n\\r\\n    // --- Utility ---\\r\\n    var util = {\\r\\n        keys: {\\r\\n            MESSAGE_KEY: 'crosstab.MESSAGE_KEY',\\r\\n            TABS_KEY: 'crosstab.TABS_KEY',\\r\\n            MASTER_TAB: 'MASTER_TAB',\\r\\n            SUPPORTED_KEY: 'crosstab.SUPPORTED',\\r\\n            FROZEN_TAB_ENVIRONMENT: 'crosstab.FROZEN_TAB_ENVIRONMENT'\\r\\n        }\\r\\n    };\\r\\n\\r\\n    var toString = Object.prototype.toString;\\r\\n\\r\\n    util.isArray = Array.isArray || function (arr) {\\r\\n        return arr instanceof Array;\\r\\n    };\\r\\n\\r\\n    util.isNumber = function (num) {\\r\\n        return typeof num === 'number';\\r\\n    };\\r\\n\\r\\n    util.isFunction = function (fn) {\\r\\n        return typeof fn === 'function';\\r\\n    };\\r\\n\\r\\n    util.forEachObj = function (obj, fn) {\\r\\n        for (var key in obj) {\\r\\n            if (obj.hasOwnProperty(key)) {\\r\\n                fn.call(obj, obj[key], key);\\r\\n            }\\r\\n        }\\r\\n    };\\r\\n\\r\\n    util.forEachArr = function (arr, fn) {\\r\\n        var len = arr.length;\\r\\n        for (var i = 0; i < len; i++) {\\r\\n            fn.call(arr, arr[i], i, arr);\\r\\n        }\\r\\n    };\\r\\n\\r\\n    util.forEach = function (thing, fn) {\\r\\n        if (util.isArray(thing)) {\\r\\n            util.forEachArr(thing, fn);\\r\\n        } else {\\r\\n            util.forEachObj(thing, fn);\\r\\n        }\\r\\n    };\\r\\n\\r\\n    util.map = function (thing, fn) {\\r\\n        var res = [];\\r\\n        util.forEach(thing, function (item) {\\r\\n            res.push(fn(item));\\r\\n        });\\r\\n\\r\\n        return res;\\r\\n    };\\r\\n\\r\\n    util.filter = function (thing, fn) {\\r\\n        var isArr = util.isArray(thing);\\r\\n        var res = isArr ? [] : {};\\r\\n\\r\\n        if (isArr) {\\r\\n            util.forEachArr(thing, function (value, key) {\\r\\n                if (fn(value, key)) {\\r\\n                    res.push(value);\\r\\n                }\\r\\n            });\\r\\n        } else {\\r\\n            util.forEachObj(thing, function (value, key) {\\r\\n                if (fn(value, key)) {\\r\\n                    res[key] = value;\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        return res;\\r\\n    };\\r\\n\\r\\n    util.now = function () {\\r\\n        return (new Date()).getTime();\\r\\n    };\\r\\n\\r\\n    util.tabs = getStoredTabs();\\r\\n\\r\\n    util.eventTypes = {\\r\\n        becomeMaster: 'becomeMaster',\\r\\n        demoteFromMaster: 'demotedFromMaster',\\r\\n        tabUpdated: 'tabUpdated',\\r\\n        tabClosed: 'tabClosed',\\r\\n        tabPromoted: 'tabPromoted'\\r\\n    };\\r\\n\\r\\n    // --- Events ---\\r\\n    // node.js style events, with the main difference being able\\r\\n    // to add/remove events by key.\\r\\n    util.createEventHandler = function () {\\r\\n        var events = {};\\r\\n        var subscribeKeyToListener = {};\\r\\n\\r\\n        var findHandlerByKey = function(event, key) {\\r\\n            var handler;\\r\\n            if (subscribeKeyToListener[event]) {\\r\\n                handler = subscribeKeyToListener[event][key];\\r\\n            }\\r\\n            return handler;\\r\\n        };\\r\\n\\r\\n        var findHandlerIndex = function (event, listener) {\\r\\n            var listenerIndex = -1;\\r\\n            var eventList = events[event];\\r\\n            if (eventList && listener) {\\r\\n                var len = eventList.length || 0;\\r\\n                for(var i = 0; i < len; i++) {\\r\\n                    if (eventList[i] === listener) {\\r\\n                        listenerIndex = i;\\r\\n                        break;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n            return listenerIndex;\\r\\n        };\\r\\n\\r\\n        var addListener = function (event, listener, key) {\\r\\n            var handlers = listeners(event);\\r\\n\\r\\n            var storedHandler = findHandlerByKey(event, key);\\r\\n            var listenerIndex;\\r\\n\\r\\n            if (storedHandler === undefined) {\\r\\n                listenerIndex = handlers.length;\\r\\n                handlers[listenerIndex] = listener;\\r\\n\\r\\n                if (!subscribeKeyToListener[event]) {\\r\\n                    (subscribeKeyToListener[event] = {});\\r\\n                }\\r\\n\\r\\n                if (key) {\\r\\n                    subscribeKeyToListener[event][key] = listener;\\r\\n                }\\r\\n            } else {\\r\\n                listenerIndex = findHandlerIndex(event, storedHandler);\\r\\n                handlers[listenerIndex] = listener;\\r\\n            }\\r\\n\\r\\n            return key || listener;\\r\\n        };\\r\\n\\r\\n        var removeListener = function (event, key) {\\r\\n            var handler = util.isFunction(key)\\r\\n                ? key\\r\\n                : findHandlerByKey(event, key);\\r\\n\\r\\n            var listenerIndex = findHandlerIndex(event, handler);\\r\\n            if (listenerIndex === -1) return false;\\r\\n\\r\\n            if (events[event] && events[event][listenerIndex]) {\\r\\n                events[event].splice(listenerIndex, 1);\\r\\n                delete subscribeKeyToListener[event][key];\\r\\n                return true;\\r\\n            }\\r\\n            return false;\\r\\n        };\\r\\n\\r\\n        var removeAllListeners = function (event) {\\r\\n            var successful = false;\\r\\n            if (event) {\\r\\n                if (events[event]) {\\r\\n                    delete events[event];\\r\\n                    successful = true;\\r\\n                }\\r\\n                if (subscribeKeyToListener[event]) {\\r\\n                    delete subscribeKeyToListener[event];\\r\\n                    successful = successful && true;\\r\\n                }\\r\\n            } else {\\r\\n                events = {};\\r\\n                subscribeKeyToListener = {};\\r\\n                successful = true;\\r\\n            }\\r\\n            return successful;\\r\\n        };\\r\\n\\r\\n        var emit = function (event) {\\r\\n            var args = Array.prototype.slice.call(arguments, 1);\\r\\n            var handlers = listeners(event);\\r\\n\\r\\n            util.forEach(handlers, function (listener) {\\r\\n                if (util.isFunction(listener)) {\\r\\n                    listener.apply(this, args);\\r\\n                }\\r\\n            });\\r\\n        };\\r\\n\\r\\n        var once = function (event, listener, key) {\\r\\n            // Generate a unique id for this listener\\r\\n            while (!key || (findHandlerByKey(event, key) !== undefined)) {\\r\\n                key = util.generateId();\\r\\n            }\\r\\n\\r\\n            addListener(event, function () {\\r\\n                removeListener(event, key);\\r\\n                var args = Array.prototype.slice.call(arguments);\\r\\n                listener.apply(this, args);\\r\\n            }, key);\\r\\n\\r\\n            return key;\\r\\n        };\\r\\n\\r\\n        var listeners = function (event) {\\r\\n            var handlers = events[event] = events[event] || [];\\r\\n            return handlers;\\r\\n        };\\r\\n\\r\\n        var destructor = function() {\\r\\n            removeAllListeners();\\r\\n        };\\r\\n\\r\\n        return {\\r\\n            addListener: addListener,\\r\\n            destructor: destructor,\\r\\n            on: addListener,\\r\\n            off: function(event, key) {\\r\\n                var argsLen = arguments.length;\\r\\n                if (!argsLen) {\\r\\n                    return removeAllListeners();\\r\\n                } else if (argsLen === 1) {\\r\\n                    return removeAllListeners(event);\\r\\n                } else {\\r\\n                    return removeListener(event, key);\\r\\n                }\\r\\n            },\\r\\n            once: once,\\r\\n            emit: emit,\\r\\n            listeners: listeners,\\r\\n            removeListener: removeListener,\\r\\n            removeAllListeners: removeAllListeners\\r\\n        };\\r\\n    };\\r\\n\\r\\n    // --- Setup Events ---\\r\\n    var eventHandler = util.createEventHandler();\\r\\n\\r\\n    // wrap eventHandler so that setting it will not blow up\\r\\n    // any of the internal workings\\r\\n    util.events = {\\r\\n        addListener: eventHandler.addListener,\\r\\n        on: eventHandler.on,\\r\\n        off: eventHandler.off,\\r\\n        once: eventHandler.once,\\r\\n        emit: eventHandler.emit,\\r\\n        listeners: eventHandler.listeners,\\r\\n        removeListener: eventHandler.removeListener,\\r\\n        removeAllListeners: eventHandler.removeAllListeners,\\r\\n        destructor: eventHandler.destructor\\r\\n    };\\r\\n\\r\\n    var lastNewValue;\\r\\n    var lastOldValue;\\r\\n    function onStorageEvent(event) {\\r\\n        var eventValue;\\r\\n        var wasSupported = crosstab.supported;\\r\\n        try {\\r\\n            eventValue = event.newValue ? JSON.parse(event.newValue) : {};\\r\\n        } catch (e) {\\r\\n            eventValue = {};\\r\\n        }\\r\\n        if (!eventValue.id || eventValue.id === crosstab.id) {\\r\\n            // This is to force IE to behave properly\\r\\n            return;\\r\\n        }\\r\\n        if (event.newValue === lastNewValue && event.oldValue === lastOldValue) {\\r\\n            // Fix bug in IE11 where StorageEvents in iframes are sent twice.\\r\\n            return;\\r\\n        }\\r\\n        lastNewValue = event.newValue;\\r\\n        lastOldValue = event.oldValue;\\r\\n        if (event.key === util.keys.MESSAGE_KEY) {\\r\\n            var message = eventValue.data;\\r\\n            // only handle if this message was meant for this tab.\\r\\n            if (!message.destination || message.destination === crosstab.id) {\\r\\n                eventHandler.emit(message.event, message);\\r\\n            }\\r\\n        } else if (event.key === util.keys.FROZEN_TAB_ENVIRONMENT) {\\r\\n            frozenTabEnvironment = eventValue.data;\\r\\n            crosstab.supported = crosstab.supported && !eventValue.data;\\r\\n            //if (wasSupported) notSupported();\\r\\n        } else if (event.key === util.keys.SUPPORTED_KEY) {\\r\\n            crosstab.supported = crosstab.supported && eventValue.data;\\r\\n            //if(wasSupported) notSupported();\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function setLocalStorageItem(key, data) {\\r\\n        var storageItem = {\\r\\n            id: crosstab.id,\\r\\n            data: data,\\r\\n            timestamp: util.now()\\r\\n        };\\r\\n\\r\\n        localStorage.setItem(key, JSON.stringify(storageItem));\\r\\n    }\\r\\n\\r\\n    function getLocalStorageItem(key) {\\r\\n        var item = getLocalStorageRaw(key);\\r\\n        return item.data;\\r\\n    }\\r\\n\\r\\n    function getLocalStorageRaw(key) {\\r\\n        var json = localStorage ? localStorage.getItem(key) : null;\\r\\n        var item = json ? JSON.parse(json) : {};\\r\\n        return item;\\r\\n    }\\r\\n\\r\\n    function unload() {\\r\\n        crosstab.stopKeepalive = true;\\r\\n        var numTabs = 0;\\r\\n        util.forEach(util.tabs, function (tab, key) {\\r\\n            if (key !== util.keys.MASTER_TAB) {\\r\\n                numTabs++;\\r\\n            }\\r\\n        });\\r\\n\\r\\n        if (numTabs === 1) {\\r\\n            util.tabs = {};\\r\\n            setStoredTabs();\\r\\n        } else {\\r\\n            broadcast(util.eventTypes.tabClosed, crosstab.id);\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function restoreLoop() {\\r\\n        crosstab.stopKeepalive = false;\\r\\n        keepaliveLoop();\\r\\n    }\\r\\n\\r\\n    function swapUnloadEvents() {\\r\\n        // `beforeunload` replaced by `unload` (IE11 will be smart now)\\r\\n        window.removeEventListener('beforeunload', unload, false);\\r\\n        window.addEventListener('unload', unload, false);\\r\\n        restoreLoop();\\r\\n    }\\r\\n\\r\\n    function getMaster() {\\r\\n        return util.tabs[util.keys.MASTER_TAB];\\r\\n    }\\r\\n\\r\\n    function setMaster(newMaster) {\\r\\n        util.tabs[util.keys.MASTER_TAB] = newMaster;\\r\\n    }\\r\\n\\r\\n    function deleteMaster() {\\r\\n        delete util.tabs[util.keys.MASTER_TAB];\\r\\n    }\\r\\n\\r\\n    function getMasterId() {\\r\\n        var master = getMaster();\\r\\n\\r\\n        return master ? master.id : 0;\\r\\n    }\\r\\n\\r\\n    function isMaster() {\\r\\n        return getMasterId() === crosstab.id;\\r\\n    }\\r\\n\\r\\n    function masterTabElection() {\\r\\n        var maxId = null;\\r\\n        util.forEach(util.tabs, function (tab) {\\r\\n            if (!maxId || tab.id < maxId) {\\r\\n                maxId = tab.id;\\r\\n            }\\r\\n        });\\r\\n\\r\\n        // only broadcast the promotion if I am the new master\\r\\n        if (maxId === crosstab.id) {\\r\\n            broadcast(util.eventTypes.tabPromoted, crosstab.id);\\r\\n        } else {\\r\\n            // this is done so that in the case where multiple tabs are being\\r\\n            // started at the same time, and there is no current saved tab\\r\\n            // information, we will still have a value set for the master tab\\r\\n            setMaster({\\r\\n                id: maxId,\\r\\n                lastUpdated: util.now()\\r\\n            });\\r\\n        }\\r\\n    }\\r\\n\\r\\n    // Handle other tabs closing by updating internal tab model, and promoting\\r\\n    // self if we are the lowest tab id\\r\\n    eventHandler.addListener(util.eventTypes.tabClosed, function (message) {\\r\\n        var id = message.data;\\r\\n        if (util.tabs[id]) {\\r\\n            delete util.tabs[id];\\r\\n        }\\r\\n\\r\\n        if (!getMaster() || getMaster().id === id) {\\r\\n            // If the master was the closed tab, delete it and the highest\\r\\n            // tab ID becomes the new master, which will save the tabs\\r\\n            if (getMaster()) {\\r\\n                deleteMaster();\\r\\n            }\\r\\n            masterTabElection();\\r\\n        } else if (getMaster().id === crosstab.id) {\\r\\n            // If I am master, save the new tabs out\\r\\n            setStoredTabs();\\r\\n        }\\r\\n    });\\r\\n\\r\\n    eventHandler.addListener(util.eventTypes.tabUpdated, function (message) {\\r\\n        var tab = message.data;\\r\\n        util.tabs[tab.id] = tab;\\r\\n\\r\\n        // If there is no master, hold an election\\r\\n        if (!getMaster()) {\\r\\n            masterTabElection();\\r\\n        }\\r\\n\\r\\n        if (getMasterId() === tab.id) {\\r\\n            setMaster(tab);\\r\\n        }\\r\\n        if (isMaster()) {\\r\\n            // If I am master, save the new tabs out\\r\\n            setStoredTabs();\\r\\n        }\\r\\n    });\\r\\n\\r\\n    eventHandler.addListener(util.eventTypes.tabPromoted, function (message) {\\r\\n        var id = message.data;\\r\\n        var lastUpdated = message.timestamp;\\r\\n        var previousMaster = getMasterId();\\r\\n        setMaster({\\r\\n            id: id,\\r\\n            lastUpdated: lastUpdated\\r\\n        });\\r\\n\\r\\n        if (isMaster()\\r\\n            && previousMaster !== crosstab.id) {\\r\\n            // set the tabs in localStorage\\r\\n            setStoredTabs();\\r\\n\\r\\n            // emit the become master event so we can handle it accordingly\\r\\n            util.events.emit(util.eventTypes.becomeMaster);\\r\\n        } else if (!isMaster()\\r\\n            && previousMaster === crosstab.id) {\\r\\n            // emit the demoted from master event so we can clean up resources\\r\\n            util.events.emit(util.eventTypes.demoteFromMaster);\\r\\n        }\\r\\n    });\\r\\n\\r\\n    function pad(num, width, padChar) {\\r\\n        padChar = padChar || '0';\\r\\n        var numStr = (num.toString());\\r\\n\\r\\n        if (numStr.length >= width) {\\r\\n            return numStr;\\r\\n        }\\r\\n\\r\\n        return new Array(width - numStr.length + 1).join(padChar) + numStr;\\r\\n    }\\r\\n\\r\\n    util.generateId = function () {\\r\\n        /*jshint bitwise: false*/\\r\\n        return util.now().toString() + pad((Math.random() * 0x7FFFFFFF) | 0, 10);\\r\\n    };\\r\\n\\r\\n    // --- Setup message sending and handling ---\\r\\n    function broadcast(event, data, destination) {\\r\\n        if (!crosstab.supported) {\\r\\n            notSupported();\\r\\n        }\\r\\n\\r\\n        var message = {\\r\\n            id: util.generateId(),\\r\\n            event: event,\\r\\n            data: data,\\r\\n            destination: destination,\\r\\n            origin: crosstab.id,\\r\\n            timestamp: util.now()\\r\\n        };\\r\\n\\r\\n        // If the destination differs from the origin send it out, otherwise\\r\\n        // handle it locally\\r\\n        if (message.destination !== message.origin) {\\r\\n            setLocalStorageItem(util.keys.MESSAGE_KEY, message);\\r\\n        }\\r\\n\\r\\n        if (!message.destination || message.destination === message.origin) {\\r\\n            eventHandler.emit(event, message);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function broadcastMaster(event, data) {\\r\\n        broadcast(event, data, getMaster().id);\\r\\n    }\\r\\n\\r\\n    // ---- Return ----\\r\\n    var setupComplete = false;\\r\\n    util.events.once('setupComplete', function () {\\r\\n        setupComplete = true;\\r\\n    });\\r\\n\\r\\n    var crosstab = function (fn) {\\r\\n        if (setupComplete) {\\r\\n            fn();\\r\\n        } else {\\r\\n            util.events.once('setupComplete', fn);\\r\\n        }\\r\\n    };\\r\\n\\r\\n    crosstab.id = util.generateId();\\r\\n    crosstab.supported = !!localStorage && window.addEventListener && !isMobile && setItemAllowed;\\r\\n    crosstab.util = util;\\r\\n    crosstab.broadcast = broadcast;\\r\\n    crosstab.broadcastMaster = broadcastMaster;\\r\\n    crosstab.on = util.events.on;\\r\\n    crosstab.once = util.events.once;\\r\\n    crosstab.off = util.events.off;\\r\\n\\r\\n    // --- Crosstab supported ---\\r\\n    // Check to see if the global frozen tab environment key or supported key has been set.\\r\\n    if (!setupComplete && crosstab.supported) {\\r\\n        var frozenTabsRaw = getLocalStorageRaw(util.keys.FROZEN_TAB_ENVIRONMENT);\\r\\n        var frozenTabs = frozenTabsRaw.data;\\r\\n        if (frozenTabs === true) {\\r\\n            frozenTabEnvironmentDetected();\\r\\n        }\\r\\n\\r\\n        var supportedRaw = getLocalStorageRaw(util.keys.SUPPORTED_KEY);\\r\\n        var supported = supportedRaw.data;\\r\\n        if (supported === false || supported === true) {\\r\\n            // As long as it is explicitely set, use the value\\r\\n            crosstab.supported = supported;\\r\\n            util.events.emit('setupComplete');\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function frozenTabEnvironmentDetected() {\\r\\n        crosstab.supported = false;\\r\\n        frozenTabEnvironment = true;\\r\\n        setLocalStorageItem(util.keys.FROZEN_TAB_ENVIRONMENT, true);\\r\\n        setLocalStorageItem(util.keys.SUPPORTED_KEY, false);\\r\\n    }\\r\\n\\r\\n    // --- Tab Setup ---\\r\\n    // 3 second keepalive\\r\\n    var TAB_KEEPALIVE = 3 * 1000;\\r\\n    // 5 second timeout\\r\\n    var TAB_TIMEOUT = 5 * 1000;\\r\\n    // 500 ms ping timeout\\r\\n    var PING_TIMEOUT = 500;\\r\\n\\r\\n    function getStoredTabs() {\\r\\n        var storedTabs = getLocalStorageItem(util.keys.TABS_KEY);\\r\\n        util.tabs = storedTabs || util.tabs || {};\\r\\n        return util.tabs;\\r\\n    }\\r\\n\\r\\n    function setStoredTabs() {\\r\\n        setLocalStorageItem(util.keys.TABS_KEY, util.tabs);\\r\\n    }\\r\\n\\r\\n    function keepalive() {\\r\\n        var now = util.now();\\r\\n\\r\\n        var myTab = {\\r\\n            id: crosstab.id,\\r\\n            lastUpdated: now\\r\\n        };\\r\\n\\r\\n        // broadcast tabUpdated event\\r\\n        broadcast(util.eventTypes.tabUpdated, myTab);\\r\\n\\r\\n        // broadcast tabClosed event for each tab that timed out\\r\\n        function stillAlive(tab) {\\r\\n            return now - tab.lastUpdated < TAB_TIMEOUT;\\r\\n        }\\r\\n\\r\\n        function notAlive(tab, key) {\\r\\n            return key !== util.keys.MASTER_TAB && !stillAlive(tab);\\r\\n        }\\r\\n\\r\\n        var deadTabs = util.filter(util.tabs, notAlive);\\r\\n        util.forEach(deadTabs, function (tab) {\\r\\n            broadcast(util.eventTypes.tabClosed, tab.id);\\r\\n        });\\r\\n\\r\\n        // check to see if setup is complete\\r\\n        if (!setupComplete) {\\r\\n            var masterTab = crosstab.util.tabs[crosstab.util.keys.MASTER_TAB];\\r\\n            // ping master\\r\\n            if (masterTab && masterTab.id !== myTab.id) {\\r\\n                var timeout;\\r\\n                var start;\\r\\n\\r\\n                crosstab.util.events.once('PONG', function () {\\r\\n                    if (!setupComplete) {\\r\\n                        clearTimeout(timeout);\\r\\n                        // set supported to true / frozen to false\\r\\n                        setLocalStorageItem(\\r\\n                            util.keys.SUPPORTED_KEY,\\r\\n                            true);\\r\\n                        setLocalStorageItem(\\r\\n                            util.keys.FROZEN_TAB_ENVIRONMENT,\\r\\n                            false);\\r\\n                        util.events.emit('setupComplete');\\r\\n                    }\\r\\n                });\\r\\n\\r\\n                start = util.now();\\r\\n\\r\\n                // There is a nested timeout here. We'll give it 100ms\\r\\n                // timeout, with iters \\\"yields\\\" to the event loop. So at least\\r\\n                // iters number of blocks of javascript will be able to run\\r\\n                // covering at least 100ms\\r\\n                var recursiveTimeout = function (iters) {\\r\\n                    var diff = util.now() - start;\\r\\n\\r\\n                    if (!setupComplete) {\\r\\n                        if (iters <= 0 && diff > PING_TIMEOUT) {\\r\\n                            frozenTabEnvironmentDetected();\\r\\n                            util.events.emit('setupComplete');\\r\\n                        } else {\\r\\n                            timeout = setTimeout(function () {\\r\\n                                recursiveTimeout(iters - 1);\\r\\n                            }, 5);\\r\\n                        }\\r\\n                    }\\r\\n                };\\r\\n\\r\\n                var iterations = 5;\\r\\n                timeout = setTimeout(function () {\\r\\n                    recursiveTimeout(5);\\r\\n                }, PING_TIMEOUT - 5 * iterations);\\r\\n                crosstab.broadcastMaster('PING');\\r\\n            } else if (masterTab && masterTab.id === myTab.id) {\\r\\n                util.events.emit('setupComplete');\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function keepaliveLoop() {\\r\\n        if (crosstab.supported && !crosstab.stopKeepalive) {\\r\\n            keepalive();\\r\\n        }\\r\\n    }\\r\\n\\r\\n    // --- Check if crosstab is supported ---\\r\\n    if (!crosstab.supported) {\\r\\n        crosstab.broadcast = notSupported;\\r\\n    } else {\\r\\n        // ---- Setup Storage Listener\\r\\n        window.addEventListener('storage', onStorageEvent, false);\\r\\n        // start with the `beforeunload` event due to IE11\\r\\n        window.addEventListener('beforeunload', unload, false);\\r\\n        // swap `beforeunload` to `unload` after DOM is loaded\\r\\n        window.addEventListener('DOMContentLoaded', swapUnloadEvents, false);\\r\\n\\r\\n        util.events.on('PING', function (message) {\\r\\n            // only handle direct messages\\r\\n            if (!message.destination || message.destination !== crosstab.id) {\\r\\n                return;\\r\\n            }\\r\\n\\r\\n            if (util.now() - message.timestamp < PING_TIMEOUT) {\\r\\n                crosstab.broadcast('PONG', null, message.origin);\\r\\n            }\\r\\n        });\\r\\n\\r\\n        setInterval(keepaliveLoop, TAB_KEEPALIVE);\\r\\n        keepaliveLoop();\\r\\n    }\\r\\n\\r\\n    module.exports = crosstab;\\r\\n\\r\\n/*!\\r\\n * UMD/AMD/Global context Module Loader wrapper\\r\\n * based off https://gist.github.com/wilsonpage/8598603\\r\\n *\\r\\n * This wrapper will try to use a module loader with the\\r\\n * following priority:\\r\\n *\\r\\n *  1.) AMD\\r\\n *  2.) CommonJS\\r\\n *  3.) Context Variable (window in the browser)\\r\\n */\\r\\n});})(typeof define == 'function' && define.amd ? define\\r\\n    : (function (context) {\\r\\n        'use strict';\\r\\n        return typeof module == 'object' ? function (name, factory) {\\r\\n            factory(require, exports, module);\\r\\n        }\\r\\n        : function (name, factory) {\\r\\n            var module = {\\r\\n                exports: {}\\r\\n            };\\r\\n            var require = function (n) {\\r\\n                if (n === 'jquery') {\\r\\n                    n = 'jQuery';\\r\\n                }\\r\\n                return context[n];\\r\\n            };\\r\\n\\r\\n            factory(require, module.exports, module);\\r\\n            context[name] = module.exports;\\r\\n        };\\r\\n    })(this));\\r\\n\"\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\tvar SUGAR = window.SUGAR;\n\t\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t\n\t/**\n\t * SugarCRM namespace.\n\t *\n\t * @ignore\n\t */\n\tvar SUGAR = SUGAR || {};\n\t\n\tSUGAR.App = function () {\n\t    var _app,\n\t        _modules = {};\n\t\n\t    /**\n\t     * Flag indicating an `app.sync` is in progress.\n\t     *\n\t     * @type {boolean}\n\t     * @private\n\t     */\n\t    var _isSyncing = false;\n\t\n\t    /**\n\t     * A list of callback functions to call whenever `sync` is completed.\n\t     *\n\t     * @type {Array}\n\t     * @private\n\t     */\n\t    var _syncCallbacks = [];\n\t\n\t    var _make$ = function _make$(selector) {\n\t        return selector instanceof $ ? selector : $(selector);\n\t    };\n\t\n\t    /**\n\t     * `SUGAR.App` contains the core instance of the app. All related modules\n\t     * can be found within the `SUGAR` namespace.\n\t     *\n\t     * An uninitialized instance will exist on page load but you will need to\n\t     * call {@link App#init} to initialize your instance.\n\t     *\n\t     * By default, the app uses `body` element and `div#content` as root element\n\t     * and content element respectively.\n\t     *\n\t     *     var app = SUGAR.App.init({\n\t     *         el: '#root',\n\t     *         contentEl: '#content'\n\t     *     });\n\t     *\n\t     * If you want to initialize an app without initializing its modules,\n\t     *\n\t     *     var app = SUGAR.App.init({el: '#root', silent: true});\n\t     *\n\t     *\n\t     * @class App\n\t     * @singleton\n\t     * @constructor Constructor class for the main framework app.\n\t     * @param {Object} [opts] Configuration options. See full list of options\n\t     *   in {@link #init}.\n\t     * @return {App} Application instance.\n\t     * @private\n\t     */\n\t    function App(opts) {\n\t        var appId = _.uniqueId('SugarApp_');\n\t        opts = opts || {};\n\t\n\t        return _.extend({\n\t            /**\n\t             * Unique application ID.\n\t             *\n\t             * @property {string}\n\t             */\n\t            appId: appId,\n\t\n\t            /**\n\t             * Base element to use as the root of the app.\n\t             *\n\t             * @property {jQuery}\n\t             */\n\t            $rootEl: _make$(opts.el || 'body'),\n\t\n\t            /**\n\t             * Content element selector.\n\t             *\n\t             * The {@link Core.Controller application controller} loads layouts\n\t             * into the content element.\n\t             *\n\t             * @property {jQuery}\n\t             */\n\t            $contentEl: _make$(opts.contentEl || '#content'),\n\t\n\t            /**\n\t             * Additional components.\n\t             *\n\t             * These components are created and rendered only once, when the\n\t             * application starts.\n\t             *\n\t             * Application specific code is needed for managing the components\n\t             * after they have been put into DOM by the framework.\n\t             */\n\t            additionalComponents: {}\n\t\n\t        }, this, Backbone.Events);\n\t    }\n\t\n\t    return {\n\t        /**\n\t         * Initializes the app.\n\t         *\n\t         * - Triggers {@link #event-app:init} if `opts.silent` is not `false`.\n\t         * - {@link #event-app:sync:error} is fired if the public metadata could\n\t         * not be synced.\n\t         *\n\t         * @param {Object} [opts] Initialization options.\n\t         * @param {string} [opts.el='body'] The selector for the\n\t         *   {@link #$rootEl base element} to use as the root of the app.\n\t         * @param {string} [opts.contentEl='#content'] The selector for the\n\t         *   {@link #$contentEl content element}.\n\t         * @param {boolean} [opts.silent=false] Flag to indicate if modules\n\t         *   should be initialized during application init process.\n\t         * @param {Function} [opts.defaultErrorHandler] Allows you to define a\n\t         *   custom error handler. Defaults to\n\t         *   {@link Core.Error#handleHttpError}.\n\t         *\n\t         * @return {App} Application instance\n\t         * @method\n\t         */\n\t        init: function init(opts) {\n\t            _app = _app || _.extend(this, new App(opts));\n\t            _.extend(_app, _app.beforeEvent);\n\t\n\t            // Register app specific events\n\t            _app.events.register(\n\t            /**\n\t             * Fires when the app object is initialized. Modules bound to\n\t             * this event will initialize.\n\t             *\n\t             * @event\n\t             */\n\t            'app:init', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when the application has\n\t             * finished loading its dependencies and should initialize\n\t             * everything.\n\t             *\n\t             *     obj.on('app:start', callback);\n\t             *\n\t             * @event\n\t             */\n\t            'app:start', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when the app is beginning to sync data / metadata from\n\t             * the server.\n\t             *\n\t             * @event\n\t             */\n\t            'app:sync', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when the app has finished its syncing process and is\n\t             * ready to proceed.\n\t             *\n\t             * @event\n\t             */\n\t            'app:sync:complete', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when a sync process failed.\n\t             *\n\t             * @event\n\t             */\n\t            'app:sync:error', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when a sync process failed during initialization of\n\t             * the app.\n\t             *\n\t             * @event\n\t             */\n\t            'app:sync:public:error', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * @event\n\t             * Fires when logging in.\n\t             */\n\t            'app:login', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * @event\n\t             * Fires when login succeeds.\n\t             */\n\t            'app:login:success', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * @event\n\t             * Fires when the app logs out.\n\t             */\n\t            'app:logout', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when route changes a new view has been loaded.\n\t             *\n\t             *     obj.on('app:view:change', callback);\n\t             *\n\t             * @event\n\t             */\n\t            'app:view:change', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when client application's user changes the locale, thus\n\t             * indicating that the application should \"re-render\" itself.\n\t             *\n\t             *     obj.on('app:local:change', callback);\n\t             *\n\t             * @event\n\t             */\n\t            'app:locale:change', this);\n\t\n\t            _app.events.register(\n\t            /**\n\t             * Fires when the language display direction changes.\n\t             *\n\t             * Possible language display directions are `RTL` and `LTR`.\n\t             *\n\t             *\n\t             *     obj.on('lang:direction:change', callback);\n\t             *\n\t             * @event\n\t             */\n\t            'lang:direction:change', this);\n\t\n\t            // App cache must be inited first\n\t            if (_app.cache) {\n\t                _app.cache.init(this);\n\t            }\n\t\n\t            // Instantiate controller: <Capitalized-appId>Controller or Controller.\n\t            var className = _app.utils.capitalize(_app.config ? _app.config.appId : '') + 'Controller';\n\t            var Klass = this[className] || this.Controller;\n\t\n\t            /**\n\t             * Reference to the main controller.\n\t             *\n\t             * @property {Core.Controller}\n\t             */\n\t            this.controller = new Klass();\n\t\n\t            /**\n\t             * Reference to the API interface that the application uses to\n\t             * request the server.\n\t             *\n\t             * @property {SUGAR.Api}\n\t             */\n\t            _app.api = SUGAR.Api.getInstance({\n\t                defaultErrorHandler: opts && opts.defaultErrorHandler ? opts.defaultErrorHandler : SUGAR.App.error.handleHttpError,\n\t                serverUrl: _app.config.serverUrl,\n\t                platform: _app.config.platform,\n\t                timeout: _app.config.serverTimeout,\n\t                keyValueStore: _app[_app.config.authStore || 'cache'],\n\t                clientID: _app.config.clientID,\n\t                disableBulkApi: _app.config.disableBulkApi,\n\t                externalLoginUICallback: opts && opts.externalLoginUICallback\n\t            });\n\t\n\t            this._init(opts);\n\t\n\t            return _app;\n\t        },\n\t\n\t        /**\n\t         * Initializes application.\n\t         *\n\t         * Performs loading css (only if `config.loadCss` is `true`), metadata\n\t         * sync and calls sync callback.\n\t         *\n\t         * @param {Object} opts Options.\n\t         * @param {boolean} [opts.silent=false] Flag to indicate if modules\n\t         *   should be initialized during application init process.\n\t         * @private\n\t         * @chainable\n\t         */\n\t        _init: function _init(opts) {\n\t            var self = this;\n\t            var syncCallback = function syncCallback(error) {\n\t\n\t                // _app will be nulled out if destroy was called on app before we\n\t                // asynchronously get here. This happens when running tests (see spec-helper).\n\t                if (!_app) {\n\t                    return;\n\t                }\n\t                if (error) {\n\t                    self.trigger('app:sync:public:error', error);\n\t                    return;\n\t                }\n\t                self._initModules();\n\t                self._loadConfig();\n\t                if (!opts.silent) {\n\t                    _app.trigger('app:init', self);\n\t                }\n\t                if (opts.callback && _.isFunction(opts.callback)) {\n\t                    opts.callback(_app);\n\t                }\n\t            };\n\t            var cssCallback = function cssCallback(callback) {\n\t                if (_app.config.loadCss) {\n\t                    _app.loadCss(callback);\n\t                } else {\n\t                    callback();\n\t                }\n\t            };\n\t            if (_app.config.syncConfig !== false) {\n\t                var options = {\n\t                    getPublic: true\n\t                };\n\t                cssCallback(function () {\n\t                    _app.metadata.sync(syncCallback, options);\n\t                });\n\t            } else {\n\t                cssCallback(function () {\n\t                    syncCallback();\n\t                });\n\t            }\n\t            return _app;\n\t        },\n\t\n\t        /**\n\t         * Initializes all modules that have an `init` function.\n\t         *\n\t         * @private\n\t         */\n\t        _initModules: function _initModules() {\n\t            _.each(_modules, function (module) {\n\t                if (_.isFunction(module.init)) {\n\t                    module.init(this);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Extends base settings with settings from the server.\n\t         *\n\t         * @private\n\t         */\n\t        _loadConfig: function _loadConfig() {\n\t            // extend our config with settings from local storage if we have it\n\t            _app.config = _app.config || {};\n\t            _app.config = _.extend(_app.config, _app.metadata.getConfig());\n\t        },\n\t\n\t        /**\n\t         * Loads application CSS.\n\t         *\n\t         * Will make an HTTP request and retrieve either a list of CSS files to\n\t         * load, or directly plain text css.\n\t         *\n\t         * @param {Function} [callback] Function called once CSS is loaded.\n\t         */\n\t        loadCss: function loadCss(callback) {\n\t\n\t            _app.api.css(_app.config.platform, _app.config.themeName, {\n\t                success: function success(rsp) {\n\t\n\t                    if (_app.config.loadCss === 'url') {\n\t                        _.each(rsp.url, function (url) {\n\t                            $('<link>').attr({\n\t                                rel: 'stylesheet',\n\t                                href: _app.utils.buildUrl(url)\n\t                            }).appendTo('head');\n\t                        });\n\t                    } else {\n\t                        _.each(rsp.text, function (text) {\n\t                            $('<style>').html(text).appendTo('head');\n\t                        });\n\t                    }\n\t\n\t                    if (_.isFunction(callback)) {\n\t                        callback();\n\t                    }\n\t                }\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Starts the main execution phase of the application.\n\t         *\n\t         * Triggers {@link #event-app:start}.\n\t         *\n\t         * @method\n\t         */\n\t        start: function start() {\n\t            _app.events.registerAjaxEvents();\n\t            _app.trigger('app:start', this);\n\t            _app.routing.start();\n\t        },\n\t\n\t        /**\n\t         * Destroys the instance of the current app.\n\t         */\n\t        destroy: function destroy() {\n\t            // TODO: Not properly implemented\n\t            if (Backbone.history) {\n\t                Backbone.history.stop();\n\t            }\n\t\n\t            _app = null;\n\t        },\n\t\n\t        /**\n\t         * Augments the application with a module.\n\t         *\n\t         * Module should be an object with an optional `init(app)` function.\n\t         * The init function is passed the current instance of\n\t         * the application when app's {@link App#init} method gets called.\n\t         * Use the `init` function to perform custom initialization logic during\n\t         * app initialization.\n\t         *\n\t         * @param {string} name Name of the module.\n\t         * @param {Object} obj Module to augment the app with.\n\t         * @param {boolean} [init=false] Flag indicating if the module should be\n\t         *   initialized immediately.\n\t         */\n\t        augment: function augment(name, obj, init) {\n\t            this[name] = obj;\n\t            _modules[name] = obj;\n\t\n\t            if (init && obj.init && _.isFunction(obj.init)) {\n\t                obj.init.call(obj, _app);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Syncs an app.\n\t         *\n\t         * - {@link #event-app:sync} event is fired when the sync process\n\t         * begins.\n\t         * - {@link #event-app:sync:complete} event is fired when the series of\n\t         * sync operations have finished.\n\t         * - {@link #event-app:sync:error} is fired if it failed.\n\t         *\n\t         * The events are not fired if the sync happens for public metadata.\n\t         *\n\t         * @param {Object} [options] Options. See full list of options\n\t         *   you can pass to {@link Core.MetadataManager#sync}.\n\t         * @param {Function} [options.callback] Function to be invoked when the\n\t         *   sync operation completes.\n\t         * @param {boolean} [options.getPublic=false] Flag indicating if only\n\t         *   public metadata should be synced.\n\t         * @method\n\t         */\n\t        sync: function sync(options) {\n\t            var self = this;\n\t            options = options || {};\n\t\n\t            // For public call, we need to do just metadata sync without triggering events\n\t            if (options.getPublic) {\n\t                return self.syncPublic(options);\n\t            }\n\t\n\t            // Register the callback if any.\n\t            if (options.callback) {\n\t                _syncCallbacks.push(options.callback);\n\t            }\n\t\n\t            // If already in `sync`, we can skip as the callback is registered\n\t            // and will be called.\n\t            if (_isSyncing) {\n\t                return;\n\t            }\n\t            _isSyncing = true;\n\t\n\t            // 1. Update server info and run compatibility check\n\t            // 2. Update preferred language if it was changed\n\t            // 3. Load user preferences\n\t            // 4. Fetch metadata\n\t            // 5. Declare models\n\t            async.waterfall([function (callback) {\n\t                self.isSynced = false;\n\t                self.trigger('app:sync');\n\t                var doUpdateLanguage = !options.noUserUpdate && (options.language || _app.cache.get('langHasChanged'));\n\t                if (doUpdateLanguage) {\n\t                    var language = options.language || _app.lang.getLanguage();\n\t                    self.user.updateLanguage(language, callback);\n\t                    _app.cache.cut('langHasChanged');\n\t                } else {\n\t                    callback();\n\t                }\n\t            }, function (cbw) {\n\t                async.parallel([function (callback) {\n\t                    self.user.load(callback);\n\t                }, function (callback) {\n\t                    self.metadata.sync(function (err) {\n\t                        self.data.declareModels();\n\t                        callback(err);\n\t                    }, options);\n\t                }], function (err) {\n\t                    cbw(err);\n\t                });\n\t            }, function (callback) {\n\t                var serverInfo = self.metadata.getServerInfo();\n\t                self.config.sugarLogic = self.config.sugarLogic || {};\n\t\n\t                if (serverInfo && self.config.sugarLogic.enabled && self.utils.versionCompare(serverInfo.version, self.config.sugarLogic.minServerVersion, \">=\")) {\n\t                    self.fetchSugarLogic(callback);\n\t                } else {\n\t                    self.config.sugarLogic.enabled = false;\n\t                    callback();\n\t                }\n\t            }], function (err) {\n\t                if (err) {\n\t                    self.trigger('app:sync:error', err);\n\t                } else {\n\t                    self.isSynced = true;\n\t                    self.trigger('app:sync:complete');\n\t                }\n\t\n\t                _.each(_syncCallbacks, function (callback) {\n\t                    callback(err);\n\t                });\n\t                // Reset the properties.\n\t                _isSyncing = false;\n\t                _syncCallbacks = [];\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Syncs public metadata.\n\t         *\n\t         * @param {Object} [options] Options. See full list of options\n\t         *   you can pass to {@link Core.MetadataManager#sync}.\n\t         * @param {Function} [options.callback] Function to be invoked when the\n\t         *   sync operation completes.\n\t         */\n\t        syncPublic: function syncPublic(options) {\n\t            options = options || {};\n\t            options.getPublic = true;\n\t            this.metadata.sync(options.callback, options);\n\t        },\n\t\n\t        /**\n\t         * Navigates to a new route.\n\t         *\n\t         * @param {Core.Context} [context] Context object to extract the module\n\t         *   from.\n\t         * @param {Data.Bean} [model] Model object to route with.\n\t         * @param {string} [action] Action name.\n\t         */\n\t        navigate: function navigate(context, model, action) {\n\t            var route, id, module;\n\t            context = context || _app.controller.context;\n\t            model = model || context.get('model');\n\t            id = model.id;\n\t            module = context.get('module') || model.module;\n\t\n\t            route = this.router.buildRoute(module, id, action);\n\t            this.router.navigate(route, { trigger: true });\n\t        },\n\t\n\t        /**\n\t         * Logs in this app.\n\t         *\n\t         * Triggers {@link #event-app:login:success}.\n\t         *\n\t         * @param {Object} credentials User credentials.\n\t         * @param {Object} credentials.username User name.\n\t         * @param {Object} credentials.password User password.\n\t         * @param {Object} [info] Extra data to be passed in login request such\n\t         *   as client user agent, etc.\n\t         * @param {Object} [callbacks] Object containing the callbacks.\n\t         * @param {Function} [callbacks.success] The success callback.\n\t         * @param {Function} [callbacks.error] The error callback.\n\t         * @param {Function} [callbacks.complete] The complete callback.\n\t         */\n\t        login: function login(credentials, info, callbacks) {\n\t            callbacks = callbacks || {};\n\t\n\t            info = info || {};\n\t            info.current_language = _app.lang.getLanguage();\n\t            _app.api.login(credentials, info, {\n\t                success: function success(data) {\n\t                    _app.trigger('app:login:success', data, credentials.username);\n\t                    if (callbacks.success) callbacks.success(data);\n\t                },\n\t                error: function error(_error) {\n\t                    _app.error.handleHttpError(_error);\n\t                    if (callbacks.error) callbacks.error(_error);\n\t                },\n\t                complete: callbacks.complete\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Logs out this app.\n\t         *\n\t         * Triggers {@link #event-app:logout}.\n\t         *\n\t         * @param {Object} [callbacks] Object containing the callbacks.\n\t         * @param {Function} [callbacks.success] The success callback.\n\t         * @param {Function} [callbacks.error] The error callback.\n\t         * @param {Function} [callbacks.complete] The complete callback.\n\t         * @param {Boolean} [clear=false] Flag indicating if user information\n\t         *   must be deleted from cache.\n\t         * @return {SUGAR.HttpRequest} XHR request object.\n\t         */\n\t        logout: function logout(callbacks, clear, options) {\n\t            var originalComplete, originalError;\n\t            callbacks = callbacks || {};\n\t            originalComplete = callbacks.complete;\n\t            originalError = callbacks.error;\n\t\n\t            callbacks.complete = function (data) {\n\t                // The 'clear' comes from the logout URL (see router.js)\n\t                _app.trigger('app:logout', clear);\n\t                if (originalComplete) {\n\t                    originalComplete(data);\n\t                }\n\t            };\n\t            callbacks.error = function (error) {\n\t                _app.error.handleHttpError(error);\n\t                if (originalError) originalError(error);\n\t            };\n\t\n\t            return _app.api.logout(callbacks, options);\n\t        },\n\t\n\t        fetchSugarLogic: function fetchSugarLogic(callback) {\n\t            if (_app.config.sugarLogic.isDynamic) {\n\t                _app.api.call('read', _app.api.buildURL('ExpressionEngine', 'functions'), null, {\n\t                    success: function success(expressions) {\n\t                        _app.cacheSugarLogicExpressions(expressions);\n\t                        _app.loadSugarLogic(expressions, callback);\n\t                    },\n\t                    error: function error(err) {\n\t                        // TODO: Consider turning off SL altogether\n\t                        callback(err);\n\t                    }\n\t                }, { dataType: 'application/text' });\n\t            } else callback();\n\t        },\n\t\n\t        cacheSugarLogicExpressions: function cacheSugarLogicExpressions(expressions) {\n\t            _app.cache.set(\"sugarlogic\", expressions);\n\t        },\n\t\n\t        _loadSugarLogic: function _loadSugarLogic() {\n\t            return _app.cache.get(\"sugarlogic\");\n\t        },\n\t\n\t        loadSugarLogic: function loadSugarLogic(expressions, callback) {\n\t            return _app.compileJs(expressions || _app._loadSugarLogic(), callback);\n\t        },\n\t\n\t        compileJs: function compileJs(js, callback) {\n\t            try {\n\t                eval.call(window, js); // jshint ignore:line\n\t                if (callback) callback();\n\t            } catch (e) {\n\t                _app.logger.fatal(\"Failed to compile js\");\n\t                // TODO: Consider turning off SL altogether\n\t                if (callback) callback(e);\n\t                return e;\n\t            }\n\t\n\t            return null;\n\t        },\n\t\n\t        /**\n\t         * Checks if the server version and flavor are compatible.\n\t         * @param {Object} data Server information.\n\t         * @return {Boolean|Object} `true` if server is compatible and an error object if not.\n\t         */\n\t        isServerCompatible: function isServerCompatible(data) {\n\t            var flavors = this.config.supportedServerFlavors,\n\t                minVersion = this.config.minServerVersion,\n\t                isSupportedFlavor,\n\t                isSupportedVersion,\n\t                error;\n\t\n\t            // We assume the app is not interested in the compatibility check if it doesn't have compatibility config.\n\t            if (_.isEmpty(flavors) && !minVersion) {\n\t                return true;\n\t            }\n\t\n\t            // Undefined or null data with defined compatibility config means the server is incompatible\n\t\n\t            isSupportedFlavor = !!(_.isEmpty(flavors) || data && _.contains(flavors, data.flavor));\n\t            isSupportedVersion = !!(!minVersion || data && this.utils.versionCompare(data.version, minVersion, '>='));\n\t\n\t            if (isSupportedFlavor && isSupportedVersion) {\n\t                return true;\n\t            } else if (!isSupportedVersion) {\n\t                error = {\n\t                    code: 'server_version_incompatible',\n\t                    label: 'ERR_SERVER_VERSION_INCOMPATIBLE'\n\t                };\n\t            } else {\n\t                error = {\n\t                    code: 'server_flavor_incompatible',\n\t                    label: 'ERR_SERVER_FLAVOR_INCOMPATIBLE'\n\t                };\n\t            }\n\t\n\t            error.server_info = data;\n\t            return error;\n\t        },\n\t\n\t        modules: _modules\n\t    };\n\t}();\n\t\n\t/*** EXPORTS FROM exports-loader ***/\n\tmodule.exports = SUGAR;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(7))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */\\n!function(a,b){\\\"object\\\"==typeof module&&\\\"object\\\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\\\"jQuery requires a window with a document\\\");return b(a)}:b(a)}(\\\"undefined\\\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=\\\"1.11.3\\\",m=function(a,b){return new m.fn.init(a,b)},n=/^[\\\\s\\\\uFEFF\\\\xA0]+|[\\\\s\\\\uFEFF\\\\xA0]+$/g,o=/^-ms-/,p=/-([\\\\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:\\\"\\\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\\\"boolean\\\"==typeof g&&(j=g,g=arguments[h]||{},h++),\\\"object\\\"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:\\\"jQuery\\\"+(l+Math.random()).replace(/\\\\D/g,\\\"\\\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\\\"function\\\"===m.type(a)},isArray:Array.isArray||function(a){return\\\"array\\\"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\\\"object\\\"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\\\"constructor\\\")&&!j.call(a.constructor.prototype,\\\"isPrototypeOf\\\"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\\\"\\\":\\\"object\\\"==typeof a||\\\"function\\\"==typeof a?h[i.call(a)]||\\\"object\\\":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,\\\"ms-\\\").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\\\"\\\":(a+\\\"\\\").replace(n,\\\"\\\")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,\\\"string\\\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\\\"string\\\"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each(\\\"Boolean Number String Function Array Date RegExp Object Error\\\".split(\\\" \\\"),function(a,b){h[\\\"[object \\\"+b+\\\"]\\\"]=b.toLowerCase()});function r(a){var b=\\\"length\\\"in a&&a.length,c=m.type(a);return\\\"function\\\"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:\\\"array\\\"===c||0===b||\\\"number\\\"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\\\"sizzle\\\"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\\\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\\\",L=\\\"[\\\\\\\\x20\\\\\\\\t\\\\\\\\r\\\\\\\\n\\\\\\\\f]\\\",M=\\\"(?:\\\\\\\\\\\\\\\\.|[\\\\\\\\w-]|[^\\\\\\\\x00-\\\\\\\\xa0])+\\\",N=M.replace(\\\"w\\\",\\\"w#\\\"),O=\\\"\\\\\\\\[\\\"+L+\\\"*(\\\"+M+\\\")(?:\\\"+L+\\\"*([*^$|!~]?=)\\\"+L+\\\"*(?:'((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\\\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\\\\\"])*)\\\\\\\"|(\\\"+N+\\\"))|)\\\"+L+\\\"*\\\\\\\\]\\\",P=\\\":(\\\"+M+\\\")(?:\\\\\\\\((('((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\\\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\\\\\"])*)\\\\\\\")|((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\()[\\\\\\\\]]|\\\"+O+\\\")*)|.*)\\\\\\\\)|)\\\",Q=new RegExp(L+\\\"+\\\",\\\"g\\\"),R=new RegExp(\\\"^\\\"+L+\\\"+|((?:^|[^\\\\\\\\\\\\\\\\])(?:\\\\\\\\\\\\\\\\.)*)\\\"+L+\\\"+$\\\",\\\"g\\\"),S=new RegExp(\\\"^\\\"+L+\\\"*,\\\"+L+\\\"*\\\"),T=new RegExp(\\\"^\\\"+L+\\\"*([>+~]|\\\"+L+\\\")\\\"+L+\\\"*\\\"),U=new RegExp(\\\"=\\\"+L+\\\"*([^\\\\\\\\]'\\\\\\\"]*?)\\\"+L+\\\"*\\\\\\\\]\\\",\\\"g\\\"),V=new RegExp(P),W=new RegExp(\\\"^\\\"+N+\\\"$\\\"),X={ID:new RegExp(\\\"^#(\\\"+M+\\\")\\\"),CLASS:new RegExp(\\\"^\\\\\\\\.(\\\"+M+\\\")\\\"),TAG:new RegExp(\\\"^(\\\"+M.replace(\\\"w\\\",\\\"w*\\\")+\\\")\\\"),ATTR:new RegExp(\\\"^\\\"+O),PSEUDO:new RegExp(\\\"^\\\"+P),CHILD:new RegExp(\\\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\\\\\(\\\"+L+\\\"*(even|odd|(([+-]|)(\\\\\\\\d*)n|)\\\"+L+\\\"*(?:([+-]|)\\\"+L+\\\"*(\\\\\\\\d+)|))\\\"+L+\\\"*\\\\\\\\)|)\\\",\\\"i\\\"),bool:new RegExp(\\\"^(?:\\\"+K+\\\")$\\\",\\\"i\\\"),needsContext:new RegExp(\\\"^\\\"+L+\\\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\\\\\(\\\"+L+\\\"*((?:-\\\\\\\\d)?\\\\\\\\d*)\\\"+L+\\\"*\\\\\\\\)|)(?=[^-]|$)\\\",\\\"i\\\")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\\\d$/i,$=/^[^{]+\\\\{\\\\s*\\\\[native \\\\w/,_=/^(?:#([\\\\w-]+)|(\\\\w+)|\\\\.([\\\\w-]+))$/,aa=/[+~]/,ba=/'|\\\\\\\\/g,ca=new RegExp(\\\"\\\\\\\\\\\\\\\\([\\\\\\\\da-f]{1,6}\\\"+L+\\\"?|(\\\"+L+\\\")|.)\\\",\\\"ig\\\"),da=function(a,b,c){var d=\\\"0x\\\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,\\\"string\\\"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&\\\"object\\\"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(\\\"id\\\"))?s=r.replace(ba,\\\"\\\\\\\\$&\\\"):b.setAttribute(\\\"id\\\",s),s=\\\"[id='\\\"+s+\\\"'] \\\",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(\\\",\\\")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(\\\"id\\\")}}}return i(a.replace(R,\\\"$1\\\"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+\\\" \\\")>d.cacheLength&&delete b[a.shift()],b[c+\\\" \\\"]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement(\\\"div\\\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split(\\\"|\\\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return\\\"input\\\"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return(\\\"input\\\"===c||\\\"button\\\"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&\\\"undefined\\\"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\\\"HTML\\\"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener(\\\"unload\\\",ea,!1):e.attachEvent&&e.attachEvent(\\\"onunload\\\",ea)),p=!f(g),c.attributes=ja(function(a){return a.className=\\\"i\\\",!a.getAttribute(\\\"className\\\")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment(\\\"\\\")),!a.getElementsByTagName(\\\"*\\\").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\\\"undefined\\\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute(\\\"id\\\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c=\\\"undefined\\\"!=typeof a.getAttributeNode&&a.getAttributeNode(\\\"id\\\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\\\"undefined\\\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\\\"*\\\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML=\\\"<a id='\\\"+u+\\\"'></a><select id='\\\"+u+\\\"-\\\\f]' msallowcapture=''><option selected=''></option></select>\\\",a.querySelectorAll(\\\"[msallowcapture^='']\\\").length&&q.push(\\\"[*^$]=\\\"+L+\\\"*(?:''|\\\\\\\"\\\\\\\")\\\"),a.querySelectorAll(\\\"[selected]\\\").length||q.push(\\\"\\\\\\\\[\\\"+L+\\\"*(?:value|\\\"+K+\\\")\\\"),a.querySelectorAll(\\\"[id~=\\\"+u+\\\"-]\\\").length||q.push(\\\"~=\\\"),a.querySelectorAll(\\\":checked\\\").length||q.push(\\\":checked\\\"),a.querySelectorAll(\\\"a#\\\"+u+\\\"+*\\\").length||q.push(\\\".#.+[+~]\\\")}),ja(function(a){var b=g.createElement(\\\"input\\\");b.setAttribute(\\\"type\\\",\\\"hidden\\\"),a.appendChild(b).setAttribute(\\\"name\\\",\\\"D\\\"),a.querySelectorAll(\\\"[name=d]\\\").length&&q.push(\\\"name\\\"+L+\\\"*[*^$|!~]?=\\\"),a.querySelectorAll(\\\":enabled\\\").length||q.push(\\\":enabled\\\",\\\":disabled\\\"),a.querySelectorAll(\\\"*,:x\\\"),q.push(\\\",.*:\\\")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,\\\"div\\\"),s.call(a,\\\"[s!='']:x\\\"),r.push(\\\"!=\\\",P)}),q=q.length&&new RegExp(q.join(\\\"|\\\")),r=r.length&&new RegExp(r.join(\\\"|\\\")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,\\\"='$1']\\\"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error(\\\"Syntax error, unrecognized expression: \\\"+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c=\\\"\\\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\\\"string\\\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{\\\">\\\":{dir:\\\"parentNode\\\",first:!0},\\\" \\\":{dir:\\\"parentNode\\\"},\\\"+\\\":{dir:\\\"previousSibling\\\",first:!0},\\\"~\\\":{dir:\\\"previousSibling\\\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||\\\"\\\").replace(ca,da),\\\"~=\\\"===a[2]&&(a[3]=\\\" \\\"+a[3]+\\\" \\\"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\\\"nth\\\"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\\\"even\\\"===a[3]||\\\"odd\\\"===a[3])),a[5]=+(a[7]+a[8]||\\\"odd\\\"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\\\"\\\":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\\\")\\\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return\\\"*\\\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\\\" \\\"];return b||(b=new RegExp(\\\"(^|\\\"+L+\\\")\\\"+a+\\\"(\\\"+L+\\\"|$)\\\"))&&y(a,function(a){return b.test(\\\"string\\\"==typeof a.className&&a.className||\\\"undefined\\\"!=typeof a.getAttribute&&a.getAttribute(\\\"class\\\")||\\\"\\\")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?\\\"!=\\\"===b:b?(e+=\\\"\\\",\\\"=\\\"===b?e===c:\\\"!=\\\"===b?e!==c:\\\"^=\\\"===b?c&&0===e.indexOf(c):\\\"*=\\\"===b?c&&e.indexOf(c)>-1:\\\"$=\\\"===b?c&&e.slice(-c.length)===c:\\\"~=\\\"===b?(\\\" \\\"+e.replace(Q,\\\" \\\")+\\\" \\\").indexOf(c)>-1:\\\"|=\\\"===b?e===c||e.slice(0,c.length+1)===c+\\\"-\\\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\\\"nth\\\"!==a.slice(0,3),g=\\\"last\\\"!==a.slice(-4),h=\\\"of-type\\\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\\\"nextSibling\\\":\\\"previousSibling\\\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\\\"only\\\"===a&&!o&&\\\"nextSibling\\\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error(\\\"unsupported pseudo: \\\"+a);return e[u]?e(b):e.length>1?(c=[a,a,\\\"\\\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,\\\"$1\\\"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||\\\"\\\")||ga.error(\\\"unsupported lang: \\\"+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\\\"xml:lang\\\")||b.getAttribute(\\\"lang\\\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\\\"-\\\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\\\"input\\\"===b&&!!a.checked||\\\"option\\\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\\\"input\\\"===b&&\\\"button\\\"===a.type||\\\"button\\\"===b},text:function(a){var b;return\\\"input\\\"===a.nodeName.toLowerCase()&&\\\"text\\\"===a.type&&(null==(b=a.getAttribute(\\\"type\\\"))||\\\"text\\\"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\\\" \\\"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R,\\\" \\\")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d=\\\"\\\";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&\\\"parentNode\\\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||\\\"*\\\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\\\" \\\"],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:\\\" \\\"===a[i-2].type?\\\"*\\\":\\\"\\\"})).replace(R,\\\"$1\\\"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q=\\\"0\\\",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG(\\\"*\\\",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+\\\" \\\"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n=\\\"function\\\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\\\"ID\\\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split(\\\"\\\").sort(B).join(\\\"\\\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement(\\\"div\\\"))}),ja(function(a){return a.innerHTML=\\\"<a href='#'></a>\\\",\\\"#\\\"===a.firstChild.getAttribute(\\\"href\\\")})||ka(\\\"type|href|height|width\\\",function(a,b,c){return c?void 0:a.getAttribute(b,\\\"type\\\"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML=\\\"<input/>\\\",a.firstChild.setAttribute(\\\"value\\\",\\\"\\\"),\\\"\\\"===a.firstChild.getAttribute(\\\"value\\\")})||ka(\\\"value\\\",function(a,b,c){return c||\\\"input\\\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute(\\\"disabled\\\")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[\\\":\\\"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\\\\w+)\\\\s*\\\\/?>(?:<\\\\/\\\\1>|)$/,v=/^.[^:#\\\\[\\\\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if(\\\"string\\\"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=\\\":not(\\\"+a+\\\")\\\"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(\\\"string\\\"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+\\\" \\\"+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,\\\"string\\\"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\\\\s*(<[\\\\w\\\\W]+>)[^>]*|#([\\\\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if(\\\"string\\\"==typeof a){if(c=\\\"<\\\"===a.charAt(0)&&\\\">\\\"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?\\\"undefined\\\"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||\\\"string\\\"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?\\\"string\\\"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,\\\"parentNode\\\")},parentsUntil:function(a,b,c){return m.dir(a,\\\"parentNode\\\",c)},next:function(a){return D(a,\\\"nextSibling\\\")},prev:function(a){return D(a,\\\"previousSibling\\\")},nextAll:function(a){return m.dir(a,\\\"nextSibling\\\")},prevAll:function(a){return m.dir(a,\\\"previousSibling\\\")},nextUntil:function(a,b,c){return m.dir(a,\\\"nextSibling\\\",c)},prevUntil:function(a,b,c){return m.dir(a,\\\"previousSibling\\\",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,\\\"iframe\\\")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return\\\"Until\\\"!==a.slice(-5)&&(d=c),d&&\\\"string\\\"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\\\\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a=\\\"string\\\"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);\\\"function\\\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\\\"string\\\"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[[\\\"resolve\\\",\\\"done\\\",m.Callbacks(\\\"once memory\\\"),\\\"resolved\\\"],[\\\"reject\\\",\\\"fail\\\",m.Callbacks(\\\"once memory\\\"),\\\"rejected\\\"],[\\\"notify\\\",\\\"progress\\\",m.Callbacks(\\\"memory\\\")]],c=\\\"pending\\\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\\\"With\\\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\\\"With\\\"](this===e?d:this,arguments),this},e[f[0]+\\\"With\\\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler(\\\"ready\\\"),m(y).off(\\\"ready\\\")))}}});function I(){y.addEventListener?(y.removeEventListener(\\\"DOMContentLoaded\\\",J,!1),a.removeEventListener(\\\"load\\\",J,!1)):(y.detachEvent(\\\"onreadystatechange\\\",J),a.detachEvent(\\\"onload\\\",J))}function J(){(y.addEventListener||\\\"load\\\"===event.type||\\\"complete\\\"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),\\\"complete\\\"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener(\\\"DOMContentLoaded\\\",J,!1),a.addEventListener(\\\"load\\\",J,!1);else{y.attachEvent(\\\"onreadystatechange\\\",J),a.attachEvent(\\\"onload\\\",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll(\\\"left\\\")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K=\\\"undefined\\\",L;for(L in m(k))break;k.ownLast=\\\"0\\\"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName(\\\"body\\\")[0],c&&c.style&&(b=y.createElement(\\\"div\\\"),d=y.createElement(\\\"div\\\"),d.style.cssText=\\\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\\\",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText=\\\"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1\\\",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement(\\\"div\\\");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+\\\" \\\").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute(\\\"classid\\\")===b};var M=/^(?:\\\\{[\\\\w\\\\W]*\\\\}|\\\\[[\\\\w\\\\W]*\\\\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d=\\\"data-\\\"+b.replace(N,\\\"-$1\\\").toLowerCase();if(c=a.getAttribute(d),\\\"string\\\"==typeof c){try{c=\\\"true\\\"===c?!0:\\\"false\\\"===c?!1:\\\"null\\\"===c?null:+c+\\\"\\\"===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if((\\\"data\\\"!==b||!m.isEmptyObject(a[b]))&&\\\"toJSON\\\"!==b)return!1;\\n\\nreturn!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||\\\"string\\\"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),(\\\"object\\\"==typeof b||\\\"function\\\"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),\\\"string\\\"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(\\\" \\\")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{\\\"applet \\\":!0,\\\"embed \\\":!0,\\\"object \\\":\\\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\\\"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,\\\"parsedAttrs\\\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\\\"data-\\\")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,\\\"parsedAttrs\\\",!0)}return e}return\\\"object\\\"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||\\\"fx\\\")+\\\"queue\\\",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\\\"fx\\\";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};\\\"inprogress\\\"===e&&(e=c.shift(),d--),e&&(\\\"fx\\\"===b&&c.unshift(\\\"inprogress\\\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\\\"queueHooks\\\";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks(\\\"once memory\\\").add(function(){m._removeData(a,b+\\\"queue\\\"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return\\\"string\\\"!=typeof a&&(b=a,a=\\\"fx\\\",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),\\\"fx\\\"===a&&\\\"inprogress\\\"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\\\"fx\\\",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\\\"string\\\"!=typeof a&&(b=a,a=void 0),a=a||\\\"fx\\\";while(g--)c=m._data(f[g],a+\\\"queueHooks\\\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\\\d*\\\\.|)\\\\d+(?:[eE][+-]?\\\\d+|)/.source,T=[\\\"Top\\\",\\\"Right\\\",\\\"Bottom\\\",\\\"Left\\\"],U=function(a,b){return a=b||a,\\\"none\\\"===m.css(a,\\\"display\\\")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\\\"object\\\"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement(\\\"input\\\"),b=y.createElement(\\\"div\\\"),c=y.createDocumentFragment();if(b.innerHTML=\\\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\\\",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName(\\\"tbody\\\").length,k.htmlSerialize=!!b.getElementsByTagName(\\\"link\\\").length,k.html5Clone=\\\"<:nav></:nav>\\\"!==y.createElement(\\\"nav\\\").cloneNode(!0).outerHTML,a.type=\\\"checkbox\\\",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML=\\\"<textarea>x</textarea>\\\",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML=\\\"<input type='radio' checked='checked' name='t'/>\\\",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent(\\\"onclick\\\",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement(\\\"div\\\");for(b in{submit:!0,change:!0,focusin:!0})c=\\\"on\\\"+b,(k[b+\\\"Bubbles\\\"]=c in a)||(d.setAttribute(c,\\\"t\\\"),k[b+\\\"Bubbles\\\"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\\\\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||\\\"\\\").match(E)||[\\\"\\\"],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||\\\"\\\").split(\\\".\\\").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(\\\".\\\")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent(\\\"on\\\"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||\\\"\\\").match(E)||[\\\"\\\"],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||\\\"\\\").split(\\\".\\\").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp(\\\"(^|\\\\\\\\.)\\\"+p.join(\\\"\\\\\\\\.(?:.*\\\\\\\\.|)\\\")+\\\"(\\\\\\\\.|$)\\\"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&(\\\"**\\\"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,\\\"events\\\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,\\\"type\\\")?b.type:b,q=j.call(b,\\\"namespace\\\")?b.namespace.split(\\\".\\\"):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(\\\".\\\")>=0&&(q=p.split(\\\".\\\"),p=q.shift(),q.sort()),g=p.indexOf(\\\":\\\")<0&&\\\"on\\\"+p,b=b[m.expando]?b:new m.Event(p,\\\"object\\\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join(\\\".\\\"),b.namespace_re=b.namespace?new RegExp(\\\"(^|\\\\\\\\.)\\\"+q.join(\\\"\\\\\\\\.(?:.*\\\\\\\\.|)\\\")+\\\"(\\\\\\\\.|$)\\\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,\\\"events\\\")||{})[b.type]&&m._data(h,\\\"handle\\\"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,\\\"events\\\")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\\\"click\\\"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\\\"click\\\"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+\\\" \\\",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:\\\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\\\".split(\\\" \\\"),fixHooks:{},keyHooks:{props:\\\"char charCode key keyCode\\\".split(\\\" \\\"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\\\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\\\".split(\\\" \\\"),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:\\\"focusin\\\"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:\\\"focusout\\\"},click:{trigger:function(){return m.nodeName(this,\\\"input\\\")&&\\\"checkbox\\\"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,\\\"a\\\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d=\\\"on\\\"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:\\\"mouseover\\\",mouseleave:\\\"mouseout\\\",pointerenter:\\\"pointerover\\\",pointerleave:\\\"pointerout\\\"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,\\\"form\\\")?!1:void m.event.add(this,\\\"click._submit keypress._submit\\\",function(a){var b=a.target,c=m.nodeName(b,\\\"input\\\")||m.nodeName(b,\\\"button\\\")?b.form:void 0;c&&!m._data(c,\\\"submitBubbles\\\")&&(m.event.add(c,\\\"submit._submit\\\",function(a){a._submit_bubble=!0}),m._data(c,\\\"submitBubbles\\\",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate(\\\"submit\\\",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,\\\"form\\\")?!1:void m.event.remove(this,\\\"._submit\\\")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?((\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type)&&(m.event.add(this,\\\"propertychange._change\\\",function(a){\\\"checked\\\"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,\\\"click._change\\\",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate(\\\"change\\\",this,a,!0)})),!1):void m.event.add(this,\\\"beforeactivate._change\\\",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,\\\"changeBubbles\\\")&&(m.event.add(b,\\\"change._change\\\",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate(\\\"change\\\",this.parentNode,a,!0)}),m._data(b,\\\"changeBubbles\\\",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||\\\"radio\\\"!==b.type&&\\\"checkbox\\\"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,\\\"._change\\\"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:\\\"focusin\\\",blur:\\\"focusout\\\"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if(\\\"object\\\"==typeof a){\\\"string\\\"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\\\"string\\\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+\\\".\\\"+d.namespace:d.origType,d.selector,d.handler),this;if(\\\"object\\\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\\\"function\\\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split(\\\"|\\\"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea=\\\"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\\\",fa=/ jQuery\\\\d+=\\\"(?:null|\\\\d+)\\\"/g,ga=new RegExp(\\\"<(?:\\\"+ea+\\\")[\\\\\\\\s/>]\\\",\\\"i\\\"),ha=/^\\\\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\\\w:]+)[^>]*)\\\\/>/gi,ja=/<([\\\\w:]+)/,ka=/<tbody/i,la=/<|&#?\\\\w+;/,ma=/<(?:script|style|link)/i,na=/checked\\\\s*(?:[^=]|=\\\\s*.checked.)/i,oa=/^$|\\\\/(?:java|ecma)script/i,pa=/^true\\\\/(.*)/,qa=/^\\\\s*<!(?:\\\\[CDATA\\\\[|--)|(?:\\\\]\\\\]|--)>\\\\s*$/g,ra={option:[1,\\\"<select multiple='multiple'>\\\",\\\"</select>\\\"],legend:[1,\\\"<fieldset>\\\",\\\"</fieldset>\\\"],area:[1,\\\"<map>\\\",\\\"</map>\\\"],param:[1,\\\"<object>\\\",\\\"</object>\\\"],thead:[1,\\\"<table>\\\",\\\"</table>\\\"],tr:[2,\\\"<table><tbody>\\\",\\\"</tbody></table>\\\"],col:[2,\\\"<table><tbody></tbody><colgroup>\\\",\\\"</colgroup></table>\\\"],td:[3,\\\"<table><tbody><tr>\\\",\\\"</tr></tbody></table>\\\"],_default:k.htmlSerialize?[0,\\\"\\\",\\\"\\\"]:[1,\\\"X<div>\\\",\\\"</div>\\\"]},sa=da(y),ta=sa.appendChild(y.createElement(\\\"div\\\"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||\\\"*\\\"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||\\\"*\\\"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,\\\"table\\\")&&m.nodeName(11!==b.nodeType?b:b.firstChild,\\\"tr\\\")?a.getElementsByTagName(\\\"tbody\\\")[0]||a.appendChild(a.ownerDocument.createElement(\\\"tbody\\\")):a}function xa(a){return a.type=(null!==m.find.attr(a,\\\"type\\\"))+\\\"/\\\"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\\\"type\\\"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,\\\"globalEval\\\",!b||m._data(b[d],\\\"globalEval\\\"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}\\\"script\\\"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):\\\"object\\\"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):\\\"input\\\"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):\\\"option\\\"===c?b.defaultSelected=b.selected=a.defaultSelected:(\\\"input\\\"===c||\\\"textarea\\\"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test(\\\"<\\\"+a.nodeName+\\\">\\\")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,\\\"script\\\"),d.length>0&&za(d,!i&&ua(a,\\\"script\\\")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if(\\\"object\\\"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement(\\\"div\\\")),i=(ja.exec(f)||[\\\"\\\",\\\"\\\"])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,\\\"<$1></$2>\\\")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f=\\\"table\\\"!==i||ka.test(f)?\\\"<table>\\\"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],\\\"tbody\\\")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent=\\\"\\\";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,\\\"input\\\"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),\\\"script\\\"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||\\\"\\\")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,\\\"script\\\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,\\\"select\\\")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,\\\"\\\"):void 0;if(!(\\\"string\\\"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||[\\\"\\\",\\\"\\\"])[1].toLowerCase()])){a=a.replace(ia,\\\"<$1></$2>\\\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&\\\"string\\\"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,\\\"script\\\"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,\\\"script\\\"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||\\\"\\\")&&!m._data(d,\\\"globalEval\\\")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||\\\"\\\").replace(qa,\\\"\\\")));i=c=null}return this}}),m.each({appendTo:\\\"append\\\",prependTo:\\\"prepend\\\",insertBefore:\\\"before\\\",insertAfter:\\\"after\\\",replaceAll:\\\"replaceWith\\\"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],\\\"display\\\");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),\\\"none\\\"!==c&&c||(Ca=(Ca||m(\\\"<iframe frameborder='0' width='0' height='0'/>\\\")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName(\\\"body\\\")[0],c&&c.style?(b=y.createElement(\\\"div\\\"),d=y.createElement(\\\"div\\\"),d.style.cssText=\\\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\\\",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText=\\\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1\\\",b.appendChild(y.createElement(\\\"div\\\")).style.width=\\\"5px\\\",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp(\\\"^(\\\"+S+\\\")(?!px)[a-z%]+$\\\",\\\"i\\\"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(\\\"\\\"!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+\\\"\\\"}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left=\\\"fontSize\\\"===b?\\\"1em\\\":g,g=h.pixelLeft+\\\"px\\\",h.left=d,f&&(e.left=f)),void 0===g?g:g+\\\"\\\"||\\\"auto\\\"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement(\\\"div\\\"),b.innerHTML=\\\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\\\",d=b.getElementsByTagName(\\\"a\\\")[0],c=d&&d.style){c.cssText=\\\"float:left;opacity:.5\\\",k.opacity=\\\"0.5\\\"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip=\\\"content-box\\\",b.cloneNode(!0).style.backgroundClip=\\\"\\\",k.clearCloneStyle=\\\"content-box\\\"===b.style.backgroundClip,k.boxSizing=\\\"\\\"===c.boxSizing||\\\"\\\"===c.MozBoxSizing||\\\"\\\"===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName(\\\"body\\\")[0],c&&c.style&&(b=y.createElement(\\\"div\\\"),d=y.createElement(\\\"div\\\"),d.style.cssText=\\\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\\\",c.appendChild(d).appendChild(b),b.style.cssText=\\\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute\\\",e=f=!1,h=!0,a.getComputedStyle&&(e=\\\"1%\\\"!==(a.getComputedStyle(b,null)||{}).top,f=\\\"4px\\\"===(a.getComputedStyle(b,null)||{width:\\\"4px\\\"}).width,i=b.appendChild(y.createElement(\\\"div\\\")),i.style.cssText=b.style.cssText=\\\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\\\",i.style.marginRight=i.style.width=\\\"0\\\",b.style.width=\\\"1px\\\",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML=\\\"<table><tr><td></td><td>t</td></tr></table>\\\",i=b.getElementsByTagName(\\\"td\\\"),i[0].style.cssText=\\\"margin:0;border:0;padding:0;display:none\\\",g=0===i[0].offsetHeight,g&&(i[0].style.display=\\\"\\\",i[1].style.display=\\\"none\\\",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\\\\([^)]*\\\\)/i,Na=/opacity\\\\s*=\\\\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp(\\\"^(\\\"+S+\\\")(.*)$\\\",\\\"i\\\"),Qa=new RegExp(\\\"^([+-])=(\\\"+S+\\\")\\\",\\\"i\\\"),Ra={position:\\\"absolute\\\",visibility:\\\"hidden\\\",display:\\\"block\\\"},Sa={letterSpacing:\\\"0\\\",fontWeight:\\\"400\\\"},Ta=[\\\"Webkit\\\",\\\"O\\\",\\\"Moz\\\",\\\"ms\\\"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,\\\"olddisplay\\\"),c=d.style.display,b?(f[g]||\\\"none\\\"!==c||(d.style.display=\\\"\\\"),\\\"\\\"===d.style.display&&U(d)&&(f[g]=m._data(d,\\\"olddisplay\\\",Fa(d.nodeName)))):(e=U(d),(c&&\\\"none\\\"!==c||!e)&&m._data(d,\\\"olddisplay\\\",e?c:m.css(d,\\\"display\\\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\\\"none\\\"!==d.style.display&&\\\"\\\"!==d.style.display||(d.style.display=b?f[g]||\\\"\\\":\\\"none\\\"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\\\"px\\\"):b}function Xa(a,b,c,d,e){for(var f=c===(d?\\\"border\\\":\\\"content\\\")?4:\\\"width\\\"===b?1:0,g=0;4>f;f+=2)\\\"margin\\\"===c&&(g+=m.css(a,c+T[f],!0,e)),d?(\\\"content\\\"===c&&(g-=m.css(a,\\\"padding\\\"+T[f],!0,e)),\\\"margin\\\"!==c&&(g-=m.css(a,\\\"border\\\"+T[f]+\\\"Width\\\",!0,e))):(g+=m.css(a,\\\"padding\\\"+T[f],!0,e),\\\"padding\\\"!==c&&(g+=m.css(a,\\\"border\\\"+T[f]+\\\"Width\\\",!0,e)));return g}function Ya(a,b,c){var d=!0,e=\\\"width\\\"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&\\\"border-box\\\"===m.css(a,\\\"boxSizing\\\",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?\\\"border\\\":\\\"content\\\"),d,f)+\\\"px\\\"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,\\\"opacity\\\");return\\\"\\\"===c?\\\"1\\\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\\\"float\\\":k.cssFloat?\\\"cssFloat\\\":\\\"styleFloat\\\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&\\\"get\\\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,\\\"string\\\"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f=\\\"number\\\"),null!=c&&c===c&&(\\\"number\\\"!==f||m.cssNumber[h]||(c+=\\\"px\\\"),k.clearCloneStyle||\\\"\\\"!==c||0!==b.indexOf(\\\"background\\\")||(i[b]=\\\"inherit\\\"),!(g&&\\\"set\\\"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&\\\"get\\\"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),\\\"normal\\\"===f&&b in Sa&&(f=Sa[b]),\\\"\\\"===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each([\\\"height\\\",\\\"width\\\"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,\\\"display\\\"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&\\\"border-box\\\"===m.css(a,\\\"boxSizing\\\",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\\\"\\\")?.01*parseFloat(RegExp.$1)+\\\"\\\":b?\\\"1\\\":\\\"\\\"},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?\\\"alpha(opacity=\\\"+100*b+\\\")\\\":\\\"\\\",f=d&&d.filter||c.filter||\\\"\\\";c.zoom=1,(b>=1||\\\"\\\"===b)&&\\\"\\\"===m.trim(f.replace(Ma,\\\"\\\"))&&c.removeAttribute&&(c.removeAttribute(\\\"filter\\\"),\\\"\\\"===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+\\\" \\\"+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:\\\"inline-block\\\"},Ja,[a,\\\"marginRight\\\"]):void 0}),m.each({margin:\\\"\\\",padding:\\\"\\\",border:\\\"Width\\\"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\\\"string\\\"==typeof c?c.split(\\\" \\\"):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return\\\"boolean\\\"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){\\nreturn new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\\\"swing\\\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?\\\"\\\":\\\"px\\\")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,\\\"\\\"),b&&\\\"auto\\\"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp(\\\"^(?:([+-])=|)(\\\"+S+\\\")([a-z%]*)$\\\",\\\"i\\\"),cb=/queueHooks$/,db=[ib],eb={\\\"*\\\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?\\\"\\\":\\\"px\\\"),g=(m.cssNumber[a]||\\\"px\\\"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\\\".5\\\",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d[\\\"margin\\\"+c]=d[\\\"padding\\\"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb[\\\"*\\\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,\\\"fxshow\\\");c.queue||(h=m._queueHooks(a,\\\"fx\\\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,\\\"fx\\\").length||h.empty.fire()})})),1===a.nodeType&&(\\\"height\\\"in b||\\\"width\\\"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,\\\"display\\\"),l=\\\"none\\\"===j?m._data(a,\\\"olddisplay\\\")||Fa(a.nodeName):j,\\\"inline\\\"===l&&\\\"none\\\"===m.css(a,\\\"float\\\")&&(k.inlineBlockNeedsLayout&&\\\"inline\\\"!==Fa(a.nodeName)?p.zoom=1:p.display=\\\"inline-block\\\")),c.overflow&&(p.overflow=\\\"hidden\\\",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||\\\"toggle\\\"===e,e===(q?\\\"hide\\\":\\\"show\\\")){if(\\\"show\\\"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))\\\"inline\\\"===(\\\"none\\\"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?\\\"hidden\\\"in r&&(q=r.hidden):r=m._data(a,\\\"fxshow\\\",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,\\\"fxshow\\\");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start=\\\"width\\\"===d||\\\"height\\\"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&\\\"expand\\\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=[\\\"*\\\"]):a=a.split(\\\" \\\");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&\\\"object\\\"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:\\\"number\\\"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\\\"fx\\\"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css(\\\"opacity\\\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,\\\"finish\\\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\\\"string\\\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\\\"fx\\\",[]),this.each(function(){var b=!0,e=null!=a&&a+\\\"queueHooks\\\",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\\\"fx\\\"),this.each(function(){var b,c=m._data(this),d=c[a+\\\"queue\\\"],e=c[a+\\\"queueHooks\\\"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each([\\\"toggle\\\",\\\"show\\\",\\\"hide\\\"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||\\\"boolean\\\"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb(\\\"show\\\"),slideUp:gb(\\\"hide\\\"),slideToggle:gb(\\\"toggle\\\"),fadeIn:{opacity:\\\"show\\\"},fadeOut:{opacity:\\\"hide\\\"},fadeToggle:{opacity:\\\"toggle\\\"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||\\\"fx\\\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement(\\\"div\\\"),b.setAttribute(\\\"className\\\",\\\"t\\\"),b.innerHTML=\\\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\\\",d=b.getElementsByTagName(\\\"a\\\")[0],c=y.createElement(\\\"select\\\"),e=c.appendChild(y.createElement(\\\"option\\\")),a=b.getElementsByTagName(\\\"input\\\")[0],d.style.cssText=\\\"top:1px\\\",k.getSetAttribute=\\\"t\\\"!==b.className,k.style=/top/.test(d.getAttribute(\\\"style\\\")),k.hrefNormalized=\\\"/a\\\"===d.getAttribute(\\\"href\\\"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement(\\\"form\\\").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement(\\\"input\\\"),a.setAttribute(\\\"value\\\",\\\"\\\"),k.input=\\\"\\\"===a.getAttribute(\\\"value\\\"),a.value=\\\"t\\\",a.setAttribute(\\\"type\\\",\\\"radio\\\"),k.radioValue=\\\"t\\\"===a.value}();var lb=/\\\\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e=\\\"\\\":\\\"number\\\"==typeof e?e+=\\\"\\\":m.isArray(e)&&(e=m.map(e,function(a){return null==a?\\\"\\\":a+\\\"\\\"})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&\\\"set\\\"in b&&void 0!==b.set(this,e,\\\"value\\\")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&\\\"get\\\"in b&&void 0!==(c=b.get(e,\\\"value\\\"))?c:(c=e.value,\\\"string\\\"==typeof c?c.replace(lb,\\\"\\\"):null==c?\\\"\\\":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,\\\"value\\\");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\\\"select-one\\\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(\\\"disabled\\\"))||c.parentNode.disabled&&m.nodeName(c.parentNode,\\\"optgroup\\\"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each([\\\"radio\\\",\\\"checkbox\\\"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute(\\\"value\\\")?\\\"on\\\":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&\\\"get\\\"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&\\\"set\\\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\\\"\\\"),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase(\\\"default-\\\"+c)]=a[d]=!1:m.attr(a,c,\\\"\\\"),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&\\\"radio\\\"===b&&m.nodeName(a,\\\"input\\\")){var c=a.value;return a.setAttribute(\\\"type\\\",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase(\\\"default-\\\"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\\\\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase(\\\"default-\\\"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,\\\"input\\\")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+=\\\"\\\",\\\"value\\\"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&\\\"\\\"!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,\\\"\\\"===b?!1:b,c)}},m.each([\\\"width\\\",\\\"height\\\"],function(a,b){m.attrHooks[b]={set:function(a,c){return\\\"\\\"===c?(a.setAttribute(b,\\\"auto\\\"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+\\\"\\\"}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{\\\"for\\\":\\\"htmlFor\\\",\\\"class\\\":\\\"className\\\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&\\\"set\\\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\\\"get\\\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,\\\"tabindex\\\");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each([\\\"href\\\",\\\"src\\\"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each([\\\"tabIndex\\\",\\\"readOnly\\\",\\\"maxLength\\\",\\\"cellSpacing\\\",\\\"cellPadding\\\",\\\"rowSpan\\\",\\\"colSpan\\\",\\\"useMap\\\",\\\"frameBorder\\\",\\\"contentEditable\\\"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype=\\\"encoding\\\");var ub=/[\\\\t\\\\r\\\\n\\\\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=\\\"string\\\"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||\\\"\\\").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\\\" \\\"+c.className+\\\" \\\").replace(ub,\\\" \\\"):\\\" \\\")){f=0;while(e=b[f++])d.indexOf(\\\" \\\"+e+\\\" \\\")<0&&(d+=e+\\\" \\\");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||\\\"string\\\"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||\\\"\\\").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\\\" \\\"+c.className+\\\" \\\").replace(ub,\\\" \\\"):\\\"\\\")){f=0;while(e=b[f++])while(d.indexOf(\\\" \\\"+e+\\\" \\\")>=0)d=d.replace(\\\" \\\"+e+\\\" \\\",\\\" \\\");g=a?m.trim(d):\\\"\\\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\\\"boolean\\\"==typeof b&&\\\"string\\\"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\\\"string\\\"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||\\\"boolean\\\"===c)&&(this.className&&m._data(this,\\\"__className__\\\",this.className),this.className=this.className||a===!1?\\\"\\\":m._data(this,\\\"__className__\\\")||\\\"\\\")})},hasClass:function(a){for(var b=\\\" \\\"+a+\\\" \\\",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\\\" \\\"+this[c].className+\\\" \\\").replace(ub,\\\" \\\").indexOf(b)>=0)return!0;return!1}}),m.each(\\\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\\\".split(\\\" \\\"),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\\\"**\\\"):this.off(b,a||\\\"**\\\",c)}});var vb=m.now(),wb=/\\\\?/,xb=/(,)|(\\\\[|{)|(}|])|\\\"(?:[^\\\"\\\\\\\\\\\\r\\\\n]|\\\\\\\\[\\\"\\\\\\\\\\\\/bfnrt]|\\\\\\\\u[\\\\da-fA-F]{4})*\\\"\\\\s*:?|true|false|null|-?(?!0\\\\d)\\\\d+(?:\\\\.\\\\d+|)(?:[eE][+-]?\\\\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+\\\"\\\");var c,d=null,e=m.trim(b+\\\"\\\");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,\\\"\\\")}))?Function(\\\"return \\\"+e)():m.error(\\\"Invalid JSON: \\\"+b)},m.parseXML=function(b){var c,d;if(!b||\\\"string\\\"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,\\\"text/xml\\\")):(c=new ActiveXObject(\\\"Microsoft.XMLDOM\\\"),c.async=\\\"false\\\",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName(\\\"parsererror\\\").length||m.error(\\\"Invalid XML: \\\"+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \\\\t]*([^\\\\r\\\\n]*)\\\\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\\\\/\\\\//,Gb=/^([\\\\w.+-]+:)(?:\\\\/\\\\/(?:[^\\\\/?#]*@|)([^\\\\/?#:]*)(?::(\\\\d+)|)|)/,Hb={},Ib={},Jb=\\\"*/\\\".concat(\\\"*\\\");try{zb=location.href}catch(Kb){zb=y.createElement(\\\"a\\\"),zb.href=\\\"\\\",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){\\\"string\\\"!=typeof b&&(c=b,b=\\\"*\\\");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])\\\"+\\\"===d.charAt(0)?(d=d.slice(1)||\\\"*\\\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return\\\"string\\\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\\\"*\\\"]&&g(\\\"*\\\")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\\\"*\\\"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader(\\\"Content-Type\\\"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+\\\" \\\"+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\\\"*\\\"===f)f=i;else if(\\\"*\\\"!==i&&i!==f){if(g=j[i+\\\" \\\"+f]||j[\\\"* \\\"+f],!g)for(e in j)if(h=e.split(\\\" \\\"),h[1]===f&&(g=j[i+\\\" \\\"+h[0]]||j[\\\"* \\\"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\\\"throws\\\"])b=g(b);else try{b=g(b)}catch(l){return{state:\\\"parsererror\\\",error:g?l:\\\"No conversion from \\\"+i+\\\" to \\\"+f}}}return{state:\\\"success\\\",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:\\\"GET\\\",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:\\\"application/x-www-form-urlencoded; charset=UTF-8\\\",accepts:{\\\"*\\\":Jb,text:\\\"text/plain\\\",html:\\\"text/html\\\",xml:\\\"application/xml, text/xml\\\",json:\\\"application/json, text/javascript\\\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\\\"responseXML\\\",text:\\\"responseText\\\",json:\\\"responseJSON\\\"},converters:{\\\"* text\\\":String,\\\"text html\\\":!0,\\\"text json\\\":m.parseJSON,\\\"text xml\\\":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){\\\"object\\\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks(\\\"once memory\\\"),q=k.statusCode||{},r={},s={},t=0,u=\\\"canceled\\\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+\\\"\\\").replace(Ab,\\\"\\\").replace(Fb,yb[1]+\\\"//\\\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||\\\"*\\\").toLowerCase().match(E)||[\\\"\\\"],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||(\\\"http:\\\"===c[1]?\\\"80\\\":\\\"443\\\"))===(yb[3]||(\\\"http:\\\"===yb[1]?\\\"80\\\":\\\"443\\\")))),k.data&&k.processData&&\\\"string\\\"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger(\\\"ajaxStart\\\"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?\\\"&\\\":\\\"?\\\")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,\\\"$1_=\\\"+vb++):e+(wb.test(e)?\\\"&\\\":\\\"?\\\")+\\\"_=\\\"+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader(\\\"If-Modified-Since\\\",m.lastModified[e]),m.etag[e]&&v.setRequestHeader(\\\"If-None-Match\\\",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\\\"Content-Type\\\",k.contentType),v.setRequestHeader(\\\"Accept\\\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\\\"*\\\"!==k.dataTypes[0]?\\\", \\\"+Jb+\\\"; q=0.01\\\":\\\"\\\"):k.accepts[\\\"*\\\"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\\\"abort\\\";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger(\\\"ajaxSend\\\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\\\"timeout\\\")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\\\"No Transport\\\");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||\\\"\\\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\\\"Last-Modified\\\"),w&&(m.lastModified[e]=w),w=v.getResponseHeader(\\\"etag\\\"),w&&(m.etag[e]=w)),204===a||\\\"HEAD\\\"===k.type?x=\\\"nocontent\\\":304===a?x=\\\"notmodified\\\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\\\"error\\\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\\\"\\\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?\\\"ajaxSuccess\\\":\\\"ajaxError\\\",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger(\\\"ajaxComplete\\\",[v,k]),--m.active||m.event.trigger(\\\"ajaxStop\\\")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,\\\"json\\\")},getScript:function(a,b){return m.get(a,void 0,b,\\\"script\\\")}}),m.each([\\\"get\\\",\\\"post\\\"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:\\\"GET\\\",dataType:\\\"script\\\",async:!1,global:!1,\\\"throws\\\":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,\\\"body\\\")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&\\\"none\\\"===(a.style&&a.style.display||m.css(a,\\\"display\\\"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\\\\[\\\\]$/,Sb=/\\\\r?\\\\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+\\\"[\\\"+(\\\"object\\\"==typeof e?b:\\\"\\\")+\\\"]\\\",e,c,d)});else if(c||\\\"object\\\"!==m.type(b))d(a,b);else for(e in b)Vb(a+\\\"[\\\"+e+\\\"]\\\",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?\\\"\\\":b,d[d.length]=encodeURIComponent(a)+\\\"=\\\"+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join(\\\"&\\\").replace(Qb,\\\"+\\\")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,\\\"elements\\\");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(\\\":disabled\\\")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,\\\"\\\\r\\\\n\\\")}}):{name:b.name,value:c.replace(Sb,\\\"\\\\r\\\\n\\\")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent(\\\"onunload\\\",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&\\\"withCredentials\\\"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\\\"X-Requested-With\\\"]||(c[\\\"X-Requested-With\\\"]=\\\"XMLHttpRequest\\\");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+\\\"\\\");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,\\\"string\\\"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=\\\"\\\"}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject(\\\"Microsoft.XMLHTTP\\\")}catch(b){}}m.ajaxSetup({accepts:{script:\\\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\\\"},contents:{script:/(?:java|ecma)script/},converters:{\\\"text script\\\":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter(\\\"script\\\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\\\"GET\\\",a.global=!1)}),m.ajaxTransport(\\\"script\\\",function(a){if(a.crossDomain){var b,c=y.head||m(\\\"head\\\")[0]||y.documentElement;return{send:function(d,e){b=y.createElement(\\\"script\\\"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,\\\"success\\\"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\\\\?(?=&|$)|\\\\?\\\\?/;m.ajaxSetup({jsonp:\\\"callback\\\",jsonpCallback:function(){var a=_b.pop()||m.expando+\\\"_\\\"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter(\\\"json jsonp\\\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?\\\"url\\\":\\\"string\\\"==typeof b.data&&!(b.contentType||\\\"\\\").indexOf(\\\"application/x-www-form-urlencoded\\\")&&ac.test(b.data)&&\\\"data\\\");return h||\\\"jsonp\\\"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,\\\"$1\\\"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?\\\"&\\\":\\\"?\\\")+b.jsonp+\\\"=\\\"+e),b.converters[\\\"script json\\\"]=function(){return g||m.error(e+\\\" was not called\\\"),g[0]},b.dataTypes[0]=\\\"json\\\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),\\\"script\\\"):void 0}),m.parseHTML=function(a,b,c){if(!a||\\\"string\\\"!=typeof a)return null;\\\"boolean\\\"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if(\\\"string\\\"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\\\" \\\");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&\\\"object\\\"==typeof b&&(f=\\\"POST\\\"),g.length>0&&m.ajax({url:a,type:f,dataType:\\\"html\\\",data:b}).done(function(a){e=arguments,g.html(d?m(\\\"<div>\\\").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each([\\\"ajaxStart\\\",\\\"ajaxStop\\\",\\\"ajaxComplete\\\",\\\"ajaxError\\\",\\\"ajaxSuccess\\\",\\\"ajaxSend\\\"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,\\\"position\\\"),l=m(a),n={};\\\"static\\\"===k&&(a.style.position=\\\"relative\\\"),h=l.offset(),f=m.css(a,\\\"top\\\"),i=m.css(a,\\\"left\\\"),j=(\\\"absolute\\\"===k||\\\"fixed\\\"===k)&&m.inArray(\\\"auto\\\",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),\\\"using\\\"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return\\\"fixed\\\"===m.css(d,\\\"position\\\")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],\\\"html\\\")||(c=a.offset()),c.top+=m.css(a[0],\\\"borderTopWidth\\\",!0),c.left+=m.css(a[0],\\\"borderLeftWidth\\\",!0)),{top:b.top-c.top-m.css(d,\\\"marginTop\\\",!0),left:b.left-c.left-m.css(d,\\\"marginLeft\\\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,\\\"html\\\")&&\\\"static\\\"===m.css(a,\\\"position\\\"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:\\\"pageXOffset\\\",scrollTop:\\\"pageYOffset\\\"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each([\\\"top\\\",\\\"left\\\"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+\\\"px\\\":c):void 0})}),m.each({Height:\\\"height\\\",Width:\\\"width\\\"},function(a,b){m.each({padding:\\\"inner\\\"+a,content:b,\\\"\\\":\\\"outer\\\"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||\\\"boolean\\\"!=typeof d),g=c||(d===!0||e===!0?\\\"margin\\\":\\\"border\\\");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement[\\\"client\\\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\\\"scroll\\\"+a],e[\\\"scroll\\\"+a],b.body[\\\"offset\\\"+a],e[\\\"offset\\\"+a],e[\\\"client\\\"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,\\\"function\\\"==typeof define&&define.amd&&define(\\\"jquery\\\",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});\\n//# sourceMappingURL=jquery.min.map\"\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(9))\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"//     Underscore.js 1.8.3\\n//     http://underscorejs.org\\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\\n//     Underscore may be freely distributed under the MIT license.\\n(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if(\\\"number\\\"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i=\\\"constructor\\\";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};\\\"undefined\\\"!=typeof exports?(\\\"undefined\\\"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION=\\\"1.8.3\\\";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w(\\\"length\\\"),k=function(n){var t=O(n);return\\\"number\\\"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),(\\\"number\\\"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),\\\"value\\\")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError(\\\"Bind must be called on a function\\\");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error(\\\"bindAll must be passed function names\\\");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=\\\"\\\"+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable(\\\"toString\\\"),I=[\\\"valueOf\\\",\\\"isPrototypeOf\\\",\\\"toString\\\",\\\"propertyIsEnumerable\\\",\\\"hasOwnProperty\\\",\\\"toLocaleString\\\"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case\\\"[object RegExp]\\\":case\\\"[object String]\\\":return\\\"\\\"+n==\\\"\\\"+t;case\\\"[object Number]\\\":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case\\\"[object Date]\\\":case\\\"[object Boolean]\\\":return+n===+t}var i=\\\"[object Array]\\\"===u;if(!i){if(\\\"object\\\"!=typeof n||\\\"object\\\"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&\\\"constructor\\\"in n&&\\\"constructor\\\"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return\\\"[object Array]\\\"===s.call(n)},m.isObject=function(n){var t=typeof n;return\\\"function\\\"===t||\\\"object\\\"===t&&!!n},m.each([\\\"Arguments\\\",\\\"Function\\\",\\\"String\\\",\\\"Number\\\",\\\"Date\\\",\\\"RegExp\\\",\\\"Error\\\"],function(n){m[\\\"is\\\"+n]=function(t){return s.call(t)===\\\"[object \\\"+n+\\\"]\\\"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,\\\"callee\\\")}),\\\"function\\\"!=typeof/./&&\\\"object\\\"!=typeof Int8Array&&(m.isFunction=function(n){return\\\"function\\\"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||\\\"[object Boolean]\\\"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={\\\"&\\\":\\\"&amp;\\\",\\\"<\\\":\\\"&lt;\\\",\\\">\\\":\\\"&gt;\\\",'\\\"':\\\"&quot;\\\",\\\"'\\\":\\\"&#x27;\\\",\\\"`\\\":\\\"&#x60;\\\"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r=\\\"(?:\\\"+m.keys(n).join(\\\"|\\\")+\\\")\\\",e=RegExp(r),u=RegExp(r,\\\"g\\\");return function(n){return n=null==n?\\\"\\\":\\\"\\\"+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+\\\"\\\";return n?n+t:t},m.templateSettings={evaluate:/<%([\\\\s\\\\S]+?)%>/g,interpolate:/<%=([\\\\s\\\\S]+?)%>/g,escape:/<%-([\\\\s\\\\S]+?)%>/g};var K=/(.)^/,z={\\\"'\\\":\\\"'\\\",\\\"\\\\\\\\\\\":\\\"\\\\\\\\\\\",\\\"\\\\r\\\":\\\"r\\\",\\\"\\\\n\\\":\\\"n\\\",\\\"\\\\u2028\\\":\\\"u2028\\\",\\\"\\\\u2029\\\":\\\"u2029\\\"},D=/\\\\\\\\|'|\\\\r|\\\\n|\\\\u2028|\\\\u2029/g,L=function(n){return\\\"\\\\\\\\\\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join(\\\"|\\\")+\\\"|$\\\",\\\"g\\\"),u=0,i=\\\"__p+='\\\";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+=\\\"'+\\\\n((__t=(\\\"+r+\\\"))==null?'':_.escape(__t))+\\\\n'\\\":e?i+=\\\"'+\\\\n((__t=(\\\"+e+\\\"))==null?'':__t)+\\\\n'\\\":o&&(i+=\\\"';\\\\n\\\"+o+\\\"\\\\n__p+='\\\"),t}),i+=\\\"';\\\\n\\\",t.variable||(i=\\\"with(obj||{}){\\\\n\\\"+i+\\\"}\\\\n\\\"),i=\\\"var __t,__p='',__j=Array.prototype.join,\\\"+\\\"print=function(){__p+=__j.call(arguments,'');};\\\\n\\\"+i+\\\"return __p;\\\\n\\\";try{var o=new Function(t.variable||\\\"obj\\\",\\\"_\\\",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||\\\"obj\\\";return c.source=\\\"function(\\\"+f+\\\"){\\\\n\\\"+i+\\\"}\\\",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each([\\\"pop\\\",\\\"push\\\",\\\"reverse\\\",\\\"shift\\\",\\\"sort\\\",\\\"splice\\\",\\\"unshift\\\"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),\\\"shift\\\"!==n&&\\\"splice\\\"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each([\\\"concat\\\",\\\"join\\\",\\\"slice\\\"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return\\\"\\\"+this._wrapped},\\\"function\\\"==typeof define&&define.amd&&define(\\\"underscore\\\",[],function(){return m})}).call(this);\\n//# sourceMappingURL=underscore-min.map\"\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(11))\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"(function(t){var e=typeof self==\\\"object\\\"&&self.self==self&&self||typeof global==\\\"object\\\"&&global.global==global&&global;if(typeof define===\\\"function\\\"&&define.amd){define([\\\"underscore\\\",\\\"jquery\\\",\\\"exports\\\"],function(i,r,n){e.Backbone=t(e,n,i,r)})}else if(typeof exports!==\\\"undefined\\\"){var i=require(\\\"underscore\\\"),r;try{r=require(\\\"jquery\\\")}catch(n){}t(e,exports,i,r)}else{e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}})(function(t,e,i,r){var n=t.Backbone;var s=Array.prototype.slice;e.VERSION=\\\"1.2.3\\\";e.$=r;e.noConflict=function(){t.Backbone=n;return this};e.emulateHTTP=false;e.emulateJSON=false;var a=function(t,e,r){switch(t){case 1:return function(){return i[e](this[r])};case 2:return function(t){return i[e](this[r],t)};case 3:return function(t,n){return i[e](this[r],h(t,this),n)};case 4:return function(t,n,s){return i[e](this[r],h(t,this),n,s)};default:return function(){var t=s.call(arguments);t.unshift(this[r]);return i[e].apply(i,t)}}};var o=function(t,e,r){i.each(e,function(e,n){if(i[n])t.prototype[n]=a(e,n,r)})};var h=function(t,e){if(i.isFunction(t))return t;if(i.isObject(t)&&!e._isModel(t))return u(t);if(i.isString(t))return function(e){return e.get(t)};return t};var u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}};var l=e.Events={};var c=/\\\\s+/;var f=function(t,e,r,n,s){var a=0,o;if(r&&typeof r===\\\"object\\\"){if(n!==void 0&&\\\"context\\\"in s&&s.context===void 0)s.context=n;for(o=i.keys(r);a<o.length;a++){e=f(t,e,o[a],r[o[a]],s)}}else if(r&&c.test(r)){for(o=r.split(c);a<o.length;a++){e=t(e,o[a],n,s)}}else{e=t(e,r,n,s)}return e};l.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,r,n){t._events=f(v,t._events||{},e,i,{context:r,ctx:t,listening:n});if(n){var s=t._listeners||(t._listeners={});s[n.id]=n}return t};l.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=i.uniqueId(\\\"l\\\"));var s=this._listeningTo||(this._listeningTo={});var a=s[n];if(!a){var o=this._listenId||(this._listenId=i.uniqueId(\\\"l\\\"));a=s[n]={obj:t,objId:n,id:o,listeningTo:s,count:0}}d(t,e,r,this,a);return this};var v=function(t,e,i,r){if(i){var n=t[e]||(t[e]=[]);var s=r.context,a=r.ctx,o=r.listening;if(o)o.count++;n.push({callback:i,context:s,ctx:s||a,listening:o})}return t};l.off=function(t,e,i){if(!this._events)return this;this._events=f(g,this._events,t,e,{context:i,listeners:this._listeners});return this};l.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;var s=t?[t._listenId]:i.keys(n);for(var a=0;a<s.length;a++){var o=n[s[a]];if(!o)break;o.obj.off(e,r,this)}if(i.isEmpty(n))this._listeningTo=void 0;return this};var g=function(t,e,r,n){if(!t)return;var s=0,a;var o=n.context,h=n.listeners;if(!e&&!r&&!o){var u=i.keys(h);for(;s<u.length;s++){a=h[u[s]];delete h[a.id];delete a.listeningTo[a.objId]}return}var l=e?[e]:i.keys(t);for(;s<l.length;s++){e=l[s];var c=t[e];if(!c)break;var f=[];for(var d=0;d<c.length;d++){var v=c[d];if(r&&r!==v.callback&&r!==v.callback._callback||o&&o!==v.context){f.push(v)}else{a=v.listening;if(a&&--a.count===0){delete h[a.id];delete a.listeningTo[a.objId]}}}if(f.length){t[e]=f}else{delete t[e]}}if(i.size(t))return t};l.once=function(t,e,r){var n=f(p,{},t,e,i.bind(this.off,this));return this.on(n,void 0,r)};l.listenToOnce=function(t,e,r){var n=f(p,{},e,r,i.bind(this.stopListening,this,t));return this.listenTo(t,n)};var p=function(t,e,r,n){if(r){var s=t[e]=i.once(function(){n(e,s);r.apply(this,arguments)});s._callback=r}return t};l.trigger=function(t){if(!this._events)return this;var e=Math.max(0,arguments.length-1);var i=Array(e);for(var r=0;r<e;r++)i[r]=arguments[r+1];f(m,this._events,t,void 0,i);return this};var m=function(t,e,i,r){if(t){var n=t[e];var s=t.all;if(n&&s)s=s.slice();if(n)_(n,r);if(s)_(s,[e].concat(r))}return t};var _=function(t,e){var i,r=-1,n=t.length,s=e[0],a=e[1],o=e[2];switch(e.length){case 0:while(++r<n)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<n)(i=t[r]).callback.call(i.ctx,s);return;case 2:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a);return;case 3:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a,o);return;default:while(++r<n)(i=t[r]).callback.apply(i.ctx,e);return}};l.bind=l.on;l.unbind=l.off;i.extend(e,l);var y=e.Model=function(t,e){var r=t||{};e||(e={});this.cid=i.uniqueId(this.cidPrefix);this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)r=this.parse(r,e)||{};r=i.defaults({},r,i.result(this,\\\"defaults\\\"));this.set(r,e);this.changed={};this.initialize.apply(this,arguments)};i.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:\\\"id\\\",cidPrefix:\\\"c\\\",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return this.get(t)!=null},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(t==null)return this;var n;if(typeof t===\\\"object\\\"){n=t;r=e}else{(n={})[t]=e}r||(r={});if(!this._validate(n,r))return false;var s=r.unset;var a=r.silent;var o=[];var h=this._changing;this._changing=true;if(!h){this._previousAttributes=i.clone(this.attributes);this.changed={}}var u=this.attributes;var l=this.changed;var c=this._previousAttributes;for(var f in n){e=n[f];if(!i.isEqual(u[f],e))o.push(f);if(!i.isEqual(c[f],e)){l[f]=e}else{delete l[f]}s?delete u[f]:u[f]=e}this.id=this.get(this.idAttribute);if(!a){if(o.length)this._pending=r;for(var d=0;d<o.length;d++){this.trigger(\\\"change:\\\"+o[d],this,u[o[d]],r)}}if(h)return this;if(!a){while(this._pending){r=this._pending;this._pending=false;this.trigger(\\\"change\\\",this,r)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:true}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!i.isEmpty(this.changed);return i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):false;var e=this._changing?this._previousAttributes:this.attributes;var r={};for(var n in t){var s=t[n];if(i.isEqual(e[n],s))continue;r[n]=s}return i.size(r)?r:false},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:true},t);var e=this;var r=t.success;t.success=function(i){var n=t.parse?e.parse(i,t):i;if(!e.set(n,t))return false;if(r)r.call(t.context,e,i,t);e.trigger(\\\"sync\\\",e,i,t)};z(this,t);return this.sync(\\\"read\\\",this,t)},save:function(t,e,r){var n;if(t==null||typeof t===\\\"object\\\"){n=t;r=e}else{(n={})[t]=e}r=i.extend({validate:true,parse:true},r);var s=r.wait;if(n&&!s){if(!this.set(n,r))return false}else{if(!this._validate(n,r))return false}var a=this;var o=r.success;var h=this.attributes;r.success=function(t){a.attributes=h;var e=r.parse?a.parse(t,r):t;if(s)e=i.extend({},n,e);if(e&&!a.set(e,r))return false;if(o)o.call(r.context,a,t,r);a.trigger(\\\"sync\\\",a,t,r)};z(this,r);if(n&&s)this.attributes=i.extend({},h,n);var u=this.isNew()?\\\"create\\\":r.patch?\\\"patch\\\":\\\"update\\\";if(u===\\\"patch\\\"&&!r.attrs)r.attrs=n;var l=this.sync(u,this,r);this.attributes=h;return l},destroy:function(t){t=t?i.clone(t):{};var e=this;var r=t.success;var n=t.wait;var s=function(){e.stopListening();e.trigger(\\\"destroy\\\",e,e.collection,t)};t.success=function(i){if(n)s();if(r)r.call(t.context,e,i,t);if(!e.isNew())e.trigger(\\\"sync\\\",e,i,t)};var a=false;if(this.isNew()){i.defer(t.success)}else{z(this,t);a=this.sync(\\\"delete\\\",this,t)}if(!n)s();return a},url:function(){var t=i.result(this,\\\"urlRoot\\\")||i.result(this.collection,\\\"url\\\")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\\\\/]$/,\\\"$&/\\\")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:true},t))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;if(!r)return true;this.trigger(\\\"invalid\\\",this,r,i.extend(e,{validationError:r}));return false}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,\\\"attributes\\\");var x=e.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,i.extend({silent:true},e))};var w={add:true,remove:true,merge:true};var E={add:true,remove:false};var k=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var r=Array(t.length-i);var n=e.length;for(var s=0;s<r.length;s++)r[s]=t[s+i];for(s=0;s<n;s++)t[s+i]=e[s];for(s=0;s<r.length;s++)t[s+n+i]=r[s]};i.extend(x.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:false},e,E))},remove:function(t,e){e=i.extend({},e);var r=!i.isArray(t);t=r?[t]:i.clone(t);var n=this._removeModels(t,e);if(!e.silent&&n)this.trigger(\\\"update\\\",this,e);return r?n[0]:n},set:function(t,e){if(t==null)return;e=i.defaults({},e,w);if(e.parse&&!this._isModel(t))t=this.parse(t,e);var r=!i.isArray(t);t=r?[t]:t.slice();var n=e.at;if(n!=null)n=+n;if(n<0)n+=this.length+1;var s=[];var a=[];var o=[];var h={};var u=e.add;var l=e.merge;var c=e.remove;var f=false;var d=this.comparator&&n==null&&e.sort!==false;var v=i.isString(this.comparator)?this.comparator:null;var g;for(var p=0;p<t.length;p++){g=t[p];var m=this.get(g);if(m){if(l&&g!==m){var _=this._isModel(g)?g.attributes:g;if(e.parse)_=m.parse(_,e);m.set(_,e);if(d&&!f)f=m.hasChanged(v)}if(!h[m.cid]){h[m.cid]=true;s.push(m)}t[p]=m}else if(u){g=t[p]=this._prepareModel(g,e);if(g){a.push(g);this._addReference(g,e);h[g.cid]=true;s.push(g)}}}if(c){for(p=0;p<this.length;p++){g=this.models[p];if(!h[g.cid])o.push(g)}if(o.length)this._removeModels(o,e)}var y=false;var b=!d&&u&&c;if(s.length&&b){y=this.length!=s.length||i.some(this.models,function(t,e){return t!==s[e]});this.models.length=0;k(this.models,s,0);this.length=this.models.length}else if(a.length){if(d)f=true;k(this.models,a,n==null?this.length:n);this.length=this.models.length}if(f)this.sort({silent:true});if(!e.silent){for(p=0;p<a.length;p++){if(n!=null)e.index=n+p;g=a[p];g.trigger(\\\"add\\\",g,this,e)}if(f||y)this.trigger(\\\"sort\\\",this,e);if(a.length||o.length)this.trigger(\\\"update\\\",this,e)}return r?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var r=0;r<this.models.length;r++){this._removeReference(this.models[r],e)}e.previousModels=this.models;this._reset();t=this.add(t,i.extend({silent:true},e));if(!e.silent)this.trigger(\\\"reset\\\",this,e);return t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){if(t<0)t+=this.length;return this.models[t]},where:function(t,e){return this[e?\\\"find\\\":\\\"filter\\\"](t)},findWhere:function(t){return this.where(t,true)},sort:function(t){var e=this.comparator;if(!e)throw new Error(\\\"Cannot sort a set without a comparator\\\");t||(t={});var r=e.length;if(i.isFunction(e))e=i.bind(e,this);if(r===1||i.isString(e)){this.models=this.sortBy(e)}else{this.models.sort(e)}if(!t.silent)this.trigger(\\\"sort\\\",this,t);return this},pluck:function(t){return i.invoke(this.models,\\\"get\\\",t)},fetch:function(t){t=i.extend({parse:true},t);var e=t.success;var r=this;t.success=function(i){var n=t.reset?\\\"reset\\\":\\\"set\\\";r[n](i,t);if(e)e.call(t.context,r,i,t);r.trigger(\\\"sync\\\",r,i,t)};z(this,t);return this.sync(\\\"read\\\",this,t)},create:function(t,e){e=e?i.clone(e):{};var r=e.wait;t=this._prepareModel(t,e);if(!t)return false;if(!r)this.add(t,e);var n=this;var s=e.success;e.success=function(t,e,i){if(r)n.add(t,i);if(s)s.call(i.context,t,e,i)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||\\\"id\\\"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(this._isModel(t)){if(!t.collection)t.collection=this;return t}e=e?i.clone(e):{};e.collection=this;var r=new this.model(t,e);if(!r.validationError)return r;this.trigger(\\\"invalid\\\",this,r.validationError,e);return false},_removeModels:function(t,e){var i=[];for(var r=0;r<t.length;r++){var n=this.get(t[r]);if(!n)continue;var s=this.indexOf(n);this.models.splice(s,1);this.length--;if(!e.silent){e.index=s;n.trigger(\\\"remove\\\",n,this,e)}i.push(n);this._removeReference(n,e)}return i.length?i:false},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);if(i!=null)this._byId[i]=t;t.on(\\\"all\\\",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);if(i!=null)delete this._byId[i];if(this===t.collection)delete t.collection;t.off(\\\"all\\\",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if(e){if((t===\\\"add\\\"||t===\\\"remove\\\")&&i!==this)return;if(t===\\\"destroy\\\")this.remove(e,r);if(t===\\\"change\\\"){var n=this.modelId(e.previousAttributes());var s=this.modelId(e.attributes);if(n!==s){if(n!=null)delete this._byId[n];if(s!=null)this._byId[s]=e}}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};o(x,S,\\\"models\\\");var I=e.View=function(t){this.cid=i.uniqueId(\\\"view\\\");i.extend(this,i.pick(t,P));this._ensureElement();this.initialize.apply(this,arguments)};var T=/^(\\\\S+)\\\\s*(.*)$/;var P=[\\\"model\\\",\\\"collection\\\",\\\"el\\\",\\\"id\\\",\\\"attributes\\\",\\\"className\\\",\\\"tagName\\\",\\\"events\\\"];i.extend(I.prototype,l,{tagName:\\\"div\\\",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(t){this.undelegateEvents();this._setElement(t);this.delegateEvents();return this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t);this.el=this.$el[0]},delegateEvents:function(t){t||(t=i.result(this,\\\"events\\\"));if(!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(!i.isFunction(r))r=this[r];if(!r)continue;var n=e.match(T);this.delegate(n[1],n[2],i.bind(r,this))}return this},delegate:function(t,e,i){this.$el.on(t+\\\".delegateEvents\\\"+this.cid,e,i);return this},undelegateEvents:function(){if(this.$el)this.$el.off(\\\".delegateEvents\\\"+this.cid);return this},undelegate:function(t,e,i){this.$el.off(t+\\\".delegateEvents\\\"+this.cid,e,i);return this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(!this.el){var t=i.extend({},i.result(this,\\\"attributes\\\"));if(this.id)t.id=i.result(this,\\\"id\\\");if(this.className)t[\\\"class\\\"]=i.result(this,\\\"className\\\");this.setElement(this._createElement(i.result(this,\\\"tagName\\\")));this._setAttributes(t)}else{this.setElement(i.result(this,\\\"el\\\"))}},_setAttributes:function(t){this.$el.attr(t)}});e.sync=function(t,r,n){var s=H[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:s,dataType:\\\"json\\\"};if(!n.url){a.url=i.result(r,\\\"url\\\")||F()}if(n.data==null&&r&&(t===\\\"create\\\"||t===\\\"update\\\"||t===\\\"patch\\\")){a.contentType=\\\"application/json\\\";a.data=JSON.stringify(n.attrs||r.toJSON(n))}if(n.emulateJSON){a.contentType=\\\"application/x-www-form-urlencoded\\\";a.data=a.data?{model:a.data}:{}}if(n.emulateHTTP&&(s===\\\"PUT\\\"||s===\\\"DELETE\\\"||s===\\\"PATCH\\\")){a.type=\\\"POST\\\";if(n.emulateJSON)a.data._method=s;var o=n.beforeSend;n.beforeSend=function(t){t.setRequestHeader(\\\"X-HTTP-Method-Override\\\",s);if(o)return o.apply(this,arguments)}}if(a.type!==\\\"GET\\\"&&!n.emulateJSON){a.processData=false}var h=n.error;n.error=function(t,e,i){n.textStatus=e;n.errorThrown=i;if(h)h.call(n.context,t,e,i)};var u=n.xhr=e.ajax(i.extend(a,n));r.trigger(\\\"request\\\",r,u,n);return u};var H={create:\\\"POST\\\",update:\\\"PUT\\\",patch:\\\"PATCH\\\",\\\"delete\\\":\\\"DELETE\\\",read:\\\"GET\\\"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var A=/\\\\((.*?)\\\\)/g;var C=/(\\\\(\\\\?)?:\\\\w+/g;var R=/\\\\*\\\\w+/g;var j=/[\\\\-{}\\\\[\\\\]+?.,\\\\\\\\\\\\^$|#\\\\s]/g;i.extend($.prototype,l,{initialize:function(){},route:function(t,r,n){if(!i.isRegExp(t))t=this._routeToRegExp(t);if(i.isFunction(r)){n=r;r=\\\"\\\"}if(!n)n=this[r];var s=this;e.history.route(t,function(i){var a=s._extractParameters(t,i);if(s.execute(n,a,r)!==false){s.trigger.apply(s,[\\\"route:\\\"+r].concat(a));s.trigger(\\\"route\\\",r,a);e.history.trigger(\\\"route\\\",s,r,a)}});return this},execute:function(t,e,i){if(t)t.apply(this,e)},navigate:function(t,i){e.history.navigate(t,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,\\\"routes\\\");var t,e=i.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(j,\\\"\\\\\\\\$&\\\").replace(A,\\\"(?:$1)?\\\").replace(C,function(t,e){return e?t:\\\"([^/?]+)\\\"}).replace(R,\\\"([^?]*?)\\\");return new RegExp(\\\"^\\\"+t+\\\"(?:\\\\\\\\?([\\\\\\\\s\\\\\\\\S]*))?$\\\")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){if(e===r.length-1)return t||null;return t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[];this.checkUrl=i.bind(this.checkUrl,this);if(typeof window!==\\\"undefined\\\"){this.location=window.location;this.history=window.history}};var N=/^[#\\\\/]|\\\\s+$/g;var O=/^\\\\/+|\\\\/+$/g;var U=/#.*$/;M.started=false;i.extend(M.prototype,l,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\\\\/]$/,\\\"$&/\\\");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname);var e=t.slice(0,this.root.length-1)+\\\"/\\\";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,\\\"%2525\\\"))},getSearch:function(){var t=this.location.href.replace(/#.*/,\\\"\\\").match(/\\\\?.+/);return t?t[0]:\\\"\\\"},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:\\\"\\\"},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return t.charAt(0)===\\\"/\\\"?t.slice(1):t},getFragment:function(t){if(t==null){if(this._usePushState||!this._wantsHashChange){t=this.getPath()}else{t=this.getHash()}}return t.replace(N,\\\"\\\")},start:function(t){if(M.started)throw new Error(\\\"Backbone.history has already been started\\\");M.started=true;this.options=i.extend({root:\\\"/\\\"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange=\\\"onhashchange\\\"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=(\\\"/\\\"+this.root+\\\"/\\\").replace(O,\\\"/\\\");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||\\\"/\\\";this.location.replace(e+\\\"#\\\"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement(\\\"iframe\\\");this.iframe.src=\\\"javascript:0\\\";this.iframe.style.display=\\\"none\\\";this.iframe.tabIndex=-1;var r=document.body;var n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open();n.document.close();n.location.hash=\\\"#\\\"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent(\\\"on\\\"+t,e)};if(this._usePushState){s(\\\"popstate\\\",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){s(\\\"hashchange\\\",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent(\\\"on\\\"+t,e)};if(this._usePushState){t(\\\"popstate\\\",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){t(\\\"hashchange\\\",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);M.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getHash(this.iframe.contentWindow)}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){if(!this.matchRoot())return false;t=this.fragment=this.getFragment(t);return i.some(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!M.started)return false;if(!e||e===true)e={trigger:!!e};t=this.getFragment(t||\\\"\\\");var i=this.root;if(t===\\\"\\\"||t.charAt(0)===\\\"?\\\"){i=i.slice(0,-1)||\\\"/\\\"}var r=i+t;t=this.decodeFragment(t.replace(U,\\\"\\\"));if(this.fragment===t)return;this.fragment=t;if(this._usePushState){this.history[e.replace?\\\"replaceState\\\":\\\"pushState\\\"]({},document.title,r)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;if(!e.replace){n.document.open();n.document.close()}this._updateHash(n.location,t,e.replace)}}else{return this.location.assign(r)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,\\\"\\\");t.replace(r+\\\"#\\\"+e)}else{t.hash=\\\"#\\\"+e}}});e.history=new M;var q=function(t,e){var r=this;var n;if(t&&i.has(t,\\\"constructor\\\")){n=t.constructor}else{n=function(){return r.apply(this,arguments)}}i.extend(n,r,e);var s=function(){this.constructor=n};s.prototype=r.prototype;n.prototype=new s;if(t)i.extend(n.prototype,t);n.__super__=r.prototype;return n};y.extend=x.extend=$.extend=I.extend=M.extend=q;var F=function(){throw new Error('A \\\"url\\\" property or function must be specified')};var z=function(t,e){var i=e.error;e.error=function(r){if(i)i.call(e.context,t,r,e);t.trigger(\\\"error\\\",t,r,e)}};return e});\\n//# sourceMappingURL=backbone-min.map\\n\"\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(13))\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/*!\\n\\n handlebars v1.3.0\\n\\nCopyright (C) 2011 by Yehuda Katz\\n\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\nof this software and associated documentation files (the \\\"Software\\\"), to deal\\nin the Software without restriction, including without limitation the rights\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\ncopies of the Software, and to permit persons to whom the Software is\\nfurnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in\\nall copies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\nTHE SOFTWARE.\\n\\n@license\\n*/\\nvar Handlebars=function(){var a=function(){\\\"use strict\\\";function a(a){this.string=a}var b;return a.prototype.toString=function(){return\\\"\\\"+this.string},b=a}(),b=function(a){\\\"use strict\\\";function b(a){return h[a]||\\\"&amp;\\\"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=\\\"\\\"+a,j.test(a)?a.replace(i,b):a):\\\"\\\"}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={\\\"&\\\":\\\"&amp;\\\",\\\"<\\\":\\\"&lt;\\\",\\\">\\\":\\\"&gt;\\\",'\\\"':\\\"&quot;\\\",\\\"'\\\":\\\"&#x27;\\\",\\\"`\\\":\\\"&#x60;\\\"},i=/[&<>\\\"'`]/g,j=/[&<>\\\"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return\\\"function\\\"==typeof a};l(/x/)&&(l=function(a){return\\\"function\\\"==typeof a&&\\\"[object Function]\\\"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&\\\"object\\\"==typeof a?\\\"[object Array]\\\"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){\\\"use strict\\\";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=\\\" - \\\"+d+\\\":\\\"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=[\\\"description\\\",\\\"fileName\\\",\\\"lineNumber\\\",\\\"message\\\",\\\"name\\\",\\\"number\\\",\\\"stack\\\"];return a.prototype=new Error,b=a}(),d=function(a,b){\\\"use strict\\\";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper(\\\"helperMissing\\\",function(a){if(2===arguments.length)return void 0;throw new h(\\\"Missing helper: '\\\"+a+\\\"'\\\")}),a.registerHelper(\\\"blockHelperMissing\\\",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper(\\\"each\\\",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g=\\\"\\\";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&\\\"object\\\"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper(\\\"if\\\",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper(\\\"unless\\\",function(b,c){return a.helpers[\\\"if\\\"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper(\\\"with\\\",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper(\\\"log\\\",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i=\\\"1.3.0\\\";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:\\\"<= 1.0.rc.2\\\",2:\\\"== 1.0.0-rc.3\\\",3:\\\"== 1.0.0-rc.4\\\",4:\\\">= 1.0.0\\\"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o=\\\"[object Object]\\\";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h(\\\"Arg not supported with multiple helpers\\\");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:\\\"debug\\\",1:\\\"info\\\",2:\\\"warn\\\",3:\\\"error\\\"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];\\\"undefined\\\"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){\\\"use strict\\\";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l(\\\"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (\\\"+d+\\\") or downgrade your runtime to an older version (\\\"+e+\\\").\\\")}throw new l(\\\"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (\\\"+a[1]+\\\").\\\")}}function e(a,b){if(!b)throw new l(\\\"No environment passed to template\\\");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l(\\\"The partial \\\"+c+\\\" could not be compiled when running in runtime-only mode\\\")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l(\\\"The partial \\\"+b+\\\" could not be found\\\");return a instanceof Function?a(c,g):void 0}function i(){return\\\"\\\"}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){\\\"use strict\\\";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){\\\"use strict\\\";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type=\\\"program\\\",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type=\\\"mustache\\\",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped=\\\"{\\\"!==h&&\\\"&\\\"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type=\\\"sexpr\\\",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type=\\\"partial\\\",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+\\\" doesn't match \\\"+f.path.original,this);this.type=\\\"block\\\",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type=\\\"content\\\",this.string=a},HashNode:function(a,c){b.call(this,c),this.type=\\\"hash\\\",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type=\\\"ID\\\";for(var e=\\\"\\\",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||\\\"\\\")+j,\\\"..\\\"===j||\\\".\\\"===j||\\\"this\\\"===j){if(f.length>0)throw new d(\\\"Invalid path: \\\"+e,this);\\\"..\\\"===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join(\\\".\\\"),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type=\\\"PARTIAL_NAME\\\",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type=\\\"DATA\\\",this.id=a},StringNode:function(a,c){b.call(this,c),this.type=\\\"STRING\\\",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type=\\\"INTEGER\\\",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type=\\\"BOOLEAN\\\",this.bool=a,this.stringModeValue=\\\"true\\\"===a},CommentNode:function(a,c){b.call(this,c),this.type=\\\"comment\\\",this.comment=a}};return c=e}(c),h=function(){\\\"use strict\\\";var a,b=function(){function a(a,b){return{left:\\\"~\\\"===a.charAt(2),right:\\\"~\\\"===b.charAt(0)||\\\"~\\\"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:\\\"error\\\",5:\\\"EOF\\\",14:\\\"CONTENT\\\",15:\\\"COMMENT\\\",16:\\\"OPEN_BLOCK\\\",18:\\\"CLOSE\\\",19:\\\"OPEN_INVERSE\\\",20:\\\"OPEN_ENDBLOCK\\\",22:\\\"OPEN\\\",23:\\\"OPEN_UNESCAPED\\\",24:\\\"CLOSE_UNESCAPED\\\",25:\\\"OPEN_PARTIAL\\\",32:\\\"STRING\\\",33:\\\"INTEGER\\\",34:\\\"BOOLEAN\\\",35:\\\"OPEN_SEXPR\\\",36:\\\"CLOSE_SEXPR\\\",40:\\\"ID\\\",41:\\\"EQUALS\\\",42:\\\"DATA\\\",44:\\\"SEP\\\"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 13:this.$=g[h];break;case 14:this.$=g[h];break;case 15:this.$=new e.ContentNode(g[h],this._$);break;case 16:this.$=new e.CommentNode(g[h],this._$);break;case 17:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 19:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 22:this.$=new e.PartialNode(g[h-2],g[h-1],a(g[h-3],g[h]),this._$);break;case 23:this.$=a(g[h-1],g[h]);break;case 24:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 25:this.$=new e.SexprNode([g[h]],null,this._$);break;case 26:this.$=g[h];break;case 27:this.$=new e.StringNode(g[h],this._$);break;case 28:this.$=new e.IntegerNode(g[h],this._$);break;case 29:this.$=new e.BooleanNode(g[h],this._$);break;case 30:this.$=g[h];break;case 31:g[h-1].isHelper=!0,this.$=g[h-1];break;case 32:this.$=new e.HashNode(g[h],this._$);break;case 33:this.$=[g[h-2],g[h]];break;case 34:this.$=new e.PartialNameNode(g[h],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[h],this._$));break;case 37:this.$=new e.DataNode(g[h],this._$);break;case 38:this.$=new e.IdNode(g[h],this._$);break;case 39:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 40:this.$=[{part:g[h]}];break;case 43:this.$=[];break;case 44:g[h-1].push(g[h]);break;case 47:this.$=[g[h]];break;case 48:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,\\\"number\\\"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h=\\\"\\\",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,\\\"undefined\\\"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;\\\"function\\\"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||\\\"undefined\\\"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),\\\"undefined\\\"==typeof q||!q.length||!q[0]){var x=\\\"\\\";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push(\\\"'\\\"+this.terminals_[s]+\\\"'\\\");x=this.lexer.showPosition?\\\"Parse error on line \\\"+(i+1)+\\\":\\\\n\\\"+this.lexer.showPosition()+\\\"\\\\nExpecting \\\"+v.join(\\\", \\\")+\\\", got '\\\"+(this.terminals_[n]||n)+\\\"'\\\":\\\"Parse error on line \\\"+(i+1)+\\\": Unexpected \\\"+(1==n?\\\"end of input\\\":\\\"'\\\"+(this.terminals_[n]||n)+\\\"'\\\"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error(\\\"Parse Error: multiple actions possible at state: \\\"+p+\\\", token: \\\"+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),\\\"undefined\\\"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match=\\\"\\\",this.conditionStack=[\\\"INITIAL\\\"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\\\\r\\\\n?|\\\\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\\\\r\\\\n?|\\\\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\\\\r\\\\n?|\\\\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?\\\"...\\\":\\\"\\\")+a.substr(-20).replace(/\\\\n/g,\\\"\\\")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?\\\"...\\\":\\\"\\\")).replace(/\\\\n/g,\\\"\\\")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join(\\\"-\\\");return a+this.upcomingInput()+\\\"\\\\n\\\"+b+\\\"^\\\"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext=\\\"\\\",this.match=\\\"\\\");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\\\\r\\\\n?|\\\\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\\\\r?\\\\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):\\\"\\\"===this._input?this.EOF:this.parseError(\\\"Lexical error on line \\\"+(this.yylineno+1)+\\\". Unrecognized text.\\\\n\\\"+this.showPosition(),{text:\\\"\\\",token:null,line:this.yylineno})},lex:function(){var a=this.next();return\\\"undefined\\\"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if(\\\"\\\\\\\\\\\\\\\\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin(\\\"mu\\\")):\\\"\\\\\\\\\\\"===b.yytext.slice(-1)?(e(0,1),this.begin(\\\"emu\\\")):this.begin(\\\"mu\\\"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin(\\\"com\\\");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\\\\\\\\\\"/g,'\\\"'),32;case 24:return b.yytext=e(1,2).replace(/\\\\\\\\'/g,\\\"'\\\"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return\\\"INVALID\\\";case 32:return 5}},a.rules=[/^(?:[^\\\\x00]*?(?=(\\\\{\\\\{)))/,/^(?:[^\\\\x00]+)/,/^(?:[^\\\\x00]{2,}?(?=(\\\\{\\\\{|\\\\\\\\\\\\{\\\\{|\\\\\\\\\\\\\\\\\\\\{\\\\{|$)))/,/^(?:[\\\\s\\\\S]*?--\\\\}\\\\})/,/^(?:\\\\()/,/^(?:\\\\))/,/^(?:\\\\{\\\\{(~)?>)/,/^(?:\\\\{\\\\{(~)?#)/,/^(?:\\\\{\\\\{(~)?\\\\/)/,/^(?:\\\\{\\\\{(~)?\\\\^)/,/^(?:\\\\{\\\\{(~)?\\\\s*else\\\\b)/,/^(?:\\\\{\\\\{(~)?\\\\{)/,/^(?:\\\\{\\\\{(~)?&)/,/^(?:\\\\{\\\\{!--)/,/^(?:\\\\{\\\\{![\\\\s\\\\S]*?\\\\}\\\\})/,/^(?:\\\\{\\\\{(~)?)/,/^(?:=)/,/^(?:\\\\.\\\\.)/,/^(?:\\\\.(?=([=~}\\\\s\\\\/.)])))/,/^(?:[\\\\/.])/,/^(?:\\\\s+)/,/^(?:\\\\}(~)?\\\\}\\\\})/,/^(?:(~)?\\\\}\\\\})/,/^(?:\\\"(\\\\\\\\[\\\"]|[^\\\"])*\\\")/,/^(?:'(\\\\\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\\\s)])))/,/^(?:false(?=([~}\\\\s)])))/,/^(?:-?[0-9]+(?=([~}\\\\s)])))/,/^(?:([^\\\\s!\\\"#%-,\\\\.\\\\/;->@\\\\[-\\\\^`\\\\{-~]+(?=([=~}\\\\s\\\\/.)]))))/,/^(?:\\\\[[^\\\\]]*\\\\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){\\\"use strict\\\";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){\\\"use strict\\\";function b(){}function c(a,b,c){if(null==a||\\\"string\\\"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f(\\\"You must pass a string or Handlebars AST to Handlebars.precompile. You passed \\\"+a);b=b||{},\\\"data\\\"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||\\\"string\\\"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f(\\\"You must pass a string or Handlebars AST to Handlebars.compile. You passed \\\"+a);b=b||{},\\\"data\\\"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],\\\"DECLARE\\\"===a.opcode)e.push(\\\"DECLARE \\\"+a.name+\\\"=\\\"+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],\\\"string\\\"==typeof c&&(c='\\\"'+c.replace(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\")+'\\\"'),b.push(c);e.push(a.opcode+\\\" \\\"+b.join(\\\" \\\"))}return e.join(\\\"\\\\n\\\")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,\\\"if\\\":!0,unless:!0,\\\"with\\\":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode(\\\"strip\\\"),b=this[a.type](a),c.right&&this.opcode(\\\"strip\\\"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);\\\"helper\\\"===f?this.helperSexpr(e,c,d):\\\"simple\\\"===f?(this.simpleSexpr(e),this.opcode(\\\"pushProgram\\\",c),this.opcode(\\\"pushProgram\\\",d),this.opcode(\\\"emptyHash\\\"),this.opcode(\\\"blockValue\\\")):(this.ambiguousSexpr(e,c,d),this.opcode(\\\"pushProgram\\\",c),this.opcode(\\\"pushProgram\\\",d),this.opcode(\\\"emptyHash\\\"),this.opcode(\\\"ambiguousBlockValue\\\")),this.opcode(\\\"append\\\")},hash:function(a){var b,c,d=a.pairs;this.opcode(\\\"pushHash\\\");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode(\\\"getContext\\\",c.depth||0),this.opcode(\\\"pushStringParam\\\",c.stringModeValue,c.type),\\\"sexpr\\\"===c.type&&this.sexpr(c)):this.accept(c),this.opcode(\\\"assignToHash\\\",b[0]);this.opcode(\\\"popHash\\\")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode(\\\"push\\\",\\\"depth0\\\"),this.opcode(\\\"invokePartial\\\",b.name),this.opcode(\\\"append\\\")},content:function(a){this.opcode(\\\"appendContent\\\",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode(\\\"appendEscaped\\\"):this.opcode(\\\"append\\\")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode(\\\"getContext\\\",d.depth),this.opcode(\\\"pushProgram\\\",b),this.opcode(\\\"pushProgram\\\",c),this.opcode(\\\"invokeAmbiguous\\\",e,f)},simpleSexpr:function(a){var b=a.id;\\\"DATA\\\"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode(\\\"getContext\\\",b.depth),this.opcode(\\\"pushContext\\\")),this.opcode(\\\"resolvePossibleLambda\\\")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode(\\\"invokeKnownHelper\\\",d.length,e);else{if(this.options.knownHelpersOnly)throw new f(\\\"You specified knownHelpersOnly, but used the unknown helper \\\"+e,a);this.opcode(\\\"invokeHelper\\\",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);\\\"simple\\\"===b?this.simpleSexpr(a):\\\"helper\\\"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode(\\\"getContext\\\",a.depth);var b=a.parts[0];b?this.opcode(\\\"lookupOnContext\\\",a.parts[0]):this.opcode(\\\"pushContext\\\");for(var c=1,d=a.parts.length;d>c;c++)this.opcode(\\\"lookup\\\",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f(\\\"Scoped data references are not supported: \\\"+a.original,a);this.opcode(\\\"lookupData\\\");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode(\\\"lookup\\\",b[c])},STRING:function(a){this.opcode(\\\"pushString\\\",a.string)},INTEGER:function(a){this.opcode(\\\"pushLiteral\\\",a.integer)},BOOLEAN:function(a){this.opcode(\\\"pushLiteral\\\",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:\\\"DECLARE\\\",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?\\\"helper\\\":c?\\\"ambiguous\\\":\\\"simple\\\"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode(\\\"getContext\\\",b.depth||0),this.opcode(\\\"pushStringParam\\\",b.stringModeValue,b.type),\\\"sexpr\\\"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode(\\\"pushProgram\\\",b),this.opcode(\\\"pushProgram\\\",c),a.hash?this.hash(a.hash):this.opcode(\\\"emptyHash\\\"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){\\\"use strict\\\";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf(\\\"depth\\\")&&(c=!0),e=/^[0-9]+$/.test(b)?a+\\\"[\\\"+b+\\\"]\\\":d.isValidJavaScriptVariableName(b)?a+\\\".\\\"+b:a+\\\"['\\\"+b+\\\"']\\\",c?\\\"(\\\"+a+\\\" && \\\"+e+\\\")\\\":e},compilerInfo:function(){var a=f,b=g[a];return\\\"this.compilerInfo = [\\\"+a+\\\",'\\\"+b+\\\"'];\\\\n\\\"},appendToBuffer:function(a){return this.environment.isSimple?\\\"return \\\"+a+\\\";\\\":{appendToBuffer:!0,content:a,toString:function(){return\\\"buffer += \\\"+a+\\\";\\\"}}},initializeBuffer:function(){return this.quotedString(\\\"\\\")},namespace:\\\"Handlebars\\\",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h(\\\"debug\\\",this.environment.disassemble()+\\\"\\\\n\\\\n\\\"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);\\nvar e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],\\\"DECLARE\\\"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(\\\"\\\"),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i(\\\"Compile completed with content left on stack\\\");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push(\\\"\\\");else{var b=this.namespace,c=\\\"helpers = this.merge(helpers, \\\"+b+\\\".helpers);\\\";this.environment.usePartial&&(c=c+\\\" partials = this.merge(partials, \\\"+b+\\\".partials);\\\"),this.options.data&&(c+=\\\" data = data || {};\\\"),a.push(c)}this.environment.isSimple?a.push(\\\"\\\"):a.push(\\\", buffer = \\\"+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+\\\", \\\"+b.join(\\\", \\\")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+\\\", \\\"+c+\\\"=\\\"+this.context.aliases[c]);this.source[1]&&(this.source[1]=\\\"var \\\"+this.source[1].substring(2)+\\\";\\\"),this.isChild||(this.source[1]+=\\\"\\\\n\\\"+this.context.programs.join(\\\"\\\\n\\\")+\\\"\\\\n\\\"),this.environment.isSimple||this.pushSource(\\\"return buffer;\\\");for(var d=this.isChild?[\\\"depth0\\\",\\\"data\\\"]:[\\\"Handlebars\\\",\\\"depth0\\\",\\\"helpers\\\",\\\"partials\\\",\\\"data\\\"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push(\\\"depth\\\"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i=\\\"function \\\"+(this.name||\\\"\\\")+\\\"(\\\"+d.join(\\\",\\\")+\\\") {\\\\n  \\\"+g+\\\"}\\\";return h(\\\"debug\\\",i+\\\"\\\\n\\\\n\\\"),i},mergeSource:function(){for(var a,b=\\\"\\\",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+\\\"\\\\n    + \\\"+e.content:e.content:(a&&(b+=\\\"buffer += \\\"+a+\\\";\\\\n  \\\",a=void 0),b+=e+\\\"\\\\n  \\\")}return b},blockValue:function(){this.context.aliases.blockHelperMissing=\\\"helpers.blockHelperMissing\\\";var a=[\\\"depth0\\\"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),\\\"blockHelperMissing.call(\\\"+a.join(\\\", \\\")+\\\")\\\"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing=\\\"helpers.blockHelperMissing\\\";var a=[\\\"depth0\\\"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource(\\\"if (!\\\"+this.lastHelper+\\\") { \\\"+b+\\\" = blockHelperMissing.call(\\\"+a.join(\\\", \\\")+\\\"); }\\\")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\\\\s+/,\\\"\\\")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\\\\s+$/,\\\"\\\")),this.stripNext=\\\"strip\\\"},append:function(){this.flushInline();var a=this.popStack();this.pushSource(\\\"if(\\\"+a+\\\" || \\\"+a+\\\" === 0) { \\\"+this.appendToBuffer(a)+\\\" }\\\"),this.environment.isSimple&&this.pushSource(\\\"else { \\\"+this.appendToBuffer(\\\"''\\\")+\\\" }\\\")},appendEscaped:function(){this.context.aliases.escapeExpression=\\\"this.escapeExpression\\\",this.pushSource(this.appendToBuffer(\\\"escapeExpression(\\\"+this.popStack()+\\\")\\\"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup(\\\"depth\\\"+this.lastContext,a,\\\"context\\\"))},pushContext:function(){this.pushStackLiteral(\\\"depth\\\"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='\\\"function\\\"',this.replaceStack(function(a){return\\\"typeof \\\"+a+\\\" === functionType ? \\\"+a+\\\".apply(depth0) : \\\"+a})},lookup:function(a){this.replaceStack(function(b){return b+\\\" == null || \\\"+b+\\\" === false ? \\\"+b+\\\" : \\\"+this.nameLookup(b,a,\\\"context\\\")})},lookupData:function(){this.pushStackLiteral(\\\"data\\\")},pushStringParam:function(a,b){this.pushStackLiteral(\\\"depth\\\"+this.lastContext),this.pushString(b),\\\"sexpr\\\"!==b&&(\\\"string\\\"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral(\\\"{}\\\"),this.options.stringParams&&(this.push(\\\"{}\\\"),this.push(\\\"{}\\\"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push(\\\"{\\\"+a.contexts.join(\\\",\\\")+\\\"}\\\"),this.push(\\\"{\\\"+a.types.join(\\\",\\\")+\\\"}\\\")),this.push(\\\"{\\\\n    \\\"+a.values.join(\\\",\\\\n    \\\")+\\\"\\\\n  }\\\")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing=\\\"helpers.helperMissing\\\",this.useRegister(\\\"helper\\\");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup(\\\"depth\\\"+this.lastContext,b,\\\"context\\\"),f=\\\"helper = \\\"+d.name+\\\" || \\\"+e;d.paramsInit&&(f+=\\\",\\\"+d.paramsInit),this.push(\\\"(\\\"+f+\\\",helper ? helper.call(\\\"+d.callParams+\\\") : helperMissing.call(\\\"+d.helperMissingParams+\\\"))\\\"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+\\\".call(\\\"+c.callParams+\\\")\\\")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='\\\"function\\\"',this.useRegister(\\\"helper\\\"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup(\\\"helpers\\\",a,\\\"helper\\\"),e=this.nameLookup(\\\"depth\\\"+this.lastContext,a,\\\"context\\\"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource(\\\"if (helper = \\\"+d+\\\") { \\\"+f+\\\" = helper.call(\\\"+c.callParams+\\\"); }\\\"),this.pushSource(\\\"else { helper = \\\"+e+\\\"; \\\"+f+\\\" = typeof helper === functionType ? helper.call(\\\"+c.callParams+\\\") : helper; }\\\")},invokePartial:function(a){var b=[this.nameLookup(\\\"partials\\\",a,\\\"partial\\\"),\\\"'\\\"+a+\\\"'\\\",this.popStack(),\\\"helpers\\\",\\\"partials\\\"];this.options.data&&b.push(\\\"data\\\"),this.context.aliases.self=\\\"this\\\",this.push(\\\"self.invokePartial(\\\"+b.join(\\\", \\\")+\\\")\\\")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push(\\\"'\\\"+a+\\\"': \\\"+b),c&&e.types.push(\\\"'\\\"+a+\\\"': \\\"+c),e.values.push(\\\"'\\\"+a+\\\"': (\\\"+d+\\\")\\\")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(\\\"\\\"),h=this.context.programs.length,c.index=h,c.name=\\\"program\\\"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name=\\\"program\\\"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self=\\\"this\\\",null==a)return\\\"self.noop\\\";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,\\\"data\\\"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push(\\\"depth0\\\"):e.push(\\\"depth\\\"+(b-1));return(0===d.length?\\\"self.program(\\\":\\\"self.programWithDepth(\\\")+e.join(\\\", \\\")+\\\")\\\"},register:function(a,b){this.useRegister(a),this.pushSource(a+\\\" = \\\"+b+\\\";\\\")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+\\\" = \\\"+a+\\\";\\\"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f=\\\"\\\",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f=\\\"(\\\"+this.push(i)+\\\" = \\\"+h+\\\"),\\\",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push(\\\"(\\\"+f+j+\\\")\\\")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+\\\" = (\\\"+f+j+\\\");\\\")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push(\\\"stack\\\"+this.stackSlot),this.topStackName()},topStackName:function(){return\\\"stack\\\"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i(\\\"Invalid stack pop\\\");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'\\\"'+a.replace(/\\\\\\\\/g,\\\"\\\\\\\\\\\\\\\\\\\").replace(/\\\"/g,'\\\\\\\\\\\"').replace(/\\\\n/g,\\\"\\\\\\\\n\\\").replace(/\\\\r/g,\\\"\\\\\\\\r\\\").replace(/\\\\u2028/g,\\\"\\\\\\\\u2028\\\").replace(/\\\\u2029/g,\\\"\\\\\\\\u2029\\\")+'\\\"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup(\\\"helpers\\\",b,\\\"helper\\\");return{params:d,paramsInit:e,name:f,callParams:[\\\"depth0\\\"].concat(d).join(\\\", \\\"),helperMissingParams:c&&[\\\"depth0\\\",this.quotedString(b)].concat(d).join(\\\", \\\")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push(\\\"hash:\\\"+this.popStack()),this.options.stringParams&&(f.push(\\\"hashTypes:\\\"+this.popStack()),f.push(\\\"hashContexts:\\\"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self=\\\"this\\\",e=\\\"self.noop\\\"),d||(this.context.aliases.self=\\\"this\\\",d=\\\"self.noop\\\"),f.push(\\\"inverse:\\\"+d),f.push(\\\"fn:\\\"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push(\\\"contexts:[\\\"+g.join(\\\",\\\")+\\\"]\\\"),f.push(\\\"types:[\\\"+h.join(\\\",\\\")+\\\"]\\\")),this.options.data&&f.push(\\\"data:data\\\"),f},setupParams:function(a,b,c){var d=\\\"{\\\"+this.setupOptions(a,b).join(\\\",\\\")+\\\"}\\\";return c?(this.useRegister(\\\"options\\\"),b.push(\\\"options\\\"),\\\"options=\\\"+d):(b.push(d),\\\"\\\")}};for(var j=\\\"break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield\\\".split(\\\" \\\"),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){\\\"use strict\\\";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}();\"\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// This file is just added for convenience so this repository can be\n\t// directly checked out into a project's deps folder\n\tmodule.exports = __webpack_require__(15);\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/*global setTimeout: false, console: false */\n\t(function () {\n\t\n\t    var async = {};\n\t\n\t    // global on the server, window in the browser\n\t    var root = this,\n\t        previous_async = root.async;\n\t\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t        module.exports = async;\n\t    }\n\t    else {\n\t        root.async = async;\n\t    }\n\t\n\t    async.noConflict = function () {\n\t        root.async = previous_async;\n\t        return async;\n\t    };\n\t\n\t    //// cross-browser compatiblity functions ////\n\t\n\t    var _forEach = function (arr, iterator) {\n\t        if (arr.forEach) {\n\t            return arr.forEach(iterator);\n\t        }\n\t        for (var i = 0; i < arr.length; i += 1) {\n\t            iterator(arr[i], i, arr);\n\t        }\n\t    };\n\t\n\t    var _map = function (arr, iterator) {\n\t        if (arr.map) {\n\t            return arr.map(iterator);\n\t        }\n\t        var results = [];\n\t        _forEach(arr, function (x, i, a) {\n\t            results.push(iterator(x, i, a));\n\t        });\n\t        return results;\n\t    };\n\t\n\t    var _reduce = function (arr, iterator, memo) {\n\t        if (arr.reduce) {\n\t            return arr.reduce(iterator, memo);\n\t        }\n\t        _forEach(arr, function (x, i, a) {\n\t            memo = iterator(memo, x, i, a);\n\t        });\n\t        return memo;\n\t    };\n\t\n\t    var _keys = function (obj) {\n\t        if (Object.keys) {\n\t            return Object.keys(obj);\n\t        }\n\t        var keys = [];\n\t        for (var k in obj) {\n\t            if (obj.hasOwnProperty(k)) {\n\t                keys.push(k);\n\t            }\n\t        }\n\t        return keys;\n\t    };\n\t\n\t    //// exported async module functions ////\n\t\n\t    //// nextTick implementation with browser-compatible fallback ////\n\t    if (typeof process === 'undefined' || !(process.nextTick)) {\n\t        async.nextTick = function (fn) {\n\t            setTimeout(fn, 0);\n\t        };\n\t    }\n\t    else {\n\t        async.nextTick = process.nextTick;\n\t    }\n\t\n\t    async.forEach = function (arr, iterator, callback) {\n\t        callback = callback || function () {};\n\t        if (!arr.length) {\n\t            return callback();\n\t        }\n\t        var completed = 0;\n\t        _forEach(arr, function (x) {\n\t            iterator(x, function (err) {\n\t                if (err) {\n\t                    callback(err);\n\t                    callback = function () {};\n\t                }\n\t                else {\n\t                    completed += 1;\n\t                    if (completed === arr.length) {\n\t                        callback();\n\t                    }\n\t                }\n\t            });\n\t        });\n\t    };\n\t\n\t    async.forEachSeries = function (arr, iterator, callback) {\n\t        callback = callback || function () {};\n\t        if (!arr.length) {\n\t            return callback();\n\t        }\n\t        var completed = 0;\n\t        var iterate = function () {\n\t            iterator(arr[completed], function (err) {\n\t                if (err) {\n\t                    callback(err);\n\t                    callback = function () {};\n\t                }\n\t                else {\n\t                    completed += 1;\n\t                    if (completed === arr.length) {\n\t                        callback();\n\t                    }\n\t                    else {\n\t                        iterate();\n\t                    }\n\t                }\n\t            });\n\t        };\n\t        iterate();\n\t    };\n\t    \n\t    async.forEachLimit = function (arr, limit, iterator, callback) {\n\t        callback = callback || function () {};\n\t        if (!arr.length || limit <= 0) {\n\t            return callback(); \n\t        }\n\t        var completed = 0;\n\t        var started = 0;\n\t        var running = 0;\n\t        \n\t        (function replenish () {\n\t          if (completed === arr.length) {\n\t              return callback();\n\t          }\n\t          \n\t          while (running < limit && started < arr.length) {\n\t            iterator(arr[started], function (err) {\n\t              if (err) {\n\t                  callback(err);\n\t                  callback = function () {};\n\t              }\n\t              else {\n\t                  completed += 1;\n\t                  running -= 1;\n\t                  if (completed === arr.length) {\n\t                      callback();\n\t                  }\n\t                  else {\n\t                      replenish();\n\t                  }\n\t              }\n\t            });\n\t            started += 1;\n\t            running += 1;\n\t          }\n\t        })();\n\t    };\n\t\n\t\n\t    var doParallel = function (fn) {\n\t        return function () {\n\t            var args = Array.prototype.slice.call(arguments);\n\t            return fn.apply(null, [async.forEach].concat(args));\n\t        };\n\t    };\n\t    var doSeries = function (fn) {\n\t        return function () {\n\t            var args = Array.prototype.slice.call(arguments);\n\t            return fn.apply(null, [async.forEachSeries].concat(args));\n\t        };\n\t    };\n\t\n\t\n\t    var _asyncMap = function (eachfn, arr, iterator, callback) {\n\t        var results = [];\n\t        arr = _map(arr, function (x, i) {\n\t            return {index: i, value: x};\n\t        });\n\t        eachfn(arr, function (x, callback) {\n\t            iterator(x.value, function (err, v) {\n\t                results[x.index] = v;\n\t                callback(err);\n\t            });\n\t        }, function (err) {\n\t            callback(err, results);\n\t        });\n\t    };\n\t    async.map = doParallel(_asyncMap);\n\t    async.mapSeries = doSeries(_asyncMap);\n\t\n\t\n\t    // reduce only has a series version, as doing reduce in parallel won't\n\t    // work in many situations.\n\t    async.reduce = function (arr, memo, iterator, callback) {\n\t        async.forEachSeries(arr, function (x, callback) {\n\t            iterator(memo, x, function (err, v) {\n\t                memo = v;\n\t                callback(err);\n\t            });\n\t        }, function (err) {\n\t            callback(err, memo);\n\t        });\n\t    };\n\t    // inject alias\n\t    async.inject = async.reduce;\n\t    // foldl alias\n\t    async.foldl = async.reduce;\n\t\n\t    async.reduceRight = function (arr, memo, iterator, callback) {\n\t        var reversed = _map(arr, function (x) {\n\t            return x;\n\t        }).reverse();\n\t        async.reduce(reversed, memo, iterator, callback);\n\t    };\n\t    // foldr alias\n\t    async.foldr = async.reduceRight;\n\t\n\t    var _filter = function (eachfn, arr, iterator, callback) {\n\t        var results = [];\n\t        arr = _map(arr, function (x, i) {\n\t            return {index: i, value: x};\n\t        });\n\t        eachfn(arr, function (x, callback) {\n\t            iterator(x.value, function (v) {\n\t                if (v) {\n\t                    results.push(x);\n\t                }\n\t                callback();\n\t            });\n\t        }, function (err) {\n\t            callback(_map(results.sort(function (a, b) {\n\t                return a.index - b.index;\n\t            }), function (x) {\n\t                return x.value;\n\t            }));\n\t        });\n\t    };\n\t    async.filter = doParallel(_filter);\n\t    async.filterSeries = doSeries(_filter);\n\t    // select alias\n\t    async.select = async.filter;\n\t    async.selectSeries = async.filterSeries;\n\t\n\t    var _reject = function (eachfn, arr, iterator, callback) {\n\t        var results = [];\n\t        arr = _map(arr, function (x, i) {\n\t            return {index: i, value: x};\n\t        });\n\t        eachfn(arr, function (x, callback) {\n\t            iterator(x.value, function (v) {\n\t                if (!v) {\n\t                    results.push(x);\n\t                }\n\t                callback();\n\t            });\n\t        }, function (err) {\n\t            callback(_map(results.sort(function (a, b) {\n\t                return a.index - b.index;\n\t            }), function (x) {\n\t                return x.value;\n\t            }));\n\t        });\n\t    };\n\t    async.reject = doParallel(_reject);\n\t    async.rejectSeries = doSeries(_reject);\n\t\n\t    var _detect = function (eachfn, arr, iterator, main_callback) {\n\t        eachfn(arr, function (x, callback) {\n\t            iterator(x, function (result) {\n\t                if (result) {\n\t                    main_callback(x);\n\t                    main_callback = function () {};\n\t                }\n\t                else {\n\t                    callback();\n\t                }\n\t            });\n\t        }, function (err) {\n\t            main_callback();\n\t        });\n\t    };\n\t    async.detect = doParallel(_detect);\n\t    async.detectSeries = doSeries(_detect);\n\t\n\t    async.some = function (arr, iterator, main_callback) {\n\t        async.forEach(arr, function (x, callback) {\n\t            iterator(x, function (v) {\n\t                if (v) {\n\t                    main_callback(true);\n\t                    main_callback = function () {};\n\t                }\n\t                callback();\n\t            });\n\t        }, function (err) {\n\t            main_callback(false);\n\t        });\n\t    };\n\t    // any alias\n\t    async.any = async.some;\n\t\n\t    async.every = function (arr, iterator, main_callback) {\n\t        async.forEach(arr, function (x, callback) {\n\t            iterator(x, function (v) {\n\t                if (!v) {\n\t                    main_callback(false);\n\t                    main_callback = function () {};\n\t                }\n\t                callback();\n\t            });\n\t        }, function (err) {\n\t            main_callback(true);\n\t        });\n\t    };\n\t    // all alias\n\t    async.all = async.every;\n\t\n\t    async.sortBy = function (arr, iterator, callback) {\n\t        async.map(arr, function (x, callback) {\n\t            iterator(x, function (err, criteria) {\n\t                if (err) {\n\t                    callback(err);\n\t                }\n\t                else {\n\t                    callback(null, {value: x, criteria: criteria});\n\t                }\n\t            });\n\t        }, function (err, results) {\n\t            if (err) {\n\t                return callback(err);\n\t            }\n\t            else {\n\t                var fn = function (left, right) {\n\t                    var a = left.criteria, b = right.criteria;\n\t                    return a < b ? -1 : a > b ? 1 : 0;\n\t                };\n\t                callback(null, _map(results.sort(fn), function (x) {\n\t                    return x.value;\n\t                }));\n\t            }\n\t        });\n\t    };\n\t\n\t    async.auto = function (tasks, callback) {\n\t        callback = callback || function () {};\n\t        var keys = _keys(tasks);\n\t        if (!keys.length) {\n\t            return callback(null);\n\t        }\n\t\n\t        var results = {};\n\t\n\t        var listeners = [];\n\t        var addListener = function (fn) {\n\t            listeners.unshift(fn);\n\t        };\n\t        var removeListener = function (fn) {\n\t            for (var i = 0; i < listeners.length; i += 1) {\n\t                if (listeners[i] === fn) {\n\t                    listeners.splice(i, 1);\n\t                    return;\n\t                }\n\t            }\n\t        };\n\t        var taskComplete = function () {\n\t            _forEach(listeners.slice(0), function (fn) {\n\t                fn();\n\t            });\n\t        };\n\t\n\t        addListener(function () {\n\t            if (_keys(results).length === keys.length) {\n\t                callback(null, results);\n\t                callback = function () {};\n\t            }\n\t        });\n\t\n\t        _forEach(keys, function (k) {\n\t            var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];\n\t            var taskCallback = function (err) {\n\t                if (err) {\n\t                    callback(err);\n\t                    // stop subsequent errors hitting callback multiple times\n\t                    callback = function () {};\n\t                }\n\t                else {\n\t                    var args = Array.prototype.slice.call(arguments, 1);\n\t                    if (args.length <= 1) {\n\t                        args = args[0];\n\t                    }\n\t                    results[k] = args;\n\t                    taskComplete();\n\t                }\n\t            };\n\t            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n\t            var ready = function () {\n\t                return _reduce(requires, function (a, x) {\n\t                    return (a && results.hasOwnProperty(x));\n\t                }, true);\n\t            };\n\t            if (ready()) {\n\t                task[task.length - 1](taskCallback, results);\n\t            }\n\t            else {\n\t                var listener = function () {\n\t                    if (ready()) {\n\t                        removeListener(listener);\n\t                        task[task.length - 1](taskCallback, results);\n\t                    }\n\t                };\n\t                addListener(listener);\n\t            }\n\t        });\n\t    };\n\t\n\t    async.waterfall = function (tasks, callback) {\n\t        callback = callback || function () {};\n\t        if (!tasks.length) {\n\t            return callback();\n\t        }\n\t        var wrapIterator = function (iterator) {\n\t            return function (err) {\n\t                if (err) {\n\t                    callback(err);\n\t                    callback = function () {};\n\t                }\n\t                else {\n\t                    var args = Array.prototype.slice.call(arguments, 1);\n\t                    var next = iterator.next();\n\t                    if (next) {\n\t                        args.push(wrapIterator(next));\n\t                    }\n\t                    else {\n\t                        args.push(callback);\n\t                    }\n\t                    async.nextTick(function () {\n\t                        iterator.apply(null, args);\n\t                    });\n\t                }\n\t            };\n\t        };\n\t        wrapIterator(async.iterator(tasks))();\n\t    };\n\t\n\t    async.parallel = function (tasks, callback) {\n\t        callback = callback || function () {};\n\t        if (tasks.constructor === Array) {\n\t            async.map(tasks, function (fn, callback) {\n\t                if (fn) {\n\t                    fn(function (err) {\n\t                        var args = Array.prototype.slice.call(arguments, 1);\n\t                        if (args.length <= 1) {\n\t                            args = args[0];\n\t                        }\n\t                        callback.call(null, err, args);\n\t                    });\n\t                }\n\t            }, callback);\n\t        }\n\t        else {\n\t            var results = {};\n\t            async.forEach(_keys(tasks), function (k, callback) {\n\t                tasks[k](function (err) {\n\t                    var args = Array.prototype.slice.call(arguments, 1);\n\t                    if (args.length <= 1) {\n\t                        args = args[0];\n\t                    }\n\t                    results[k] = args;\n\t                    callback(err);\n\t                });\n\t            }, function (err) {\n\t                callback(err, results);\n\t            });\n\t        }\n\t    };\n\t\n\t    async.series = function (tasks, callback) {\n\t        callback = callback || function () {};\n\t        if (tasks.constructor === Array) {\n\t            async.mapSeries(tasks, function (fn, callback) {\n\t                if (fn) {\n\t                    fn(function (err) {\n\t                        var args = Array.prototype.slice.call(arguments, 1);\n\t                        if (args.length <= 1) {\n\t                            args = args[0];\n\t                        }\n\t                        callback.call(null, err, args);\n\t                    });\n\t                }\n\t            }, callback);\n\t        }\n\t        else {\n\t            var results = {};\n\t            async.forEachSeries(_keys(tasks), function (k, callback) {\n\t                tasks[k](function (err) {\n\t                    var args = Array.prototype.slice.call(arguments, 1);\n\t                    if (args.length <= 1) {\n\t                        args = args[0];\n\t                    }\n\t                    results[k] = args;\n\t                    callback(err);\n\t                });\n\t            }, function (err) {\n\t                callback(err, results);\n\t            });\n\t        }\n\t    };\n\t\n\t    async.iterator = function (tasks) {\n\t        var makeCallback = function (index) {\n\t            var fn = function () {\n\t                if (tasks.length) {\n\t                    tasks[index].apply(null, arguments);\n\t                }\n\t                return fn.next();\n\t            };\n\t            fn.next = function () {\n\t                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n\t            };\n\t            return fn;\n\t        };\n\t        return makeCallback(0);\n\t    };\n\t\n\t    async.apply = function (fn) {\n\t        var args = Array.prototype.slice.call(arguments, 1);\n\t        return function () {\n\t            return fn.apply(\n\t                null, args.concat(Array.prototype.slice.call(arguments))\n\t            );\n\t        };\n\t    };\n\t\n\t    var _concat = function (eachfn, arr, fn, callback) {\n\t        var r = [];\n\t        eachfn(arr, function (x, cb) {\n\t            fn(x, function (err, y) {\n\t                r = r.concat(y || []);\n\t                cb(err);\n\t            });\n\t        }, function (err) {\n\t            callback(err, r);\n\t        });\n\t    };\n\t    async.concat = doParallel(_concat);\n\t    async.concatSeries = doSeries(_concat);\n\t\n\t    async.whilst = function (test, iterator, callback) {\n\t        if (test()) {\n\t            iterator(function (err) {\n\t                if (err) {\n\t                    return callback(err);\n\t                }\n\t                async.whilst(test, iterator, callback);\n\t            });\n\t        }\n\t        else {\n\t            callback();\n\t        }\n\t    };\n\t\n\t    async.until = function (test, iterator, callback) {\n\t        if (!test()) {\n\t            iterator(function (err) {\n\t                if (err) {\n\t                    return callback(err);\n\t                }\n\t                async.until(test, iterator, callback);\n\t            });\n\t        }\n\t        else {\n\t            callback();\n\t        }\n\t    };\n\t\n\t    async.queue = function (worker, concurrency) {\n\t        var workers = 0;\n\t        var q = {\n\t            tasks: [],\n\t            concurrency: concurrency,\n\t            saturated: null,\n\t            empty: null,\n\t            drain: null,\n\t            push: function (data, callback) {\n\t                if(data.constructor !== Array) {\n\t                    data = [data];\n\t                }\n\t                _forEach(data, function(task) {\n\t                    q.tasks.push({\n\t                        data: task,\n\t                        callback: typeof callback === 'function' ? callback : null\n\t                    });\n\t                    if (q.saturated && q.tasks.length == concurrency) {\n\t                        q.saturated();\n\t                    }\n\t                    async.nextTick(q.process);\n\t                });\n\t            },\n\t            process: function () {\n\t                if (workers < q.concurrency && q.tasks.length) {\n\t                    var task = q.tasks.shift();\n\t                    if(q.empty && q.tasks.length == 0) q.empty();\n\t                    workers += 1;\n\t                    worker(task.data, function () {\n\t                        workers -= 1;\n\t                        if (task.callback) {\n\t                            task.callback.apply(task, arguments);\n\t                        }\n\t                        if(q.drain && q.tasks.length + workers == 0) q.drain();\n\t                        q.process();\n\t                    });\n\t                }\n\t            },\n\t            length: function () {\n\t                return q.tasks.length;\n\t            },\n\t            running: function () {\n\t                return workers;\n\t            }\n\t        };\n\t        return q;\n\t    };\n\t\n\t    var _console_fn = function (name) {\n\t        return function (fn) {\n\t            var args = Array.prototype.slice.call(arguments, 1);\n\t            fn.apply(null, args.concat([function (err) {\n\t                var args = Array.prototype.slice.call(arguments, 1);\n\t                if (typeof console !== 'undefined') {\n\t                    if (err) {\n\t                        if (console.error) {\n\t                            console.error(err);\n\t                        }\n\t                    }\n\t                    else if (console[name]) {\n\t                        _forEach(args, function (x) {\n\t                            console[name](x);\n\t                        });\n\t                    }\n\t                }\n\t            }]));\n\t        };\n\t    };\n\t    async.log = _console_fn('log');\n\t    async.dir = _console_fn('dir');\n\t    /*async.info = _console_fn('info');\n\t    async.warn = _console_fn('warn');\n\t    async.error = _console_fn('error');*/\n\t\n\t    async.memoize = function (fn, hasher) {\n\t        var memo = {};\n\t        var queues = {};\n\t        hasher = hasher || function (x) {\n\t            return x;\n\t        };\n\t        var memoized = function () {\n\t            var args = Array.prototype.slice.call(arguments);\n\t            var callback = args.pop();\n\t            var key = hasher.apply(null, args);\n\t            if (key in memo) {\n\t                callback.apply(null, memo[key]);\n\t            }\n\t            else if (key in queues) {\n\t                queues[key].push(callback);\n\t            }\n\t            else {\n\t                queues[key] = [callback];\n\t                fn.apply(null, args.concat([function () {\n\t                    memo[key] = arguments;\n\t                    var q = queues[key];\n\t                    delete queues[key];\n\t                    for (var i = 0, l = q.length; i < l; i++) {\n\t                      q[i].apply(null, arguments);\n\t                    }\n\t                }]));\n\t            }\n\t        };\n\t        memoized.unmemoized = fn;\n\t        return memoized;\n\t    };\n\t\n\t    async.unmemoize = function (fn) {\n\t      return function () {\n\t        return (fn.unmemoized || fn).apply(null, arguments);\n\t      };\n\t    };\n\t\n\t}());\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(16)))\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(18))\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"//! moment.js\\n//! version : 2.11.2\\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\\n//! license : MIT\\n//! momentjs.com\\n!function(a,b){\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module?module.exports=b():\\\"function\\\"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){\\\"use strict\\\";function a(){return Uc.apply(null,arguments)}function b(a){Uc=a}function c(a){return\\\"[object Array]\\\"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||\\\"[object Date]\\\"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,\\\"toString\\\")&&(a.toString=b.toString),f(b,\\\"valueOf\\\")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Da(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),Wc.length>0)for(c in Wc)d=Wc[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Xc===!1&&(Xc=!0,a.updateOffset(this),Xc=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(){}function u(a){return a?a.toLowerCase().replace(\\\"_\\\",\\\"-\\\"):a}function v(a){for(var b,c,d,e,f=0;f<a.length;){for(e=u(a[f]).split(\\\"-\\\"),b=e.length,c=u(a[f+1]),c=c?c.split(\\\"-\\\"):null;b>0;){if(d=w(e.slice(0,b).join(\\\"-\\\")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function w(a){var b=null;if(!Yc[a]&&\\\"undefined\\\"!=typeof module&&module&&module.exports)try{b=Vc._abbr,require(\\\"./locale/\\\"+a),x(b)}catch(c){}return Yc[a]}function x(a,b){var c;return a&&(c=m(b)?z(a):y(a,b),c&&(Vc=c)),Vc._abbr}function y(a,b){return null!==b?(b.abbr=a,Yc[a]=Yc[a]||new t,Yc[a].set(b),x(a),Yc[a]):(delete Yc[a],null)}function z(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vc;if(!c(a)){if(b=w(a))return b;a=[a]}return v(a)}function A(a,b){var c=a.toLowerCase();Zc[c]=Zc[c+\\\"s\\\"]=Zc[b]=a}function B(a){return\\\"string\\\"==typeof a?Zc[a]||Zc[a.toLowerCase()]:void 0}function C(a){var b,c,d={};for(c in a)f(a,c)&&(b=B(c),b&&(d[b]=a[c]));return d}function D(a){return a instanceof Function||\\\"[object Function]\\\"===Object.prototype.toString.call(a)}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a.isValid()?a._d[\\\"get\\\"+(a._isUTC?\\\"UTC\\\":\\\"\\\")+b]():NaN}function G(a,b,c){a.isValid()&&a._d[\\\"set\\\"+(a._isUTC?\\\"UTC\\\":\\\"\\\")+b](c)}function H(a,b){var c;if(\\\"object\\\"==typeof a)for(c in a)this.set(c,a[c]);else if(a=B(a),D(this[a]))return this[a](b);return this}function I(a,b,c){var d=\\\"\\\"+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?\\\"+\\\":\\\"\\\":\\\"-\\\")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;\\\"string\\\"==typeof d&&(e=function(){return this[d]()}),a&&(bd[a]=e),b&&(bd[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&(bd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\\\\[[\\\\s\\\\S]/)?a.replace(/^\\\\[|\\\\]$/g,\\\"\\\"):a.replace(/\\\\\\\\/g,\\\"\\\")}function L(a){var b,c,d=a.match($c);for(b=0,c=d.length;c>b;b++)bd[d[b]]?d[b]=bd[d[b]]:d[b]=K(d[b]);return function(e){var f=\\\"\\\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),ad[b]=ad[b]||L(b),ad[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(_c.lastIndex=0;d>=0&&_c.test(a);)a=a.replace(_c,c),_c.lastIndex=0,d-=1;return a}function O(a,b,c){td[a]=D(b)?b:function(a,d){return a&&c?c:b}}function P(a,b){return f(td,a)?td[a](b._strict,b._locale):new RegExp(Q(a))}function Q(a){return R(a.replace(\\\"\\\\\\\\\\\",\\\"\\\").replace(/\\\\\\\\(\\\\[)|\\\\\\\\(\\\\])|\\\\[([^\\\\]\\\\[]*)\\\\]|\\\\\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function R(a){return a.replace(/[-\\\\/\\\\\\\\^$*+?.()|[\\\\]{}]/g,\\\"\\\\\\\\$&\\\")}function S(a,b){var c,d=b;for(\\\"string\\\"==typeof a&&(a=[a]),\\\"number\\\"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)ud[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&f(ud,a)&&ud[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function W(a,b){return c(this._months)?this._months[a.month()]:this._months[Ed.test(b)?\\\"format\\\":\\\"standalone\\\"][a.month()]}function X(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Ed.test(b)?\\\"format\\\":\\\"standalone\\\"][a.month()]}function Y(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp(\\\"^\\\"+this.months(e,\\\"\\\").replace(\\\".\\\",\\\"\\\")+\\\"$\\\",\\\"i\\\"),this._shortMonthsParse[d]=new RegExp(\\\"^\\\"+this.monthsShort(e,\\\"\\\").replace(\\\".\\\",\\\"\\\")+\\\"$\\\",\\\"i\\\")),c||this._monthsParse[d]||(f=\\\"^\\\"+this.months(e,\\\"\\\")+\\\"|^\\\"+this.monthsShort(e,\\\"\\\"),this._monthsParse[d]=new RegExp(f.replace(\\\".\\\",\\\"\\\"),\\\"i\\\")),c&&\\\"MMMM\\\"===b&&this._longMonthsParse[d].test(a))return d;if(c&&\\\"MMM\\\"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function Z(a,b){var c;return a.isValid()?\\\"string\\\"==typeof b&&(b=a.localeData().monthsParse(b),\\\"number\\\"!=typeof b)?a:(c=Math.min(a.date(),V(a.year(),b)),a._d[\\\"set\\\"+(a._isUTC?\\\"UTC\\\":\\\"\\\")+\\\"Month\\\"](b,c),a):a}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,\\\"Month\\\")}function _(){return V(this.year(),this.month())}function aa(a){return this._monthsParseExact?(f(this,\\\"_monthsRegex\\\")||ca.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ba(a){return this._monthsParseExact?(f(this,\\\"_monthsRegex\\\")||ca.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function ca(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=h([2e3,b]),d.push(this.monthsShort(c,\\\"\\\")),e.push(this.months(c,\\\"\\\")),f.push(this.months(c,\\\"\\\")),f.push(this.monthsShort(c,\\\"\\\"));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=R(d[b]),e[b]=R(e[b]),f[b]=R(f[b]);this._monthsRegex=new RegExp(\\\"^(\\\"+f.join(\\\"|\\\")+\\\")\\\",\\\"i\\\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\\\"^(\\\"+e.join(\\\"|\\\")+\\\")$\\\",\\\"i\\\"),this._monthsShortStrictRegex=new RegExp(\\\"^(\\\"+d.join(\\\"|\\\")+\\\")$\\\",\\\"i\\\")}function da(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[wd]<0||c[wd]>11?wd:c[xd]<1||c[xd]>V(c[vd],c[wd])?xd:c[yd]<0||c[yd]>24||24===c[yd]&&(0!==c[zd]||0!==c[Ad]||0!==c[Bd])?yd:c[zd]<0||c[zd]>59?zd:c[Ad]<0||c[Ad]>59?Ad:c[Bd]<0||c[Bd]>999?Bd:-1,j(a)._overflowDayOfYear&&(vd>b||b>xd)&&(b=xd),j(a)._overflowWeeks&&-1===b&&(b=Cd),j(a)._overflowWeekday&&-1===b&&(b=Dd),j(a).overflow=b),a}function ea(b){a.suppressDeprecationWarnings===!1&&\\\"undefined\\\"!=typeof console&&console.warn&&console.warn(\\\"Deprecation warning: \\\"+b)}function fa(a,b){var c=!0;return g(function(){return c&&(ea(a+\\\"\\\\nArguments: \\\"+Array.prototype.slice.call(arguments).join(\\\", \\\")+\\\"\\\\n\\\"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ga(a,b){Jd[a]||(ea(b),Jd[a]=!0)}function ha(a){var b,c,d,e,f,g,h=a._i,i=Kd.exec(h)||Ld.exec(h);if(i){for(j(a).iso=!0,b=0,c=Nd.length;c>b;b++)if(Nd[b][1].exec(i[1])){e=Nd[b][0],d=Nd[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Od.length;c>b;b++)if(Od[b][1].exec(i[3])){f=(i[2]||\\\" \\\")+Od[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Md.exec(i[4]))return void(a._isValid=!1);g=\\\"Z\\\"}a._f=e+(f||\\\"\\\")+(g||\\\"\\\"),wa(a)}else a._isValid=!1}function ia(b){var c=Pd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ha(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ja(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function la(a){return ma(a)?366:365}function ma(a){return a%4===0&&a%100!==0||a%400===0}function na(){return ma(this.year())}function oa(a,b,c){var d=7+b-c,e=(7+ka(a,0,d).getUTCDay()-b)%7;return-e+d-1}function pa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=oa(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=la(f)+j):j>la(a)?(f=a+1,g=j-la(a)):(f=a,g=j),{year:f,dayOfYear:g}}function qa(a,b,c){var d,e,f=oa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ra(e,b,c)):g>ra(a.year(),b,c)?(d=g-ra(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ra(a,b,c){var d=oa(a,b,c),e=oa(a+1,b,c);return(la(a)-d+e)/7}function sa(a,b,c){return null!=a?a:null!=b?b:c}function ta(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ua(a){var b,c,d,e,f=[];if(!a._d){for(d=ta(a),a._w&&null==a._a[xd]&&null==a._a[wd]&&va(a),a._dayOfYear&&(e=sa(a._a[vd],d[vd]),a._dayOfYear>la(e)&&(j(a)._overflowDayOfYear=!0),c=ka(e,0,a._dayOfYear),a._a[wd]=c.getUTCMonth(),a._a[xd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[yd]&&0===a._a[zd]&&0===a._a[Ad]&&0===a._a[Bd]&&(a._nextDay=!0,a._a[yd]=0),a._d=(a._useUTC?ka:ja).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[yd]=24)}}function va(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=sa(b.GG,a._a[vd],qa(Ea(),1,4).year),d=sa(b.W,1),e=sa(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=sa(b.gg,a._a[vd],qa(Ea(),f,g).year),d=sa(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>ra(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=pa(c,d,e,f,g),a._a[vd]=h.year,a._dayOfYear=h.dayOfYear)}function wa(b){if(b._f===a.ISO_8601)return void ha(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=\\\"\\\"+b._i,i=h.length,k=0;for(e=N(b._f,b._locale).match($c)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),bd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),U(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[yd]<=12&&b._a[yd]>0&&(j(b).bigHour=void 0),b._a[yd]=xa(b._locale,b._a[yd],b._meridiem),ua(b),da(b)}function xa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ya(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],wa(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function za(a){if(!a._d){var b=C(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ua(a)}}function Aa(a){var b=new o(da(Ba(a)));return b._nextDay&&(b.add(1,\\\"d\\\"),b._nextDay=void 0),b}function Ba(a){var b=a._i,e=a._f;return a._locale=a._locale||z(a._l),null===b||void 0===e&&\\\"\\\"===b?l({nullInput:!0}):(\\\"string\\\"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(da(b)):(c(e)?ya(a):e?wa(a):d(b)?a._d=b:Ca(a),k(a)||(a._d=null),a))}function Ca(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(+f):\\\"string\\\"==typeof f?ia(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ua(b)):\\\"object\\\"==typeof f?za(b):\\\"number\\\"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Da(a,b,c,d,e){var f={};return\\\"boolean\\\"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Aa(f)}function Ea(a,b,c,d){return Da(a,b,c,d,!1)}function Fa(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ea();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Ga(){var a=[].slice.call(arguments,0);return Fa(\\\"isBefore\\\",a)}function Ha(){var a=[].slice.call(arguments,0);return Fa(\\\"isAfter\\\",a)}function Ia(a){var b=C(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=z(),this._bubble()}function Ja(a){return a instanceof Ia}function Ka(a,b){J(a,0,0,function(){var a=this.utcOffset(),c=\\\"+\\\";return 0>a&&(a=-a,c=\\\"-\\\"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function La(a,b){var c=(b||\\\"\\\").match(a)||[],d=c[c.length-1]||[],e=(d+\\\"\\\").match(Ud)||[\\\"-\\\",0,0],f=+(60*e[1])+r(e[2]);return\\\"+\\\"===e[0]?f:-f}function Ma(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ea(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ea(b).local()}function Na(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Oa(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?(\\\"string\\\"==typeof b?b=La(qd,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Na(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,\\\"m\\\"),e!==b&&(!c||this._changeInProgress?cb(this,Za(b-e,\\\"m\\\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Na(this):null!=b?this:NaN}function Pa(a,b){return null!=a?(\\\"string\\\"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qa(a){return this.utcOffset(0,a)}function Ra(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Na(this),\\\"m\\\")),this}function Sa(){return this._tzm?this.utcOffset(this._tzm):\\\"string\\\"==typeof this._i&&this.utcOffset(La(pd,this._i)),this}function Ta(a){return this.isValid()?(a=a?Ea(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ua(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Va(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ba(a),a._a){var b=a._isUTC?h(a._a):Ea(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wa(){return this.isValid()?!this._isUTC:!1}function Xa(){return this.isValid()?this._isUTC:!1}function Ya(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Za(a,b){var c,d,e,g=a,h=null;return Ja(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:\\\"number\\\"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Vd.exec(a))?(c=\\\"-\\\"===h[1]?-1:1,g={y:0,d:r(h[xd])*c,h:r(h[yd])*c,m:r(h[zd])*c,s:r(h[Ad])*c,ms:r(h[Bd])*c}):(h=Wd.exec(a))?(c=\\\"-\\\"===h[1]?-1:1,g={y:$a(h[2],c),M:$a(h[3],c),d:$a(h[4],c),h:$a(h[5],c),m:$a(h[6],c),s:$a(h[7],c),w:$a(h[8],c)}):null==g?g={}:\\\"object\\\"==typeof g&&(\\\"from\\\"in g||\\\"to\\\"in g)&&(e=ab(Ea(g.from),Ea(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ia(g),Ja(a)&&f(a,\\\"_locale\\\")&&(d._locale=a._locale),d}function $a(a,b){var c=a&&parseFloat(a.replace(\\\",\\\",\\\".\\\"));return(isNaN(c)?0:c)*b}function _a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,\\\"M\\\").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,\\\"M\\\"),c}function ab(a,b){var c;return a.isValid()&&b.isValid()?(b=Ma(b,a),a.isBefore(b)?c=_a(a,b):(c=_a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ga(b,\\\"moment().\\\"+b+\\\"(period, number) is deprecated. Please use moment().\\\"+b+\\\"(number, period).\\\"),f=c,c=d,d=f),c=\\\"string\\\"==typeof c?+c:c,e=Za(c,d),cb(this,e,a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&G(b,\\\"Date\\\",F(b,\\\"Date\\\")+g*d),h&&Z(b,F(b,\\\"Month\\\")+h*d),e&&a.updateOffset(b,g||h))}function db(a,b){var c=a||Ea(),d=Ma(c,this).startOf(\\\"day\\\"),e=this.diff(d,\\\"days\\\",!0),f=-6>e?\\\"sameElse\\\":-1>e?\\\"lastWeek\\\":0>e?\\\"lastDay\\\":1>e?\\\"sameDay\\\":2>e?\\\"nextDay\\\":7>e?\\\"nextWeek\\\":\\\"sameElse\\\",g=b&&(D(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ea(c)))}function eb(){return new o(this)}function fb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?\\\"millisecond\\\":b),\\\"millisecond\\\"===b?+this>+c:+c<+this.clone().startOf(b)):!1}function gb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?\\\"millisecond\\\":b),\\\"millisecond\\\"===b?+c>+this:+this.clone().endOf(b)<+c):!1}function hb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function ib(a,b){var c,d=p(a)?a:Ea(a);return this.isValid()&&d.isValid()?(b=B(b||\\\"millisecond\\\"),\\\"millisecond\\\"===b?+this===+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))):!1}function jb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function kb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function lb(a,b,c){var d,e,f,g;return this.isValid()?(d=Ma(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=B(b),\\\"year\\\"===b||\\\"month\\\"===b||\\\"quarter\\\"===b?(g=mb(this,d),\\\"quarter\\\"===b?g/=3:\\\"year\\\"===b&&(g/=12)):(f=this-d,g=\\\"second\\\"===b?f/1e3:\\\"minute\\\"===b?f/6e4:\\\"hour\\\"===b?f/36e5:\\\"day\\\"===b?(f-e)/864e5:\\\"week\\\"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function mb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,\\\"months\\\");return 0>b-f?(c=a.clone().add(e-1,\\\"months\\\"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,\\\"months\\\"),d=(b-f)/(c-f)),-(e+d)}function nb(){return this.clone().locale(\\\"en\\\").format(\\\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\\\")}function ob(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():M(a,\\\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\\\"):M(a,\\\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\\\")}function pb(b){var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)}function qb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function rb(a){return this.from(Ea(),a)}function sb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tb(a){return this.to(Ea(),a)}function ub(a){var b;return void 0===a?this._locale._abbr:(b=z(a),null!=b&&(this._locale=b),this)}function vb(){return this._locale}function wb(a){switch(a=B(a)){case\\\"year\\\":this.month(0);case\\\"quarter\\\":case\\\"month\\\":this.date(1);case\\\"week\\\":case\\\"isoWeek\\\":case\\\"day\\\":this.hours(0);case\\\"hour\\\":this.minutes(0);case\\\"minute\\\":this.seconds(0);case\\\"second\\\":this.milliseconds(0)}return\\\"week\\\"===a&&this.weekday(0),\\\"isoWeek\\\"===a&&this.isoWeekday(1),\\\"quarter\\\"===a&&this.month(3*Math.floor(this.month()/3)),this}function xb(a){return a=B(a),void 0===a||\\\"millisecond\\\"===a?this:this.startOf(a).add(1,\\\"isoWeek\\\"===a?\\\"week\\\":a).subtract(1,\\\"ms\\\")}function yb(){return+this._d-6e4*(this._offset||0)}function zb(){return Math.floor(+this/1e3)}function Ab(){return this._offset?new Date(+this):this._d}function Bb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Cb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Db(){return this.isValid()?this.toISOString():\\\"null\\\"}function Eb(){return k(this)}function Fb(){return g({},j(this))}function Gb(){return j(this).overflow}function Hb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ib(a,b){J(0,[a,a.length],0,b)}function Jb(a){return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Kb(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Lb(){return ra(this.year(),1,4)}function Mb(){var a=this.localeData()._week;return ra(this.year(),a.dow,a.doy)}function Nb(a,b,c,d,e){var f;return null==a?qa(this,d,e).year:(f=ra(a,d,e),b>f&&(b=f),Ob.call(this,a,b,c,d,e))}function Ob(a,b,c,d,e){var f=pa(a,b,c,d,e),g=ka(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Pb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Qb(a){return qa(a,this._week.dow,this._week.doy).week}function Rb(){return this._week.dow}function Sb(){return this._week.doy}function Tb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),\\\"d\\\")}function Ub(a){var b=qa(this,1,4).week;return null==a?b:this.add(7*(a-b),\\\"d\\\")}function Vb(a,b){return\\\"string\\\"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),\\\"number\\\"==typeof a?a:null):parseInt(a,10)}function Wb(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?\\\"format\\\":\\\"standalone\\\"][a.day()]}function Xb(a){return this._weekdaysShort[a.day()]}function Yb(a){return this._weekdaysMin[a.day()]}function Zb(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=Ea([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp(\\\"^\\\"+this.weekdays(e,\\\"\\\").replace(\\\".\\\",\\\".?\\\")+\\\"$\\\",\\\"i\\\"),this._shortWeekdaysParse[d]=new RegExp(\\\"^\\\"+this.weekdaysShort(e,\\\"\\\").replace(\\\".\\\",\\\".?\\\")+\\\"$\\\",\\\"i\\\"),this._minWeekdaysParse[d]=new RegExp(\\\"^\\\"+this.weekdaysMin(e,\\\"\\\").replace(\\\".\\\",\\\".?\\\")+\\\"$\\\",\\\"i\\\")),this._weekdaysParse[d]||(f=\\\"^\\\"+this.weekdays(e,\\\"\\\")+\\\"|^\\\"+this.weekdaysShort(e,\\\"\\\")+\\\"|^\\\"+this.weekdaysMin(e,\\\"\\\"),this._weekdaysParse[d]=new RegExp(f.replace(\\\".\\\",\\\"\\\"),\\\"i\\\")),c&&\\\"dddd\\\"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&\\\"ddd\\\"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&\\\"dd\\\"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function $b(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Vb(a,this.localeData()),this.add(a-b,\\\"d\\\")):b}function _b(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,\\\"d\\\")}function ac(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function bc(a){var b=Math.round((this.clone().startOf(\\\"day\\\")-this.clone().startOf(\\\"year\\\"))/864e5)+1;return null==a?b:this.add(a-b,\\\"d\\\")}function cc(){return this.hours()%12||12}function dc(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ec(a,b){return b._meridiemParse}function fc(a){return\\\"p\\\"===(a+\\\"\\\").toLowerCase().charAt(0)}function gc(a,b,c){return a>11?c?\\\"pm\\\":\\\"PM\\\":c?\\\"am\\\":\\\"AM\\\"}function hc(a,b){b[Bd]=r(1e3*(\\\"0.\\\"+a))}function ic(){return this._isUTC?\\\"UTC\\\":\\\"\\\"}function jc(){return this._isUTC?\\\"Coordinated Universal Time\\\":\\\"\\\"}function kc(a){return Ea(1e3*a)}function lc(){return Ea.apply(null,arguments).parseZone()}function mc(a,b,c){var d=this._calendar[a];return D(d)?d.call(b,c):d}function nc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function oc(){return this._invalidDate}function pc(a){return this._ordinal.replace(\\\"%d\\\",a)}function qc(a){return a}function rc(a,b,c,d){var e=this._relativeTime[c];return D(e)?e(a,b,c,d):e.replace(/%d/i,a)}function sc(a,b){var c=this._relativeTime[a>0?\\\"future\\\":\\\"past\\\"];return D(c)?c(b):c.replace(/%s/i,b)}function tc(a){var b,c;for(c in a)b=a[c],D(b)?this[c]=b:this[\\\"_\\\"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+\\\"|\\\"+/\\\\d{1,2}/.source)}function uc(a,b,c,d){var e=z(),f=h().set(d,b);return e[c](f,a)}function vc(a,b,c,d,e){if(\\\"number\\\"==typeof a&&(b=a,a=void 0),a=a||\\\"\\\",null!=b)return uc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=uc(a,f,c,e);return g}function wc(a,b){return vc(a,b,\\\"months\\\",12,\\\"month\\\")}function xc(a,b){return vc(a,b,\\\"monthsShort\\\",12,\\\"month\\\")}function yc(a,b){return vc(a,b,\\\"weekdays\\\",7,\\\"day\\\")}function zc(a,b){return vc(a,b,\\\"weekdaysShort\\\",7,\\\"day\\\")}function Ac(a,b){return vc(a,b,\\\"weekdaysMin\\\",7,\\\"day\\\")}function Bc(){var a=this._data;return this._milliseconds=se(this._milliseconds),this._days=se(this._days),this._months=se(this._months),a.milliseconds=se(a.milliseconds),a.seconds=se(a.seconds),a.minutes=se(a.minutes),a.hours=se(a.hours),a.months=se(a.months),a.years=se(a.years),this}function Cc(a,b,c,d){var e=Za(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Dc(a,b){return Cc(this,a,b,1)}function Ec(a,b){return Cc(this,a,b,-1)}function Fc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Gc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Fc(Ic(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Hc(g)),h+=e,g-=Fc(Ic(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Hc(a){return 4800*a/146097}function Ic(a){return 146097*a/4800}function Jc(a){var b,c,d=this._milliseconds;if(a=B(a),\\\"month\\\"===a||\\\"year\\\"===a)return b=this._days+d/864e5,c=this._months+Hc(b),\\\"month\\\"===a?c:c/12;switch(b=this._days+Math.round(Ic(this._months)),a){case\\\"week\\\":return b/7+d/6048e5;case\\\"day\\\":return b+d/864e5;case\\\"hour\\\":return 24*b+d/36e5;case\\\"minute\\\":return 1440*b+d/6e4;case\\\"second\\\":return 86400*b+d/1e3;case\\\"millisecond\\\":return Math.floor(864e5*b)+d;default:throw new Error(\\\"Unknown unit \\\"+a)}}function Kc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Lc(a){return function(){return this.as(a)}}function Mc(a){return a=B(a),this[a+\\\"s\\\"]()}function Nc(a){return function(){return this._data[a]}}function Oc(){return q(this.days()/7)}function Pc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Qc(a,b,c){var d=Za(a).abs(),e=Ie(d.as(\\\"s\\\")),f=Ie(d.as(\\\"m\\\")),g=Ie(d.as(\\\"h\\\")),h=Ie(d.as(\\\"d\\\")),i=Ie(d.as(\\\"M\\\")),j=Ie(d.as(\\\"y\\\")),k=e<Je.s&&[\\\"s\\\",e]||1>=f&&[\\\"m\\\"]||f<Je.m&&[\\\"mm\\\",f]||1>=g&&[\\\"h\\\"]||g<Je.h&&[\\\"hh\\\",g]||1>=h&&[\\\"d\\\"]||h<Je.d&&[\\\"dd\\\",h]||1>=i&&[\\\"M\\\"]||i<Je.M&&[\\\"MM\\\",i]||1>=j&&[\\\"y\\\"]||[\\\"yy\\\",j];return k[2]=b,k[3]=+a>0,k[4]=c,Pc.apply(null,k)}function Rc(a,b){return void 0===Je[a]?!1:void 0===b?Je[a]:(Je[a]=b,!0)}function Sc(a){var b=this.localeData(),c=Qc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Tc(){var a,b,c,d=Ke(this._milliseconds)/1e3,e=Ke(this._days),f=Ke(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?\\\"-\\\":\\\"\\\")+\\\"P\\\"+(g?g+\\\"Y\\\":\\\"\\\")+(h?h+\\\"M\\\":\\\"\\\")+(i?i+\\\"D\\\":\\\"\\\")+(j||k||l?\\\"T\\\":\\\"\\\")+(j?j+\\\"H\\\":\\\"\\\")+(k?k+\\\"M\\\":\\\"\\\")+(l?l+\\\"S\\\":\\\"\\\"):\\\"P0D\\\"}var Uc,Vc,Wc=a.momentProperties=[],Xc=!1,Yc={},Zc={},$c=/(\\\\[[^\\\\[]*\\\\])|(\\\\\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_c=/(\\\\[[^\\\\[]*\\\\])|(\\\\\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ad={},bd={},cd=/\\\\d/,dd=/\\\\d\\\\d/,ed=/\\\\d{3}/,fd=/\\\\d{4}/,gd=/[+-]?\\\\d{6}/,hd=/\\\\d\\\\d?/,id=/\\\\d\\\\d\\\\d\\\\d?/,jd=/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d?/,kd=/\\\\d{1,3}/,ld=/\\\\d{1,4}/,md=/[+-]?\\\\d{1,6}/,nd=/\\\\d+/,od=/[+-]?\\\\d+/,pd=/Z|[+-]\\\\d\\\\d:?\\\\d\\\\d/gi,qd=/Z|[+-]\\\\d\\\\d(?::?\\\\d\\\\d)?/gi,rd=/[+-]?\\\\d+(\\\\.\\\\d{1,3})?/,sd=/[0-9]*['a-z\\\\u00A0-\\\\u05FF\\\\u0700-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]+|[\\\\u0600-\\\\u06FF\\\\/]+(\\\\s*?[\\\\u0600-\\\\u06FF]+){1,2}/i,td={},ud={},vd=0,wd=1,xd=2,yd=3,zd=4,Ad=5,Bd=6,Cd=7,Dd=8;J(\\\"M\\\",[\\\"MM\\\",2],\\\"Mo\\\",function(){return this.month()+1}),J(\\\"MMM\\\",0,0,function(a){return this.localeData().monthsShort(this,a)}),J(\\\"MMMM\\\",0,0,function(a){return this.localeData().months(this,a)}),A(\\\"month\\\",\\\"M\\\"),O(\\\"M\\\",hd),O(\\\"MM\\\",hd,dd),O(\\\"MMM\\\",function(a,b){return b.monthsShortRegex(a)}),O(\\\"MMMM\\\",function(a,b){return b.monthsRegex(a)}),S([\\\"M\\\",\\\"MM\\\"],function(a,b){b[wd]=r(a)-1}),S([\\\"MMM\\\",\\\"MMMM\\\"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[wd]=e:j(c).invalidMonth=a});var Ed=/D[oD]?(\\\\[[^\\\\[\\\\]]*\\\\]|\\\\s+)+MMMM?/,Fd=\\\"January_February_March_April_May_June_July_August_September_October_November_December\\\".split(\\\"_\\\"),Gd=\\\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\\\".split(\\\"_\\\"),Hd=sd,Id=sd,Jd={};a.suppressDeprecationWarnings=!1;var Kd=/^\\\\s*((?:[+-]\\\\d{6}|\\\\d{4})-(?:\\\\d\\\\d-\\\\d\\\\d|W\\\\d\\\\d-\\\\d|W\\\\d\\\\d|\\\\d\\\\d\\\\d|\\\\d\\\\d))(?:(T| )(\\\\d\\\\d(?::\\\\d\\\\d(?::\\\\d\\\\d(?:[.,]\\\\d+)?)?)?)([\\\\+\\\\-]\\\\d\\\\d(?::?\\\\d\\\\d)?|\\\\s*Z)?)?/,Ld=/^\\\\s*((?:[+-]\\\\d{6}|\\\\d{4})(?:\\\\d\\\\d\\\\d\\\\d|W\\\\d\\\\d\\\\d|W\\\\d\\\\d|\\\\d\\\\d\\\\d|\\\\d\\\\d))(?:(T| )(\\\\d\\\\d(?:\\\\d\\\\d(?:\\\\d\\\\d(?:[.,]\\\\d+)?)?)?)([\\\\+\\\\-]\\\\d\\\\d(?::?\\\\d\\\\d)?|\\\\s*Z)?)?/,Md=/Z|[+-]\\\\d\\\\d(?::?\\\\d\\\\d)?/,Nd=[[\\\"YYYYYY-MM-DD\\\",/[+-]\\\\d{6}-\\\\d\\\\d-\\\\d\\\\d/],[\\\"YYYY-MM-DD\\\",/\\\\d{4}-\\\\d\\\\d-\\\\d\\\\d/],[\\\"GGGG-[W]WW-E\\\",/\\\\d{4}-W\\\\d\\\\d-\\\\d/],[\\\"GGGG-[W]WW\\\",/\\\\d{4}-W\\\\d\\\\d/,!1],[\\\"YYYY-DDD\\\",/\\\\d{4}-\\\\d{3}/],[\\\"YYYY-MM\\\",/\\\\d{4}-\\\\d\\\\d/,!1],[\\\"YYYYYYMMDD\\\",/[+-]\\\\d{10}/],[\\\"YYYYMMDD\\\",/\\\\d{8}/],[\\\"GGGG[W]WWE\\\",/\\\\d{4}W\\\\d{3}/],[\\\"GGGG[W]WW\\\",/\\\\d{4}W\\\\d{2}/,!1],[\\\"YYYYDDD\\\",/\\\\d{7}/]],Od=[[\\\"HH:mm:ss.SSSS\\\",/\\\\d\\\\d:\\\\d\\\\d:\\\\d\\\\d\\\\.\\\\d+/],[\\\"HH:mm:ss,SSSS\\\",/\\\\d\\\\d:\\\\d\\\\d:\\\\d\\\\d,\\\\d+/],[\\\"HH:mm:ss\\\",/\\\\d\\\\d:\\\\d\\\\d:\\\\d\\\\d/],[\\\"HH:mm\\\",/\\\\d\\\\d:\\\\d\\\\d/],[\\\"HHmmss.SSSS\\\",/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d\\\\.\\\\d+/],[\\\"HHmmss,SSSS\\\",/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d,\\\\d+/],[\\\"HHmmss\\\",/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d/],[\\\"HHmm\\\",/\\\\d\\\\d\\\\d\\\\d/],[\\\"HH\\\",/\\\\d\\\\d/]],Pd=/^\\\\/?Date\\\\((\\\\-?\\\\d+)/i;a.createFromInputFallback=fa(\\\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\\\",function(a){a._d=new Date(a._i+(a._useUTC?\\\" UTC\\\":\\\"\\\"))}),J(\\\"Y\\\",0,0,function(){var a=this.year();return 9999>=a?\\\"\\\"+a:\\\"+\\\"+a}),J(0,[\\\"YY\\\",2],0,function(){return this.year()%100}),J(0,[\\\"YYYY\\\",4],0,\\\"year\\\"),J(0,[\\\"YYYYY\\\",5],0,\\\"year\\\"),J(0,[\\\"YYYYYY\\\",6,!0],0,\\\"year\\\"),A(\\\"year\\\",\\\"y\\\"),O(\\\"Y\\\",od),O(\\\"YY\\\",hd,dd),O(\\\"YYYY\\\",ld,fd),O(\\\"YYYYY\\\",md,gd),O(\\\"YYYYYY\\\",md,gd),S([\\\"YYYYY\\\",\\\"YYYYYY\\\"],vd),S(\\\"YYYY\\\",function(b,c){c[vd]=2===b.length?a.parseTwoDigitYear(b):r(b)}),S(\\\"YY\\\",function(b,c){c[vd]=a.parseTwoDigitYear(b)}),S(\\\"Y\\\",function(a,b){b[vd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Qd=E(\\\"FullYear\\\",!1);a.ISO_8601=function(){};var Rd=fa(\\\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\\\",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:l()}),Sd=fa(\\\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\\\",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),Td=function(){return Date.now?Date.now():+new Date};Ka(\\\"Z\\\",\\\":\\\"),Ka(\\\"ZZ\\\",\\\"\\\"),O(\\\"Z\\\",qd),O(\\\"ZZ\\\",qd),S([\\\"Z\\\",\\\"ZZ\\\"],function(a,b,c){c._useUTC=!0,c._tzm=La(qd,a)});var Ud=/([\\\\+\\\\-]|\\\\d\\\\d)/gi;a.updateOffset=function(){};var Vd=/^(\\\\-)?(?:(\\\\d*)[. ])?(\\\\d+)\\\\:(\\\\d+)(?:\\\\:(\\\\d+)\\\\.?(\\\\d{3})?\\\\d*)?$/,Wd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\\nZa.fn=Ia.prototype;var Xd=bb(1,\\\"add\\\"),Yd=bb(-1,\\\"subtract\\\");a.defaultFormat=\\\"YYYY-MM-DDTHH:mm:ssZ\\\";var Zd=fa(\\\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\\\",function(a){return void 0===a?this.localeData():this.locale(a)});J(0,[\\\"gg\\\",2],0,function(){return this.weekYear()%100}),J(0,[\\\"GG\\\",2],0,function(){return this.isoWeekYear()%100}),Ib(\\\"gggg\\\",\\\"weekYear\\\"),Ib(\\\"ggggg\\\",\\\"weekYear\\\"),Ib(\\\"GGGG\\\",\\\"isoWeekYear\\\"),Ib(\\\"GGGGG\\\",\\\"isoWeekYear\\\"),A(\\\"weekYear\\\",\\\"gg\\\"),A(\\\"isoWeekYear\\\",\\\"GG\\\"),O(\\\"G\\\",od),O(\\\"g\\\",od),O(\\\"GG\\\",hd,dd),O(\\\"gg\\\",hd,dd),O(\\\"GGGG\\\",ld,fd),O(\\\"gggg\\\",ld,fd),O(\\\"GGGGG\\\",md,gd),O(\\\"ggggg\\\",md,gd),T([\\\"gggg\\\",\\\"ggggg\\\",\\\"GGGG\\\",\\\"GGGGG\\\"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),T([\\\"gg\\\",\\\"GG\\\"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J(\\\"Q\\\",0,\\\"Qo\\\",\\\"quarter\\\"),A(\\\"quarter\\\",\\\"Q\\\"),O(\\\"Q\\\",cd),S(\\\"Q\\\",function(a,b){b[wd]=3*(r(a)-1)}),J(\\\"w\\\",[\\\"ww\\\",2],\\\"wo\\\",\\\"week\\\"),J(\\\"W\\\",[\\\"WW\\\",2],\\\"Wo\\\",\\\"isoWeek\\\"),A(\\\"week\\\",\\\"w\\\"),A(\\\"isoWeek\\\",\\\"W\\\"),O(\\\"w\\\",hd),O(\\\"ww\\\",hd,dd),O(\\\"W\\\",hd),O(\\\"WW\\\",hd,dd),T([\\\"w\\\",\\\"ww\\\",\\\"W\\\",\\\"WW\\\"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var $d={dow:0,doy:6};J(\\\"D\\\",[\\\"DD\\\",2],\\\"Do\\\",\\\"date\\\"),A(\\\"date\\\",\\\"D\\\"),O(\\\"D\\\",hd),O(\\\"DD\\\",hd,dd),O(\\\"Do\\\",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S([\\\"D\\\",\\\"DD\\\"],xd),S(\\\"Do\\\",function(a,b){b[xd]=r(a.match(hd)[0],10)});var _d=E(\\\"Date\\\",!0);J(\\\"d\\\",0,\\\"do\\\",\\\"day\\\"),J(\\\"dd\\\",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J(\\\"ddd\\\",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J(\\\"dddd\\\",0,0,function(a){return this.localeData().weekdays(this,a)}),J(\\\"e\\\",0,0,\\\"weekday\\\"),J(\\\"E\\\",0,0,\\\"isoWeekday\\\"),A(\\\"day\\\",\\\"d\\\"),A(\\\"weekday\\\",\\\"e\\\"),A(\\\"isoWeekday\\\",\\\"E\\\"),O(\\\"d\\\",hd),O(\\\"e\\\",hd),O(\\\"E\\\",hd),O(\\\"dd\\\",sd),O(\\\"ddd\\\",sd),O(\\\"dddd\\\",sd),T([\\\"dd\\\",\\\"ddd\\\",\\\"dddd\\\"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),T([\\\"d\\\",\\\"e\\\",\\\"E\\\"],function(a,b,c,d){b[d]=r(a)});var ae=\\\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\\\".split(\\\"_\\\"),be=\\\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\\\".split(\\\"_\\\"),ce=\\\"Su_Mo_Tu_We_Th_Fr_Sa\\\".split(\\\"_\\\");J(\\\"DDD\\\",[\\\"DDDD\\\",3],\\\"DDDo\\\",\\\"dayOfYear\\\"),A(\\\"dayOfYear\\\",\\\"DDD\\\"),O(\\\"DDD\\\",kd),O(\\\"DDDD\\\",ed),S([\\\"DDD\\\",\\\"DDDD\\\"],function(a,b,c){c._dayOfYear=r(a)}),J(\\\"H\\\",[\\\"HH\\\",2],0,\\\"hour\\\"),J(\\\"h\\\",[\\\"hh\\\",2],0,cc),J(\\\"hmm\\\",0,0,function(){return\\\"\\\"+cc.apply(this)+I(this.minutes(),2)}),J(\\\"hmmss\\\",0,0,function(){return\\\"\\\"+cc.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),J(\\\"Hmm\\\",0,0,function(){return\\\"\\\"+this.hours()+I(this.minutes(),2)}),J(\\\"Hmmss\\\",0,0,function(){return\\\"\\\"+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),dc(\\\"a\\\",!0),dc(\\\"A\\\",!1),A(\\\"hour\\\",\\\"h\\\"),O(\\\"a\\\",ec),O(\\\"A\\\",ec),O(\\\"H\\\",hd),O(\\\"h\\\",hd),O(\\\"HH\\\",hd,dd),O(\\\"hh\\\",hd,dd),O(\\\"hmm\\\",id),O(\\\"hmmss\\\",jd),O(\\\"Hmm\\\",id),O(\\\"Hmmss\\\",jd),S([\\\"H\\\",\\\"HH\\\"],yd),S([\\\"a\\\",\\\"A\\\"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S([\\\"h\\\",\\\"hh\\\"],function(a,b,c){b[yd]=r(a),j(c).bigHour=!0}),S(\\\"hmm\\\",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d)),j(c).bigHour=!0}),S(\\\"hmmss\\\",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e)),j(c).bigHour=!0}),S(\\\"Hmm\\\",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d))}),S(\\\"Hmmss\\\",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e))});var de=/[ap]\\\\.?m?\\\\.?/i,ee=E(\\\"Hours\\\",!0);J(\\\"m\\\",[\\\"mm\\\",2],0,\\\"minute\\\"),A(\\\"minute\\\",\\\"m\\\"),O(\\\"m\\\",hd),O(\\\"mm\\\",hd,dd),S([\\\"m\\\",\\\"mm\\\"],zd);var fe=E(\\\"Minutes\\\",!1);J(\\\"s\\\",[\\\"ss\\\",2],0,\\\"second\\\"),A(\\\"second\\\",\\\"s\\\"),O(\\\"s\\\",hd),O(\\\"ss\\\",hd,dd),S([\\\"s\\\",\\\"ss\\\"],Ad);var ge=E(\\\"Seconds\\\",!1);J(\\\"S\\\",0,0,function(){return~~(this.millisecond()/100)}),J(0,[\\\"SS\\\",2],0,function(){return~~(this.millisecond()/10)}),J(0,[\\\"SSS\\\",3],0,\\\"millisecond\\\"),J(0,[\\\"SSSS\\\",4],0,function(){return 10*this.millisecond()}),J(0,[\\\"SSSSS\\\",5],0,function(){return 100*this.millisecond()}),J(0,[\\\"SSSSSS\\\",6],0,function(){return 1e3*this.millisecond()}),J(0,[\\\"SSSSSSS\\\",7],0,function(){return 1e4*this.millisecond()}),J(0,[\\\"SSSSSSSS\\\",8],0,function(){return 1e5*this.millisecond()}),J(0,[\\\"SSSSSSSSS\\\",9],0,function(){return 1e6*this.millisecond()}),A(\\\"millisecond\\\",\\\"ms\\\"),O(\\\"S\\\",kd,cd),O(\\\"SS\\\",kd,dd),O(\\\"SSS\\\",kd,ed);var he;for(he=\\\"SSSS\\\";he.length<=9;he+=\\\"S\\\")O(he,nd);for(he=\\\"S\\\";he.length<=9;he+=\\\"S\\\")S(he,hc);var ie=E(\\\"Milliseconds\\\",!1);J(\\\"z\\\",0,0,\\\"zoneAbbr\\\"),J(\\\"zz\\\",0,0,\\\"zoneName\\\");var je=o.prototype;je.add=Xd,je.calendar=db,je.clone=eb,je.diff=lb,je.endOf=xb,je.format=pb,je.from=qb,je.fromNow=rb,je.to=sb,je.toNow=tb,je.get=H,je.invalidAt=Gb,je.isAfter=fb,je.isBefore=gb,je.isBetween=hb,je.isSame=ib,je.isSameOrAfter=jb,je.isSameOrBefore=kb,je.isValid=Eb,je.lang=Zd,je.locale=ub,je.localeData=vb,je.max=Sd,je.min=Rd,je.parsingFlags=Fb,je.set=H,je.startOf=wb,je.subtract=Yd,je.toArray=Bb,je.toObject=Cb,je.toDate=Ab,je.toISOString=ob,je.toJSON=Db,je.toString=nb,je.unix=zb,je.valueOf=yb,je.creationData=Hb,je.year=Qd,je.isLeapYear=na,je.weekYear=Jb,je.isoWeekYear=Kb,je.quarter=je.quarters=Pb,je.month=$,je.daysInMonth=_,je.week=je.weeks=Tb,je.isoWeek=je.isoWeeks=Ub,je.weeksInYear=Mb,je.isoWeeksInYear=Lb,je.date=_d,je.day=je.days=$b,je.weekday=_b,je.isoWeekday=ac,je.dayOfYear=bc,je.hour=je.hours=ee,je.minute=je.minutes=fe,je.second=je.seconds=ge,je.millisecond=je.milliseconds=ie,je.utcOffset=Oa,je.utc=Qa,je.local=Ra,je.parseZone=Sa,je.hasAlignedHourOffset=Ta,je.isDST=Ua,je.isDSTShifted=Va,je.isLocal=Wa,je.isUtcOffset=Xa,je.isUtc=Ya,je.isUTC=Ya,je.zoneAbbr=ic,je.zoneName=jc,je.dates=fa(\\\"dates accessor is deprecated. Use date instead.\\\",_d),je.months=fa(\\\"months accessor is deprecated. Use month instead\\\",$),je.years=fa(\\\"years accessor is deprecated. Use year instead\\\",Qd),je.zone=fa(\\\"moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779\\\",Pa);var ke=je,le={sameDay:\\\"[Today at] LT\\\",nextDay:\\\"[Tomorrow at] LT\\\",nextWeek:\\\"dddd [at] LT\\\",lastDay:\\\"[Yesterday at] LT\\\",lastWeek:\\\"[Last] dddd [at] LT\\\",sameElse:\\\"L\\\"},me={LTS:\\\"h:mm:ss A\\\",LT:\\\"h:mm A\\\",L:\\\"MM/DD/YYYY\\\",LL:\\\"MMMM D, YYYY\\\",LLL:\\\"MMMM D, YYYY h:mm A\\\",LLLL:\\\"dddd, MMMM D, YYYY h:mm A\\\"},ne=\\\"Invalid date\\\",oe=\\\"%d\\\",pe=/\\\\d{1,2}/,qe={future:\\\"in %s\\\",past:\\\"%s ago\\\",s:\\\"a few seconds\\\",m:\\\"a minute\\\",mm:\\\"%d minutes\\\",h:\\\"an hour\\\",hh:\\\"%d hours\\\",d:\\\"a day\\\",dd:\\\"%d days\\\",M:\\\"a month\\\",MM:\\\"%d months\\\",y:\\\"a year\\\",yy:\\\"%d years\\\"},re=t.prototype;re._calendar=le,re.calendar=mc,re._longDateFormat=me,re.longDateFormat=nc,re._invalidDate=ne,re.invalidDate=oc,re._ordinal=oe,re.ordinal=pc,re._ordinalParse=pe,re.preparse=qc,re.postformat=qc,re._relativeTime=qe,re.relativeTime=rc,re.pastFuture=sc,re.set=tc,re.months=W,re._months=Fd,re.monthsShort=X,re._monthsShort=Gd,re.monthsParse=Y,re._monthsRegex=Id,re.monthsRegex=ba,re._monthsShortRegex=Hd,re.monthsShortRegex=aa,re.week=Qb,re._week=$d,re.firstDayOfYear=Sb,re.firstDayOfWeek=Rb,re.weekdays=Wb,re._weekdays=ae,re.weekdaysMin=Yb,re._weekdaysMin=ce,re.weekdaysShort=Xb,re._weekdaysShort=be,re.weekdaysParse=Zb,re.isPM=fc,re._meridiemParse=de,re.meridiem=gc,x(\\\"en\\\",{ordinalParse:/\\\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===r(a%100/10)?\\\"th\\\":1===b?\\\"st\\\":2===b?\\\"nd\\\":3===b?\\\"rd\\\":\\\"th\\\";return a+c}}),a.lang=fa(\\\"moment.lang is deprecated. Use moment.locale instead.\\\",x),a.langData=fa(\\\"moment.langData is deprecated. Use moment.localeData instead.\\\",z);var se=Math.abs,te=Lc(\\\"ms\\\"),ue=Lc(\\\"s\\\"),ve=Lc(\\\"m\\\"),we=Lc(\\\"h\\\"),xe=Lc(\\\"d\\\"),ye=Lc(\\\"w\\\"),ze=Lc(\\\"M\\\"),Ae=Lc(\\\"y\\\"),Be=Nc(\\\"milliseconds\\\"),Ce=Nc(\\\"seconds\\\"),De=Nc(\\\"minutes\\\"),Ee=Nc(\\\"hours\\\"),Fe=Nc(\\\"days\\\"),Ge=Nc(\\\"months\\\"),He=Nc(\\\"years\\\"),Ie=Math.round,Je={s:45,m:45,h:22,d:26,M:11},Ke=Math.abs,Le=Ia.prototype;Le.abs=Bc,Le.add=Dc,Le.subtract=Ec,Le.as=Jc,Le.asMilliseconds=te,Le.asSeconds=ue,Le.asMinutes=ve,Le.asHours=we,Le.asDays=xe,Le.asWeeks=ye,Le.asMonths=ze,Le.asYears=Ae,Le.valueOf=Kc,Le._bubble=Gc,Le.get=Mc,Le.milliseconds=Be,Le.seconds=Ce,Le.minutes=De,Le.hours=Ee,Le.days=Fe,Le.weeks=Oc,Le.months=Ge,Le.years=He,Le.humanize=Sc,Le.toISOString=Tc,Le.toString=Tc,Le.toJSON=Tc,Le.locale=ub,Le.localeData=vb,Le.toIsoString=fa(\\\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\\\",Tc),Le.lang=Zd,J(\\\"X\\\",0,0,\\\"unix\\\"),J(\\\"x\\\",0,0,\\\"valueOf\\\"),O(\\\"x\\\",od),O(\\\"X\\\",rd),S(\\\"X\\\",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),S(\\\"x\\\",function(a,b,c){c._d=new Date(r(a))}),a.version=\\\"2.11.2\\\",b(Ea),a.fn=ke,a.min=Ga,a.max=Ha,a.now=Td,a.utc=h,a.unix=kc,a.months=wc,a.isDate=d,a.locale=x,a.invalid=l,a.duration=Za,a.isMoment=p,a.weekdays=yc,a.parseZone=lc,a.localeData=z,a.isDuration=Ja,a.monthsShort=xc,a.weekdaysMin=Ac,a.defineLocale=y,a.weekdaysShort=zc,a.normalizeUnits=B,a.relativeTimeThreshold=Rc,a.prototype=ke;var Me=a;return Me});\"\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(20))\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/* Copyright (c) 2010-2013 Marcus Westin */\\n\\\"use strict\\\";(function(e,t){typeof define==\\\"function\\\"&&define.amd?define([],t):typeof exports==\\\"object\\\"?module.exports=t():e.store=t()})(this,function(){function o(){try{return r in t&&t[r]}catch(e){return!1}}var e={},t=typeof window!=\\\"undefined\\\"?window:global,n=t.document,r=\\\"localStorage\\\",i=\\\"script\\\",s;e.disabled=!1,e.version=\\\"1.3.20\\\",e.set=function(e,t){},e.get=function(e,t){},e.has=function(t){return e.get(t)!==undefined},e.remove=function(e){},e.clear=function(){},e.transact=function(t,n,r){r==null&&(r=n,n=null),n==null&&(n={});var i=e.get(t,n);r(i),e.set(t,i)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(e){return JSON.stringify(e)},e.deserialize=function(e){if(typeof e!=\\\"string\\\")return undefined;try{return JSON.parse(e)}catch(t){return e||undefined}};if(o())s=t[r],e.set=function(t,n){return n===undefined?e.remove(t):(s.setItem(t,e.serialize(n)),n)},e.get=function(t,n){var r=e.deserialize(s.getItem(t));return r===undefined?n:r},e.remove=function(e){s.removeItem(e)},e.clear=function(){s.clear()},e.getAll=function(){var t={};return e.forEach(function(e,n){t[e]=n}),t},e.forEach=function(t){for(var n=0;n<s.length;n++){var r=s.key(n);t(r,e.get(r))}};else if(n&&n.documentElement.addBehavior){var u,a;try{a=new ActiveXObject(\\\"htmlfile\\\"),a.open(),a.write(\\\"<\\\"+i+\\\">document.w=window</\\\"+i+'><iframe src=\\\"/favicon.ico\\\"></iframe>'),a.close(),u=a.w.frames[0].document,s=u.createElement(\\\"div\\\")}catch(f){s=n.createElement(\\\"div\\\"),u=n.body}var l=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(s),u.appendChild(s),s.addBehavior(\\\"#default#userData\\\"),s.load(r);var i=t.apply(e,n);return u.removeChild(s),i}},c=new RegExp(\\\"[!\\\\\\\"#$%&'()*+,/\\\\\\\\\\\\\\\\:;<=>?@[\\\\\\\\]^`{|}~]\\\",\\\"g\\\"),h=function(e){return e.replace(/^d/,\\\"___$&\\\").replace(c,\\\"___\\\")};e.set=l(function(t,n,i){return n=h(n),i===undefined?e.remove(n):(t.setAttribute(n,e.serialize(i)),t.save(r),i)}),e.get=l(function(t,n,r){n=h(n);var i=e.deserialize(t.getAttribute(n));return i===undefined?r:i}),e.remove=l(function(e,t){t=h(t),e.removeAttribute(t),e.save(r)}),e.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(r)}),e.getAll=function(t){var n={};return e.forEach(function(e,t){n[e]=t}),n},e.forEach=l(function(t,n){var r=t.XMLDocument.documentElement.attributes;for(var i=0,s;s=r[i];++i)n(s.name,e.deserialize(t.getAttribute(s.name)))})}try{var p=\\\"__storejs__\\\";e.set(p,p),e.get(p)!=p&&(e.disabled=!0),e.remove(p)}catch(f){e.disabled=!0}return e.enabled=!e.disabled,e});\"\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(22))\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */\\njQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn(\\\"JQMIGRATE: \\\"+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log(\\\"JQMIGRATE: Logging is active\\\"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},\\\"BackCompat\\\"===document.compatMode&&r(\\\"jQuery is not compatible with Quirks Mode\\\");var o=e(\\\"<input/>\\\",{size:1}).attr(\\\"size\\\")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,\\\"attrFn\\\",o||{},\\\"jQuery.attrFn is deprecated\\\"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r(\\\"jQuery.fn.attr( props, pass ) is deprecated\\\"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):(\\\"type\\\"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r(\\\"Can't change the 'type' of an input or button in IE 6/7/8\\\"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||\\\"boolean\\\"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r(\\\"jQuery.fn.attr('\\\"+c+\\\"') may use property instead of attribute\\\")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||\\\"\\\").toLowerCase();return\\\"button\\\"===n?u.apply(this,arguments):(\\\"input\\\"!==n&&\\\"option\\\"!==n&&r(\\\"jQuery.fn.attr('value') no longer gets properties\\\"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||\\\"\\\").toLowerCase();return\\\"button\\\"===a?c.apply(this,arguments):(\\\"input\\\"!==a&&\\\"option\\\"!==a&&r(\\\"jQuery.fn.attr('value', val) no longer sets properties\\\"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\\\\w\\\\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&\\\"string\\\"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&(\\\"<\\\"!==t.charAt(0)&&r(\\\"$(html) HTML strings must start with '<' character\\\"),i[3]&&r(\\\"$(html) HTML text after last tag is ignored\\\"),\\\"#\\\"===i[0].charAt(0)&&(r(\\\"HTML string cannot start with a '#' character\\\"),e.error(\\\"JQMIGRATE: Invalid selector string (XSS)\\\")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r(\\\"jQuery.parseJSON requires a valid JSON string\\\"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \\\\/]([\\\\w.]+)/.exec(e)||/(webkit)[ \\\\/]([\\\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\\\/]([\\\\w.]+)/.exec(e)||/(msie) ([\\\\w.]+)/.exec(e)||0>e.indexOf(\\\"compatible\\\")&&/(mozilla)(?:.*? rv:([\\\\w.]+)|)/.exec(e)||[];return{browser:t[1]||\\\"\\\",version:t[2]||\\\"0\\\"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,\\\"browser\\\",e.browser,\\\"jQuery.browser is deprecated\\\"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r(\\\"jQuery.sub() is deprecated\\\"),t},e.ajaxSetup({converters:{\\\"text json\\\":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||\\\"events\\\"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r(\\\"Use of jQuery.fn.data('events') is deprecated\\\"),i)};var j=/\\\\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r(\\\"jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\\\"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r(\\\"jQuery.clean() is deprecated\\\");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,\\\"script\\\")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName(\\\"script\\\")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S=\\\"ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess\\\",C=RegExp(\\\"\\\\\\\\b(?:\\\"+S+\\\")\\\\\\\\b\\\"),H=/(?:^|\\\\s)hover(\\\\.\\\\S+|)\\\\b/,A=function(t){return\\\"string\\\"!=typeof t||e.event.special.hover?t:(H.test(t)&&r(\\\"'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'\\\"),t&&t.replace(H,\\\"mouseenter$1 mouseleave$1\\\"))};e.event.props&&\\\"attrChange\\\"!==e.event.props[0]&&e.event.props.unshift(\\\"attrChange\\\",\\\"attrName\\\",\\\"relatedNode\\\",\\\"srcElement\\\"),e.event.dispatch&&a(e.event,\\\"handle\\\",e.event.dispatch,\\\"jQuery.event.handle is undocumented and deprecated\\\"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r(\\\"AJAX events should be attached to document: \\\"+t),Q.call(this,e,A(t||\\\"\\\"),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||\\\"\\\",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r(\\\"jQuery.fn.error() is deprecated\\\"),e.splice(0,0,\\\"error\\\"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r(\\\"jQuery.fn.toggle(handler, handler...) is deprecated\\\");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,\\\"lastToggle\\\"+t.guid)||0)%o;return e._data(this,\\\"lastToggle\\\"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r(\\\"jQuery.fn.live() is deprecated\\\"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r(\\\"jQuery.fn.die() is deprecated\\\"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||\\\"**\\\",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r(\\\"Global events are undocumented and deprecated\\\"),k.call(this,e,t,n||document,a)},e.each(S.split(\\\"|\\\"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+\\\".\\\"+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+\\\".\\\"+e._data(this,n)),!1}}})}(jQuery,window);\"\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(24))\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/*! jQuery UI - v1.11.4 - 2015-04-12\\n* http://jqueryui.com\\n* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js\\n* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */\\n\\n(function(e){\\\"function\\\"==typeof define&&define.amd?define([\\\"jquery\\\"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return\\\"area\\\"===r?(n=t.parentNode,a=n.name,t.href&&a&&\\\"map\\\"===n.nodeName.toLowerCase()?(o=e(\\\"img[usemap='#\\\"+a+\\\"']\\\")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:\\\"a\\\"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return\\\"hidden\\\"===e.css(this,\\\"visibility\\\")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css(\\\"position\\\"),(\\\"absolute\\\"===t||\\\"relative\\\"===t||\\\"fixed\\\"===t)&&(i=parseInt(e.css(\\\"zIndex\\\"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\\\"ui-datepicker-div\\\",this._inlineClass=\\\"ui-datepicker-inline\\\",this._appendClass=\\\"ui-datepicker-append\\\",this._triggerClass=\\\"ui-datepicker-trigger\\\",this._dialogClass=\\\"ui-datepicker-dialog\\\",this._disableClass=\\\"ui-datepicker-disabled\\\",this._unselectableClass=\\\"ui-datepicker-unselectable\\\",this._currentClass=\\\"ui-datepicker-current-day\\\",this._dayOverClass=\\\"ui-datepicker-days-cell-over\\\",this.regional=[],this.regional[\\\"\\\"]={closeText:\\\"Done\\\",prevText:\\\"Prev\\\",nextText:\\\"Next\\\",currentText:\\\"Today\\\",monthNames:[\\\"January\\\",\\\"February\\\",\\\"March\\\",\\\"April\\\",\\\"May\\\",\\\"June\\\",\\\"July\\\",\\\"August\\\",\\\"September\\\",\\\"October\\\",\\\"November\\\",\\\"December\\\"],monthNamesShort:[\\\"Jan\\\",\\\"Feb\\\",\\\"Mar\\\",\\\"Apr\\\",\\\"May\\\",\\\"Jun\\\",\\\"Jul\\\",\\\"Aug\\\",\\\"Sep\\\",\\\"Oct\\\",\\\"Nov\\\",\\\"Dec\\\"],dayNames:[\\\"Sunday\\\",\\\"Monday\\\",\\\"Tuesday\\\",\\\"Wednesday\\\",\\\"Thursday\\\",\\\"Friday\\\",\\\"Saturday\\\"],dayNamesShort:[\\\"Sun\\\",\\\"Mon\\\",\\\"Tue\\\",\\\"Wed\\\",\\\"Thu\\\",\\\"Fri\\\",\\\"Sat\\\"],dayNamesMin:[\\\"Su\\\",\\\"Mo\\\",\\\"Tu\\\",\\\"We\\\",\\\"Th\\\",\\\"Fr\\\",\\\"Sa\\\"],weekHeader:\\\"Wk\\\",dateFormat:\\\"mm/dd/yy\\\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\\\"\\\"},this._defaults={showOn:\\\"focus\\\",showAnim:\\\"fadeIn\\\",showOptions:{},defaultDate:null,appendText:\\\"\\\",buttonText:\\\"...\\\",buttonImage:\\\"\\\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\\\"c-10:c+10\\\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\\\"+10\\\",minDate:null,maxDate:null,duration:\\\"fast\\\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\\\"\\\",altFormat:\\\"\\\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[\\\"\\\"]),this.regional.en=e.extend(!0,{},this.regional[\\\"\\\"]),this.regional[\\\"en-US\\\"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e(\\\"<div id='\\\"+this._mainDivId+\\\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\\\"))}function a(t){var i=\\\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\\\";return t.delegate(i,\\\"mouseout\\\",function(){e(this).removeClass(\\\"ui-state-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-prev\\\")&&e(this).removeClass(\\\"ui-datepicker-prev-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-next\\\")&&e(this).removeClass(\\\"ui-datepicker-next-hover\\\")}).delegate(i,\\\"mouseover\\\",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(\\\".ui-datepicker-calendar\\\").find(\\\"a\\\").removeClass(\\\"ui-state-hover\\\"),e(this).addClass(\\\"ui-state-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-prev\\\")&&e(this).addClass(\\\"ui-datepicker-prev-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-next\\\")&&e(this).addClass(\\\"ui-datepicker-next-hover\\\"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger(\\\"change\\\")}}e.ui=e.ui||{},e.extend(e.ui,{version:\\\"1.11.4\\\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css(\\\"position\\\"),s=\\\"absolute\\\"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&\\\"static\\\"===t.css(\\\"position\\\")?!1:n.test(t.css(\\\"overflow\\\")+t.css(\\\"overflow-y\\\")+t.css(\\\"overflow-x\\\"))}).eq(0);return\\\"fixed\\\"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id=\\\"ui-id-\\\"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\\\\d+$/.test(this.id)&&e(this).removeAttr(\\\"id\\\")})}}),e.extend(e.expr[\\\":\\\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,\\\"tabindex\\\")))},tabbable:function(i){var s=e.attr(i,\\\"tabindex\\\"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e(\\\"<a>\\\").outerWidth(1).jquery||e.each([\\\"Width\\\",\\\"Height\\\"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,\\\"padding\\\"+this))||0,s&&(i-=parseFloat(e.css(t,\\\"border\\\"+this+\\\"Width\\\"))||0),a&&(i-=parseFloat(e.css(t,\\\"margin\\\"+this))||0)}),i}var n=\\\"Width\\\"===i?[\\\"Left\\\",\\\"Right\\\"]:[\\\"Top\\\",\\\"Bottom\\\"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn[\\\"inner\\\"+i]=function(t){return void 0===t?o[\\\"inner\\\"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+\\\"px\\\")})},e.fn[\\\"outer\\\"+i]=function(t,n){return\\\"number\\\"!=typeof t?o[\\\"outer\\\"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+\\\"px\\\")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e(\\\"<a>\\\").data(\\\"a-b\\\",\\\"a\\\").removeData(\\\"a-b\\\").data(\\\"a-b\\\")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\\\\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return\\\"number\\\"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e=\\\"onselectstart\\\"in document.createElement(\\\"div\\\")?\\\"selectstart\\\":\\\"mousedown\\\";return function(){return this.bind(e+\\\".ui-disableSelection\\\",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(\\\".ui-disableSelection\\\")},zIndex:function(t){if(void 0!==t)return this.css(\\\"zIndex\\\",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css(\\\"position\\\"),(\\\"absolute\\\"===i||\\\"relative\\\"===i||\\\"fixed\\\"===i)&&(s=parseInt(n.css(\\\"zIndex\\\"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,\\\"events\\\"),s&&s.remove&&e(n).triggerHandler(\\\"remove\\\")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(\\\".\\\")[0];return t=t.split(\\\".\\\")[1],n=l+\\\"-\\\"+t,s||(s=i,i=e.Widget),e.expr[\\\":\\\"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+\\\".\\\"+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a=\\\"string\\\"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return\\\"instance\\\"===n?(r=a,!1):a?e.isFunction(a[n])&&\\\"_\\\"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error(\\\"no such method '\\\"+n+\\\"' for \\\"+t+\\\" widget instance\\\"):e.error(\\\"cannot call methods on \\\"+t+\\\" prior to initialization; \\\"+\\\"attempted to call method '\\\"+n+\\\"'\\\")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:\\\"widget\\\",widgetEventPrefix:\\\"\\\",defaultElement:\\\"<div>\\\",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace=\\\".\\\"+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger(\\\"create\\\",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(\\\"aria-disabled\\\").removeClass(this.widgetFullName+\\\"-disabled \\\"+\\\"ui-state-disabled\\\"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(\\\"ui-state-hover\\\"),this.focusable.removeClass(\\\"ui-state-focus\\\")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if(\\\"string\\\"==typeof t)if(o={},s=t.split(\\\".\\\"),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,\\\"disabled\\\"===e&&(this.widget().toggleClass(this.widgetFullName+\\\"-disabled\\\",!!t),t&&(this.hoverable.removeClass(\\\"ui-state-hover\\\"),this.focusable.removeClass(\\\"ui-state-focus\\\"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;\\\"boolean\\\"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass(\\\"ui-state-disabled\\\")?(\\\"string\\\"==typeof o?a[o]:o).apply(a,arguments):void 0}\\\"string\\\"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\\\\w:-]*)\\\\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||\\\"\\\").split(\\\" \\\").join(this.eventNamespace+\\\" \\\")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return(\\\"string\\\"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass(\\\"ui-state-hover\\\")},mouseleave:function(t){e(t.currentTarget).removeClass(\\\"ui-state-hover\\\")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass(\\\"ui-state-focus\\\")},focusout:function(t){e(t.currentTarget).removeClass(\\\"ui-state-focus\\\")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:\\\"fadeIn\\\",hide:\\\"fadeOut\\\"},function(t,i){e.Widget.prototype[\\\"_\\\"+t]=function(s,n,a){\\\"string\\\"==typeof n&&(n={effect:n});var o,r=n?n===!0||\\\"number\\\"==typeof n?i:n.effect||i:t;n=n||{},\\\"number\\\"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget(\\\"ui.mouse\\\",{version:\\\"1.11.4\\\",options:{cancel:\\\"input,textarea,button,select,option\\\",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind(\\\"mousedown.\\\"+this.widgetName,function(e){return t._mouseDown(e)}).bind(\\\"click.\\\"+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+\\\".preventClickEvent\\\")?(e.removeData(i.target,t.widgetName+\\\".preventClickEvent\\\"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\\\".\\\"+this.widgetName),this._mouseMoveDelegate&&this.document.unbind(\\\"mousemove.\\\"+this.widgetName,this._mouseMoveDelegate).unbind(\\\"mouseup.\\\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n=\\\"string\\\"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+\\\".preventClickEvent\\\")&&e.removeData(t.target,this.widgetName+\\\".preventClickEvent\\\"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind(\\\"mousemove.\\\"+this.widgetName,this._mouseMoveDelegate).bind(\\\"mouseup.\\\"+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind(\\\"mousemove.\\\"+this.widgetName,this._mouseMoveDelegate).unbind(\\\"mouseup.\\\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+\\\".preventClickEvent\\\",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\\\\+\\\\-]\\\\d+(\\\\.[\\\\d]+)?%?/,c=/^\\\\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e(\\\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\\\"),a=s.children()[0];return e(\\\"body\\\").append(s),t=a.offsetWidth,s.css(\\\"overflow\\\",\\\"scroll\\\"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?\\\"\\\":t.element.css(\\\"overflow-x\\\"),s=t.isWindow||t.isDocument?\\\"\\\":t.element.css(\\\"overflow-y\\\"),n=\\\"scroll\\\"===i||\\\"auto\\\"===i&&t.width<t.element[0].scrollWidth,a=\\\"scroll\\\"===s||\\\"auto\\\"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||\\\"flip\\\").split(\\\" \\\"),T={};return b=s(_),_[0].preventDefault&&(n.at=\\\"left top\\\"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each([\\\"my\\\",\\\"at\\\"],function(){var e,t,i=(n[this]||\\\"\\\").split(\\\" \\\");1===i.length&&(i=l.test(i[0])?i.concat([\\\"center\\\"]):u.test(i[0])?[\\\"center\\\"].concat(i):[\\\"center\\\",\\\"center\\\"]),i[0]=l.test(i[0])?i[0]:\\\"center\\\",i[1]=u.test(i[1])?i[1]:\\\"center\\\",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),\\\"right\\\"===n.at[0]?y.left+=m:\\\"center\\\"===n.at[0]&&(y.left+=m/2),\\\"bottom\\\"===n.at[1]?y.top+=g:\\\"center\\\"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,\\\"marginLeft\\\"),b=i(this,\\\"marginTop\\\"),D=d+f+i(this,\\\"marginRight\\\")+w.width,S=c+b+i(this,\\\"marginBottom\\\")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());\\\"right\\\"===n.my[0]?M.left-=d:\\\"center\\\"===n.my[0]&&(M.left-=d/2),\\\"bottom\\\"===n.my[1]?M.top-=c:\\\"center\\\"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each([\\\"left\\\",\\\"top\\\"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?\\\"left\\\":t>0?\\\"right\\\":\\\"center\\\",vertical:0>a?\\\"top\\\":s>0?\\\"bottom\\\":\\\"middle\\\"};d>m&&m>r(t+i)&&(h.horizontal=\\\"center\\\"),c>g&&g>r(s+a)&&(h.vertical=\\\"middle\\\"),h.important=o(r(t),r(i))>o(r(s),r(a))?\\\"horizontal\\\":\\\"vertical\\\",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c=\\\"left\\\"===t.my[0]?-t.elemWidth:\\\"right\\\"===t.my[0]?t.elemWidth:0,p=\\\"left\\\"===t.at[0]?t.targetWidth:\\\"right\\\"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c=\\\"top\\\"===t.my[1],p=c?-t.elemHeight:\\\"bottom\\\"===t.my[1]?t.elemHeight:0,f=\\\"top\\\"===t.at[1]?t.targetHeight:\\\"bottom\\\"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName(\\\"body\\\")[0],h=document.createElement(\\\"div\\\");t=document.createElement(r?\\\"div\\\":\\\"body\\\"),s={visibility:\\\"hidden\\\",width:0,height:0,border:0,margin:0,background:\\\"none\\\"},r&&e.extend(s,{position:\\\"absolute\\\",left:\\\"-1000px\\\",top:\\\"-1000px\\\"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText=\\\"position: absolute; left: 10.7432222px;\\\",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML=\\\"\\\",i.removeChild(t)}()}(),e.ui.position,e.widget(\\\"ui.draggable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"drag\\\",options:{addClasses:!0,appendTo:\\\"parent\\\",axis:!1,connectToSortable:!1,containment:!1,cursor:\\\"auto\\\",cursorAt:!1,grid:!1,handle:!1,helper:\\\"original\\\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\\\"default\\\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\\\"both\\\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\\\"original\\\"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass(\\\"ui-draggable\\\"),this.options.disabled&&this.element.addClass(\\\"ui-draggable-disabled\\\"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),\\\"handle\\\"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(\\\".ui-draggable-dragging\\\")?(this.destroyOnClear=!0,void 0):(this.element.removeClass(\\\"ui-draggable ui-draggable-dragging ui-draggable-disabled\\\"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(\\\".ui-resizable-handle\\\").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?\\\"iframe\\\":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e(\\\"<div>\\\").css(\\\"position\\\",\\\"absolute\\\").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&\\\"body\\\"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass(\\\"ui-draggable-dragging\\\"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\\\"position\\\"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return\\\"fixed\\\"===e(this).css(\\\"position\\\")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger(\\\"start\\\",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),!i){var s=this._uiHash();if(this._trigger(\\\"drag\\\",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+\\\"px\\\",this.helper[0].style.top=this.position.top+\\\"px\\\",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),\\\"invalid\\\"===this.options.revert&&!s||\\\"valid\\\"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger(\\\"stop\\\",t)!==!1&&i._clear()}):this._trigger(\\\"stop\\\",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(\\\".ui-draggable-dragging\\\")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass(\\\"ui-draggable-handle\\\")},_removeHandleClassName:function(){this.handleElement.removeClass(\\\"ui-draggable-handle\\\")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):\\\"clone\\\"===i.helper?this.element.clone().removeAttr(\\\"id\\\"):this.element;return n.parents(\\\"body\\\").length||n.appendTo(\\\"parent\\\"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css(\\\"position\\\"))||n.css(\\\"position\\\",\\\"absolute\\\"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css(\\\"position\\\"))||(this.element[0].style.position=\\\"relative\\\")},_adjustOffsetFromHelper:function(t){\\\"string\\\"==typeof t&&(t=t.split(\\\" \\\")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),\\\"left\\\"in t&&(this.offset.click.left=t.left+this.margins.left),\\\"right\\\"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),\\\"top\\\"in t&&(this.offset.click.top=t.top+this.margins.top),\\\"bottom\\\"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return\\\"absolute\\\"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css(\\\"borderTopWidth\\\"),10)||0),left:t.left+(parseInt(this.offsetParent.css(\\\"borderLeftWidth\\\"),10)||0)}},_getRelativeOffset:function(){if(\\\"relative\\\"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css(\\\"top\\\"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css(\\\"left\\\"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\\\"marginLeft\\\"),10)||0,top:parseInt(this.element.css(\\\"marginTop\\\"),10)||0,right:parseInt(this.element.css(\\\"marginRight\\\"),10)||0,bottom:parseInt(this.element.css(\\\"marginBottom\\\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?\\\"window\\\"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):\\\"document\\\"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):(\\\"parent\\\"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css(\\\"overflow\\\")),this.containment=[(parseInt(i.css(\\\"borderLeftWidth\\\"),10)||0)+(parseInt(i.css(\\\"paddingLeft\\\"),10)||0),(parseInt(i.css(\\\"borderTopWidth\\\"),10)||0)+(parseInt(i.css(\\\"paddingTop\\\"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css(\\\"borderRightWidth\\\"),10)||0)-(parseInt(i.css(\\\"paddingRight\\\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css(\\\"borderBottomWidth\\\"),10)||0)-(parseInt(i.css(\\\"paddingBottom\\\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i=\\\"absolute\\\"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),\\\"y\\\"===o.axis&&(h=this.originalPageX),\\\"x\\\"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}\\n},_clear:function(){this.helper.removeClass(\\\"ui-draggable-dragging\\\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){\\\"y\\\"!==this.options.axis&&\\\"auto\\\"!==this.helper.css(\\\"right\\\")&&(this.helper.width(this.helper.width()),this.helper.css(\\\"right\\\",\\\"auto\\\")),\\\"x\\\"!==this.options.axis&&\\\"auto\\\"!==this.helper.css(\\\"bottom\\\")&&(this.helper.height(this.helper.height()),this.helper.css(\\\"bottom\\\",\\\"auto\\\"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add(\\\"draggable\\\",\\\"connectToSortable\\\",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable(\\\"instance\\\");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger(\\\"activate\\\",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css(\\\"position\\\"),top:e.placeholder.css(\\\"top\\\"),left:e.placeholder.css(\\\"left\\\")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger(\\\"deactivate\\\",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data(\\\"ui-sortable-item\\\",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger(\\\"toSortable\\\",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger(\\\"out\\\",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger(\\\"fromSortable\\\",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add(\\\"draggable\\\",\\\"cursor\\\",{start:function(t,i,s){var n=e(\\\"body\\\"),a=s.options;n.css(\\\"cursor\\\")&&(a._cursor=n.css(\\\"cursor\\\")),n.css(\\\"cursor\\\",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e(\\\"body\\\").css(\\\"cursor\\\",n._cursor)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"opacity\\\",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css(\\\"opacity\\\")&&(a._opacity=n.css(\\\"opacity\\\")),n.css(\\\"opacity\\\",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css(\\\"opacity\\\",n._opacity)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"scroll\\\",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&\\\"HTML\\\"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&\\\"HTML\\\"!==o.tagName?(n.axis&&\\\"x\\\"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&\\\"y\\\"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&\\\"x\\\"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&\\\"y\\\"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"snap\\\",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||\\\":data(ui-draggable)\\\":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):(\\\"inner\\\"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:l}).left)),p=n||a||o||r,\\\"outer\\\"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"stack\\\",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css(\\\"zIndex\\\"),10)||0)-(parseInt(e(i).css(\\\"zIndex\\\"),10)||0)});o.length&&(n=parseInt(e(o[0]).css(\\\"zIndex\\\"),10)||0,e(o).each(function(t){e(this).css(\\\"zIndex\\\",n+t)}),this.css(\\\"zIndex\\\",n+o.length))}}),e.ui.plugin.add(\\\"draggable\\\",\\\"zIndex\\\",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css(\\\"zIndex\\\")&&(a._zIndex=n.css(\\\"zIndex\\\")),n.css(\\\"zIndex\\\",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css(\\\"zIndex\\\",n._zIndex)}}),e.ui.draggable,e.widget(\\\"ui.droppable\\\",{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"drop\\\",options:{accept:\\\"*\\\",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:\\\"default\\\",tolerance:\\\"intersect\\\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass(\\\"ui-droppable\\\")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass(\\\"ui-droppable ui-droppable-disabled\\\")},_setOption:function(t,i){if(\\\"accept\\\"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if(\\\"scope\\\"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger(\\\"activate\\\",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger(\\\"deactivate\\\",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger(\\\"over\\\",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\\\"out\\\",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(\\\":data(ui-droppable)\\\").not(\\\".ui-draggable-dragging\\\").each(function(){var i=e(this).droppable(\\\"instance\\\");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\\\"drop\\\",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case\\\"fit\\\":return a>=l&&d>=r&&o>=u&&c>=h;case\\\"intersect\\\":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case\\\"pointer\\\":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case\\\"touch\\\":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{\\\"default\\\":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(\\\":data(ui-droppable)\\\").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible=\\\"none\\\"!==a[s].element.css(\\\"display\\\"),a[s].visible&&(\\\"mousedown\\\"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil(\\\"body\\\").bind(\\\"scroll.droppable\\\",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?\\\"isout\\\":o&&!this.isover?\\\"isover\\\":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(\\\":data(ui-droppable)\\\").filter(function(){return e(this).droppable(\\\"instance\\\").options.scope===n}),a.length&&(s=e(a[0]).droppable(\\\"instance\\\"),s.greedyChild=\\\"isover\\\"===r)),s&&\\\"isover\\\"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this[\\\"isout\\\"===r?\\\"isover\\\":\\\"isout\\\"]=!1,this[\\\"isover\\\"===r?\\\"_over\\\":\\\"_out\\\"].call(this,i),s&&\\\"isout\\\"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil(\\\"body\\\").unbind(\\\"scroll.droppable\\\"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget(\\\"ui.resizable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"resize\\\",options:{alsoResize:!1,animate:!1,animateDuration:\\\"slow\\\",animateEasing:\\\"swing\\\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\\\"e,s,se\\\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if(\\\"hidden\\\"===e(t).css(\\\"overflow\\\"))return!1;var s=i&&\\\"left\\\"===i?\\\"scrollLeft\\\":\\\"scrollTop\\\",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass(\\\"ui-resizable\\\"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||\\\"ui-resizable-helper\\\":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e(\\\"<div class='ui-wrapper' style='overflow: hidden;'></div>\\\").css({position:this.element.css(\\\"position\\\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\\\"top\\\"),left:this.element.css(\\\"left\\\")})),this.element=this.element.parent().data(\\\"ui-resizable\\\",this.element.resizable(\\\"instance\\\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\\\"marginLeft\\\"),marginTop:this.originalElement.css(\\\"marginTop\\\"),marginRight:this.originalElement.css(\\\"marginRight\\\"),marginBottom:this.originalElement.css(\\\"marginBottom\\\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\\\"resize\\\"),this.originalElement.css(\\\"resize\\\",\\\"none\\\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\\\"static\\\",zoom:1,display:\\\"block\\\"})),this.originalElement.css({margin:this.originalElement.css(\\\"margin\\\")}),this._proportionallyResize()),this.handles=r.handles||(e(\\\".ui-resizable-handle\\\",this.element).length?{n:\\\".ui-resizable-n\\\",e:\\\".ui-resizable-e\\\",s:\\\".ui-resizable-s\\\",w:\\\".ui-resizable-w\\\",se:\\\".ui-resizable-se\\\",sw:\\\".ui-resizable-sw\\\",ne:\\\".ui-resizable-ne\\\",nw:\\\".ui-resizable-nw\\\"}:\\\"e,s,se\\\"),this._handles=e(),this.handles.constructor===String)for(\\\"all\\\"===this.handles&&(this.handles=\\\"n,e,s,w,se,sw,ne,nw\\\"),t=this.handles.split(\\\",\\\"),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a=\\\"ui-resizable-\\\"+s,n=e(\\\"<div class='ui-resizable-handle \\\"+a+\\\"'></div>\\\"),n.css({zIndex:r.zIndex}),\\\"se\\\"===s&&n.addClass(\\\"ui-icon ui-icon-gripsmall-diagonal-se\\\"),this.handles[s]=\\\".ui-resizable-\\\"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=[\\\"padding\\\",/ne|nw|n/.test(i)?\\\"Top\\\":/se|sw|s/.test(i)?\\\"Bottom\\\":/^e$/.test(i)?\\\"Right\\\":\\\"Left\\\"].join(\\\"\\\"),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(\\\".ui-resizable-handle\\\")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:\\\"se\\\")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass(\\\"ui-resizable-autohide\\\").mouseenter(function(){r.disabled||(e(this).removeClass(\\\"ui-resizable-autohide\\\"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass(\\\"ui-resizable-autohide\\\"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass(\\\"ui-resizable ui-resizable-disabled ui-resizable-resizing\\\").removeData(\\\"resizable\\\").removeData(\\\"ui-resizable\\\").unbind(\\\".resizable\\\").find(\\\".ui-resizable-handle\\\").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css(\\\"position\\\"),width:t.outerWidth(),height:t.outerHeight(),top:t.css(\\\"top\\\"),left:t.css(\\\"left\\\")}).insertAfter(t),t.remove()),this.originalElement.css(\\\"resize\\\",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css(\\\"left\\\")),s=this._num(this.helper.css(\\\"top\\\")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=\\\"number\\\"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(\\\".ui-resizable-\\\"+this.axis).css(\\\"cursor\\\"),e(\\\"body\\\").css(\\\"cursor\\\",\\\"auto\\\"===n?this.axis+\\\"-resize\\\":n),o.addClass(\\\"ui-resizable-resizing\\\"),this._propagate(\\\"start\\\",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate(\\\"resize\\\",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger(\\\"resize\\\",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],\\\"left\\\")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css(\\\"left\\\"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css(\\\"top\\\"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e(\\\"body\\\").css(\\\"cursor\\\",\\\"auto\\\"),this.element.removeClass(\\\"ui-resizable-resizing\\\"),this._propagate(\\\"stop\\\",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+\\\"px\\\"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+\\\"px\\\"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+\\\"px\\\"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+\\\"px\\\"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),\\\"sw\\\"===s&&(e.left=t.left+(i.width-e.width),e.top=null),\\\"nw\\\"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css(\\\"borderTopWidth\\\"),e.css(\\\"borderRightWidth\\\"),e.css(\\\"borderBottomWidth\\\"),e.css(\\\"borderLeftWidth\\\")],n=[e.css(\\\"paddingTop\\\"),e.css(\\\"paddingRight\\\"),e.css(\\\"paddingBottom\\\"),e.css(\\\"paddingLeft\\\")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e(\\\"<div style='overflow:hidden;'></div>\\\"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:\\\"absolute\\\",left:this.elementOffset.left+\\\"px\\\",top:this.elementOffset.top+\\\"px\\\",zIndex:++i.zIndex}),this.helper.appendTo(\\\"body\\\").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),\\\"resize\\\"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add(\\\"resizable\\\",\\\"animate\\\",{stop:function(t){var i=e(this).resizable(\\\"instance\\\"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],\\\"left\\\")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css(\\\"left\\\"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css(\\\"top\\\"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css(\\\"width\\\"),10),height:parseInt(i.element.css(\\\"height\\\"),10),top:parseInt(i.element.css(\\\"top\\\"),10),left:parseInt(i.element.css(\\\"left\\\"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate(\\\"resize\\\",t)}})}}),e.ui.plugin.add(\\\"resizable\\\",\\\"containment\\\",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable(\\\"instance\\\"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e([\\\"Top\\\",\\\"Right\\\",\\\"Left\\\",\\\"Bottom\\\"]).each(function(e,s){i[e]=h._num(t.css(\\\"padding\\\"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,\\\"left\\\")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable(\\\"instance\\\"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css(\\\"position\\\"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css(\\\"position\\\")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable(\\\"instance\\\"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css(\\\"position\\\"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css(\\\"position\\\"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add(\\\"resizable\\\",\\\"alsoResize\\\",{start:function(){var t=e(this).resizable(\\\"instance\\\"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data(\\\"ui-resizable-alsoresize\\\",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css(\\\"left\\\"),10),top:parseInt(t.css(\\\"top\\\"),10)})})},resize:function(t,i){var s=e(this).resizable(\\\"instance\\\"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data(\\\"ui-resizable-alsoresize\\\"),n={},a=t.parents(i.originalElement[0]).length?[\\\"width\\\",\\\"height\\\"]:[\\\"width\\\",\\\"height\\\",\\\"top\\\",\\\"left\\\"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData(\\\"resizable-alsoresize\\\")}}),e.ui.plugin.add(\\\"resizable\\\",\\\"ghost\\\",{start:function(){var t=e(this).resizable(\\\"instance\\\"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:\\\"block\\\",position:\\\"relative\\\",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass(\\\"ui-resizable-ghost\\\").addClass(\\\"string\\\"==typeof i.ghost?i.ghost:\\\"\\\"),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable(\\\"instance\\\");t.ghost&&t.ghost.css({position:\\\"relative\\\",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable(\\\"instance\\\");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add(\\\"resizable\\\",\\\"grid\\\",{resize:function(){var t,i=e(this).resizable(\\\"instance\\\"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h=\\\"number\\\"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget(\\\"ui.selectable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",options:{appendTo:\\\"body\\\",autoRefresh:!0,distance:0,filter:\\\"*\\\",tolerance:\\\"touch\\\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;\\nthis.element.addClass(\\\"ui-selectable\\\"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass(\\\"ui-selectee\\\"),t.each(function(){var t=e(this),i=t.offset();e.data(this,\\\"selectable-item\\\",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass(\\\"ui-selected\\\"),selecting:t.hasClass(\\\"ui-selecting\\\"),unselecting:t.hasClass(\\\"ui-unselecting\\\")})})},this.refresh(),this.selectees=t.addClass(\\\"ui-selectee\\\"),this._mouseInit(),this.helper=e(\\\"<div class='ui-selectable-helper'></div>\\\")},_destroy:function(){this.selectees.removeClass(\\\"ui-selectee\\\").removeData(\\\"selectable-item\\\"),this.element.removeClass(\\\"ui-selectable ui-selectable-disabled\\\"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger(\\\"start\\\",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(\\\".ui-selected\\\").each(function(){var s=e.data(this,\\\"selectable-item\\\");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass(\\\"ui-selected\\\"),s.selected=!1,s.$element.addClass(\\\"ui-unselecting\\\"),s.unselecting=!0,i._trigger(\\\"unselecting\\\",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,\\\"selectable-item\\\");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass(\\\"ui-selected\\\"),n.$element.removeClass(s?\\\"ui-unselecting\\\":\\\"ui-selected\\\").addClass(s?\\\"ui-selecting\\\":\\\"ui-unselecting\\\"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger(\\\"selecting\\\",t,{selecting:n.element}):i._trigger(\\\"unselecting\\\",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,\\\"selectable-item\\\"),l=!1;i&&i.element!==s.element[0]&&(\\\"touch\\\"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):\\\"fit\\\"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass(\\\"ui-selected\\\"),i.selected=!1),i.unselecting&&(i.$element.removeClass(\\\"ui-unselecting\\\"),i.unselecting=!1),i.selecting||(i.$element.addClass(\\\"ui-selecting\\\"),i.selecting=!0,s._trigger(\\\"selecting\\\",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass(\\\"ui-selecting\\\"),i.selecting=!1,i.$element.addClass(\\\"ui-selected\\\"),i.selected=!0):(i.$element.removeClass(\\\"ui-selecting\\\"),i.selecting=!1,i.startselected&&(i.$element.addClass(\\\"ui-unselecting\\\"),i.unselecting=!0),s._trigger(\\\"unselecting\\\",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass(\\\"ui-selected\\\"),i.selected=!1,i.$element.addClass(\\\"ui-unselecting\\\"),i.unselecting=!0,s._trigger(\\\"unselecting\\\",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(\\\".ui-unselecting\\\",this.element[0]).each(function(){var s=e.data(this,\\\"selectable-item\\\");s.$element.removeClass(\\\"ui-unselecting\\\"),s.unselecting=!1,s.startselected=!1,i._trigger(\\\"unselected\\\",t,{unselected:s.element})}),e(\\\".ui-selecting\\\",this.element[0]).each(function(){var s=e.data(this,\\\"selectable-item\\\");s.$element.removeClass(\\\"ui-selecting\\\").addClass(\\\"ui-selected\\\"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger(\\\"selected\\\",t,{selected:s.element})}),this._trigger(\\\"stop\\\",t),this.helper.remove(),!1}}),e.widget(\\\"ui.sortable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"sort\\\",ready:!1,options:{appendTo:\\\"parent\\\",axis:!1,connectWith:!1,containment:!1,cursor:\\\"auto\\\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\\\"original\\\",items:\\\"> *\\\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\\\"default\\\",tolerance:\\\"intersect\\\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css(\\\"float\\\"))||/inline|table-cell/.test(e.css(\\\"display\\\"))},_create:function(){this.containerCache={},this.element.addClass(\\\"ui-sortable\\\"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),\\\"handle\\\"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(\\\".ui-sortable-handle\\\").removeClass(\\\"ui-sortable-handle\\\"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass(\\\"ui-sortable-handle\\\")})},_destroy:function(){this.element.removeClass(\\\"ui-sortable ui-sortable-disabled\\\").find(\\\".ui-sortable-handle\\\").removeClass(\\\"ui-sortable-handle\\\"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+\\\"-item\\\");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||\\\"static\\\"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+\\\"-item\\\")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+\\\"-item\\\")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find(\\\"*\\\").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\\\"position\\\",\\\"absolute\\\"),this.cssPosition=this.helper.css(\\\"position\\\"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&\\\"auto\\\"!==o.cursor&&(a=this.document.find(\\\"body\\\"),this.storedCursor=a.css(\\\"cursor\\\"),a.css(\\\"cursor\\\",o.cursor),this.storedStylesheet=e(\\\"<style>*{ cursor: \\\"+o.cursor+\\\" !important; }</style>\\\").appendTo(a)),o.opacity&&(this.helper.css(\\\"opacity\\\")&&(this._storedOpacity=this.helper.css(\\\"opacity\\\")),this.helper.css(\\\"opacity\\\",o.opacity)),o.zIndex&&(this.helper.css(\\\"zIndex\\\")&&(this._storedZIndex=this.helper.css(\\\"zIndex\\\")),this.helper.css(\\\"zIndex\\\",o.zIndex)),this.scrollParent[0]!==this.document[0]&&\\\"HTML\\\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\\\"start\\\",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger(\\\"activate\\\",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass(\\\"ui-sortable-helper\\\"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&\\\"HTML\\\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),this.options.axis&&\\\"y\\\"===this.options.axis||(this.helper[0].style.left=this.position.left+\\\"px\\\"),this.options.axis&&\\\"x\\\"===this.options.axis||(this.helper[0].style.top=this.position.top+\\\"px\\\"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?\\\"next\\\":\\\"prev\\\"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&(\\\"semi-dynamic\\\"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?\\\"down\\\":\\\"up\\\",\\\"pointer\\\"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger(\\\"change\\\",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger(\\\"sort\\\",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&\\\"x\\\"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&\\\"y\\\"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),\\\"original\\\"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass(\\\"ui-sortable-helper\\\"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger(\\\"deactivate\\\",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger(\\\"out\\\",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\\\"original\\\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||\\\"id\\\")||\\\"\\\").match(t.expression||/(.+)[\\\\-=_](.+)/);i&&s.push((t.key||i[1]+\\\"[]\\\")+\\\"=\\\"+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+\\\"=\\\"),s.join(\\\"&\\\")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||\\\"id\\\")||\\\"\\\")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d=\\\"x\\\"===this.options.axis||s+l>r&&h>s+l,c=\\\"y\\\"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return\\\"pointer\\\"===this.options.tolerance||this.options.forcePointerForContainers||\\\"pointer\\\"!==this.options.tolerance&&this.helperProportions[this.floating?\\\"width\\\":\\\"height\\\"]>e[this.floating?\\\"width\\\":\\\"height\\\"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t=\\\"x\\\"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i=\\\"y\\\"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&\\\"right\\\"===a||\\\"down\\\"===n?2:1:n&&(\\\"down\\\"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?\\\"right\\\"===n&&i||\\\"left\\\"===n&&!i:s&&(\\\"down\\\"===s&&t||\\\"up\\\"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?\\\"down\\\":\\\"up\\\")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?\\\"right\\\":\\\"left\\\")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(\\\".ui-sortable-helper\\\").not(\\\".ui-sortable-placeholder\\\"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(\\\".ui-sortable-helper\\\").not(\\\".ui-sortable-placeholder\\\"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(\\\":data(\\\"+this.widgetName+\\\"-item)\\\");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+\\\"-item\\\",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?\\\"x\\\"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e(\\\"<\\\"+s+\\\">\\\",t.document[0]).addClass(i||t.currentItem[0].className+\\\" ui-sortable-placeholder\\\").removeClass(\\\"ui-sortable-helper\\\");return\\\"tbody\\\"===s?t._createTrPlaceholder(t.currentItem.find(\\\"tr\\\").eq(0),e(\\\"<tr>\\\",t.document[0]).appendTo(n)):\\\"tr\\\"===s?t._createTrPlaceholder(t.currentItem,n):\\\"img\\\"===s&&n.attr(\\\"src\\\",t.currentItem.attr(\\\"src\\\")),i||n.css(\\\"visibility\\\",\\\"hidden\\\"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css(\\\"paddingTop\\\")||0,10)-parseInt(t.currentItem.css(\\\"paddingBottom\\\")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css(\\\"paddingLeft\\\")||0,10)-parseInt(t.currentItem.css(\\\"paddingRight\\\")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e(\\\"<td>&#160;</td>\\\",s.document[0]).attr(\\\"colspan\\\",e(this).attr(\\\"colspan\\\")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger(\\\"out\\\",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger(\\\"over\\\",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?\\\"left\\\":\\\"top\\\",r=u?\\\"width\\\":\\\"height\\\",d=u?\\\"clientX\\\":\\\"clientY\\\",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?\\\"up\\\":\\\"down\\\"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger(\\\"over\\\",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger(\\\"change\\\",t,this._uiHash()),this.containers[p]._trigger(\\\"change\\\",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger(\\\"over\\\",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):\\\"clone\\\"===i.helper?this.currentItem.clone():this.currentItem;return s.parents(\\\"body\\\").length||e(\\\"parent\\\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\\\"position\\\"),top:this.currentItem.css(\\\"top\\\"),left:this.currentItem.css(\\\"left\\\")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){\\\"string\\\"==typeof t&&(t=t.split(\\\" \\\")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),\\\"left\\\"in t&&(this.offset.click.left=t.left+this.margins.left),\\\"right\\\"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),\\\"top\\\"in t&&(this.offset.click.top=t.top+this.margins.top),\\\"bottom\\\"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return\\\"absolute\\\"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&\\\"html\\\"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css(\\\"borderTopWidth\\\"),10)||0),left:t.left+(parseInt(this.offsetParent.css(\\\"borderLeftWidth\\\"),10)||0)}},_getRelativeOffset:function(){if(\\\"relative\\\"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css(\\\"top\\\"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css(\\\"left\\\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\\\"marginLeft\\\"),10)||0,top:parseInt(this.currentItem.css(\\\"marginTop\\\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;\\\"parent\\\"===n.containment&&(n.containment=this.helper[0].parentNode),(\\\"document\\\"===n.containment||\\\"window\\\"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,\\\"document\\\"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(\\\"document\\\"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s=\\\"hidden\\\"!==e(t).css(\\\"overflow\\\"),this.containment=[i.left+(parseInt(e(t).css(\\\"borderLeftWidth\\\"),10)||0)+(parseInt(e(t).css(\\\"paddingLeft\\\"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css(\\\"borderTopWidth\\\"),10)||0)+(parseInt(e(t).css(\\\"paddingTop\\\"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css(\\\"borderLeftWidth\\\"),10)||0)-(parseInt(e(t).css(\\\"paddingRight\\\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css(\\\"borderTopWidth\\\"),10)||0)-(parseInt(e(t).css(\\\"paddingBottom\\\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s=\\\"absolute\\\"===t?1:-1,n=\\\"absolute\\\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r=\\\"absolute\\\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return\\\"relative\\\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],\\\"down\\\"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)(\\\"auto\\\"===this._storedCSS[s]||\\\"static\\\"===this._storedCSS[s])&&(this._storedCSS[s]=\\\"\\\");this.currentItem.css(this._storedCSS).removeClass(\\\"ui-sortable-helper\\\")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger(\\\"receive\\\",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\\\".ui-sortable-helper\\\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger(\\\"update\\\",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger(\\\"remove\\\",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger(\\\"receive\\\",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger(\\\"update\\\",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i(\\\"deactivate\\\",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i(\\\"out\\\",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find(\\\"body\\\").css(\\\"cursor\\\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\\\"opacity\\\",this._storedOpacity),this._storedZIndex&&this.helper.css(\\\"zIndex\\\",\\\"auto\\\"===this._storedZIndex?\\\"\\\":this._storedZIndex),this.dragging=!1,t||this._trigger(\\\"beforeStop\\\",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger(\\\"stop\\\",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget(\\\"ui.accordion\\\",{version:\\\"1.11.4\\\",options:{active:0,animate:{},collapsible:!1,event:\\\"click\\\",header:\\\"> li > :first-child,> :not(li):even\\\",heightStyle:\\\"auto\\\",icons:{activeHeader:\\\"ui-icon-triangle-1-s\\\",header:\\\"ui-icon-triangle-1-e\\\"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:\\\"hide\\\",borderBottomWidth:\\\"hide\\\",paddingTop:\\\"hide\\\",paddingBottom:\\\"hide\\\",height:\\\"hide\\\"},showProps:{borderTopWidth:\\\"show\\\",borderBottomWidth:\\\"show\\\",paddingTop:\\\"show\\\",paddingBottom:\\\"show\\\",height:\\\"show\\\"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass(\\\"ui-accordion ui-widget ui-helper-reset\\\").attr(\\\"role\\\",\\\"tablist\\\"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e(\\\"<span>\\\").addClass(\\\"ui-accordion-header-icon ui-icon \\\"+t.header).prependTo(this.headers),this.active.children(\\\".ui-accordion-header-icon\\\").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass(\\\"ui-accordion-icons\\\"))},_destroyIcons:function(){this.headers.removeClass(\\\"ui-accordion-icons\\\").children(\\\".ui-accordion-header-icon\\\").remove()},_destroy:function(){var e;this.element.removeClass(\\\"ui-accordion ui-widget ui-helper-reset\\\").removeAttr(\\\"role\\\"),this.headers.removeClass(\\\"ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-expanded\\\").removeAttr(\\\"aria-selected\\\").removeAttr(\\\"aria-controls\\\").removeAttr(\\\"tabIndex\\\").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass(\\\"ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled\\\").css(\\\"display\\\",\\\"\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-hidden\\\").removeAttr(\\\"aria-labelledby\\\").removeUniqueId(),\\\"content\\\"!==this.options.heightStyle&&e.css(\\\"height\\\",\\\"\\\")},_setOption:function(e,t){return\\\"active\\\"===e?(this._activate(t),void 0):(\\\"event\\\"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),\\\"collapsible\\\"!==e||t||this.options.active!==!1||this._activate(0),\\\"icons\\\"===e&&(this._destroyIcons(),t&&this._createIcons()),\\\"disabled\\\"===e&&(this.element.toggleClass(\\\"ui-state-disabled\\\",!!t).attr(\\\"aria-disabled\\\",t),this.headers.add(this.headers.next()).toggleClass(\\\"ui-state-disabled\\\",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr(\\\"tabIndex\\\",-1),e(a).attr(\\\"tabIndex\\\",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(\\\".ui-state-disabled\\\").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass(\\\"ui-accordion-header ui-state-default ui-corner-all\\\"),this.panels=this.headers.next().addClass(\\\"ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\\\").filter(\\\":not(.ui-accordion-content-active)\\\").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))\\n},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass(\\\"ui-accordion-header-active ui-state-active ui-corner-top\\\").removeClass(\\\"ui-corner-all\\\"),this.active.next().addClass(\\\"ui-accordion-content-active\\\").show(),this.headers.attr(\\\"role\\\",\\\"tab\\\").each(function(){var t=e(this),i=t.uniqueId().attr(\\\"id\\\"),s=t.next(),n=s.uniqueId().attr(\\\"id\\\");t.attr(\\\"aria-controls\\\",n),s.attr(\\\"aria-labelledby\\\",i)}).next().attr(\\\"role\\\",\\\"tabpanel\\\"),this.headers.not(this.active).attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\",tabIndex:-1}).next().attr({\\\"aria-hidden\\\":\\\"true\\\"}).hide(),this.active.length?this.active.attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0}).next().attr({\\\"aria-hidden\\\":\\\"false\\\"}):this.headers.eq(0).attr(\\\"tabIndex\\\",0),this._createIcons(),this._setupEvents(i.event),\\\"fill\\\"===s?(t=n.height(),this.element.siblings(\\\":visible\\\").each(function(){var i=e(this),s=i.css(\\\"position\\\");\\\"absolute\\\"!==s&&\\\"fixed\\\"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css(\\\"overflow\\\",\\\"auto\\\")):\\\"auto\\\"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css(\\\"height\\\",\\\"\\\").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return\\\"number\\\"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:\\\"_keydown\\\"};t&&e.each(t.split(\\\" \\\"),function(e,t){i[t]=\\\"_eventHandler\\\"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:\\\"_panelKeyDown\\\"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger(\\\"beforeActivate\\\",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass(\\\"ui-accordion-header-active ui-state-active\\\"),i.icons&&s.children(\\\".ui-accordion-header-icon\\\").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass(\\\"ui-corner-all\\\").addClass(\\\"ui-accordion-header-active ui-state-active ui-corner-top\\\"),i.icons&&n.children(\\\".ui-accordion-header-icon\\\").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass(\\\"ui-accordion-content-active\\\")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({\\\"aria-hidden\\\":\\\"true\\\"}),s.prev().attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\"}),i.length&&s.length?s.prev().attr({tabIndex:-1,\\\"aria-expanded\\\":\\\"false\\\"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr(\\\"tabIndex\\\"),10)}).attr(\\\"tabIndex\\\",-1),i.attr(\\\"aria-hidden\\\",\\\"false\\\").prev().attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css(\\\"box-sizing\\\"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return\\\"number\\\"==typeof d&&(a=d),\\\"string\\\"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),\\\"height\\\"!==i.prop?\\\"content-box\\\"===h&&(r+=i.now):\\\"content\\\"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass(\\\"ui-accordion-content-active\\\").prev().removeClass(\\\"ui-corner-top\\\").addClass(\\\"ui-corner-all\\\"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger(\\\"activate\\\",null,e)}}),e.widget(\\\"ui.menu\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<ul>\\\",delay:300,options:{icons:{submenu:\\\"ui-icon-carat-1-e\\\"},items:\\\"> *\\\",menus:\\\"ul\\\",position:{my:\\\"left-1 top\\\",at:\\\"right top\\\"},role:\\\"menu\\\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass(\\\"ui-menu ui-widget ui-widget-content\\\").toggleClass(\\\"ui-menu-icons\\\",!!this.element.find(\\\".ui-icon\\\").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass(\\\"ui-state-disabled\\\").attr(\\\"aria-disabled\\\",\\\"true\\\"),this._on({\\\"mousedown .ui-menu-item\\\":function(e){e.preventDefault()},\\\"click .ui-menu-item\\\":function(t){var i=e(t.target);!this.mouseHandled&&i.not(\\\".ui-state-disabled\\\").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(\\\".ui-menu\\\").length?this.expand(t):!this.element.is(\\\":focus\\\")&&e(this.document[0].activeElement).closest(\\\".ui-menu\\\").length&&(this.element.trigger(\\\"focus\\\",[!0]),this.active&&1===this.active.parents(\\\".ui-menu\\\").length&&clearTimeout(this.timer)))},\\\"mouseenter .ui-menu-item\\\":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(\\\".ui-state-active\\\").removeClass(\\\"ui-state-active\\\"),this.focus(t,i)}},mouseleave:\\\"collapseAll\\\",\\\"mouseleave .ui-menu\\\":\\\"collapseAll\\\",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:\\\"_keydown\\\"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr(\\\"aria-activedescendant\\\").find(\\\".ui-menu\\\").addBack().removeClass(\\\"ui-menu ui-widget ui-widget-content ui-menu-icons ui-front\\\").removeAttr(\\\"role\\\").removeAttr(\\\"tabIndex\\\").removeAttr(\\\"aria-labelledby\\\").removeAttr(\\\"aria-expanded\\\").removeAttr(\\\"aria-hidden\\\").removeAttr(\\\"aria-disabled\\\").removeUniqueId().show(),this.element.find(\\\".ui-menu-item\\\").removeClass(\\\"ui-menu-item\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-disabled\\\").removeUniqueId().removeClass(\\\"ui-state-hover\\\").removeAttr(\\\"tabIndex\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-haspopup\\\").children().each(function(){var t=e(this);t.data(\\\"ui-menu-submenu-carat\\\")&&t.remove()}),this.element.find(\\\".ui-menu-divider\\\").removeClass(\\\"ui-menu-divider ui-widget-content\\\")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move(\\\"first\\\",\\\"first\\\",t);break;case e.ui.keyCode.END:this._move(\\\"last\\\",\\\"last\\\",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(\\\".ui-state-disabled\\\")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||\\\"\\\",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(\\\".ui-menu-item\\\"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(\\\".ui-state-disabled\\\")||(this.active.is(\\\"[aria-haspopup='true']\\\")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass(\\\"ui-menu-icons\\\",!!this.element.find(\\\".ui-icon\\\").length),a.filter(\\\":not(.ui-menu)\\\").addClass(\\\"ui-menu ui-widget ui-widget-content ui-front\\\").hide().attr({role:this.options.role,\\\"aria-hidden\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"false\\\"}).each(function(){var t=e(this),i=t.parent(),s=e(\\\"<span>\\\").addClass(\\\"ui-menu-icon ui-icon \\\"+n).data(\\\"ui-menu-submenu-carat\\\",!0);i.attr(\\\"aria-haspopup\\\",\\\"true\\\").prepend(s),t.attr(\\\"aria-labelledby\\\",i.attr(\\\"id\\\"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(\\\".ui-menu-item\\\").each(function(){var t=e(this);s._isDivider(t)&&t.addClass(\\\"ui-widget-content ui-menu-divider\\\")}),i.not(\\\".ui-menu-item, .ui-menu-divider\\\").addClass(\\\"ui-menu-item\\\").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(\\\".ui-state-disabled\\\").attr(\\\"aria-disabled\\\",\\\"true\\\"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:\\\"menuitem\\\",listbox:\\\"option\\\"}[this.options.role]},_setOption:function(e,t){\\\"icons\\\"===e&&this.element.find(\\\".ui-menu-icon\\\").removeClass(this.options.icons.submenu).addClass(t.submenu),\\\"disabled\\\"===e&&this.element.toggleClass(\\\"ui-state-disabled\\\",!!t).attr(\\\"aria-disabled\\\",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&\\\"focus\\\"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass(\\\"ui-state-focus\\\").removeClass(\\\"ui-state-active\\\"),this.options.role&&this.element.attr(\\\"aria-activedescendant\\\",s.attr(\\\"id\\\")),this.active.parent().closest(\\\".ui-menu-item\\\").addClass(\\\"ui-state-active\\\"),e&&\\\"keydown\\\"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(\\\".ui-menu\\\"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger(\\\"focus\\\",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],\\\"borderTopWidth\\\"))||0,s=parseFloat(e.css(this.activeMenu[0],\\\"paddingTop\\\"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass(\\\"ui-state-focus\\\"),this.active=null,this._trigger(\\\"blur\\\",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),\\\"true\\\"===e.attr(\\\"aria-hidden\\\")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\\\".ui-menu\\\").not(t.parents(\\\".ui-menu\\\")).hide().attr(\\\"aria-hidden\\\",\\\"true\\\"),t.show().removeAttr(\\\"aria-hidden\\\").attr(\\\"aria-expanded\\\",\\\"true\\\").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(\\\".ui-menu\\\"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(\\\".ui-menu\\\").hide().attr(\\\"aria-hidden\\\",\\\"true\\\").attr(\\\"aria-expanded\\\",\\\"false\\\").end().find(\\\".ui-state-active\\\").not(\\\".ui-state-focus\\\").removeClass(\\\"ui-state-active\\\")},_closeOnDocumentClick:function(t){return!e(t.target).closest(\\\".ui-menu\\\").length},_isDivider:function(e){return!/[^\\\\-\\\\u2014\\\\u2013\\\\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(\\\".ui-menu-item\\\",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(\\\".ui-menu \\\").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move(\\\"next\\\",\\\"first\\\",e)},previous:function(e){this._move(\\\"prev\\\",\\\"last\\\",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(\\\".ui-menu-item\\\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\\\".ui-menu-item\\\").length},_move:function(e,t,i){var s;this.active&&(s=\\\"first\\\"===e||\\\"last\\\"===e?this.active[\\\"first\\\"===e?\\\"prevAll\\\":\\\"nextAll\\\"](\\\".ui-menu-item\\\").eq(-1):this.active[e+\\\"All\\\"](\\\".ui-menu-item\\\").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(\\\".ui-menu-item\\\").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?\\\"last\\\":\\\"first\\\"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(\\\".ui-menu-item\\\").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\\\"scrollHeight\\\")},select:function(t){this.active=this.active||e(t.target).closest(\\\".ui-menu-item\\\");var i={item:this.active};this.active.has(\\\".ui-menu\\\").length||this.collapseAll(t,!0),this._trigger(\\\"select\\\",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\\\\-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\^$|#\\\\s]/g,\\\"\\\\\\\\$&\\\"),s=RegExp(\\\"^\\\"+i,\\\"i\\\");return this.activeMenu.find(this.options.items).filter(\\\".ui-menu-item\\\").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget(\\\"ui.autocomplete\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<input>\\\",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:\\\"left top\\\",at:\\\"left bottom\\\",collision:\\\"none\\\"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a=\\\"textarea\\\"===n,o=\\\"input\\\"===n;this.isMultiLine=a?!0:o?!1:this.element.prop(\\\"isContentEditable\\\"),this.valueMethod=this.element[a||o?\\\"val\\\":\\\"text\\\"],this.isNewMenu=!0,this.element.addClass(\\\"ui-autocomplete-input\\\").attr(\\\"autocomplete\\\",\\\"off\\\"),this._on(this.element,{keydown:function(n){if(this.element.prop(\\\"readOnly\\\"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move(\\\"previousPage\\\",n);break;case a.PAGE_DOWN:t=!0,this._move(\\\"nextPage\\\",n);break;case a.UP:t=!0,this._keyEvent(\\\"previous\\\",n);break;case a.DOWN:t=!0,this._keyEvent(\\\"next\\\",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(\\\":visible\\\")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(\\\":visible\\\"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move(\\\"previousPage\\\",s);break;case n.PAGE_DOWN:this._move(\\\"nextPage\\\",s);break;case n.UP:this._keyEvent(\\\"previous\\\",s);break;case n.DOWN:this._keyEvent(\\\"next\\\",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e(\\\"<ul>\\\").addClass(\\\"ui-autocomplete ui-front\\\").appendTo(this._appendTo()).menu({role:null}).hide().menu(\\\"instance\\\"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(\\\".ui-menu-item\\\").length||this._delay(function(){var t=this;this.document.one(\\\"mousedown\\\",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one(\\\"mousemove\\\",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data(\\\"ui-autocomplete-item\\\"),!1!==this._trigger(\\\"focus\\\",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr(\\\"aria-label\\\")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e(\\\"<div>\\\").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data(\\\"ui-autocomplete-item\\\"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger(\\\"select\\\",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e(\\\"<span>\\\",{role:\\\"status\\\",\\\"aria-live\\\":\\\"assertive\\\",\\\"aria-relevant\\\":\\\"additions\\\"}).addClass(\\\"ui-helper-hidden-accessible\\\").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\\\"autocomplete\\\")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass(\\\"ui-autocomplete-input\\\").removeAttr(\\\"autocomplete\\\"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),\\\"source\\\"===e&&this._initSource(),\\\"appendTo\\\"===e&&this.menu.element.appendTo(this._appendTo()),\\\"disabled\\\"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(\\\".ui-front\\\")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):\\\"string\\\"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:\\\"json\\\",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(\\\":visible\\\"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger(\\\"search\\\",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass(\\\"ui-autocomplete-loading\\\"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass(\\\"ui-autocomplete-loading\\\")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger(\\\"response\\\",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger(\\\"open\\\")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(\\\":visible\\\")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger(\\\"close\\\",e))},_change:function(e){this.previous!==this._value()&&this._trigger(\\\"change\\\",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return\\\"string\\\"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width(\\\"\\\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data(\\\"ui-autocomplete-item\\\",t)},_renderItem:function(t,i){return e(\\\"<li>\\\").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(\\\":visible\\\")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(\\\":visible\\\"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\\\\-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\^$|#\\\\s]/g,\\\"\\\\\\\\$&\\\")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),\\\"i\\\");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget(\\\"ui.autocomplete\\\",e.ui.autocomplete,{options:{messages:{noResults:\\\"No search results.\\\",results:function(e){return e+(e>1?\\\" results are\\\":\\\" result is\\\")+\\\" available, use up and down arrow keys to navigate.\\\"}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e(\\\"<div>\\\").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p=\\\"ui-button ui-widget ui-state-default ui-corner-all\\\",f=\\\"ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only\\\",m=function(){var t=e(this);setTimeout(function(){t.find(\\\":ui-button\\\").button(\\\"refresh\\\")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,\\\"\\\\\\\\'\\\"),n=s?e(s).find(\\\"[name='\\\"+i+\\\"'][type=radio]\\\"):e(\\\"[name='\\\"+i+\\\"'][type=radio]\\\",t.ownerDocument).filter(function(){return!this.form})),n};e.widget(\\\"ui.button\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<button>\\\",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest(\\\"form\\\").unbind(\\\"reset\\\"+this.eventNamespace).bind(\\\"reset\\\"+this.eventNamespace,m),\\\"boolean\\\"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop(\\\"disabled\\\"):this.element.prop(\\\"disabled\\\",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr(\\\"title\\\");var t=this,i=this.options,s=\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type,n=s?\\\"\\\":\\\"ui-state-active\\\";null===i.label&&(i.label=\\\"input\\\"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr(\\\"role\\\",\\\"button\\\").bind(\\\"mouseenter\\\"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass(\\\"ui-state-active\\\")}).bind(\\\"mouseleave\\\"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind(\\\"click\\\"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass(\\\"ui-state-focus\\\")},blur:function(){this.buttonElement.removeClass(\\\"ui-state-focus\\\")}}),s&&this.element.bind(\\\"change\\\"+this.eventNamespace,function(){t.refresh()}),\\\"checkbox\\\"===this.type?this.buttonElement.bind(\\\"click\\\"+this.eventNamespace,function(){return i.disabled?!1:void 0}):\\\"radio\\\"===this.type?this.buttonElement.bind(\\\"click\\\"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass(\\\"ui-state-active\\\"),t.buttonElement.attr(\\\"aria-pressed\\\",\\\"true\\\");var s=t.element[0];g(s).not(s).map(function(){return e(this).button(\\\"widget\\\")[0]}).removeClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"false\\\")}):(this.buttonElement.bind(\\\"mousedown\\\"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass(\\\"ui-state-active\\\"),c=this,t.document.one(\\\"mouseup\\\",function(){c=null}),void 0)}).bind(\\\"mouseup\\\"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass(\\\"ui-state-active\\\"),void 0)}).bind(\\\"keydown\\\"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass(\\\"ui-state-active\\\"),void 0)}).bind(\\\"keyup\\\"+this.eventNamespace+\\\" blur\\\"+this.eventNamespace,function(){e(this).removeClass(\\\"ui-state-active\\\")}),this.buttonElement.is(\\\"a\\\")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption(\\\"disabled\\\",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is(\\\"[type=checkbox]\\\")?\\\"checkbox\\\":this.element.is(\\\"[type=radio]\\\")?\\\"radio\\\":this.element.is(\\\"input\\\")?\\\"input\\\":\\\"button\\\",\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type?(e=this.element.parents().last(),t=\\\"label[for='\\\"+this.element.attr(\\\"id\\\")+\\\"']\\\",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass(\\\"ui-helper-hidden-accessible\\\"),i=this.element.is(\\\":checked\\\"),i&&this.buttonElement.addClass(\\\"ui-state-active\\\"),this.buttonElement.prop(\\\"aria-pressed\\\",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass(\\\"ui-helper-hidden-accessible\\\"),this.buttonElement.removeClass(p+\\\" ui-state-active \\\"+f).removeAttr(\\\"role\\\").removeAttr(\\\"aria-pressed\\\").html(this.buttonElement.find(\\\".ui-button-text\\\").html()),this.hasTitle||this.buttonElement.removeAttr(\\\"title\\\")},_setOption:function(e,t){return this._super(e,t),\\\"disabled\\\"===e?(this.widget().toggleClass(\\\"ui-state-disabled\\\",!!t),this.element.prop(\\\"disabled\\\",!!t),t&&(\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type?this.buttonElement.removeClass(\\\"ui-state-focus\\\"):this.buttonElement.removeClass(\\\"ui-state-focus ui-state-active\\\")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is(\\\"input, button\\\")?this.element.is(\\\":disabled\\\"):this.element.hasClass(\\\"ui-button-disabled\\\");t!==this.options.disabled&&this._setOption(\\\"disabled\\\",t),\\\"radio\\\"===this.type?g(this.element[0]).each(function(){e(this).is(\\\":checked\\\")?e(this).button(\\\"widget\\\").addClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"true\\\"):e(this).button(\\\"widget\\\").removeClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"false\\\")}):\\\"checkbox\\\"===this.type&&(this.element.is(\\\":checked\\\")?this.buttonElement.addClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"true\\\"):this.buttonElement.removeClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"false\\\"))},_resetButton:function(){if(\\\"input\\\"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e(\\\"<span></span>\\\",this.document[0]).addClass(\\\"ui-button-text\\\").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push(\\\"ui-button-text-icon\\\"+(n?\\\"s\\\":s.primary?\\\"-primary\\\":\\\"-secondary\\\")),s.primary&&t.prepend(\\\"<span class='ui-button-icon-primary ui-icon \\\"+s.primary+\\\"'></span>\\\"),s.secondary&&t.append(\\\"<span class='ui-button-icon-secondary ui-icon \\\"+s.secondary+\\\"'></span>\\\"),this.options.text||(a.push(n?\\\"ui-button-icons-only\\\":\\\"ui-button-icon-only\\\"),this.hasTitle||t.attr(\\\"title\\\",e.trim(i)))):a.push(\\\"ui-button-text-only\\\"),t.addClass(a.join(\\\" \\\"))}}),e.widget(\\\"ui.buttonset\\\",{version:\\\"1.11.4\\\",options:{items:\\\"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)\\\"},_create:function(){this.element.addClass(\\\"ui-buttonset\\\")},_init:function(){this.refresh()},_setOption:function(e,t){\\\"disabled\\\"===e&&this.buttons.button(\\\"option\\\",e,t),this._super(e,t)},refresh:function(){var t=\\\"rtl\\\"===this.element.css(\\\"direction\\\"),i=this.element.find(this.options.items),s=i.filter(\\\":ui-button\\\");i.not(\\\":ui-button\\\").button(),s.button(\\\"refresh\\\"),this.buttons=i.map(function(){return e(this).button(\\\"widget\\\")[0]}).removeClass(\\\"ui-corner-all ui-corner-left ui-corner-right\\\").filter(\\\":first\\\").addClass(t?\\\"ui-corner-right\\\":\\\"ui-corner-left\\\").end().filter(\\\":last\\\").addClass(t?\\\"ui-corner-left\\\":\\\"ui-corner-right\\\").end().end()},_destroy:function(){this.element.removeClass(\\\"ui-buttonset\\\"),this.buttons.map(function(){return e(this).button(\\\"widget\\\")[0]}).removeClass(\\\"ui-corner-left ui-corner-right\\\").end().button(\\\"destroy\\\")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:\\\"1.11.4\\\"}});var v;e.extend(n.prototype,{markerClassName:\\\"hasDatepicker\\\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n=\\\"div\\\"===s||\\\"span\\\"===s,t.id||(this.uuid+=1,t.id=\\\"dp\\\"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),\\\"input\\\"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\\\\-])/g,\\\"\\\\\\\\\\\\\\\\$1\\\");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e(\\\"<div class='\\\"+this._inlineClass+\\\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\\\")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,\\\"datepicker\\\",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,\\\"appendText\\\"),r=this._get(i,\\\"isRTL\\\");i.append&&i.append.remove(),o&&(i.append=e(\\\"<span class='\\\"+this._appendClass+\\\"'>\\\"+o+\\\"</span>\\\"),t[r?\\\"before\\\":\\\"after\\\"](i.append)),t.unbind(\\\"focus\\\",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,\\\"showOn\\\"),(\\\"focus\\\"===s||\\\"both\\\"===s)&&t.focus(this._showDatepicker),(\\\"button\\\"===s||\\\"both\\\"===s)&&(n=this._get(i,\\\"buttonText\\\"),a=this._get(i,\\\"buttonImage\\\"),i.trigger=e(this._get(i,\\\"buttonImageOnly\\\")?e(\\\"<img/>\\\").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e(\\\"<button type='button'></button>\\\").addClass(this._triggerClass).html(a?e(\\\"<img/>\\\").attr({src:a,alt:n,title:n}):n)),t[r?\\\"before\\\":\\\"after\\\"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,\\\"autoSize\\\")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,\\\"dateFormat\\\");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?\\\"monthNames\\\":\\\"monthNamesShort\\\"))),a.setDate(t(this._get(e,o.match(/DD/)?\\\"dayNames\\\":\\\"dayNamesShort\\\"))+20-a.getDay())),e.input.attr(\\\"size\\\",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,\\\"datepicker\\\",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css(\\\"display\\\",\\\"block\\\"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o=\\\"dp\\\"+this.uuid,this._dialogInput=e(\\\"<input type='text' id='\\\"+o+\\\"' style='position: absolute; top: -100px; width: 0px;'/>\\\"),this._dialogInput.keydown(this._doKeyDown),e(\\\"body\\\").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],\\\"datepicker\\\",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css(\\\"left\\\",this._pos[0]+20+\\\"px\\\").css(\\\"top\\\",this._pos[1]+\\\"px\\\"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],\\\"datepicker\\\",c),this\\n},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,\\\"datepicker\\\");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,\\\"datepicker\\\"),\\\"input\\\"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind(\\\"focus\\\",this._showDatepicker).unbind(\\\"keydown\\\",this._doKeyDown).unbind(\\\"keypress\\\",this._doKeyPress).unbind(\\\"keyup\\\",this._doKeyUp)):(\\\"div\\\"===i||\\\"span\\\"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,\\\"datepicker\\\");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\\\"input\\\"===i?(t.disabled=!1,a.trigger.filter(\\\"button\\\").each(function(){this.disabled=!1}).end().filter(\\\"img\\\").css({opacity:\\\"1.0\\\",cursor:\\\"\\\"})):(\\\"div\\\"===i||\\\"span\\\"===i)&&(s=n.children(\\\".\\\"+this._inlineClass),s.children().removeClass(\\\"ui-state-disabled\\\"),s.find(\\\"select.ui-datepicker-month, select.ui-datepicker-year\\\").prop(\\\"disabled\\\",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,\\\"datepicker\\\");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\\\"input\\\"===i?(t.disabled=!0,a.trigger.filter(\\\"button\\\").each(function(){this.disabled=!0}).end().filter(\\\"img\\\").css({opacity:\\\"0.5\\\",cursor:\\\"default\\\"})):(\\\"div\\\"===i||\\\"span\\\"===i)&&(s=n.children(\\\".\\\"+this._inlineClass),s.children().addClass(\\\"ui-state-disabled\\\"),s.find(\\\"select.ui-datepicker-month, select.ui-datepicker-year\\\").prop(\\\"disabled\\\",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,\\\"datepicker\\\")}catch(i){throw\\\"Missing instance data for this datepicker\\\"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&\\\"string\\\"==typeof i?\\\"defaults\\\"===i?e.extend({},e.datepicker._defaults):l?\\\"all\\\"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},\\\"string\\\"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,\\\"min\\\"),h=this._getMinMaxDate(l,\\\"max\\\"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),\\\"disabled\\\"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(\\\".ui-datepicker-rtl\\\");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e(\\\"td.\\\"+e.datepicker._dayOverClass+\\\":not(.\\\"+e.datepicker._currentClass+\\\")\\\",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,\\\"onSelect\\\"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,\\\"stepBigMonths\\\"):-e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,\\\"stepBigMonths\\\"):+e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,\\\"D\\\"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,\\\"stepBigMonths\\\"):-e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,\\\"D\\\"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,\\\"D\\\"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,\\\"stepBigMonths\\\"):+e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,\\\"D\\\"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,\\\"constrainInput\\\")?(i=e.datepicker._possibleChars(e.datepicker._get(n,\\\"dateFormat\\\")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||\\\" \\\">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,\\\"dateFormat\\\"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,\\\"input\\\"!==t.nodeName.toLowerCase()&&(t=e(\\\"input\\\",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,\\\"beforeShow\\\"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=\\\"\\\"),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|=\\\"fixed\\\"===e(this).css(\\\"position\\\"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:\\\"absolute\\\",display:\\\"block\\\",top:\\\"-1000px\\\"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?\\\"static\\\":o?\\\"fixed\\\":\\\"absolute\\\",display:\\\"none\\\",left:h.left+\\\"px\\\",top:h.top+\\\"px\\\"}),i.inline||(l=e.datepicker._get(i,\\\"showAnim\\\"),u=e.datepicker._get(i,\\\"duration\\\"),i.dpDiv.css(\\\"z-index\\\",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,\\\"showOptions\\\"),u):i.dpDiv[l||\\\"show\\\"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find(\\\".\\\"+this._dayOverClass+\\\" a\\\");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass(\\\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\\\").width(\\\"\\\"),n>1&&t.dpDiv.addClass(\\\"ui-datepicker-multi-\\\"+n).css(\\\"width\\\",a*n+\\\"em\\\"),t.dpDiv[(1!==s[0]||1!==s[1]?\\\"add\\\":\\\"remove\\\")+\\\"Class\\\"](\\\"ui-datepicker-multi\\\"),t.dpDiv[(this._get(t,\\\"isRTL\\\")?\\\"add\\\":\\\"remove\\\")+\\\"Class\\\"](\\\"ui-datepicker-rtl\\\"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find(\\\"select.ui-datepicker-year:first\\\").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(\\\":visible\\\")&&!e.input.is(\\\":disabled\\\")&&!e.input.is(\\\":focus\\\")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,\\\"isRTL\\\")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,\\\"isRTL\\\");t&&(\\\"hidden\\\"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?\\\"previousSibling\\\":\\\"nextSibling\\\"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,\\\"datepicker\\\")||this._datepickerShowing&&(i=this._get(o,\\\"showAnim\\\"),s=this._get(o,\\\"duration\\\"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,\\\"showOptions\\\"),s,n):o.dpDiv[\\\"slideDown\\\"===i?\\\"slideUp\\\":\\\"fadeIn\\\"===i?\\\"fadeOut\\\":\\\"hide\\\"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,\\\"onClose\\\"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():\\\"\\\",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\\\"absolute\\\",left:\\\"0\\\",top:\\\"-100px\\\"}),e.blockUI&&(e.unblockUI(),e(\\\"body\\\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(\\\".ui-datepicker-calendar\\\")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents(\\\"#\\\"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest(\\\".\\\"+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+(\\\"M\\\"===s?this._get(a,\\\"showCurrentAtPos\\\"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,\\\"gotoCurrent\\\")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a[\\\"selected\\\"+(\\\"M\\\"===s?\\\"Month\\\":\\\"Year\\\")]=a[\\\"draw\\\"+(\\\"M\\\"===s?\\\"Month\\\":\\\"Year\\\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e(\\\"a\\\",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,\\\"\\\")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,\\\"onSelect\\\"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger(\\\"change\\\"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],\\\"object\\\"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,\\\"altField\\\");a&&(i=this._get(t,\\\"altFormat\\\")||this._get(t,\\\"dateFormat\\\"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,\\\"\\\"]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw\\\"Invalid arguments\\\";if(i=\\\"object\\\"==typeof i?\\\"\\\"+i:i+\\\"\\\",\\\"\\\"===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u=\\\"string\\\"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s=\\\"@\\\"===e?14:\\\"!\\\"===e?20:\\\"y\\\"===e&&t?4:\\\"o\\\"===e?3:2,n=\\\"y\\\"===e?s:1,a=RegExp(\\\"^\\\\\\\\d{\\\"+n+\\\",\\\"+s+\\\"}\\\"),o=i.substring(h).match(a);if(!o)throw\\\"Missing number at position \\\"+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw\\\"Unknown name at position \\\"+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw\\\"Unexpected literal at position \\\"+h;h++};for(n=0;t.length>n;n++)if(b)\\\"'\\\"!==t.charAt(n)||_(\\\"'\\\")?k():b=!1;else switch(t.charAt(n)){case\\\"d\\\":v=x(\\\"d\\\");break;case\\\"D\\\":w(\\\"D\\\",d,c);break;case\\\"o\\\":y=x(\\\"o\\\");break;case\\\"m\\\":g=x(\\\"m\\\");break;case\\\"M\\\":g=w(\\\"M\\\",p,f);break;case\\\"y\\\":m=x(\\\"y\\\");break;case\\\"@\\\":r=new Date(x(\\\"@\\\")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case\\\"!\\\":r=new Date((x(\\\"!\\\")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case\\\"'\\\":_(\\\"'\\\")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\\\\s+/.test(o)))throw\\\"Extra/unparsed characters found in date: \\\"+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw\\\"Invalid date\\\";return r},ATOM:\\\"yy-mm-dd\\\",COOKIE:\\\"D, dd M yy\\\",ISO_8601:\\\"yy-mm-dd\\\",RFC_822:\\\"D, d M y\\\",RFC_850:\\\"DD, dd-M-y\\\",RFC_1036:\\\"D, d M y\\\",RFC_1123:\\\"D, d M yy\\\",RFC_2822:\\\"D, d M yy\\\",RSS:\\\"D, d M y\\\",TICKS:\\\"!\\\",TIMESTAMP:\\\"@\\\",W3C:\\\"yy-mm-dd\\\",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return\\\"\\\";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=\\\"\\\"+t;if(h(e))for(;i>s.length;)s=\\\"0\\\"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d=\\\"\\\",c=!1;if(t)for(s=0;e.length>s;s++)if(c)\\\"'\\\"!==e.charAt(s)||h(\\\"'\\\")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case\\\"d\\\":d+=l(\\\"d\\\",t.getDate(),2);break;case\\\"D\\\":d+=u(\\\"D\\\",t.getDay(),n,a);break;case\\\"o\\\":d+=l(\\\"o\\\",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case\\\"m\\\":d+=l(\\\"m\\\",t.getMonth()+1,2);break;case\\\"M\\\":d+=u(\\\"M\\\",t.getMonth(),o,r);break;case\\\"y\\\":d+=h(\\\"y\\\")?t.getFullYear():(10>t.getYear()%100?\\\"0\\\":\\\"\\\")+t.getYear()%100;break;case\\\"@\\\":d+=t.getTime();break;case\\\"!\\\":d+=1e4*t.getTime()+this._ticksTo1970;break;case\\\"'\\\":h(\\\"'\\\")?d+=\\\"'\\\":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i=\\\"\\\",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)\\\"'\\\"!==e.charAt(t)||n(\\\"'\\\")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case\\\"d\\\":case\\\"m\\\":case\\\"y\\\":case\\\"@\\\":i+=\\\"0123456789\\\";break;case\\\"D\\\":case\\\"M\\\":return null;case\\\"'\\\":n(\\\"'\\\")?i+=\\\"'\\\":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,\\\"dateFormat\\\"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?\\\"\\\":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,\\\"defaultDate\\\"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,\\\"dateFormat\\\"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\\\\-]?[0-9]+)\\\\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||\\\"d\\\"){case\\\"d\\\":case\\\"D\\\":r+=parseInt(l[1],10);break;case\\\"w\\\":case\\\"W\\\":r+=7*parseInt(l[1],10);break;case\\\"m\\\":case\\\"M\\\":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case\\\"y\\\":case\\\"Y\\\":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||\\\"\\\"===i?s:\\\"string\\\"==typeof i?a(i):\\\"number\\\"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&\\\"Invalid Date\\\"==\\\"\\\"+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?\\\"\\\":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&\\\"\\\"===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,\\\"stepMonths\\\"),s=\\\"#\\\"+t.id.replace(/\\\\\\\\\\\\\\\\/g,\\\"\\\\\\\\\\\");t.dpDiv.find(\\\"[data-handler]\\\").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,\\\"M\\\")},next:function(){e.datepicker._adjustDate(s,+i,\\\"M\\\")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute(\\\"data-month\\\"),+this.getAttribute(\\\"data-year\\\"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,\\\"M\\\"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,\\\"Y\\\"),!1}};e(this).bind(this.getAttribute(\\\"data-event\\\"),t[this.getAttribute(\\\"data-handler\\\")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,\\\"isRTL\\\"),B=this._get(e,\\\"showButtonPanel\\\"),J=this._get(e,\\\"hideIfNoPrevNext\\\"),q=this._get(e,\\\"navigationAsDateFormat\\\"),K=this._getNumberOfMonths(e),V=this._get(e,\\\"showCurrentAtPos\\\"),U=this._get(e,\\\"stepMonths\\\"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,\\\"min\\\"),$=this._getMinMaxDate(e,\\\"max\\\"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,\\\"prevText\\\"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?\\\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\\\"+i+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"e\\\":\\\"w\\\")+\\\"'>\\\"+i+\\\"</span></a>\\\":J?\\\"\\\":\\\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\\\"+i+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"e\\\":\\\"w\\\")+\\\"'>\\\"+i+\\\"</span></a>\\\",n=this._get(e,\\\"nextText\\\"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?\\\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\\\"+n+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"w\\\":\\\"e\\\")+\\\"'>\\\"+n+\\\"</span></a>\\\":J?\\\"\\\":\\\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\\\"+n+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"w\\\":\\\"e\\\")+\\\"'>\\\"+n+\\\"</span></a>\\\",o=this._get(e,\\\"currentText\\\"),r=this._get(e,\\\"gotoCurrent\\\")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?\\\"\\\":\\\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\\\"+this._get(e,\\\"closeText\\\")+\\\"</button>\\\",l=B?\\\"<div class='ui-datepicker-buttonpane ui-widget-content'>\\\"+(Y?h:\\\"\\\")+(this._isInRange(e,r)?\\\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\\\"+o+\\\"</button>\\\":\\\"\\\")+(Y?\\\"\\\":h)+\\\"</div>\\\":\\\"\\\",u=parseInt(this._get(e,\\\"firstDay\\\"),10),u=isNaN(u)?0:u,d=this._get(e,\\\"showWeek\\\"),c=this._get(e,\\\"dayNames\\\"),p=this._get(e,\\\"dayNamesMin\\\"),f=this._get(e,\\\"monthNames\\\"),m=this._get(e,\\\"monthNamesShort\\\"),g=this._get(e,\\\"beforeShowDay\\\"),v=this._get(e,\\\"showOtherMonths\\\"),y=this._get(e,\\\"selectOtherMonths\\\"),b=this._getDefaultDate(e),_=\\\"\\\",w=0;K[0]>w;w++){for(k=\\\"\\\",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=\\\" ui-corner-all\\\",M=\\\"\\\",Q){if(M+=\\\"<div class='ui-datepicker-group\\\",K[1]>1)switch(T){case 0:M+=\\\" ui-datepicker-group-first\\\",S=\\\" ui-corner-\\\"+(Y?\\\"right\\\":\\\"left\\\");break;case K[1]-1:M+=\\\" ui-datepicker-group-last\\\",S=\\\" ui-corner-\\\"+(Y?\\\"left\\\":\\\"right\\\");break;default:M+=\\\" ui-datepicker-group-middle\\\",S=\\\"\\\"}M+=\\\"'>\\\"}for(M+=\\\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\\\"+S+\\\"'>\\\"+(/all|left/.test(S)&&0===w?Y?a:s:\\\"\\\")+(/all|right/.test(S)&&0===w?Y?s:a:\\\"\\\")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+\\\"</div><table class='ui-datepicker-calendar'><thead>\\\"+\\\"<tr>\\\",C=d?\\\"<th class='ui-datepicker-week-col'>\\\"+this._get(e,\\\"weekHeader\\\")+\\\"</th>\\\":\\\"\\\",x=0;7>x;x++)N=(x+u)%7,C+=\\\"<th scope='col'\\\"+((x+u+6)%7>=5?\\\" class='ui-datepicker-week-end'\\\":\\\"\\\")+\\\">\\\"+\\\"<span title='\\\"+c[N]+\\\"'>\\\"+p[N]+\\\"</span></th>\\\";for(M+=C+\\\"</tr></thead><tbody>\\\",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+=\\\"<tr>\\\",E=d?\\\"<td class='ui-datepicker-week-col'>\\\"+this._get(e,\\\"calculateWeek\\\")(z)+\\\"</td>\\\":\\\"\\\",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,\\\"\\\"],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+=\\\"<td class='\\\"+((x+u+6)%7>=5?\\\" ui-datepicker-week-end\\\":\\\"\\\")+(j?\\\" ui-datepicker-other-month\\\":\\\"\\\")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?\\\" \\\"+this._dayOverClass:\\\"\\\")+(W?\\\" \\\"+this._unselectableClass+\\\" ui-state-disabled\\\":\\\"\\\")+(j&&!v?\\\"\\\":\\\" \\\"+O[1]+(z.getTime()===G.getTime()?\\\" \\\"+this._currentClass:\\\"\\\")+(z.getTime()===R.getTime()?\\\" ui-datepicker-today\\\":\\\"\\\"))+\\\"'\\\"+(j&&!v||!O[2]?\\\"\\\":\\\" title='\\\"+O[2].replace(/'/g,\\\"&#39;\\\")+\\\"'\\\")+(W?\\\"\\\":\\\" data-handler='selectDay' data-event='click' data-month='\\\"+z.getMonth()+\\\"' data-year='\\\"+z.getFullYear()+\\\"'\\\")+\\\">\\\"+(j&&!v?\\\"&#xa0;\\\":W?\\\"<span class='ui-state-default'>\\\"+z.getDate()+\\\"</span>\\\":\\\"<a class='ui-state-default\\\"+(z.getTime()===R.getTime()?\\\" ui-state-highlight\\\":\\\"\\\")+(z.getTime()===G.getTime()?\\\" ui-state-active\\\":\\\"\\\")+(j?\\\" ui-priority-secondary\\\":\\\"\\\")+\\\"' href='#'>\\\"+z.getDate()+\\\"</a>\\\")+\\\"</td>\\\",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+\\\"</tr>\\\"}Z++,Z>11&&(Z=0,et++),M+=\\\"</tbody></table>\\\"+(Q?\\\"</div>\\\"+(K[0]>0&&T===K[1]-1?\\\"<div class='ui-datepicker-row-break'></div>\\\":\\\"\\\"):\\\"\\\"),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,\\\"changeMonth\\\"),v=this._get(e,\\\"changeYear\\\"),y=this._get(e,\\\"showMonthAfterYear\\\"),b=\\\"<div class='ui-datepicker-title'>\\\",_=\\\"\\\";if(a||!g)_+=\\\"<span class='ui-datepicker-month'>\\\"+o[t]+\\\"</span>\\\";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+=\\\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\\\",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+=\\\"<option value='\\\"+u+\\\"'\\\"+(u===t?\\\" selected='selected'\\\":\\\"\\\")+\\\">\\\"+r[u]+\\\"</option>\\\");_+=\\\"</select>\\\"}if(y||(b+=_+(!a&&g&&v?\\\"\\\":\\\"&#xa0;\\\")),!e.yearshtml)if(e.yearshtml=\\\"\\\",a||!v)b+=\\\"<span class='ui-datepicker-year'>\\\"+i+\\\"</span>\\\";else{for(d=this._get(e,\\\"yearRange\\\").split(\\\":\\\"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\\\\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\\\\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||\\\"\\\")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+=\\\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\\\";m>=f;f++)e.yearshtml+=\\\"<option value='\\\"+f+\\\"'\\\"+(f===i?\\\" selected='selected'\\\":\\\"\\\")+\\\">\\\"+f+\\\"</option>\\\";e.yearshtml+=\\\"</select>\\\",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,\\\"yearSuffix\\\"),y&&(b+=(!a&&g&&v?\\\"\\\":\\\"&#xa0;\\\")+_),b+=\\\"</div>\\\"},_adjustInstDate:function(e,t,i){var s=e.drawYear+(\\\"Y\\\"===i?t:0),n=e.drawMonth+(\\\"M\\\"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+(\\\"D\\\"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(\\\"M\\\"===i||\\\"Y\\\"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,\\\"min\\\"),s=this._getMinMaxDate(e,\\\"max\\\"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,\\\"onChangeMonthYear\\\");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,\\\"numberOfMonths\\\");return null==t?[1,1]:\\\"number\\\"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+\\\"Date\\\"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,\\\"min\\\"),a=this._getMinMaxDate(e,\\\"max\\\"),o=null,r=null,h=this._get(e,\\\"yearRange\\\");return h&&(i=h.split(\\\":\\\"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\\\\-].*/)&&(o+=s),i[1].match(/[+\\\\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,\\\"shortYearCutoff\\\");return t=\\\"string\\\"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,\\\"dayNamesShort\\\"),dayNames:this._get(e,\\\"dayNames\\\"),monthNamesShort:this._get(e,\\\"monthNamesShort\\\"),monthNames:this._get(e,\\\"monthNames\\\")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?\\\"object\\\"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,\\\"dateFormat\\\"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e(\\\"#\\\"+e.datepicker._mainDivId).length&&e(\\\"body\\\").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\\\"string\\\"!=typeof t||\\\"isDisabled\\\"!==t&&\\\"getDate\\\"!==t&&\\\"widget\\\"!==t?\\\"option\\\"===t&&2===arguments.length&&\\\"string\\\"==typeof arguments[1]?e.datepicker[\\\"_\\\"+t+\\\"Datepicker\\\"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){\\\"string\\\"==typeof t?e.datepicker[\\\"_\\\"+t+\\\"Datepicker\\\"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker[\\\"_\\\"+t+\\\"Datepicker\\\"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version=\\\"1.11.4\\\",e.datepicker,e.widget(\\\"ui.dialog\\\",{version:\\\"1.11.4\\\",options:{appendTo:\\\"body\\\",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:\\\"Close\\\",dialogClass:\\\"\\\",draggable:!0,hide:null,height:\\\"auto\\\",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:\\\"center\\\",at:\\\"center\\\",of:window,collision:\\\"fit\\\",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css(\\\"top\\\",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr(\\\"title\\\"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr(\\\"title\\\").addClass(\\\"ui-dialog-content ui-widget-content\\\").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||\\\"body\\\").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass(\\\"ui-dialog-content ui-widget-content\\\").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr(\\\"title\\\",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger(\\\"beforeClose\\\",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(\\\":focusable\\\").focus().length)try{i=this.document[0].activeElement,i&&\\\"body\\\"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger(\\\"close\\\",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(\\\".ui-front:visible\\\").map(function(){return+e(this).css(\\\"z-index\\\")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css(\\\"z-index\\\")&&(this.uiDialog.css(\\\"z-index\\\",a+1),s=!0),s&&!i&&this._trigger(\\\"focus\\\",t),s},open:function(){var t=this;\\nreturn this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css(\\\"z-index\\\",this.uiDialog.css(\\\"z-index\\\")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger(\\\"focus\\\")}),this._makeFocusTarget(),this._trigger(\\\"open\\\"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find(\\\"[autofocus]\\\")),e.length||(e=this.element.find(\\\":tabbable\\\")),e.length||(e=this.uiDialogButtonPane.find(\\\":tabbable\\\")),e.length||(e=this.uiDialogTitlebarClose.filter(\\\":tabbable\\\")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e(\\\"<div>\\\").addClass(\\\"ui-dialog ui-widget ui-widget-content ui-corner-all ui-front \\\"+this.options.dialogClass).hide().attr({tabIndex:-1,role:\\\"dialog\\\"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(\\\":tabbable\\\"),s=i.filter(\\\":first\\\"),n=i.filter(\\\":last\\\");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find(\\\"[aria-describedby]\\\").length||this.uiDialog.attr({\\\"aria-describedby\\\":this.element.uniqueId().attr(\\\"id\\\")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e(\\\"<div>\\\").addClass(\\\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\\\").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(\\\".ui-dialog-titlebar-close\\\")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e(\\\"<button type='button'></button>\\\").button({label:this.options.closeText,icons:{primary:\\\"ui-icon-closethick\\\"},text:!1}).addClass(\\\"ui-dialog-titlebar-close\\\").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e(\\\"<span>\\\").uniqueId().addClass(\\\"ui-dialog-title\\\").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({\\\"aria-labelledby\\\":t.attr(\\\"id\\\")})},_title:function(e){this.options.title||e.html(\\\"&#160;\\\"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e(\\\"<div>\\\").addClass(\\\"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\\\"),this.uiButtonSet=e(\\\"<div>\\\").addClass(\\\"ui-dialog-buttonset\\\").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass(\\\"ui-dialog-buttons\\\"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:\\\"button\\\"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e(\\\"<button></button>\\\",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass(\\\"ui-dialog-buttons\\\"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:\\\".ui-dialog-content, .ui-dialog-titlebar-close\\\",handle:\\\".ui-dialog-titlebar\\\",containment:\\\"document\\\",start:function(s,n){e(this).addClass(\\\"ui-dialog-dragging\\\"),i._blockFrames(),i._trigger(\\\"dragStart\\\",s,t(n))},drag:function(e,s){i._trigger(\\\"drag\\\",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:\\\"left top\\\",at:\\\"left\\\"+(o>=0?\\\"+\\\":\\\"\\\")+o+\\\" \\\"+\\\"top\\\"+(r>=0?\\\"+\\\":\\\"\\\")+r,of:i.window},e(this).removeClass(\\\"ui-dialog-dragging\\\"),i._unblockFrames(),i._trigger(\\\"dragStop\\\",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css(\\\"position\\\"),o=\\\"string\\\"==typeof n?n:\\\"n,e,s,w,se,sw,ne,nw\\\";this.uiDialog.resizable({cancel:\\\".ui-dialog-content\\\",containment:\\\"document\\\",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass(\\\"ui-dialog-resizing\\\"),i._blockFrames(),i._trigger(\\\"resizeStart\\\",s,t(n))},resize:function(e,s){i._trigger(\\\"resize\\\",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:\\\"left top\\\",at:\\\"left\\\"+(r>=0?\\\"+\\\":\\\"\\\")+r+\\\" \\\"+\\\"top\\\"+(h>=0?\\\"+\\\":\\\"\\\")+h,of:i.window},e(this).removeClass(\\\"ui-dialog-resizing\\\"),i._unblockFrames(),i._trigger(\\\"resizeStop\\\",n,t(a))}}).css(\\\"position\\\",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data(\\\"ui-dialog-instances\\\");return e||(e=[],this.document.data(\\\"ui-dialog-instances\\\",e)),e},_minHeight:function(){var e=this.options;return\\\"auto\\\"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(\\\":visible\\\");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(\\\":data(ui-resizable)\\\")&&this.uiDialog.resizable(\\\"option\\\",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;\\\"dialogClass\\\"===e&&n.removeClass(this.options.dialogClass).addClass(t),\\\"disabled\\\"!==e&&(this._super(e,t),\\\"appendTo\\\"===e&&this.uiDialog.appendTo(this._appendTo()),\\\"buttons\\\"===e&&this._createButtons(),\\\"closeText\\\"===e&&this.uiDialogTitlebarClose.button({label:\\\"\\\"+t}),\\\"draggable\\\"===e&&(i=n.is(\\\":data(ui-draggable)\\\"),i&&!t&&n.draggable(\\\"destroy\\\"),!i&&t&&this._makeDraggable()),\\\"position\\\"===e&&this._position(),\\\"resizable\\\"===e&&(s=n.is(\\\":data(ui-resizable)\\\"),s&&!t&&n.resizable(\\\"destroy\\\"),s&&\\\"string\\\"==typeof t&&n.resizable(\\\"option\\\",\\\"handles\\\",t),s||t===!1||this._makeResizable()),\\\"title\\\"===e&&this._title(this.uiDialogTitlebar.find(\\\".ui-dialog-title\\\")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:\\\"auto\\\",minHeight:0,maxHeight:\\\"none\\\",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:\\\"auto\\\",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i=\\\"number\\\"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):\\\"none\\\",\\\"auto\\\"===s.height?this.element.css({minHeight:t,maxHeight:i,height:\\\"auto\\\"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(\\\":data(ui-resizable)\\\")&&this.uiDialog.resizable(\\\"option\\\",\\\"minHeight\\\",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find(\\\"iframe\\\").map(function(){var t=e(this);return e(\\\"<div>\\\").css({position:\\\"absolute\\\",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(\\\".ui-dialog\\\").length?!0:!!e(t.target).closest(\\\".ui-datepicker\\\").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data(\\\"ui-dialog-overlays\\\")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e(\\\"<div>\\\").addClass(\\\"ui-widget-overlay ui-front\\\").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:\\\"_keepFocus\\\"}),this.document.data(\\\"ui-dialog-overlays\\\",(this.document.data(\\\"ui-dialog-overlays\\\")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data(\\\"ui-dialog-overlays\\\")-1;e?this.document.data(\\\"ui-dialog-overlays\\\",e):this.document.unbind(\\\"focusin\\\").removeData(\\\"ui-dialog-overlays\\\"),this.overlay.remove(),this.overlay=null}}}),e.widget(\\\"ui.progressbar\\\",{version:\\\"1.11.4\\\",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass(\\\"ui-progressbar ui-widget ui-widget-content ui-corner-all\\\").attr({role:\\\"progressbar\\\",\\\"aria-valuemin\\\":this.min}),this.valueDiv=e(\\\"<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>\\\").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass(\\\"ui-progressbar ui-widget ui-widget-content ui-corner-all\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-valuemin\\\").removeAttr(\\\"aria-valuemax\\\").removeAttr(\\\"aria-valuenow\\\"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,\\\"number\\\"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){\\\"max\\\"===e&&(t=Math.max(this.min,t)),\\\"disabled\\\"===e&&this.element.toggleClass(\\\"ui-state-disabled\\\",!!t).attr(\\\"aria-disabled\\\",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass(\\\"ui-corner-right\\\",t===this.options.max).width(i.toFixed(0)+\\\"%\\\"),this.element.toggleClass(\\\"ui-progressbar-indeterminate\\\",this.indeterminate),this.indeterminate?(this.element.removeAttr(\\\"aria-valuenow\\\"),this.overlayDiv||(this.overlayDiv=e(\\\"<div class='ui-progressbar-overlay'></div>\\\").appendTo(this.valueDiv))):(this.element.attr({\\\"aria-valuemax\\\":this.options.max,\\\"aria-valuenow\\\":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger(\\\"change\\\")),t===this.options.max&&this._trigger(\\\"complete\\\")}}),e.widget(\\\"ui.selectmenu\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<select>\\\",options:{appendTo:null,disabled:null,icons:{button:\\\"ui-icon-triangle-1-s\\\"},position:{my:\\\"left top\\\",at:\\\"left bottom\\\",collision:\\\"none\\\"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr(\\\"id\\\");this.ids={element:e,button:e+\\\"-button\\\",menu:e+\\\"-menu\\\"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e(\\\"label[for='\\\"+this.ids.element+\\\"']\\\").attr(\\\"for\\\",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e(\\\"<span>\\\",{\\\"class\\\":\\\"ui-selectmenu-button ui-widget ui-state-default ui-corner-all\\\",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:\\\"combobox\\\",\\\"aria-expanded\\\":\\\"false\\\",\\\"aria-autocomplete\\\":\\\"list\\\",\\\"aria-owns\\\":this.ids.menu,\\\"aria-haspopup\\\":\\\"true\\\"}).insertAfter(this.element),e(\\\"<span>\\\",{\\\"class\\\":\\\"ui-icon \\\"+this.options.icons.button}).prependTo(this.button),this.buttonText=e(\\\"<span>\\\",{\\\"class\\\":\\\"ui-selectmenu-text\\\"}).appendTo(this.button),this._setText(this.buttonText,this.element.find(\\\"option:selected\\\").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one(\\\"focusin\\\",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e(\\\"<ul>\\\",{\\\"aria-hidden\\\":\\\"true\\\",\\\"aria-labelledby\\\":this.ids.button,id:this.ids.menu}),this.menuWrap=e(\\\"<div>\\\",{\\\"class\\\":\\\"ui-selectmenu-menu ui-front\\\"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:\\\"listbox\\\",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data(\\\"ui-selectmenu-item\\\"),e)},focus:function(e,i){var s=i.item.data(\\\"ui-selectmenu-item\\\");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger(\\\"focus\\\",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr(\\\"aria-activedescendant\\\",t.menuItems.eq(s.index).attr(\\\"id\\\"))}}).menu(\\\"instance\\\"),this.menu.addClass(\\\"ui-corner-bottom\\\").removeClass(\\\"ui-corner-all\\\"),this.menuInstance._off(this.menu,\\\"mouseleave\\\"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find(\\\"option\\\");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find(\\\"li\\\").not(\\\".ui-selectmenu-optgroup\\\"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data(\\\"ui-selectmenu-item\\\")),this._setOption(\\\"disabled\\\",this.element.prop(\\\"disabled\\\")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(\\\".ui-state-focus\\\").removeClass(\\\"ui-state-focus\\\"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger(\\\"open\\\",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger(\\\"close\\\",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n=\\\"\\\";e.each(i,function(i,a){a.optgroup!==n&&(e(\\\"<li>\\\",{\\\"class\\\":\\\"ui-selectmenu-optgroup ui-menu-divider\\\"+(a.element.parent(\\\"optgroup\\\").prop(\\\"disabled\\\")?\\\" ui-state-disabled\\\":\\\"\\\"),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data(\\\"ui-selectmenu-item\\\",t)},_renderItem:function(t,i){var s=e(\\\"<li>\\\");return i.disabled&&s.addClass(\\\"ui-state-disabled\\\"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html(\\\"&#160;\\\")},_move:function(e,t){var i,s,n=\\\".ui-menu-item\\\";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=\\\":not(.ui-state-disabled)\\\"),s=\\\"first\\\"===e||\\\"last\\\"===e?i[\\\"first\\\"===e?\\\"prevAll\\\":\\\"nextAll\\\"](n).eq(-1):i[e+\\\"All\\\"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?\\\"close\\\":\\\"open\\\"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(\\\".ui-selectmenu-menu, #\\\"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move(\\\"prev\\\",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move(\\\"next\\\",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move(\\\"prev\\\",t);break;case e.ui.keyCode.RIGHT:this._move(\\\"next\\\",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move(\\\"first\\\",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move(\\\"last\\\",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass(\\\"ui-state-disabled\\\")||this._select(t.data(\\\"ui-selectmenu-item\\\"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger(\\\"select\\\",t,{item:e}),e.index!==i&&this._trigger(\\\"change\\\",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr(\\\"id\\\");this.button.attr({\\\"aria-labelledby\\\":t,\\\"aria-activedescendant\\\":t}),this.menu.attr(\\\"aria-activedescendant\\\",t)},_setOption:function(e,t){\\\"icons\\\"===e&&this.button.find(\\\"span.ui-icon\\\").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),\\\"appendTo\\\"===e&&this.menuWrap.appendTo(this._appendTo()),\\\"disabled\\\"===e&&(this.menuInstance.option(\\\"disabled\\\",t),this.button.toggleClass(\\\"ui-state-disabled\\\",t).attr(\\\"aria-disabled\\\",t),this.element.prop(\\\"disabled\\\",t),t?(this.button.attr(\\\"tabindex\\\",-1),this.close()):this.button.attr(\\\"tabindex\\\",0)),\\\"width\\\"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(\\\".ui-front\\\")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass(\\\"ui-corner-top\\\",this.isOpen).toggleClass(\\\"ui-corner-all\\\",!this.isOpen).attr(\\\"aria-expanded\\\",this.isOpen),this.menuWrap.toggleClass(\\\"ui-selectmenu-open\\\",this.isOpen),this.menu.attr(\\\"aria-hidden\\\",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width(\\\"\\\").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop(\\\"disabled\\\")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent(\\\"optgroup\\\");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr(\\\"label\\\")||\\\"\\\",disabled:a.prop(\\\"disabled\\\")||n.prop(\\\"disabled\\\")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr(\\\"for\\\",this.ids.element)}}),e.widget(\\\"ui.slider\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"slide\\\",options:{animate:!1,distance:0,max:100,min:0,orientation:\\\"horizontal\\\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass(\\\"ui-slider ui-slider-\\\"+this.orientation+\\\" ui-widget\\\"+\\\" ui-widget-content\\\"+\\\" ui-corner-all\\\"),this._refresh(),this._setOption(\\\"disabled\\\",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(\\\".ui-slider-handle\\\").addClass(\\\"ui-state-default ui-corner-all\\\"),a=\\\"<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>\\\",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join(\\\"\\\")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data(\\\"ui-slider-handle-index\\\",t)})},_createRange:function(){var t=this.options,i=\\\"\\\";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass(\\\"ui-slider-range-min ui-slider-range-max\\\").css({left:\\\"\\\",bottom:\\\"\\\"}):(this.range=e(\\\"<div></div>\\\").appendTo(this.element),i=\\\"ui-slider-range ui-widget-header ui-corner-all\\\"),this.range.addClass(i+(\\\"min\\\"===t.range||\\\"max\\\"===t.range?\\\" ui-slider-range-\\\"+t.range:\\\"\\\"))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass(\\\"ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all\\\"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass(\\\"ui-state-active\\\").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(\\\".ui-slider-handle\\\"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css(\\\"borderTopWidth\\\"),10)||0)-(parseInt(a.css(\\\"borderBottomWidth\\\"),10)||0)+(parseInt(a.css(\\\"marginTop\\\"),10)||0)},this.handles.hasClass(\\\"ui-state-hover\\\")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass(\\\"ui-state-active\\\"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\\\"vertical\\\"===this.options.orientation?\\\"vertical\\\":\\\"horizontal\\\"},_normValueFromMouse:function(e){var t,i,s,n,a;return\\\"horizontal\\\"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),\\\"vertical\\\"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger(\\\"start\\\",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger(\\\"slide\\\",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger(\\\"slide\\\",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger(\\\"stop\\\",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger(\\\"change\\\",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch(\\\"range\\\"===t&&this.options.range===!0&&(\\\"min\\\"===i?(this.options.value=this._values(0),this.options.values=null):\\\"max\\\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),\\\"disabled\\\"===t&&this.element.toggleClass(\\\"ui-state-disabled\\\",!!i),this._super(t,i),t){case\\\"orientation\\\":this._detectOrientation(),this.element.removeClass(\\\"ui-slider-horizontal ui-slider-vertical\\\").addClass(\\\"ui-slider-\\\"+this.orientation),this._refreshValue(),this.handles.css(\\\"horizontal\\\"===i?\\\"bottom\\\":\\\"left\\\",\\\"\\\");break;case\\\"value\\\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\\\"values\\\":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case\\\"step\\\":case\\\"min\\\":case\\\"max\\\":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case\\\"range\\\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=\\\"\\\"+e,i=t.indexOf(\\\".\\\");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u[\\\"horizontal\\\"===h.orientation?\\\"left\\\":\\\"bottom\\\"]=i+\\\"%\\\",e(this).stop(1,1)[l?\\\"animate\\\":\\\"css\\\"](u,r.animate),h.options.range===!0&&(\\\"horizontal\\\"===h.orientation?(0===s&&h.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({left:i+\\\"%\\\"},r.animate),1===s&&h.range[l?\\\"animate\\\":\\\"css\\\"]({width:i-t+\\\"%\\\"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({bottom:i+\\\"%\\\"},r.animate),1===s&&h.range[l?\\\"animate\\\":\\\"css\\\"]({height:i-t+\\\"%\\\"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u[\\\"horizontal\\\"===this.orientation?\\\"left\\\":\\\"bottom\\\"]=i+\\\"%\\\",this.handle.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"](u,r.animate),\\\"min\\\"===o&&\\\"horizontal\\\"===this.orientation&&this.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({width:i+\\\"%\\\"},r.animate),\\\"max\\\"===o&&\\\"horizontal\\\"===this.orientation&&this.range[l?\\\"animate\\\":\\\"css\\\"]({width:100-i+\\\"%\\\"},{queue:!1,duration:r.animate}),\\\"min\\\"===o&&\\\"vertical\\\"===this.orientation&&this.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({height:i+\\\"%\\\"},r.animate),\\\"max\\\"===o&&\\\"vertical\\\"===this.orientation&&this.range[l?\\\"animate\\\":\\\"css\\\"]({height:100-i+\\\"%\\\"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data(\\\"ui-slider-handle-index\\\");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass(\\\"ui-state-active\\\"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data(\\\"ui-slider-handle-index\\\");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass(\\\"ui-state-active\\\"))}}}),e.widget(\\\"ui.spinner\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<input>\\\",widgetEventPrefix:\\\"spin\\\",options:{culture:null,icons:{down:\\\"ui-icon-triangle-1-s\\\",up:\\\"ui-icon-triangle-1-n\\\"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption(\\\"max\\\",this.options.max),this._setOption(\\\"min\\\",this.options.min),this._setOption(\\\"step\\\",this.options.step),\\\"\\\"!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\\\"autocomplete\\\")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each([\\\"min\\\",\\\"max\\\",\\\"step\\\"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:\\\"_stop\\\",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger(\\\"change\\\",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},\\\"mousedown .ui-spinner-button\\\":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass(\\\"ui-spinner-up\\\")?1:-1,t)},\\\"mouseup .ui-spinner-button\\\":\\\"_stop\\\",\\\"mouseenter .ui-spinner-button\\\":function(t){return e(t.currentTarget).hasClass(\\\"ui-state-active\\\")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass(\\\"ui-spinner-up\\\")?1:-1,t),void 0):void 0},\\\"mouseleave .ui-spinner-button\\\":\\\"_stop\\\"},_draw:function(){var e=this.uiSpinner=this.element.addClass(\\\"ui-spinner-input\\\").attr(\\\"autocomplete\\\",\\\"off\\\").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr(\\\"role\\\",\\\"spinbutton\\\"),this.buttons=e.find(\\\".ui-spinner-button\\\").attr(\\\"tabIndex\\\",-1).button().removeClass(\\\"ui-corner-all\\\"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()\\n},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return\\\"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>\\\"},_buttonHtml:function(){return\\\"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon \\\"+this.options.icons.up+\\\"'>&#9650;</span>\\\"+\\\"</a>\\\"+\\\"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>\\\"+\\\"<span class='ui-icon \\\"+this.options.icons.down+\\\"'>&#9660;</span>\\\"+\\\"</a>\\\"},_start:function(e){return this.spinning||this._trigger(\\\"start\\\",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger(\\\"spin\\\",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=\\\"\\\"+e,i=t.indexOf(\\\".\\\");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger(\\\"stop\\\",e))},_setOption:function(e,t){if(\\\"culture\\\"===e||\\\"numberFormat\\\"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}(\\\"max\\\"===e||\\\"min\\\"===e||\\\"step\\\"===e)&&\\\"string\\\"==typeof t&&(t=this._parse(t)),\\\"icons\\\"===e&&(this.buttons.first().find(\\\".ui-icon\\\").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(\\\".ui-icon\\\").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),\\\"disabled\\\"===e&&(this.widget().toggleClass(\\\"ui-state-disabled\\\",!!t),this.element.prop(\\\"disabled\\\",!!t),this.buttons.button(t?\\\"disable\\\":\\\"enable\\\"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return\\\"string\\\"==typeof e&&\\\"\\\"!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),\\\"\\\"===e||isNaN(e)?null:e},_format:function(e){return\\\"\\\"===e?\\\"\\\":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({\\\"aria-valuemin\\\":this.options.min,\\\"aria-valuemax\\\":this.options.max,\\\"aria-valuenow\\\":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;\\\"\\\"!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass(\\\"ui-spinner-input\\\").prop(\\\"disabled\\\",!1).removeAttr(\\\"autocomplete\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-valuemin\\\").removeAttr(\\\"aria-valuemax\\\").removeAttr(\\\"aria-valuenow\\\"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget(\\\"ui.tabs\\\",{version:\\\"1.11.4\\\",delay:300,options:{active:null,collapsible:!1,event:\\\"click\\\",heightStyle:\\\"content\\\",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,\\\"\\\"),s=location.href.replace(e,\\\"\\\");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass(\\\"ui-tabs ui-widget ui-widget-content ui-corner-all\\\").toggleClass(\\\"ui-tabs-collapsible\\\",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(\\\".ui-state-disabled\\\"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr(\\\"aria-controls\\\")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(\\\".ui-tabs-active\\\"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest(\\\"li\\\"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr(\\\"aria-selected\\\",\\\"false\\\"),this.tabs.eq(s).attr(\\\"aria-selected\\\",\\\"true\\\"),this.activating=this._delay(function(){this.option(\\\"active\\\",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return\\\"active\\\"===e?(this._activate(t),void 0):\\\"disabled\\\"===e?(this._setupDisabled(t),void 0):(this._super(e,t),\\\"collapsible\\\"===e&&(this.element.toggleClass(\\\"ui-tabs-collapsible\\\",t),t||this.options.active!==!1||this._activate(0)),\\\"event\\\"===e&&this._setupEvents(t),\\\"heightStyle\\\"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!\\\"$%&'()*+,.\\\\/:;<=>?@\\\\[\\\\]\\\\^`{|}~]/g,\\\"\\\\\\\\$&\\\"):\\\"\\\"},refresh:function(){var t=this.options,i=this.tablist.children(\\\":has(a[href])\\\");t.disabled=e.map(i.filter(\\\".ui-state-disabled\\\"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({\\\"aria-hidden\\\":\\\"true\\\"}),this.active.length?(this.active.addClass(\\\"ui-tabs-active ui-state-active\\\").attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0}),this._getPanelForTab(this.active).show().attr({\\\"aria-hidden\\\":\\\"false\\\"})):this.tabs.eq(0).attr(\\\"tabIndex\\\",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass(\\\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\\\").attr(\\\"role\\\",\\\"tablist\\\").delegate(\\\"> li\\\",\\\"mousedown\\\"+this.eventNamespace,function(t){e(this).is(\\\".ui-state-disabled\\\")&&t.preventDefault()}).delegate(\\\".ui-tabs-anchor\\\",\\\"focus\\\"+this.eventNamespace,function(){e(this).closest(\\\"li\\\").is(\\\".ui-state-disabled\\\")&&this.blur()}),this.tabs=this.tablist.find(\\\"> li:has(a[href])\\\").addClass(\\\"ui-state-default ui-corner-top\\\").attr({role:\\\"tab\\\",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e(\\\"a\\\",this)[0]}).addClass(\\\"ui-tabs-anchor\\\").attr({role:\\\"presentation\\\",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr(\\\"id\\\"),h=e(s).closest(\\\"li\\\"),l=h.attr(\\\"aria-controls\\\");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr(\\\"aria-controls\\\")||e({}).uniqueId()[0].id,n=\\\"#\\\"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr(\\\"aria-live\\\",\\\"polite\\\")),a.length&&(t.panels=t.panels.add(a)),l&&h.data(\\\"ui-tabs-aria-controls\\\",l),h.attr({\\\"aria-controls\\\":o,\\\"aria-labelledby\\\":r}),a.attr(\\\"aria-labelledby\\\",r)}),this.panels.addClass(\\\"ui-tabs-panel ui-widget-content ui-corner-bottom\\\").attr(\\\"role\\\",\\\"tabpanel\\\"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find(\\\"ol,ul\\\").eq(0)},_createPanel:function(t){return e(\\\"<div>\\\").attr(\\\"id\\\",t).addClass(\\\"ui-tabs-panel ui-widget-content ui-corner-bottom\\\").data(\\\"ui-tabs-destroy\\\",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass(\\\"ui-state-disabled\\\").attr(\\\"aria-disabled\\\",\\\"true\\\"):e(i).removeClass(\\\"ui-state-disabled\\\").removeAttr(\\\"aria-disabled\\\");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(\\\" \\\"),function(e,t){i[t]=\\\"_eventHandler\\\"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:\\\"_tabKeydown\\\"}),this._on(this.panels,{keydown:\\\"_panelKeydown\\\"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();\\\"fill\\\"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(\\\":visible\\\").each(function(){var t=e(this),s=t.css(\\\"position\\\");\\\"absolute\\\"!==s&&\\\"fixed\\\"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css(\\\"overflow\\\",\\\"auto\\\")):\\\"auto\\\"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height(\\\"\\\").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest(\\\"li\\\"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass(\\\"ui-state-disabled\\\")||a.hasClass(\\\"ui-tabs-loading\\\")||this.running||o&&!i.collapsible||this._trigger(\\\"beforeActivate\\\",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error(\\\"jQuery UI Tabs: Mismatching fragment identifier.\\\"),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger(\\\"activate\\\",t,i)}function n(){i.newTab.closest(\\\"li\\\").addClass(\\\"ui-tabs-active ui-state-active\\\"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest(\\\"li\\\").removeClass(\\\"ui-tabs-active ui-state-active\\\"),n()}):(i.oldTab.closest(\\\"li\\\").removeClass(\\\"ui-tabs-active ui-state-active\\\"),r.hide(),n()),r.attr(\\\"aria-hidden\\\",\\\"true\\\"),i.oldTab.attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\"}),o.length&&r.length?i.oldTab.attr(\\\"tabIndex\\\",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr(\\\"tabIndex\\\")}).attr(\\\"tabIndex\\\",-1),o.attr(\\\"aria-hidden\\\",\\\"false\\\"),i.newTab.attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(\\\".ui-tabs-anchor\\\")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return\\\"string\\\"==typeof e&&(e=this.anchors.index(this.anchors.filter(\\\"[href$='\\\"+e+\\\"']\\\"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass(\\\"ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible\\\"),this.tablist.removeClass(\\\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\\\").removeAttr(\\\"role\\\"),this.anchors.removeClass(\\\"ui-tabs-anchor\\\").removeAttr(\\\"role\\\").removeAttr(\\\"tabIndex\\\").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,\\\"ui-tabs-destroy\\\")?e(this).remove():e(this).removeClass(\\\"ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel\\\").removeAttr(\\\"tabIndex\\\").removeAttr(\\\"aria-live\\\").removeAttr(\\\"aria-busy\\\").removeAttr(\\\"aria-selected\\\").removeAttr(\\\"aria-labelledby\\\").removeAttr(\\\"aria-hidden\\\").removeAttr(\\\"aria-expanded\\\").removeAttr(\\\"role\\\")}),this.tabs.each(function(){var t=e(this),i=t.data(\\\"ui-tabs-aria-controls\\\");i?t.attr(\\\"aria-controls\\\",i).removeData(\\\"ui-tabs-aria-controls\\\"):t.removeAttr(\\\"aria-controls\\\")}),this.panels.show(),\\\"content\\\"!==this.options.heightStyle&&this.panels.css(\\\"height\\\",\\\"\\\")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(\\\".ui-tabs-anchor\\\"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){\\\"abort\\\"===t&&s.panels.stop(!1,!0),n.removeClass(\\\"ui-tabs-loading\\\"),o.removeAttr(\\\"aria-busy\\\"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&\\\"canceled\\\"!==this.xhr.statusText&&(n.addClass(\\\"ui-tabs-loading\\\"),o.attr(\\\"aria-busy\\\",\\\"true\\\"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger(\\\"load\\\",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr(\\\"href\\\"),beforeSend:function(t,a){return n._trigger(\\\"beforeLoad\\\",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr(\\\"aria-controls\\\");return this.element.find(this._sanitizeSelector(\\\"#\\\"+i))}}),e.widget(\\\"ui.tooltip\\\",{version:\\\"1.11.4\\\",options:{content:function(){var t=e(this).attr(\\\"title\\\")||\\\"\\\";return e(\\\"<a>\\\").text(t).html()},hide:!0,items:\\\"[title]:not([disabled])\\\",position:{my:\\\"left top+15\\\",at:\\\"left bottom\\\",collision:\\\"flipfit flip\\\"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr(\\\"aria-describedby\\\")||\\\"\\\").split(/\\\\s+/);s.push(i),t.data(\\\"ui-tooltip-id\\\",i).attr(\\\"aria-describedby\\\",e.trim(s.join(\\\" \\\")))},_removeDescribedBy:function(t){var i=t.data(\\\"ui-tooltip-id\\\"),s=(t.attr(\\\"aria-describedby\\\")||\\\"\\\").split(/\\\\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData(\\\"ui-tooltip-id\\\"),s=e.trim(s.join(\\\" \\\")),s?t.attr(\\\"aria-describedby\\\",s):t.removeAttr(\\\"aria-describedby\\\")},_create:function(){this._on({mouseover:\\\"open\\\",focusin:\\\"open\\\"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e(\\\"<div>\\\").attr({role:\\\"log\\\",\\\"aria-live\\\":\\\"assertive\\\",\\\"aria-relevant\\\":\\\"additions\\\"}).addClass(\\\"ui-helper-hidden-accessible\\\").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return\\\"disabled\\\"===t?(this[i?\\\"_disable\\\":\\\"_enable\\\"](),this.options[t]=i,void 0):(this._super(t,i),\\\"content\\\"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event(\\\"blur\\\");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is(\\\"[title]\\\")&&t.data(\\\"ui-tooltip-title\\\",t.attr(\\\"title\\\")).removeAttr(\\\"title\\\")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data(\\\"ui-tooltip-title\\\")&&t.attr(\\\"title\\\",t.data(\\\"ui-tooltip-title\\\"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data(\\\"ui-tooltip-id\\\")&&(s.attr(\\\"title\\\")&&s.data(\\\"ui-tooltip-title\\\",s.attr(\\\"title\\\")),s.data(\\\"ui-tooltip-open\\\",!0),t&&\\\"mouseover\\\"===t.type&&s.parents().each(function(){var t,s=e(this);s.data(\\\"ui-tooltip-open\\\")&&(t=e.Event(\\\"blur\\\"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr(\\\"title\\\")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr(\\\"title\\\")},s.attr(\\\"title\\\",\\\"\\\"))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return\\\"string\\\"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data(\\\"ui-tooltip-open\\\")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(\\\":hidden\\\")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(\\\".ui-tooltip-content\\\").html(s),void 0;i.is(\\\"[title]\\\")&&(t&&\\\"mouseover\\\"===t.type?i.attr(\\\"title\\\",\\\"\\\"):i.removeAttr(\\\"title\\\")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr(\\\"id\\\")),o.find(\\\".ui-tooltip-content\\\").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr(\\\"id\\\").find(\\\"[id]\\\").removeAttr(\\\"id\\\")):h=s,e(\\\"<div>\\\").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(\\\":visible\\\")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger(\\\"open\\\",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&\\\"mouseover\\\"!==t.type||(s.mouseleave=\\\"close\\\"),t&&\\\"focusin\\\"!==t.type||(s.focusout=\\\"close\\\"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data(\\\"ui-tooltip-title\\\")&&!n.attr(\\\"title\\\")&&n.attr(\\\"title\\\",n.data(\\\"ui-tooltip-title\\\")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData(\\\"ui-tooltip-open\\\"),this._off(n,\\\"mouseleave focusout keyup\\\"),n[0]!==this.element[0]&&this._off(n,\\\"remove\\\"),this._off(this.document,\\\"mousemove\\\"),t&&\\\"mouseleave\\\"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr(\\\"title\\\",i.title),delete s.parents[t]}),a.closing=!0,this._trigger(\\\"close\\\",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData(\\\"ui-tooltip-open\\\"),void 0)},_tooltip:function(t){var i=e(\\\"<div>\\\").attr(\\\"role\\\",\\\"tooltip\\\").addClass(\\\"ui-tooltip ui-widget ui-corner-all ui-widget-content \\\"+(this.options.tooltipClass||\\\"\\\")),s=i.uniqueId().attr(\\\"id\\\");return e(\\\"<div>\\\").addClass(\\\"ui-tooltip-content\\\").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data(\\\"ui-tooltip-id\\\");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr(\\\"id\\\")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event(\\\"blur\\\"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e(\\\"#\\\"+i).remove(),a.data(\\\"ui-tooltip-title\\\")&&(a.attr(\\\"title\\\")||a.attr(\\\"title\\\",a.data(\\\"ui-tooltip-title\\\")),a.removeData(\\\"ui-tooltip-title\\\"))}),this.liveRegion.remove()}});var y=\\\"ui-effects-\\\",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||\\\"rgba\\\";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?(\\\"0,0,0,0\\\"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o=\\\"backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\\\",r=/^([\\\\-+])=\\\\s*(\\\\d+\\\\.?\\\\d*)/,h=[{re:/rgba?\\\\(\\\\s*(\\\\d{1,3})\\\\s*,\\\\s*(\\\\d{1,3})\\\\s*,\\\\s*(\\\\d{1,3})\\\\s*(?:,\\\\s*(\\\\d?(?:\\\\.\\\\d+)?)\\\\s*)?\\\\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\\\\(\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*(?:,\\\\s*(\\\\d?(?:\\\\.\\\\d+)?)\\\\s*)?\\\\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\\\\(\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*(?:,\\\\s*(\\\\d?(?:\\\\.\\\\d+)?)\\\\s*)?\\\\)/,space:\\\"hsla\\\",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:\\\"byte\\\"},green:{idx:1,type:\\\"byte\\\"},blue:{idx:2,type:\\\"byte\\\"}}},hsla:{props:{hue:{idx:0,type:\\\"degrees\\\"},saturation:{idx:1,type:\\\"percent\\\"},lightness:{idx:2,type:\\\"percent\\\"}}}},d={\\\"byte\\\":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e(\\\"<p>\\\")[0],f=e.each;p.style.cssText=\\\"background-color:rgba(1,1,1,.5)\\\",c.rgba=p.style.backgroundColor.indexOf(\\\"rgba\\\")>-1,f(u,function(e,t){t.cache=\\\"_\\\"+e,t.props.alpha={idx:3,type:\\\"percent\\\",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c=\\\"array\\\"),\\\"string\\\"===c?this.parse(s(n)||a._default):\\\"array\\\"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):\\\"object\\\"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if(\\\"alpha\\\"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l(\\\"transparent\\\"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t=\\\"rgba(\\\",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t=\\\"rgb(\\\"),t+i.join()+\\\")\\\"},toHslaString:function(){var t=\\\"hsla(\\\",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+\\\"%\\\"),e});return 1===i[3]&&(i.pop(),t=\\\"hsl(\\\"),t+i.join()+\\\")\\\"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),\\\"#\\\"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?\\\"0\\\"+e:e}).join(\\\"\\\")},toString:function(){return 0===this._rgba[3]?\\\"transparent\\\":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d=\\\"array\\\"===r||\\\"object\\\"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d[\\\"object\\\"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h=\\\"alpha\\\"===t?this._hsla?\\\"hsla\\\":\\\"rgba\\\":s,l=this[h](),u=l[i.idx];return\\\"undefined\\\"===o?u:(\\\"function\\\"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:(\\\"string\\\"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*(\\\"+\\\"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(\\\" \\\");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r=\\\"\\\";if(\\\"transparent\\\"!==n&&(\\\"string\\\"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o=\\\"backgroundColor\\\"===i?t.parentNode:t;(\\\"\\\"===r||\\\"transparent\\\"===r)&&o&&o.style;)try{r=e.css(o,\\\"backgroundColor\\\"),o=o.parentNode}catch(h){}n=n.blend(r&&\\\"transparent\\\"!==r?r:\\\"_default\\\")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f([\\\"Top\\\",\\\"Right\\\",\\\"Bottom\\\",\\\"Left\\\"],function(i,s){t[\\\"border\\\"+s+\\\"Color\\\"]=e}),t}},a=e.Color.names={aqua:\\\"#00ffff\\\",black:\\\"#000000\\\",blue:\\\"#0000ff\\\",fuchsia:\\\"#ff00ff\\\",gray:\\\"#808080\\\",green:\\\"#008000\\\",lime:\\\"#00ff00\\\",maroon:\\\"#800000\\\",navy:\\\"#000080\\\",olive:\\\"#808000\\\",purple:\\\"#800080\\\",red:\\\"#ff0000\\\",silver:\\\"#c0c0c0\\\",teal:\\\"#008080\\\",white:\\\"#ffffff\\\",yellow:\\\"#ffff00\\\",transparent:[null,null,null,0],_default:\\\"#ffffff\\\"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],\\\"string\\\"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)\\\"string\\\"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=[\\\"add\\\",\\\"remove\\\",\\\"toggle\\\"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each([\\\"borderLeftStyle\\\",\\\"borderRightStyle\\\",\\\"borderBottomStyle\\\",\\\"borderTopStyle\\\"],function(t,i){e.fx.step[i]=function(e){(\\\"none\\\"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr(\\\"class\\\")||\\\"\\\",l=h.children?o.find(\\\"*\\\").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+\\\"Class\\\"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr(\\\"class\\\",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,\\\"\\\")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return\\\"boolean\\\"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),(\\\"number\\\"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:\\\"number\\\"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||\\\"number\\\"==typeof t||e.fx.speeds[t]?!0:\\\"string\\\"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:\\\"object\\\"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:\\\"1.11.4\\\",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=\\\"\\\"),e.css(t[s],i))},setMode:function(e,t){return\\\"toggle\\\"===t&&(t=e.is(\\\":hidden\\\")?\\\"show\\\":\\\"hide\\\"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case\\\"top\\\":i=0;break;case\\\"middle\\\":i=.5;break;case\\\"bottom\\\":i=1;break;default:i=e[0]/t.height}switch(e[1]){case\\\"left\\\":s=0;break;case\\\"center\\\":s=.5;break;case\\\"right\\\":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(\\\".ui-effects-wrapper\\\"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),\\\"float\\\":t.css(\\\"float\\\")},s=e(\\\"<div></div>\\\").addClass(\\\"ui-effects-wrapper\\\").css({fontSize:\\\"100%\\\",background:\\\"transparent\\\",border:\\\"none\\\",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),\\\"static\\\"===t.css(\\\"position\\\")?(s.css({position:\\\"relative\\\"}),t.css({position:\\\"relative\\\"})):(e.extend(i,{position:t.css(\\\"position\\\"),zIndex:t.css(\\\"z-index\\\")}),e.each([\\\"top\\\",\\\"left\\\",\\\"bottom\\\",\\\"right\\\"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]=\\\"auto\\\")}),t.css({position:\\\"relative\\\",top:0,left:0,right:\\\"auto\\\",bottom:\\\"auto\\\"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;\\nreturn t.parent().is(\\\".ui-effects-wrapper\\\")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(\\\":hidden\\\")?\\\"hide\\\"===r:\\\"show\\\"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||\\\"fx\\\",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode=\\\"show\\\",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode=\\\"hide\\\",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||\\\"boolean\\\"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode=\\\"toggle\\\",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each([\\\"em\\\",\\\"px\\\",\\\"%\\\",\\\"pt\\\"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each([\\\"Quad\\\",\\\"Cubic\\\",\\\"Quart\\\",\\\"Quint\\\",\\\"Expo\\\"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing[\\\"easeIn\\\"+t]=i,e.easing[\\\"easeOut\\\"+t]=function(e){return 1-i(1-e)},e.easing[\\\"easeInOut\\\"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],u=e.effects.setMode(o,t.mode||\\\"hide\\\"),d=t.direction||\\\"up\\\",c=r.test(d),p=c?\\\"height\\\":\\\"width\\\",f=c?\\\"top\\\":\\\"left\\\",m=h.test(d),g={},v=\\\"show\\\"===u;o.parent().is(\\\".ui-effects-wrapper\\\")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:\\\"hidden\\\"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?\\\"bottom\\\":\\\"right\\\",0).css(c?\\\"top\\\":\\\"left\\\",\\\"auto\\\").css({position:\\\"absolute\\\"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){\\\"hide\\\"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],h=e.effects.setMode(o,t.mode||\\\"effect\\\"),l=\\\"hide\\\"===h,u=\\\"show\\\"===h,d=t.direction||\\\"up\\\",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v=\\\"up\\\"===d||\\\"down\\\"===d?\\\"top\\\":\\\"left\\\",y=\\\"up\\\"===d||\\\"left\\\"===d,b=o.queue(),_=b.length;for((u||l)&&r.push(\\\"opacity\\\"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o[\\\"top\\\"===v?\\\"outerHeight\\\":\\\"outerWidth\\\"]()/3),u&&(a={opacity:1},a[v]=0,o.css(\\\"opacity\\\",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?\\\"-=\\\":\\\"+=\\\")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?\\\"-=\\\":\\\"+=\\\")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],h=e.effects.setMode(o,t.mode||\\\"hide\\\"),l=\\\"show\\\"===h,u=t.direction||\\\"vertical\\\",d=\\\"vertical\\\"===u,c=d?\\\"height\\\":\\\"width\\\",p=d?\\\"top\\\":\\\"left\\\",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:\\\"hidden\\\"}),n=\\\"IMG\\\"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"opacity\\\",\\\"height\\\",\\\"width\\\"],o=e.effects.setMode(n,t.mode||\\\"hide\\\"),r=\\\"show\\\"===o,h=t.direction||\\\"left\\\",l=\\\"up\\\"===h||\\\"down\\\"===h?\\\"top\\\":\\\"left\\\",u=\\\"up\\\"===h||\\\"left\\\"===h?\\\"pos\\\":\\\"neg\\\",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n[\\\"top\\\"===l?\\\"outerHeight\\\":\\\"outerWidth\\\"](!0)/2,r&&n.css(\\\"opacity\\\",0).css(l,\\\"pos\\\"===u?-s:s),d[l]=(r?\\\"pos\\\"===u?\\\"+=\\\":\\\"-=\\\":\\\"pos\\\"===u?\\\"-=\\\":\\\"+=\\\")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){\\\"hide\\\"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:\\\"visible\\\"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||\\\"hide\\\"),m=\\\"show\\\"===f,g=p.show().css(\\\"visibility\\\",\\\"hidden\\\").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo(\\\"body\\\").wrap(\\\"<div></div>\\\").css({position:\\\"absolute\\\",visibility:\\\"visible\\\",left:-o*v,top:-a*y}).parent().addClass(\\\"ui-effects-explode\\\").css({position:\\\"absolute\\\",overflow:\\\"hidden\\\",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||\\\"toggle\\\");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],r=e.effects.setMode(a,t.mode||\\\"hide\\\"),h=\\\"show\\\"===r,l=\\\"hide\\\"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?[\\\"width\\\",\\\"height\\\"]:[\\\"height\\\",\\\"width\\\"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:\\\"hidden\\\"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=[\\\"backgroundImage\\\",\\\"backgroundColor\\\",\\\"opacity\\\"],a=e.effects.setMode(s,t.mode||\\\"show\\\"),o={backgroundColor:s.css(\\\"backgroundColor\\\")};\\\"hide\\\"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:\\\"none\\\",backgroundColor:t.color||\\\"#ffff99\\\"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){\\\"hide\\\"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"width\\\",\\\"height\\\",\\\"overflow\\\",\\\"opacity\\\"],h=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"overflow\\\",\\\"opacity\\\"],l=[\\\"width\\\",\\\"height\\\",\\\"overflow\\\"],u=[\\\"fontSize\\\"],d=[\\\"borderTopWidth\\\",\\\"borderBottomWidth\\\",\\\"paddingTop\\\",\\\"paddingBottom\\\"],c=[\\\"borderLeftWidth\\\",\\\"borderRightWidth\\\",\\\"paddingLeft\\\",\\\"paddingRight\\\"],p=e.effects.setMode(o,t.mode||\\\"effect\\\"),f=t.restore||\\\"effect\\\"!==p,m=t.scale||\\\"both\\\",g=t.origin||[\\\"middle\\\",\\\"center\\\"],v=o.css(\\\"position\\\"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};\\\"show\\\"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},\\\"toggle\\\"===t.mode&&\\\"show\\\"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||(\\\"show\\\"===p?b:s),o.to=t.to||(\\\"hide\\\"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},(\\\"box\\\"===m||\\\"both\\\"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),(\\\"content\\\"===m||\\\"both\\\"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css(\\\"overflow\\\",\\\"hidden\\\").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),(\\\"content\\\"===m||\\\"both\\\"===m)&&(d=d.concat([\\\"marginTop\\\",\\\"marginBottom\\\"]).concat(u),c=c.concat([\\\"marginLeft\\\",\\\"marginRight\\\"]),l=r.concat(d).concat(c),o.find(\\\"*[width]\\\").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css(\\\"opacity\\\",o.from.opacity),\\\"hide\\\"===p&&o.hide(),e.effects.restore(o,y),f||(\\\"static\\\"===v?o.css({position:\\\"relative\\\",top:o.to.top,left:o.to.left}):e.each([\\\"top\\\",\\\"left\\\"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return\\\"auto\\\"===i?n+\\\"px\\\":s+n+\\\"px\\\"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||\\\"effect\\\"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:\\\"hide\\\"===a?0:100),r=t.direction||\\\"both\\\",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:\\\"horizontal\\\"!==r?o/100:1,x:\\\"vertical\\\"!==r?o/100:1};n.effect=\\\"size\\\",n.queue=!1,n.complete=i,\\\"effect\\\"!==a&&(n.origin=h||[\\\"middle\\\",\\\"center\\\"],n.restore=!0),n.from=t.from||(\\\"show\\\"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&(\\\"show\\\"===a&&(n.from.opacity=0,n.to.opacity=1),\\\"hide\\\"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||\\\"hide\\\"),a=\\\"hide\\\"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:\\\"scale\\\",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||\\\"show\\\"),o=\\\"show\\\"===a,r=\\\"hide\\\"===a,h=o||\\\"hide\\\"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(\\\":visible\\\"))&&(n.css(\\\"opacity\\\",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],o=e.effects.setMode(n,t.mode||\\\"effect\\\"),r=t.direction||\\\"left\\\",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c=\\\"up\\\"===r||\\\"down\\\"===r?\\\"top\\\":\\\"left\\\",p=\\\"up\\\"===r||\\\"left\\\"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?\\\"-=\\\":\\\"+=\\\")+h,m[c]=(p?\\\"+=\\\":\\\"-=\\\")+2*h,g[c]=(p?\\\"-=\\\":\\\"+=\\\")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){\\\"hide\\\"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"width\\\",\\\"height\\\"],o=e.effects.setMode(n,t.mode||\\\"show\\\"),r=\\\"show\\\"===o,h=t.direction||\\\"left\\\",l=\\\"up\\\"===h||\\\"down\\\"===h?\\\"top\\\":\\\"left\\\",u=\\\"up\\\"===h||\\\"left\\\"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n[\\\"top\\\"===l?\\\"outerHeight\\\":\\\"outerWidth\\\"](!0),e.effects.createWrapper(n).css({overflow:\\\"hidden\\\"}),r&&n.css(l,u?isNaN(s)?\\\"-\\\"+s:-s:s),d[l]=(r?u?\\\"+=\\\":\\\"-=\\\":u?\\\"-=\\\":\\\"+=\\\")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){\\\"hide\\\"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a=\\\"fixed\\\"===n.css(\\\"position\\\"),o=e(\\\"body\\\"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e(\\\"<div class='ui-effects-transfer'></div>\\\").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?\\\"fixed\\\":\\\"absolute\\\"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}});\"\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(26))\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"// This [jQuery](http://jquery.com/) plugin implements an `<iframe>`\\n// [transport](http://api.jquery.com/extending-ajax/#Transports) so that\\n// `$.ajax()` calls support the uploading of files using standard HTML file\\n// input fields. This is done by switching the exchange from `XMLHttpRequest`\\n// to a hidden `iframe` element containing a form that is submitted.\\n\\n// The [source for the plugin](http://github.com/cmlenz/jquery-iframe-transport)\\n// is available on [Github](http://github.com/) and dual licensed under the MIT\\n// or GPL Version 2 licenses.\\n\\n// ## Usage\\n\\n// To use this plugin, you simply add an `iframe` option with the value `true`\\n// to the Ajax settings an `$.ajax()` call, and specify the file fields to\\n// include in the submssion using the `files` option, which can be a selector,\\n// jQuery object, or a list of DOM elements containing one or more\\n// `<input type=\\\"file\\\">` elements:\\n\\n//     $(\\\"#myform\\\").submit(function() {\\n//         $.ajax(this.action, {\\n//             files: $(\\\":file\\\", this),\\n//             iframe: true\\n//         }).complete(function(data) {\\n//             console.log(data);\\n//         });\\n//     });\\n\\n// The plugin will construct a hidden `<iframe>` element containing a copy of\\n// the form the file field belongs to, will disable any form fields not\\n// explicitly included, submit that form, and process the response.\\n\\n// If you want to include other form fields in the form submission, include\\n// them in the `data` option, and set the `processData` option to `false`:\\n\\n//     $(\\\"#myform\\\").submit(function() {\\n//         $.ajax(this.action, {\\n//             data: $(\\\":text\\\", this).serializeArray(),\\n//             files: $(\\\":file\\\", this),\\n//             iframe: true,\\n//             processData: false\\n//         }).complete(function(data) {\\n//             console.log(data);\\n//         });\\n//     });\\n\\n// ### Response Data Types\\n\\n// As the transport does not have access to the HTTP headers of the server\\n// response, it is not as simple to make use of the automatic content type\\n// detection provided by jQuery as with regular XHR. If you can't set the\\n// expected response data type (for example because it may vary), you will\\n// need to employ a workaround on the server side: Send back an HTML document\\n// containing just a `<textarea>` element with a `data-type` attribute that\\n// specifies the MIME type, and put the actual payload in the textarea:\\n\\n//     <textarea data-type=\\\"application/json\\\">\\n//       {\\\"ok\\\": true, \\\"message\\\": \\\"Thanks so much\\\"}\\n//     </textarea>\\n\\n// The iframe transport plugin will detect this and pass the value of the\\n// `data-type` attribute on to jQuery as if it was the \\\"Content-Type\\\" response\\n// header, thereby enabling the same kind of conversions that jQuery applies\\n// to regular responses. For the example above you should get a Javascript\\n// object as the `data` parameter of the `complete` callback, with the\\n// properties `ok: true` and `message: \\\"Thanks so much\\\"`.\\n\\n// ### Handling Server Errors\\n\\n// Another problem with using an `iframe` for file uploads is that it is\\n// impossible for the javascript code to determine the HTTP status code of the\\n// servers response. Effectively, all of the calls you make will look like they\\n// are getting successful responses, and thus invoke the `done()` or\\n// `complete()` callbacks. You can only determine communicate problems using\\n// the content of the response payload. For example, consider using a JSON\\n// response such as the following to indicate a problem with an uploaded file:\\n\\n//     <textarea data-type=\\\"application/json\\\">\\n//       {\\\"ok\\\": false, \\\"message\\\": \\\"Please only upload reasonably sized files.\\\"}\\n//     </textarea>\\n\\n// ### Compatibility\\n\\n// This plugin has primarily been tested on Safari 5 (or later), Firefox 4 (or\\n// later), and Internet Explorer (all the way back to version 6). While I\\n// haven't found any issues with it so far, I'm fairly sure it still doesn't\\n// work around all the quirks in all different browsers. But the code is still\\n// pretty simple overall, so you should be able to fix it and contribute a\\n// patch :)\\n\\n// ## Annotated Source\\n\\n(function($, undefined) {\\n  \\\"use strict\\\";\\n\\n  // Register a prefilter that checks whether the `iframe` option is set, and\\n  // switches to the \\\"iframe\\\" data type if it is `true`.\\n  $.ajaxPrefilter(function(options, origOptions, jqXHR) {\\n    if (options.iframe) {\\n      return \\\"iframe\\\";\\n    }\\n  });\\n\\n  // Register a transport for the \\\"iframe\\\" data type. It will only activate\\n  // when the \\\"files\\\" option has been set to a non-empty list of enabled file\\n  // inputs.\\n  $.ajaxTransport(\\\"iframe\\\", function(options, origOptions, jqXHR) {\\n    var form = null,\\n        iframe = null,\\n        name = \\\"iframe-\\\" + $.now(),\\n        files = $(options.files).filter(\\\":file:enabled\\\"),\\n        markers = null;\\n\\n    // This function gets called after a successful submission or an abortion\\n    // and should revert all changes made to the page to enable the\\n    // submission via this transport.\\n    function cleanUp() {\\n      markers.replaceWith(function(idx) {\\n        return files.get(idx);\\n      });\\n      form.remove();\\n      iframe.attr(\\\"src\\\", \\\"javascript:false;\\\").remove();\\n    }\\n\\n    // Remove \\\"iframe\\\" from the data types list so that further processing is\\n    // based on the content type returned by the server, without attempting an\\n    // (unsupported) conversion from \\\"iframe\\\" to the actual type.\\n    options.dataTypes.shift();\\n\\n    if (files.length) {\\n      form = $(\\\"<form enctype='multipart/form-data' method='post'></form>\\\").\\n        hide().attr({action: options.url, target: name});\\n\\n      // If there is any additional data specified via the `data` option,\\n      // we add it as hidden fields to the form. This (currently) requires\\n      // the `processData` option to be set to false so that the data doesn't\\n      // get serialized to a string.\\n      if (typeof(options.data) === \\\"string\\\" && options.data.length > 0) {\\n        $.error(\\\"data must not be serialized\\\");\\n      }\\n      $.each(options.data || {}, function(name, value) {\\n        if ($.isPlainObject(value)) {\\n          name = value.name;\\n          value = value.value;\\n        }\\n        $(\\\"<input type='hidden'>\\\").attr({name:  name, value: value}).\\n          appendTo(form);\\n      });\\n\\n      // Add a hidden `X-Requested-With` field with the value `IFrame` to the\\n      // field, to help server-side code to determine that the upload happened\\n      // through this transport.\\n      $(\\\"<input type='hidden' value='IFrame' name='X-Requested-With'>\\\").\\n        appendTo(form);\\n\\n      // Move the file fields into the hidden form, but first remember their\\n      // original locations in the document by replacing them with disabled\\n      // clones. This should also avoid introducing unwanted changes to the\\n      // page layout during submission.\\n      markers = files.after(function(idx) {\\n        return $(this).clone().prop(\\\"disabled\\\", true);\\n      }).next();\\n      files.appendTo(form);\\n\\n      return {\\n\\n        // The `send` function is called by jQuery when the request should be\\n        // sent.\\n        send: function(headers, completeCallback) {\\n          iframe = $(\\\"<iframe src='javascript:false;' name='\\\" + name +\\n            \\\"' style='display:none'></iframe>\\\");\\n\\n          // The first load event gets fired after the iframe has been injected\\n          // into the DOM, and is used to prepare the actual submission.\\n          iframe.bind(\\\"load\\\", function() {\\n\\n            // The second load event gets fired when the response to the form\\n            // submission is received. The implementation detects whether the\\n            // actual payload is embedded in a `<textarea>` element, and\\n            // prepares the required conversions to be made in that case.\\n            iframe.unbind(\\\"load\\\").bind(\\\"load\\\", function() {\\n              var doc = this.contentWindow ? this.contentWindow.document :\\n                (this.contentDocument ? this.contentDocument : this.document),\\n                root = doc.documentElement ? doc.documentElement : doc.body,\\n                textarea = root.getElementsByTagName(\\\"textarea\\\")[0],\\n                type = textarea ? textarea.getAttribute(\\\"data-type\\\") : null,\\n                content = {\\n                  html: root.innerHTML,\\n                  text: type ?\\n                    textarea.value :\\n                    root ? (root.innerText || root.textContent) : null\\n                };\\n              cleanUp();\\n              completeCallback(200, \\\"OK\\\", content, type ?\\n                (\\\"Content-Type: \\\" + type) :\\n                null);\\n            });\\n\\n            // Now that the load handler has been set up, submit the form.\\n            form[0].submit();\\n          });\\n\\n          // After everything has been set up correctly, the form and iframe\\n          // get injected into the DOM so that the submission can be\\n          // initiated.\\n          $(\\\"body\\\").append(form, iframe);\\n        },\\n\\n        // The `abort` function is called by jQuery when the request should be\\n        // aborted.\\n        abort: function() {\\n          if (iframe !== null) {\\n            iframe.unbind(\\\"load\\\").attr(\\\"src\\\", \\\"javascript:false;\\\");\\n            cleanUp();\\n          }\\n        }\\n\\n      };\\n    }\\n  });\\n\\n})(jQuery);\"\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(28))\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/*\\n * Your installation or use of this SugarCRM file is subject to the applicable\\n * terms available at\\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\\n * If you do not agree to all of the applicable terms or do not have the\\n * authority to bind the entity as an authorized representative, then do not\\n * install or use this SugarCRM file.\\n *\\n * Copyright (C) SugarCRM Inc. All rights reserved.\\n */\\nfunction version_compare (v1, v2, operator) {\\n  // http://kevin.vanzonneveld.net\\n  // +      original by: Philippe Jausions (http://pear.php.net/user/jausions)\\n  // +      original by: Aidan Lister (http://aidanlister.com/)\\n  // + reimplemented by: Kankrelune (http://www.webfaktory.info/)\\n  // +      improved by: Brett Zamir (http://brett-zamir.me)\\n  // +      improved by: Scott Baker\\n  // +      improved by: Theriault\\n  // *        example 1: version_compare('8.2.5rc', '8.2.5a');\\n  // *        returns 1: 1\\n  // *        example 2: version_compare('8.2.50', '8.2.52', '<');\\n  // *        returns 2: true\\n  // *        example 3: version_compare('5.3.0-dev', '5.3.0');\\n  // *        returns 3: -1\\n  // *        example 4: version_compare('4.1.0.52','4.01.0.51');\\n  // *        returns 4: 1\\n  // BEGIN REDUNDANT\\n  this.php_js = this.php_js || {};\\n  this.php_js.ENV = this.php_js.ENV || {};\\n  // END REDUNDANT\\n  // Important: compare must be initialized at 0.\\n  var i = 0,\\n    x = 0,\\n    compare = 0,\\n    // vm maps textual PHP versions to negatives so they're less than 0.\\n    // PHP currently defines these as CASE-SENSITIVE. It is important to\\n    // leave these as negatives so that they can come before numerical versions\\n    // and as if no letters were there to begin with.\\n    // (1alpha is < 1 and < 1.1 but > 1dev1)\\n    // If a non-numerical value can't be mapped to this table, it receives\\n    // -7 as its value.\\n    vm = {\\n      'dev': -6,\\n      'alpha': -5,\\n      'a': -5,\\n      'beta': -4,\\n      'b': -4,\\n      'RC': -3,\\n      'rc': -3,\\n      '#': -2,\\n      'p': -1,\\n      'pl': -1\\n    },\\n    // This function will be called to prepare each version argument.\\n    // It replaces every _, -, and + with a dot.\\n    // It surrounds any nonsequence of numbers/dots with dots.\\n    // It replaces sequences of dots with a single dot.\\n    //    version_compare('4..0', '4.0') == 0\\n    // Important: A string of 0 length needs to be converted into a value\\n    // even less than an unexisting value in vm (-7), hence [-8].\\n    // It's also important to not strip spaces because of this.\\n    //   version_compare('', ' ') == 1\\n    prepVersion = function (v) {\\n      v = ('' + v).replace(/[_\\\\-+]/g, '.');\\n      v = v.replace(/([^.\\\\d]+)/g, '.$1.').replace(/\\\\.{2,}/g, '.');\\n      return (!v.length ? [-8] : v.split('.'));\\n    },\\n    // This converts a version component to a number.\\n    // Empty component becomes 0.\\n    // Non-numerical component becomes a negative number.\\n    // Numerical component becomes itself as an integer.\\n    numVersion = function (v) {\\n      return !v ? 0 : (isNaN(v) ? vm[v] || -7 : parseInt(v, 10));\\n    };\\n  v1 = prepVersion(v1);\\n  v2 = prepVersion(v2);\\n  x = Math.max(v1.length, v2.length);\\n  for (i = 0; i < x; i++) {\\n    if (v1[i] == v2[i]) {\\n      continue;\\n    }\\n    v1[i] = numVersion(v1[i]);\\n    v2[i] = numVersion(v2[i]);\\n    if (v1[i] < v2[i]) {\\n      compare = -1;\\n      break;\\n    } else if (v1[i] > v2[i]) {\\n      compare = 1;\\n      break;\\n    }\\n  }\\n  if (!operator) {\\n    return compare;\\n  }\\n\\n  // Important: operator is CASE-SENSITIVE.\\n  // \\\"No operator\\\" seems to be treated as \\\"<.\\\"\\n  // Any other values seem to make the function return null.\\n  switch (operator) {\\n  case '>':\\n  case 'gt':\\n    return (compare > 0);\\n  case '>=':\\n  case 'ge':\\n    return (compare >= 0);\\n  case '<=':\\n  case 'le':\\n    return (compare <= 0);\\n  case '==':\\n  case '=':\\n  case 'eq':\\n    return (compare === 0);\\n  case '<>':\\n  case '!=':\\n  case 'ne':\\n    return (compare !== 0);\\n  case '':\\n  case '<':\\n  case 'lt':\\n    return (compare < 0);\\n  default:\\n    return null;\\n  }\\n}\\n\"\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(3)(__webpack_require__(30))\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"/* big.js v3.1.3 https://github.com/MikeMcl/big.js/LICENCE */\\r\\n;(function (global) {\\r\\n    'use strict';\\r\\n\\r\\n/*\\r\\n  big.js v3.1.3\\r\\n  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\\r\\n  https://github.com/MikeMcl/big.js/\\r\\n  Copyright (c) 2014 Michael Mclaughlin <M8ch88l@gmail.com>\\r\\n  MIT Expat Licence\\r\\n*/\\r\\n\\r\\n/***************************** EDITABLE DEFAULTS ******************************/\\r\\n\\r\\n    // The default values below must be integers within the stated ranges.\\r\\n\\r\\n    /*\\r\\n     * The maximum number of decimal places of the results of operations\\r\\n     * involving division: div and sqrt, and pow with negative exponents.\\r\\n     */\\r\\n    var DP = 20,                           // 0 to MAX_DP\\r\\n\\r\\n        /*\\r\\n         * The rounding mode used when rounding to the above decimal places.\\r\\n         *\\r\\n         * 0 Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\\r\\n         * 1 To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\\r\\n         * 2 To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\\r\\n         * 3 Away from zero.                                  (ROUND_UP)\\r\\n         */\\r\\n        RM = 1,                            // 0, 1, 2 or 3\\r\\n\\r\\n        // The maximum value of DP and Big.DP.\\r\\n        MAX_DP = 1E6,                      // 0 to 1000000\\r\\n\\r\\n        // The maximum magnitude of the exponent argument to the pow method.\\r\\n        MAX_POWER = 1E6,                   // 1 to 1000000\\r\\n\\r\\n        /*\\r\\n         * The exponent value at and beneath which toString returns exponential\\r\\n         * notation.\\r\\n         * JavaScript's Number type: -7\\r\\n         * -1000000 is the minimum recommended exponent value of a Big.\\r\\n         */\\r\\n        E_NEG = -7,                   // 0 to -1000000\\r\\n\\r\\n        /*\\r\\n         * The exponent value at and above which toString returns exponential\\r\\n         * notation.\\r\\n         * JavaScript's Number type: 21\\r\\n         * 1000000 is the maximum recommended exponent value of a Big.\\r\\n         * (This limit is not enforced or checked.)\\r\\n         */\\r\\n        E_POS = 21,                   // 0 to 1000000\\r\\n\\r\\n/******************************************************************************/\\r\\n\\r\\n        // The shared prototype object.\\r\\n        P = {},\\r\\n        isValid = /^-?(\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)(e[+-]?\\\\d+)?$/i,\\r\\n        Big;\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Create and return a Big constructor.\\r\\n     *\\r\\n     */\\r\\n    function bigFactory() {\\r\\n\\r\\n        /*\\r\\n         * The Big constructor and exported function.\\r\\n         * Create and return a new instance of a Big number object.\\r\\n         *\\r\\n         * n {number|string|Big} A numeric value.\\r\\n         */\\r\\n        function Big(n) {\\r\\n            var x = this;\\r\\n\\r\\n            // Enable constructor usage without new.\\r\\n            if (!(x instanceof Big)) {\\r\\n                return n === void 0 ? bigFactory() : new Big(n);\\r\\n            }\\r\\n\\r\\n            // Duplicate.\\r\\n            if (n instanceof Big) {\\r\\n                x.s = n.s;\\r\\n                x.e = n.e;\\r\\n                x.c = n.c.slice();\\r\\n            } else {\\r\\n                parse(x, n);\\r\\n            }\\r\\n\\r\\n            /*\\r\\n             * Retain a reference to this Big constructor, and shadow\\r\\n             * Big.prototype.constructor which points to Object.\\r\\n             */\\r\\n            x.constructor = Big;\\r\\n        }\\r\\n\\r\\n        Big.prototype = P;\\r\\n        Big.DP = DP;\\r\\n        Big.RM = RM;\\r\\n        Big.E_NEG = E_NEG;\\r\\n        Big.E_POS = E_POS;\\r\\n\\r\\n        return Big;\\r\\n    }\\r\\n\\r\\n\\r\\n    // Private functions\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of Big x in normal or exponential\\r\\n     * notation to dp fixed decimal places or significant digits.\\r\\n     *\\r\\n     * x {Big} The Big to format.\\r\\n     * dp {number} Integer, 0 to MAX_DP inclusive.\\r\\n     * toE {number} 1 (toExponential), 2 (toPrecision) or undefined (toFixed).\\r\\n     */\\r\\n    function format(x, dp, toE) {\\r\\n        var Big = x.constructor,\\r\\n\\r\\n            // The index (normal notation) of the digit that may be rounded up.\\r\\n            i = dp - (x = new Big(x)).e,\\r\\n            c = x.c;\\r\\n\\r\\n        // Round?\\r\\n        if (c.length > ++dp) {\\r\\n            rnd(x, i, Big.RM);\\r\\n        }\\r\\n\\r\\n        if (!c[0]) {\\r\\n            ++i;\\r\\n        } else if (toE) {\\r\\n            i = dp;\\r\\n\\r\\n        // toFixed\\r\\n        } else {\\r\\n            c = x.c;\\r\\n\\r\\n            // Recalculate i as x.e may have changed if value rounded up.\\r\\n            i = x.e + i + 1;\\r\\n        }\\r\\n\\r\\n        // Append zeros?\\r\\n        for (; c.length < i; c.push(0)) {\\r\\n        }\\r\\n        i = x.e;\\r\\n\\r\\n        /*\\r\\n         * toPrecision returns exponential notation if the number of\\r\\n         * significant digits specified is less than the number of digits\\r\\n         * necessary to represent the integer part of the value in normal\\r\\n         * notation.\\r\\n         */\\r\\n        return toE === 1 || toE && (dp <= i || i <= Big.E_NEG) ?\\r\\n\\r\\n          // Exponential notation.\\r\\n          (x.s < 0 && c[0] ? '-' : '') +\\r\\n            (c.length > 1 ? c[0] + '.' + c.join('').slice(1) : c[0]) +\\r\\n              (i < 0 ? 'e' : 'e+') + i\\r\\n\\r\\n          // Normal notation.\\r\\n          : x.toString();\\r\\n    }\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Parse the number or string value passed to a Big constructor.\\r\\n     *\\r\\n     * x {Big} A Big number instance.\\r\\n     * n {number|string} A numeric value.\\r\\n     */\\r\\n    function parse(x, n) {\\r\\n        var e, i, nL;\\r\\n\\r\\n        // Minus zero?\\r\\n        if (n === 0 && 1 / n < 0) {\\r\\n            n = '-0';\\r\\n\\r\\n        // Ensure n is string and check validity.\\r\\n        } else if (!isValid.test(n += '')) {\\r\\n            throwErr(NaN);\\r\\n        }\\r\\n\\r\\n        // Determine sign.\\r\\n        x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\\r\\n\\r\\n        // Decimal point?\\r\\n        if ((e = n.indexOf('.')) > -1) {\\r\\n            n = n.replace('.', '');\\r\\n        }\\r\\n\\r\\n        // Exponential form?\\r\\n        if ((i = n.search(/e/i)) > 0) {\\r\\n\\r\\n            // Determine exponent.\\r\\n            if (e < 0) {\\r\\n                e = i;\\r\\n            }\\r\\n            e += +n.slice(i + 1);\\r\\n            n = n.substring(0, i);\\r\\n\\r\\n        } else if (e < 0) {\\r\\n\\r\\n            // Integer.\\r\\n            e = n.length;\\r\\n        }\\r\\n\\r\\n        // Determine leading zeros.\\r\\n        for (i = 0; n.charAt(i) == '0'; i++) {\\r\\n        }\\r\\n\\r\\n        if (i == (nL = n.length)) {\\r\\n\\r\\n            // Zero.\\r\\n            x.c = [ x.e = 0 ];\\r\\n        } else {\\r\\n\\r\\n            // Determine trailing zeros.\\r\\n            for (; n.charAt(--nL) == '0';) {\\r\\n            }\\r\\n\\r\\n            x.e = e - i - 1;\\r\\n            x.c = [];\\r\\n\\r\\n            // Convert string to array of digits without leading/trailing zeros.\\r\\n            for (e = 0; i <= nL; x.c[e++] = +n.charAt(i++)) {\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return x;\\r\\n    }\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Round Big x to a maximum of dp decimal places using rounding mode rm.\\r\\n     * Called by div, sqrt and round.\\r\\n     *\\r\\n     * x {Big} The Big to round.\\r\\n     * dp {number} Integer, 0 to MAX_DP inclusive.\\r\\n     * rm {number} 0, 1, 2 or 3 (DOWN, HALF_UP, HALF_EVEN, UP)\\r\\n     * [more] {boolean} Whether the result of division was truncated.\\r\\n     */\\r\\n    function rnd(x, dp, rm, more) {\\r\\n        var u,\\r\\n            xc = x.c,\\r\\n            i = x.e + dp + 1;\\r\\n\\r\\n        if (rm === 1) {\\r\\n\\r\\n            // xc[i] is the digit after the digit that may be rounded up.\\r\\n            more = xc[i] >= 5;\\r\\n        } else if (rm === 2) {\\r\\n            more = xc[i] > 5 || xc[i] == 5 &&\\r\\n              (more || i < 0 || xc[i + 1] !== u || xc[i - 1] & 1);\\r\\n        } else if (rm === 3) {\\r\\n            more = more || xc[i] !== u || i < 0;\\r\\n        } else {\\r\\n            more = false;\\r\\n\\r\\n            if (rm !== 0) {\\r\\n                throwErr('!Big.RM!');\\r\\n            }\\r\\n        }\\r\\n\\r\\n        if (i < 1 || !xc[0]) {\\r\\n\\r\\n            if (more) {\\r\\n\\r\\n                // 1, 0.1, 0.01, 0.001, 0.0001 etc.\\r\\n                x.e = -dp;\\r\\n                x.c = [1];\\r\\n            } else {\\r\\n\\r\\n                // Zero.\\r\\n                x.c = [x.e = 0];\\r\\n            }\\r\\n        } else {\\r\\n\\r\\n            // Remove any digits after the required decimal places.\\r\\n            xc.length = i--;\\r\\n\\r\\n            // Round up?\\r\\n            if (more) {\\r\\n\\r\\n                // Rounding up may mean the previous digit has to be rounded up.\\r\\n                for (; ++xc[i] > 9;) {\\r\\n                    xc[i] = 0;\\r\\n\\r\\n                    if (!i--) {\\r\\n                        ++x.e;\\r\\n                        xc.unshift(1);\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n\\r\\n            // Remove trailing zeros.\\r\\n            for (i = xc.length; !xc[--i]; xc.pop()) {\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return x;\\r\\n    }\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Throw a BigError.\\r\\n     *\\r\\n     * message {string} The error message.\\r\\n     */\\r\\n    function throwErr(message) {\\r\\n        var err = new Error(message);\\r\\n        err.name = 'BigError';\\r\\n\\r\\n        throw err;\\r\\n    }\\r\\n\\r\\n\\r\\n    // Prototype/instance methods\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the absolute value of this Big.\\r\\n     */\\r\\n    P.abs = function () {\\r\\n        var x = new this.constructor(this);\\r\\n        x.s = 1;\\r\\n\\r\\n        return x;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return\\r\\n     * 1 if the value of this Big is greater than the value of Big y,\\r\\n     * -1 if the value of this Big is less than the value of Big y, or\\r\\n     * 0 if they have the same value.\\r\\n    */\\r\\n    P.cmp = function (y) {\\r\\n        var xNeg,\\r\\n            x = this,\\r\\n            xc = x.c,\\r\\n            yc = (y = new x.constructor(y)).c,\\r\\n            i = x.s,\\r\\n            j = y.s,\\r\\n            k = x.e,\\r\\n            l = y.e;\\r\\n\\r\\n        // Either zero?\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n            return !xc[0] ? !yc[0] ? 0 : -j : i;\\r\\n        }\\r\\n\\r\\n        // Signs differ?\\r\\n        if (i != j) {\\r\\n            return i;\\r\\n        }\\r\\n        xNeg = i < 0;\\r\\n\\r\\n        // Compare exponents.\\r\\n        if (k != l) {\\r\\n            return k > l ^ xNeg ? 1 : -1;\\r\\n        }\\r\\n\\r\\n        i = -1;\\r\\n        j = (k = xc.length) < (l = yc.length) ? k : l;\\r\\n\\r\\n        // Compare digit by digit.\\r\\n        for (; ++i < j;) {\\r\\n\\r\\n            if (xc[i] != yc[i]) {\\r\\n                return xc[i] > yc[i] ^ xNeg ? 1 : -1;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // Compare lengths.\\r\\n        return k == l ? 0 : k > l ^ xNeg ? 1 : -1;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big divided by the\\r\\n     * value of Big y, rounded, if necessary, to a maximum of Big.DP decimal\\r\\n     * places using rounding mode Big.RM.\\r\\n     */\\r\\n    P.div = function (y) {\\r\\n        var x = this,\\r\\n            Big = x.constructor,\\r\\n            // dividend\\r\\n            dvd = x.c,\\r\\n            //divisor\\r\\n            dvs = (y = new Big(y)).c,\\r\\n            s = x.s == y.s ? 1 : -1,\\r\\n            dp = Big.DP;\\r\\n\\r\\n        if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\\r\\n            throwErr('!Big.DP!');\\r\\n        }\\r\\n\\r\\n        // Either 0?\\r\\n        if (!dvd[0] || !dvs[0]) {\\r\\n\\r\\n            // If both are 0, throw NaN\\r\\n            if (dvd[0] == dvs[0]) {\\r\\n                throwErr(NaN);\\r\\n            }\\r\\n\\r\\n            // If dvs is 0, throw +-Infinity.\\r\\n            if (!dvs[0]) {\\r\\n                throwErr(s / 0);\\r\\n            }\\r\\n\\r\\n            // dvd is 0, return +-0.\\r\\n            return new Big(s * 0);\\r\\n        }\\r\\n\\r\\n        var dvsL, dvsT, next, cmp, remI, u,\\r\\n            dvsZ = dvs.slice(),\\r\\n            dvdI = dvsL = dvs.length,\\r\\n            dvdL = dvd.length,\\r\\n            // remainder\\r\\n            rem = dvd.slice(0, dvsL),\\r\\n            remL = rem.length,\\r\\n            // quotient\\r\\n            q = y,\\r\\n            qc = q.c = [],\\r\\n            qi = 0,\\r\\n            digits = dp + (q.e = x.e - y.e) + 1;\\r\\n\\r\\n        q.s = s;\\r\\n        s = digits < 0 ? 0 : digits;\\r\\n\\r\\n        // Create version of divisor with leading zero.\\r\\n        dvsZ.unshift(0);\\r\\n\\r\\n        // Add zeros to make remainder as long as divisor.\\r\\n        for (; remL++ < dvsL; rem.push(0)) {\\r\\n        }\\r\\n\\r\\n        do {\\r\\n\\r\\n            // 'next' is how many times the divisor goes into current remainder.\\r\\n            for (next = 0; next < 10; next++) {\\r\\n\\r\\n                // Compare divisor and remainder.\\r\\n                if (dvsL != (remL = rem.length)) {\\r\\n                    cmp = dvsL > remL ? 1 : -1;\\r\\n                } else {\\r\\n\\r\\n                    for (remI = -1, cmp = 0; ++remI < dvsL;) {\\r\\n\\r\\n                        if (dvs[remI] != rem[remI]) {\\r\\n                            cmp = dvs[remI] > rem[remI] ? 1 : -1;\\r\\n                            break;\\r\\n                        }\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                // If divisor < remainder, subtract divisor from remainder.\\r\\n                if (cmp < 0) {\\r\\n\\r\\n                    // Remainder can't be more than 1 digit longer than divisor.\\r\\n                    // Equalise lengths using divisor with extra leading zero?\\r\\n                    for (dvsT = remL == dvsL ? dvs : dvsZ; remL;) {\\r\\n\\r\\n                        if (rem[--remL] < dvsT[remL]) {\\r\\n                            remI = remL;\\r\\n\\r\\n                            for (; remI && !rem[--remI]; rem[remI] = 9) {\\r\\n                            }\\r\\n                            --rem[remI];\\r\\n                            rem[remL] += 10;\\r\\n                        }\\r\\n                        rem[remL] -= dvsT[remL];\\r\\n                    }\\r\\n                    for (; !rem[0]; rem.shift()) {\\r\\n                    }\\r\\n                } else {\\r\\n                    break;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            // Add the 'next' digit to the result array.\\r\\n            qc[qi++] = cmp ? next : ++next;\\r\\n\\r\\n            // Update the remainder.\\r\\n            if (rem[0] && cmp) {\\r\\n                rem[remL] = dvd[dvdI] || 0;\\r\\n            } else {\\r\\n                rem = [ dvd[dvdI] ];\\r\\n            }\\r\\n\\r\\n        } while ((dvdI++ < dvdL || rem[0] !== u) && s--);\\r\\n\\r\\n        // Leading zero? Do not remove if result is simply zero (qi == 1).\\r\\n        if (!qc[0] && qi != 1) {\\r\\n\\r\\n            // There can't be more than one zero.\\r\\n            qc.shift();\\r\\n            q.e--;\\r\\n        }\\r\\n\\r\\n        // Round?\\r\\n        if (qi > digits) {\\r\\n            rnd(q, dp, Big.RM, rem[0] !== u);\\r\\n        }\\r\\n\\r\\n        return q;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is equal to the value of Big y,\\r\\n     * otherwise returns false.\\r\\n     */\\r\\n    P.eq = function (y) {\\r\\n        return !this.cmp(y);\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is greater than the value of Big y,\\r\\n     * otherwise returns false.\\r\\n     */\\r\\n    P.gt = function (y) {\\r\\n        return this.cmp(y) > 0;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is greater than or equal to the\\r\\n     * value of Big y, otherwise returns false.\\r\\n     */\\r\\n    P.gte = function (y) {\\r\\n        return this.cmp(y) > -1;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is less than the value of Big y,\\r\\n     * otherwise returns false.\\r\\n     */\\r\\n    P.lt = function (y) {\\r\\n        return this.cmp(y) < 0;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is less than or equal to the value\\r\\n     * of Big y, otherwise returns false.\\r\\n     */\\r\\n    P.lte = function (y) {\\r\\n         return this.cmp(y) < 1;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big minus the value\\r\\n     * of Big y.\\r\\n     */\\r\\n    P.sub = P.minus = function (y) {\\r\\n        var i, j, t, xLTy,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            a = x.s,\\r\\n            b = (y = new Big(y)).s;\\r\\n\\r\\n        // Signs differ?\\r\\n        if (a != b) {\\r\\n            y.s = -b;\\r\\n            return x.plus(y);\\r\\n        }\\r\\n\\r\\n        var xc = x.c.slice(),\\r\\n            xe = x.e,\\r\\n            yc = y.c,\\r\\n            ye = y.e;\\r\\n\\r\\n        // Either zero?\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n\\r\\n            // y is non-zero? x is non-zero? Or both are zero.\\r\\n            return yc[0] ? (y.s = -b, y) : new Big(xc[0] ? x : 0);\\r\\n        }\\r\\n\\r\\n        // Determine which is the bigger number.\\r\\n        // Prepend zeros to equalise exponents.\\r\\n        if (a = xe - ye) {\\r\\n\\r\\n            if (xLTy = a < 0) {\\r\\n                a = -a;\\r\\n                t = xc;\\r\\n            } else {\\r\\n                ye = xe;\\r\\n                t = yc;\\r\\n            }\\r\\n\\r\\n            t.reverse();\\r\\n            for (b = a; b--; t.push(0)) {\\r\\n            }\\r\\n            t.reverse();\\r\\n        } else {\\r\\n\\r\\n            // Exponents equal. Check digit by digit.\\r\\n            j = ((xLTy = xc.length < yc.length) ? xc : yc).length;\\r\\n\\r\\n            for (a = b = 0; b < j; b++) {\\r\\n\\r\\n                if (xc[b] != yc[b]) {\\r\\n                    xLTy = xc[b] < yc[b];\\r\\n                    break;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // x < y? Point xc to the array of the bigger number.\\r\\n        if (xLTy) {\\r\\n            t = xc;\\r\\n            xc = yc;\\r\\n            yc = t;\\r\\n            y.s = -y.s;\\r\\n        }\\r\\n\\r\\n        /*\\r\\n         * Append zeros to xc if shorter. No need to add zeros to yc if shorter\\r\\n         * as subtraction only needs to start at yc.length.\\r\\n         */\\r\\n        if (( b = (j = yc.length) - (i = xc.length) ) > 0) {\\r\\n\\r\\n            for (; b--; xc[i++] = 0) {\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // Subtract yc from xc.\\r\\n        for (b = i; j > a;){\\r\\n\\r\\n            if (xc[--j] < yc[j]) {\\r\\n\\r\\n                for (i = j; i && !xc[--i]; xc[i] = 9) {\\r\\n                }\\r\\n                --xc[i];\\r\\n                xc[j] += 10;\\r\\n            }\\r\\n            xc[j] -= yc[j];\\r\\n        }\\r\\n\\r\\n        // Remove trailing zeros.\\r\\n        for (; xc[--b] === 0; xc.pop()) {\\r\\n        }\\r\\n\\r\\n        // Remove leading zeros and adjust exponent accordingly.\\r\\n        for (; xc[0] === 0;) {\\r\\n            xc.shift();\\r\\n            --ye;\\r\\n        }\\r\\n\\r\\n        if (!xc[0]) {\\r\\n\\r\\n            // n - n = +0\\r\\n            y.s = 1;\\r\\n\\r\\n            // Result must be zero.\\r\\n            xc = [ye = 0];\\r\\n        }\\r\\n\\r\\n        y.c = xc;\\r\\n        y.e = ye;\\r\\n\\r\\n        return y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big modulo the\\r\\n     * value of Big y.\\r\\n     */\\r\\n    P.mod = function (y) {\\r\\n        var yGTx,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            a = x.s,\\r\\n            b = (y = new Big(y)).s;\\r\\n\\r\\n        if (!y.c[0]) {\\r\\n            throwErr(NaN);\\r\\n        }\\r\\n\\r\\n        x.s = y.s = 1;\\r\\n        yGTx = y.cmp(x) == 1;\\r\\n        x.s = a;\\r\\n        y.s = b;\\r\\n\\r\\n        if (yGTx) {\\r\\n            return new Big(x);\\r\\n        }\\r\\n\\r\\n        a = Big.DP;\\r\\n        b = Big.RM;\\r\\n        Big.DP = Big.RM = 0;\\r\\n        x = x.div(y);\\r\\n        Big.DP = a;\\r\\n        Big.RM = b;\\r\\n\\r\\n        return this.minus( x.times(y) );\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big plus the value\\r\\n     * of Big y.\\r\\n     */\\r\\n    P.add = P.plus = function (y) {\\r\\n        var t,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            a = x.s,\\r\\n            b = (y = new Big(y)).s;\\r\\n\\r\\n        // Signs differ?\\r\\n        if (a != b) {\\r\\n            y.s = -b;\\r\\n            return x.minus(y);\\r\\n        }\\r\\n\\r\\n        var xe = x.e,\\r\\n            xc = x.c,\\r\\n            ye = y.e,\\r\\n            yc = y.c;\\r\\n\\r\\n        // Either zero?\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n\\r\\n            // y is non-zero? x is non-zero? Or both are zero.\\r\\n            return yc[0] ? y : new Big(xc[0] ? x : a * 0);\\r\\n        }\\r\\n        xc = xc.slice();\\r\\n\\r\\n        // Prepend zeros to equalise exponents.\\r\\n        // Note: Faster to use reverse then do unshifts.\\r\\n        if (a = xe - ye) {\\r\\n\\r\\n            if (a > 0) {\\r\\n                ye = xe;\\r\\n                t = yc;\\r\\n            } else {\\r\\n                a = -a;\\r\\n                t = xc;\\r\\n            }\\r\\n\\r\\n            t.reverse();\\r\\n            for (; a--; t.push(0)) {\\r\\n            }\\r\\n            t.reverse();\\r\\n        }\\r\\n\\r\\n        // Point xc to the longer array.\\r\\n        if (xc.length - yc.length < 0) {\\r\\n            t = yc;\\r\\n            yc = xc;\\r\\n            xc = t;\\r\\n        }\\r\\n        a = yc.length;\\r\\n\\r\\n        /*\\r\\n         * Only start adding at yc.length - 1 as the further digits of xc can be\\r\\n         * left as they are.\\r\\n         */\\r\\n        for (b = 0; a;) {\\r\\n            b = (xc[--a] = xc[a] + yc[a] + b) / 10 | 0;\\r\\n            xc[a] %= 10;\\r\\n        }\\r\\n\\r\\n        // No need to check for zero, as +x + +y != 0 && -x + -y != 0\\r\\n\\r\\n        if (b) {\\r\\n            xc.unshift(b);\\r\\n            ++ye;\\r\\n        }\\r\\n\\r\\n         // Remove trailing zeros.\\r\\n        for (a = xc.length; xc[--a] === 0; xc.pop()) {\\r\\n        }\\r\\n\\r\\n        y.c = xc;\\r\\n        y.e = ye;\\r\\n\\r\\n        return y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a Big whose value is the value of this Big raised to the power n.\\r\\n     * If n is negative, round, if necessary, to a maximum of Big.DP decimal\\r\\n     * places using rounding mode Big.RM.\\r\\n     *\\r\\n     * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\\r\\n     */\\r\\n    P.pow = function (n) {\\r\\n        var x = this,\\r\\n            one = new x.constructor(1),\\r\\n            y = one,\\r\\n            isNeg = n < 0;\\r\\n\\r\\n        if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\\r\\n            throwErr('!pow!');\\r\\n        }\\r\\n\\r\\n        n = isNeg ? -n : n;\\r\\n\\r\\n        for (;;) {\\r\\n\\r\\n            if (n & 1) {\\r\\n                y = y.times(x);\\r\\n            }\\r\\n            n >>= 1;\\r\\n\\r\\n            if (!n) {\\r\\n                break;\\r\\n            }\\r\\n            x = x.times(x);\\r\\n        }\\r\\n\\r\\n        return isNeg ? one.div(y) : y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big rounded to a\\r\\n     * maximum of dp decimal places using rounding mode rm.\\r\\n     * If dp is not specified, round to 0 decimal places.\\r\\n     * If rm is not specified, use Big.RM.\\r\\n     *\\r\\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\\r\\n     * [rm] 0, 1, 2 or 3 (ROUND_DOWN, ROUND_HALF_UP, ROUND_HALF_EVEN, ROUND_UP)\\r\\n     */\\r\\n    P.round = function (dp, rm) {\\r\\n        var x = this,\\r\\n            Big = x.constructor;\\r\\n\\r\\n        if (dp == null) {\\r\\n            dp = 0;\\r\\n        } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\\r\\n            throwErr('!round!');\\r\\n        }\\r\\n        rnd(x = new Big(x), dp, rm == null ? Big.RM : rm);\\r\\n\\r\\n        return x;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the square root of the value of this Big,\\r\\n     * rounded, if necessary, to a maximum of Big.DP decimal places using\\r\\n     * rounding mode Big.RM.\\r\\n     */\\r\\n    P.sqrt = function () {\\r\\n        var estimate, r, approx,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            xc = x.c,\\r\\n            i = x.s,\\r\\n            e = x.e,\\r\\n            half = new Big('0.5');\\r\\n\\r\\n        // Zero?\\r\\n        if (!xc[0]) {\\r\\n            return new Big(x);\\r\\n        }\\r\\n\\r\\n        // If negative, throw NaN.\\r\\n        if (i < 0) {\\r\\n            throwErr(NaN);\\r\\n        }\\r\\n\\r\\n        // Estimate.\\r\\n        i = Math.sqrt(x.toString());\\r\\n\\r\\n        // Math.sqrt underflow/overflow?\\r\\n        // Pass x to Math.sqrt as integer, then adjust the result exponent.\\r\\n        if (i === 0 || i === 1 / 0) {\\r\\n            estimate = xc.join('');\\r\\n\\r\\n            if (!(estimate.length + e & 1)) {\\r\\n                estimate += '0';\\r\\n            }\\r\\n\\r\\n            r = new Big( Math.sqrt(estimate).toString() );\\r\\n            r.e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\\r\\n        } else {\\r\\n            r = new Big(i.toString());\\r\\n        }\\r\\n\\r\\n        i = r.e + (Big.DP += 4);\\r\\n\\r\\n        // Newton-Raphson iteration.\\r\\n        do {\\r\\n            approx = r;\\r\\n            r = half.times( approx.plus( x.div(approx) ) );\\r\\n        } while ( approx.c.slice(0, i).join('') !==\\r\\n                       r.c.slice(0, i).join('') );\\r\\n\\r\\n        rnd(r, Big.DP -= 4, Big.RM);\\r\\n\\r\\n        return r;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big times the value of\\r\\n     * Big y.\\r\\n     */\\r\\n    P.mul = P.times = function (y) {\\r\\n        var c,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            xc = x.c,\\r\\n            yc = (y = new Big(y)).c,\\r\\n            a = xc.length,\\r\\n            b = yc.length,\\r\\n            i = x.e,\\r\\n            j = y.e;\\r\\n\\r\\n        // Determine sign of result.\\r\\n        y.s = x.s == y.s ? 1 : -1;\\r\\n\\r\\n        // Return signed 0 if either 0.\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n            return new Big(y.s * 0);\\r\\n        }\\r\\n\\r\\n        // Initialise exponent of result as x.e + y.e.\\r\\n        y.e = i + j;\\r\\n\\r\\n        // If array xc has fewer digits than yc, swap xc and yc, and lengths.\\r\\n        if (a < b) {\\r\\n            c = xc;\\r\\n            xc = yc;\\r\\n            yc = c;\\r\\n            j = a;\\r\\n            a = b;\\r\\n            b = j;\\r\\n        }\\r\\n\\r\\n        // Initialise coefficient array of result with zeros.\\r\\n        for (c = new Array(j = a + b); j--; c[j] = 0) {\\r\\n        }\\r\\n\\r\\n        // Multiply.\\r\\n\\r\\n        // i is initially xc.length.\\r\\n        for (i = b; i--;) {\\r\\n            b = 0;\\r\\n\\r\\n            // a is yc.length.\\r\\n            for (j = a + i; j > i;) {\\r\\n\\r\\n                // Current sum of products at this digit position, plus carry.\\r\\n                b = c[j] + yc[i] * xc[j - i - 1] + b;\\r\\n                c[j--] = b % 10;\\r\\n\\r\\n                // carry\\r\\n                b = b / 10 | 0;\\r\\n            }\\r\\n            c[j] = (c[j] + b) % 10;\\r\\n        }\\r\\n\\r\\n        // Increment result exponent if there is a final carry.\\r\\n        if (b) {\\r\\n            ++y.e;\\r\\n        }\\r\\n\\r\\n        // Remove any leading zero.\\r\\n        if (!c[0]) {\\r\\n            c.shift();\\r\\n        }\\r\\n\\r\\n        // Remove trailing zeros.\\r\\n        for (i = c.length; !c[--i]; c.pop()) {\\r\\n        }\\r\\n        y.c = c;\\r\\n\\r\\n        return y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big.\\r\\n     * Return exponential notation if this Big has a positive exponent equal to\\r\\n     * or greater than Big.E_POS, or a negative exponent equal to or less than\\r\\n     * Big.E_NEG.\\r\\n     */\\r\\n    P.toString = P.valueOf = P.toJSON = function () {\\r\\n        var x = this,\\r\\n            Big = x.constructor,\\r\\n            e = x.e,\\r\\n            str = x.c.join(''),\\r\\n            strL = str.length;\\r\\n\\r\\n        // Exponential notation?\\r\\n        if (e <= Big.E_NEG || e >= Big.E_POS) {\\r\\n            str = str.charAt(0) + (strL > 1 ? '.' + str.slice(1) : '') +\\r\\n              (e < 0 ? 'e' : 'e+') + e;\\r\\n\\r\\n        // Negative exponent?\\r\\n        } else if (e < 0) {\\r\\n\\r\\n            // Prepend zeros.\\r\\n            for (; ++e; str = '0' + str) {\\r\\n            }\\r\\n            str = '0.' + str;\\r\\n\\r\\n        // Positive exponent?\\r\\n        } else if (e > 0) {\\r\\n\\r\\n            if (++e > strL) {\\r\\n\\r\\n                // Append zeros.\\r\\n                for (e -= strL; e-- ; str += '0') {\\r\\n                }\\r\\n            } else if (e < strL) {\\r\\n                str = str.slice(0, e) + '.' + str.slice(e);\\r\\n            }\\r\\n\\r\\n        // Exponent zero.\\r\\n        } else if (strL > 1) {\\r\\n            str = str.charAt(0) + '.' + str.slice(1);\\r\\n        }\\r\\n\\r\\n        // Avoid '-0'\\r\\n        return x.s < 0 && x.c[0] ? '-' + str : str;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     ***************************************************************************\\r\\n     * If toExponential, toFixed, toPrecision and format are not required they\\r\\n     * can safely be commented-out or deleted. No redundant code will be left.\\r\\n     * format is used only by toExponential, toFixed and toPrecision.\\r\\n     ***************************************************************************\\r\\n     */\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big in exponential\\r\\n     * notation to dp fixed decimal places and rounded, if necessary, using\\r\\n     * Big.RM.\\r\\n     *\\r\\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\\r\\n     */\\r\\n    P.toExponential = function (dp) {\\r\\n\\r\\n        if (dp == null) {\\r\\n            dp = this.c.length - 1;\\r\\n        } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\\r\\n            throwErr('!toExp!');\\r\\n        }\\r\\n\\r\\n        return format(this, dp, 1);\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big in normal notation\\r\\n     * to dp fixed decimal places and rounded, if necessary, using Big.RM.\\r\\n     *\\r\\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\\r\\n     */\\r\\n    P.toFixed = function (dp) {\\r\\n        var str,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            neg = Big.E_NEG,\\r\\n            pos = Big.E_POS;\\r\\n\\r\\n        // Prevent the possibility of exponential notation.\\r\\n        Big.E_NEG = -(Big.E_POS = 1 / 0);\\r\\n\\r\\n        if (dp == null) {\\r\\n            str = x.toString();\\r\\n        } else if (dp === ~~dp && dp >= 0 && dp <= MAX_DP) {\\r\\n            str = format(x, x.e + dp);\\r\\n\\r\\n            // (-0).toFixed() is '0', but (-0.1).toFixed() is '-0'.\\r\\n            // (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\\r\\n            if (x.s < 0 && x.c[0] && str.indexOf('-') < 0) {\\r\\n        //E.g. -0.5 if rounded to -0 will cause toString to omit the minus sign.\\r\\n                str = '-' + str;\\r\\n            }\\r\\n        }\\r\\n        Big.E_NEG = neg;\\r\\n        Big.E_POS = pos;\\r\\n\\r\\n        if (!str) {\\r\\n            throwErr('!toFix!');\\r\\n        }\\r\\n\\r\\n        return str;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big rounded to sd\\r\\n     * significant digits using Big.RM. Use exponential notation if sd is less\\r\\n     * than the number of digits necessary to represent the integer part of the\\r\\n     * value in normal notation.\\r\\n     *\\r\\n     * sd {number} Integer, 1 to MAX_DP inclusive.\\r\\n     */\\r\\n    P.toPrecision = function (sd) {\\r\\n\\r\\n        if (sd == null) {\\r\\n            return this.toString();\\r\\n        } else if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\\r\\n            throwErr('!toPre!');\\r\\n        }\\r\\n\\r\\n        return format(this, sd - 1, 2);\\r\\n    };\\r\\n\\r\\n\\r\\n    // Export\\r\\n\\r\\n\\r\\n    Big = bigFactory();\\r\\n\\r\\n    //AMD.\\r\\n    if (typeof define === 'function' && define.amd) {\\r\\n        define(function () {\\r\\n            return Big;\\r\\n        });\\r\\n\\r\\n    // Node and other CommonJS-like environments that support module.exports.\\r\\n    } else if (typeof module !== 'undefined' && module.exports) {\\r\\n        module.exports = Big;\\r\\n\\r\\n    //Browser.\\r\\n    } else {\\r\\n        global.Big = Big;\\r\\n    }\\r\\n})(this);\\r\\n\"\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\tvar SUGAR = window.SUGAR;\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/*;\n\t * SugarCRM Javascript API\n\t */\n\t\n\t//create the SUGAR namespace if one does not exist already\n\tvar SUGAR = SUGAR || {};\n\t\n\t/**\n\t * SugarCRM Javascript API allows users to interact with SugarCRM instance via its REST interface.\n\t *\n\t * Use {@link SUGAR.Api#getInstance} method to create instances of Sugar API.\n\t * This method accepts arguments object with the following properties:\n\t * <pre>\n\t * {\n\t *   serverUrl: Sugar REST URL end-point\n\t *   platform: platform name (\"portal\", \"mobile\", etc.)\n\t *   keyValueStore: reference to key/value store provider used to read/save auth token from/to\n\t *   timeout: request timeout in seconds\n\t * }\n\t * </pre>\n\t *\n\t * The key/value store provider must implement three methods:\n\t * <pre><code>\n\t *   set: void function(String key, String value)\n\t *   get: String function(key)\n\t *   cut: void function(String key)\n\t * </code></pre>\n\t * The authentication tokens are kept in memory if the key/value store is not specified.\n\t *\n\t * Most of Sugar API methods accept `callbacks` object:\n\t * <pre>\n\t * {\n\t *   success: function(data) { },\n\t *   error: function(error) { },\n\t *   complete: function() { },\n\t * }\n\t * </pre>\n\t *\n\t * @class SUGAR.Api\n\t * @singleton\n\t */\n\tSUGAR.Api = (function() {\n\t    var _instance;\n\t    var _methodsToRequest = {\n\t            'read': 'GET',\n\t            'update': 'PUT',\n\t            'create': 'POST',\n\t            'delete': 'DELETE'\n\t        };\n\t    var _baseActions = ['read', 'update', 'create', 'delete'];\n\t    var _numCallsInProgress = 0;\n\t    var _refreshTokenSuccess = function(c) {c();};\n\t    var _bulkQueues = { };\n\t    var _state = { };\n\t\n\t    var HttpError = function(request, textStatus, errorThrown) {\n\t\n\t        request = request || {};\n\t        request.xhr = request.xhr || {};\n\t\n\t        /**\n\t         * AJAX request that caused the error.\n\t         * @property {SUGAR.HttpRequest}\n\t         * @member SUGAR.HttpError\n\t         */\n\t        this.request = request;\n\t\n\t        /**\n\t         * XHR status code.\n\t         * @property {string|number}\n\t         * @member SUGAR.HttpError\n\t         */\n\t        this.status = request.xhr.status;\n\t\n\t        /**\n\t         * XHR response text.\n\t         * @property {String}\n\t         * @member SUGAR.HttpError\n\t         */\n\t        this.responseText = request.xhr.responseText;\n\t\n\t        /**\n\t         * String describing the type of error that occurred.\n\t         *\n\t         * Possible values (besides null) are `\"timeout\"`, `\"error\"`, `\"abort\"`, and `\"parsererror\"`.\n\t         * @property {String}\n\t         * @member SUGAR.HttpError\n\t         */\n\t        this.textStatus = textStatus;\n\t\n\t        /**\n\t         * Textual portion of the HTTP status when HTTP error occurs.\n\t         *\n\t         * For example, `\"Not Found\"` or `\"Internal Server Error\"`.\n\t         * @property {String}\n\t         * @member SUGAR.HttpError\n\t         */\n\t        this.errorThrown = errorThrown;\n\t\n\t        // The response will not be always a JSON string\n\t\n\t        if (typeof(this.responseText) === 'string' && this.responseText.length > 0) {\n\t            try {\n\t                var contentType = this.request.xhr.getResponseHeader('Content-Type');\n\t                if (contentType && (contentType.indexOf('application/json') === 0)) {\n\t                    this.payload = JSON.parse(this.responseText);\n\t                    /**\n\t                     * Error code.\n\t                     *\n\t                     * Additional failure information. See SugarCRM REST API\n\t                     * documentation for a full list of error codes.\n\t                     * @property {String}\n\t                     * @member SUGAR.HttpError\n\t                     */\n\t                    this.code = this.payload.error;\n\t\n\t                    /**\n\t                     * Error message.\n\t                     *\n\t                     * Localized message appropriate for display to end user.\n\t                     * @property {String}\n\t                     * @member SUGAR.HttpError\n\t                     */\n\t                    this.message = this.payload.error_message;\n\t                }\n\t            }\n\t            catch (e) {\n\t                // Ignore this error\n\t            }\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Represents AJAX error.\n\t     *\n\t     * See Jquery/Zepto documentation for details.\n\t     *\n\t     * - http://api.jquery.com/jQuery.ajax/\n\t     * - http://zeptojs.com/#$.ajax\n\t     *\n\t     * @class SUGAR.HttpError\n\t     */\n\t    _.extend(HttpError.prototype, {\n\t\n\t        /**\n\t         * Returns string representation of HTTP error.\n\t         * @return {String} HTTP error as a string.\n\t         * @member SUGAR.HttpError\n\t         */\n\t        toString: function() {\n\t            return 'HTTP error: ' + this.status +\n\t                '\\ntype: ' + this.textStatus +\n\t                '\\nerror: ' + this.errorThrown +\n\t                '\\nresponse: ' + this.responseText +\n\t                '\\ncode: ' + this.code +\n\t                '\\nmessage: ' + this.message;\n\t        }\n\t\n\t    });\n\t\n\t    var HttpRequest = function(params, debug) {\n\t        /**\n\t         * Request parameters.\n\t         *\n\t         * See Jquery/Zepto documentation for details.\n\t         *\n\t         * - http://api.jquery.com/jQuery.ajax/\n\t         * - http://zeptojs.com/#$.ajax\n\t         *\n\t         * @property {Object}\n\t         * @member SUGAR.HttpRequest\n\t         */\n\t        this.params = params; // TODO: Consider cloning\n\t\n\t        /**\n\t         * Flag indicating that a request must output debug information.\n\t         * @property {Boolean}\n\t         * @member SUGAR.HttpRequest\n\t         */\n\t        this.debug = debug;\n\t\n\t        /**\n\t         * Number of times this request was executed.\n\t         * @property {Number}\n\t         * @member SUGAR.HttpRequest\n\t         */\n\t        this.numExecuted = 0;\n\t\n\t        /**\n\t         * The state object is used to store global enviroment conditions that may be relevent\n\t         * when processing this request but would not be passed to the server.\n\t         *\n\t         * @property {Object}\n\t         * @member SUGAR.HttpRequest\n\t         */\n\t        this.state = {};\n\t    };\n\t\n\t    /**\n\t     * Represents AJAX request.\n\t     *\n\t     * Encapsulates XHR object and AJAX parameters.\n\t     * @class SUGAR.HttpRequest\n\t     *\n\t     */\n\t    _.extend(HttpRequest.prototype, {\n\t\n\t        /**\n\t         * Executes AJAX request.\n\t         * @param {string} token OAuth token. Must not be supplied for login\n\t         *   type requests.\n\t         * @param {string} mdHash current private metadata hash, used to\n\t         *   validate the client metadata against the server.\n\t         * @param {string} upHash Current User preferences hash, used to\n\t         *   validate the client user pref data against the server.\n\t         */\n\t        execute: function(token, mdHash, upHash) {\n\t            if (token) {\n\t                this.params.headers = this.params.headers || {};\n\t                this.params.headers['OAuth-Token'] = token;\n\t            }\n\t            if (mdHash) {\n\t                this.params.headers = this.params.headers || {};\n\t                this.params.headers['X-Metadata-Hash'] = mdHash;\n\t            }\n\t            if (upHash) {\n\t                this.params.headers = this.params.headers || {};\n\t                this.params.headers['X-Userpref-Hash'] = upHash;\n\t            }\n\t\n\t            //The state object is used to store global enviroment conditions that may be relevent\n\t            //when processing this request but would not be passed to the server.\n\t            this.state = _.extend(this.state, _state);\n\t\n\t            if (this.debug) {\n\t                console.log('====== Ajax Request Begin ======');\n\t                console.log(this.params.type + ' ' + this.params.url);\n\t                var parsedData = this.params.data ? JSON.parse(this.params.data) : null;\n\t                if (parsedData && parsedData.password) parsedData.password = '***';\n\t                console.log('Payload: ', this.params.data ? parsedData : 'N/A');\n\t                var p = $.extend({}, this.params);\n\t                delete p.data;\n\t                console.log('params: ', p);\n\t                console.log('====== Request End ======');\n\t            }\n\t            //In order to keep track of the number of ajax call in the air, we will add\n\t            //a complete callback.\n\t            // Do it only on the first run. No need to set this logic on subsequent execute calls.\n\t            if (!this.numExecuted) {\n\t                var origCallback = this.params.complete;\n\t                this.params.complete = function() {\n\t                    _numCallsInProgress--;\n\t                    if (_.isFunction(origCallback))\n\t                        origCallback.apply(this, arguments);\n\t                };\n\t            }\n\t\n\t            /**\n\t             * XmlHttpRequest object.\n\t             * @property {Object}\n\t             * @member SUGAR.HttpRequest\n\t             */\n\t            this.xhr = $.ajax(this.params);\n\t\n\t            _numCallsInProgress++;\n\t            this.numExecuted++;\n\t        }\n\t\n\t    });\n\t\n\t    /**\n\t     * Fake jqXHR object because bulk calls do not have their own individual XHR requests\n\t     * @param {object} result object returned from the BulkAPI\n\t     * @param {string|number} [result.status=200] The response status.\n\t     * @param {Object} [result.status=200] The response headers.\n\t     * @param {Object} [result.contents={}] The response contents.\n\t     * @param {SUGAR.HttpRequest} parentReq bulk API request that this request is a part of.\n\t     */\n\t    var bulkXHR = function(result, parentReq) {\n\t        var contents = result.contents || {};\n\t\n\t        this.status = result.status || 200;\n\t        this.statusText = result.status_text || '';\n\t        this.responseText = _.isObject(contents) ? JSON.stringify(contents) : contents;\n\t        this.readyState = 4;\n\t        this._parent = parentReq.xhr;\n\t        this.headers = result.headers;\n\t    };\n\t\n\t    _.extend(bulkXHR.prototype, {\n\t        isResolved: function() {\n\t            return this._parent.isResolved();\n\t        },\n\t        getResponseHeader: function(h) {\n\t            return this.headers[h];\n\t        },\n\t        getAllResponseHeaders: function() {\n\t            return _.reduce(this.headers, function(str, value, key) {\n\t                return str.concat(key + ': ' + value + '\\n');\n\t            }, '');\n\t        }\n\t    });\n\t\n\t    function SugarApi(args) {\n\t        var _serverUrl,\n\t            _platform,\n\t            _keyValueStore,\n\t            _clientID,\n\t            _timeout,\n\t            _refreshingToken,\n\t            _defaultErrorHandler,\n\t            _externalLogin,\n\t            _allowBulk,\n\t            _externalLoginUICallback = null,\n\t            _accessToken = null,\n\t            _refreshToken = null,\n\t            _downloadToken = null,\n\t            // request queue\n\t            // used to support multiple request while in refresh token loop\n\t            _rqueue = [],\n\t            // dictionary of currently executed requests (keys are IDs)\n\t            _requests = {},\n\t            // request unique ID (counter)\n\t            _ruid = 0;\n\t\n\t        // if no key/value store is provided, the auth token is kept in memory\n\t        _keyValueStore = args && args.keyValueStore;\n\t        _serverUrl = (args && args.serverUrl) || '/rest/v10';\n\t        // there will only be a fallback default error handler if provided here\n\t        _defaultErrorHandler = (args && args.defaultErrorHandler) || null;\n\t        _platform = (args && args.platform) || '';\n\t        _clientID = (args && args.clientID) || 'sugar';\n\t        _timeout = ((args && args.timeout) || 30) * 1000;\n\t        _externalLogin = false;\n\t        _allowBulk = !(args && args.disableBulkApi);\n\t\n\t        if (args && args.externalLoginUICallback && _.isFunction(args.externalLoginUICallback)) {\n\t            _externalLoginUICallback = args.externalLoginUICallback;\n\t        }\n\t\n\t        if (_keyValueStore) {\n\t            if (!$.isFunction(_keyValueStore.set) ||\n\t                !$.isFunction(_keyValueStore.get) ||\n\t                !$.isFunction(_keyValueStore.cut))\n\t            {\n\t                throw new Error('Failed to initialize Sugar API: key/value store provider is invalid');\n\t            }\n\t\n\t            var init = function() {\n\t                _accessToken = _keyValueStore.get('AuthAccessToken');\n\t                _refreshToken = _keyValueStore.get('AuthRefreshToken');\n\t                _downloadToken = _keyValueStore.get('DownloadToken');\n\t            };\n\t\n\t            if ($.isFunction(_keyValueStore.initAsync)) {\n\t                _keyValueStore.initAsync(init);\n\t            } else {\n\t                init();\n\t            }\n\t\n\t            if ($.isFunction(_keyValueStore.on)) {\n\t                _keyValueStore.on('cache:clean', function(callback) {\n\t                    callback(['AuthAccessToken', 'AuthRefreshToken', 'DownloadToken']);\n\t                });\n\t            }\n\t        }\n\t\n\t        _refreshingToken = false;\n\t\n\t        if (args && args.reset) _numCallsInProgress = 0;\n\t\n\t        var _resetAuth = function(data) {\n\t            // data is the response from the server\n\t            if (data) {\n\t                _accessToken = data.access_token;\n\t                _refreshToken = data.refresh_token;\n\t                _downloadToken = data.download_token;\n\t                if (_keyValueStore) {\n\t                    _keyValueStore.set('AuthAccessToken', _accessToken);\n\t                    _keyValueStore.set('AuthRefreshToken', _refreshToken);\n\t                    _keyValueStore.set('DownloadToken', _downloadToken);\n\t                }\n\t            } else {\n\t                _accessToken = null;\n\t                _refreshToken = null;\n\t                _downloadToken = null;\n\t                if (_keyValueStore) {\n\t                    _keyValueStore.cut('AuthAccessToken');\n\t                    _keyValueStore.cut('AuthRefreshToken');\n\t                    _keyValueStore.cut('DownloadToken');\n\t                }\n\t            }\n\t        };\n\t\n\t        var _handleErrorAndRefreshToken = function(self, request, callbacks) {\n\t            return function(xhr, textStatus, errorThrown) {\n\t                var error = new HttpError(request, textStatus, errorThrown);\n\t                var onError = function() {\n\t                    // Either regular request failed or token refresh failed\n\t                    // Call original error callback\n\t                    if (!_rqueue.length || self.refreshingToken(request.params.url)) {\n\t                        if (callbacks.error) {\n\t                            callbacks.error(error);\n\t                        }\n\t                        else if ($.isFunction(self.defaultErrorHandler)) {\n\t                            self.defaultErrorHandler(error);\n\t                        }\n\t                    } else {\n\t                        // Token refresh failed\n\t                        // Call original error callback for all queued requests\n\t                        for (var i = 0; i < _rqueue.length; ++i) {\n\t                            if (_rqueue[i]._oerror) _rqueue[i]._oerror(error);\n\t                        }\n\t                    }\n\t                    // duplicated due to other types of authentication\n\t                    self.setRefreshingToken(false);\n\t                };\n\t\n\t                var r, refreshFailed = true;\n\t                if (self.needRefreshAuthToken(request.params.url, error.code)) {\n\t                    //If we were unloading the queue when we got another 401, we should stop before we get into a loop\n\t                    if (request._dequeuing) {\n\t                        if (request._oerror) request._oerror(error);\n\t                        //The tokens we have are bad, nuke them.\n\t                        self.resetAuth();\n\t                        return;\n\t                    }\n\t                    _rqueue.push(request);\n\t\n\t                    self.setRefreshingToken(true);\n\t\n\t                    var refreshCallbacks = {\n\t                        complete: function() {\n\t\n\t                            // Call original complete callback for all queued requests\n\t                            // only if token refresh failed\n\t                            // In case of requests succeed, complete callback is called by ajax lib\n\t                            if (refreshFailed) {\n\t                                r = _rqueue.shift();\n\t                                while (r) {\n\t                                    if (r._ocomplete) {\n\t                                        r._ocomplete.call(this, r);\n\t                                    }\n\t                                    r = _rqueue.shift();\n\t                                }\n\t                            }\n\t                        },\n\t                        success: function() {\n\t                            self.setRefreshingToken(false);\n\t                            refreshFailed = false;\n\t                            _refreshTokenSuccess(function() {\n\t                                // Repeat original requests\n\t                                r = _rqueue.shift();\n\t                                while (r) {\n\t                                    r._dequeuing = true;\n\t                                    r.execute(self.getOAuthToken());\n\t                                    r = _rqueue.shift();\n\t                                }\n\t                            });\n\t                        },\n\t                        error: onError\n\t                    };\n\t\n\t                    if (!('crosstab' in window) || !crosstab.supported) {\n\t                        self.login(null, {refresh: true}, {\n\t                            complete: refreshCallbacks.complete,\n\t                            success: refreshCallbacks.success,\n\t                            error: refreshCallbacks.error\n\t                        });\n\t                        return;\n\t                    }\n\t\n\t                    crosstab(function() {\n\t                        crosstab.on('auth:refresh:complete', function(event) {\n\t                            var status = event.data;\n\t                            switch (status) {\n\t                                case 'success':\n\t                                    refreshCallbacks.success();\n\t                                    break;\n\t                                case 'error':\n\t                                    refreshCallbacks.error();\n\t                                    break;\n\t                                case 'complete':\n\t                                    refreshCallbacks.complete();\n\t                                    crosstab.off('auth:refresh:complete');\n\t                                    break;\n\t                            }\n\t                        });\n\t\n\t                        crosstab.broadcastMaster('auth:refresh');\n\t                    });\n\t\n\t                } else if (self.needQueue(request.params.url)) {\n\t                    // Queue subsequent request to execute it after token refresh completes\n\t                    _rqueue.push(request);\n\t                } else if (_externalLogin && error.status == 401 && error.payload &&\n\t                    error.payload.url && error.payload.platform == _platform\n\t                ) {\n\t                    self.handleExternalLogin(request, error, onError);\n\t                } else {\n\t                    onError();\n\t                }\n\t            };\n\t        };\n\t\n\t\n\t        return {\n\t            /**\n\t             * Client Id for oAuth\n\t             * @property {String}\n\t             * @member SUGAR.Api\n\t             */\n\t            clientID: _clientID,\n\t\n\t            /**\n\t             * URL of Sugar REST end-point.\n\t             * @property {String}\n\t             * @member SUGAR.Api\n\t             */\n\t            serverUrl: _serverUrl,\n\t\n\t            /**\n\t             * Default fallback HTTP error handler. Used when api.call\n\t             * is not supplied with an error: function in callbacks parameter.\n\t             * @property {Function}\n\t             * @member SUGAR.Api\n\t             */\n\t            defaultErrorHandler: _defaultErrorHandler,\n\t\n\t            /**\n\t             * Request timeout (in milliseconds).\n\t             * @property {Number}\n\t             * @member SUGAR.Api\n\t             */\n\t            timeout: _timeout,\n\t\n\t            /**\n\t             * Flag indicating if API should run in debug mode (console debugging of API calls).\n\t             * @property {Boolean}\n\t             * @member SUGAR.Api\n\t             */\n\t            debug: false,\n\t\n\t            /**\n\t             * Aborts a request by ID\n\t             * @param {String} id Request ID\n\t             */\n\t            abortRequest: function(id) {\n\t                var request = _requests[id];\n\t\n\t                if (request) {\n\t                    request.aborted = true;\n\t                    if (request.xhr) {\n\t                        request.xhr.aborted = true;\n\t                        request.xhr.abort();\n\t                    }\n\t                }\n\t            },\n\t\n\t            /**\n\t             * Gets request by ID\n\t             * @param {String} id Request ID\n\t             */\n\t            getRequest: function(id) {\n\t                return _requests[id];\n\t            },\n\t\n\t            /**\n\t             * Sets the callback to be triggered after a token refresh occurs\n\t             * @param callback function to be called\n\t             */\n\t            setRefreshTokenSuccessCallback: function(callback) {\n\t                if (_.isFunction(callback))\n\t                    _refreshTokenSuccess = callback;\n\t            },\n\t\n\t            /**\n\t             * Makes AJAX call via jquery/zepto AJAX API.\n\t             *\n\t             * @param {string} method CRUD action to make (read, create, update,\n\t             *   delete) are mapped to corresponding HTTP verb: GET, POST, PUT, DELETE.\n\t             * @param {String} url resource URL.\n\t             * @param {Object} [data] data will be stringified into JSON and\n\t             *   set to request body.\n\t             * @param {Object} [callbacks] callbacks object.\n\t             * @param {Object} [options] options for request that map\n\t             *   directly to the jquery/zepto Ajax options.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @private\n\t             * @member SUGAR.Api\n\t             */\n\t            call: function(method, url, data, callbacks, options) {\n\t                var request,\n\t                    args,\n\t                    type = _methodsToRequest[method],\n\t                    self = this,\n\t                    token = this.getOAuthToken();\n\t\n\t                options = options || {};\n\t                callbacks = callbacks || {};\n\t\n\t                // by default use json headers\n\t                var params = {\n\t                    type: type,\n\t                    dataType: 'json',\n\t                    headers: {},\n\t                    timeout: options.timeout || this.timeout,\n\t                    contentType: 'application/json'\n\t                };\n\t\n\t                // if we dont have a url from options take arg url\n\t                if (!options.url) {\n\t                    params.url = url;\n\t                }\n\t\n\t                if (callbacks.success) {\n\t                    params.success = function(data, status) {\n\t                        /**\n\t                         * XHR status code.\n\t                         * @property {string|number}\n\t                         * @member SUGAR.HttpRequest\n\t                         */\n\t                        request.status = (data && data.status) ? data.status : status;\n\t                        callbacks.success(data, request);\n\t                    };\n\t                }\n\t\n\t                params.complete = function() {\n\t\n\t                    _requests[request.uid] = null;\n\t\n\t                    // Do not call complete callback if we are in token refresh loop\n\t                    // We'll call complete callback once the refresh completes\n\t                    if (!_refreshingToken && callbacks.complete) {\n\t                        callbacks.complete(request);\n\t                    }\n\t                };\n\t\n\t                //Process the iframe transport request\n\t                if (options.iframe === true) {\n\t                    if (token) {\n\t                        data = data || {};\n\t                        data['OAuth-Token'] = token;\n\t                        params.data = data;\n\t                    }\n\t                } else {\n\t                    // set data for create, update, and delete\n\t                    if (data && (method == 'create' || method == 'update' || method == 'delete')) {\n\t                        params.data = JSON.stringify(data);\n\t                    }\n\t                }\n\t\n\t                // Don't process data on a non-GET request.\n\t                if (params.type !== 'GET') {\n\t                    params.processData = false;\n\t                }\n\t\n\t                // Clients may override any of AJAX options.\n\t                request = new HttpRequest(_.extend(params, options), this.debug);\n\t                params.error = _handleErrorAndRefreshToken(self, request, callbacks);\n\t                // Keep original error and complete callback for token refresh loop\n\t                request._oerror = callbacks.error;\n\t                request._ocomplete = callbacks.complete;\n\t\n\t                //add request to requests hash\n\t                request.uid = _ruid++;\n\t                _requests[request.uid] = request;\n\t\n\t                args = [\n\t                    token,\n\t                    options.skipMetadataHash ? null : this.getMetadataHash(),\n\t                    options.skipMetadataHash ? null : this.getUserprefHash()\n\t                ];\n\t                // Login request doesn't need auth token\n\t                if (this.isLoginRequest(url)) {\n\t                    request.execute();\n\t                } else if (this.isAuthRequest(url)) {\n\t                    request.execute(token);\n\t                } else if (params.bulk && _allowBulk) {\n\t                    var bulkQueue = _bulkQueues[params.bulk] || [];\n\t                    if (!_bulkQueues[params.bulk]) {\n\t                        _bulkQueues[params.bulk] = bulkQueue;\n\t                    }\n\t                    bulkQueue.push({\n\t                        request: request,\n\t                        args: args\n\t                    });\n\t                } else {\n\t                    request.execute.apply(request, args);\n\t                }\n\t\n\t                return request;\n\t            },\n\t\n\t            /**\n\t             * Begins a BulkAPI request. Previous uses of call() should have\n\t             * options.bulk set to an ID.\n\t             * Calling triggerBulkCall with the same ID will combine all the\n\t             * previously queued requests into a single bulk call.\n\t             * @param {number|string} bulkId\n\t             * @member SUGAR.Api\n\t             */\n\t            triggerBulkCall: function(bulkId) {\n\t                if (!_allowBulk) {\n\t                    return;\n\t                }\n\t\n\t                bulkId = bulkId || true;\n\t                var queue = _bulkQueues[bulkId],\n\t                    requests = [],\n\t                    version = _.last(this.serverUrl.split('/'));\n\t\n\t                if (!queue) {\n\t                    //TODO log an error here\n\t                    return;\n\t                }\n\t                _.each(queue, function(r) {\n\t                    var params = r.request.params,\n\t                        args = r.args,\n\t                        token = args[0],\n\t                        mdHash = args[1],\n\t                        upHash = args[2];\n\t\n\t                    if (token) {\n\t                        params.headers = params.headers || {};\n\t                        params.headers['OAuth-Token'] = token;\n\t                    }\n\t                    if (mdHash) {\n\t                        params.headers = params.headers || {};\n\t                        params.headers['X-Metadata-Hash'] = mdHash;\n\t                    }\n\t                    if (upHash) {\n\t                        params.headers = params.headers || {};\n\t                        params.headers['X-Userpref-Hash'] = upHash;\n\t                    }\n\t                    //Url needs to be trimmed down to the version number.\n\t                    if (!_.isEmpty(params.url)) {\n\t                        params.url = version + params.url.substring(this.serverUrl.length);\n\t                    }\n\t\n\t                    requests.push(params);\n\t                }, this);\n\t                this.call('create', this.buildURL('bulk'), {requests: requests}, {\n\t                    success: function(o, parentReq) {\n\t                        _.each(queue, function(r, i) {\n\t                            var request = r.request,\n\t                                result = o[i],\n\t                                contents = result.contents || {},\n\t                                xhr = new bulkXHR(result, parentReq);\n\t                            request.xhr = xhr;\n\t\n\t                            if (request.aborted === true || contents.error) {\n\t                                request.status = 'error';\n\t                                if (_.isFunction(request.params.error)) {\n\t                                    request.params.error.call(request.params, request, 'error', xhr.statusText);\n\t                                }\n\t                            }\n\t                            else {\n\t                                if (_.isFunction(request.params.success)) {\n\t                                    request.params.success.call(request.params, contents, 'success');\n\t                                }\n\t                            }\n\t                            if (_.isFunction(request.params.complete)) {\n\t                                request.params.complete.call(request.params, request);\n\t                            }\n\t                        });\n\t                    }\n\t                });\n\t                _bulkQueues[bulkId] = null;\n\t            },\n\t\n\t            clearBulkQueue: function() {\n\t                _bulkQueues = {};\n\t            },\n\t\n\t            /**\n\t             * Builds URL based on module name action and attributes of the format rooturl/module/id/action.\n\t             *\n\t             * The `attributes` hash must contain `id` of the resource being actioned upon\n\t             * for record CRUD and `relatedId` if the URL is build for relationship CRUD.\n\t             *\n\t             * @param  {String} module module name.\n\t             * @param  {String} action CRUD method.\n\t             * @param  {Object} [attributes] object of resource being\n\t             *   actioned upon, e.g. `{name: \"bob\", id:\"123\"}`.\n\t             * @param  {Object} [params] URL parameters.\n\t             * @return {String} URL for specified resource.\n\t             * @private\n\t             * @member SUGAR.Api\n\t             */\n\t            buildURL: function(module, action, attributes, params) {\n\t                params = params || {};\n\t                var parts = [];\n\t                var url;\n\t                parts.push(this.serverUrl);\n\t\n\t                if (module) {\n\t                    parts.push(module);\n\t                }\n\t\n\t                if ((action != 'create') && attributes && attributes.id) {\n\t                    parts.push(attributes.id);\n\t                }\n\t\n\t                if (attributes && attributes.link && action != 'file') {\n\t                    parts.push('link');\n\t                    if (_.isString(attributes.link)) {\n\t                        parts.push(attributes.link);\n\t                    }\n\t                }\n\t\n\t                if (action && $.inArray(action, _baseActions) === -1) {\n\t                    parts.push(action);\n\t                }\n\t\n\t                if (attributes && attributes.relatedId) {\n\t                    parts.push(attributes.relatedId);\n\t                }\n\t\n\t                if (attributes && action == 'file' && attributes.field) {\n\t                    parts.push(attributes.field);\n\t                    if (attributes.fileId)\n\t                        parts.push(attributes.fileId);\n\t                }\n\t\n\t                url = parts.join('/');\n\t\n\t                // URL parameters\n\t                // remove nullish params\n\t                _.each(params, function(value, key) {\n\t                    if (value === null || value === undefined) {\n\t                        delete params[key];\n\t                    }\n\t                });\n\t\n\t                params = $.param(params);\n\t                if (params.length > 0) {\n\t                    url += '?' + params;\n\t                }\n\t\n\t                return url;\n\t            },\n\t\n\t            /**\n\t             * Builds a file resource URL.\n\t             *\n\t             * The `attributes` hash must contain the following properties:\n\t             *\n\t             *     {\n\t             *         module: module name\n\t             *         id: record id\n\t             *         field: Name of the file field in the given module (optional).\n\t             *     }\n\t             *\n\t             * Example 1:\n\t             *\n\t             *     var url = app.api.buildFileURL({\n\t             *        module: 'Contacts',\n\t             *        id: '123',\n\t             *        field: 'picture'\n\t             *     });\n\t             *\n\t             *     // Returns:\n\t             *     'http://localhost:8888/sugarcrm/rest/v10/Contacts/123/file/picture?format=sugar-html-json&platform=base'\n\t             *\n\t             * The `field` property is optional. If omitted the method returns a\n\t             * URL for a list of file resources.\n\t             *\n\t             * Example 2:\n\t             *\n\t             *     var url = app.api.buildFileURL({\n\t             *        module: 'Contacts',\n\t             *        id: '123'\n\t             *     });\n\t             *\n\t             *     // Returns:\n\t             *     'http://localhost:8888/sugarcrm/rest/v10/Contacts/123/file?platform=base'\n\t             *\n\t             * @param {Object} attributes Hash with file information.\n\t             * @param {Object} [options] URL options hash.\n\t             * @param {boolean} [options.htmlJsonFormat] Flag indicating if\n\t             *   `sugar-html-json` format must be used (`true` by default if\n\t             *   `field` property is specified).\n\t             * @param {boolean} [options.passDownloadToken] Flag indicating if\n\t             *   download token must be passed in the URL (`false` by default).\n\t             * @param {boolean} [options.deleteIfFails] Flag indicating if\n\t             *   related record should be marked deleted:1 if file operation\n\t             *   unsuccessful.\n\t             * @param {boolean} [options.keep] Flag indicating if the temporary\n\t             *   file should be kept when issuing a `GET` request to the\n\t             *   `FileTempApi` (it is cleaned up by default).\n\t             * @return {string} URL for the file resource.\n\t             * @member SUGAR.Api\n\t             */\n\t            buildFileURL: function(attributes, options) {\n\t                var params = {};\n\t                options = options || {};\n\t                // We only concerned about the format if build URL for an actual file resource\n\t                if (attributes.field && (options.htmlJsonFormat !== false)) {\n\t                    params.format = 'sugar-html-json';\n\t                }\n\t\n\t                if (options.deleteIfFails === true) {\n\t                    params.delete_if_fails = true;\n\t                }\n\t\n\t                // This is for BWC only. Don't document it and remove as soon as 6.7 is decommissioned.\n\t                if (options.passOAuthToken) {\n\t                    params.oauth_token = this.getOAuthToken();\n\t                }\n\t\n\t                if (options.passDownloadToken) {\n\t                    params.download_token = this.getDownloadToken();\n\t                }\n\t\n\t                if (!_.isUndefined(options.forceDownload)) {\n\t                    params.force_download = (options.forceDownload) ? 1 : 0;\n\t                }\n\t\n\t                if (options.cleanCache === true) {\n\t                    params[(new Date()).getTime()] = 1;\n\t                }\n\t\n\t                if (options.platform !== undefined) {\n\t                    params.platform = options.platform;\n\t                } else if (_platform) {\n\t                    params.platform = _platform;\n\t                }\n\t\n\t                if (options.keep === true) {\n\t                    params.keep = 1;\n\t                }\n\t\n\t                return this.buildURL(attributes.module, 'file', attributes, params);\n\t            },\n\t\n\t            /**\n\t             * Returns the current access token\n\t             */\n\t            getOAuthToken: function() {\n\t                return _keyValueStore ? _keyValueStore.get('AuthAccessToken') || _accessToken : _accessToken;\n\t            },\n\t\n\t            /**\n\t             * Returns the current refresh token\n\t             */\n\t            getRefreshToken: function() {\n\t                return _keyValueStore ? _keyValueStore.get('AuthRefreshToken') || _refreshToken : _refreshToken;\n\t            },\n\t\n\t            /**\n\t             * Returns the current download token.\n\t             */\n\t            getDownloadToken: function() {\n\t                return _keyValueStore ? _keyValueStore.get('DownloadToken') || _downloadToken : _downloadToken;\n\t            },\n\t\n\t\n\t            getMetadataHash: function() {\n\t                return _keyValueStore ? _keyValueStore.get('meta:hash') : null;\n\t            },\n\t\n\t            /**\n\t             * Gets the user preference hash for use in checking state of change\n\t             *\n\t             * @return {String} The user preference hash set from a /me response\n\t             */\n\t            getUserprefHash: function() {\n\t                return _keyValueStore ? _keyValueStore.get('userpref:hash') : null;\n\t            },\n\t\n\t            /**\n\t             * Fetches metadata.\n\t             *\n\t             * @param {Objec} [options] Options to decide what to get from\n\t             *   the server.\n\t             * @param {Array} [options.types] Metadata types to fetch.\n\t             *   E.g.: `['vardefs','detailviewdefs']`\n\t             * @param {Array} [options.modules] Module names to fetch.\n\t             *   E.g.: `['accounts','contacts']`\n\t             * @param {Object} [options.callbacks] callback object.\n\t             * @param {Object} [options.public=false] Pass `true` to get the\n\t             *   public metadata.\n\t             * @param {Object} [options.params] Extra params to send to the\n\t             *   request.\n\t             * @return {SUGAR.HttpRequest} The AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            getMetadata: function(options) {\n\t\n\t                if (_.isString(options)) {\n\t                    console.warn('`SUGAR.Api::getMetadata` has changed signature since 7.9 ' +\n\t                        'and will drop support for old signature in 7.10. Please update your code.');\n\t\n\t                    var oldOpt = arguments[4] || {};\n\t                    options = {\n\t                        types: arguments[1],\n\t                        modules: arguments[2],\n\t                        callbacks: arguments[3],\n\t                        public: oldOpt.getPublic,\n\t                        params: oldOpt.params,\n\t                    };\n\t                }\n\t\n\t                options = options || {};\n\t                var params = options.params || {};\n\t\n\t                if (options.types) {\n\t                    params.type_filter = options.types.join(',');\n\t                }\n\t\n\t                if (options.modules) {\n\t                    params.module_filter = options.modules.join(',');\n\t                }\n\t\n\t                if (_platform) {\n\t                    params.platform = _platform;\n\t                }\n\t\n\t                var method = 'read';\n\t\n\t                if (options.public) {\n\t                    method = 'public';\n\t                } else {\n\t                    options.callbacks = options.callbacks || {};\n\t                    options.callbacks.success = _.wrap(options.callbacks.success, function (success, data, status) {\n\t                        if (data) {\n\t                            this._serverInfo = data.server_info;\n\t                        }\n\t\n\t                        if (success) {\n\t                            success(data, status);\n\t                        }\n\t                    });\n\t                }\n\t\n\t                params.module_dependencies = 1;\n\t\n\t                var url = this.buildURL('metadata', method, null, params);\n\t                return this.call(method, url, null, options.callbacks);\n\t            },\n\t\n\t            /**\n\t             * Executes CRUD on records.\n\t             *\n\t             * @param {String} method operation type: create, read, update, or delete.\n\t             * @param {String} module module name.\n\t             * @param {Object} data request object. If it contains id, action,\n\t             *   link, etc., URI will be adjusted accordingly.\n\t             * If methods parameter is 'create' or 'update', the data object will be put in the request body payload.\n\t             * @param {Object} [params] URL parameters.\n\t             * @param {Object} [callbacks] callback object.\n\t             * @param {Object} [options] request options.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            records: function(method, module, data, params, callbacks, options) {\n\t                var url = this.buildURL(module, method, data, params);\n\t                return this.call(method, url, data, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Executes CRUD on relationships.\n\t             *\n\t             * The data paramerer represents relationship information:\n\t             * <pre>\n\t             * {\n\t             *    id: record ID\n\t             *    link: relationship link name\n\t             *    relatedId: ID of the related record\n\t             *    related: object that contains request payload (related record or relationship fields)\n\t             * }\n\t             * </pre>\n\t             *\n\t             * @param {String} method operation type: create, read, update, or delete.\n\t             * @param {String} module module name.\n\t             * @param {Object} data object with relationship information.\n\t             * @param {Object} [params] URL parameters.\n\t             * @param {Object} [callbacks] callback object.\n\t             * @param {Object} [options] request options.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            relationships: function(method, module, data, params, callbacks, options) {\n\t                var url = this.buildURL(module, null, data, params);\n\t                return this.call(method, url, data.related, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Marks/unmarks a record as favorite.\n\t             * @param {string} module Module name.\n\t             * @param {string} id Record ID.\n\t             * @param {boolean} favorite Flag indicating if the record must be marked as favorite.\n\t             * @param {Object} [callbacks] Callback object.\n\t             * @param {Object} [options] request options.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            favorite: function(module, id, favorite, callbacks, options) {\n\t                var action = favorite ? 'favorite' : 'unfavorite';\n\t                var url = this.buildURL(module, action, { id: id });\n\t                return this.call('update', url, null, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Subscribe/unsubscribe a record changes.\n\t             * @param {string} module Module name.\n\t             * @param {string} id Record ID.\n\t             * @param {boolean} followed Flag indicates if wants to subscribe\n\t             *   the record changes.\n\t             * @param {Object} [callbacks] Callback object.\n\t             * @param {Object} [options] request options.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            follow: function(module, id, followed, callbacks, options) {\n\t                callbacks = callbacks || {};\n\t                options = options || {};\n\t                var method = followed ? 'create' : 'delete',\n\t                    action = followed ? 'subscribe' : 'unsubscribe',\n\t                    url = this.buildURL(module, action, { id: id });\n\t                return this.call(method, url, null, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Loads an enum field's options using the enum API\n\t             * @param {string} module Module name.\n\t             * @param {string} field Name of enum field.\n\t             * @param {Object} [callbacks] Callback object\n\t             * @param {Object} [options] Options object\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            enumOptions: function(module, field, callbacks, options) {\n\t                var url = this.buildURL(module + '/enum/' + field);\n\t                return this.call('read', url, null, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Calls API requests in bulk.\n\t             *\n\t             * @param {Object} data Object with requests array.\n\t             * @param {Object} callbacks.\n\t             * @param {Object} [options] Options object.\n\t             * @return {SUGAR.HttpRequest}\n\t             */\n\t            bulk: function(data, callbacks, options) {\n\t                var url = this.buildURL('bulk');\n\t                return this.call('create', url, data, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Given a url, attempt to download a file\n\t             * @param {string} url url to call\n\t             * @param {Object} [callbacks] Callback object\n\t             * @param {Object} [options] Options object\n\t             *  - iframe: jquery element upon which to attach the iframe for download\n\t             *    if not specified we must fall back to window.location.href\n\t             */\n\t            fileDownload: function(url, callbacks, options) {\n\t                options = options || {};\n\t                var internalCallbacks = {};\n\t\n\t                internalCallbacks.success = function(data) {\n\t                    // start the download with the \"iframe\" hack\n\t                    if (options.iframe) {\n\t                        options.iframe.prepend('<iframe class=\"hide\" src=\"' + url + '\"></iframe>');\n\t                    } else {\n\t                        window.location.href = url;\n\t                    }\n\t                    if (_.isFunction(callbacks.success)) {\n\t                        callbacks.success.apply(arguments);\n\t                    }\n\t                };\n\t\n\t                if (_.isFunction(callbacks.error)) {\n\t                    internalCallbacks.error = callbacks.error;\n\t                }\n\t\n\t                if (_.isFunction(callbacks.complete)) {\n\t                    internalCallbacks.complete = callbacks.complete;\n\t                }\n\t\n\t                // ping to make sure we have our token, then make an iframe and download away\n\t                return this.call('read', this.buildURL('ping'), {}, internalCallbacks, {processData: false});\n\t            },\n\t\n\t            /**\n\t             * Executes CRUD on a file resource.\n\t             *\n\t             * @param {string} method operation type: create, read, update, or delete.\n\t             * @param {Object} data object with file information.\n\t             * <pre>\n\t             * {\n\t             *   module: module name\n\t             *   id: model id\n\t             *   field: Name of the file-type field.\n\t             * }\n\t             * </pre>\n\t             * The `field` property is optional. If not specified, the API fetches the file list.\n\t             * @param {Object} [$files] jQuery/Zepto DOM elements that carry the files to upload.\n\t             * @param {Object} [callbacks] callback object.\n\t             * @param {Object} [options] Request options hash.\n\t             *\n\t             * - htmlJsonFormat: Boolean flag indicating if `sugar-html-json` format must be used (`true` by default)\n\t             * - iframe: Boolean flag indicating if iframe transport is used (`true` by default)\n\t             * See {@link SUGAR.Api#buildFileURL} function for other options.\n\t             *\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            file: function(method, data, $files, callbacks, options) {\n\t                var ajaxParams = {\n\t                    files: $files,\n\t                    processData: false\n\t                };\n\t\n\t                //delete method doesn't need to go through the iframe transport\n\t                if (method === 'delete') {\n\t                    ajaxParams.iframe = false;\n\t                } else if (!options || options.iframe !== false) {\n\t                    ajaxParams.iframe = true;\n\t\n\t                    // pass OAuth token as GET-parameter during file upload.\n\t                    // otherwise, in case if file is too large, the whole request body may be\n\t                    // ignored by interpreter together with the token\n\t                    options = options || {};\n\t                    options.passOAuthToken = true;\n\t                }\n\t\n\t                if (!options || options.deleteIfFails !== false) {\n\t                    options = options || {};\n\t                    options.deleteIfFails = true;\n\t                }\n\t\n\t                callbacks.success = _.wrap(callbacks.success, function(success, data) {\n\t                    if (data.error && _.isFunction(callbacks.error)) {\n\t                        callbacks.error(data);\n\t                    } else if (_.isFunction(success)) {\n\t                        success(data);\n\t                    }\n\t                });\n\t\n\t                return this.call(method, this.buildFileURL(data, options),\n\t                    null, callbacks, ajaxParams);\n\t            },\n\t\n\t            /**\n\t             * Fetches the total amount of records for a given module.\n\t             *\n\t             * Example 1:\n\t             *\n\t             *     app.api.count('Contacts', null, {\n\t             *         success: function(data) {\n\t             *             console.log('Total number of Contacts:' +\n\t             *                 data.record_count);\n\t             *         }\n\t             *     });\n\t             *\n\t             * Example 2:\n\t             *\n\t             *     app.api.count('Accounts', null,\n\t             *         {\n\t             *             success: function(data) {\n\t             *                 console.log('Total number of \"B\" Accounts:' +\n\t             *                     data.record_count);\n\t             *             }\n\t             *         },\n\t             *         {\n\t             *             filter: [{'name': {'$starts': 'B'}}]\n\t             *         }\n\t             *     );\n\t             *\n\t             * Example 3:\n\t             *\n\t             *     app.api.count('Accounts',\n\t             *         {\n\t             *             id: 'abcd',\n\t             *             link: 'cases'\n\t             *         },\n\t             *         {\n\t             *             success: function(data) {\n\t             *                 console.log('Total number of \"B\" cases related' +\n\t             *                     'to \"abcd\" account:' + data.record_count);\n\t             *             }\n\t             *         },\n\t             *         {\n\t             *             filter: [{'name': {'$starts': 'B'}}]\n\t             *         }\n\t             *     );\n\t             *\n\t             * @param {string} module Module to fetch the count for.\n\t             * @param {Object} [data] Data object containing relationship\n\t             *   information.\n\t             * @param {string} [data.link] The link module name.\n\t             * @param {string} [data.id] The id of the model.\n\t             * @param {function} [callbacks] Callback functions.\n\t             * @param {Object} [options] URL options hash.\n\t             * @param {Object} [options.filter] If supplied, the count of\n\t             *   filtered records will be returned, instead of the total number\n\t             *   of records.\n\t             * @return {SUGAR.HttpRequest} Result of {@link SUGAR.Api#call}.\n\t             * @member SUGAR.Api\n\t             */\n\t            count: function(module, data, callbacks, options) {\n\t                options = options || {};\n\t                var url = this.buildURL(module, 'count', data, options);\n\t\n\t                return this.call('read', url, null, callbacks);\n\t            },\n\t\n\t            /**\n\t             * Triggers a file download of the exported records.\n\t             *\n\t             * @param {Object} params Download parameters.\n\t             * @param {string} params.module Module name.\n\t             * @param {Array} params.uid Array of record ids to request export.\n\t             * @param {jQuery} $el JQuery selector to element.\n\t             * @param {Object} [callbacks] Various callbacks.\n\t             * @param {Function} [callbacks.success] Called on success.\n\t             * @param {Function} [callbacks.error] Called on failure.\n\t             * @param {Function} [callbacks.complete] Called when finished.\n\t             * @param {Object} [options] Request options hash.\n\t             *\n\t             * - passOAuthToken: Boolean flag indicating if OAuth token must be passed in the URL (`true` by default)\n\t             *\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            exportRecords: function(params, $el, callbacks, options) {\n\t                var self = this;\n\t                var recordListUrl = this.buildURL(params.module, 'record_list');\n\t\n\t                options = options || {};\n\t\n\t                return this.call(\n\t                    'create',\n\t                    recordListUrl,\n\t                    {'records': params.uid},\n\t                    {\n\t                        success: function(response) {\n\t                            params = _.omit(params, ['uid', 'module']);\n\t                            if (options.platform !== undefined) {\n\t                                params.platform = options.platform;\n\t                            } else if (_platform) {\n\t                                params.platform = _platform;\n\t                            }\n\t\n\t                            self.fileDownload(\n\t                                self.buildURL(response.module_name, 'export', {relatedId: response.id}, params),\n\t                                callbacks,\n\t                                { iframe: $el }\n\t                            );\n\t                        }\n\t                    }\n\t                );\n\t            },\n\t\n\t            /**\n\t             * Searches for specified query.\n\t             * @param {Object} params Properties.\n\t             * @param {string} params.q Query.\n\t             * @param {string} [params.module_list] Comma-separated module list.\n\t             * @param {string} [params.fields] Comma-separated list of fields.\n\t             * @param {number} [params.max_num] Max number of records to return.\n\t             * @param {number} [params.offset] Initial offset into the results.\n\t             * @param {Object} callbacks Hash with success and error callbacks.\n\t             * @param {Function} callbacks.success Function called on success.\n\t             *   Takes one argument.\n\t             * @param {Function} callbacks.error Function called on failure.\n\t             *   Takes one argument.\n\t             * @param {Object} [options] Request options.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            search: function(params, callbacks, options) {\n\t                options = options || {};\n\t                //FIXME: This is a temporary change. SC-4253 will set it back to\n\t                //'search' once BR-2367 will be merged.\n\t                var data = null;\n\t                if (options.data) {\n\t                    data = options.data;\n\t                    delete options.data;\n\t                }\n\t                var method = 'read';\n\t                if (options.fetchWithPost) {\n\t                    method = 'create';\n\t                }\n\t                var endpoint = options.useNewApi ? 'globalsearch' : 'search';\n\t                var url = this.buildURL(null, endpoint, null, params);\n\t\n\t                return this.call(method, url, data, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Performs login.\n\t             *\n\t             * Credentials:\n\t             * <pre>\n\t             *     username: user's login name or email,\n\t             *     password: user's password in clear text\n\t             * </pre>\n\t             *\n\t             * @param {Object} credentials user credentials.\n\t             * @param {Object} [data] extra data to be passed in login request\n\t             *   such as client user agent, etc.\n\t             * @param {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            login: function(credentials, data, callbacks) {\n\t                var payload, success, error, method, url, self = this;\n\t\n\t                credentials = credentials || {};\n\t                callbacks = callbacks || {};\n\t\n\t                success = function(data) {\n\t                    _resetAuth(data);\n\t                    if (_externalLogin) {\n\t                        self.setRefreshingToken(false);\n\t                        _refreshTokenSuccess(\n\t                            function() {\n\t                                // Repeat original requests\n\t                                var r = _rqueue.shift();\n\t                                while (r) {\n\t                                    r._dequeuing = true;\n\t                                    r.execute(self.getOAuthToken());\n\t                                    r = _rqueue.shift();\n\t                                }\n\t                            }\n\t                        );\n\t                    }\n\t                    if (callbacks.success) callbacks.success(data);\n\t                };\n\t\n\t                error = function(error) {\n\t                    _resetAuth();\n\t                    if (callbacks.error) callbacks.error(error);\n\t                };\n\t\n\t                if (data && data.refresh) {\n\t                    payload = _.extend({\n\t                        grant_type: 'refresh_token',\n\t                        client_id: this.clientID,\n\t                        client_secret: '',\n\t                        refresh_token: this.getRefreshToken(),\n\t                        platform: _platform ? _platform : 'base'\n\t                    }, data);\n\t                } else {\n\t                    payload = _.extend({\n\t                        grant_type: 'password',\n\t                        username: credentials.username,\n\t                        password: credentials.password,\n\t                        client_id: this.clientID,\n\t                        platform: _platform ? _platform : 'base',\n\t                        client_secret: ''\n\t                    }, data);\n\t                    payload.client_info = data;\n\t                }\n\t\n\t                method = 'create';\n\t                url = this.buildURL('oauth2', 'token', payload, {\n\t                    platform: _platform\n\t                });\n\t                return this.call(method, url, payload, {\n\t                    success: success,\n\t                    error: error,\n\t                    complete: callbacks.complete\n\t                });\n\t            },\n\t\n\t            /**\n\t             * Executes CRUD on user profile.\n\t             *\n\t             * @param {String} method operation type: read or update (reserved for the future use).\n\t             * @param {Object} [data] user profile object.\n\t             * @param {Object} [params] URL parameters.\n\t             * @param {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            me: function(method, data, params, callbacks) {\n\t                var url = this.buildURL('me', method, data, params);\n\t                return this.call(method, url, data, callbacks);\n\t            },\n\t\n\t            /**\n\t             * Makes a call to the CSS Api\n\t             *\n\t             * @param {String} platform\n\t             * @param {Object} themeName\n\t             * @param {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             */\n\t            css: function(platform, themeName, callbacks) {\n\t                var params = {\n\t                    platform: platform,\n\t                    themeName: themeName\n\t                };\n\t                var url = this.buildURL('css', 'read', {}, params);\n\t                return this.call('read', url, {}, callbacks);\n\t            },\n\t\n\t            /**\n\t             * Performs logout.\n\t             *\n\t             * @param {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            logout: function (callbacks, options) {\n\t\n\t                callbacks = callbacks || {};\n\t\n\t                var payload = {\n\t                    token: this.getOAuthToken(),\n\t                    refresh_token: this.getRefreshToken(),\n\t                };\n\t\n\t                // Stock sidecar sends refresh token on logout\n\t                // 6.7.x doesn't support it. See [NOMAD-2891]/[SI 72054]\n\t                // TODO remove this once we drop support on 6.x on Nomad\n\t                if (this._serverInfo && this._serverInfo.version.charAt(0) === '6') {\n\t                    delete payload.refresh_token;\n\t                }\n\t\n\t                var url = this.buildURL('oauth2', 'logout', payload);\n\t\n\t                var originalComplete = callbacks.complete;\n\t                callbacks.complete = function () {\n\t                    _resetAuth();\n\t                    if (originalComplete) originalComplete();\n\t                };\n\t\n\t                return this.call('create', url, payload, callbacks, options);\n\t            },\n\t\n\t            /**\n\t             * Pings the server.\n\t             *\n\t             * The request doesn't send metadata hash by default.\n\t             * Pass `false` for \"skipMetadataHash\" option to override this behavior.\n\t             * @param {string} [action] Optional ping operation.\n\t             *   Currently, Sugar REST API supports \"whattimeisit\" only.\n\t             * @param {Object} [callbacks] callback object.\n\t             * @param {Object} [options] request options.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            ping: function(action, callbacks, options) {\n\t                return this.call(\n\t                    'read',\n\t                    this.buildURL('ping', action, null, {\n\t                        platform: _platform\n\t                    }),\n\t                    null,\n\t                    callbacks,\n\t                    _.extend({\n\t                        skipMetadataHash: true\n\t                    }, options || {})\n\t                );\n\t            },\n\t\n\t            /**\n\t             * Performs signup.\n\t             *\n\t             * TODO: The signup action needs another endpoint to allow a guest to signup\n\t             *\n\t             * @param  {Object} contactData user profile.\n\t             * @param  {Object} [data] extra data to be passed in login request\n\t             *   such as client user agent, etc.\n\t             * @param  {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            signup: function(contactData, data, callbacks) {\n\t                var payload = contactData;\n\t                payload.client_info = data;\n\t\n\t                var method = 'create';\n\t                var url = this.buildURL('Leads', 'register', payload);\n\t                return this.call(method, url, payload, callbacks);\n\t            },\n\t\n\t\n\t            /**\n\t             * Verify password\n\t             *\n\t             * @param  {Object} password the password to verify\n\t             * @param  {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            verifyPassword: function(password, callbacks) {\n\t                var payload = {\n\t                    password_to_verify: password\n\t                };\n\t                var method = 'create'; //POST so we don't require query params\n\t                var url = this.buildURL('me/password', method);\n\t                return this.call(method, url, payload, callbacks);\n\t            },\n\t\n\t            /**\n\t             * Update password\n\t             *\n\t             * @param  {Object} password the new password\n\t             * @param  {Object} password the new password\n\t             * @param  {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            updatePassword: function(oldPassword, newPasword, callbacks) {\n\t                var payload = {\n\t                    new_password: newPasword,\n\t                    old_password: oldPassword\n\t                };\n\t                var method = 'update';\n\t                var url = this.buildURL('me/password', method);\n\t                return this.call(method, url, payload, callbacks);\n\t            },\n\t\n\t            /**\n\t             * Fetches server information.\n\t             * @param {Object} [callbacks] callback object.\n\t             * @return {SUGAR.HttpRequest} AJAX request.\n\t             * @member SUGAR.Api\n\t             */\n\t            info: function(callbacks) {\n\t                var url = this.buildURL('ServerInfo');\n\t                return this.call('read', url, null, callbacks);\n\t            },\n\t\n\t            /**\n\t             * Checks if API instance is currently authenticated.\n\t             *\n\t             * @return {boolean} `true` if authenticated, `false` otherwise.\n\t             * @member SUGAR.Api\n\t             */\n\t            isAuthenticated: function() {\n\t                return typeof(this.getOAuthToken()) === 'string' && this.getOAuthToken().length > 0;\n\t            },\n\t\n\t            /**\n\t             * Clears authentication tokens.\n\t             */\n\t            resetAuth: function() {\n\t                _resetAuth();\n\t            },\n\t\n\t            /**\n\t             * Checks if authentication token can and needs to be refreshed.\n\t             * @param {string} url URL of the failed request.\n\t             * @param {string} errorCode Failure code.\n\t             * @return {boolean} `true` if the OAuth2 access token can be refreshed, `false` otherwise.\n\t             * @member SUGAR.Api\n\t             * @private\n\t             */\n\t            needRefreshAuthToken: function(url, errorCode) {\n\t                return (!_refreshingToken) &&\n\t                    (typeof(this.getRefreshToken()) === 'string' && this.getRefreshToken().length > 0) &&\n\t                    (!this.isAuthRequest(url)) &&    // must not be auth request\n\t                    (errorCode === 'invalid_grant');    // means access token got expired or invalid\n\t            },\n\t\n\t            /**\n\t             * Checks if we need to queue a request while token refresh is in progress\n\t             * @param {string} url\n\t             * @return {boolean} `true` if we need to queue the request\n\t             * @private\n\t             */\n\t            needQueue: function(url) {\n\t                return _refreshingToken && !this.isAuthRequest(url);    // must not be auth request\n\t            },\n\t\n\t            /**\n\t             * Checks if the request is authentication request.\n\t             *\n\t             * It could be either login (including token refresh) our logout request.\n\t             * @param {string} url\n\t             * @return `true` if this is an authentication request\n\t             */\n\t            isAuthRequest: function(url) {\n\t                return new RegExp('\\/oauth2\\/').test(url);\n\t            },\n\t\n\t            /**\n\t             * Checks if request is a login request.\n\t             * @param {string} url\n\t             * @return `true` if this is a login request, `false` otherwise\n\t             */\n\t            isLoginRequest: function(url) {\n\t                return new RegExp('\\/oauth2\\/token').test(url);\n\t            },\n\t\n\t            /**\n\t             * Checks if the request is the refresh token request\n\t             * @param {string} url url of the request to check\n\t             * @return `true` if the request is the refresh token request,\n\t             *   `false` otherwise\n\t             * @private\n\t             */\n\t            refreshingToken: function(url) {\n\t                return _refreshingToken && this.isAuthRequest(url);    // must be auth request\n\t            },\n\t\n\t            /**\n\t             * Sets a flag indicating that this API instance is in the process\n\t             * of authentication token refresh.\n\t             *\n\t             * @param {boolean} flag Flag indicating if token refresh is in\n\t             * progress (`true`).\n\t             * @member SUGAR.Api\n\t             * @private\n\t             */\n\t            setRefreshingToken: function(flag) {\n\t                _refreshingToken = flag;\n\t            },\n\t\n\t            /**\n\t             * Handles login with an external provider.\n\t             *\n\t             * @param {SUGAR.HttpRequest} request The request to trigger.\n\t             * @param {Object} error The error object with at least the\n\t             *   `payload` property.\n\t             * @param {Function} onError The function to call in case of Error\n\t             *   during the login request.\n\t             */\n\t            handleExternalLogin: function(request, error, onError) {\n\t                var self = this;\n\t\n\t                if (!self.isLoginRequest(request.params.url)) {\n\t                    _rqueue.push(request);\n\t                }\n\t                // don't try to reauth again from here\n\t                self.setRefreshingToken(true);\n\t\n\t                $(window).on('message', function(event) {\n\t                    if (!event.originalEvent.origin || event.originalEvent.origin !== window.location.origin) {\n\t                        // this is not our message, ignore it\n\t                        return;\n\t                    }\n\t                    $(window).on('message', null);\n\t                    authData = $.parseJSON(event.originalEvent.data);\n\t                    if (!authData || !authData.access_token) {\n\t                        onError();\n\t                    }\n\t                    self.setRefreshingToken(false);\n\t                    _resetAuth(authData);\n\t                    _refreshTokenSuccess(\n\t                        function() {\n\t                            // Repeat original requests\n\t                            var r = _rqueue.shift();\n\t                            while (r) {\n\t                                r.execute(self.getOAuthToken());\n\t                                r = _rqueue.shift();\n\t                            }\n\t                        }\n\t                    );\n\t                });\n\t                if (_.isFunction(_externalLoginUICallback)) {\n\t                    _externalLoginUICallback(error.payload.url, '_blank',\n\t                        'width=600,height=400,centerscreen=1,resizable=1');\n\t                }\n\t            },\n\t\n\t            /**\n\t             * Returns `true` when using an external login provider.\n\t             *\n\t             * @return {boolean} `true` when we are using an external\n\t             *   login provider, `false` otherwise.\n\t             */\n\t            isExternalLogin: function() {\n\t                return _externalLogin;\n\t            },\n\t\n\t            /**\n\t             * Sets a flag indicating that external login prodecure is used.\n\t             * This means that 401 errors would contain external URL that we should use for authentication.\n\t             * @param {Boolean} flag Flag indicating if external login is in effect\n\t             * @member SUGAR.Api\n\t             */\n\t            setExternalLogin: function(flag) {\n\t                _externalLogin = flag;\n\t            },\n\t\n\t            /**\n\t             * Sets a function as external login UI callback\n\t             * @param {Function} callback\n\t             * @member SUGAR.Api\n\t             */\n\t            setExternalLoginUICallback: function(callback) {\n\t                if (_.isFunction(callback)) {\n\t                    _externalLoginUICallback = callback;\n\t                }\n\t            },\n\t\n\t            /**\n\t             * Retrieve a property from the current state.\n\t             *\n\t             * @param {String} key\n\t             * @return {Mixed}\n\t             */\n\t            getStateProperty: function(key) {\n\t                return _state[key];\n\t            },\n\t\n\t            /**\n\t             * Set a property of the current state. The current state will be attached to all\n\t             * api request objects when they are sent. Modifications to the state after the request is sent\n\t             * but before the request completes will not affect that requests state.\n\t             *\n\t             * States should be used to track conditions or parameters that should be applied to all requests made\n\t             * regardless of their source.\n\t             *\n\t             * @param {String} key\n\t             * @param {Mixed} value\n\t             */\n\t            setStateProperty: function(key, value) {\n\t                _state[key] = value;\n\t            },\n\t\n\t            /**\n\t             * Removes the given key from the current state\n\t             * @param {string} key\n\t             */\n\t            clearStateProperty: function(key) {\n\t                delete _state[key];\n\t            },\n\t\n\t            /**\n\t             * Clears the current API request state object.\n\t             */\n\t            resetState: function() {\n\t                _state = {};\n\t            }\n\t        };\n\t    }\n\t\n\t    return {\n\t        /**\n\t         * Gets an instance of Sugar API class.\n\t         * @param args\n\t         * @return {SUGAR.Api} an instance of Sugar API class.\n\t         * @member SUGAR.Api\n\t         * @static\n\t         */\n\t        getInstance: function(args) {\n\t            return _instance || this.createInstance(args);\n\t        },\n\t\n\t        /**\n\t         * Creates a new instance of Sugar API class.\n\t         * @param args\n\t         * @return {SUGAR.Api} a new instance of Sugar API class.\n\t         * @member SUGAR.Api\n\t         * @static\n\t         */\n\t        createInstance: function(args) {\n\t            _instance = new SugarApi(args);\n\t\n\t            if (!('crosstab' in window) || !crosstab.supported) {\n\t                return _instance;\n\t            }\n\t\n\t            // this event should only be triggered on master tab and if\n\t            // crosstab library is loaded\n\t            crosstab(function() {\n\t                crosstab.on('auth:refresh', _.bind(function() {\n\t\n\t                    // prevents concurrent events from multiple tabs asking for a\n\t                    // refresh token\n\t                    if (this._runningRefreshToken) {\n\t                        return;\n\t                    }\n\t                    this._runningRefreshToken = true;\n\t\n\t                    var self = this;\n\t\n\t                    this.login(null, { refresh: true }, {\n\t                        complete: function() {\n\t                            crosstab.broadcast('auth:refresh:complete', 'complete');\n\t                        },\n\t                        success: function() {\n\t                            delete self._runningRefreshToken;\n\t                            crosstab.broadcast('auth:refresh:complete', 'success');\n\t                        },\n\t                        error: function() {\n\t                            delete self._runningRefreshToken;\n\t                            crosstab.broadcast('auth:refresh:complete', 'error');\n\t                        }\n\t                    });\n\t                }, _instance));\n\t            });\n\t\n\t            return _instance;\n\t        },\n\t\n\t        /**\n\t         * Return the number of API calls currently in progress\n\t         * @return {number} Number of calls in progress\n\t         * @member SUGAR.Api\n\t         * @static\n\t         */\n\t        getCallsInProgressCount: function() {\n\t            return _numCallsInProgress;\n\t        },\n\t\n\t        HttpError: HttpError,\n\t        HttpRequest: HttpRequest\n\t    };\n\t\n\t})();\n\t\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    var _doWhenStack = [],\n\t        _doWhenLocked = false,\n\t        _doWhenInterval = false,\n\t        _doWhenretryCount = 0,\n\t        _startDoWhenInterval = function _startDoWhenInterval() {\n\t        if (!_doWhenInterval) {\n\t            _doWhenInterval = window.setInterval(app.utils._doWhenCheck, 50);\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Utils module provides several utility methods used throughout the app such as number formatting.\n\t     *\n\t     * @class Utils.Utils\n\t     * @alias SUGAR.App.utils\n\t     * @singleton\n\t     */\n\t    app.augment('utils', {\n\t\n\t        /**\n\t         * Capitalizes a string.\n\t         * @param {String} s The string to capitalize.\n\t         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n\t         */\n\t        capitalize: function capitalize(s) {\n\t            return s ? s.charAt(0).toUpperCase() + (s.length > 1 ? s.substr(1) : \"\") : \"\";\n\t        },\n\t\n\t        /**\n\t         * Capitalizes a hyphenated string.\n\t         *\n\t         * `\"my-string\"` becomes `\"MyString\"`.\n\t         * @param {String} s The string to capitalize.\n\t         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n\t         */\n\t        capitalizeHyphenated: function capitalizeHyphenated(s) {\n\t            return this._classify(s, '-');\n\t        },\n\t\n\t        /**\n\t         * Capitalizes an underscored string.\n\t         *\n\t         * `\"my_string\"` becomes `\"MyString\"`.\n\t         * @param {String} s The string to capitalize.\n\t         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n\t         */\n\t        classify: function classify(s) {\n\t            return this._classify(s, '_');\n\t        },\n\t\n\t        /**\n\t         * Capitalizes a delimited string.\n\t         *\n\t         * `\"my_string\"` becomes `\"MyString\"`.\n\t         * @param {String} s The string to capitalize.\n\t         * @param {String} delimiter(optional) Delimiter string. Defaults to `'_'`.\n\t         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n\t         */\n\t        _classify: function _classify(s, delimiter) {\n\t            var self = this,\n\t                result = '';\n\t            delimiter = delimiter || '_';\n\t\n\t            if (!s || s.lastIndexOf(delimiter) === -1) {\n\t                result = self.capitalize(s);\n\t            } else {\n\t                var words = s.split(delimiter);\n\t                _.each(words, function (word) {\n\t                    result += self.capitalize(word);\n\t                });\n\t            }\n\t            return result;\n\t        },\n\t\n\t        /**\n\t         * Extends a Class based on the given controller.\n\t         *\n\t         * If the controller has an `extendsFrom` property, it will be used to\n\t         * define its parent class. It should be defined as a string in order\n\t         * for the system to detect if there is any customization on that\n\t         * parent (normally prefixed with `Custom` like `Custom<ClassName>`).\n\t         *\n\t         * If the parent class defined in the `extendsFrom` property doesn't\n\t         * exist or the controller isn't specifying one, it will fallback to\n\t         * the supplied `defaultBase` param which has it's own set of fallback\n\t         * strategy defined by the components that call this method. See\n\t         * {@link View.ViewManager} and {@link Data.DataManager}.\n\t         *\n\t         * @param {Object} cache Object cache to add controller to.\n\t         * @param {Object} defaultBase Class to be extended from if no override\n\t         *   (`extendsFrom`) is defined in the controller.\n\t         * @param {string} className Class name to be used for new Class.\n\t         * @param {Object|undefined} controller Properties for new Class.\n\t         * @param {string} platformNamespace Platform name.\n\t         * @return {Object} the new extended class.\n\t         */\n\t        extendClass: function extendClass(cache, defaultBase, className, controller, platformNamespace) {\n\t            var klass;\n\t\n\t            if (!_.isObject(controller)) {\n\t                // nothing to extend from, use default\n\t                klass = cache[className] = defaultBase;\n\t                return klass;\n\t            }\n\t\n\t            if (_.isObject(controller.extendsFrom)) {\n\t                //should be avoided due to chain breakage - aka custom fallback\n\t                klass = cache[className] = controller.extendsFrom.extend(controller);\n\t                return klass;\n\t            }\n\t\n\t            if (!controller.extendsFrom) {\n\t                // follow the default fallback flow\n\t                klass = cache[className] = defaultBase.extend(controller);\n\t                return klass;\n\t            }\n\t\n\t            // try to find the base using the name and following the fallback flow\n\t            var base = cache[platformNamespace + 'Custom' + controller.extendsFrom] || cache[platformNamespace + controller.extendsFrom] || cache['Custom' + controller.extendsFrom] || cache[controller.extendsFrom];\n\t\n\t            if (!base) {\n\t                app.logger.warn('The \"' + controller.extendsFrom + '\" component was not found to be used as ' + 'the \"' + className + '\"\\'s parent. Please update your code to point to an existing class.');\n\t                base = defaultBase;\n\t            }\n\t\n\t            klass = cache[className] = base.extend(controller);\n\t            return klass;\n\t        },\n\t\n\t        /**\n\t         * Formats Numbers\n\t         *\n\t         * @param {Number} value number to be formatted eg 2.134\n\t         * @param {Number} round number of digits to right of decimal to round at\n\t         * @param {Number} precision number of digits to right of decimal to take precision at\n\t         * @param {String} numberGroupSeparator character separator for number groups of 3 digits to the left of the decimal to add\n\t         * @param {String} decimalSeparator character to replace decimal in arg number with\n\t         * @return {String} formatted number string OR original value if it is not a number\n\t         */\n\t        formatNumber: function formatNumber(value, round, precision, numberGroupSeparator, decimalSeparator) {\n\t            round = round || precision;\n\t            var original = value;\n\t            if (_.isNaN(value) || !_.isFinite(value)) {\n\t                return original;\n\t            }\n\t            if (_.isString(value)) {\n\t                value = parseFloat(value, 10);\n\t                if (_.isNaN(value)) {\n\t                    return original;\n\t                }\n\t            }\n\t            // Return original value if it is not a number\n\t            if (!_.isNumber(value)) {\n\t                if (!_.isNull(value) && !_.isUndefined(value)) {\n\t                    // invalid variable type\n\t                    app.logger.warn('formatNumber: invalid variable type (' + (typeof original === \"undefined\" ? \"undefined\" : _typeof(original)) + ')');\n\t                }\n\t                return original;\n\t            }\n\t\n\t            // make sure that the precision variable is an integer and not a string\n\t            // Big.js doesn't like it as a string\n\t            if (_.isString(precision)) {\n\t                precision = parseInt(precision);\n\t            }\n\t\n\t            value = Big(value).toFixed(precision);\n\t            return _.isString(numberGroupSeparator) && _.isString(decimalSeparator) ? this.addNumberSeparators(value, numberGroupSeparator, decimalSeparator) : value;\n\t        },\n\t\n\t        /**\n\t         * Format number to current user locale\n\t         * @param {Number}  value\n\t         * @return {String} formatted number\n\t         */\n\t        formatNumberLocale: function formatNumberLocale(value) {\n\t            // use user locale, or decent defaults otherwise\n\t            return this.formatNumber(value, app.user.getPreference('decimal_precision') || 2, app.user.getPreference('decimal_precision') || 2, app.user.getPreference('number_grouping_separator') || ',', app.user.getPreference('decimal_separator') || '.');\n\t        },\n\t\n\t        /**\n\t         * Format full name with the provided locale format.\n\t         * @param {Object} params Name property values.\n\t         *        - first_name: first name.\n\t         *        - last_name: last name.\n\t         *        - salutation: salutation.\n\t         * @param {String} format Locale format (i.e. [f l s], [s l, f]).\n\t         * @return {String} formatted string.\n\t         */\n\t        formatName: function formatName(params, format) {\n\t            return format.replace(/(f)|(l)|(s)/g, function (str, firstName, lastName, salutation) {\n\t                if (firstName) {\n\t                    return params.first_name || '';\n\t                }\n\t                if (lastName) {\n\t                    return params.last_name || '';\n\t                }\n\t                if (salutation && (params.last_name || params.first_name)) {\n\t                    return params.salutation || '';\n\t                }\n\t                return '';\n\t            })\n\t            //Remove comma when last name is empty\n\t            .replace(/^( )?,/g, '')\n\t            //Remove comma when last name is provided but first name is empty\n\t            .replace(/, $/g, '')\n\t            //Remove extra spaces when middle part is missing\n\t            .replace(/  /g, ' ')\n\t            //trim spaces\n\t            .trim();\n\t        },\n\t\n\t        /**\n\t         * Format a record's name (ie. full name) according to the name format\n\t         * passed in parameters or defined in the user preferences.\n\t         *\n\t         *     @example Format you can pass:\n\t         *     'f l s' will output: `FirstName LastName Salutation`,\n\t         *     's l, f' will output: `Salutation LastName FirstName`.\n\t         *\n\t         * The module defines a `nameFormat` object that maps a letter to a\n\t         * field.\n\t         *\n\t         *     @example Name format mapping:\n\t         *     {\n\t         *         s: 'salutation',\n\t         *         f: 'first_name',\n\t         *         l: 'last_name'\n\t         *     }\n\t         *\n\t         * There is a special case for enum type fields (e.g. `salutation`):\n\t         * we need to pull the label from the app list strings.\n\t         *\n\t         * @param {String} module The module name the record belongs to.\n\t         * @param {Object} data The record attributes.\n\t         * @param {String} [format] The format definition.\n\t         * @return {String} The formatted full name string.\n\t         */\n\t        formatNameModel: function formatNameModel(module, data, format) {\n\t            format = format || app.user.getPreference('default_locale_name_format');\n\t            data = data || {};\n\t\n\t            var metadata = app.metadata.getModule(module) || { fields: {} };\n\t            var formatMap = metadata.nameFormat || {};\n\t\n\t            return _.reduce(format.split(''), function (formattedString, letter) {\n\t                // only letters a-z may be significant in the format,\n\t                // everything else is translated verbatim\n\t                if (letter < 'a' || letter > 'z') {\n\t                    return formattedString + letter;\n\t                }\n\t                if (!formatMap[letter]) {\n\t                    return formattedString;\n\t                }\n\t\n\t                var enumLabel,\n\t                    isEnum = metadata.fields[formatMap[letter]] && metadata.fields[formatMap[letter]].type === 'enum' && !_.isEmpty(metadata.fields[formatMap[letter]].options);\n\t\n\t                if (isEnum) {\n\t                    var list = app.lang.getAppListStrings(metadata.fields[formatMap[letter]].options);\n\t                    enumLabel = list[data[formatMap[letter]]] || data[formatMap[letter]] || '';\n\t                }\n\t\n\t                return formattedString + (enumLabel || data[formatMap[letter]] || '');\n\t            }, '')\n\t            //Remove leading comma - i.e. \", John\"\n\t            .replace(/^( )?,/g, '')\n\t            //Remove trailing comma - i.e., \"John, \", \"John,  \", etc.\n\t            .replace(/, +$/g, '')\n\t            //Remove extra spaces when middle part is missing\n\t            .replace(/  /g, ' ')\n\t            //trim spaces\n\t            .trim();\n\t        },\n\t\n\t        /**\n\t         * Format full name following user locale format.\n\t         * @param {Object} params Name property values.\n\t         *        - first_name: first name.\n\t         *        - last_name: last name.\n\t         *        - salutation: salutation.\n\t         * @return {String} {String} formatted string.\n\t         */\n\t        formatNameLocale: function formatNameLocale(params) {\n\t            return this.formatName(params, app.user.getPreference('default_locale_name_format'));\n\t        },\n\t\n\t        /**\n\t         * Adds number separators to a number string\n\t         * @param {String} numberString string of number to be modified of the\n\t         *   format nn.nnn\n\t         * @param {String} numberGroupSeparator character separator for number\n\t         *   groups of 3 digits to the left of the decimal to add\n\t         * @param {String} decimalSeparator character to replace decimal in arg\n\t         *   number with\n\t         * @return {String}\n\t         */\n\t        addNumberSeparators: function addNumberSeparators(numberString, numberGroupSeparator, decimalSeparator) {\n\t            var numberArray = numberString.split(\".\");\n\t            var regex = /(\\d+)(\\d{3})/;\n\t            while (numberGroupSeparator !== '' && regex.test(numberArray[0])) {\n\t                numberArray[0] = numberArray[0].toString().replace(regex, '$1' + numberGroupSeparator + '$2');\n\t            }\n\t            return numberArray[0] + (numberArray.length > 1 && numberArray[1] !== '' ? decimalSeparator + numberArray[1] : '');\n\t        },\n\t\n\t        /**\n\t         * Unformats number strings\n\t         * @param {String} numberString\n\t         * @param {String} numberGroupSeparator\n\t         * @param {String} decimalSeparator\n\t         * @param {Boolean} toFloat\n\t         * @return {String} formatted number string\n\t         */\n\t        unformatNumberString: function unformatNumberString(numberString, numberGroupSeparator, decimalSeparator, toFloat) {\n\t            toFloat = toFloat || false;\n\t            if (typeof numberGroupSeparator === 'undefined' || typeof decimalSeparator === 'undefined') {\n\t                return numberString;\n\t            }\n\t\n\t            // if number is not as string, make it a string\n\t            if (!_.isString(numberString)) {\n\t                if (_.isFinite(numberString)) {\n\t                    // valid number, convert to string\n\t                    numberString.toString();\n\t                } else {\n\t                    // invalid value: null, undefined, NaN, etc.\n\t                    // set to empty string\n\t                    numberString = '';\n\t                }\n\t            }\n\t\n\t            // parse out number group separators\n\t            if (numberGroupSeparator !== '') {\n\t                var num_grp_sep_re = new RegExp('\\\\' + numberGroupSeparator, 'g');\n\t                numberString = numberString.replace(num_grp_sep_re, '');\n\t            }\n\t\n\t            // parse out decimal separators\n\t            numberString = numberString.replace(decimalSeparator, '.');\n\t\n\t            // remove any invalid chars\n\t            //numberString = numberString.replace(/[^0-9\\.\\+\\-\\%]/g, '');\n\t\n\t            // convert to float\n\t            if (numberString.length > 0 && toFloat) {\n\t                var float = parseFloat(numberString);\n\t                if (float == numberString) {\n\t                    return float;\n\t                }\n\t            }\n\t\n\t            return numberString;\n\t        },\n\t\n\t        /**\n\t         * Unformat number string with user locale\n\t         * @param {Number}  value\n\t         * @param {Boolean} toFloat convert string to float value\n\t         * @return {String} formatted value\n\t         */\n\t        unformatNumberStringLocale: function unformatNumberStringLocale(value, toFloat) {\n\t            return this.unformatNumberString(value, app.user.getPreference('number_grouping_separator') || ',', app.user.getPreference('decimal_separator') || '.', toFloat);\n\t        },\n\t\n\t        /**\n\t         * This function will take a string that has tokens like {0}, {1} and will replace\n\t         * those tokens with the args provided.\n\t         * Based on format_string function from utils.php\n\t         * @param {String} format String to format\n\t         * @param {String} args Arguments to replace\n\t         * @return {String} formatted string\n\t         */\n\t        formatString: function formatString(format, args) {\n\t            for (var idx in args) {\n\t                format = format.replace('{' + idx + '}', args[idx]);\n\t            }\n\t            return format;\n\t        },\n\t\n\t        /**\n\t         * This function will take a string and escape it for use in javascript regex.\n\t         * @param {String} string the string to escape\n\t         * @return {String} string escaped\n\t         */\n\t        regexEscape: function regexEscape(string) {\n\t            if (typeof regexEscape.specialRegExp == 'undefined') {\n\t                var specials = ['/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\\\', '-', ',', '^', '$', '#'];\n\t                regexEscape.specialRegExp = new RegExp('(\\\\' + specials.join('|\\\\') + ')', 'g');\n\t            }\n\t            return string.replace(regexEscape.specialRegExp, '\\\\$1');\n\t        },\n\t\n\t        /**\n\t         * Generates and returns a UUID\n\t         * @return {string}\n\t         */\n\t        generateUUID: function generateUUID() {\n\t            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t                /*jshint -W016 */ // \"Unexpected use of '|'.\",\n\t                /*jshint -W116 */ // \"Expected '===' and instead saw '=='.\"\n\t                var r = Math.random() * 16 | 0,\n\t                    v = c == 'x' ? r : r & 0x3 | 0x8;\n\t                return v.toString(16);\n\t            });\n\t        },\n\t\n\t        cookie: {\n\t            /**\n\t             * Sets a cookie\n\t             * @param {String} cName cookie name\n\t             * @param {String} value\n\t             * @param {Number} exdays days until expiration\n\t             * @param {String} path cookie path\n\t             */\n\t            setCookie: function setCookie(cName, value, exdays, path) {\n\t                var exdate = new Date(),\n\t                    c_value;\n\t                exdate.setDate(exdate.getDate() + exdays);\n\t                c_value = encodeURIComponent(value);\n\t                if (exdays) {\n\t                    c_value += \"; expires=\" + exdate.toUTCString();\n\t                }\n\t                if (path) {\n\t                    c_value += \"; path=\" + path;\n\t                }\n\t                document.cookie = cName + \"=\" + c_value;\n\t            },\n\t\n\t            /**\n\t             * Gets a cookie\n\t             * @param {String} cName\n\t             * @return {String}\n\t             */\n\t            getCookie: function getCookie(cName) {\n\t                var i,\n\t                    x,\n\t                    y,\n\t                    ARRcookies = document.cookie.split(\";\");\n\t                for (i = 0; i < ARRcookies.length; i++) {\n\t                    x = ARRcookies[i].substr(0, ARRcookies[i].indexOf(\"=\"));\n\t                    y = ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\") + 1);\n\t                    x = x.replace(/^\\s+|\\s+$/g, \"\");\n\t                    if (x === cName) {\n\t                        return decodeURIComponent(y);\n\t                    }\n\t                }\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Checks if an email address is valid\n\t         *\n\t         * Only performs a very basic validation because the complexity of the\n\t         * server-side regular expression is too great to mirror on the client,\n\t         * both in terms of maintenance and difficulty in porting to a different\n\t         * engine. Even if the light-weight validation passes, the server-side\n\t         * validation may fail.\n\t         * \n\t         * @param {String} address\n\t         * @return {Boolean}\n\t         */\n\t        isValidEmailAddress: function isValidEmailAddress(address) {\n\t            return (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@\\S+$/.test(address)\n\t            );\n\t        },\n\t\n\t        /**\n\t         *  Based on YUI onAvailible, but will use any boolean function instead of an ID.\n\t         *  Once the given condition is met, the callback function will be executed.\n\t         *\n\t         * <pre><code>\n\t         * // Execute a callback once an Object is defined\n\t         * app.utils.doWhen(\"SUGAR.ObjectToWaitFor\", function(){\n\t         *     //Use the object here\n\t         *     console.log(SUGAR.ObjectToWaitFor);\n\t         * });\n\t         *\n\t         * // Use a function for condition and set paramters for the callback\n\t         * var el = $(\"#myId\");\n\t         * var cond = function(){return el.hasClass(\"foo\")};\n\t         * var callback = function(params){this.log(params.msg); el.html(params.html);};\n\t         * app.utils.doWhen(cond, callback, {msg:\"Hello World\", html:\"&lt;h1&gt;Exists!&lt;/h1&gt;\"}, console);\n\t         * </code></pre>\n\t           * @param {Function|string} condition function/evaluatable string which must return a boolean value.\n\t         * @param {Function} callback function to execute when condition is met\n\t         * @param {Object} [params] object to pass to the callback function\n\t         * @param {Object} [scope] object to use as this when executing the callback\n\t         */\n\t        doWhen: function doWhen(condition, callback, params, scope) {\n\t            _doWhenStack.push({\n\t                check: condition,\n\t                fn: callback,\n\t                obj: params,\n\t                overrideContext: scope\n\t            });\n\t\n\t            _doWhenretryCount = 50;\n\t            _startDoWhenInterval();\n\t        },\n\t        /**\n\t         *  The guts of doWhen. Runs through the stack checking all the conditions and fires the callbacks when the conditions are met.\n\t         * @private\n\t         */\n\t        _doWhenCheck: function _doWhenCheck() {\n\t            if (_doWhenStack.length === 0) {\n\t                _doWhenretryCount = 0;\n\t                if (_doWhenInterval) {\n\t                    clearInterval(_doWhenInterval);\n\t                    _doWhenInterval = null;\n\t                }\n\t                return;\n\t            }\n\t\n\t            if (_doWhenLocked) {\n\t                return;\n\t            }\n\t\n\t            _doWhenLocked = true;\n\t\n\t            // keep trying until after the page is loaded.  We need to\n\t            // check the page load state prior to trying to bind the\n\t            // elements so that we can be certain all elements have been\n\t            // tested appropriately\n\t            var tryAgain = $.isReady;\n\t            if (!tryAgain) {\n\t                tryAgain = _doWhenretryCount > 0 && _doWhenStack.length > 0;\n\t            }\n\t\n\t            // onAvailable\n\t            var notAvail = [];\n\t\n\t            var executeItem = function executeItem(context, item) {\n\t                if (item.overrideContext) {\n\t                    if (item.overrideContext === true) {\n\t                        context = item.obj;\n\t                    } else {\n\t                        context = item.overrideContext;\n\t                    }\n\t                }\n\t                if (item.fn) {\n\t                    item.fn.call(context, item.obj);\n\t                }\n\t            };\n\t\n\t            var i, len, item, test;\n\t\n\t            // onAvailable onContentReady\n\t            for (i = 0, len = _doWhenStack.length; i < len; i = i + 1) {\n\t                item = _doWhenStack[i];\n\t                if (item) {\n\t                    test = item.check;\n\t                    if (typeof test == 'string' && eval(test) || // jshint ignore:line\n\t                    typeof test == 'function' && test()) {\n\t                        executeItem(this, item);\n\t                        _doWhenStack[i] = null;\n\t                    } else {\n\t                        notAvail.push(item);\n\t                    }\n\t                }\n\t            }\n\t\n\t            _doWhenretryCount--;\n\t\n\t            if (tryAgain) {\n\t                for (i = _doWhenStack.length - 1; i > -1; i--) {\n\t                    item = _doWhenStack[i];\n\t                    if (!item || !item.check) {\n\t                        _doWhenStack.splice(i, 1);\n\t                    }\n\t                }\n\t                _startDoWhenInterval();\n\t            } else {\n\t                if (_doWhenInterval) {\n\t                    clearInterval(_doWhenInterval);\n\t                    _doWhenInterval = null;\n\t                }\n\t            }\n\t            _doWhenLocked = false;\n\t        },\n\t\n\t        /**\n\t         * Compares two version strings.\n\t         *\n\t         *     app.utils.versionCompare('8.2.5rc', '8.2.5a') === 1\n\t         *     app.utils.versionCompare('8.2.50', '8.2.52', '<') === true\n\t         *     app.utils.versionCompare('5.3.0-dev', '5.3.0') === -1\n\t         *     app.utils.versionCompare('4.1.0.52','4.01.0.51') === 1\n\t         *\n\t         * @param {string} v1 First version.\n\t         * @param {string} v2 Second version.\n\t         * @param {string} [operator] Operator argument, if specified, test for\n\t         *   a particular relationship. The possible operators are:\n\t         *   `<`, `lt`, `<=`, `le`, `>`, `gt`, `>=`, `ge`, `==`, `=`, `eq`,\n\t         *   `!=`, `<>`, and `ne`.\n\t         *   This parameter is case-sensitive, values should be lowercase.\n\t         *\n\t         * @return {number|boolean} By default, returns -1 if the first version\n\t         *   is lower than the second, 0 if they are equal, and 1 if the second\n\t         *   is lower. When using the optional operator argument, the function\n\t         *   will return `true` if the relationship is the one specified by the\n\t         *   operator, `false` otherwise.\n\t         */\n\t        versionCompare: function versionCompare(v1, v2, operator) {\n\t            // Use php.js implementation\n\t            // http://phpjs.org/functions/version_compare/\n\t            return version_compare(v1, v2, operator);\n\t        },\n\t\n\t        extendFrom: function extendFrom(subc, superc, overrides) {\n\t            subc.prototype = new superc(); // set the superclass\n\t            // overrides\n\t            _.extend(subc.prototype, overrides);\n\t        },\n\t\n\t        /**\n\t         * Creates a deep clone of an object.\n\t         * @param {Mixed} obj\n\t         * @return {Mixed} Returns a value of the same type as the input.\n\t         */\n\t        deepCopy: function deepCopy(obj) {\n\t            return _.isObject(obj) ? JSON.parse(JSON.stringify(obj)) : obj;\n\t        },\n\t\n\t        /**\n\t         * Compare field values in the first bean with the second bean and return the field names\n\t         * that have different values.\n\t         * @param {Bean} beanA\n\t         * @param {Bean} beanB\n\t         * @return {Array}\n\t         */\n\t        compareBeans: function compareBeans(beanA, beanB) {\n\t            var changedFields;\n\t\n\t            if (beanA.module !== beanB.module) {\n\t                throw Error('Only beans of the same module can be compared.');\n\t            }\n\t\n\t            changedFields = _.reduce(beanA.attributes, function (memo, value, attribute) {\n\t                // skip id field and all fields that start with an underscore\n\t                if (attribute !== 'id' && attribute.indexOf('_') !== 0) {\n\t                    if (!this.areBeanValuesEqual(value, beanB.get(attribute)) && this.hasDefaultValueChanged(attribute, beanA)) {\n\t                        memo.push(attribute);\n\t                    }\n\t                }\n\t\n\t                return memo;\n\t            }, [], this);\n\t\n\t            return changedFields;\n\t        },\n\t\n\t        /**\n\t         * Checks to see if values in beans are equal to each other.\n\t         * @param {Mixed} value1\n\t         * @param {Mixed} value2\n\t         * @return {boolean}\n\t         */\n\t        areBeanValuesEqual: function areBeanValuesEqual(value1, value2) {\n\t            var getValueToCompare = function getValueToCompare(value) {\n\t                if (_.isObject(value) && _.isEmpty(value)) {\n\t                    return '';\n\t                } else if (!_.isObject(value) && (_.isUndefined(value) || _.isNull(value))) {\n\t                    return '';\n\t                } else {\n\t                    return value;\n\t                }\n\t            };\n\t\n\t            value1 = getValueToCompare(value1);\n\t            value2 = getValueToCompare(value2);\n\t\n\t            return _.isObject(value1) && _.isEqual(value1, value2) || !_.isObject(value1) && value1 === value2;\n\t        },\n\t\n\t        /**\n\t         * Checks to see if the default value has changed.\n\t         * @param {string} attribute\n\t         * @param {Data.Bean} bean\n\t         * @return {boolean}\n\t         */\n\t        hasDefaultValueChanged: function hasDefaultValueChanged(attribute, bean) {\n\t            var defaultValue = bean._defaults ? bean._defaults[attribute] : '';\n\t            return !this.areBeanValuesEqual(defaultValue, bean.get(attribute));\n\t        },\n\t\n\t        /**\n\t         * Checks if the AJAX error is a network connectivity error: timeout, DNS, etc.\n\t         *\n\t         * @param ajaxError AJAX error.\n\t         * @returns {Boolean} true if the error is a network error.\n\t         */\n\t        isConnectivityError: function isConnectivityError(ajaxError) {\n\t            // There can be situations when the status is not zero but the actual request times out.\n\t            return ajaxError.status === 0 || ajaxError.textStatus === \"timeout\";\n\t        },\n\t\n\t        /**\n\t         * Returns ISO8601 timestamp in UTC time\n\t         * @param {String|Number} [dateValue] Date string or raw msec number\n\t         * @param {Object} [options]\n\t         * @returns {String} Passed date or current date converted to UTC timezone\n\t         */\n\t        getTimestamp: function getTimestamp(dateValue, options) {\n\t            options = options || {};\n\t            var date = dateValue ? new Date(dateValue) : new Date(),\n\t                dateString = date.toISOString();\n\t\n\t            if (!options.msecPrecision) {\n\t                dateString = dateString.replace(/\\.\\d{3}/, '');\n\t            }\n\t\n\t            //Z is replaced with +00:00 for unification with server\n\t            return dateString.replace(/Z/, '+00:00');\n\t        },\n\t\n\t        /**\n\t         * Builds a good url based on `siteUrl` from configuration.\n\t         *\n\t         * It is ready for the several use cases that `siteUrl` can have:\n\t         *\n\t         * - relative path (aka context);\n\t         * - full path;\n\t         * - empty path.\n\t         *\n\t         * @param {string} url the full url or a relative url without the prepended `/`.\n\t         * @return {string}\n\t         */\n\t        buildUrl: function buildUrl(url) {\n\t            // Adjust relative URL: prepend it with site URL\n\t            if (url.indexOf(\"http\") !== 0 && !_.isEmpty(app.config.siteUrl)) {\n\t                // Strip trailing forward slashes from site URL just in case\n\t                url = app.config.siteUrl.replace(/\\/+$/, \"\") + \"/\" + url;\n\t            }\n\t            return url;\n\t        },\n\t\n\t        /**\n\t          * Get diff between `data1` and `data2`.\n\t         * Note: this function is targeted to compare objects with the same properties.\n\t         * @param {Object} data1 Changed object\n\t         * @param {Object} data2 Original object\n\t         * @param {Boolean} [strict=false] By default values are compared property by property via non-strict comparison.\n\t         * @returns {Object} Hash of fields from `data1` which are different from `data2`\n\t         */\n\t        getChangedProps: function getChangedProps(data1, data2, strict) {\n\t\n\t            function getType(value) {\n\t                if (_.isObject(value)) {\n\t                    if (_.isArray(value)) {\n\t                        return 'array';\n\t                    }\n\t                    return 'object';\n\t                }\n\t                return 'other';\n\t            }\n\t\n\t            function isEqualProp(value1, value2) {\n\t\n\t                if (strict) return _.isEqual(value1, value2);\n\t\n\t                var value1Type = getType(value1),\n\t                    value2Type = getType(value2);\n\t\n\t                if (value1Type === value2Type && _.contains(['object', 'array'], value1Type)) {\n\t                    if (value1Type === 'array' && value1.length !== value2.length) {\n\t                        return false;\n\t                    }\n\t\n\t                    var keys1 = _.keys(value1),\n\t                        keys2 = _.keys(value2);\n\t\n\t                    if (keys1.length !== keys2.length || !_.isEqual(keys1.sort(), keys2.sort())) {\n\t                        return false;\n\t                    }\n\t\n\t                    return !_.any(value1, function (val, key) {\n\t                        return !isEqualProp(value1[key], value2[key]);\n\t                    });\n\t                } else {\n\t                    return strict ? value1 === value2 : value1 == value2;\n\t                }\n\t            }\n\t\n\t            var diff = {};\n\t\n\t            _.each(data1, function (value, key) {\n\t                if (!isEqualProp(data1[key], data2[key])) {\n\t                    diff[key] = value;\n\t                }\n\t            });\n\t\n\t            return diff;\n\t        },\n\t\n\t        /**\n\t         * Get the layout container for the given component.\n\t         * @param {View.Component} component\n\t         * @return {View.Layout}\n\t         */\n\t        getParentLayout: function getParentLayout(component) {\n\t            var parent;\n\t\n\t            if (component.view && component.view.layout) {\n\t                parent = component.view.layout;\n\t            } else {\n\t                parent = component.layout;\n\t            }\n\t\n\t            return parent;\n\t        },\n\t\n\t        isSortable: function isSortable(module, fieldViewdef) {\n\t            var fieldVardef = app.metadata.getModule(module).fields[fieldViewdef.name],\n\t                isSortable = true;\n\t\n\t            if (fieldVardef && !_.isUndefined(fieldVardef.sortable)) {\n\t                isSortable = fieldVardef.sortable;\n\t            }\n\t            if (fieldViewdef && !_.isUndefined(fieldViewdef.sortable)) {\n\t                isSortable = fieldViewdef.sortable;\n\t            }\n\t            return isSortable;\n\t        },\n\t\n\t        /**\n\t         * Returns url without hypertext http(s):// prefix\n\t         * @param {String} url - input url\n\t         * @returns {String} - url without http(s):// prefix\n\t         */\n\t        stripHttpPrefix: function stripHttpPrefix(url) {\n\t            return url.replace(/^https?:\\/\\//, '');\n\t        },\n\t\n\t        hardRefresh: function hardRefresh() {\n\t            window.location.reload(true);\n\t        },\n\t\n\t        /**\n\t         * Checks if the value should be rendered in RTL.\n\t         *\n\t         * @param {string} value The value to check.\n\t         * @return {boolean} `true` if the string is in a RTL language.\n\t         */\n\t        isDirectionRTL: function isDirectionRTL(value) {\n\t            var ltrChars = \"A-Za-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\" + \"\\u2C00-\\uFB1C\\uFDFE-\\uFE6F\\uFEFD-\\uFFFF\",\n\t                rtlChars = \"\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC\",\n\t                isRTL = new RegExp('^[^' + ltrChars + ']*[' + rtlChars + ']');\n\t\n\t            return isRTL.test(value);\n\t        }\n\t\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * This class extends from moment.js and tries to provide a compatibility\n\t     * layer with old/previous code.\n\t     *\n\t     * @class Utils.Date\n\t     * @alias SUGAR.App.date\n\t     * @singleton\n\t     */\n\t    var date = moment;\n\t\n\t    _.extend(date, {\n\t\n\t        /**\n\t         * Exception to be used when an invalid date/time is passed.\n\t         *\n\t         * @param {String} message The error message.\n\t         * @param {String} date The date that is invalid.\n\t         */\n\t        InvalidException: function InvalidException(message, date) {\n\t            this.name = 'InvalidException';\n\t            this.message = message;\n\t            this.date = date;\n\t        },\n\t\n\t        /**\n\t         * Cached formats of converted date/time formats from server to client.\n\t         *\n\t         * This cache is populated by {@link #convertFormat}\n\t         *\n\t         * @type {Object}\n\t         * @private\n\t         */\n\t        _cachedFormats: {},\n\t\n\t        /**\n\t         * Server date format according to momentjs.\n\t         * This is exactly the same as the server is expecting `Y-m-d`.\n\t         *\n\t         * @type {String}\n\t         * @private\n\t         */\n\t        _serverDateFormat: 'YYYY-MM-DD',\n\t\n\t        /**\n\t         * Convert PHP date/time format preference to JS.\n\t         *\n\t         * Momentjs uses a different formatting tokens:\n\t         * {@link http://momentjs.com/docs/#/parsing/string-format/}\n\t         *\n\t         * Known possible values to convert (out of the box):\n\t         *\n\t         * ```\n\t         * // dates\n\t         * 'Y-m-d'\n\t         * 'd-m-Y'\n\t         * 'm-d-Y'\n\t         * 'Y/m/d'\n\t         * 'd/m/Y'\n\t         * 'm/d/Y'\n\t         * 'Y.m.d'\n\t         * 'd.m.Y'\n\t         * 'm.d.Y'\n\t         *\n\t         * // time\n\t         * 'H:i'\n\t         * 'h:ia'\n\t         * 'h:iA'\n\t         * 'H.i'\n\t         * 'h.ia'\n\t         * 'h.iA'\n\t         * ```\n\t         *\n\t         * @param {String} server The server format preference to convert.\n\t         * @return {String} The converted format that momentjs understands.\n\t         * @private\n\t         *\n\t         */\n\t        convertFormat: function convertFormat(server) {\n\t\n\t            if (date._cachedFormats[server]) {\n\t                return date._cachedFormats[server];\n\t            }\n\t\n\t            var convertTable = {\n\t                // date\n\t                'd': 'DD', // day of the month w\\ leading zeros\n\t                'm': 'MM', // numeric month w\\ leading zeros\n\t                'Y': 'YYYY', // full numeric year\n\t                // time\n\t                'H': 'HH', // 24-hour format w\\ leading zeros\n\t                'h': 'hh', // 12-hour format w\\ leading zeros\n\t                'i': 'mm' // minutes w\\ leading zeros\n\t            };\n\t\n\t            var client = server;\n\t            _.each(convertTable, function (to, from) {\n\t                client = client.replace(from, to);\n\t            });\n\t            date._cachedFormats[server] = client;\n\t            return client;\n\t        },\n\t\n\t        /**\n\t         * Compares two dates and returns an integer that is great for sorting.\n\t         *\n\t         * @param {String} date1 The first date to compare.\n\t         * @param {String} date2 The second date to compare.\n\t         * @return {Number} Returns `-1`, `0` or `1` based on:\n\t         * - `-1` if date1 < date2\n\t         * - `0` if date1 = date2\n\t         * - `1` if date1 > date2\n\t         *\n\t         * @throws {Error} if any of the given dates are invalid.\n\t         */\n\t        compare: function compare(date1, date2) {\n\t            var mDate1 = moment(date1),\n\t                mDate2 = moment(date2);\n\t\n\t            if (!mDate1.isValid()) {\n\t                throw new date.InvalidException('Invalid date passed for comparison.', date1);\n\t            }\n\t            if (!mDate2.isValid()) {\n\t                throw new date.InvalidException('Invalid date passed for comparison.', date2);\n\t            }\n\t\n\t            if (mDate1.isBefore(mDate2)) {\n\t                return -1;\n\t            }\n\t            if (mDate1.isAfter(mDate2)) {\n\t                return 1;\n\t            }\n\t            return 0;\n\t        },\n\t\n\t        /**\n\t         * Get the date format preference for the given user.\n\t         * @param {Data.Bean|Object} user\n\t         * @return {string}\n\t         */\n\t        getUserDateFormat: function getUserDateFormat(user) {\n\t            user = user || app.user;\n\t            return this.convertFormat(user.getPreference('datepref'));\n\t        },\n\t\n\t        /**\n\t         * Get the time format preference for the given user.\n\t         * @param {Data.Bean|Object} user\n\t         * @return {string}\n\t         */\n\t        getUserTimeFormat: function getUserTimeFormat(user) {\n\t            user = user || app.user;\n\t            return this.convertFormat(user.getPreference('timepref'));\n\t        },\n\t\n\t        phpStrToTime: function phpStrToTime(text, now) {\n\t            //  discuss at: http://phpjs.org/functions/strtotime/\n\t            //     version: 1109.2016\n\t            // original by: Caio Ariede (http://caioariede.com)\n\t            // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t            // improved by: Caio Ariede (http://caioariede.com)\n\t            // improved by: A. Matías Quezada (http://amatiasq.com)\n\t            // improved by: preuter\n\t            // improved by: Brett Zamir (http://brett-zamir.me)\n\t            // improved by: Mirko Faber\n\t            //    input by: David\n\t            // bugfixed by: Wagner B. Soares\n\t            // bugfixed by: Artur Tchernychev\n\t            // bugfixed by: Stephan Bösch-Plepelits (http://github.com/plepe)\n\t            //        note: Examples all have a fixed timestamp to prevent tests to fail because of variable time(zones)\n\t            //   example 1: strtotime('+1 day', 1129633200);\n\t            //   returns 1: 1129719600\n\t            //   example 2: strtotime('+1 week 2 days 4 hours 2 seconds', 1129633200);\n\t            //   returns 2: 1130425202\n\t            //   example 3: strtotime('last month', 1129633200);\n\t            //   returns 3: 1127041200\n\t            //   example 4: strtotime('2009-05-04 08:30:00 GMT');\n\t            //   returns 4: 1241425800\n\t            //   example 5: strtotime('2009-05-04 08:30:00+00');\n\t            //   returns 5: 1241425800\n\t            //   example 6: strtotime('2009-05-04 08:30:00+02:00');\n\t            //   returns 6: 1241418600\n\t            //   example 7: strtotime('2009-05-04T08:30:00Z');\n\t            //   returns 7: 1241425800\n\t\n\t            var parsed,\n\t                match,\n\t                today,\n\t                year,\n\t                date,\n\t                days,\n\t                ranges,\n\t                len,\n\t                times,\n\t                regex,\n\t                i,\n\t                fail = false;\n\t\n\t            if (!text) {\n\t                return fail;\n\t            }\n\t\n\t            // Unecessary spaces\n\t            text = text.replace(/^\\s+|\\s+$/g, '').replace(/\\s{2,}/g, ' ').replace(/[\\t\\r\\n]/g, '').toLowerCase();\n\t\n\t            // in contrast to php, js Date.parse function interprets:\n\t            // dates given as yyyy-mm-dd as in timezone: UTC,\n\t            // dates with \".\" or \"-\" as MDY instead of DMY\n\t            // dates with two-digit years differently\n\t            // etc...etc...\n\t            // ...therefore we manually parse lots of common date formats\n\t            match = text.match(/^(\\d{1,4})([\\-\\.\\/\\:])(\\d{1,2})([\\-\\.\\/\\:])(\\d{1,4})(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?(?:\\s([A-Z]+)?)?$/);\n\t\n\t            if (match && match[2] === match[4]) {\n\t                if (match[1] > 1901) {\n\t                    switch (match[2]) {\n\t                        case '-':\n\t                            {\n\t                                // YYYY-M-D\n\t                                if (match[3] > 12 || match[5] > 31) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                return new Date(match[1], parseInt(match[3], 10) - 1, match[5], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                            }\n\t                        case '.':\n\t                            {\n\t                                // YYYY.M.D is not parsed by strtotime()\n\t                                return fail;\n\t                            }\n\t                        case '/':\n\t                            {\n\t                                // YYYY/M/D\n\t                                if (match[3] > 12 || match[5] > 31) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                return new Date(match[1], parseInt(match[3], 10) - 1, match[5], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                            }\n\t                    }\n\t                } else if (match[5] > 1901) {\n\t                    switch (match[2]) {\n\t                        case '-':\n\t                            {\n\t                                // D-M-YYYY\n\t                                if (match[3] > 12 || match[1] > 31) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                return new Date(match[5], parseInt(match[3], 10) - 1, match[1], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                            }\n\t                        case '.':\n\t                            {\n\t                                // D.M.YYYY\n\t                                if (match[3] > 12 || match[1] > 31) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                return new Date(match[5], parseInt(match[3], 10) - 1, match[1], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                            }\n\t                        case '/':\n\t                            {\n\t                                // M/D/YYYY\n\t                                if (match[1] > 12 || match[3] > 31) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                return new Date(match[5], parseInt(match[1], 10) - 1, match[3], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                            }\n\t                    }\n\t                } else {\n\t                    switch (match[2]) {\n\t                        case '-':\n\t                            {\n\t                                // YY-M-D\n\t                                if (match[3] > 12 || match[5] > 31 || match[1] < 70 && match[1] > 38) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                year = match[1] >= 0 && match[1] <= 38 ? +match[1] + 2000 : match[1];\n\t                                return new Date(year, parseInt(match[3], 10) - 1, match[5], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                            }\n\t                        case '.':\n\t                            {\n\t                                // D.M.YY or H.MM.SS\n\t                                if (match[5] >= 70) {\n\t                                    // D.M.YY\n\t                                    if (match[3] > 12 || match[1] > 31) {\n\t                                        return fail;\n\t                                    }\n\t\n\t                                    return new Date(match[5], parseInt(match[3], 10) - 1, match[1], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                                }\n\t                                if (match[5] < 60 && !match[6]) {\n\t                                    // H.MM.SS\n\t                                    if (match[1] > 23 || match[3] > 59) {\n\t                                        return fail;\n\t                                    }\n\t\n\t                                    today = new Date();\n\t                                    return new Date(today.getFullYear(), today.getMonth(), today.getDate(), match[1] || 0, match[3] || 0, match[5] || 0, match[9] || 0) / 1000;\n\t                                }\n\t\n\t                                // invalid format, cannot be parsed\n\t                                return fail;\n\t                            }\n\t                        case '/':\n\t                            {\n\t                                // M/D/YY\n\t                                if (match[1] > 12 || match[3] > 31 || match[5] < 70 && match[5] > 38) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                year = match[5] >= 0 && match[5] <= 38 ? +match[5] + 2000 : match[5];\n\t                                return new Date(year, parseInt(match[1], 10) - 1, match[3], match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n\t                            }\n\t                        case ':':\n\t                            {\n\t                                // HH:MM:SS\n\t                                if (match[1] > 23 || match[3] > 59 || match[5] > 59) {\n\t                                    return fail;\n\t                                }\n\t\n\t                                today = new Date();\n\t                                return new Date(today.getFullYear(), today.getMonth(), today.getDate(), match[1] || 0, match[3] || 0, match[5] || 0) / 1000;\n\t                            }\n\t                    }\n\t                }\n\t            }\n\t\n\t            // other formats and \"now\" should be parsed by Date.parse()\n\t            if (text === 'now') {\n\t                return now === null || isNaN(now) ? new Date().getTime() / 1000 | 0 : now | 0;\n\t            }\n\t            if (!isNaN(parsed = Date.parse(text))) {\n\t                return parsed / 1000 | 0;\n\t            }\n\t            // Browsers != Chrome have problems parsing ISO 8601 date strings, as they do\n\t            // not accept lower case characters, space, or shortened time zones.\n\t            // Therefore, fix these problems and try again.\n\t            // Examples:\n\t            //   2015-04-15 20:33:59+02\n\t            //   2015-04-15 20:33:59z\n\t            //   2015-04-15t20:33:59+02:00\n\t            match = text.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)([\\+-][0-9]{2}(:[0-9]{2})?|z)/);\n\t            if (match) {\n\t                // fix time zone information\n\t                if (match[4] == 'z') {\n\t                    match[4] = 'Z';\n\t                } else if (match[4].match(/^([\\+-][0-9]{2})$/)) {\n\t                    match[4] = match[4] + ':00';\n\t                }\n\t\n\t                if (!isNaN(parsed = Date.parse(match[1] + 'T' + match[2] + match[4]))) {\n\t                    return parsed / 1000 | 0;\n\t                }\n\t            }\n\t\n\t            date = now ? new Date(now * 1000) : new Date();\n\t            days = {\n\t                'sun': 0,\n\t                'mon': 1,\n\t                'tue': 2,\n\t                'wed': 3,\n\t                'thu': 4,\n\t                'fri': 5,\n\t                'sat': 6\n\t            };\n\t            ranges = {\n\t                'yea': 'FullYear',\n\t                'mon': 'Month',\n\t                'day': 'Date',\n\t                'hou': 'Hours',\n\t                'min': 'Minutes',\n\t                'sec': 'Seconds'\n\t            };\n\t\n\t            function lastNext(type, range, modifier) {\n\t                var diff,\n\t                    day = days[range];\n\t\n\t                if (typeof day !== 'undefined') {\n\t                    diff = day - date.getDay();\n\t\n\t                    if (diff === 0) {\n\t                        diff = 7 * modifier;\n\t                    } else if (diff > 0 && type === 'last') {\n\t                        diff -= 7;\n\t                    } else if (diff < 0 && type === 'next') {\n\t                        diff += 7;\n\t                    }\n\t\n\t                    date.setDate(date.getDate() + diff);\n\t                }\n\t            }\n\t\n\t            function process(val) {\n\t                var splt = val.split(' '),\n\t                    // Todo: Reconcile this with regex using \\s, taking into account browser issues with split and regexes\n\t                type = splt[0],\n\t                    range = splt[1].substring(0, 3),\n\t                    typeIsNumber = /\\d+/.test(type),\n\t                    ago = splt[2] === 'ago',\n\t                    num = (type === 'last' ? -1 : 1) * (ago ? -1 : 1);\n\t\n\t                if (typeIsNumber) {\n\t                    num *= parseInt(type, 10);\n\t                }\n\t\n\t                if (ranges.hasOwnProperty(range) && !splt[1].match(/^mon(day|\\.)?$/i)) {\n\t                    return date['set' + ranges[range]](date['get' + ranges[range]]() + num);\n\t                }\n\t\n\t                if (range === 'wee') {\n\t                    return date.setDate(date.getDate() + num * 7);\n\t                }\n\t\n\t                if (type === 'next' || type === 'last') {\n\t                    lastNext(type, range, num);\n\t                } else if (!typeIsNumber) {\n\t                    return false;\n\t                }\n\t\n\t                return true;\n\t            }\n\t\n\t            times = '(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec' + '|sunday|sun\\\\.?|monday|mon\\\\.?|tuesday|tue\\\\.?|wednesday|wed\\\\.?' + '|thursday|thu\\\\.?|friday|fri\\\\.?|saturday|sat\\\\.?)';\n\t            regex = '([+-]?\\\\d+\\\\s' + times + '|' + '(last|next)\\\\s' + times + ')(\\\\sago)?';\n\t\n\t            match = text.match(new RegExp(regex, 'gi'));\n\t            if (!match) {\n\t                return fail;\n\t            }\n\t\n\t            for (i = 0, len = match.length; i < len; i++) {\n\t                if (!process(match[i])) {\n\t                    return fail;\n\t                }\n\t            }\n\t\n\t            // ECMAScript 5 only\n\t            // if (!match.every(process))\n\t            //    return false;\n\t\n\t            return date.getTime() / 1000;\n\t        }\n\t\n\t    });\n\t\n\t    /**\n\t     * @deprecated since 7.2.0. Convert your code to new date functionality.\n\t     * @private\n\t     */\n\t    var _formatStringCache = {}; // hash table of the datetime formats that have already been parsed\n\t\n\t    /**\n\t     * Deprecated functionality will be kept in the old singleton prototype.\n\t     * @deprecated since 7.2.0. Convert your code to new date functionality.\n\t     */\n\t    _.extend(date, {\n\t        /**\n\t         * Parses date strings into js Date()s\n\t         * @param {String} date date string\n\t         * @param {String} oldFormat date format string. If not specified parse will guess the date format\n\t         * @return {Date} javascript date object\n\t         */\n\t        parse: function parse(date, oldFormat) {\n\t            var jsDate = new Date(\"Jan 1, 1970 00:00:00\"),\n\t                part = \"\",\n\t                dateRemain,\n\t                j,\n\t                c,\n\t                i,\n\t                v,\n\t                timeformat;\n\t\n\t            //if already a Date return it\n\t            if (date instanceof Date) return date;\n\t\n\t            // TODO add user prefs support\n\t\n\t            if (!oldFormat) {\n\t                oldFormat = this.guessFormat(date);\n\t            }\n\t\n\t            if (oldFormat === false) {\n\t                //Check if date is a timestamp\n\t                if (/^\\d+$/.test(date)) {\n\t                    return new Date(date);\n\t                }\n\t\n\t                //we cant figure out the format so return false\n\t                return false;\n\t            }\n\t\n\t            dateRemain = $.trim(date);\n\t            oldFormat = $.trim(oldFormat) + \" \"; // Trailing space to read as last separator.\n\t            for (j = 0; j < oldFormat.length; j++) {\n\t                c = oldFormat.charAt(j);\n\t                if (c === ':' || c === '/' || c === '-' || c === '.' || c === \" \" || c === 'a' || c === \"A\") {\n\t                    i = dateRemain.indexOf(c);\n\t                    if (i === -1) i = dateRemain.length;\n\t                    v = dateRemain.substring(0, i);\n\t                    dateRemain = dateRemain.substring(i + 1);\n\t                    switch (part) {\n\t                        case 'm':\n\t                            if (!(v > 0 && v < 13)) return false;\n\t                            jsDate.setMonth(v - 1);\n\t                            break;\n\t                        case 'd':\n\t                            if (!(v > 0 && v < 32)) return false;\n\t                            jsDate.setDate(v);\n\t                            break;\n\t                        case 'Y':\n\t                            if (v > 0 === false) return false;\n\t                            jsDate.setYear(v);\n\t                            break;\n\t                        case 'h':\n\t                            //Read time, assume minutes are at end of date string (we do not accept seconds)\n\t                            timeformat = oldFormat.substring(oldFormat.length - 4);\n\t                            v = parseInt(v, 10);\n\t                            var timeFormatString = $.trim(timeformat.toLowerCase());\n\t                            if (timeFormatString === \"i a\" || timeFormatString === c + \"ia\") {\n\t                                var postfix = dateRemain.substring(dateRemain.length - 2).toLowerCase();\n\t                                if (postfix === 'pm') {\n\t                                    if (v < 12) {\n\t                                        v += 12;\n\t                                    }\n\t                                }\n\t                                // 12:00am => 00:00:00\n\t                                else if (postfix === 'am' && v === 12) {\n\t                                        v = 0;\n\t                                    }\n\t                            }\n\t                            jsDate.setHours(v);\n\t                            break;\n\t                        case 'H':\n\t                            jsDate.setHours(v);\n\t                            break;\n\t                        case 'i':\n\t                            v = v.substring(0, 2);\n\t                            jsDate.setMinutes(v);\n\t                            break;\n\t                        case 's':\n\t                            jsDate.setSeconds(v);\n\t                            break;\n\t                    }\n\t                    part = \"\";\n\t                } else {\n\t                    part = c;\n\t                }\n\t            }\n\t            return jsDate;\n\t        },\n\t\n\t        /**\n\t         * Guesses format of a date string.\n\t         * @param {String} date Date string\n\t         * @return {String} Date format.\n\t         */\n\t        guessFormat: function guessFormat(date) {\n\t            if (typeof date !== \"string\") return false;\n\t            //Is there a time\n\t            var time = \"\",\n\t                dateSep,\n\t                dateParts,\n\t                dateFormat,\n\t                timeFormat,\n\t                timeParts,\n\t                timeSep,\n\t                ampmCase,\n\t                timeEnd;\n\t\n\t            if (date.indexOf(\" \") !== -1) {\n\t                time = date.substring(date.indexOf(\" \") + 1, date.length);\n\t                date = date.substring(0, date.indexOf(\" \"));\n\t            }\n\t\n\t            //First detect if the date contains \"-\" or \"/\"\n\t            dateSep = \"/\";\n\t            if (date.indexOf(\"/\") !== -1) {} else if (date.indexOf(\"-\") !== -1) {\n\t                dateSep = \"-\";\n\t            } else if (date.indexOf(\".\") !== -1) {\n\t                dateSep = \".\";\n\t            } else {\n\t                return false;\n\t            }\n\t\n\t            dateParts = date.split(dateSep);\n\t            dateFormat = \"\";\n\t\n\t            if (dateParts[0].length === 4) {\n\t                dateFormat = \"Y\" + dateSep + \"m\" + dateSep + \"d\";\n\t            } else if (dateParts[2].length === 4) {\n\t                dateFormat = \"m\" + dateSep + \"d\" + dateSep + \"Y\";\n\t            } else {\n\t                return false;\n\t            }\n\t\n\t            timeFormat = \"\";\n\t            timeParts = [];\n\t\n\t            // Check for time\n\t            if (time !== \"\") {\n\t\n\t                // start at the i, we always have minutes\n\t                timeParts.push(\"i\");\n\t\n\t                timeSep = \":\";\n\t\n\t                if (time.indexOf(\".\") === 2) {\n\t                    timeSep = \".\";\n\t                }\n\t\n\t                // if its long we have seconds\n\t                if (time.split(timeSep).length === 3) {\n\t                    timeParts.push(\"s\");\n\t                }\n\t                ampmCase = '';\n\t\n\t                // check for am/pm\n\t                timeEnd = time.substring(time.length - 2, time.length);\n\t                if (timeEnd.toLowerCase() === \"am\" || timeEnd.toLowerCase() === \"pm\") {\n\t                    timeParts.unshift(\"h\");\n\t                    if (timeEnd.toLowerCase() === timeEnd) {\n\t                        ampmCase = 'lower';\n\t                    } else {\n\t                        ampmCase = 'upper';\n\t                    }\n\t                } else {\n\t                    timeParts.unshift(\"H\");\n\t                }\n\t\n\t                timeFormat = timeParts.join(timeSep);\n\t\n\t                // check for space between am/pm and time\n\t                if (time.indexOf(\" \") !== -1) {\n\t                    timeFormat += \" \";\n\t                }\n\t\n\t                // deal with upper and lowercase am pm\n\t                if (ampmCase && ampmCase === 'upper') {\n\t                    timeFormat += \"A\";\n\t                } else if (ampmCase && ampmCase === 'lower') {\n\t                    timeFormat += \"a\";\n\t                }\n\t\n\t                dateFormat = dateFormat + \" \" + timeFormat;\n\t            }\n\t\n\t            return dateFormat;\n\t        },\n\t\n\t        /**\n\t         * Parse a date format string into each of it's individual representations. Supports\n\t         * only the options that are supported by the date.format function.\n\t         *\n\t         * @param {String} format   date format string such as \"Y-m-d H:i:s\"\n\t         * @return {Object} object with properties representing each piece of a format\n\t         */\n\t        parseFormat: function parseFormat(format) {\n\t            // if this format has been seen before then don't bother parsing it again\n\t            if (!(format in _formatStringCache)) {\n\t                var parts = {},\n\t                    i,\n\t                    c;\n\t\n\t                for (i = 0; i < format.length; i++) {\n\t                    c = format.charAt(i);\n\t                    switch (c) {\n\t                        case 'm':\n\t                        case 'n':\n\t                            parts.month = c;\n\t                            break;\n\t                        case 'd':\n\t                        case 'j':\n\t                            parts.day = c;\n\t                            break;\n\t                        case 'Y':\n\t                            parts.year = c;\n\t                            break;\n\t                        case 'H':\n\t                        case 'h':\n\t                        case 'g':\n\t                            parts.hours = c;\n\t                            break;\n\t                        case 'i':\n\t                            parts.minutes = c;\n\t                            break;\n\t                        case 's':\n\t                            parts.seconds = c;\n\t                            break;\n\t                        case 'A':\n\t                        case 'a':\n\t                            parts.amPm = c;\n\t                            break;\n\t                        default:\n\t                            break;\n\t                    }\n\t                }\n\t\n\t                // cache the result so it doesn't have to be parsed again\n\t                _formatStringCache[format] = parts;\n\t            }\n\t\n\t            return _formatStringCache[format];\n\t        },\n\t\n\t        /**\n\t         * Formats javascript date objects into date strings\n\t         * @param {Date} date\n\t         * @param {String} format date format string such as \"Y-m-d H:i:s\"\n\t         * @return {String} formatted date string\n\t         */\n\t        format: function format(date, _format) {\n\t            if (!_.isDate(date)) return \"\";\n\t            // TODO: add support for userPrefs\n\t            var out = \"\",\n\t                i,\n\t                c,\n\t                d,\n\t                h,\n\t                m,\n\t                s;\n\t            for (i = 0; i < _format.length; i++) {\n\t                c = _format.charAt(i);\n\t                switch (c) {\n\t                    case '\\\\':\n\t                        out += _format.charAt(i + 1);\n\t                        // skip next character\n\t                        i++;\n\t                        break;\n\t                    case 'm':\n\t                    case 'n':\n\t                        m = date.getMonth() + 1;\n\t                        out += m < 10 && c === \"m\" ? \"0\" + m : m;\n\t                        break;\n\t                    case 'd':\n\t                    case 'j':\n\t                        d = date.getDate();\n\t                        out += d < 10 && c === \"d\" ? \"0\" + d : d;\n\t                        break;\n\t                    case 'Y':\n\t                        out += date.getFullYear();\n\t                        break;\n\t                    case 'H':\n\t                    case 'h':\n\t                    case 'g':\n\t                        h = date.getHours();\n\t                        if (c === \"h\" || c === \"g\") {\n\t                            h = h > 12 ? h - 12 : h;\n\t                            //Convert 0 to 12 for 12 hour formats\n\t                            h = h === 0 ? 12 : h;\n\t                        }\n\t                        out += h < 10 && c !== \"g\" ? \"0\" + h : h;\n\t                        break;\n\t                    case 'i':\n\t                        m = date.getMinutes();\n\t                        out += m < 10 ? \"0\" + m : m;\n\t                        break;\n\t                    case 's':\n\t                        s = date.getSeconds();\n\t                        out += s < 10 ? \"0\" + s : s;\n\t                        break;\n\t                    case 'a':\n\t                    case 'A':\n\t                        if (date.getHours() < 12) out += c === \"a\" ? \"am\" : \"AM\";else out += c === \"a\" ? \"pm\" : \"PM\";\n\t                        break;\n\t                    default:\n\t                        out += c;\n\t                }\n\t            }\n\t            return out;\n\t        },\n\t\n\t        /**\n\t         * Rounds a date to the nearest 15 minutes.\n\t         * @param {Date} date A date to round.\n\t         * @return {Date} Rounded date.\n\t         */\n\t        roundTime: function roundTime(date) {\n\t            if (!date.getMinutes) return 0;\n\t            var min = date.getMinutes();\n\t\n\t            if (min < 1) {\n\t                min = 0;\n\t            } else if (min < 16) {\n\t                min = 15;\n\t            } else if (min < 31) {\n\t                min = 30;\n\t            } else if (min < 46) {\n\t                min = 45;\n\t            } else {\n\t                min = 0;\n\t                date.setHours(date.getHours() + 1);\n\t            }\n\t\n\t            date.setMinutes(min);\n\t\n\t            return date;\n\t        },\n\t\n\t        /**\n\t         * Converts a UTC date to a local time date\n\t         * @param {Date} date a UTC date.\n\t         * @return {Date} Date converted to local date.\n\t         * @method\n\t         */\n\t        UTCtoLocalTime: function UTCtoLocalTime(date) {\n\t            //if not a Date return it\n\t            if (!(date instanceof Date)) return date;\n\t\n\t            // Push the UTC tag to convert the date into local date\n\t            return new Date(this.toUTC(date));\n\t        },\n\t\n\t        /**\n\t         * Converts a UTC date to a date in the timezone represented by the offset.\n\t         *\n\t         * @param {Date} date  A UTC date.\n\t         * @param {Number} offset  The timezone's UTC offset in hours.\n\t         * @return {Date} Converted date.\n\t         * @method\n\t         */\n\t        UTCtoTimezone: function UTCtoTimezone(date, offset) {\n\t            // if date is not a Date or there is no offset then return date\n\t            if (!(date instanceof Date) || undefined === offset || null === offset) {\n\t                return date;\n\t            }\n\t\n\t            // convert the offset to milliseconds\n\t            // parseFloat is used to guarantee that offset is numerical before converting it\n\t            offset = parseFloat(offset) * 60 * 60 * 1000;\n\t\n\t            // the offset really needs to be the difference between the local time offset and the user's\n\t            // preferred offset since javascript always represents dates in local time\n\t            // javascript uses +7 hours while the api uses -7 hours to represent the same timezone offset,\n\t            // so the javascript offset must be negated\n\t            offset -= date.getTimezoneOffset() * 60 * 1000 * -1;\n\t\n\t            return new Date(this.toUTC(date) + offset);\n\t        },\n\t\n\t        /**\n\t         * Converts the date from local to UTC. Even though the date on the server is UTC,\n\t         * JavaScript represents the date according to the local timezone. Use this function\n\t         * to get the time value of the real UTC date, ignoring the timezone JavaScript\n\t         * imposes on the date object.\n\t         *\n\t         * @param {Date} date a UTC date\n\t         * @return {Number}  the number of milliseconds between universal time and date\n\t         */\n\t        toUTC: function toUTC(date) {\n\t            //if not a Date return it\n\t            if (!(date instanceof Date)) {\n\t                return date;\n\t            }\n\t\n\t            var year = date.getFullYear(),\n\t                month = date.getMonth(),\n\t                day = date.getDate(),\n\t                hours = date.getHours(),\n\t                minutes = date.getMinutes(),\n\t                seconds = date.getSeconds(),\n\t                milliseconds = date.getMilliseconds();\n\t\n\t            return Date.UTC(year, month, day, hours, minutes, seconds, milliseconds);\n\t        },\n\t\n\t        /**\n\t         * Converts a date object into a relative time.\n\t         * @param {Date} date\n\t         * @return {Object} object containing relative time key string and value to push to the template\n\t         */\n\t        getRelativeTimeLabel: function getRelativeTimeLabel(date) {\n\t            var rightNow = new Date();\n\t            var isFuture = rightNow.getTime() < date.getTime();\n\t            //If incoming date is future we want to flip the calculation\n\t            var diff = isFuture ? date - rightNow : rightNow - date;\n\t            var second = 1000,\n\t                minute = second * 60,\n\t                hour = minute * 60,\n\t                day = hour * 24,\n\t                ctx = { str: \"\", value: undefined };\n\t\n\t            if (isNaN(diff) || diff < 0) {\n\t                return ctx; // return blank string if unknown\n\t            }\n\t            if (diff < second * 2) {\n\t                // within 2 seconds\n\t                ctx.str = 'LBL_TIME_AGO_NOW';\n\t                return ctx;\n\t            }\n\t\n\t            if (diff < minute) {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_SECONDS' : 'LBL_TIME_AGO_SECONDS';\n\t                ctx.value = Math.floor(diff / second);\n\t                return ctx;\n\t            }\n\t            if (diff < minute * 2) {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_MINUTE' : 'LBL_TIME_AGO_MINUTE';\n\t                return ctx;\n\t            }\n\t            if (diff < hour) {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_MINUTES' : 'LBL_TIME_AGO_MINUTES';\n\t                ctx.value = Math.floor(diff / minute);\n\t                return ctx;\n\t            }\n\t            if (diff < hour * 2) {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_HOUR' : 'LBL_TIME_AGO_HOUR';\n\t                return ctx;\n\t            }\n\t            if (diff < day) {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_HOURS' : 'LBL_TIME_AGO_HOURS';\n\t                ctx.value = Math.floor(diff / hour);\n\t                return ctx;\n\t            }\n\t            if (diff > day && diff < day * 2) {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_DAY' : 'LBL_TIME_AGO_DAY';\n\t                return ctx;\n\t            }\n\t            if (diff < day * 365) {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_DAYS' : 'LBL_TIME_AGO_DAYS';\n\t                ctx.value = Math.floor(diff / day);\n\t                return ctx;\n\t            } else {\n\t                ctx.str = isFuture ? 'LBL_TIME_UNTIL_YEAR' : 'LBL_TIME_AGO_YEAR';\n\t                return ctx;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Parses display_default property which server returns for datetimecombo meta, etc. (for example,\n\t         * if the user sets the default in Studio). The following are possibilities:\n\t         * +1 day&06:00pm\n\t         * -1 day&06:00pm\n\t         * +1 week&06:00pm\n\t         * +1 month&06:00pm\n\t         * +1 year&06:00pm\n\t         * now&06:00pm\n\t         * next monday&06:00pm\n\t         * next friday&06:00pm\n\t         * first of next month@06:00pm\n\t         *\n\t         * @param {String} displayDefault\n\t         * @param {Date} now An optional date to use as a point of reference (since we essentially convert\n\t         * \"+1 day\", etc., to an adjusted date). This is mainly for testing odd dates like adding a month\n\t         * specifically to January 31, etc. If not passed, current date will be used.\n\t         * @return {String} String rep which can subsequently be used by later used for date.parse\n\t         * e.g. \"2012-08-09 00:30am\"\n\t         */\n\t        parseDisplayDefault: function parseDisplayDefault(displayDefault, now) {\n\t            var dateMap, d, dt, humanDate, defaultTime, addMonths, next, setTimePart;\n\t            var dateObj = now ? now : new Date(),\n\t                op,\n\t                timeAway,\n\t                parts;\n\t\n\t            if (!displayDefault) return displayDefault;\n\t\n\t            // This adds months from 'd' date passed in. 'n' is the number of months to add.\n\t            // Of course, you can use a negative sign to subtract months.\n\t            addMonths = function addMonths(d, n) {\n\t                var day = d.getDate();\n\t                d.setMonth(d.getMonth() + n);\n\t                if (d.getDate() < day) {\n\t                    d.setDate(1);\n\t                    d.setDate(d.getDate() - 1);\n\t                }\n\t                return d;\n\t            };\n\t\n\t            // Helper to return the number of days from now to 'day' (see dateObj initialization above)\n\t            next = function next(day) {\n\t                var days, todayDay, daysUntilNext;\n\t                days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n\t                todayDay = dateObj.getDay();\n\t                day = day.toLowerCase();\n\t\n\t                for (var i = 7; i--;) {\n\t                    if (day === days[i]) {\n\t                        day = i <= todayDay ? i + 7 : i;\n\t                        break;\n\t                    }\n\t                }\n\t                daysUntilNext = day - todayDay;\n\t                return daysUntilNext;\n\t            };\n\t\n\t            // Maps keys with functions that converts human date as appropriate per key (e.g. +1 day, etc.)\n\t            dateMap = {\n\t                day: function day(operator) {\n\t                    return new Date(dateObj.setDate(dateObj.getDate() + operator));\n\t                },\n\t                week: function week(operator) {\n\t                    return new Date(dateObj.setDate(dateObj.getDate() + operator * 7));\n\t                },\n\t                month: function month(operator) {\n\t                    return addMonths(dateObj, operator);\n\t                },\n\t                year: function year(operator) {\n\t                    return addMonths(dateObj, operator * 12);\n\t                },\n\t                'now': function now() {\n\t                    return dateObj;\n\t                },\n\t                'next monday': function nextMonday() {\n\t                    return new Date(dateObj.setDate(dateObj.getDate() + next(\"monday\")));\n\t                },\n\t                'next friday': function nextFriday() {\n\t                    return new Date(dateObj.setDate(dateObj.getDate() + next(\"friday\")));\n\t                },\n\t                'first of next month': function firstOfNextMonth() {\n\t                    // First set date to first day of \"this month\" so we don't have a potential\n\t                    // date overrun (e.g. today's Oct 31 and we +1 month but no Nov 31 so Dec 1!)\n\t                    dateObj.setDate(1);\n\t                    // Now it's safe to add +1 months\n\t                    var sinceEpoch = dateObj.setMonth(dateObj.getMonth() + 1);\n\t                    return new Date(sinceEpoch);\n\t                }\n\t            };\n\t\n\t            // Main entry point - parses displayDefault and calls correspondingly\n\t            // mapped function to resolve to suitable date string for date.parse\n\t            if (displayDefault && displayDefault.indexOf('&') >= 0) {\n\t                dt = displayDefault.split(\"&\"); //e.g. +1 day&06:00pm\n\t                humanDate = dt[0];\n\t                defaultTime = dt[1];\n\t            } else {\n\t                humanDate = displayDefault; // assume no time part e.g. for type date\n\t            }\n\t\n\t            if (humanDate.match(/\\b(now|day|week|month|year)/g)) {\n\t                if (humanDate.indexOf('now') === 0) {\n\t                    timeAway = 'now';\n\t                } else if (humanDate.indexOf(\"first day of next month\") !== -1) {\n\t                    timeAway = 'firstnextmonth';\n\t                } else {\n\t                    parts = humanDate.split(' ');\n\t                    op = parts[0];\n\t                    timeAway = parts[1];\n\t                }\n\t                if (timeAway.match('now')) {\n\t                    d = dateMap.now();\n\t                } else if (timeAway.match('firstnextmonth')) {\n\t                    d = dateMap['first of next month']();\n\t                } else if (timeAway.match('days?')) {\n\t                    d = dateMap.day(parseInt(op, 10));\n\t                } else if (timeAway.match('weeks?')) {\n\t                    d = dateMap.week(parseInt(op, 10));\n\t                } else if (timeAway.match('months?')) {\n\t                    d = dateMap.month(parseInt(op, 10));\n\t                } else if (timeAway.match('years?')) {\n\t                    d = dateMap.year(parseInt(op, 10));\n\t                } else {\n\t                    if (!dateMap[humanDate]) {\n\t                        return;\n\t                    }\n\t                    // TODO Better to log error???\n\t                    d = dateMap[humanDate]();\n\t                }\n\t            } else {\n\t                if (!dateMap[humanDate]) {\n\t                    return;\n\t                }\n\t                d = dateMap[humanDate]();\n\t            }\n\t\n\t            setTimePart = function (d) {\n\t                var timeParts, hours, minutes;\n\t\n\t                //Fixes bug SP-1280: Turns out hours in displayDefault can be either of single/double digits\n\t                timeParts = /^(\\d\\d?).(\\d{2}).?([ap]m)?$/.exec(defaultTime);\n\t                if (timeParts && timeParts.length > 2) {\n\t                    hours = timeParts[1];\n\t\n\t                    if (hours) {\n\t\n\t                        if (timeParts[3] === 'pm') {\n\t                            if (hours < 12) {\n\t                                hours = parseInt(hours, 10) + 12;\n\t                            }\n\t                        } else {\n\t\n\t                            // Set 12am to 00\n\t                            if (hours === '12') {\n\t                                hours = '0';\n\t                            }\n\t                        }\n\t\n\t                        d.setHours(parseInt(hours, 10));\n\t                    }\n\t\n\t                    minutes = timeParts[2];\n\t                    if (minutes) {\n\t                        d.setMinutes(parseInt(minutes, 10));\n\t                    }\n\t                }\n\t            }(d);\n\t\n\t            return d;\n\t        },\n\t\n\t        /**\n\t         * SugarCRM has date formats using Y, m, d format characters. However, given our stylgeguide is now using the bootstrap\n\t         * datepicker, we need to remap those to it's format. For example: Y==yyyy, m==mm, and d==dd\n\t         * @param {String} formatSpec The original SugarCRM (PHP) date format.\n\t         * @return {String} Format spec passed in normalized to that expected by the bootstrap datepicker widget. If falsy,\n\t         * returns empty string.\n\t         */\n\t        toDatepickerFormat: function toDatepickerFormat(formatSpec) {\n\t            if (_.isUndefined(formatSpec) || !formatSpec) return '';\n\t            var normalizedFormatSpec,\n\t                sugarToDatepickerMap = {\n\t                'y': 'yy',\n\t                'Y': 'yyyy',\n\t                'm': 'mm',\n\t                'd': 'dd'\n\t            };\n\t            normalizedFormatSpec = formatSpec.replace(/[yYmd]/g, function (s) {\n\t                return sugarToDatepickerMap[s];\n\t            });\n\t            return normalizedFormatSpec;\n\t        },\n\t        /**\n\t        * Strips out the 'T' and, either the 'Z' or +00:00 by, essentially, taking just the first 19 characters\n\t        * @param  {String} value The value\n\t        * @return {String} stripped value\n\t        */\n\t        stripIsoTimeDelimterAndTZ: function stripIsoTimeDelimterAndTZ(value) {\n\t            if (!_.isUndefined(value) && value) {\n\t                // Since s.replace('T', ' ').replace('Z','') assumes we have Z it's better to do:\n\t                // str.replace('T', ' ').substr(0, 19) ... which works for both of following formats:\n\t                // '2012-11-07T04:28:52+00:00'.replace('T', ' ').substr(0, 19)\n\t                // \"2012-11-06 20:00:06.651Z\".replace('T', ' ').substring(0, 19)\n\t                return value.replace(\"T\", \" \").substr(0, 19);\n\t            }\n\t        },\n\t        /**\n\t        * Determines if date string is iso 8601'like ;)\n\t        * @param  {String} val The date string value to check\n\t        * @return {Boolean} True if is REST API / ISO 8601 compatible formatted date value.\n\t        */\n\t        isIso: function isIso(val) {\n\t            var yyyymmddExact, yyyymmddLooseMatch;\n\t\n\t            // First match most nominal case yyyy-mm-dd\n\t            yyyymmddExact = val.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])$/);\n\t            if (yyyymmddExact) {\n\t                return true;\n\t            }\n\t            // If we have any of the iso 8601 chars and still starts with yyyy-mm-dd\n\t            if (val.match(/[T\\+Z ]/g)) {\n\t                yyyymmddLooseMatch = val.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])/);\n\t                if (yyyymmddLooseMatch) return true;\n\t            }\n\t            return false;\n\t        }\n\t    });\n\t\n\t    _.extend(date.fn, {\n\t\n\t        /**\n\t         * Formats a date to a string based on user preferences.\n\t         *\n\t         * @param {boolean} [dateOnly=false] Pass `true` to get date only.\n\t         * @param {Data.Bean|Object} [user=App.user] The user bean or the\n\t         *   current logged in user object. Defaults to current logged in\n\t         *   user.\n\t         * @return {string} The formatted date based on user's preference.\n\t         */\n\t        formatUser: function formatUser(dateOnly, user) {\n\t            var format = date.getUserDateFormat(user);\n\t\n\t            if (!dateOnly) {\n\t                format += ' ' + date.getUserTimeFormat(user);\n\t            }\n\t            return this.format(format);\n\t        },\n\t\n\t        /**\n\t         * Formats a date to a string according to server date format.\n\t         *\n\t         * @param {boolean} [dateOnly=false] Pass `true` to get date only.\n\t         * @return {string} The formatted date according to server date format.\n\t         */\n\t        formatServer: function formatServer(dateOnly) {\n\t            var format = dateOnly && date._serverDateFormat;\n\t\n\t            return this.format(format);\n\t        },\n\t\n\t        /**\n\t         * Returns `true` if the date is between the given `startDate` and\n\t         * `endDate`.\n\t         *\n\t         * @param {String} startDate The start date of the period to test.\n\t         * @param {String} endDate The end date of the period to test.\n\t         * @param {Boolean} [inclusive=true] Include start and end dates in\n\t         *   comparison.\n\t         */\n\t        isBetween: function isBetween(startDate, endDate, inclusive) {\n\t            // inclusive should default to true unless explicitly sent false as the param\n\t            inclusive = _.isUndefined(inclusive) ? true : inclusive;\n\t\n\t            var isInRange = this.isAfter(startDate) && this.isBefore(endDate);\n\t\n\t            // if we're including start and end dates and date1 hasn't been found to be inside the range yet\n\t            if (inclusive && !isInRange) {\n\t                // check if date1 is on the start or end dates\n\t                isInRange = this.isSame(startDate) || this.isSame(endDate);\n\t            }\n\t            return isInRange;\n\t        }\n\t\n\t    });\n\t\n\t    _.extend(date.duration.fn, {\n\t        /**\n\t         * Get the display string for the duration.\n\t         * Note: It currently supports days, hours, and minutes, not months and years.\n\t         * @return {string}\n\t         */\n\t        format: function format() {\n\t            var duration = [],\n\t                minutes = this.minutes(),\n\t                hours = this.hours(),\n\t                days = Math.floor(this.asDays());\n\t\n\t            if (days > 0) {\n\t                duration.push(days);\n\t                duration.push(app.lang.get(days === 1 ? 'LBL_DURATION_DAY' : 'LBL_DURATION_DAYS'));\n\t            }\n\t\n\t            if (hours > 0) {\n\t                duration.push(hours);\n\t                duration.push(app.lang.get(hours === 1 ? 'LBL_DURATION_HOUR' : 'LBL_DURATION_HOURS'));\n\t            }\n\t\n\t            if (minutes > 0) {\n\t                duration.push(minutes);\n\t                duration.push(app.lang.get(minutes === 1 ? 'LBL_DURATION_MINUTE' : 'LBL_DURATION_MINUTES'));\n\t            }\n\t\n\t            return duration.join(' ');\n\t        }\n\t    });\n\t\n\t    app.augment('date', date);\n\t})(SUGAR.App);\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t\n\t(function (app) {\n\t    /**\n\t     * Math module provides utility methods for working with basic calculations\n\t     * that JS normally fails to do well.\n\t     *\n\t     * @class Utils.Math\n\t     * @alias SUGAR.App.math\n\t     * @singleton\n\t     */\n\t    app.augment('math', {\n\t\n\t        /**\n\t         * Do math calculations in javascript,\n\t         * sans floating point errors.\n\t         *\n\t         * ex. $10.52 is really 1052 cents. Think of currency as\n\t         * cents and apply math that way (as integers)  and this should\n\t         * help keep floating point issues out of the picture.\n\t         *\n\t         * @param {String} operator\n\t         * @param {Number} n1\n\t         * @param {Number|undefined} n2\n\t         * @param {Number|undefined} (decimals)\n\t         * @param {boolean|undefined} (fixed) return value as fixed string\n\t         * @return {Number|String} rounded amount\n\t         */\n\t        _math: function _math(operator, n1, n2, decimals, fixed) {\n\t            decimals = _.isFinite(decimals) && decimals >= 0 ? parseInt(decimals) : 6;\n\t            Big.E_NEG = -1 * (decimals + 1);\n\t            fixed = fixed || false;\n\t            var result;\n\t\n\t            // if n1 is not a number, just return it, no need to do math on it.\n\t            if (!_.isFinite(n1)) {\n\t                return n1;\n\t            }\n\t\n\t            try {\n\t                switch (operator) {\n\t                    case 'round':\n\t                        result = Big(n1).round(decimals);\n\t                        break;\n\t                    case 'add':\n\t                        result = Big(n1).plus(n2);\n\t                        break;\n\t                    case 'sub':\n\t                        result = Big(n1).minus(n2);\n\t                        break;\n\t                    case 'mul':\n\t                        result = Big(n1).times(n2).round(decimals);\n\t                        break;\n\t                    case 'div':\n\t                        result = Big(n1).div(n2).round(decimals);\n\t                        break;\n\t                    default:\n\t\n\t                        // no valid operator, just return number\n\t                        return n1;\n\t                }\n\t            } catch (error) {\n\t                if (error.name == 'BigError') {\n\t                    return n1;\n\t                }\n\t            }\n\t\n\t            if (fixed && !_.isString(result)) {\n\t                return result.toFixed(decimals);\n\t            } else if (!_.isString(result)) {\n\t                return result.toString();\n\t            } else {\n\t                return result;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * round a number to specified decimals as integer value.\n\t         *\n\t         * @param {Number} number\n\t         * @param {Number|undefined} decimals\n\t         * @param {boolean|undefined} fixed return value as fixed string\n\t         * @return {Number|String} rounded amount\n\t         */\n\t        round: function round(number, decimals, fixed) {\n\t            return this._math('round', number, null, decimals, fixed);\n\t        },\n\t\n\t        /**\n\t         * add two numbers as integer values\n\t         *\n\t         * @param {Number} n1\n\t         * @param {Number} n2\n\t         * @param {Number|undefined} decimals\n\t         * @param {boolean|undefined} fixed return value as fixed string\n\t         * @return {Number|String} rounded amount\n\t         */\n\t        add: function add(n1, n2, decimals, fixed) {\n\t            return this._math('add', n1, n2, decimals, fixed);\n\t        },\n\t\n\t        /**\n\t         * subtract two numbers as integer values\n\t         *\n\t         * @param {Number} n1\n\t         * @param {Number} n2\n\t         * @param {Number|undefined} decimals\n\t         * @param {boolean|undefined} fixed return value as fixed string\n\t         * @return {Number|String} rounded amount\n\t         */\n\t        sub: function sub(n1, n2, decimals, fixed) {\n\t            return this._math('sub', n1, n2, decimals, fixed);\n\t        },\n\t\n\t        /**\n\t         * multiply two numbers as integer values\n\t         *\n\t         * @param {Number} n1\n\t         * @param {Number} n2\n\t         * @param {Number|undefined} decimals\n\t         * @param {boolean|undefined} fixed return value as fixed string\n\t         * @return {Number|String} rounded amount\n\t         */\n\t        mul: function mul(n1, n2, decimals, fixed) {\n\t            return this._math('mul', n1, n2, decimals, fixed);\n\t        },\n\t\n\t        /**\n\t         * divide two numbers as integer values\n\t         *\n\t         * @param {Number} n1\n\t         * @param {Number} n2\n\t         * @param {Number|undefined} decimals\n\t         * @param {boolean|undefined} fixed return value as fixed string\n\t         * @return {Number|String} rounded amount\n\t         */\n\t        div: function div(n1, n2, decimals, fixed) {\n\t            return this._math('div', n1, n2, decimals, fixed);\n\t        },\n\t\n\t        /**\n\t         * Check to see if two values are different that will compute with a given precision\n\t         *\n\t         * This will compute the difference between the newValue and oldValue and figure out if it's changed\n\t         * by at least 1 rounded out to the decimal precision that the users has set in their preferences\n\t         *\n\t         * @param {string|number} newValue      The New Value\n\t         * @param {string|number} oldValue      The Old Value\n\t         * @param {number} (precision)          What precision should we use (optional)\n\t         * @return {boolean}\n\t         */\n\t        isDifferentWithPrecision: function isDifferentWithPrecision(newValue, oldValue, precision) {\n\t            var config = app.metadata.getConfig();\n\t            var user_precision = precision || app.user.getPreference('decimal_precision');\n\t            precision = _.isFinite(user_precision) ? user_precision : config.defaultCurrencySignificantDigits || 2;\n\t            var diff = this._math('round', this.getDifference(newValue, oldValue, true), null, precision);\n\t            var diffPrecision = precision === 0 ? '0' : this._math('div', 0.1, Math.pow(10, precision - 1));\n\t\n\t            // if the diff is 0 (zero) always return false, this should only happen when precision is 0\n\t            return diff === '0' ? false : parseFloat(diff) >= parseFloat(diffPrecision);\n\t        },\n\t\n\t        /**\n\t         * Get the difference of two number\n\t         *\n\t         * @param {Number} newValue\n\t         * @param {Number} oldValue\n\t         * @param {Boolean} [absolute=false]\n\t         */\n\t        getDifference: function getDifference(newValue, oldValue, absolute) {\n\t            var diff = this._math('sub', newValue, oldValue);\n\t            absolute = _.isUndefined(absolute) ? false : absolute;\n\t\n\t            return absolute ? Math.abs(diff) : diff;\n\t        }\n\t\n\t    }, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t\n\t(function (app) {\n\t    /**\n\t     * Currency module provides utility methods for working with currencies.\n\t     *\n\t     * @class Utils.Currency\n\t     * @alias SUGAR.App.currency\n\t     * @singleton\n\t     */\n\t    app.augment('currency', {\n\t        /**\n\t         * Get the base currency id.\n\t         * @return {String} the base currency id.\n\t         */\n\t        getBaseCurrencyId: function getBaseCurrencyId() {\n\t            return app.metadata.getBaseCurrencyId();\n\t        },\n\t\n\t        /**\n\t         * Helper function that returns system's base currency\n\t         *\n\t         * @return {Object} The base currency data.\n\t         */\n\t        getBaseCurrency: function getBaseCurrency() {\n\t            var currId = app.metadata.getBaseCurrencyId(),\n\t                currencyObj = app.metadata.getCurrency(currId);\n\t\n\t            // add currency_id to returned data\n\t            currencyObj.currency_id = currId;\n\t\n\t            return currencyObj;\n\t        },\n\t\n\t        /**\n\t         * List of all currencies mapped by id and information based on the\n\t         * template given.\n\t         *\n\t         * Example for the `template` param:\n\t         * <pre><code>\n\t         *   getCurrenciesSelector(Handlebars.compile('{{symbol}} ({{iso}})'));\n\t         * </code></pre>\n\t         *\n\t         * @param {Function}  template how to format the value returned.\n\t         * @return {Object} currencies with id and value (template based).\n\t         */\n\t        getCurrenciesSelector: function getCurrenciesSelector(template) {\n\t            var currencies = {};\n\t\n\t            _.each(app.metadata.getCurrencies(), function (currency, id) {\n\t                currencies[id] = template(currency);\n\t            });\n\t            return currencies;\n\t        },\n\t        /**\n\t         * Get the symbol for the given currency\n\t         * @param {String}  currencyId\n\t         * @return {String} currency symbol\n\t         */\n\t        getCurrencySymbol: function getCurrencySymbol(currencyId) {\n\t            var currency = app.metadata.getCurrency(currencyId);\n\t            return currency ? currency.symbol : '';\n\t        },\n\t        /**\n\t         * Format currency amount\n\t         * @param {Number}  amount the amount to be formatted\n\t         * @param {String}  currencyId (optional) the currency id to be used.\n\t         * If not specified, the system default will be used.\n\t         * @param {Number}  decimalPrecision (optional) the number of digits for\n\t         * decimal precision. Defaults to 2.\n\t         * @param {String}  numberGroupingSeparator (optional) the groups\n\t         * separator (string between thousands). Defaults to `,`.\n\t         * @param {String}  decimalSeparator (optional) the decimal separator\n\t         * (string between number and decimals). Defaults to `.`.\n\t         * @param {String}  symbolSeparator (optional) string between symbol and\n\t         * the amount. Defaults to empty (no space).\n\t         * @return {String} formatted currency amount\n\t         */\n\t        formatAmount: function formatAmount(amount, currencyId, decimalPrecision, numberGroupingSeparator, decimalSeparator, symbolSeparator) {\n\t            // we don't want to format non-numbers\n\t            if (!_.isFinite(amount)) {\n\t                return amount;\n\t            }\n\t            var currencySymbol,\n\t                config = app.metadata.getConfig();\n\t            // default to base currency\n\t            currencyId = currencyId || this.getBaseCurrencyId();\n\t            symbolSeparator = symbolSeparator || '';\n\t            // use reasonable defaults if none exist\n\t            if (!_.isFinite(decimalPrecision)) {\n\t                if (_.isFinite(config.defaultCurrencySignificantDigits)) {\n\t                    decimalPrecision = config.defaultCurrencySignificantDigits;\n\t                } else {\n\t                    decimalPrecision = 2;\n\t                }\n\t            }\n\t\n\t            decimalSeparator = decimalSeparator || config.defaultDecimalSeparator || '.';\n\t            // if the numberGroupingSeparator is truly undefined we need to get the defaults, if it's an empty string\n\t            // we need to use the empty string as it's a valid value.\n\t            numberGroupingSeparator = !_.isUndefined(numberGroupingSeparator) ? numberGroupingSeparator : config.defaultNumberGroupingSeparator || ',';\n\t\n\t            currencySymbol = this.getCurrencySymbol(currencyId) || this.getCurrencySymbol(this.getBaseCurrencyId());\n\t            amount = app.utils.formatNumber(amount, decimalPrecision, decimalPrecision, numberGroupingSeparator, decimalSeparator);\n\t            return currencySymbol + symbolSeparator + amount;\n\t        },\n\t        /**\n\t         * Format currency amount to current user locale\n\t         * @param {Number}  amount\n\t         * @param {String}  currencyId (optional) the currency id to be used.\n\t         * If not specified, the system default will be used.\n\t         * @param {String}  decimalPrecision (optional) number of digits for\n\t         * decimal. If not specified, the user preference will be used.\n\t         * @return {String} formatted currency amount\n\t         */\n\t        formatAmountLocale: function formatAmountLocale(amount, currencyId, decimalPrecision) {\n\t            // get user preferred formatting\n\t            var decimalSeparator = app.user.getPreference('decimal_separator');\n\t            var numberGroupingSeparator = app.user.getPreference('number_grouping_separator');\n\t            decimalPrecision = _.isFinite(decimalPrecision) ? decimalPrecision : app.user.getPreference('decimal_precision');\n\t            return this.formatAmount(amount, currencyId, decimalPrecision, numberGroupingSeparator, decimalSeparator);\n\t        },\n\t        /**\n\t         * Unformat currency amount\n\t         * @param {Number}  amount\n\t         * @param {String}  numberGroupingSeparator string between thousands\n\t         * @param {String}  decimalSeparator string between number and decimals\n\t         * @param {Boolean} toFloat convert string to float value\n\t         * @return {String} formatted currency amount\n\t         */\n\t        unformatAmount: function unformatAmount(amount, numberGroupingSeparator, decimalSeparator, toFloat) {\n\t            toFloat = toFloat || false;\n\t            // strip off currency symbol, or anything prefixed that is not a digit or separator\n\t            amount = amount.toString().replace(/^[^\\d\\.\\,-]+/, '');\n\t            return app.utils.unformatNumberString(amount, numberGroupingSeparator, decimalSeparator, toFloat);\n\t        },\n\t        /**\n\t         * Unformat currency amount with user locale\n\t         * @param {Number}  amount\n\t         * @param {Boolean} toFloat convert string to float value\n\t         * @return {String} formatted currency amount\n\t         */\n\t        unformatAmountLocale: function unformatAmountLocale(amount, toFloat) {\n\t            var decimalSeparator,\n\t                numberGroupingSeparator,\n\t                config = app.metadata.getConfig();\n\t            // use user locale or reasonable defaults\n\t            decimalSeparator = app.user.getPreference('decimal_separator') || config.defaultDecimalSeparator || '.';\n\t            numberGroupingSeparator = app.user.getPreference('number_grouping_separator') || config.defaultNumberGroupingSeparator || ',';\n\t            return this.unformatAmount(amount, numberGroupingSeparator, decimalSeparator, toFloat);\n\t        },\n\t        /**\n\t         * convert a currency from one to another\n\t         *\n\t         * @param  {Number|String} amount\n\t         * @param  {String} fromId source currency id\n\t         * @param  {String} toId target currency id\n\t         * @return {String} converted amount\n\t         */\n\t        convertAmount: function convertAmount(amount, fromId, toId) {\n\t            var currency1;\n\t            var currency2;\n\t            if (fromId == toId) {\n\t                return app.math.round(amount, undefined, true);\n\t            }\n\t            currency1 = app.metadata.getCurrency(fromId);\n\t            currency2 = app.metadata.getCurrency(toId);\n\t            return this.convertWithRate(amount, currency1.conversion_rate, currency2.conversion_rate);\n\t        },\n\t        /**\n\t         * convert a currency to base currency\n\t         *\n\t         * @param  {Number|String} amount\n\t         * @param  {String} fromId source currency id\n\t         * @return {String} converted amount\n\t         */\n\t        convertToBase: function convertToBase(amount, fromId) {\n\t            return this.convertAmount(amount, fromId, this.getBaseCurrencyId());\n\t        },\n\t        /**\n\t         * convert base currency to another currency\n\t         *\n\t         * @param  {Number|String} amount\n\t         * @param  {String} toId target currency id\n\t         * @return {String} converted amount\n\t         */\n\t        convertFromBase: function convertFromBase(amount, toId) {\n\t            return this.convertAmount(amount, this.getBaseCurrencyId(), toId);\n\t        },\n\t        /**\n\t         * convert a currency with given conversion rate\n\t         *\n\t         * @param  {Number|String} amount\n\t         * @param  {Number} fromRate the origin conversion rate\n\t         * @param  {Number} toRate the target conversion rate\n\t         * @return {String} converted amount\n\t         */\n\t        convertWithRate: function convertWithRate(amount, fromRate, toRate) {\n\t            fromRate = fromRate || 1.0;\n\t            toRate = toRate || 1.0;\n\t            return app.math.mul(app.math.div(amount, fromRate, undefined, true), toRate, undefined, true);\n\t        }\n\t\n\t    }, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * Regular expression used to split event strings.\n\t     *\n\t     * @private\n\t     * @type {RegExp}\n\t     */\n\t    var eventSplitter = /\\s+/;\n\t\n\t    /**\n\t     * Events API used to process various event actions and handle inputs such\n\t     * as event maps and space-separated event names.\n\t     *\n\t     * This is taken from the Backbone.js library to simplify event-handling.\n\t     *\n\t     * @private\n\t     * @type {Function}\n\t     * @param {Object} obj Scope in which the `action` will be executed.\n\t     * @param {string} action The function being executed (e.g. 'triggerBefore')\n\t     * @param {string|Object} name Event(s) to trigger before. Accepts\n\t     *   multiple space-separated event names, or an event map.\n\t     * @param {Array} [rest] List of arguments to be passed to the before event.\n\t     * @return {boolean} `false` if an event map or space-separated event names\n\t     *   were used, `true` otherwise.\n\t     */\n\t    var eventsApi = function eventsApi(obj, action, name, rest) {\n\t        if (!name) return true;\n\t\n\t        // Handle event maps.\n\t        if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n\t            for (var key in name) {\n\t                obj[action].apply(obj, [key, name[key]].concat(rest));\n\t            }\n\t            return false;\n\t        }\n\t\n\t        // Handle space separated event names.\n\t        if (eventSplitter.test(name)) {\n\t            var names = name.split(eventSplitter);\n\t            for (var i = 0, l = names.length; i < l; i++) {\n\t                obj[action].apply(obj, [names[i]].concat(rest));\n\t            }\n\t            return false;\n\t        }\n\t\n\t        return true;\n\t    };\n\t\n\t    /**\n\t     * An optimized event-triggering method used to speed up common event calls\n\t     * with 1, 2, or 3 arguments. Prevents the event from triggering if any\n\t     * provided before callback returns `false`.\n\t     *\n\t     * This is taken from the Backbone.js library to simplify event-dispatching.\n\t     *\n\t     * @private\n\t     * @type {Function}\n\t     * @param {Array} events The list of before event listeners.\n\t     * @param {Array} [args] Arguments passed to the before event callback.\n\t     * @return {boolean} `true` if the before event should be triggered, `false`\n\t     *   otherwise.\n\t     */\n\t    var triggerEvents = function triggerEvents(events, args) {\n\t        var stop = false;\n\t        var ev,\n\t            i = -1,\n\t            l = events.length;\n\t        switch (args.length) {\n\t            case 0:\n\t            case 1:\n\t            case 2:\n\t            case 3:\n\t                while (++i < l) {\n\t                    stop = (ev = events[i]).callback.call(ev.ctx, args[0], args[1], args[2]) === false || stop;\n\t                }break;\n\t            default:\n\t                while (++i < l) {\n\t                    stop = (ev = events[i]).callback.apply(ev.ctx, args) === false || stop;\n\t                }}\n\t        return !stop;\n\t    };\n\t\n\t    /**\n\t     * @class Core.BeforeEvent\n\t     * @alias SUGAR.App.beforeEvent\n\t     * @singleton\n\t     */\n\t    _.extend(app, {\n\t        'beforeEvent': {\n\t            /**\n\t             * Adds a callback/hook to be fired before an action is taken. If\n\t             * that callback returns false, the action will not be taken. The\n\t             * only action supported in the base component is `render`.\n\t             *\n\t             * The following example binds a callback function and passes\n\t             * the scope from the view component to use in that callback:\n\t             *\n\t             *     model.before('save', this.doSomethingBeforeSave, this);\n\t             *\n\t             * Multiple space-separated event names can be bound to a single\n\t             * callback:\n\t             *\n\t             *     view.before('save dispose', this.callback, this);\n\t             *\n\t             * This method also supports an event map syntax, as an alternative\n\t             * to positional arguments:\n\t             *\n\t             *     this.before({\n\t             *         'render': this.doSomethingBeforeRender,\n\t             *         'dispose': this.doSomethingBeforeDispose\n\t             *     });\n\t             *\n\t             * @chainable\n\t             * @param {string|Object} name Event(s) to trigger before. Accepts\n\t             *   multiple space-separated event names, or an event map.\n\t             * @param {Function} callback Function to be called.\n\t             * @param {Object} [context] Value to be assigned to `this` when the\n\t             *   callback is fired.\n\t             * @return {Core.BeforeEvent} Instance of this class.\n\t             */\n\t            before: function before(name, callback, context) {\n\t                if (!eventsApi(this, 'before', name, [callback, context]) || !callback) {\n\t                    return this;\n\t                }\n\t\n\t                this._before = this._before || {};\n\t                var events = this._before[name] || (this._before[name] = []);\n\t\n\t                events.push({\n\t                    callback: callback,\n\t                    context: context,\n\t                    ctx: context || this\n\t                });\n\t                return this;\n\t            },\n\t\n\t            /**\n\t             * Triggers the before callback for the given event `name` or list\n\t             * of events.\n\t             *\n\t             * The following example triggers the callback bound to the before\n\t             * 'save' event given:\n\t             *\n\t             *     this.triggerBefore('save');\n\t             *\n\t             * Multiple events can be triggered as well:\n\t             *\n\t             *     this.triggerBefore('save render dispose');\n\t             *\n\t             * Custom arguments (e.g. `a`, `b`, `c`) can be passed to the\n\t             * callback:\n\t             *\n\t             *     this.triggerBefore('save', a, b, c);\n\t             *\n\t             * @param {string} name The event(s) to trigger before on.\n\t             * @return {boolean} Returns `true` if the event should be\n\t             *   triggered, `false` otherwise.\n\t             */\n\t            triggerBefore: function triggerBefore(name) {\n\t                var stop = false;\n\t                if (!this._before) {\n\t                    return !stop;\n\t                }\n\t                var args = Array.prototype.slice.call(arguments, 1);\n\t\n\t                // Handle space separated event names.\n\t                if (eventSplitter.test(name)) {\n\t                    var names = name.split(eventSplitter);\n\t                    for (var i = 0, l = names.length; i < l; i++) {\n\t                        stop = !this.triggerBefore.apply(this, [names[i]].concat(args)) || stop;\n\t                    }\n\t                    return !stop;\n\t                }\n\t\n\t                var events = this._before[name];\n\t                var allEvents = this._before.all;\n\t                if (events) {\n\t                    stop = triggerEvents(events, args) === false;\n\t                }\n\t                if (allEvents) {\n\t                    stop = triggerEvents(allEvents, args) === false || stop;\n\t                }\n\t                return !stop;\n\t            },\n\t\n\t            /**\n\t             * Remove a previously-bound callback function from a before event.\n\t             *\n\t             * If no context is given, all of the versions of the callback with\n\t             * different contexts will be removed:\n\t             *\n\t             *     this.offBefore('render', this.onRenderBefore);\n\t             *\n\t             * If no callback is given, all callbacks for the before event will\n\t             * be removed:\n\t             *\n\t             *     this.offBefore('render');\n\t             *\n\t             * If no event is specified, all callbacks for all before events\n\t             * will be removed from the object (similar to the Backbone.js `off`\n\t             * event):\n\t             *\n\t             *     this.offBefore();\n\t             *\n\t             * This is taken from the Backbone.js library to simplify\n\t             * event-handling.\n\t             *\n\t             * @chainable\n\t             * @param {string} [name] Event(s) to remove the listeners for.\n\t             * @param {Function} [callback] Callback to remove specifically for\n\t             *   a given event.\n\t             * @param {Object} [context] Context to use when determining which\n\t             *   callback to remove.\n\t             * @return {Core.BeforeEvent} Instance of this class.\n\t             */\n\t            offBefore: function offBefore(name, callback, context) {\n\t                var retain, ev, events, names, i, l, j, k;\n\t                if (!this._before || !eventsApi(this, 'offBefore', name, [callback, context])) {\n\t                    return this;\n\t                }\n\t                if (!name && !callback && !context) {\n\t                    this._before = void 0;\n\t                    return this;\n\t                }\n\t                names = name ? [name] : _.keys(this._before);\n\t                for (i = 0, l = names.length; i < l; i++) {\n\t                    name = names[i];\n\t                    events = this._before[name];\n\t                    if (events) {\n\t                        this._before[name] = retain = [];\n\t                        if (callback || context) {\n\t                            for (j = 0, k = events.length; j < k; j++) {\n\t                                ev = events[j];\n\t                                if (callback && callback !== ev.callback || context && context !== ev.ctx) {\n\t                                    retain.push(ev);\n\t                                }\n\t                            }\n\t                        }\n\t                        if (!retain.length) {\n\t                            delete this._before[name];\n\t                        }\n\t                    }\n\t                }\n\t                return this;\n\t            }\n\t        }\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t\n\t/**\n\t * Persistent cache manager.\n\t *\n\t * By default, cache manager uses store.js to manipulate items in `window.localStorage` object.\n\t * Use {@link Core.CacheManager#store} property to override the storage provider.\n\t * The value of the key which is passed as a parameter to `get/set/add` methods is prefixed with\n\t * `<env>:<appId>:` string to avoid clashes with other environments and applications running off the same domain name and port.\n\t * You can set environment and application ID in {@link Config} module.\n\t *\n\t * @class Core.CacheManager\n\t * @singleton\n\t * @alias SUGAR.App.cache\n\t */\n\t(function (app) {\n\t\n\t    var keyPrefix = '';\n\t\n\t    var buildKey = function buildKey(key) {\n\t        return keyPrefix + key;\n\t    };\n\t\n\t    var sugarStore = _.extend({}, store, {\n\t        // make store compatible with stash\n\t        cut: store.remove,\n\t        cutAll: store.clear\n\t    });\n\t\n\t    /**\n\t     * Helper method used by migrateOldKeys for removing quotes from previous localStorage library.\n\t     *\n\t     * @private\n\t     */\n\t    var unquote = function unquote(str) {\n\t        return new Function('return ' + str)();\n\t    }; // jshint ignore:line\n\t\n\t    /**\n\t     * Attempts to migrate values from Stash to Store.\n\t     *\n\t     * `stash.js` used to set values with single quotes in the `localStorage`.\n\t     * `store.js` uses double quotes (standard JSON encode/decode(. Hence, we\n\t     * need to update current values in localStorage to be complaint with the\n\t     * new store.\n\t     *\n\t     * @param {Object} cache Cache object to work on.\n\t     * @private\n\t     */\n\t    var migrateStorage = function migrateStorage(cache) {\n\t\n\t        if (cache.has('uniqueKey')) {\n\t            return;\n\t        }\n\t\n\t        // We need to clone the local storage to not mess up with it during the\n\t        // iterations.\n\t        var store = {};\n\t        for (var i = 0, len = localStorage.length; i < len; i++) {\n\t            var key = localStorage.key(i);\n\t            store[key] = localStorage[key];\n\t        }\n\t\n\t        _.each(store, function (value, key) {\n\t            try {\n\t                JSON.parse(value);\n\t                value = cache.store.deserialize(value);\n\t            } catch (e) {\n\t                value = unquote(value);\n\t            }\n\t\n\t            if (value === null) {\n\t                value = undefined;\n\t            }\n\t\n\t            cache.store.set(key, value);\n\t        });\n\t\n\t        cache.set('uniqueKey', app.config.uniqueKey);\n\t    };\n\t\n\t    var cache = {\n\t\n\t        /**\n\t         * Storage provider.\n\t         *\n\t         * Default: store.js\n\t         *\n\t         * @cfg {Object}\n\t         */\n\t        store: sugarStore,\n\t\n\t        /**\n\t         * Initializes cache manager.\n\t         */\n\t        init: function init() {\n\t            keyPrefix = app.config.env + ':' + app.config.appId + ':';\n\t\n\t            migrateStorage(this);\n\t\n\t            if (this.get('uniqueKey') !== app.config.uniqueKey) {\n\t                // do not leak information to other instances\n\t                this.cutAll(true);\n\t                this.set('uniqueKey', app.config.uniqueKey);\n\t            }\n\t\n\t            app.events.register('cache:clean', this);\n\t        },\n\t\n\t        /**\n\t         * Checks if the item exists in cache.\n\t         * @param {String} key Item key.\n\t         */\n\t        has: function has(key) {\n\t            return this.store.has(buildKey(key));\n\t        },\n\t\n\t        /**\n\t         * Gets an item from the cache.\n\t         * @param {string} key Item key.\n\t         * @return {number|boolean|string|Array|Object} Item with the given key.\n\t         */\n\t        get: function get(key) {\n\t            return this.store.get(buildKey(key));\n\t        },\n\t\n\t        /**\n\t         * Puts an item into cache.\n\t         * @param {string} key Item key.\n\t         * @param {number|boolean|string|Array|Object} value Item to put.\n\t         */\n\t        set: function set(key, value) {\n\t            key = buildKey(key);\n\t\n\t            try {\n\t                this.store.set(key, value);\n\t            } catch (e) {\n\t                if (e.name.toLowerCase().indexOf('quota') > -1) {\n\t                    //Localstorage is full, the app needs to handle this.\n\t                    this.clean();\n\t                    this.store.set(key, value);\n\t                }\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Remove non-critical values to free up space. Should be called whenever local storage quota is exceeded.\n\t         * Listen for the clean event (passes callback as argument) in order to register keys to preserve after clean.\n\t         *\n\t         * Keys that are not vital should not be presvered during a cleanup.\n\t         * Ex.\n\t         * <pre><code>\n\t         * ({\n\t         *     initialize: function(options) {\n\t         *         app.events.on('cache:clean', function(callback) {\n\t         *             callback([\n\t         *                 'my_important_cache_key',\n\t         *                 'my_other_important_key',\n\t         *             ])\n\t         *         });\n\t         *     },\n\t         * });\n\t         * </code></pre>\n\t         */\n\t        clean: function clean() {\n\t            var preserveKeys = [],\n\t                preservedValues = {};\n\t\n\t            //First get a list of all keys to keep\n\t            this.trigger('cache:clean', function (keys) {\n\t                preserveKeys = _.union(keys, preserveKeys);\n\t            });\n\t            //Now get those values\n\t            _.each(preserveKeys, function (key) {\n\t                preservedValues[key] = this.get(key);\n\t            }, this);\n\t            //nuke all the keys we own\n\t            this.cutAll();\n\t\n\t            //restore any vital values\n\t            _.each(preservedValues, function (value, key) {\n\t                if (!_.isUndefined(value)) {\n\t                    this.set(key, value);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Deletes an item from cache.\n\t         * @param {String} key Item key.\n\t         */\n\t        cut: function cut(key) {\n\t            key = buildKey(key);\n\t            if (this.store.has(key)) {\n\t                this.store.cut(key);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Deletes all items from cache.\n\t         *\n\t         * By default, this method deletes all items for the current app and environment.\n\t         * Pass `true` to this method to remove all items.\n\t         * @param {Boolean} all(optional) Flag indicating if all items must be deleted from this cache.\n\t         */\n\t        cutAll: function cutAll(all) {\n\t            if (all === true) {\n\t                return this.store.cutAll();\n\t            }\n\t\n\t            var obj = this.store.getAll();\n\t            _.each(obj, function (value, key) {\n\t                if (key.indexOf(keyPrefix) === 0) {\n\t                    this.store.cut(key);\n\t                }\n\t            }, this);\n\t        }\n\t    };\n\t\n\t    //Use eventing for cache cleaning\n\t    _.extend(cache, Backbone.Events);\n\t\n\t    app.augment('cache', cache);\n\t})(SUGAR.App);\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Cookie storage for authentication data.\n\t *\n\t * @class Core.CookieManager\n\t * @singleton\n\t * @alias SUGAR.App.cookie\n\t */\n\t(function (app, location) {\n\t\n\t    var path = location.pathname.replace(/\\/[^\\/]*$/, \"/cookie.html\"),\n\t        getCookie = function getCookie() {\n\t        return {};\n\t    };\n\t\n\t    app.augment(\"cookie\", {\n\t\n\t        initAsync: function initAsync(callback) {\n\t            var frame = document.createElement(\"iframe\");\n\t            frame.style.display = \"none\";\n\t            frame.src = path;\n\t            document.body.appendChild(frame);\n\t\n\t            frame.contentWindow.onload = function () {\n\t                getCookie = function getCookie() {\n\t                    return frame.contentWindow.getCookie();\n\t                };\n\t                callback();\n\t            };\n\t        },\n\t\n\t        /**\n\t         * Checks if the item exists in storage.\n\t         * @param {String} key Item key.\n\t         * @return {Boolean} Whether the item exists in storage.\n\t         */\n\t        has: function has(key) {\n\t            return key in getCookie();\n\t        },\n\t\n\t        /**\n\t         * Gets an item from the storage.\n\t         * @param {String} key Item key.\n\t         * @return {String} Item with the given key.\n\t         */\n\t        get: function get(key) {\n\t            return getCookie()[key];\n\t        },\n\t\n\t        /**\n\t         * Puts an item into storage.\n\t         * @param {String} key Item key.\n\t         * @param {String} value Item to put.\n\t         */\n\t        set: function set(key, value) {\n\t            app.utils.cookie.setCookie(key, value, null, path);\n\t        },\n\t\n\t        /**\n\t         * Deletes an item from storage.\n\t         * @param {String} key Item key.\n\t         */\n\t        cut: function cut(key) {\n\t            app.utils.cookie.setCookie(key, \"\", -1, path);\n\t        }\n\t    });\n\t})(SUGAR.App, window.location);\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    /**\n\t     * Events proxy object. For inter-component communications, please register your events and please subscribe\n\t     * your events from the events hub. This allows components to not depend on each other in a tightly coupled capacity.\n\t     *\n\t     * <pre><code>\n\t     * (function(app) {\n\t     *   var foo = {\n\t     *     initialize: function() {\n\t     *         // Register the event with the events hub.\n\t     *         app.events.register(\"mynamespaced:event\", this);\n\t     *     },\n\t     *     action: function() {\n\t     *         // Broadcast you revent to the events hub.\n\t     *         // The events hub will then broadcast this event to all its subscribers.\n\t     *         this.trigger(\"mynamespaced:event\");\n\t     *     }\n\t     *   }\n\t     *\n\t     *   var bar = {\n\t     *     initialize: function() {\n\t     *         // Call a callback when the event is received.\n\t     *         app.events.on(\"mynamespaced:event\", function() {\n\t     *             alert(\"Event!\");\n\t     *         });\n\t     *     }\n\t     *   }\n\t     *\n\t     * })(SUGAR.App);\n\t     * </pre></code>\n\t     *\n\t     * @class Core.Events\n\t     * @alias SUGAR.App.events\n\t     * @singleton\n\t     */\n\t    app.augment('events', _.extend({}, Backbone.Events, {\n\t        /**\n\t         * List of deprecated events. A warning will be shown in console when a\n\t         * component is listening to them.\n\t         *\n\t         * @property {Object} _deprecated\n\t         * @property {string} [_deprecated.message] The custom deprecated message.\n\t         * @private\n\t         */\n\t        _deprecated: {},\n\t\n\t        /**\n\t         * Registers an event with the event proxy.\n\t         *\n\t         * @param {string} event The name of the event.\n\t         *   A good practice is to namespace your events with a colon.\n\t         *   For example: `app:start`.\n\t         * @param {Object} context The object that will trigger the event.\n\t         * @param {Object} [options] Optional params.\n\t         * @param {boolean} [options.deprecated=false] `true` if the event is\n\t         *   deprecated.\n\t         * @param {string} [options.message] The deprecated message to log. A\n\t         *   default message will be triggered if not defined.\n\t         */\n\t        register: function register(event, context, options) {\n\t            if (options && options.deprecated) {\n\t                this._deprecated[event] = _.pick(options, 'message');\n\t            }\n\t\n\t            context.on(event, function () {\n\t                var args = [].slice.call(arguments, 0);\n\t                args.unshift(event);\n\t                this.trigger.apply(this, args);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Unregisters an event from the event proxy.\n\t         *\n\t         * @param {Object} context Source to be cleared from.\n\t         * @param {string} [event] Event name to be cleared.\n\t         * @method\n\t         */\n\t        unregister: function unregister(context, event) {\n\t            context.off(event);\n\t        },\n\t\n\t        /**\n\t         * Subscribe to global ajax events.\n\t         */\n\t        registerAjaxEvents: function registerAjaxEvents() {\n\t            var self = this;\n\t\n\t            // First unbind then rebind\n\t            $(document).off(\"ajaxStop\");\n\t            $(document).off(\"ajaxStart\");\n\t\n\t            $(document).on(\"ajaxStart\", function (args) {\n\t                self.trigger(\"ajaxStart\", args);\n\t            });\n\t\n\t            $(document).on(\"ajaxStop\", function (args) {\n\t                self.trigger(\"ajaxStop\", args);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Wraps [Backbone.Events#on](http://backbonejs.org/#Events-on) method\n\t         * to throw a warning if the event listened to is deprecated.\n\t         */\n\t        on: _.wrap(Backbone.Events.on, function (fn, name, callback, context) {\n\t\n\t            if (_.has(this._deprecated, name)) {\n\t                var warnMessage;\n\t                if (this._deprecated[name].message) {\n\t                    warnMessage = this._deprecated[name].message;\n\t                } else {\n\t                    warnMessage = 'The global event `' + name + '` is deprecated.';\n\t                }\n\t\n\t                if (context) {\n\t                    warnMessage += '\\n' + context + ' should not listen to it anymore.';\n\t                }\n\t\n\t                app.logger.warn(warnMessage);\n\t            }\n\t\n\t            return fn.call(this, name, callback, context);\n\t        })\n\t    }));\n\t})(SUGAR.App);\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t    * Error handling module.\n\t     *\n\t    * @class Core.Error\n\t    * @singleton\n\t    */\n\t    var module = {\n\t\n\t        init: function init() {\n\t            this.initialize();\n\t        },\n\t\n\t        /**\n\t         * Setups the params for error module\n\t         * @param opts\n\t         */\n\t        initialize: function initialize(opts) {\n\t            opts = opts || {};\n\t\n\t            /**\n\t             * Set to true to enable remote logging to server [NOT IMPLEMENTED]\n\t             * @cfg {Boolean}\n\t             */\n\t            this.remoteLogging = opts.remoteLogging || false;\n\t\n\t            /**\n\t             * Inject a hash of status code handlers to override defaults\n\t             * @cfg {Object}\n\t             */\n\t            this.statusCodes = opts.statusCodes ? _.extend(this.statusCodes, opts.statusCodes) : this.statusCodes;\n\t\n\t            /**\n\t             * Set to true to disable onError overloading\n\t             * @cfg {Boolean} disableOnError\n\t             */\n\t            if (!opts.disableOnError) {\n\t                this.enableOnError();\n\t            }\n\t        },\n\t\n\t        // This attempts to call function fn (which may not exist), otherwise,\n\t        // falls back to handleStatusCodesFallback.\n\t        _callCustomHandler: function _callCustomHandler(error, fn, params) {\n\t            if (fn) {\n\t                fn.apply(this, _.union([error], params || []));\n\t            } else {\n\t                this.handleStatusCodesFallback(error);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Authentication error.\n\t         *\n\t         * OAuth2 uses 400 as a sort of catch all; see:\n\t         * http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-5.2\n\t         *\n\t         * Provide the following custom handlers:\n\t         *\n\t         * **handleInvalidGrantError**\n\t         *\n\t         * The provided authorization grant is invalid, expired, revoked, does\n\t         * not match the redirection URI used in the authorization request, or\n\t         * was issued to another client. Note that the server implementation\n\t         * will override invalid_grant as needs_login as a special case (see below).\n\t         *\n\t         * **handleNeedLoginError**\n\t         *\n\t         * The server shall use this in place of invalid_grant to tell client to handle\n\t         * error specifically as caused due to invalid credentials being supplied. The\n\t         * reason server needs to use this is because an invalid_grant oauth error may\n\t         * also be caused by invalid or expired token. Using needs_login allows all\n\t         * clients to provide proper messaging to end user without the need for extra logic.\n\t         *\n\t         * **handleInvalidClientError**\n\t         *\n\t         * Client authentication failed (e.g. unknown client, no client\n\t         * authentication included, multiple client authentications included,\n\t         * or unsupported authentication method).\n\t         *\n\t         * **handleInvalidRequestError**\n\t         *\n\t         * The request is missing a required parameter, includes an unsupported\n\t         * parameter or parameter value, repeats a parameter, includes multiple\n\t         * credentials, utilizes more than one mechanism for authenticating the\n\t         * client, or is otherwise malformed.\n\t         *\n\t         * **handleUnauthorizedClientError**\n\t         *\n\t         * The authenticated client is not authorized to use this authorization grant type.\n\t         *\n\t         * **handleUnsupportedGrantTypeError**\n\t         *\n\t         * The authorization grant type is not supported by the authorization server.\n\t         *\n\t         * **handleInvalidScopeError**\n\t         *\n\t         * The requested scope is invalid, unknown, malformed, or exceeds the scope granted by the resource owner.\n\t         *\n\t         *\n\t         * @param {SUGAR.HttpError} error HTTP error.\n\t         * @param {Function} alternativeCallback(optional) If this does not match an expected oauth error than this callback will be\n\t         * called (if provided).\n\t         * @method\n\t         * @private\n\t         */\n\t        _handleFineGrainedError: function _handleFineGrainedError(error, alternativeCallback) {\n\t            var handlerName = 'handle' + app.utils.classify(error.code) + 'Error';\n\t            (this[handlerName] || alternativeCallback || this.handleStatusCodesFallback).call(this, error);\n\t        },\n\t\n\t        /**\n\t         * An object of status code error handlers. If custom handler is defined by extending\n\t         * module, corresponding status code handler will attempt to use that, otherwise,\n\t         * handleStatusCodesFallback is used as a fallback just logging the error.\n\t         *\n\t         * @class Core.Error.statusCodes\n\t         * @member Core.Error\n\t         * @singleton\n\t         */\n\t        statusCodes: {\n\t            '0': function _(error, model, options) {\n\t                if (error.textStatus === 'timeout') {\n\t                    this._callCustomHandler(error, this.handleTimeoutError);\n\t                } else {\n\t                    // TODO: Need invalid url, and any other possible status: 0 conditions\n\t                    this.handleStatusCodesFallback(error, model, options);\n\t                }\n\t            },\n\t\n\t            /**\n\t             * Authentication or bad request error.\n\t             *\n\t             * Since oauth server implementation might throw 401 (as well as 400)\n\t             * we route this to the {@link Core.Error#_handleFineGrainedError}.\n\t             * If no match for oauth error then handleOAuthError will try to use\n\t             * handleInvalidRequestError if supplied.\n\t             *\n\t             * Provide custom `handleInvalidRequestError` handler.\n\t             * @method\n\t             */\n\t            '400': function _(error) {\n\t                this._handleFineGrainedError(error, this.handleUnspecified400Error);\n\t            },\n\t\n\t            /**\n\t             * Unauthorized.\n\t             *\n\t             * Since oauth server implementation might throw 401 (as well as 400)\n\t             * we route this to the {@link Core.Error#_handleFineGrainedError}.\n\t             * If no match for oauth error then handleOAuthError will try to use\n\t             * handleUnauthorizedError if supplied.\n\t             *\n\t             * Provide custom `handleUnauthorizedError` handler.\n\t             * @method\n\t             */\n\t            '401': function _(error) {\n\t                this._handleFineGrainedError(error, this.handleUnauthorizedError);\n\t            },\n\t\n\t            /**\n\t             * Forbidden.\n\t             *\n\t             * Provide custom `handleForbiddenError` handler.\n\t             * @method\n\t             */\n\t            '403': function _(error) {\n\t                this._callCustomHandler(error, this.handleForbiddenError);\n\t            },\n\t\n\t            /**\n\t             * Not found.\n\t             *\n\t             * Provide custom `handleNotFoundError` handler.\n\t             * @method\n\t             */\n\t            '404': function (_2) {\n\t                function _(_x) {\n\t                    return _2.apply(this, arguments);\n\t                }\n\t\n\t                _.toString = function () {\n\t                    return _2.toString();\n\t                };\n\t\n\t                return _;\n\t            }(function (error) {\n\t                this._callCustomHandler(error, this.handleNotFoundError, _.rest(arguments));\n\t            }),\n\t\n\t            /**\n\t             * Method not allowed.\n\t             *\n\t             * Provide custom `handleMethodNotAllowedError` handler.\n\t             * @method\n\t             */\n\t            '405': function _(error) {\n\t                this._callCustomHandler(error, this.handleMethodNotAllowedError);\n\t            },\n\t\n\t            /**\n\t             * Conflict.\n\t             *\n\t             * Provide custom `handleMethodConflictError` handler.\n\t             * @method\n\t             */\n\t            '409': function _(error) {\n\t                this._callCustomHandler(error, this.handleMethodConflictError);\n\t            },\n\t\n\t            /**\n\t             * Precondition failed.\n\t             *\n\t             * Provide custom `handleHeaderPreconditionFailed` handler.\n\t             * @method\n\t             */\n\t            '412': function _(error) {\n\t                this._callCustomHandler(error, this.handleHeaderPreconditionFailed);\n\t            },\n\t\n\t            /**\n\t             * Precondition failure.\n\t             *\n\t             * Clients can optionally sniff the error property in JSON for finer grained\n\t             * determination; the following values may be:\n\t             * missing_parameter, invalid_parameter\n\t             *\n\t             * Provide custom `handleValidationError` handler.\n\t             * @method\n\t             */\n\t            '422': function (_3) {\n\t                function _(_x2, _x3) {\n\t                    return _3.apply(this, arguments);\n\t                }\n\t\n\t                _.toString = function () {\n\t                    return _3.toString();\n\t                };\n\t\n\t                return _;\n\t            }(function (error, model) {\n\t                error.model = model;\n\t                this._callCustomHandler(error, this.handleValidationError, _.rest(arguments));\n\t            }),\n\t\n\t            /**\n\t             * Request Method Failure\n\t             * Provide custom `handleMethodFailureError` handler.\n\t             * @method\n\t             */\n\t            '424': function (_4) {\n\t                function _(_x4, _x5) {\n\t                    return _4.apply(this, arguments);\n\t                }\n\t\n\t                _.toString = function () {\n\t                    return _4.toString();\n\t                };\n\t\n\t                return _;\n\t            }(function (error, model) {\n\t                error.model = model;\n\t                this._callCustomHandler(error, this.handleMethodFailureError, _.rest(arguments));\n\t            }),\n\t\n\t            /**\n\t             * Internal server error\n\t             *\n\t             * Provide custom `handleServerError` handler.\n\t             * @method\n\t             */\n\t            '500': function _(error) {\n\t                this._callCustomHandler(error, this.handleServerError);\n\t            },\n\t\n\t            /**\n\t             * Bad Gateway\n\t             *\n\t             * Provide custom `handleServerError` handler.\n\t             * @method\n\t             */\n\t            '502': function _(error) {\n\t                this._callCustomHandler(error, this.handleServerError);\n\t            },\n\t\n\t            /**\n\t             * Service Unavailable\n\t             *\n\t             * Provide custom `handleServerError` handler.\n\t             * @method\n\t             */\n\t            '503': function _(error) {\n\t                this._callCustomHandler(error, this.handleServerError);\n\t            }\n\t        },\n\t\n\t        remoteLogging: false,\n\t\n\t        /**\n\t         * Maps validator names to error labels.\n\t         * @member Core.Error\n\t         */\n\t        errorName2Keys: {\n\t            'maxValue': 'ERROR_MAXVALUE',\n\t            'minValue': 'ERROR_MINVALUE',\n\t            'maxLength': 'ERROR_MAX_FIELD_LENGTH',\n\t            'minLength': 'ERROR_MIN_FIELD_LENGTH',\n\t            'datetime': 'ERROR_DATETIME',\n\t            'required': 'ERROR_FIELD_REQUIRED',\n\t            'email': 'ERROR_EMAIL',\n\t            'primaryEmail': 'ERROR_PRIMARY_EMAIL',\n\t            'duplicateEmail': 'ERROR_DUPLICATE_EMAIL',\n\t            'number': 'ERROR_NUMBER',\n\t            'isBefore': 'ERROR_IS_BEFORE',\n\t            'isAfter': 'ERROR_IS_AFTER',\n\t            'greaterThan': 'ERROR_IS_GREATER_THAN',\n\t            'lessThan': 'ERROR_IS_LESS_THAN'\n\t        },\n\t\n\t        /**\n\t         * Returns error strings given a error key and context\n\t         * @param errorKey\n\t         * @param context\n\t         * @member Core.Error\n\t         */\n\t        getErrorString: function getErrorString(errorKey, context) {\n\t            var module = context.module || '';\n\t            return app.lang.get(this.errorName2Keys[errorKey] || errorKey, module, context);\n\t        },\n\t\n\t        /**\n\t         * Handles validation errors. By default this just pipes the error to the\n\t         * error logger.\n\t         * @param {SUGAR.HttpError} error AJAX error.\n\t         * @member Core.Error\n\t         */\n\t        handleValidationError: function handleValidationError(error) {\n\t            var errors = error.responseText;\n\t            // TODO: Right now doesn't stringify the error, add it in when we finalize the\n\t            // structure of the error.\n\t\n\t            // TODO: Likely, we'll have a 'Saving...' alert, etc., and so we just dismiss all\n\t            // since we don't know the alert key. Ostensibly, validation errors will show\n\t            // field by field; so feedback will be provided as appropriate.\n\t            app.alert.dismissAll();\n\t\n\t            _.each(errors, function (fieldError, key) {\n\t                var errorMsg = '';\n\t                if (_.isObject(fieldError)) {\n\t                    _.each(fieldError, function (result, fieldName) {\n\t                        errorMsg += '(Message) ' + this.getErrorString(fieldName, result) + '\\n';\n\t                    }, this);\n\t                } else {\n\t                    errorMsg = fieldError;\n\t                }\n\t                app.logger.debug(\"validation failed for field `\" + key + \"`:\\n\" + errorMsg);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Handles http errors returned from AJAX calls.\n\t         * @param {SUGAR.HttpError} error AJAX error.\n\t         * @param {Backbone.Model} model(optional) Instance of the model for which the request was made.\n\t         * @member Core.Error\n\t         */\n\t        handleHttpError: function handleHttpError(error, model, options) {\n\t            // If we have a handler defined for this status code\n\t            // The context may not be correct for the handler so use app.error instead of this.\n\t            if (app.error.statusCodes[error.status]) {\n\t                app.error.statusCodes[error.status].call(app.error, error, model, options);\n\t            } else {\n\t                // TODO: Default catch all error code handler\n\t                // Temporarily going to the handleStatusCodesFallback handler but will probably need\n\t                // to go to a sensible \"all other errors\" type of handler.\n\t                app.error.handleStatusCodesFallback(error);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Handles unhandled javascript exceptions which are reported via `window.onerror` event.\n\t         *\n\t         * The default implementation logs the error with level `FATAL`.\n\t         * Consider such exceptions as fatal application errors that should never happen :)\n\t         * @param {String} message Error message\n\t         * @param {String} url URL of script\n\t         * @param {String} line Line number of script\n\t         * @member Core.Error\n\t         */\n\t        handleUnhandledError: function handleUnhandledError(message, url, line) {\n\t            app.logger.fatal(message + ' at ' + url + ' on line ' + line);\n\t        },\n\t\n\t        /**\n\t         * This is the fallback error handler if custom status code specific handler\n\t         * not provided in application specific error handler. To define custom error\n\t         * handlers, you should include your script from index page and do something like:\n\t         * <pre><code>\n\t         * (function(app) {\n\t         *\n\t         *     app.error = _.extend(app.error, {\n\t         *        // put your custom handlers here.\n\t         *        handleUnauthorizedError: function(error) {\n\t         *        },\n\t         *\n\t         *        ...\n\t         *     });\n\t         *\n\t         * })(SUGAR.App);\n\t         * </pre></code>\n\t         *\n\t         * @param {String} error Ajax error.\n\t         * @member Core.Error\n\t         */\n\t        handleStatusCodesFallback: function handleStatusCodesFallback(error) {\n\t            app.logger.error(error.toString());\n\t        },\n\t\n\t        /**\n\t         * Handles render related errors.\n\t         * @param {String} component The reference to calling view's this\n\t         * @param {String} method The method that caught the error e.g. _renderHtml\n\t         * @param {String} additionalInfo(optional) Any additional information required for the particular method that called. E.g. the field for _renderField.\n\t         * @member Core.Error\n\t         */\n\t        handleRenderError: function handleRenderError(component, method, additionalInfo) {\n\t            var id = 'render_error_' + component.module + '_' + component.name;\n\t            var level = 'error'; //Default message level\n\t            var title, messages;\n\t            // TODO: Add corresponding language agnostic app strings for title/message and use that instead.\n\t            switch (method) {\n\t                case '_renderHtml':\n\t                    title = app.lang.get('ERR_RENDER_FAILED_TITLE');\n\t                    messages = [app.lang.get('ERR_RENDER_FAILED_MSG'), app.lang.get('ERR_CONTACT_TECH_SUPPORT')];\n\t                    break;\n\t                case '_renderField':\n\t                    title = app.lang.get('ERR_RENDER_FIELD_FAILED_TITLE');\n\t                    messages = [app.utils.formatString(app.lang.get('ERR_RENDER_FIELD_FAILED_MSG'), [additionalInfo.name]), app.lang.get('ERR_CONTACT_TECH_SUPPORT')];\n\t                    break;\n\t                case 'view_render_denied':\n\t                    title = app.lang.get('ERR_NO_VIEW_ACCESS_TITLE');\n\t                    level = 'warning'; // This isn't an application error, this is ACL enforcement.\n\t                    var module = app.lang.getModuleName(component.module, { plural: true });\n\t                    messages = [app.utils.formatString(app.lang.get('ERR_NO_VIEW_ACCESS_MSG'), [module])];\n\t                    break;\n\t                case 'layout_render':\n\t                    title = app.lang.get('ERR_LAYOUT_RENDER_TITLE');\n\t                    messages = [app.lang.get('ERR_LAYOUT_RENDER_MSG')];\n\t                    break;\n\t                default:\n\t                    // This shouldn't happen\n\t                    title = app.lang.get('ERR_GENERIC_TITLE');\n\t                    messages = [app.lang.get('ERR_INTERNAL_ERR_MSG'), app.lang.get('ERR_CONTACT_TECH_SUPPORT')];\n\t                    app.logger.error('handleRenderError called for render error caught in ' + method + ', but we have no corresponding handler!');\n\t                    break;\n\t            }\n\t\n\t            app.alert.show(id, {\n\t                level: level,\n\t                title: title,\n\t                messages: messages\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Overloads the window.onerror catch all function. Calls the original if any while\n\t         * adding the framework's custom error handling logic. Pass in a custom callback to\n\t         * add additional error handling.\n\t         * @param {Function} handler Callback function to call on error.\n\t         * @param {Object} context Scope of the callback\n\t         * @return {Boolean} False if onerror has already been overloaded.\n\t         * @member Core.Error\n\t         */\n\t        enableOnError: function enableOnError(handler, context) {\n\t            var originalHandler;\n\t            var self = this;\n\t\n\t            if (this.overloaded) {\n\t                return false;\n\t            }\n\t\n\t            originalHandler = window.onerror;\n\t\n\t            window.onerror = function (mesg, url, line) {\n\t                if (handler) {\n\t                    handler.call(context);\n\t                } else {\n\t                    self.handleUnhandledError(mesg, url, line);\n\t                }\n\t\n\t                if (originalHandler) {\n\t                    originalHandler();\n\t                }\n\t            };\n\t\n\t            this.overloaded = true;\n\t\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Inserts call stack string to Error message.\n\t         * `window.onerror` handler is not provided with Error object\n\t         * (4th argument) [in Safari][1].\n\t         *\n\t         * [1]: https://bugs.webkit.org/show_bug.cgi?id=55092\n\t         *\n\t         * @param {string|Error} error Error text or Error object.\n\t         * @param {boolean} [skipThrow=false] Pass `true` to skip exception\n\t         *   raising.\n\t         * @return {Error} Error object with stack trace inserted into\n\t         *   `Error.message` property.\n\t         */\n\t        throwErrorWithCallStack: function throwErrorWithCallStack(error, skipThrow) {\n\t            if (_.isString(error)) {\n\t                error = new Error(error);\n\t            }\n\t            error.message = error.message + '; ' + error.stack;\n\t\n\t            if (skipThrow) {\n\t                return error;\n\t            }\n\t\n\t            throw error;\n\t        }\n\t    };\n\t\n\t    // We don't want to initialize error handling immediately,\n\t    // because the handler may use code that has not been initialized yet\n\t    app.augment('error', module, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    //Pull the precompile header and footer from the node precompile implementation for handlebars\n\t    var _header = \"(function() {\\n  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\\n\",\n\t        _footer = '})();',\n\t        _templates = {},\n\t        _sources = {},\n\t        _templateManager;\n\t\n\t    /**\n\t     * Manages Handlebars templates.\n\t     *\n\t     * @class View.TemplateManager\n\t     * @alias SUGAR.App.template\n\t     * @singleton\n\t     */\n\t    _templateManager = {\n\t\n\t        /**\n\t         * Loads templates from local storage and populates `Handlebars.templates` collection.\n\t         */\n\t        init: function init() {\n\t            _templates = app.config.cacheMeta ? app.cache.get('templates') || {} : {};\n\t            var src = '';\n\t            _.each(_templates, function (t) {\n\t                src += t;\n\t            });\n\t\n\t            try {\n\t                eval(_header + src + _footer); // jshint ignore:line\n\t            } catch (e) {\n\t                app.logger.error('Failed to eval templates retrieved from local storage:\\n' + e);\n\t                // TODO: Trigger app:error event\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Used to register a template src without compiling the template yet.\n\t         * The template will be compiled the first time it is used (requested\n\t         * with getView/getLayout/getField).\n\t         *\n\t         * @param {Array} tpl The template as `[key, compiled]` pair.\n\t         * @param {string} src The template content (.hbs file).\n\t         * @param {boolean} [force=false] `true` to force recompilation on it.\n\t         * @private\n\t         */\n\t        _add: function _add(tpl, src, force) {\n\t            var key = tpl[0],\n\t                loaded = this.get(key, false);\n\t            if (loaded && !force) {\n\t                return;\n\t            }\n\t            //If we have already loaded this template but with a different source, we need to mark it for recompilation\n\t            if (loaded && force && _sources[key] != src) {\n\t                _templates[key] = Handlebars.templates[key] = null;\n\t            }\n\t            _sources[key] = src;\n\t        },\n\t\n\t        /**\n\t         * Conditionally compiles a template.\n\t         * @param {Array} tpl First item is template key, the second is\n\t         *   compiled template.\n\t         * @param {string} src Template source code.\n\t         * @param {boolean} [force=false] Flag indicating if the template must\n\t         *   be re-compiled.\n\t         * @private\n\t         */\n\t        _compile: function _compile(tpl, src, force) {\n\t            Handlebars.templates = Handlebars.templates || {};\n\t            _templates[tpl[0]] = Handlebars.templates[tpl[0]] = force || !tpl[1] ? this.compile(tpl[0], src) : tpl[1];\n\t            return _templates[tpl[0]];\n\t        },\n\t\n\t        /**\n\t         * Compiles a template.\n\t         *\n\t         * This method puts the precompiled version of the template in cache\n\t         * and returns the compiled template. The template can be accessed\n\t         * directly via `Handlebars.templates[key]` statement.\n\t         *\n\t         * @param {string} key Template identifier.\n\t         * @param {string} src The actual template source to be compiled.\n\t         * @return {Function} Compiled template.\n\t         */\n\t        compile: function compile(key, src) {\n\t            try {\n\t                _templates[key] = \"templates['\" + key + \"'] = template(\" + Handlebars.precompile(src) + \");\\n\";\n\t                eval(_header + _templates[key] + _footer); // jshint ignore:line\n\t            } catch (e) {\n\t                // Invalid templates will cause a JS error when they either pre-compile or compile.\n\t                app.logger.error(\"Failed to compile or eval template \" + key + \".\\n\" + e);\n\t            }\n\t            return this.get(key, false) || this.empty;\n\t        },\n\t\n\t        /**\n\t         * Retrieves a compiled handlebars template.\n\t         * @param {string} key Identifier of the template to be retrieved.\n\t         * @param {boolean} [compile=true] Force the template to compile if we\n\t         *   have uncompiled source.\n\t         * @return {Function} Compiled Handlebars template.\n\t         */\n\t        get: function get(key, compile) {\n\t            //Undefined should default to true for compiled (not passed means compile)\n\t            compile = _.isUndefined(compile) || compile;\n\t            if (compile && !Handlebars.templates[key] && _sources[key]) {\n\t                this._compile([key], _sources[key]);\n\t            }\n\t            return Handlebars.templates ? Handlebars.templates[key] : null;\n\t        },\n\t\n\t        // Convenience private method\n\t        _getView: function _getView(name, module, compile) {\n\t            var key = name + (module ? '.' + module : '');\n\t            return [key, this.get(key, compile)];\n\t        },\n\t\n\t        /**\n\t         * Gets compiled template for a view.\n\t         * @param {string} name View name.\n\t         * @param {string} module (optional) Module name.\n\t         * @return {Function} Compiled template.\n\t         */\n\t        getView: function getView(name, module) {\n\t            return this._getView(name, module, true)[1];\n\t        },\n\t\n\t        // Convenience private method\n\t        _getField: function _getField(type, view, module, fallbackTemplate, skipFallbacks, compile) {\n\t            var foundTemplate,\n\t                prefix = \"f.\" + type + \".\",\n\t                key = prefix + (module ? module + \".\" : \"\") + view;\n\t\n\t            module += \".\";\n\t\n\t            // get the module specific one first, then try the base one for this view\n\t            foundTemplate = this.get(prefix + module + view, compile) || this.get(prefix + view, compile);\n\t            //skipfallbacks indicates we should only check for the requested field,\n\t            if (!foundTemplate && !skipFallbacks) {\n\t                foundTemplate = this.get(prefix + module + fallbackTemplate, compile) || this.get(prefix + fallbackTemplate, compile);\n\t                // If we got nothing for the requested fallback, use base as the last ditch fallback\n\t                if (!foundTemplate) {\n\t                    foundTemplate = this.get('f.base.' + view, compile) || this.get('f.base.' + fallbackTemplate, compile);\n\t                }\n\t            }\n\t            return [key, foundTemplate];\n\t        },\n\t\n\t        /**\n\t         * Gets compiled template for a field.\n\t         * @param {string} type Field type.\n\t         * @param {string} view View name.\n\t         * @param {string} module The Module where the field is from\n\t         * @param {boolean} [fallbackTemplate=true] Template name to fallback\n\t         *   to if template for `view` is not found. If view specific is not\n\t         *   found.\n\t         * @return {Function} Compiled template.\n\t         */\n\t        getField: function getField(type, view, module, fallbackTemplate) {\n\t            return this._getField(type, view, module, fallbackTemplate, false, true)[1];\n\t        },\n\t\n\t        // Convenience private method\n\t        _getLayout: function _getLayout(name, moduleName, compile) {\n\t            var key = 'l.' + (moduleName ? moduleName + '.' : '') + name;\n\t            return [key, this.get(key, compile)];\n\t        },\n\t\n\t        /**\n\t         * Gets compiled template for a layout.\n\t         * @param {string} [name] Layout name.\n\t         * @param {string} [moduleName] Module name.\n\t         * @return {Function} Compiled template.\n\t         */\n\t        getLayout: function getLayout(name, moduleName) {\n\t            return this._getLayout(name, moduleName, true)[1];\n\t        },\n\t\n\t        /**\n\t         * Compiles and puts into local storage a view template.\n\t         * @param {string} name View name.\n\t         * @param {string} module Module name.\n\t         * @param {string} src Template source code.\n\t         * @param {boolean} [force=false] Flag indicating if the template must\n\t         *   be re-compiled.\n\t         * @return {Function} Compiled template.\n\t         */\n\t        setView: function setView(name, module, src, force) {\n\t            return this._add(this._getView(name, module, false), src, force);\n\t        },\n\t\n\t        /**\n\t         * Compiles and puts into local storage a field template.\n\t         * @param {string} type Field type.\n\t         * @param {string} view View name.\n\t         * @param {string} module Module where field came from.\n\t         * @param {string} src Template source code.\n\t         * @param {boolean} [force=false] Flag indicating if the template must\n\t         *   be re-compiled.\n\t         * @return {Function} Compiled template.\n\t         */\n\t        setField: function setField(type, view, module, src, force) {\n\t            // Don't fall back to default template (false flag)\n\t            return this._add(this._getField(type, view, module, null, true, false), src, force);\n\t        },\n\t\n\t        /**\n\t         * Compiles and stores layout templates\n\t         * @param {string} name Layout Name.\n\t         * @param {string} [moduleName] Module Name.\n\t         * @param {string} src Raw template source.\n\t         * @param {boolean} [force=false] Flag indicating if the template must\n\t         *   be re-compiled.\n\t         * @return {Function} Compiled template\n\t         */\n\t        setLayout: function setLayout(name, moduleName, src, force) {\n\t            return this._add(this._getLayout(name, moduleName, false), src, force);\n\t        },\n\t\n\t        /**\n\t         * Registers view, layout, and field templates from metadata payload\n\t         * for later \"lazy\" on-demand compilation.\n\t         *\n\t         * The metadata must contain the following sections:\n\t         *\n\t         * <pre>\n\t         * {\n\t         *    // This should now be deprecated\n\t         *    \"view_templates\": {\n\t         *       \"detail\": HB template source,\n\t         *       \"list\": HB template source,\n\t         *       // etc.\n\t         *    },\n\t         *\n\t         *    \"sugarFields\": {\n\t         *        \"text\": {\n\t         *            \"templates\": {\n\t         *               \"default\": HB template source,\n\t         *               \"detail\": HB template source,\n\t         *               \"edit\": ...,\n\t         *               \"list\": ...\n\t         *            }\n\t         *        },\n\t         *        \"bool\": {\n\t         *           // templates for boolean field\n\t         *        },\n\t         *        // etc.\n\t         *    }\n\t         *\n\t         *    \"views\": {\n\t         *      \"text\": {\n\t         *          \"templates\" {\n\t         *              \"view\": HB template source...\n\t         *              \"view2\": HB template source..\n\t         *          }.\n\t         *    }\n\t         * }\n\t         * </pre>\n\t         *\n\t         * @param {Object} metadata Metadata payload.\n\t         * @param {boolean} [force=false] Flag indicating if the cache is\n\t         *   ignored and the templates are to be recompiled.\n\t         */\n\t        set: function set(metadata, force) {\n\t            if (metadata.views) {\n\t                _.each(metadata.views, function (view, name) {\n\t                    if (name != '_hash') {\n\t                        _.each(view.templates, function (src, key) {\n\t                            key = name == key ? key : name + '.' + key;\n\t                            this.setView(key, null, src, force);\n\t                        }, this);\n\t                    }\n\t                }, this);\n\t            }\n\t\n\t            if (metadata.fields) {\n\t                _.each(metadata.fields, function (field, type) {\n\t                    if (type != '_hash') {\n\t                        _.each(field.templates, function (src, view) {\n\t                            this.setField(type, view, null, src, force);\n\t                        }, this);\n\t                    }\n\t                }, this);\n\t            }\n\t\n\t            if (metadata.layouts) {\n\t                _.each(metadata.layouts, function (layout, type) {\n\t                    if (type != '_hash') {\n\t                        _.each(layout.templates, function (src, key) {\n\t                            key = type == key ? key : type + '.' + key;\n\t                            this.setLayout(key, null, src, force);\n\t                        }, this);\n\t                    }\n\t                }, this);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Pre-compiled empty template.\n\t         *\n\t         * @property {Function}\n\t         */\n\t        empty: function empty() {\n\t            return '';\n\t        }\n\t    };\n\t\n\t    app.augment('template', _templateManager);\n\t})(SUGAR.App);\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * The Context object is a state variable to hold the current application state. The context contains various\n\t     * states of the current {@link View.View View} or {@link View.Layout Layout} -- this includes the current model and collection, as well as the current\n\t     * module focused and also possibly the url hash that was matched.\n\t     *\n\t     * ###Creating a Context Object\n\t     *\n\t     * Use the getContext method to get a new instance of a context.\n\t     * <pre><code>\n\t     * var myContext = SUGAR.app.context.getContext({\n\t     *     module: \"Contacts\",\n\t     *     url: \"contacts/id\"\n\t     * });\n\t     * </code></pre>\n\t     *\n\t     * ###Retrieving Data from the Context\n\t     *\n\t     * <pre><code>\n\t     * var module = myContext.get(\"module\"); // module = \"Contacts\"\n\t     * </pre></code>\n\t     *\n\t     * ###Global Context Object\n\t     *\n\t     * The Application has a global context that applies to top level layer. Contexts used within\n\t     * nested {@link View.View Views} / {@link View.Layout Layouts} can be derived from the global context\n\t     * object.\n\t     *\n\t     *\n\t     * The global context object is stored in **`App.controller.context`**.\n\t     *\n\t     *\n\t     * @class Core.Context\n\t     * @extends Backbone.Model\n\t     */\n\t    app.Context = Backbone.Model.extend({\n\t\n\t        initialize: function initialize(attributes) {\n\t            Backbone.Model.prototype.initialize.call(this, attributes);\n\t            this.id = this.cid;\n\t            this.parent = null;\n\t            this.children = [];\n\t            this._fetchCalled = false;\n\t        },\n\t\n\t        /**\n\t         * Clears context's attributes. See {@link Core.Context#resetLoadFlag}.\n\t         *\n\t         * @param {Object} [options] Standard `Backbone.Model` options.\n\t         */\n\t        clear: function clear(options) {\n\t            var collection = this.get('collection');\n\t\n\t            if (collection) {\n\t                collection.abortFetchRequest();\n\t            }\n\t\n\t            _.each(this.children, function (child) {\n\t                child.clear(options);\n\t            });\n\t\n\t            this.children = [];\n\t            this.parent = null;\n\t\n\t            // Remove event listeners attached to models and collections in the context\n\t            // before clearing them.\n\t            _.each(this.attributes, function (value) {\n\t                if (value && value.off === Backbone.Events.off) {\n\t                    value.off();\n\t                    value.stopListening();\n\t                    if (_.isFunction(value.dispose)) {\n\t                        value.dispose();\n\t                    }\n\t                }\n\t            }, this);\n\t\n\t            this.off();\n\t            Backbone.Model.prototype.clear.call(this, options);\n\t\n\t            this.resetLoadFlag();\n\t        },\n\t\n\t        /**\n\t         * Resets \"load-data\" state for this context and its child contexts.\n\t         *\n\t         * The {@link Core.Context#loadData} method sets an internal boolean flag\n\t         * to prevent multiple identical requests to the server. This method resets this flag.\n\t         *\n\t         * @param {Object} [options] A hash of options.\n\t         * @param {boolean} [options.recursive = true] `true` to reset the child contexts\n\t         *   too.\n\t         * @param {boolean} [options.resetModel = true] `true` to reset the flag on the\n\t         *   model.\n\t         * @param {boolean} [options.resetCollection = true] `true` to reset the flag on\n\t         * the collection.\n\t         */\n\t        resetLoadFlag: function resetLoadFlag(options) {\n\t            if (_.isBoolean(options)) {\n\t                app.logger.warn('`Core.Context#resetLoadFlag` has changed signature since 7.8 ' + 'and will drop support for old signature in 7.9. Please update your code.');\n\t                options = { recursive: options };\n\t            }\n\t\n\t            options = options || {};\n\t            var recursive = _.isUndefined(options.recursive) ? true : options.recursive;\n\t            var resetModel = _.isUndefined(options.resetModel) ? true : options.resetModel;\n\t            var resetCollection = _.isUndefined(options.resetCollection) ? true : options.resetCollection;\n\t\n\t            this._fetchCalled = false;\n\t\n\t            if (this.get('model') && resetModel) {\n\t                this.get('model').dataFetched = false;\n\t            }\n\t\n\t            if (this.get('collection') && resetCollection) {\n\t                this.get('collection').dataFetched = false;\n\t            }\n\t\n\t            if (recursive) {\n\t                _.each(this.children, function (child) {\n\t                    child.resetLoadFlag();\n\t                });\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Checks if a context is used for a create view.\n\t         * @return {Boolean} `true` if this context has `create` flag set.\n\t         */\n\t        isCreate: function isCreate() {\n\t            return this.get(\"create\") === true;\n\t        },\n\t\n\t        /**\n\t         * Gets a related context.\n\t         * @param {Object} [def] Related context definition.\n\t         * <pre>\n\t         * {\n\t         *    module: module name,\n\t         *    link: link name\n\t         * }\n\t         * </pre>\n\t         * @return {Core.Context} New instance of the child context.\n\t         */\n\t        getChildContext: function getChildContext(def) {\n\t            def = def || {};\n\t            var context;\n\t            var force = def.forceNew || false;\n\t\n\t            delete def.forceNew;\n\t\n\t            // Re-use a child context if it already exists\n\t            // We search by either link name or module name\n\t            // Consider refactoring the way we store children: hash v.s. array\n\t            var name = def.cid || def.name || def.link || def.module;\n\t            if (name && !force) {\n\t                context = _.find(this.children, function (child) {\n\t                    return child.cid == name || child.get(\"link\") == name || child.get(\"module\") == name;\n\t                });\n\t            }\n\t\n\t            if (!context) {\n\t                def = _.extend({ fetch: this.get('fetch') }, def);\n\t                context = app.context.getContext(def);\n\t                this.children.push(context);\n\t                context.parent = this;\n\t            }\n\t\n\t            if (def.link) {\n\t                var parentModel = this.get(\"model\");\n\t                context.set({\n\t                    parentModel: parentModel,\n\t                    parentModule: parentModel ? parentModel.module : null\n\t                });\n\t            } else if (!def.module) {\n\t                context.set({ module: this.get(\"module\") });\n\t            }\n\t\n\t            this.trigger(\"context:child:add\", context);\n\t\n\t            return context;\n\t        },\n\t\n\t        /**\n\t         * Prepares instances of model and collection.\n\t         *\n\t         * This method does nothing if this context already contains an instance of a model or a collection.\n\t         * Pass `true` to re-create model and collection.\n\t         *\n\t         * @param {boolean} force(optional) Flag indicating if data instances must be re-created.\n\t         */\n\t        prepare: function prepare(force, prepareRelated) {\n\t            var link;\n\t            if (force || !this.get('model') && !this.get('collection')) {\n\t                var modelId = this.get('modelId');\n\t                var create = this.get('create');\n\t                link = this.get('link');\n\t\n\t                this.set(link ? this._prepareRelated(link, modelId, create) : this._prepare(modelId, create));\n\t            }\n\t\n\t            if ((force || !this._relatedCollectionsPopulated) && (!link || prepareRelated)) {\n\t                this._populateRelatedContexts();\n\t            }\n\t\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Sets the `fetch` attribute recursively on the context and its children.\n\t         *\n\t         * A context with `fetch` set to `false` won't load the data.\n\t         *\n\t         * @param {boolean} fetch `true` to recursively set `fetch` to `true`\n\t         *   in this context and its children.\n\t         * @param {Object} [options] A hash of options.\n\t         * @param {boolean} [options.recursive] `true` to recursively set the\n\t         *   `fetch` boolean on the children.\n\t         */\n\t        setFetch: function setFetch(fetch, options) {\n\t            options = options || {};\n\t            this.set('fetch', fetch);\n\t            var recursive = options.recursive === void 0 ? true : options.recursive;\n\t            if (recursive) {\n\t                _.each(this.children, function (child) {\n\t                    child.setFetch(fetch);\n\t                });\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Prepares instances of model and collection.\n\t         *\n\t         * This method assumes that the module name (`module`) is set on the context.\n\t         * If not, instances of standard Backbone.Model and Backbone.Collection are created.\n\t         *\n\t         * @param {String} modelId Bean ID.\n\t         * @param {Boolean} create Create flag.\n\t         * @return {Object} State to set on this context.\n\t         * @private\n\t         */\n\t        _prepare: function _prepare(modelId, create) {\n\t            var model,\n\t                collection,\n\t                module = this.get(\"module\"),\n\t                mixed = this.get(\"mixed\"),\n\t                models;\n\t\n\t            if (modelId) {\n\t                model = app.data.createBean(module, { id: modelId });\n\t                models = [model];\n\t            } else if (create === true) {\n\t                model = app.data.createBean(module);\n\t                models = [model];\n\t            } else {\n\t                model = app.data.createBean(module);\n\t            }\n\t\n\t            collection = mixed === true ? app.data.createMixedBeanCollection(models) : app.data.createBeanCollection(module, models);\n\t\n\t            return {\n\t                collection: collection,\n\t                model: model\n\t            };\n\t        },\n\t\n\t        /**\n\t         * Prepares instances of related model and collection.\n\t         *\n\t         * This method assumes that either a parent model (`parentModel`) or\n\t         * parent model ID (`parentModelId`) and parent model module name (`parentModule`) are set on this context.\n\t         *\n\t         * @param {String} link Relationship link name.\n\t         * @param {String} modelId Related bean ID.\n\t         * @param {Boolean} create Create flag.\n\t         * @return {Object} State to set on this context.\n\t         * @private\n\t         */\n\t        _prepareRelated: function _prepareRelated(link, modelId, create) {\n\t            var model,\n\t                collection,\n\t                parentModel = this.get(\"parentModel\");\n\t\n\t            parentModel = parentModel || app.data.createBean(this.get(\"parentModule\"), { id: this.get(\"parentModelId\") });\n\t            if (modelId) {\n\t                model = app.data.createRelatedBean(parentModel, modelId, link);\n\t                collection = app.data.createRelatedCollection(parentModel, link, [model]);\n\t            } else if (create === true) {\n\t                model = app.data.createRelatedBean(parentModel, null, link);\n\t                collection = app.data.createRelatedCollection(parentModel, link, [model]);\n\t            } else {\n\t                model = app.data.createRelatedBean(parentModel, null, link);\n\t                collection = app.data.createRelatedCollection(parentModel, link);\n\t            }\n\t\n\t            if (!this.has(\"parentModule\")) {\n\t                this.set({ \"parentModule\": parentModel.module }, { silent: true });\n\t            }\n\t\n\t            if (!this.has(\"module\")) {\n\t                this.set({ \"module\": model.module }, { silent: true });\n\t            }\n\t\n\t            return {\n\t                parentModel: parentModel,\n\t                collection: collection,\n\t                model: model\n\t            };\n\t        },\n\t\n\t        /**\n\t         * Sets the `fields` attribute on this context by extending the current\n\t         * `fields` attribute with the passed-in `fieldsArray`.\n\t         *\n\t         * @chainable\n\t         * @param {string[]} fieldsArray The list of field names.\n\t         * @return {Core.Context} Instance of this model.\n\t         */\n\t        addFields: function addFields(fieldsArray) {\n\t            if (!fieldsArray) {\n\t                return;\n\t            }\n\t            var fields = _.union(fieldsArray, this.get('fields') || []);\n\t            return this.set('fields', fields);\n\t        },\n\t\n\t        /**\n\t         * Loads data (calls fetch on either model or collection).\n\t         *\n\t         * This method sets an internal boolean flag to prevent consecutive fetch operations.\n\t         * Call {@link Core.Context#resetLoadFlag} to reset the context's state.\n\t         *\n\t         * @param {Object} [options] A hash of options passed to\n\t         *   collection/model's fetch method.\n\t         * @param {boolean} [options.fetch] `true` to always fetch the data.\n\t         */\n\t        loadData: function loadData(options) {\n\t            options = options || {};\n\t            if (!options.forceFetch && !this._shouldFetch()) {\n\t                return;\n\t            }\n\t\n\t            delete options.forceFetch;\n\t\n\t            var objectToFetch,\n\t                modelId = this.get(\"modelId\"),\n\t                module = this.get(\"module\"),\n\t                defaultOrdering = app.config.orderByDefaults && module ? app.config.orderByDefaults[module] : null;\n\t\n\t            objectToFetch = modelId ? this.get(\"model\") : this.get(\"collection\");\n\t\n\t            // If we have an orderByDefaults in the config, and this is a bean collection,\n\t            // try to use ordering from there (only if orderBy is not already set.)\n\t            if (defaultOrdering && objectToFetch instanceof app.BeanCollection && !objectToFetch.orderBy) {\n\t                objectToFetch.orderBy = defaultOrdering;\n\t            }\n\t\n\t            // TODO: Figure out what to do when models are not\n\t            // instances of Bean or BeanCollection. No way to fetch.\n\t            if (objectToFetch && (objectToFetch instanceof app.Bean || objectToFetch instanceof app.BeanCollection)) {\n\t\n\t                if (this.get('dataView') && _.isString(this.get('dataView'))) {\n\t                    objectToFetch.setOption('view', this.get('dataView'));\n\t                }\n\t\n\t                if (this.get('fields')) {\n\t                    objectToFetch.setOption('fields', this.get('fields'));\n\t                }\n\t\n\t                if (this.get('limit')) {\n\t                    objectToFetch.setOption('limit', this.get('limit'));\n\t                }\n\t\n\t                if (this.get('module_list')) {\n\t                    objectToFetch.setOption('module_list', this.get('module_list'));\n\t                }\n\t\n\t                // Track models that user is actively viewing\n\t                if (this.get('viewed')) {\n\t                    objectToFetch.setOption('viewed', this.get('viewed'));\n\t                }\n\t\n\t                options.context = this;\n\t\n\t                if (this.get(\"skipFetch\") !== true) {\n\t                    objectToFetch.fetch(options);\n\t                }\n\t\n\t                this._fetchCalled = true;\n\t            } else {\n\t                app.logger.warn(\"Skipping fetch because model is not Bean, Bean Collection, or it is not defined, module: \" + this.get(\"module\"));\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Creates child context for each `link` of each `collection` field\n\t         * present on the bean.\n\t         *\n\t         * @private\n\t         */\n\t        _populateRelatedContexts: function _populateRelatedContexts() {\n\t            if (!this.get('collection')) {\n\t                return;\n\t            }\n\t\n\t            this.get('collection').each(function (bean) {\n\t                var collectionFields = bean.fieldsOfType('collection');\n\t                if (!_.isEmpty(collectionFields)) {\n\t                    _.each(collectionFields, function (field) {\n\t                        var links = field.links;\n\t                        if (_.isString(links)) {\n\t                            links = [links];\n\t                        }\n\t\n\t                        var linkCollections = {};\n\t                        _.each(links, function (link) {\n\t                            var rc = this.getChildContext({ link: link });\n\t                            rc.prepare();\n\t                            linkCollections[link] = rc.get('collection');\n\t                        }, this);\n\t\n\t                        bean.set(field.name, app.data.createMixedBeanCollection([], { links: linkCollections }));\n\t                    }, this);\n\t                }\n\t            }, this);\n\t\n\t            this._relatedCollectionsPopulated = true;\n\t        },\n\t\n\t        /**\n\t         * Helper function to determine if {@link #loadData} can be called on\n\t         * this context.\n\t         *\n\t         * @protected\n\t         * @return {boolean} `true` if {@link #loadData} can be called. `false`\n\t         *   otherwise.\n\t         */\n\t        _shouldFetch: function _shouldFetch() {\n\t            return (this.get('fetch') === void 0 || this.get('fetch')) && !this.isDataFetched() && !this.get('create');\n\t        },\n\t\n\t        /**\n\t         * Refreshes the context's data and refetches the new data if\n\t         * {@link #skipFetch} is `true`.\n\t         *\n\t         * @param {Object} [options] Options for {@link #loadData} and the\n\t         *   `reload` event.\n\t         */\n\t        reloadData: function reloadData(options) {\n\t            options = options || {};\n\t\n\t            this.resetLoadFlag(options);\n\t            this.loadData(options);\n\t\n\t            /**\n\t             * @event reload\n\t             * Triggered before and after the context is reloaded.\n\t             * @param {Core.Context} this The context where the event was triggered.\n\t             * @param {Object} [options] The options passed during\n\t             *   {@link #reloadData} call.\n\t             */\n\t            this.trigger('reload', this, options);\n\t        },\n\t\n\t        /**\n\t         * Indicator to know if data has been successfully loaded\n\t         *\n\t         * @return {boolean} `true` if data has been fetched, `false` otherwise.\n\t         */\n\t        isDataFetched: function isDataFetched() {\n\t            var objectToFetch = this.get('modelId') ? this.get('model') : this.get('collection');\n\t            return this._fetchCalled || objectToFetch && !!objectToFetch.dataFetched;\n\t        }\n\t    });\n\t\n\t    app.augment('context', {\n\t\n\t        /**\n\t         * Returns a new instance of the context object.\n\t         * @param {Object} [attributes] Any parameters and state properties to\n\t         *   attach to the context.\n\t         * @return {Core.Context} New context instance.\n\t         * @member Core.Context\n\t         */\n\t        getContext: function getContext(attributes) {\n\t            return new app.Context(attributes);\n\t        }\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 43 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    /**\n\t     * Controller manages the loading and unloading of layouts within the app.\n\t     *\n\t     * **Extending controller**\n\t     *\n\t     * Application may choose to extend the controller to provide custom implementation.\n\t     * Your custom controller class name should be capiltalized {@link Config#appId} followed by `Controller` word.\n\t     * <pre><code>\n\t     * (function(app) {\n\t     *\n\t     *     app.PortalController = app.Controller.extend({\n\t     *\n\t     *         loadView: function(params) {\n\t     *            // Custom implementation of loadView\n\t     *\n\t     *            // Should you need to call super method:\n\t     *            app.Controller.prototype.loadView.call(this, params);\n\t     *         }\n\t     *\n\t     *     });\n\t     *\n\t     * })(SUGAR.App);\n\t     * </code></pre>\n\t     *\n\t     * @class Core.Controller\n\t     * @alias SUGAR.App.controller\n\t     * @singleton\n\t     */\n\t    var Controller = Backbone.View.extend({\n\t        /**\n\t         * Initializes this controller.\n\t         * @private\n\t         * @ignore\n\t         */\n\t        initialize: function initialize() {\n\t            /**\n\t             * The primary context of the app.\n\t             * This context is associated with the root layout.\n\t             * @property {Core.Context}\n\t             */\n\t            this.context = app.context.getContext();\n\t\n\t            app.events.on(\"app:sync:complete\", function () {\n\t                app.api.setStateProperty(\"loadingAfterSync\", true);\n\t                _.each(app.additionalComponents, function (component) {\n\t                    if (component && _.isFunction(component._setLabels)) {\n\t                        component._setLabels();\n\t                    }\n\t                    component.render();\n\t                });\n\t                app.router.reset();\n\t                app.api.clearStateProperty(\"loadingAfterSync\");\n\t            });\n\t\n\t            app.events.on(\"app:login:success\", function () {\n\t                app.sync();\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Loads a view (layout).\n\t         *\n\t         * This method is called by the router when the route is changed.\n\t         *\n\t         * @param {Object} params Options that determine the current context and the view to load.\n\t          * - id: ID of the record to load (optional)\n\t         * - module: module name\n\t         * - layout: Name of the layout to load\n\t         */\n\t        loadView: function loadView(params) {\n\t\n\t            var oldLayout = this.layout;\n\t\n\t            //FIXME SC-5124 will remove 'app:view:load', to use 'app:view:change' instead.\n\t            if (!app.triggerBefore('app:view:change') || !app.triggerBefore('app:view:load')) {\n\t                return;\n\t            }\n\t\n\t            // Reset context and initialize it with new params\n\t            this.context.clear({ silent: true });\n\t            this.context.set(params);\n\t\n\t            // Prepare model and collection\n\t            this.context.prepare();\n\t            // Create an instance of the layout and bind it to the data instance\n\t            this.layout = app.view.createLayout({\n\t                name: params.layout,\n\t                module: params.module,\n\t                context: this.context\n\t            });\n\t\n\t            if (oldLayout) {\n\t                // Take out the previous layout element from the content container,\n\t                // and then keep it in the document fragment\n\t                // in order to destroy jQuery plugin safe.\n\t                var oldLayoutEl = document.createDocumentFragment();\n\t                oldLayoutEl.appendChild(oldLayout.el);\n\t            }\n\t\n\t            // Render the layout to the main element\n\t            // Since the previous element is already gone,\n\t            // .append is better way because .html requires\n\t            // additional cost for .empty().\n\t            app.$contentEl.append(this.layout.$el);\n\t\n\t            //initialize subcomponents in the layout\n\t            this.layout.initComponents();\n\t\n\t            // Fetch the data, the layout will be rendered when fetch completes\n\t            if (!params || params && !params.skipFetch) {\n\t                this.layout.loadData();\n\t            }\n\t\n\t            // Render the layout with empty data\n\t            this.layout.render();\n\t\n\t            if (oldLayout) {\n\t                oldLayout.dispose();\n\t            }\n\t\n\t            app.trigger(\"app:view:change\", params.layout, params);\n\t        },\n\t\n\t        /**\n\t         * Creates, renders, and registers within the app additional components.\n\t         */\n\t        loadAdditionalComponents: function loadAdditionalComponents(components) {\n\t            if (!_.isEmpty(app.additionalComponents)) {\n\t                app.logger.error('`app.controller.loadAdditionalComponents` has already been called. It can not be called twice.');\n\t                return;\n\t            }\n\t\n\t            app.additionalComponents = {};\n\t            _.each(components, function (component, name) {\n\t                if (component.target) {\n\t                    var $el = this.$(component.target);\n\t                    if (!$el.get(0)) {\n\t                        app.logger.error('Unable to place additional component \"' + name + '\": the target specified does not exist.');\n\t                        return;\n\t                    }\n\t                    if (component.layout) {\n\t                        app.additionalComponents[name] = app.view.createLayout({\n\t                            context: this.context,\n\t                            type: component.layout,\n\t                            el: $el\n\t                        });\n\t                        app.additionalComponents[name].initComponents();\n\t                    } else {\n\t                        app.additionalComponents[name] = app.view.createView({\n\t                            type: component.view || name,\n\t                            context: this.context,\n\t                            el: $el\n\t                        });\n\t                    }\n\t                    app.additionalComponents[name].render();\n\t                } else {\n\t                    app.logger.error('Unable to place additional component \"' + name + '\": no target specified.');\n\t                }\n\t            }, this);\n\t        }\n\t    });\n\t\n\t    app.augment(\"Controller\", Controller, false);\n\t\n\t    app.events.on(\"app:init\", function (app) {\n\t        app.controller.setElement(app.$rootEl);\n\t    }, app.controller).on(\"app:start\", function (app) {\n\t        app.controller.loadAdditionalComponents(app.config.additionalComponents);\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    // Can be set by routing.start().\n\t    var _routes;\n\t\n\t    /**\n\t     * Manages routing behavior.\n\t     *\n\t     * The default implementation provides `before` and `after` callbacks that are executed\n\t     * before and after a route gets triggered.\n\t     *\n\t     * @class Core.Routing\n\t     * @alias SUGAR.App.routing\n\t     * @singleton\n\t     */\n\t    app.augment(\"routing\", {\n\t\n\t        /**\n\t         * Checks if a user is authenticated before triggering a route.\n\t         * @param {String} route Route name.\n\t         * @param args(optional) Route parameters.\n\t         * @return {Boolean} Flag indicating if the route should be triggered (`true`).\n\t         */\n\t        beforeRoute: function beforeRoute(route, args) {\n\t            if (!this.triggerBefore(\"route\", { route: route, args: args })) return false;\n\t\n\t            // skip this check for all white-listed routes (app.config.unsecureRoutes)]\n\t            if (_.indexOf(app.config.unsecureRoutes, route) >= 0) return true;\n\t\n\t            // Check if a user is un-authenticated and redirect him to login\n\t            if (!app.api.isAuthenticated()) {\n\t                app.router.login();\n\t                return false;\n\t            } else if (!app.isSynced) {\n\t                Backbone.history.stop();\n\t                app.sync();\n\t                return false;\n\t            }\n\t            return true;\n\t        },\n\t\n\t        /**\n\t         * Gets called after a route gets triggered.\n\t         *\n\t         * The default implementation does nothing.\n\t         * @param {String} route Route name.\n\t         * @param args(optional) Route parameters.\n\t         */\n\t        after: function after(route, args) {\n\t            // Do nothing\n\t        },\n\t\n\t        /**\n\t         * If default routes are not desired, overwrite defaults with an array\n\t         * of custom routes with their handlers.\n\t         *\n\t         * @param {Array} customRoutes List of routes to replace sidecar routes\n\t         * with. In the format:\n\t         *\n\t         *     { route: 'route', name: 'routename', callback: function() {} }\n\t         */\n\t        setRoutes: function setRoutes(customRoutes) {\n\t            app.logger.warn('Core.Routing#setRoutes is deprecated since 7.8 and will be removed in 7.9. ' + 'Please use Core.Router#addRoutes.');\n\t            _routes = customRoutes;\n\t        },\n\t\n\t        /**\n\t         * Should be called when app has finished loading all the necessary files.\n\t         * This will create an instance of Backbone router.\n\t         */\n\t        start: function start() {\n\t            var opts = {};\n\t\n\t            if (_routes) {\n\t                opts.customRoutes = _routes;\n\t            }\n\t\n\t            app.augment(\"router\", new app.Router(opts), false);\n\t            app.events.trigger(\"router:start\", app.router);\n\t            app.router.init();\n\t            app.router.start();\n\t        },\n\t\n\t        /**\n\t         * Internal use only - for unit testing Routers.\n\t         *\n\t         * Disable `Backbone.history` temporarily.\n\t         */\n\t        stop: function stop() {\n\t            app.router.stop();\n\t            _routes = [];\n\t        }\n\t    });\n\t\n\t    //Mix in the beforeEvents\n\t    _.extend(app.routing, app.beforeEvent);\n\t\n\t    /**\n\t     * Router manages the watching of the address hash and routes to the correct handler.\n\t     *\n\t     * **Note:** The default router has no routes, routes will need to be provided via a custom route object\n\t     * from the `platform.js` file. Custom routes can use predefined route handlers on the default router.\n\t     *\n\t     * Deprecated Routes:\n\t     *\n\t     * - \"\": \"index\",\n\t     * - \"logout\": \"logout\",\n\t     * - \"logout/?clear=:clear\": \"logout\",\n\t     * - \":module\": \"list\",\n\t     * - \":module/layout/:view\": \"layout\",\n\t     * - \":module/create\": \"create\",\n\t     * - \":module/:id/:action\": \"record\",\n\t     * - \":module/:id\": \"record\"\n\t     *\n\t     * ## Events:\n\t     * ### router:init\n\t     * Triggered after {@link Core.Routing#start} has been initialized but before it has started.\n\t     * Should be used to register additional custom routes:\n\t     *\n\t     *     app.events.on('router:init', function(router) {\n\t     *         var routes = [\n\t     *             {\n\t     *                 route: 'MyModule/my_custom_route',\n\t     *                 name: 'MyModule',\n\t     *                 callback: MyModule\n\t     *             }\n\t     *         ];\n\t     *         app.router.addRoutes(routes);\n\t     *     });\n\t     *\n\t     *\n\t     *\n\t     * @class Core.Router\n\t     * @alias SUGAR.App.router\n\t     * @extends Backbone.Router\n\t     * @singleton\n\t     */\n\t    app.Router = Backbone.Router.extend({\n\t\n\t        /**\n\t         * Sets custom routes and binds them if available.\n\t         * @param {Object} [opts] options to initialize the router.\n\t         * @param {Object} [opts.customRoutes] customRoutes to override the\n\t         * default sidecar ones.\n\t         */\n\t        initialize: function initialize(opts) {\n\t            opts = opts || {};\n\t\n\t            /**\n\t             * The previous fragment.\n\t             *\n\t             * @property {string}\n\t             * @private\n\t             */\n\t            this._previousFragment = '';\n\t\n\t            /**\n\t             * The current fragment.\n\t             *\n\t             * @property {string}\n\t             * @private\n\t             */\n\t            this._currentFragment = '';\n\t\n\t            if (opts.customRoutes) {\n\t                app.logger.warn('Core.Router\\'s option \"customRoutes\", is deprecated since 7.8 and will be removed in 7.9. ' + 'Please use addRoutes.');\n\t                this._initRoutes = opts.customRoutes;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Calls {@link Core.Routing#before} before invoking a route handler\n\t         * and {@link Core.Routing#after} after the handler is invoked.\n\t         *\n\t         * @param {Function} handler Route callback handler.\n\t         * @private\n\t         */\n\t        _routeHandler: function _routeHandler(handler) {\n\t            var args = Array.prototype.slice.call(arguments, 1),\n\t                route = handler.route;\n\t\n\t            if (app.routing.beforeRoute(route, args)) {\n\t                this._previousFragment = this._currentFragment;\n\t                this._currentFragment = this.getFragment();\n\t                handler.apply(this, args);\n\t                app.routing.after(route, args);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Checks if module exists and displays 404 error screen if it does not\n\t         * @param module\n\t         * @return {boolean} `true` if module exists, `false` otherwise.\n\t         * @private\n\t         */\n\t        _moduleExists: function _moduleExists(module) {\n\t            if (module && _.isUndefined(app.metadata.getModule(module))) {\n\t                app.error.handleHttpError({ status: 404 });\n\t                return false;\n\t            }\n\t            return true;\n\t        },\n\t\n\t        _addDefaultRoutes: function _addDefaultRoutes() {\n\t            var defaultRoutes = [{\n\t                name: 'notFound',\n\t                route: /^.*$/,\n\t                callback: function callback() {\n\t                    // no matching routes (e.g.: '#//' or '#unkown/path/route)\n\t                    app.error.handleHttpError({ status: 404 });\n\t                }\n\t            }];\n\t            this.addRoutes(defaultRoutes);\n\t        },\n\t\n\t        /**\n\t         * Registers a handler for a named route.\n\t         *\n\t         * This method wraps the handler into {@link Core.Router#_routeHandler}\n\t         * method.\n\t         *\n\t         * @param {string} route Route expression.\n\t         * @param {string} name Route name.\n\t         * @param {Function} [callback] Route handler. If not supplied, will\n\t         *   use the method name that matches the `name` param.\n\t         */\n\t        route: function route(_route, name, callback) {\n\t            if (!name) {\n\t                app.logger.warn('Route names will be required in 7.9.');\n\t            } else if (!_.isEmpty(this._routes[name])) {\n\t                app.logger.error('Route \"' + name + '\" is being overridden. This is highly NOT advisable.');\n\t            }\n\t\n\t            this._routes[name] = callback;\n\t\n\t            if (!callback) {\n\t                callback = this[name];\n\t            }\n\t\n\t            callback.route = name;\n\t            callback = _.wrap(callback, this._routeHandler);\n\t            Backbone.Router.prototype.route.call(this, _route, name, callback);\n\t        },\n\t\n\t        /**\n\t         * Gets the current backbone fragment.\n\t         *\n\t         * @return {string}\n\t         */\n\t        getFragment: function getFragment() {\n\t            return Backbone.history.getFragment();\n\t        },\n\t\n\t        /**\n\t         * Updates the URL with the given fragment.\n\t         *\n\t         * @param {string} fragment The fragment to navigate to.\n\t         * @param {Object} [options] The options hash.\n\t         * @param {boolean} [options.trigger] `true` to fire the route callback.\n\t         * @param {boolean} [options.replace] `true` to modify the current URL\n\t         *   without adding an entry to the window.history object.\n\t         */\n\t        navigate: function navigate(fragment, options) {\n\t            Backbone.Router.prototype.navigate.apply(this, arguments);\n\t            if (!(options && options.trigger)) {\n\t                this._previousFragment = this._currentFragment;\n\t                this._currentFragment = this.getFragment();\n\t            }\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Gets the previous fragment.\n\t         *\n\t         * @return {string}\n\t         */\n\t        getPreviousFragment: function getPreviousFragment() {\n\t            return this._previousFragment;\n\t        },\n\t\n\t        /**\n\t         * Navigates to the previous route in history.\n\t         *\n\t         * This method triggers route change event.\n\t         */\n\t        goBack: function goBack() {\n\t            app.logger.debug(\"Navigating back...\");\n\t            window.history.back();\n\t        },\n\t\n\t        /**\n\t         * Navigates the window history.\n\t         *\n\t         * @param {Number} steps Number of steps to navigate (can be negative).\n\t         */\n\t        go: function go(steps) {\n\t            window.history.go(steps);\n\t        },\n\t\n\t        /**\n\t         * Initializes the router.\n\t         */\n\t        init: function init() {\n\t            /**\n\t             * Routes' hashmap by name. See {@link#get} for more info.\n\t             *\n\t             * @type {Object}\n\t             * @private\n\t             */\n\t            this._routes = {};\n\t            this._addDefaultRoutes();\n\t            if (this._initRoutes) {\n\t                this.addRoutes(this._initRoutes);\n\t            }\n\t\n\t            if (this.customRoutes) {\n\t                app.logger.warn('Core.Router\\'s option \"customRoutes\", is deprecated since 7.8 and will be removed in 7.9. ' + 'Please use addRoutes.');\n\t                this.addRoutes(this.customRoutes);\n\t            }\n\t\n\t            app.events.trigger('router:init');\n\t        },\n\t\n\t        /**\n\t         * Starts Backbone history which in turn starts routing the hashtag.\n\t         *\n\t         * See Backbone.history documentation for details.\n\t         */\n\t        start: function start() {\n\t            if (!Backbone.History.started) {\n\t                Backbone.history.start();\n\t            }\n\t        },\n\t\n\t        stop: function stop() {\n\t            Backbone.history.stop();\n\t        },\n\t\n\t        /**\n\t         * Reset router.\n\t         * Stop Backbone.history and clean up routes.\n\t         * Re-initialize and start routing again.\n\t         */\n\t        reset: function reset() {\n\t            app.router.stop();\n\t            _routes = [];\n\t            Backbone.history.handlers = [];\n\t            app.router.init();\n\t            app.router.start();\n\t        },\n\t\n\t        /**\n\t         * Add routes into router.\n\t         *\n\t         * **Note:** Currently, Backbone stops after the first matching route.\n\t         * Therefore, the order of how custom routes are added is important.\n\t         *\n\t         * In general, the developer should add the more specific route first,\n\t         * so that the intended route gets called.\n\t         *\n\t         * For example, the route `MyRoute/create` will call `myRouteCreate` in\n\t         * the following code snippet:\n\t         *\n\t         *     var routes = [\n\t         *         {\n\t         *             name: 'myRouteCreate',\n\t         *             route: 'MyRoute/create',\n\t         *             callback: myRouteCreate\n\t         *         },\n\t         *         {\n\t         *             name: 'myRoute',\n\t         *             route: \"MyRoute(/:my_custom_route)\",\n\t         *             callback: myRoute\n\t         *         }\n\t         *     ];\n\t         *\n\t         * If the order of `myRouteCreate` and `myRoute` is reversed, triggering\n\t         * `MyRoute/create` will call `myRoute` with `:my_custom_route` set to\n\t         * `create`, which may not be intended.\n\t         *\n\t         * @param {Array} routes The ordered list of routes.\n\t         */\n\t        addRoutes: function addRoutes(routes) {\n\t            if (!routes) return;\n\t            var newRoutes = routes.reverse();\n\t            _.each(newRoutes, function (route) {\n\t                this.route(route.route, route.name, route.callback);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Retrieves the callback associated with the given name.\n\t         *\n\t         * @param {string} name The route to get the callback function.\n\t         * @returns {Function} The callback associated with this route name.\n\t         */\n\t        get: function get(name) {\n\t            return this._routes[name];\n\t        },\n\t\n\t        /**\n\t         * Re-trigger the current route.\n\t         * Used to refresh the current layout/page without doing a hard refresh.\n\t         */\n\t        refresh: function refresh() {\n\t            Backbone.history.loadUrl(Backbone.history.fragment);\n\t        },\n\t\n\t        /**\n\t         * Builds a route.\n\t         *\n\t         * This is a convenience function.\n\t         * If you need to override this, define a customBuildRoute function on\n\t         * `app.utils` and return empty string if you want to fallback to this\n\t         * definition of build route.\n\t         *\n\t         * @param {Core.Context|string} moduleOrContext The name of the module\n\t         * or a context object to extract the module from.\n\t         * @param {string} id The model's ID.\n\t         * @param {string} [action] Action name.\n\t         * @return {string} route The built route.\n\t         */\n\t        buildRoute: function buildRoute(moduleOrContext, id, action) {\n\t            var route;\n\t\n\t            if (app.utils && _.isFunction(app.utils.customBuildRoute)) {\n\t                route = app.utils.customBuildRoute.apply(this, arguments);\n\t                if (!_.isEmpty(route)) {\n\t                    return route;\n\t                }\n\t            }\n\t\n\t            if (moduleOrContext) {\n\t                // If module is a context object, then extract module from it\n\t                route = _.isString(moduleOrContext) ? moduleOrContext : moduleOrContext.get(\"module\");\n\t\n\t                if (id) {\n\t                    route += \"/\" + id;\n\t                }\n\t\n\t                if (action) {\n\t                    route += \"/\" + action;\n\t                }\n\t            } else {\n\t                route = action;\n\t            }\n\t\n\t            return route;\n\t        },\n\t\n\t        // ----------------------------------------------------\n\t        // Route handlers\n\t        // ----------------------------------------------------\n\t\n\t        /**\n\t         * Handles `index` route.\n\t         *\n\t         * Loads `home` layout for `Home` module or `list` route with default module defined in app.config\n\t         */\n\t        index: function index() {\n\t            app.logger.debug(\"Route changed to index\");\n\t            if (app.config.defaultModule) {\n\t                this.navigate(app.config.defaultModule, { trigger: true });\n\t            } else if (app.acl.hasAccess('read', 'Home')) {\n\t                this.navigate('Home', { trigger: true });\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Handles `list` route.\n\t         * @param module Module name.\n\t         */\n\t        list: function list(module) {\n\t            if (!this._moduleExists(module)) {\n\t                return;\n\t            }\n\t            app.logger.debug(\"Route changed to list of \" + module);\n\t            app.controller.loadView({\n\t                module: module,\n\t                layout: \"records\"\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Handles arbitrary layout for a module that doesn't have a record associated with the layout.\n\t         * @param module Module name.\n\t         * @param layout Layout name.\n\t         */\n\t        layout: function layout(module, _layout) {\n\t            if (!this._moduleExists(module)) {\n\t                return;\n\t            }\n\t            app.logger.debug(\"Route changed to layout: \" + _layout + \" for \" + module);\n\t            app.controller.loadView({\n\t                module: module,\n\t                layout: _layout\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Handles `create` route.\n\t         * @param module Module name.\n\t         */\n\t        create: function create(module) {\n\t            if (!this._moduleExists(module)) {\n\t                return;\n\t            }\n\t            app.logger.debug(\"Route changed: create \" + module);\n\t            app.controller.loadView({\n\t                module: module,\n\t                create: true,\n\t                layout: \"edit\"\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Handles `login` route.\n\t         */\n\t        login: function login() {\n\t            app.logger.debug(\"Logging in\");\n\t            app.controller.loadView({\n\t                module: \"Login\",\n\t                layout: \"login\",\n\t                create: true\n\t            });\n\t\n\t            // Need to hide the megamenu here otherwise we get a login screen\n\t            // with a megamenu. This is done AFTER the login view loading since\n\t            // loadView fires a _render call on login.js, which rerenders the\n\t            // header in refreshAdditionalComponents().\n\t            app.events.trigger('app:login');\n\t\n\t            if (app.config.externalLogin) {\n\t                // This will attempt reauth\n\t                app.api.ping(null, {\n\t                    success: function success() {\n\t                        // If we have success then show the megamenu again\n\t                        app.events.trigger('app:login:success');\n\t                        app.router.refresh();\n\t                    },\n\t                    error: function error() {\n\t                        app.alert.show('needs_login_error', {\n\t                            level: 'error',\n\t                            messages: app.lang.getAppString('LBL_PORTAL_INVALID_CREDS_TITLE'),\n\t                            title: app.lang.get('LBL_PORTAL_INVALID_CREDS_TITLE')\n\t                        });\n\t                    }\n\t                });\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Handles `logout` route.\n\t         */\n\t        logout: function logout(clear) {\n\t            if (!app.api.isAuthenticated()) {\n\t                // We don't want to store the #logout fragment in the URL\n\t                // history. This will re-direct to the root defined in the\n\t                // Backbone router, and replace the URL.\n\t                this.redirect('/');\n\t                return;\n\t            }\n\t\n\t            clear = clear === \"1\";\n\t            app.logger.debug(\"Logging out: \" + clear);\n\t            app.logout({\n\t                complete: function complete() {\n\t                    app.router.navigate(\"#\");\n\t                    if (clear) {\n\t                        //We have to reload to clear any sensitive data from browser tab memory.\n\t                        window.location.reload();\n\t                    } else {\n\t                        if (app.config.externalLogin) {\n\t                            app.controller.loadView({\n\t                                module: \"Login\",\n\t                                layout: \"logout\",\n\t                                skipFetch: true,\n\t                                create: true\n\t                            });\n\t                        } else {\n\t                            app.router.login();\n\t                        }\n\t                    }\n\t                },\n\t                success: function success(data) {\n\t                    app.events.trigger('app:logout:success', data);\n\t                }\n\t            }, clear);\n\t        },\n\t\n\t        /**\n\t         * Handles `record` route.\n\t         * @param {string} module Module name.\n\t         * @param {string} id Record ID. If `id` is `create`, it will load the create view.\n\t         * @param {string} [action] Action name (`edit`, etc.). Defaults to `detail` if not specified.\n\t         * @param {string} [layout] The layout to use for this route. Defaults to `record` if not specified.\n\t         */\n\t        record: function record(module, id, action, layout) {\n\t            if (!this._moduleExists(module)) {\n\t                return;\n\t            }\n\t            var oldCollection = app.controller.context.get('collection'),\n\t                oldListCollection = app.controller.context.get('listCollection'),\n\t                opts = {\n\t                module: module,\n\t                layout: layout || \"record\",\n\t                action: action || \"detail\"\n\t            };\n\t\n\t            if (id !== \"create\") {\n\t                _.extend(opts, { modelId: id });\n\t            } else {\n\t                _.extend(opts, { create: true });\n\t                opts.layout = \"create\";\n\t            }\n\t\n\t            //If we come from a list view, we get the current collection\n\t            if (oldCollection && oldCollection.module === module && oldCollection.get(id)) {\n\t                opts.listCollection = oldCollection;\n\t            }\n\t\n\t            //If we come from a detail view, we need to get the cached collection\n\t            if (oldListCollection && oldListCollection.module === module && oldListCollection.get(id)) {\n\t                opts.listCollection = oldListCollection;\n\t            }\n\t\n\t            app.controller.loadView(opts);\n\t        },\n\t\n\t        redirect: function redirect(route, options) {\n\t            this.navigate(route, _.extend({ trigger: true, replace: true }, options));\n\t        }\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    /**\n\t     * Language Helper.\n\t     *\n\t     * Provides interface to pull language strings out of a language label\n\t     * cache.\n\t     *\n\t     * @class Core.Language\n\t     * @alias SUGAR.App.lang\n\t     * @singleton\n\t     */\n\t    app.augment('lang', {\n\t\n\t        /**\n\t         * The display direction for the current language.\n\t         *\n\t         * @property {string}\n\t         */\n\t        direction: 'ltr',\n\t\n\t        /**\n\t         * Retrieves a string for a given key.\n\t         *\n\t         * This function searches the module strings first and falls back to the\n\t         * app strings.\n\t         *\n\t         * If the label is a template, it will be compiled and executed with the\n\t         * given `context`.\n\t         *\n\t         * @param {string} key Key of the string to retrieve.\n\t         * @param {string|Array} [module] Module the label belongs to. If an\n\t         *   array is passed, it will look through each module by the given\n\t         *   order, returning the first string whose key is found in the\n\t         *   module's language strings.\n\t         * @param {string|boolean|number|Array|Object} [context] The template context to pass to the\n\t         *   string/template in case you want to populate some values.\n\t         * @return {string} String for the given key or the `key` parameter if\n\t         *   the key is not found in language pack.\n\t         */\n\t        get: function get(key, module, context) {\n\t            var str = this.getModString(key, module, context) || this.getAppString(key, context) || key;\n\t\n\t            return str;\n\t        },\n\t\n\t        /**\n\t         * Searches the module strings for a given key.\n\t         *\n\t         * @param {string} key Key of the string to retrieve.\n\t         * @param {string|Array} [module] Module the label belongs to. If an\n\t         *   array is passed, it will look through each module by the given\n\t         *   order, returning the first string whose key is found in the\n\t         *   module's language strings.\n\t         * @param {string|boolean|number|Array|Object} [context] The template context to pass to the\n\t         *   string/template in case you want to populate some values.\n\t         * @return {string|undefined} String for the given key from the module\n\t         *   language strings. `undefined` if not found.\n\t         */\n\t        getModString: function getModString(key, module, context) {\n\t            var moduleString;\n\t\n\t            if (_.isArray(module)) {\n\t                _.find(module, function (moduleName) {\n\t                    moduleString = this._get('mod_strings', key, moduleName, context);\n\t                    return !_.isEmpty(moduleString);\n\t                }, this);\n\t            } else {\n\t                moduleString = this._get('mod_strings', key, module, context);\n\t            }\n\t\n\t            return moduleString;\n\t        },\n\t\n\t        /**\n\t         * Retrieves an application string for a given key.\n\t         *\n\t         * @param {string} key Key of the string to retrieve.\n\t         * @param {string|boolean|number|Array|Object} [context] The template\n\t         *   context to pass to the string/template in case you want to\n\t         *   populate some values.\n\t         * @return {string|undefined} String for the given key from language\n\t         *   strings. `undefined` if not found.\n\t         */\n\t        getAppString: function getAppString(key, context) {\n\t            return this._get('app_strings', key, null, context);\n\t        },\n\t\n\t        /**\n\t         * Retrieves an application list string or object.\n\t         *\n\t         * @param {string} key Key of the string to retrieve.\n\t         * @return {string|Object} String or object for the given key. If key\n\t         *   is not found, an empty object is returned.\n\t         */\n\t        getAppListStrings: function getAppListStrings(key) {\n\t            var list = app.metadata.getStrings('app_list_strings')[key] || {};\n\t            if (_.isArray(list)) {\n\t                var obj = {};\n\t                _.each(list, function (tuple) {\n\t                    if (_.isString(tuple)) {\n\t                        obj[tuple] = tuple;\n\t                    } else if (_.isArray(tuple) && tuple.length === 2) {\n\t                        obj[tuple[0]] = tuple[1];\n\t                    }\n\t                });\n\t                list = obj;\n\t            }\n\t            return list;\n\t        },\n\t\n\t        /**\n\t         * Gets the translated module name (by default, in singular form).\n\t         *\n\t         * Falls back to the plural form if the singular form is not found, and\n\t         * eventually falls back to the `module` passed in.\n\t         *\n\t         * @param {string} module The module.\n\t         * @param {Object} [options] Options object for `getModuleName`.\n\t         * @param {boolean} [options.plural] Returns the plural form if `true`,\n\t         *   singular otherwise.\n\t         * @param {string} [options.defaultValue] Value to be returned if the\n\t         *   module language string is not found.\n\t         * @return {string} The module name.\n\t         */\n\t        getModuleName: function getModuleName(module, options) {\n\t            options = options || {};\n\t            var name = !options.plural && this.getModString('LBL_MODULE_NAME_SINGULAR', module) || this.getModString('LBL_MODULE_NAME', module);\n\t\n\t            if (!name && !_.isUndefined(options.defaultValue)) {\n\t                name = this.get(options.defaultValue);\n\t            }\n\t\n\t            return name || module;\n\t        },\n\t\n\t        /**\n\t         * Returns the correct ordered array of keys for a given list.\n\t         * @param {string} key Key of the string to retrieve.\n\t         * @return {Array}\n\t         */\n\t        getAppListKeys: function getAppListKeys(key) {\n\t            var keys = [],\n\t                list = app.metadata.getStrings('app_list_strings')[key] || {};\n\t            if (_.isArray(list)) {\n\t                _.each(list, function (tuple) {\n\t                    if (tuple.length === 2) {\n\t                        keys.push(tuple[0]);\n\t                    }\n\t                });\n\t            } else if (_.isObject(list)) {\n\t                keys = _.keys(list);\n\t            }\n\t            return keys;\n\t        },\n\t\n\t        /**\n\t         * Retrieves a string of a given type.\n\t         *\n\t         * If the label is a template, it will be compiled and executed with the given `context`.\n\t         * @param {string} type Type of string pack: `app_strings`, `app_list_strings`, `mod_strings`.\n\t         * @param {string} key Key of the string to retrieve.\n\t         * @param {string} [module] Module the label belongs to.\n\t         * @param {string|boolean|number|Array|Object} [context] Template context.\n\t         * @return {string|undefined} String for the given key.\n\t         * @private\n\t         */\n\t        _get: function _get(type, key, module, context) {\n\t            var str,\n\t                bundle = app.metadata.getStrings(type);\n\t\n\t            bundle = module ? bundle[module] : bundle;\n\t            if (!bundle || !_.isString(bundle[key])) {\n\t                return;\n\t            }\n\t\n\t            str = this._sanitize(bundle[key]);\n\t\n\t            if (!_.isUndefined(context) && str.indexOf('{{') > -1) {\n\t                key = 'lang.' + (module ? key + '.' + module : key);\n\t                var tpl = Handlebars.templates[key];\n\t                str = tpl ? tpl(context) : app.template.compile(key, str)(context);\n\t            }\n\t            return str;\n\t        },\n\t\n\t        /**\n\t         * Sanitizes a string.\n\t         *\n\t         * This function strips trailing colon.\n\t         *\n\t         * @param {string} str String to sanitize.\n\t         * @return {string} Sanitized string or `str` parameter if it's not a\n\t         *   string.\n\t         * @private\n\t         */\n\t        _sanitize: function _sanitize(str) {\n\t            return str.slice(-1) === ':' ? str.slice(0, -1) : str;\n\t        },\n\t\n\t        /**\n\t         * Gets the Sugar language code for the current app language.\n\t         *\n\t         * @return {string} The current app language code as defined in Sugar.\n\t         * (e.g. `en_us`, `pt_PT`)\n\t         */\n\t        getLanguage: function getLanguage() {\n\t            return this._currentLanguage;\n\t        },\n\t\n\t        /**\n\t         * Sets app language code and syncs it with the server.\n\t         * @param {string} language language code such as `en_us`.\n\t         * @param {Function} [callback] Callback function to be called on\n\t         *   language set completes.\n\t         * @param {Object} [options] Extra options.\n\t         * @param {boolean} [options.noSync]\n\t         * - noSync: true if you don't need to fetch /metadata.\n\t         * - noUserUpdate: true if you don't need to update /me.\n\t         */\n\t        setLanguage: function setLanguage(language, _callback, options) {\n\t            var self = this;\n\t            options = options || {};\n\t            _.each(Handlebars.templates, function (value, key) {\n\t                if (key.indexOf('lang.') === 0) {\n\t                    delete Handlebars.templates[key];\n\t                }\n\t            });\n\t            if (options.noSync === true) {\n\t                this.updateLanguage(language);\n\t                return;\n\t            }\n\t\n\t            app.sync({\n\t                callback: function callback(err) {\n\t                    var langHasChanged = false;\n\t                    if (!err) {\n\t                        self.updateLanguage(language);\n\t                        langHasChanged = !app.api.isAuthenticated() && !options.noUserUpdate;\n\t                        app.cache.set('langHasChanged', langHasChanged); //persist even after reloads\n\t                    }\n\t                    if (_callback) _callback(err);\n\t                },\n\t                getPublic: !app.api.isAuthenticated(),\n\t                noUserUpdate: options.noUserUpdate || false,\n\t                language: language,\n\t                forceRefresh: true, // Needed to make sure new labels are injected\n\t                metadataTypes: ['labels']\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Updates language code and the display direction.\n\t         *\n\t         * @param {string} language Language code as defined in Sugar.\n\t         * (e.g. `en_us`, `pt_PT`)\n\t         */\n\t        updateLanguage: function updateLanguage(language) {\n\t            app.cache.set('lang', language);\n\t            app.user.setPreference('language', language);\n\t            this.setCurrentLanguage(language);\n\t            app.trigger('app:locale:change', language);\n\t        },\n\t\n\t        /**\n\t         * Sets the app default language to the language specified.\n\t         *\n\t         * See {@link #_defaultLanguage} for more information\n\t         *\n\t         * @param {string} language The Sugar language code to set the default\n\t         * language to. (e.g. `en_us`, `pt_PT`)\n\t         */\n\t        setDefaultLanguage: function setDefaultLanguage(language) {\n\t            /**\n\t             * The default language of the app defined by\n\t             * {@link #setDefaultLanguage}. Use {@link #getDefaultLanguage} to\n\t             * retrieve this setting.\n\t             *\n\t             * @property {string}\n\t             * @member Core.Language\n\t             * @private\n\t             */\n\t            this._defaultLanguage = language;\n\t        },\n\t\n\t        /**\n\t         * Gets the default language set in the system.\n\t         *\n\t         * @return {string} The Sugar language code of the default language.\n\t         * (e.g. `en_us`, `pt_PT`)\n\t         */\n\t        getDefaultLanguage: function getDefaultLanguage() {\n\t            return this._defaultLanguage;\n\t        },\n\t\n\t        /**\n\t         * Sets the current language to the language specified.\n\t         * Calls {@link #setDirection} with the new language code.\n\t         *\n\t         * See {@link #_currentLanguage} for more information.\n\t         *\n\t         * @param {string} language The language to set the current language to.\n\t         */\n\t        setCurrentLanguage: function setCurrentLanguage(language) {\n\t            /**\n\t             * The language that is loaded by the app and defined by\n\t             * {@link #setCurrentLanguage}. Use {@link #getLanguage} to retrieve\n\t             * this setting.\n\t             *\n\t             * @property {string}\n\t             * @member Core.Language\n\t             * @private\n\t             */\n\t            this._currentLanguage = language;\n\t            this.setDirection(language);\n\t        },\n\t\n\t        /**\n\t         * Sets the {@link #direction} to the desired direction according to\n\t         * the language code specified.\n\t         *\n\t         * @fires `lang:direction:change` if the language direction has\n\t         * changed.\n\t         *\n\t         * @param {string} lang Language code that the direction is based on.\n\t         */\n\t        setDirection: function setDirection(lang) {\n\t            //FIXME: SC-3358 Should be getting the RTL languages from metadata.\n\t            var rtlLanguages = ['he_IL', 'ar_SA'],\n\t                isRTL = _.contains(rtlLanguages, lang),\n\t                prevDirection = this.direction;\n\t\n\t            this.direction = isRTL ? 'rtl' : 'ltr';\n\t\n\t            if (this.direction !== prevDirection) {\n\t                app.trigger('lang:direction:change');\n\t            }\n\t        }\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    // Key prefix used to identify metadata in the local storage.\n\t    var _keyPrefix = 'meta:';\n\t\n\t    // Metadata memory cache\n\t    var _metadata = {};\n\t\n\t    //History of md types we have loaded\n\t    var _mdLoaded = {};\n\t\n\t    //Used to keep track if we are currently updating the metadata and prevent premature metadata validation from\n\t    //interval functions.\n\t    var _syncing = false;\n\t\n\t    function _setHash(data, isPublic) {\n\t        var pKey = isPublic ? 'public:' : '';\n\t        app.cache.set(_keyPrefix + pKey + 'hash', data._hash);\n\t    }\n\t\n\t    function _cacheMeta(data) {\n\t        app.cache.set(_keyPrefix + 'data', data);\n\t    }\n\t\n\t    function _getCachedMeta() {\n\t        return app.cache.get(_keyPrefix + 'data');\n\t    }\n\t\n\t    // Adds the language strings to the server metadata object.\n\t    // - serverMetadata Metadata from /metadata GET (public or not).\n\t    // ** Note we take advantage of pass be reference thus no return\n\t    // - labels Object which contains our language strings.\n\t    function _injectLabels(serverMetadata, labels) {\n\t        _.each(labels, function (value, key) {\n\t            if (key !== '_hash') {\n\t                serverMetadata[key] = labels[key];\n\t            }\n\t        });\n\t        // meta.labels longer needed; don't want it in _metadata or cache!\n\t        delete serverMetadata.labels;\n\t    }\n\t\n\t    // Parses the labels property of metadata which contains\n\t    // URL to a JSON file with our language strings.\n\t    // - metadata Metadata returned from /metadata GET\n\t    function _fetchLabels(metadata, options) {\n\t        var labels,\n\t            currentLanguage,\n\t            langStringsUrl,\n\t            userLang = app.user.getLanguage();\n\t\n\t        // Grab the lang strings\n\t        labels = metadata.ordered_labels || metadata.labels;\n\t\n\t        // Set the default language\n\t        app.lang.setDefaultLanguage(labels['default']);\n\t\n\t        // Since, at this stage, we may or may not have obtained our language yet,\n\t        // the labels property contains a 'default' property which we can use as a fallback.\n\t        if (options.language && labels[options.language]) {\n\t            currentLanguage = options.language;\n\t        } else if (labels[userLang]) {\n\t            currentLanguage = userLang;\n\t        } else {\n\t            currentLanguage = app.lang.getDefaultLanguage();\n\t            // since the user's preferred language does not exist, update it to the default language\n\t            if (app.user.id) {\n\t                app.user.updateLanguage(currentLanguage);\n\t            }\n\t        }\n\t        app.lang.setCurrentLanguage(currentLanguage);\n\t\n\t        langStringsUrl = app.utils.buildUrl(labels[currentLanguage]);\n\t\n\t        app.api.call('read', langStringsUrl, null, {\n\t            success: function success(labelsData) {\n\t                // In case server is not set up to serve mime-type correctly on .json files,\n\t                // e.g. honey-b seems to be misconfigured (probably a \"popular misconfiguration\")\n\t                try {\n\t                    labelsData = _.isString(labelsData) ? JSON.parse(labelsData) : labelsData;\n\t                } catch (ex) {\n\t                    app.logger.fatal('Failed to parse labels data: ' + ex);\n\t                    options.error({\n\t                        code: 'sync_failed',\n\t                        label: 'ERR_SYNC_FAILED'\n\t                    });\n\t                    return;\n\t                }\n\t\n\t                options.success(labelsData);\n\t            },\n\t            error: function error(err) {\n\t                //Force a sync fail to prevent possible infinite loops\n\t                err.code = 'sync_failed';\n\t                err.label = 'ERR_SYNC_FAILED';\n\t                options.error(err);\n\t            }\n\t        });\n\t    }\n\t\n\t    // Initializes custom layouts/views templates and controllers\n\t    function _initCustomComponents(module, moduleName) {\n\t        var self = this,\n\t            platforms = app.config.platform !== 'base' ? ['base', app.config.platform] : ['base'];\n\t\n\t        _.each({ 'layout': 'layout', 'view': 'view', 'fieldTemplate': 'field', 'data': 'data' }, function (type, key) {\n\t\n\t            // Order and initialize controllers. If this metadata is separated by platform, we need to\n\t            // sort each extended type, but, also take in to consideration the \"platform weighting\" of\n\t            // said type (hence, 'base' is always first platform!). Controllers are now only sent via jssource.\n\t            if (self._metaTypeIsSeparatedByPlatform(module, key, platforms)) {\n\t                _.each(platforms, function (platform) {\n\t                    var components = module[key + 's'][platform];\n\t                    self._sortAndDeclareComponents(components, type, moduleName, platform);\n\t                });\n\t            }\n\t\n\t            // Next pull any templates\n\t            _.each(module[key + 's'], function (def, name) {\n\t                if (type === 'view' && def.templates) {\n\t                    _.each(def.templates, function (tplSource, tplName) {\n\t                        var force = name === tplName;\n\t                        tplName = force ? tplName : name + '.' + tplName;\n\t                        app.template.setView(tplName, moduleName, tplSource, true);\n\t                    });\n\t                }\n\t                if (type === 'layout' && def.templates) {\n\t                    _.each(def.templates, function (tplSource, key) {\n\t                        key = name === key ? key : name + '.' + key;\n\t                        app.template.setLayout(key, moduleName, tplSource, true);\n\t                    });\n\t                }\n\t                if (type === 'field' && def.templates) {\n\t                    _.each(def.templates, function (template, view) {\n\t                        app.template.setField(name, view, moduleName, template, true);\n\t                    });\n\t                }\n\t            });\n\t        }, this);\n\t    }\n\t\n\t    /**\n\t     * The metadata manager is responsible for parsing and returning various\n\t     * metadata to components that request it.\n\t     *\n\t     * @class Core.MetadataManager\n\t     * @alias SUGAR.App.metadata\n\t     * @singleton\n\t     */\n\t    app.augment('metadata', {\n\t\n\t        /**\n\t         * Map of fields types.\n\t         *\n\t         * Specifies correspondence between field types and field widget types.\n\t         */\n\t        fieldTypeMap: {\n\t            varchar: 'text',\n\t            datetime: 'datetimecombo',\n\t            multienum: 'enum',\n\t            text: 'textarea',\n\t            decimal: 'float'\n\t        },\n\t\n\t        /**\n\t         * Patches view fields' definitions.\n\t         * @param moduleName Module name\n\t         * @param module Module definition\n\t         * @private\n\t         */\n\t        _patchMetadata: function _patchMetadata(moduleName, module) {\n\t\n\t            if (!module || module._patched === true) {\n\t                return module;\n\t            }\n\t\n\t            _.each(module.views, function (view) {\n\t                if (view.meta) {\n\t                    _.each(view.meta.panels, function (panel) {\n\t                        panel.fields = this._patchFields(moduleName, module, panel.fields);\n\t                    }, this);\n\t                }\n\t            }, this);\n\t\n\t            module._patched = true;\n\t            return module;\n\t        },\n\t\n\t        _patchFields: function _patchFields(moduleName, module, fields) {\n\t            var self = this;\n\t            _.each(fields, function (field, fieldIndex) {\n\t                var name = _.isString(field) ? field : field.name;\n\t                var fieldDef = module.fields[name];\n\t\n\t                if (field.fields) {\n\t                    field.fields = self._patchFields(moduleName, module, field.fields);\n\t                    return;\n\t                }\n\t\n\t                if (!_.isEmpty(fieldDef)) {\n\t                    // Create a definition if it doesn't exist\n\t                    if (_.isString(field)) {\n\t                        field = { name: field };\n\t                    }\n\t\n\t                    // Flatten out the viewdef, i.e. put 'displayParams' onto the viewdef\n\t                    // TODO: This should be done on the server-side on my opinion\n\t\n\t                    if (_.isObject(field.displayParams)) {\n\t                        _.extend(field, field.displayParams);\n\t                        delete field.displayParams;\n\t                    }\n\t\n\t                    // Assign type\n\t                    field.type = field.type || fieldDef.custom_type || fieldDef.type || 'base';\n\t                    // Patch type\n\t                    field.type = self.fieldTypeMap[field.type] || field.type;\n\t                    // Patch label\n\t                    field.label = field.label || fieldDef.vname || field.name;\n\t\n\t                    fields[fieldIndex] = field;\n\t                } else {\n\t                    // patch filler string fields to empty base fields of detail view\n\t                    if (field === '') {\n\t                        field = {\n\t                            view: 'detail'\n\t                        };\n\t                        fields[fieldIndex] = field;\n\t                    }\n\t                    // Ignore view fields that don't have module field definition\n\t                }\n\t            }, this);\n\t            return fields;\n\t        },\n\t\n\t        /**\n\t         * Sorts components in the order they should be declared as classes. This is required since a parent\n\t         * widget class must likewise be declared before a child that depends on it.\n\t         * @param {String} type Metadata type e.g. field, view. layout\n\t         * @param  {Array} components List of modules\n\t         * @param  {String} module Module name\n\t         * @return {Array} Sorted components\n\t         */\n\t        _sortControllers: function _sortControllers(type, components, module) {\n\t            var updated = {},\n\t                nameMap = {},\n\t                entries = {},\n\t                updateWeights = function updateWeights(entry) {\n\t                var controller = entry.controller;\n\t\n\t                // `base` will always be first\n\t                if (entry.type === 'base') {\n\t                    entries['Base' + app.utils.capitalize(type)].weight = -99999;\n\t                }\n\t\n\t                // Here we decrement the weight of any extended components. Note, that if sorting platform\n\t                // specific components (e.g. portal), and one \"extends from\" a base component, that parent\n\t                // will have already been declared since _sortControllers first gets called with base components\n\t                if (_.isObject(controller) && _.isString(controller.extendsFrom) && entries[controller.extendsFrom] && !updated[controller.extendsFrom]) {\n\t                    // Negative weights as we want to load those first\n\t                    entries[controller.extendsFrom].weight--;\n\t                    updated[controller.extendsFrom] = true;\n\t                    updateWeights(entries[controller.extendsFrom]);\n\t                }\n\t            };\n\t\n\t            // Start by creating a mapping from short name to final class name\n\t            // and precompiling all the controllers that are strings\n\t            _.each(components, function (entry, name) {\n\t                if (entry.controller) {\n\t                    var controller = entry.controller,\n\t                        className = (module || '') + app.utils.capitalizeHyphenated(name) + app.utils.capitalize(type);\n\t\n\t                    nameMap[className] = name;\n\t\n\t                    if (_.isString(controller)) {\n\t                        try {\n\t                            controller = eval(\"[\" + controller + \"][0]\"); // jshint ignore:line\n\t                        } catch (e) {\n\t                            app.logger.error('Failed to eval view controller for ' + className + ': ' + e + ':\\n' + entry.controller);\n\t                        }\n\t                    } else {\n\t                        /**\n\t                         * To create a layout or a view in a layout definition metadata file, the rules are:\n\t                         *     the name defines which metadata to use\n\t                         *     the type defines which js controller to use\n\t                         */\n\t                        // Log warnings when controllers for layouts/views have nothing else but \"extendsFrom\"\n\t                        var emptyController = type !== 'field' && Object.getOwnPropertyNames(controller).length === 1 && controller.hasOwnProperty('extendsFrom');\n\t                        if (emptyController) {\n\t                            app.logger.warn('Instead of creating an empty js controller `' + className + '` and specify the parent with extendsFrom, please use `type` property in the metadata `' + name + '`, to specify controller to use. It will allow you to delete your empty controllers and save memory.');\n\t                        }\n\t                    }\n\t\n\t                    entries[className] = {\n\t                        type: name,\n\t                        controller: controller,\n\t                        weight: 0\n\t                    };\n\t                }\n\t            });\n\t\n\t            // Replace standard base class with custom one if it exists\n\t            _.each(entries, function (entry, className) {\n\t                var controller = entry.controller,\n\t                    customExtendsFrom;\n\t                if (_.isObject(controller) && _.isString(controller.extendsFrom)) {\n\t                    customExtendsFrom = 'Custom' + controller.extendsFrom;\n\t                    if (customExtendsFrom in entries && className != customExtendsFrom) {\n\t                        controller.extendsFrom = customExtendsFrom;\n\t                    }\n\t                }\n\t            });\n\t\n\t            //Next calculate all the weights\n\t            _.each(entries, function (entry) {\n\t                updated = {};\n\t                updateWeights(entry);\n\t            });\n\t\n\t            return _.sortBy(entries, 'weight');\n\t        },\n\t\n\t        /**\n\t         * Helper to sort and declare components.\n\t         * @param  {Array} components\n\t         * @param  {String} type Type of component e.g. view, field, etc.\n\t         * @param  {String} moduleName Name of module\n\t         * @param  {String} platform Platform\n\t         */\n\t        _sortAndDeclareComponents: function _sortAndDeclareComponents(components, type, moduleName, platform) {\n\t            var entries,\n\t                self = this;\n\t\n\t            if (!_.isUndefined(components) && components) {\n\t                entries = self._sortControllers(type, components, moduleName);\n\t                if (type === 'data') {\n\t                    var model, collection;\n\t                    _.each(entries, function (entry) {\n\t                        if (entry.type === 'model') {\n\t                            model = entry.controller;\n\t                        } else if (entry.type === 'collection') {\n\t                            collection = entry.controller;\n\t                        }\n\t                    });\n\t                    app.data.declareModelClass(moduleName, null, platform, model);\n\t                    app.data.declareCollectionClass(moduleName, platform, collection);\n\t                } else {\n\t                    _.each(entries, function (entry) {\n\t                        app.view.declareComponent(type, entry.type, moduleName, entry.controller, true, platform);\n\t                    });\n\t                }\n\t            }\n\t        },\n\t        /**\n\t         * Helper to determine if the metadata type is separated by platforms\n\t         * e.g. <DATAOBJ>.views.portal.record.controller\n\t         * @param  {Object} data The object to check.\n\t         * @param  {String} type 'view', 'field', 'layout', etc.; will be pluralized internally\n\t         * @param  {Array} platforms List of currently loaded platforms e.g. ['base','portal']\n\t         * @return {Boolean} Indicating whether or not this meta type is separated by platform type\n\t         */\n\t        _metaTypeIsSeparatedByPlatform: function _metaTypeIsSeparatedByPlatform(data, type, platforms) {\n\t            if (!_.isUndefined(data[type + 's'])) {\n\t                // Iterate all possible platforms searching if meta type has a platform key\n\t                for (var i = 0; i < platforms.length; i++) {\n\t                    if (!_.isUndefined(data[type + 's'][platforms[i]])) {\n\t                        // Edge case: we have a field.base and might eventually have view.base etc.\n\t                        // (the field is actually named 'base'!) we're instead looking for: fields.base.x.controller\n\t                        if (_.isUndefined(data[type + 's'][platforms[i]].controller)) {\n\t                            return true;\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            return false;\n\t        },\n\t        /**\n\t         *\n\t         * @param data\n\t         * @private\n\t         */\n\t        _declareClasses: function _declareClasses(data) {\n\t            // Base components are always loaded first (so ordering of the following array matters!).\n\t            var self = this,\n\t                platforms = app.config.platform !== 'base' ? ['base', app.config.platform] : ['base'];\n\t\n\t            // Our root level metadata views/fields/layouts do not have separate platforms (whereas our\n\t            // generated jssource controllers are separated by platform). Today, only jssource has controllers.\n\t            // Declare field, view, layout classes that have custom controllers\n\t            _.each(['field', 'view', 'layout', 'data'], function (type) {\n\t                var components;\n\t\n\t                // Our root level metadata views/fields/layouts are not separated by platforms (whereas the\n\t                // \"generated jssource controllers\" are). Today, only jssource has controllers.\n\t                if (self._metaTypeIsSeparatedByPlatform(data, type, platforms)) {\n\t                    // Components of each platform are sorted amongst themselves. Base MUST be first (as defined in\n\t                    // our platforms list above). This way, all base components are guaranteed to be initialized first.\n\t                    _.each(platforms, function (platform) {\n\t                        components = data[type + 's'][platform];\n\t                        self._sortAndDeclareComponents(components, type, null, platform);\n\t                    }, this);\n\t                }\n\t            }, this);\n\t\n\t            // Patch module metadata, compile templates, and declare components for custom layouts and views\n\t            _.each(data.modules, function (entry, module) {\n\t                _initCustomComponents.call(this, entry, module);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets metadata for all modules.\n\t         * @return {Object} Metadata for all modules.\n\t         */\n\t        getModules: function getModules() {\n\t            return _metadata.modules;\n\t        },\n\t\n\t        /**\n\t         * Gets list of module names that need to be hidden in subpanels\n\t         * @return {Object} Collection of module names that are hidden in subpanels\n\t         */\n\t        getHiddenSubpanels: function getHiddenSubpanels() {\n\t            return _metadata.hidden_subpanels;\n\t        },\n\t\n\t        /**\n\t         * Gets module metadata.\n\t         * @param {String} module Module name.\n\t         * @param {String} type (optional) Metadata type.\n\t         * @return {Object} Module metadata of specific type if type is specified. Otherwise, module's overall metadata.\n\t         */\n\t        getModule: function getModule(module, type) {\n\t            var metadata = this.getModules();\n\t            if (metadata) metadata = metadata[module];\n\t            if (metadata && type) metadata = metadata[type];\n\t            return metadata;\n\t        },\n\t\n\t        /**\n\t         * Gets a relationship definition.\n\t         * @param {String} name Relationship name.\n\t         * @return {Object} Relationship metadata or nothing if not found.\n\t         */\n\t        getRelationship: function getRelationship(name) {\n\t            return _metadata.relationships ? _metadata.relationships[name] : null;\n\t        },\n\t\n\t        /**\n\t         * Gets the field def for a given Module's field (or all fields if none\n\t         * is supplied).\n\t         *\n\t         * @param {Object} options.\n\t         * @param {string} options.module The module that we want to get the\n\t         *   vardefs.\n\t         * @param {string} [options.name] The field name to get the field def.\n\t         * @return {Object|undefined} Field def for the given Module, or all\n\t         *   fields if no `options.name` is supplied.\n\t         */\n\t        getField: function getField(options) {\n\t            if (_.isString(options) || options === void 0) {\n\t                var type = options;\n\t                app.logger.warn('`Core.Metadata#getField` signature is deprecated since 7.8 ' + 'and will be removed in 7.9. Please update your code.');\n\t                var metadata = _metadata.fields ? _metadata.fields[type] || _metadata.base : null;\n\t                return metadata ? app.metadata.copy(metadata, { field: type }) : metadata;\n\t            }\n\t\n\t            if (!options.module) {\n\t                throw new Error('Cannot get vardefs without a module');\n\t            }\n\t\n\t            var fields = this.getModule(options.module, 'fields');\n\t            if (fields && options.name) {\n\t                return fields[options.name];\n\t            }\n\t\n\t            return fields;\n\t        },\n\t\n\t        /**\n\t         * Gets view metadata.\n\t         * @param {string} module Module name.\n\t         * @param {string} [view] View name.\n\t         * @param {string} [loadModule] The module that should be considered base. Defaults to core metadata.\n\t         * @return {Object|null} View metadata if `view name` is specified.\n\t         *   Otherwise, metadata for all views of the given `module`.\n\t         *   If the optional view parameter is provided we instead return `null`\n\t         *   if view for module not found.\n\t         */\n\t        getView: function getView(module, view, loadModule) {\n\t\n\t            if (!module && !view) {\n\t                return _metadata.views;\n\t            }\n\t\n\t            var meta = this.getModule(module, 'views');\n\t\n\t            if (view) {\n\t                if (meta && meta[view] && meta[view].meta !== void 0) {\n\t                    meta = meta[view].meta;\n\t                } else if (loadModule) {\n\t                    meta = this.getModule(loadModule, 'views');\n\t                    meta = meta && meta[view] ? meta[view].meta : null;\n\t                } else if (_metadata.views && _metadata.views[view]) {\n\t                    meta = _metadata.views[view].meta;\n\t                } else {\n\t                    meta = null;\n\t                }\n\t            }\n\t\n\t            return meta ? app.metadata.copy(meta, { module: module, view: view }) : meta;\n\t        },\n\t\n\t        /**\n\t         * Gets layout metadata.\n\t         * @param {String} module Module name.\n\t         * @param {string} [layout] Layout name.\n\t         * @param {string} [loadModule] The module that should be considered base. Defaults to core metadata.\n\t         * @return {Object|null} Layout metadata if `layout` name is specified. Otherwise, metadata for all layouts of the given module.\n\t         * If the optional `layout` parameter is provided we instead return `null` if layout for module not found.\n\t         */\n\t        getLayout: function getLayout(module, layout, loadModule) {\n\t\n\t            if (!module && !layout) {\n\t                return _metadata.layouts;\n\t            }\n\t\n\t            var meta = this.getModule(module, 'layouts');\n\t\n\t            if (layout) {\n\t                if (meta && meta[layout] && meta[layout].meta !== void 0) {\n\t                    meta = meta[layout].meta;\n\t                } else if (loadModule) {\n\t                    meta = this.getModule(loadModule, 'layouts');\n\t                    meta = meta && meta[layout] ? meta[layout].meta : null;\n\t                } else if (_metadata.layouts && _metadata.layouts[layout]) {\n\t                    meta = _metadata.layouts[layout].meta;\n\t                } else {\n\t                    meta = null;\n\t                }\n\t            }\n\t\n\t            return meta ? app.metadata.copy(meta, { module: module, layout: layout }) : meta;\n\t        },\n\t\n\t        /**\n\t         * Gets an array of module names.\n\t         *\n\t         * The method signature changed.\n\t         * It used to accept a `visible` and `access` params, params are now\n\t         * contained into a single `options` object. The old signature is still\n\t         * supported for backward compatibility but is deprecated.\n\t         *\n\t         * @param {Object} [options] Additional options.\n\t         * @param {string} [options.filter] Returns only modules\n\t         *   that have this property enabled.\n\t         * @param {string} [options.access] Returns only modules\n\t         *   the user has permission to perform this action on.\n\t         *\n\t         * @return {Array} List of module names sorted by user settings.\n\t         */\n\t        getModuleNames: function getModuleNames(options) {\n\t\n\t            // List of available filters (and opposite filters)\n\t            var filters = ['enabled', '!enabled', 'visible', '!visible', 'display_tab', '!display_tab', 'show_subpanels', '!show_subpanels', 'quick_create', '!quick_create'];\n\t\n\t            options = options || {};\n\t            var moduleList = [];\n\t\n\t            // Clients may call an old version of the API that do not return\n\t            // _metadata.modules_info\n\t            var oldClient = _.isUndefined(_metadata.modules_info);\n\t            if (oldClient) {\n\t                moduleList = _.clone(app.user.get('module_list'));\n\t                if (options.access) {\n\t                    moduleList = _.filter(moduleList, function (module) {\n\t                        return app.acl.hasAccess(options.access, module);\n\t                    });\n\t                }\n\t                return moduleList || [];\n\t            }\n\t\n\t            var filter,\n\t                displayTabFilter = false;\n\t            if (options.filter) {\n\t                if (!_.isArray(options.filter)) {\n\t                    options.filter = [options.filter];\n\t                }\n\t                filter = [];\n\t                _.each(options.filter, function (f) {\n\t                    if (f && _.indexOf(filters, f) > -1) {\n\t                        filter.push(f);\n\t                        displayTabFilter = f === 'display_tab';\n\t                    } else if (f) {\n\t                        app.logger.warn('Can\\'t filter getModuleNames by ' + f);\n\t                    }\n\t                });\n\t                if (_.isEmpty(filter)) {\n\t                    filter = undefined;\n\t                }\n\t            }\n\t\n\t            moduleList = _.chain(_metadata.modules_info).keys().without('_hash').value();\n\t\n\t            if (filter) {\n\t                _.each(filter, function (f) {\n\t                    var opposite = f.charAt(0) === '!';\n\t                    if (opposite) {\n\t                        // Get the opposite list and take the difference.\n\t                        var oppositeList = app.metadata.getModuleNames({\n\t                            filter: f.substring(1),\n\t                            access: options.access\n\t                        });\n\t                        moduleList = _.difference(moduleList, oppositeList);\n\t                    } else {\n\t                        // Filter the list\n\t                        moduleList = _.filter(moduleList, function (module) {\n\t                            return _metadata.modules_info[module][f];\n\t                        });\n\t                    }\n\t                });\n\t            }\n\t\n\t            if (!_.isEmpty(app.user.get('module_list'))) {\n\t                if (displayTabFilter) {\n\t                    moduleList = _.intersection(app.user.get('module_list'), moduleList);\n\t                } else if (!filter) {\n\t                    // Preserve order of user list\n\t                    moduleList = _.union(app.user.get('module_list'), moduleList);\n\t                }\n\t            }\n\t\n\t            if (options.access) {\n\t                moduleList = _.filter(moduleList, function (module) {\n\t                    return app.acl.hasAccess(options.access, module);\n\t                });\n\t            }\n\t\n\t            return moduleList;\n\t        },\n\t\n\t        /**\n\t         * Gets language strings for a given type.\n\t         * @param {String} type Type of string pack: `app_strings`, `app_list_strings`, `mod_strings`.\n\t         * @return Dictionary of strings.\n\t         */\n\t        getStrings: function getStrings(type) {\n\t            return _metadata[type] || {};\n\t        },\n\t\n\t        /**\n\t         * Gets FullModuleList\n\t         * @return Full module list.\n\t         */\n\t        getFullModuleList: function getFullModuleList() {\n\t            return _metadata.full_module_list || {};\n\t        },\n\t\n\t        /**\n\t         * Gets Config.\n\t         *\n\t         * @return Dictionary of Configs.\n\t         */\n\t        getConfig: function getConfig() {\n\t            return _metadata.config || {};\n\t        },\n\t\n\t        /**\n\t         * Gets the\n\t         * @return {String}\n\t         */\n\t        getBaseCurrencyId: function getBaseCurrencyId() {\n\t            // TODO this should be set on the _metadata\n\t            return '-99';\n\t        },\n\t\n\t        /**\n\t         * Gets a currency\n\t         *\n\t         * @param {String} currencyId\n\t         * @return {Object} currency object\n\t         */\n\t        getCurrency: function getCurrency(currencyId) {\n\t            return this.getCurrencies()[currencyId];\n\t        },\n\t\n\t        /**\n\t         * Gets currencies.\n\t         * @return {Object} Currency dictionary.\n\t         */\n\t        getCurrencies: function getCurrencies() {\n\t            return _metadata.currencies || {};\n\t        },\n\t\n\t        /**\n\t         * Gets company logo url\n\t         * @return {string} logo url\n\t         */\n\t        getLogoUrl: function getLogoUrl() {\n\t            return _metadata.logo_url;\n\t        },\n\t\n\t        /**\n\t         * Gets server information.\n\t         * @return {Object} Server information.\n\t         */\n\t        getServerInfo: function getServerInfo() {\n\t            return _metadata.server_info || {};\n\t        },\n\t\n\t        /**\n\t         * Gets the module tab mapping for megamenu\n\t         * @return {Object} Mapping of module: mappedModule\n\t         */\n\t        getModuleTabMap: function getModuleTabMap() {\n\t            return _metadata.module_tab_map || {};\n\t        },\n\t\n\t        /**\n\t         * Gets the mapped module name for a menu item if one exists. Otherwise\n\t         * gets the module that was passed in.\n\t         * @param  {String} module The module to get the mapped module for\n\t         * @return {String}\n\t         */\n\t        getTabMappedModule: function getTabMappedModule(module) {\n\t            var map = this.getModuleTabMap();\n\t            return map[module] || module;\n\t        },\n\t\n\t        /**\n\t         * Gets the list of filter operators.\n\t         *\n\t         * If any filter operators of a certain field type are defined at module\n\t         * level, these will take precedence over the ones available on core,\n\t         * thus completely overriding the latter.\n\t         *\n\t         * @param {string} [module] The module to get the filters for.\n\t         * @return {Object} The list of filter operators.\n\t         */\n\t        getFilterOperators: function getFilterOperators(module) {\n\t            var filters = _metadata.filters && _metadata.filters.operators && _metadata.filters.operators.meta || {};\n\t            var moduleData = module && this.getModule(module, 'filters');\n\t            var moduleFilters = moduleData && moduleData.operators && moduleData.operators.meta;\n\t\n\t            if (moduleFilters) {\n\t                return _.extend({}, filters, moduleFilters);\n\t            }\n\t\n\t            return filters;\n\t        },\n\t\n\t        /**\n\t         * Gets metadata object\n\t         *\n\t         * @return {Object}\n\t         */\n\t        get: function get() {\n\t            return _metadata;\n\t        },\n\t\n\t        /**\n\t         * Gets the list of dropdown keys that can be used when modifying a record\n\t         * @param  {String} dropdown The dropdown field to get the filter for\n\t         * @return {Object}\n\t         */\n\t        getEditableDropdownFilter: function getEditableDropdownFilter(dropdown) {\n\t            var filters = _metadata.editable_dropdown_filters;\n\t            if (filters && filters[dropdown]) {\n\t                return app.metadata.copy(filters[dropdown]);\n\t            }\n\t\n\t            return {};\n\t        },\n\t\n\t        /**\n\t         * Copies a metadata fragment.\n\t         *\n\t         * The default implementation performs deep copy. Client apps may override this behavior.\n\t         * @param {Object} meta Metadata object to be copied.\n\t         * @param {Object} options(optional) Options that describe the type of metadata to copy.\n\t         * The default implementation does not use them as it always performs deep copy regardless of metadata type.\n\t         * @return {Object} Deep copy of metadata.\n\t         */\n\t        copy: function copy(meta, options) {\n\t            return app.utils.deepCopy(meta);\n\t        },\n\t\n\t        /**\n\t         * Sets the metadata.\n\t         *\n\t         * By default this function is used by MetadataManager to translate server responses into metadata\n\t         * usable internally. The currently set metadata is preserved and extended by new metadata unless\n\t         * `reset` parameter equals to `true`.\n\t         * @param {Object} data Metadata payload returned by the server.\n\t         * @param {Boolean} isPublic Flag indicating if the public metadata must be fetched.\n\t         * @param {Boolean} reset Flag indicating if the the current metadata must be deleted.\n\t         */\n\t        set: function set(data, isPublic, reset) {\n\t\n\t            // Patch module metadata, compile templates, and declare components for custom layouts and views\n\t            _.each(data.modules, function (entry, module) {\n\t                this._patchMetadata(module, entry);\n\t            }, this);\n\t\n\t            this._declareClasses(data);\n\t\n\t            // Update application configuration\n\t            app.config = _.extend(app.config || {}, data.config);\n\t\n\t            // Compile templates if metadata has been changed\n\t            app.template.set(data, data._hash && data._hash != this.getHash(isPublic));\n\t\n\t            if (!_.isEmpty(data._hash)) _setHash(data, isPublic);\n\t\n\t            if (!reset) {\n\t                var overrideKeys = data._override_values || [];\n\t                delete data._override_values;\n\t                // Keep whatever we have and extend it with new stuff\n\t                _.each(data, function (value, key) {\n\t                    _metadata[key] = _.isObject(value) && !_.contains(overrideKeys, key) ? _.extend(_metadata[key] || {}, value) : value;\n\t                });\n\t            } else {\n\t                _metadata = data;\n\t            }\n\t\n\t            if (app.config.cacheMeta && !isPublic) {\n\t                _cacheMeta(_metadata);\n\t            }\n\t\n\t            if (app.config.env != 'prod') {\n\t                this._dev_data = _metadata;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Gets metadata hash.\n\t         * @param {Boolean} isPublic Flag indicating if the hash public metadata is requested (`true`).\n\t         * @return {String} Metadata hash tag.\n\t         */\n\t        getHash: function getHash(isPublic) {\n\t            var key = isPublic ? _keyPrefix + 'public:hash' : _keyPrefix + 'hash';\n\t            return app.cache.get(key) || _metadata._hash || '';\n\t        },\n\t\n\t        /**\n\t         * Syncs metadata from the server. Saves the metadata to the local cache.\n\t         * @param {Function} callback (optional) Callback function to be executed after sync completes.\n\t         * @param {Object} options (optional) Sync call options currently supports public:true to get public metadata.\n\t         */\n\t        sync: function sync(callback, options) {\n\t            _syncing = true;\n\t            options = options || {};\n\t            options.params = options.params || {};\n\t\n\t            var self = this,\n\t                metadataTypes = options.metadataTypes || (options.getPublic ? app.config.publicMetadataTypes : app.config.metadataTypes) || [],\n\t                errorCallback = function errorCallback(error) {\n\t                app.logger.debug('Failed fetching metadata');\n\t                if (!options.getPublic) {\n\t                    app.error.handleHttpError(error);\n\t                }\n\t                callback.call(self, error);\n\t            },\n\t                cb = callback;\n\t\n\t            // Force _syncing to be false no matter how we exit this function\n\t            callback = function callback(p) {\n\t                _syncing = false;\n\t                if (_.isFunction(cb)) cb(p);\n\t            };\n\t\n\t            app.api.getMetadata({ types: metadataTypes, callbacks: {\n\t                    success: function success(metadata) {\n\t                        var compatible;\n\t                        options = options || {};\n\t\n\t                        if (!_.isEmpty(metadata)) {\n\t                            app.logger.debug('Updating metadata');\n\t                            if (_mdLoaded[options.getPublic ? 'public:md' : 'md'] && self.getHash(options.getPublic) == metadata._hash && !options.forceRefresh) {\n\t                                app.logger.debug('Skipping update as metadata hash matches');\n\t                                return callback.call(self);\n\t                            }\n\t\n\t                            //If the response contains server_info, we need to run a compatibility check\n\t                            if (_.isEmpty(metadataTypes) || _.include(metadataTypes, 'server_info') && !options.getPublic) {\n\t                                compatible = app.isServerCompatible(metadata.server_info);\n\t                                //If compatible wasn't true, it will be set to an error string and we need to bomb out\n\t                                if (compatible !== true) {\n\t                                    return callback(compatible);\n\t                                }\n\t                            }\n\t\n\t                            _mdLoaded[options.getPublic ? 'public:md' : 'md'] = true;\n\t\n\t                            if (metadata.jssource) {\n\t                                self._loadJSSource(metadata, options, callback, errorCallback, self);\n\t                            } else {\n\t                                // Some clients may not want jssource (e.g. Nomad)\n\t                                if (metadata.labels || metadata.ordered_labels) {\n\t                                    _fetchLabels(metadata, {\n\t                                        language: options.language,\n\t                                        success: function success(labelsData) {\n\t                                            _injectLabels(metadata, labelsData);\n\t                                            self.set(metadata, options.getPublic);\n\t                                            callback.call(self);\n\t                                        },\n\t                                        error: errorCallback\n\t                                    });\n\t                                } else {\n\t                                    callback.call(self);\n\t                                }\n\t                            }\n\t                        } else {\n\t                            callback.call(self, {\n\t                                code: 'sync_failed',\n\t                                label: 'ERR_SYNC_FAILED'\n\t                            });\n\t                        }\n\t                    },\n\t                    error: errorCallback\n\t                }, public: options.getPublic, params: options.params });\n\t        },\n\t\n\t        /**\n\t         * Used to check if a metadata sync is currently in progress.\n\t         * @return {Boolean} true if a sync is in progress.\n\t         */\n\t        isSyncing: function isSyncing() {\n\t            return _syncing;\n\t        },\n\t\n\t        _loadJSSource: function _loadJSSource(metadata, options, callback, errorCallback, self) {\n\t            var scriptEl,\n\t                loadJS = this._checkJSSourceUpdated(metadata, !!options.getPublic);\n\t\n\t            //In the event of a hard reload, we can just stop the metadata sync\n\t            if (loadJS === 'reload') {\n\t                return app.utils.hardRefresh();\n\t            } else if (loadJS) {\n\t                SUGAR.jssource = false;\n\t                scriptEl = document.createElement(\"script\");\n\t                scriptEl.src = app.utils.buildUrl(metadata.jssource);\n\t\n\t                document.head.appendChild(scriptEl);\n\t            }\n\t\n\t            async.parallel([function (cb) {\n\t                if (loadJS) {\n\t                    app.utils.doWhen('SUGAR.jssource', function () {\n\t                        self._declareClasses(SUGAR.jssource);\n\t                        cb();\n\t                    });\n\t                } else {\n\t                    cb();\n\t                }\n\t            }, function (cb) {\n\t                _fetchLabels(metadata, {\n\t                    language: options.language,\n\t                    success: function success(labelsData) {\n\t                        // Injects lang strings in server metadata. Must do this before the call to self.set in\n\t                        // case it's overridden by a client (bad!) which expects all meta properties in metadata.\n\t                        _injectLabels(metadata, labelsData);\n\t                        self.set(metadata, options.getPublic);\n\t                        cb();\n\t                    },\n\t                    error: function error() {\n\t                        errorCallback.apply(self, arguments);\n\t                        cb();\n\t                    }\n\t                });\n\t            }], function () {\n\t                if (callback) {\n\t                    callback.call(self);\n\t                }\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Verifies that the jssource URL is new. If js was already loaded, 'reload' is returned to ensure the page\n\t         * loads the new javascript classes correctly.\n\t         * @param {object} metadata\n\t         * @param {boolean} isPublic\n\t         * @return {bool|String} true if the jssource shoudl be loaded, false if the jssource was already loaded,\n\t         *  and 'reload' if jssource was previously loaded from another URL\n\t         * @private\n\t         */\n\t        _checkJSSourceUpdated: function _checkJSSourceUpdated(metadata, isPublic) {\n\t            if (isPublic) {\n\t                //If we already loaded a JS source, we either need to clear memory for the new one,\n\t                //or we don't need to load the js file because it hasn't changed\n\t                if (this._publicJSSourceFile) {\n\t                    if (this._publicJSSourceFile != metadata.jssource) {\n\t                        return 'reload';\n\t                    }\n\t                    return false;\n\t                } else {\n\t                    this._publicJSSourceFile = metadata.jssource;\n\t                    return true;\n\t                }\n\t            }\n\t            //In private reload, if public changed, we still need a refresh\n\t            if (metadata.jssource_public && this._publicJSSourceFile && metadata.jssource_public != this._publicJSSourceFile) {\n\t                app.utils.hardRefresh();\n\t                return 'reload';\n\t            }\n\t            //Finally verify the private jssource file\n\t            if (this._jsSourceFile) {\n\t                if (this._jsSourceFile != metadata.jssource) {\n\t                    return 'reload';\n\t                }\n\t                return false;\n\t            }\n\t            // Update the private jssource file so that we don't reload it again\n\t            this._jsSourceFile = metadata.jssource;\n\t            return true;\n\t        },\n\t\n\t        init: function init() {\n\t            _.bindAll(this, 'storageHandler');\n\t\n\t            // For more information about the `storage` event, see\n\t            // https://developer.mozilla.org/en-US/docs/Web/Events/storage\n\t            window.addEventListener('storage', this.storageHandler);\n\t\n\t            // Load metadata from local storage upon app initialization\n\t            if (app.config.cacheMeta) {\n\t                var data = _getCachedMeta();\n\t                if (data) this.set(data, false);\n\t            }\n\t            app.events.on('cache:clean', function (cb) {\n\t                cb([_keyPrefix + 'public:hash', _keyPrefix + 'hash', _keyPrefix + 'data']);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Checks to see if the metadata needs to sync with the server.\n\t         */\n\t        storageHandler: function storageHandler() {\n\t\n\t            if (!_syncing && (this.getHash() != _metadata._hash && _mdLoaded.md || app.api.getUserprefHash() && app.user.get('_hash') && app.api.getUserprefHash() != app.user.get('_hash'))) {\n\t                _syncing = true;\n\t                _mdLoaded.md = false;\n\t                app.sync({\n\t                    getPublic: !app.api.isAuthenticated()\n\t                });\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Purges metadata from the persistent cache.\n\t         */\n\t        clearCache: function clearCache() {\n\t            app.cache.cut(_keyPrefix + 'public:hash');\n\t            app.cache.cut(_keyPrefix + 'hash');\n\t            app.cache.cut(_keyPrefix + 'data');\n\t        },\n\t\n\t        /**\n\t         * Resets internal memory cache and clears persistent storage.\n\t         */\n\t        reset: function reset() {\n\t            _metadata = {};\n\t            this.clearCache();\n\t        }\n\t\n\t    }, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 47 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    /**\n\t     * Checks ACL for modules and fields.\n\t     *\n\t     * @class Core.Acl\n\t     * @alias SUGAR.App.acl\n\t     * @singleton\n\t     */\n\t    app.augment('acl', {\n\t\n\t        /**\n\t         * Cache for {@link Core.Acl#hasAccessToAny} function.\n\t         * @property {Object} _accessToAny\n\t         * @private\n\t         */\n\t        _accessToAny: {},\n\t\n\t        /**\n\t         * Dictionary that maps actions to permissions.\n\t         * @property {Object}\n\t         */\n\t        action2permission: {\n\t            'view': 'read',\n\t            'readonly': 'read',\n\t            'edit': 'write',\n\t            'detail': 'read',\n\t            'list': 'read',\n\t            'disabled': 'read'\n\t        },\n\t\n\t        /**\n\t         * Initialization\n\t         *\n\t         * Setup handler on `app:sync:complete` event to clear cache.\n\t         * @param {App} app\n\t         */\n\t        init: function init(app) {\n\t            if (app) {\n\t                app.events.on('app:sync:complete', this.clearCache, this);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Clear cached variables for acl.\n\t         */\n\t        clearCache: function clearCache() {\n\t            this._accessToAny = {};\n\t        },\n\t\n\t        /**\n\t         * ACL helper to convert ACLs data into booleans.\n\t         *\n\t         * @param {string} action Action name.\n\t         * @param {Object} acls ACL hash.\n\t         * @return {boolean} Flag indicating if the current user has access.\n\t         */\n\t        _hasAccess: function _hasAccess(action, acls) {\n\t            var access;\n\t\n\t            if (acls.access === 'no') {\n\t                access = 'no';\n\t            } else {\n\t                access = acls[action];\n\t            }\n\t\n\t            return access !== 'no';\n\t        },\n\t\n\t        /**\n\t         * ACL helper to convert ACLs data on fields into booleans.\n\t         *\n\t         * @param {string} action Action name.\n\t         * @param {Object} acls ACL hash.\n\t         * @param {string} field Name of the Module's field.\n\t         * @return {boolean} Flag indicating if the current user has access.\n\t         */\n\t        _hasAccessToField: function _hasAccessToField(action, acls, field) {\n\t            var access;\n\t\n\t            action = this.action2permission[action] || action;\n\t            if (acls.fields[field] && acls.fields[field][action]) {\n\t                access = acls.fields[field][action];\n\t            }\n\t\n\t            return access !== 'no';\n\t        },\n\t\n\t        /**\n\t         * Checks ACLs to see if the current user has access to action on a\n\t         * given module or record.\n\t         *\n\t         * @param {string} action Action name.\n\t         * @param {string} module Module name.\n\t         * @param {Object} [options] Options.\n\t         * @param {string} [options.field] Name of the field to check access.\n\t         * @param {string} [options.acls] Record's ACLs that take precedence\n\t         *   over the module's ACLs. These are normally supplied by the server\n\t         *   as part of the data response in `_acl`.\n\t         * @return {boolean} Flag indicating if the current user has access.\n\t         */\n\t        hasAccess: function hasAccess(action, module, options) {\n\t            var field;\n\t            var recordAcls;\n\t\n\t            if (!_.isObject(options)) {\n\t                // TODO: Throw deprecation warning and remove this code.\n\t                field = arguments[3];\n\t                recordAcls = arguments[4];\n\t            } else {\n\t                field = options.field;\n\t                recordAcls = options.acls;\n\t            }\n\t\n\t            var acls = app.user.getAcls()[module];\n\t            if (!acls && !recordAcls) {\n\t                return true;\n\t            }\n\t\n\t            acls = acls || {};\n\t            if (recordAcls) {\n\t                var fieldAcls = _.extend({}, acls.fields, recordAcls.fields);\n\t                acls = _.extend({}, acls, recordAcls);\n\t                acls.fields = fieldAcls;\n\t            }\n\t\n\t            var access = this._hasAccess(action, acls);\n\t            if (access && field && acls.fields) {\n\t                access = this._hasAccessToField(action, acls, field);\n\t\n\t                // if the field is in a group, see if we have access to the group\n\t                var moduleMeta = app.metadata.getModule(module);\n\t                var fieldMeta = moduleMeta && moduleMeta.fields ? moduleMeta.fields[field] : null;\n\t                if (access && fieldMeta && fieldMeta.group) {\n\t                    access = this._hasAccessToField(action, acls, fieldMeta.group);\n\t                }\n\t            }\n\t\n\t            return access;\n\t        },\n\t\n\t        /**\n\t         * Checks ACLs to see if the current user has access to action on a given model's field.\n\t         *\n\t         * @param {String} action Action name.\n\t         * @param {Object} model(optional) Model instance.\n\t         * @param {String} field(optional) Name of the model field.\n\t         * @return {Boolean} Flag indicating if the current user has access to the given action.\n\t         */\n\t        hasAccessToModel: function hasAccessToModel(action, model, field) {\n\t            var id;\n\t            var module;\n\t            var assignedUserId;\n\t            var acls;\n\t\n\t            if (model) {\n\t                id = model.id;\n\t                module = model.module;\n\t                assignedUserId = model.original_assigned_user_id || model.get(\"assigned_user_id\");\n\t                acls = model.get('_acl') || { fields: {} };\n\t            }\n\t\n\t            if (action == 'edit' && !id) {\n\t                action = 'create';\n\t            }\n\t\n\t            return this.hasAccess(action, module, assignedUserId, field, acls);\n\t        },\n\t\n\t        /**\n\t         * Checks ACLs to see if the current user has access to any module with defined action.\n\t         *\n\t         * @param {String} action Action name.\n\t         * @return {Boolean} Flag indicating if the current user has access to the given action.\n\t         *\n\t         *     // Check whether user has `admin` access for any module.\n\t         *     app.acl.hasAccessToAny('admin');\n\t         *\n\t         *     // Check whether user has `developer` access for any module.\n\t         *     app.acl.hasAccessToAny('developer');\n\t         */\n\t        hasAccessToAny: function hasAccessToAny(action) {\n\t            if (_.isUndefined(this._accessToAny[action])) {\n\t                this._accessToAny[action] = _.some(app.user.getAcls(), function (obj, module) {\n\t                    return this.hasAccess(action, module);\n\t                }, this);\n\t            }\n\t            return this._accessToAny[action];\n\t        }\n\t    }, true);\n\t})(SUGAR.App);\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * Represents application's current user object.\n\t     *\n\t     * The user object contains settings that are fetched from the server\n\t     * and whatever settings application wants to store.\n\t     *\n\t     * <pre><code>\n\t     * // Sample user object that is fetched from the server:\n\t     * {\n\t     *      id: \"1\",\n\t     *      full_name: \"Administrator\",\n\t     *      user_name: \"admin\",\n\t     *      preferences: {\n\t     *          timezone: \"America\\/Los_Angeles\",\n\t     *          datepref: \"m\\/d\\/Y\",\n\t     *          timepref: \"h:ia\"\n\t     *      }\n\t     * }\n\t     *\n\t     * // Use it like this:\n\t     * var userId = SUGAR.App.user.get('id');\n\t     * // Set app specific settings\n\t     * SUGAR.App.user.set(\"sortBy:Cases\", \"case_number\");\n\t     *\n\t     * // Bind event handlers if necessary\n\t     * SUGAR.App.user.on(\"change\", function() {\n\t     *     // Do your thing\n\t     * });\n\t     *\n\t     * </code></pre>\n\t     *\n\t     * @class Core.User\n\t     * @alias SUGAR.App.user\n\t     * @singleton\n\t     */\n\t    var User = Backbone.Model.extend({\n\t\n\t        /**\n\t         * Retrieves and sets the user preferences\n\t         *\n\t         * @param {Function} callback(optional) Callback called when update completes.\n\t         */\n\t        load: function load(callback) {\n\t            app.api.me('read', null, null, {\n\t                success: function success(data) {\n\t                    if (data && data.current_user) {\n\t                        // Set the user pref hash into the cache for use in\n\t                        // checking user pref state change\n\t                        if (data.current_user._hash) {\n\t                            app.cache.set('userpref:hash', data.current_user._hash);\n\t                        }\n\t                        app.user.set(data.current_user);\n\t                        var language = app.user.getPreference('language');\n\t                        if (app.lang.getLanguage() !== language) {\n\t                            app.lang.setLanguage(language, null, {\n\t                                noUserUpdate: true,\n\t                                noSync: app.isSynced || app.metadata.isSyncing()\n\t                            });\n\t                        }\n\t                    }\n\t                    if (callback) callback();\n\t                },\n\t                error: function error(err) {\n\t                    app.error.handleHttpError(err);\n\t                    if (callback) callback(err);\n\t                }\n\t            });\n\t        },\n\t        // Fixme This doesn't belong in user. See TY-526.\n\t        loadLocale: function loadLocale(callback) {\n\t            app.api.call('read', app.api.buildURL('locale'), null, {\n\t                success: function success(data) {\n\t                    if (callback) callback(data);\n\t                },\n\t                error: function error(err) {\n\t                    app.error.handleHttpError(err);\n\t                    if (callback) callback(err);\n\t                }\n\t            });\n\t        },\n\t        /**\n\t         * Updates the preferred language of the user.\n\t         *\n\t         * @param {String} language language Key\n\t         * @param {Function} callback(optional) Callback called when update completes.\n\t         */\n\t        getLanguage: function getLanguage() {\n\t            return app.user.getPreference('language') || app.cache.get(\"lang\");\n\t        },\n\t\n\t        /**\n\t         * Updates the preferred language of the user.\n\t         *\n\t         * @param {String} language language Key\n\t         * @param {Function} callback(optional) Callback called when update completes.\n\t         */\n\t        updateLanguage: function updateLanguage(language, callback) {\n\t            //Note that `err` is only relevant here when called for error case\n\t            var done = function done(err) {\n\t                if (!err) app.lang.updateLanguage(language);\n\t                if (callback) callback(err);\n\t            };\n\t            this.update(\"update\", { preferred_language: language }, done);\n\t        },\n\t\n\t        /**\n\t         * Updates the user's profile.\n\t         *\n\t         * @param {Object} attributes The model attributes to update for user.\n\t         * @param {Function} callback(optional) Callback called when update completes.\n\t         */\n\t        updateProfile: function updateProfile(attributes, callback) {\n\t            //Note that `err` is only relevant here when called for error case\n\t            var done = function done(err) {\n\t                if (callback) callback(err);\n\t            };\n\t            this.update(\"update\", attributes, done);\n\t        },\n\t        /**\n\t         * Updates the user's preferences.\n\t         *\n\t         * @param {Object} attributes The attributes to update for user.\n\t         * @param {Function} callback(optional) Callback called when update completes.\n\t         */\n\t        updatePreferences: function updatePreferences(attributes, callback) {\n\t            var self = this;\n\t            if (app.api.isAuthenticated()) {\n\t                app.api.call(\"update\", app.api.buildURL('me/preferences'), attributes, {\n\t                    success: function success(data) {\n\t                        if (data._hash) {\n\t                            app.cache.set(\"userpref:hash\", data._hash);\n\t                            app.user.set({ \"_hash\": data._hash });\n\t                        }\n\t                        //Immediately update our user's preferences to reflect latest changes\n\t                        _.each(attributes, function (val, key) {\n\t                            if (data[key]) {\n\t                                self.setPreference(key, data[key]);\n\t                            }\n\t                        });\n\t                        if (callback) callback();\n\t                    },\n\t                    error: function error(err) {\n\t                        app.error.handleHttpError(err);\n\t                        if (callback) callback(err);\n\t                    }\n\t                });\n\t            } else {\n\t                if (callback) callback();\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Updates the user\n\t         *\n\t         * @param {String} method operation type: read, update, create, delete {@see SUGAR.Api#me}\n\t         * @param {Object} payload An object literal with payload\n\t         * @param {Object} done Callback called when update completes. In case of\n\t         * error, app.error.handleHttpError will already be handled here.\n\t         */\n\t        update: function update(method, payload, callback) {\n\t            if (app.api.isAuthenticated()) {\n\t                app.api.me(method, payload, null, {\n\t                    success: function success(data) {\n\t                        if (data.current_user) {\n\t                            if (data.current_user._hash) {\n\t                                app.cache.set(\"userpref:hash\", data.current_user._hash);\n\t                            }\n\t                            app.user.set(data.current_user);\n\t                        }\n\t                        if (callback) callback();\n\t                    },\n\t                    error: function error(err) {\n\t                        app.error.handleHttpError(err);\n\t                        if (callback) callback(err);\n\t                    }\n\t                });\n\t            } else {\n\t                callback();\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Gets ACLs.\n\t         *\n\t         * @return Dictionary of ACLs. Precondition - user's logged in or a _reset call has set the user manually.\n\t         */\n\t        getAcls: function getAcls() {\n\t            return app.user.get('acl') || {};\n\t        },\n\t\n\t        /**\n\t         * Get preference by name.\n\t         *\n\t         * TODO support category parameter for preferences.\n\t         *\n\t         * @param {string} name The preference name.\n\t         * @return {Array|Object|string|number|boolean} The value of the user\n\t         *   preference.\n\t         */\n\t        getPreference: function getPreference(name) {\n\t\n\t            var preferences = app.user.get('preferences') || {};\n\t            return preferences[name];\n\t        },\n\t\n\t        /**\n\t         * Set preference by name, will only be stored locally.\n\t         *\n\t         * TODO support category parameter for preferences.\n\t         * TODO support save preferences on server.\n\t         *\n\t         * @param {String} name The preference name.\n\t         * @param {Array/Object/String/Number/Boolean} value The new value of the user preference.\n\t         * @return {Object} the instance of this user.\n\t         */\n\t        setPreference: function setPreference(name, value) {\n\t            var preferences = app.user.get('preferences') || {};\n\t            preferences[name] = value;\n\t            return app.user.set('preferences', preferences);\n\t        },\n\t\n\t        /**\n\t         * Returns an object with all the user's currency preferences\n\t         * If the user hasn't specified any preferences, these default to system currency preferences\n\t         *\n\t         * @return {Object} The currency preferences of the user\n\t         */\n\t        getCurrency: function getCurrency() {\n\t            var preferences = app.user.get('preferences'),\n\t                currencyObj = {};\n\t\n\t            if (preferences) {\n\t                currencyObj.currency_id = preferences.currency_id;\n\t                currencyObj.currency_iso = preferences.currency_iso;\n\t                currencyObj.currency_name = preferences.currency_name;\n\t                currencyObj.currency_rate = preferences.currency_rate;\n\t                currencyObj.currency_show_preferred = preferences.currency_show_preferred;\n\t                currencyObj.currency_symbol = preferences.currency_symbol;\n\t            }\n\t\n\t            return currencyObj;\n\t        },\n\t\n\t        /**\n\t         * Allows interactions with the last state values, which are used to implement last application\n\t         * states or the \"stickiness\" of the application.\n\t         */\n\t        lastState: function () {\n\t            var keySeparator = ':',\n\t                keyPrefix = 'last-state',\n\t                lastStates = {},\n\t                preservedKeys = [];\n\t\n\t            var buildLastStateKeyForStorage = function buildLastStateKeyForStorage(key) {\n\t                var keyParts = key.split(keySeparator),\n\t                    storedKey = [app.user.id, keyPrefix];\n\t\n\t                storedKey = storedKey.concat(keyParts);\n\t\n\t                return storedKey.join(keySeparator);\n\t            };\n\t\n\t            var getLastStateId = function getLastStateId(component) {\n\t                var lastStateId;\n\t\n\t                if (component.meta && component.meta.last_state) {\n\t                    lastStateId = component.meta.last_state.id;\n\t                }\n\t\n\t                return lastStateId;\n\t            };\n\t\n\t            return {\n\t                /**\n\t                 * Get the last state value given a key. If doesn't exist,\n\t                 * return the default value as specified in the component\n\t                 * metadata.\n\t                 *\n\t                 * @param {string} key\n\t                 * @return {number|boolean|string|Array|Object} The last state\n\t                 *   value.\n\t                 */\n\t                get: function get(key) {\n\t                    var result, storedKey;\n\t\n\t                    if (!_.isUndefined(key)) {\n\t                        storedKey = buildLastStateKeyForStorage(key);\n\t                        result = app.cache.get(storedKey);\n\t                        result = result === void 0 ? this.defaults(key) : result;\n\t                    }\n\t\n\t                    return result;\n\t                },\n\t\n\t                /**\n\t                 * Save the last state in local storage.\n\t                 *\n\t                 * @param {string} key\n\t                 * @param {string} value\n\t                 */\n\t                set: function set(key, value) {\n\t                    if (!_.isUndefined(key) && !_.isUndefined(value)) {\n\t                        var storedKey = buildLastStateKeyForStorage(key);\n\t                        app.cache.set(storedKey, value);\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Register a state as important (should survive a cache clean)\n\t                 *\n\t                 * @param {string} key\n\t                 * @param {string} value\n\t                 */\n\t                preserve: function preserve(key) {\n\t                    if (!_.isUndefined(key)) {\n\t                        preservedKeys.push(key);\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Get the key for a given component, which is used as a key for CRUD operations on\n\t                 * last state values.\n\t                 *\n\t                 * @param {string} name\n\t                 * @param {Object} component\n\t                 * @return {string}\n\t                 */\n\t                key: function key(name, component) {\n\t                    var lastStateId = getLastStateId(component);\n\t                    return this.buildKey(name, lastStateId, component.module);\n\t                },\n\t\n\t                /**\n\t                 * Build the key for a given name, lastStateId, and (optionally) module,\n\t                 * which is used as a key for CRUD operations on last state values.\n\t                 *\n\t                 * @param {string} name\n\t                 * @param {string} lastStateId\n\t                 * @param {string} [module]\n\t                 * @return {string}\n\t                 */\n\t                buildKey: function buildKey(name, lastStateId, module) {\n\t                    var keyString,\n\t                        keyParts = [];\n\t\n\t                    if (lastStateId) {\n\t                        if (module) {\n\t                            keyParts.push(module);\n\t                        }\n\t                        keyParts.push(lastStateId, name);\n\t                        keyString = keyParts.join(keySeparator);\n\t                    }\n\t\n\t                    return keyString;\n\t                },\n\t\n\t                /**\n\t                 * Get the default last state for a key.\n\t                 *\n\t                 * @param {string} key\n\t                 * @return {string}\n\t                 */\n\t                defaults: function defaults(key) {\n\t                    return lastStates[key];\n\t                },\n\t\n\t                /**\n\t                 * Register last states default values given a component.\n\t                 * The default value is specified in the component metadata.\n\t                 *\n\t                 * @param {Object} component\n\t                 */\n\t                register: function register(component) {\n\t                    var lastStateId = getLastStateId(component);\n\t                    if (lastStateId) {\n\t                        _.each(component.meta.last_state.defaults, function (defaultState, key) {\n\t                            lastStates[this.key(key, component)] = defaultState;\n\t                        }, this);\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Delete last state from local storage\n\t                 *\n\t                 * @param {String} key\n\t                 */\n\t                remove: function remove(key) {\n\t                    var storedKey;\n\t                    if (!_.isUndefined(key)) {\n\t                        storedKey = buildLastStateKeyForStorage(key);\n\t                        app.cache.cut(storedKey);\n\t                    }\n\t                },\n\t                /**\n\t                 * @return {Array} list of high value keys in cache\n\t                 * @private\n\t                 */\n\t                _getPreservedKeys: function _getPreservedKeys() {\n\t                    var ret = [];\n\t                    _.each(preservedKeys, function (key) {\n\t                        ret.push(buildLastStateKeyForStorage(key));\n\t                    });\n\t                    return ret;\n\t                }\n\t            };\n\t        }()\n\t    });\n\t\n\t    //FIXME Have a unit test to test the function in logout in TY-615\n\t    app.events.on('app:logout', function (clear) {\n\t        app.cache.cut('userpref:hash');\n\t        if (clear === true) {\n\t            app.user.clear({ silent: true });\n\t        }\n\t    });\n\t\n\t    app.events.on(\"cache:clean\", function (cb) {\n\t        cb(app.user.lastState._getPreservedKeys());\n\t    });\n\t\n\t    app.augment(\"user\", new User(), false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t\n\t/**\n\t * Manages plugins\n\t *\n\t * This code shows how to define plugin.\n\t *\n\t * <pre><code>\n\t * (function(app) {\n\t *\n\t *      app.plugins.register('fast-click-highlight', ['view', 'field'], {\n\t *          color : \"red\",\n\t *\n\t *          events: {\n\t *              'click .fast-click-highlighted': 'onClickItem'\n\t *          },\n\t *\n\t *          onClickItem: function(e) {\n\t *              alert(1)\n\t *          },\n\t *\n\t *\n\t *          //The onAttach function will be called every time the plugin is attached to a new\n\t *          //component. It will be executed from the scope of the component being attached to.\n\t *          //Applied after the plugin has been mixed into the component\n\t *          onAttach: function(component, plugin) {\n\t *              this.on('render', function(){\n\t *                  this.$el.css('color', this.color); //same as plugin.color and component.$el.css\n\t *              });\n\t *          }\n\t *      });\n\t *\n\t * })(SUGAR.App);\n\t * </code></pre>\n\t *\n\t * If you want to use current plugin for view, you have to declare plugin in it.\n\t *\n\t * <pre><code>\n\t *    var MyView = app.view.View.extend({\n\t *\n\t *      initialize: function(options) {},\n\t *\n\t *      plugins: ['fast-click-highlight'],\n\t *      ...\n\t *\n\t *      or\n\t *\n\t *      $plugins: [{\n\t *          'fast-click-highlight': {\n\t *              events:{\n\t *                  'click article' : 'onClickItem'\n\t *              }\n\t *          }\n\t *      }],\n\t *\n\t *      onClickItem : function() {\n\t *          alert(2)\n\t *      }\n\t * </code></pre>\n\t *\n\t *\n\t * If you want to disable plugin, you have to use disabledPlugins property as in following example:\n\t *\n\t * <pre><code>\n\t *    var MyView = app.view.View.extend({\n\t *\n\t *      initialize: function(options) {},\n\t *\n\t *      disabledPlugins: ['fast-click-highlight'],\n\t *\n\t *      ...\n\t * </code></pre>\n\t *\n\t * @class Core.PluginManager\n\t * @alias SUGAR.App.metadata\n\t * @singleton\n\t */\n\t(function (app) {\n\t\n\t    var _pluginManager = {\n\t\n\t        plugins: {\n\t            view: {},\n\t            field: {},\n\t            layout: {},\n\t            model: {},\n\t            collection: {}\n\t        },\n\t\n\t        /**\n\t         * Get plugin by name.\n\t         * @param name String Plugin name\n\t         * @param type String component type. (view, layout, or field, model, collection)\n\t         * @private\n\t         */\n\t        _get: function _get(name, type) {\n\t            if (this.plugins[type] && this.plugins[type][name]) {\n\t                return this.plugins[type][name];\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Attaches plugin to view.\n\t         *\n\t         * @param {View.Component|Data.Bean|Data.BeanCollection} component The\n\t         *   component object ({@link View.View View},\n\t         *   {@link View.Field Field}, {@link View.Layout Layout},\n\t         *   {@link Data.Bean Bean}, {@link Data.BeanCollection Collection}).\n\t         * @param {string} type The component type (view, layout, or field,\n\t         *   model, collection).\n\t         */\n\t        attach: function attach(component, type) {\n\t            _.each(component.plugins, function (pluginName) {\n\t                var prop = null;\n\t                if (_.isObject(pluginName)) {\n\t                    var n = _.keys(pluginName)[0];\n\t                    prop = pluginName[n];\n\t                    pluginName = n;\n\t                }\n\t\n\t                var p = this._get(pluginName, type);\n\t                if (p && !this._isPluginDisabled(component, pluginName)) {\n\t                    var events = _.extend({}, _.isFunction(component.events) ? component.events() : component.events, p.events);\n\t\n\t                    _.extend(component, p);\n\t\n\t                    if (prop) {\n\t                        _.extend(component, prop);\n\t\n\t                        if (prop.events) {\n\t                            _.extend(events, prop.events);\n\t                        }\n\t                    }\n\t\n\t                    component.events = events;\n\t\n\t                    //If a plugin has an onAttach function, call it now so that the plugin can initialize\n\t                    if (_.isFunction(p.onAttach)) {\n\t                        p.onAttach.call(component, component, p);\n\t                    }\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Detaches plugins and call `onDetach` method.\n\t         *\n\t         * @param {View.Component|Data.Bean|Data.BeanCollection} component The\n\t         *   component object ({@link View.View View},\n\t         *   {@link View.Field Field}, {@link View.Layout Layout},\n\t         *   {@link Data.Bean Bean}, {@link Data.BeanCollection Collection}).\n\t         * @param {string} type The component type (view, layout, or field,\n\t         *   model, collection).\n\t         */\n\t        detach: function detach(component, type) {\n\t            _.each(component.plugins, function (name) {\n\t                var plugin = this._get(name, type);\n\t                if (plugin && _.isFunction(plugin.onDetach)) {\n\t                    plugin.onDetach.call(component, component, plugin);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Check plugin is disabled.\n\t         * @param component Component object\n\t         * @param pluginName Plugin name\n\t         * @private\n\t         */\n\t        _isPluginDisabled: function _isPluginDisabled(component, pluginName) {\n\t            return !!_.find(component.disabledPlugins, function (name) {\n\t                return name === pluginName;\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Register plugin.\n\t         * @param {string} name The plugin name.\n\t         * @param {string|Array} validTypes The list of component types this\n\t         *   plugin can be applied to (view, field, layout, model, collection).\n\t         * @param {Object} plugin The plugin object.\n\t         */\n\t        register: function register(name, validTypes, plugin) {\n\t            if (!_.isArray(validTypes)) {\n\t                validTypes = [validTypes];\n\t            }\n\t\n\t            _.each(validTypes, function (type) {\n\t                this.plugins[type] = this.plugins[type] || {};\n\t                this.plugins[type][name] = plugin;\n\t            }, this);\n\t        }\n\t    };\n\t\n\t    app.augment(\"plugins\", _pluginManager, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Application logger.\n\t *\n\t * ```\n\t * // Log a string message\n\t * SUGAR.App.logger.debug(\"Some debug message\");\n\t *\n\t * // Log an object\n\t * var obj = { foo: \"bar\" };\n\t * SUGAR.App.logger.info(obj);\n\t *\n\t * // Log a closure.\n\t * var a = 1;\n\t * SUGAR.App.logger.error(function() { return a; });\n\t * ```\n\t *\n\t * @class Utils.Logger\n\t * @alias SUGAR.App.logger\n\t * @singleton\n\t */\n\t(function (app) {\n\t\n\t    app.augment('logger', {\n\t\n\t        /**\n\t         * Logging levels.\n\t         *\n\t         * @class Utils.Logger.levels\n\t         * @singleton\n\t         */\n\t        levels: {\n\t            /**\n\t             * Trace log level\n\t             * @property {Utils.Logger.levels}\n\t             */\n\t            TRACE: {\n\t                value: 1,\n\t                name: 'TRACE'\n\t            },\n\t            /**\n\t             * Debug log level\n\t             * @property {Utils.Logger.levels}\n\t             */\n\t            DEBUG: {\n\t                value: 2,\n\t                name: 'DEBUG'\n\t            },\n\t            /**\n\t             * Info log level\n\t             * @property {Utils.Logger.levels}\n\t             */\n\t            INFO: {\n\t                value: 3,\n\t                name: 'INFO'\n\t            },\n\t            /**\n\t             * Warn log level\n\t             * @property {Utils.Logger.levels}\n\t             */\n\t            WARN: {\n\t                value: 4,\n\t                name: 'WARN'\n\t            },\n\t            /**\n\t             * Error log level\n\t             * @property {Utils.Logger.levels}\n\t             */\n\t            ERROR: {\n\t                value: 5,\n\t                name: 'ERROR'\n\t            },\n\t            /**\n\t             * Fatal log level\n\t             * @property {Utils.Logger.levels}\n\t             */\n\t            FATAL: {\n\t                value: 6,\n\t                name: 'FATAL'\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Turns on the warnings regarding usage of jQuery deprecated methods.\n\t         */\n\t        init: function init() {\n\t            // TODO this will be removed by SC-5256.\n\t            if (!window.jQuery) {\n\t                return;\n\t            }\n\t            app.on('app:sync:complete', function () {\n\t                jQuery.migrateMute = this.getLevel().value > this.levels.WARN.value;\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Outputs messages onto browser's console object.\n\t         *\n\t         * @class Utils.Logger.ConsoleWriter\n\t         * @member Utils.Logger\n\t         * @singleton\n\t         */\n\t        ConsoleWriter: {\n\t            /**\n\t             * Outputs a message with the specified log level onto the browser's console.\n\t             * The writer uses:\n\t             *\n\t             *  - `console.info`: `TRACE`, `DEBUG` and `INFO`.\n\t             *  - `console.warn`: `WARN`.\n\t             *  - `console.error`: `ERROR` and `FATAL`.\n\t             *\n\t             * @param {Utils.Logger.levels} level A logger level from logger.levels\n\t             * @param {String} message\n\t             * @method\n\t             */\n\t            write: function write(level, message) {\n\t                // work around for browsers without console\n\t                if (!window.console) window.console = {};\n\t                if (!window.console.log) window.console.log = function () {};\n\t                if (level.value <= app.logger.levels.INFO.value) {\n\t                    console.log(message);\n\t                } else if (level.value == app.logger.levels.WARN.value) {\n\t                    console.warn(message);\n\t                } else {\n\t                    console.error(message);\n\t                }\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Writes log messages onto server.\n\t         *\n\t         * @class Utils.Logger.ServerWriter\n\t         * @member Utils.Logger\n\t         * @singleton\n\t         */\n\t        ServerWriter: {\n\t            /**\n\t             * Writes a log message with a given {@link Utils.Logger.levels}\n\t             * level onto the server.\n\t             *\n\t             * @param {Utils.Logger.levels} level Logger level.\n\t             * @param {String} message Log message.\n\t             * @throws {String} Exceptions are thrown whether the returned\n\t             *    status is `false` or an error occurred while processing the request.\n\t             */\n\t            write: function write(level, message) {\n\t                // FIXME: add support for other logger levels (SC-5483).\n\t                if (level.value < app.logger.levels.WARN.value) {\n\t                    return;\n\t                }\n\t\n\t                if (!app.api.isAuthenticated()) {\n\t                    return;\n\t                }\n\t\n\t                var write = app.config.logger && app.config.logger.writeToServer || false;\n\t                if (!write || !message.trim().length) {\n\t                    return;\n\t                }\n\t\n\t                var url = app.api.buildURL(undefined, 'logger');\n\t                var params = {\n\t                    level: level.name.toLowerCase(),\n\t                    message: message\n\t                };\n\t\n\t                app.api.call('create', url, params, {\n\t                    success: function success(data) {\n\t                        if (!data.status) {\n\t                            throw 'Failed to write log message {' + message + '} onto server';\n\t                        }\n\t                    },\n\t                    error: function error(e) {\n\t                        throw e;\n\t                    }\n\t                });\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Formats a log message as a string with log level and UTC timestamp.\n\t         * <pre><code>\n\t         * // Log a trace message\n\t         * SUGAR.App.logger.trace(\"Blah-blah\");\n\t         *\n\t         * // Output\n\t         * // TRACE[2012-1-26 2:38:23]: Blah-blah\n\t         * </code></pre>\n\t         *\n\t         * @class Utils.Logger.SimpleFormatter\n\t         * @member Utils.Logger\n\t         * @singleton\n\t         */\n\t        SimpleFormatter: {\n\t            /**\n\t             * Formats a log message by adding log level name and UTC timestamp.\n\t             * @param {Object} level logging level\n\t             * @param {String} message log message\n\t             * @param {Date} date logging timestamp\n\t             * @return {String} formatted log message\n\t             * @method\n\t             */\n\t            format: function format(level, message, date) {\n\t                var dateString = date.getUTCFullYear() + '-' + (date.getUTCMonth() + 1) + '-' + date.getUTCDate() + ' ' + date.getUTCHours() + ':' + date.getUTCMinutes() + ':' + date.getUTCSeconds();\n\t                return level.name + '[' + dateString + ']: ' + message;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Logs a message with a TRACE log level.\n\t         * @param {string|Object|Function} message log message\n\t         * @member Utils.Logger\n\t         */\n\t        trace: function trace(message) {\n\t            this.log(this.levels.TRACE, message);\n\t        },\n\t\n\t        /**\n\t         * Logs a message with DEBUG log level.\n\t         * @param {string|Object|Function} message log message\n\t         * @member Utils.Logger\n\t         */\n\t        debug: function debug(message) {\n\t            this.log(this.levels.DEBUG, message);\n\t        },\n\t\n\t        /**\n\t         * Logs a message with INFO log level.\n\t         * @param {string|Object|Function} message log message\n\t         * @member Utils.Logger\n\t         */\n\t        info: function info(message) {\n\t            this.log(this.levels.INFO, message);\n\t        },\n\t\n\t        /**\n\t         * Logs a message with WARN log level.\n\t         * @param {string|Object|Function} message log message\n\t         * @member Utils.Logger\n\t         */\n\t        warn: function warn(message) {\n\t            this.log(this.levels.WARN, message);\n\t        },\n\t\n\t        /**\n\t         * Logs a message with ERROR log level.\n\t         * @param {string|Object|Function} message log message\n\t         * @member Utils.Logger\n\t         */\n\t        error: function error(message) {\n\t            this.log(this.levels.ERROR, message);\n\t        },\n\t\n\t        /**\n\t         * Logs a message with FATAL log level.\n\t         * @param {string|Object|Function} message log message\n\t         * @member Utils.Logger\n\t         */\n\t        fatal: function fatal(message) {\n\t            this.log(this.levels.FATAL, message);\n\t        },\n\t\n\t        /**\n\t         * Retrieve logger level based on system settings.\n\t         *\n\t         * @member Utils.Logger\n\t         * @return {Object} Logger level or `this.levels.ERROR` if none defined.\n\t         */\n\t        getLevel: function getLevel() {\n\t            var level = app.config.logger && app.config.logger.level;\n\t\n\t            /**\n\t             * @deprecated 7.7 It will be removed in 7.9.\n\t             *   Use `app.config.logger.level` instead.\n\t             * @property logLevel\n\t             * @member SUGAR.App.config\n\t             * FIXME: SC-5469 Remove deprecatedLevel.\n\t             */\n\t            var deprecatedLevel = app.config.logLevel;\n\t            if (!level && deprecatedLevel) {\n\t                level = deprecatedLevel;\n\t                console.warn('The property `app.config.logLevel` has been ' + 'deprecated since 7.7.0.0 and will be removed in 7.9.0.0.' + ' Use `app.config.logger.level` instead.');\n\t            }\n\t\n\t            if (!level) {\n\t                return this.levels.ERROR;\n\t            }\n\t            level = level.toUpperCase();\n\t\n\t            // FIXME this needs to be done after SC-5483 is implemented\n\t            /*\n\t            if (!this.levels[level]) {\n\t                 console.error('Your logger level is set to an invalid value. ' +\n\t                    'Please redefine it in Administration > System Settings. ' +\n\t                    'If you continue to see this warning, please ' +\n\t                    'contact your Admin.');\n\t            }\n\t            */\n\t\n\t            return this.levels[level] || this.levels.ERROR;\n\t        },\n\t\n\t        // TODO: We may want to add support for format strings like \"Some message %s %d\", params\n\t        /**\n\t         * Logs a message with a given {@link Utils.Logger.levels} level.\n\t         * If the message is an object, it will be serialized into a JSON string.\n\t         * If the message is a function, it will evaluated in the logger's scope.\n\t         * @param {Utils.Logger.levels} level log level\n\t         * @param {string|Object|Function} message log message\n\t         * @member Utils.Logger\n\t         */\n\t        log: function log(level, message) {\n\t            try {\n\t                var currentLevel = this.getLevel();\n\t                if (level.value < currentLevel.value) {\n\t                    return;\n\t                }\n\t\n\t                message = message || '<none>';\n\t\n\t                if (_.isFunction(message)) message = message.call(this);\n\t                if (_.isObject(message)) {\n\t                    // Try to json-ify the object. It'll fail if it has circular\n\t                    // dependency\n\t                    try {\n\t                        message = JSON.stringify(message);\n\t                    } catch (e) {\n\t                        message = message.toString();\n\t                    }\n\t                }\n\t\n\t                // @deprecated Use `app.config.logger.formatter` instead, old\n\t                // property should be removed on 7.9 (SC-5469)\n\t                // FIXME: SC-5478 Add deprecation warning and change order of operations.\n\t                var logger = app.config.logger,\n\t                    formatter = this[app.config.logFormatter];\n\t                if (!formatter) {\n\t                    formatter = logger && this[logger.formatter] || this.SimpleFormatter;\n\t                }\n\t\n\t                message = formatter.format(level, message, new Date());\n\t\n\t                // @deprecated Use `app.config.logger.consoleWriter` instead, old\n\t                // property should be removed on 7.9 (SC-5469)\n\t                // FIXME: SC-5479 Add deprecation warning and change order of operations.\n\t                var consoleWriter = this[app.config.logWriter];\n\t                if (!consoleWriter) {\n\t                    consoleWriter = logger && this[logger.consoleWriter] || this.ConsoleWriter;\n\t                }\n\t\n\t                var serverWriter = logger && this[logger.serverWriter] || this.ServerWriter;\n\t\n\t                consoleWriter.write(level, message);\n\t                serverWriter.write(level, message);\n\t            } catch (e) {\n\t                console.log('Failed to log message {' + message + '} due to exception: ' + e);\n\t            }\n\t        }\n\t    }, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 51 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Base bean class. Use {@link Data.DataManager} to create instances of beans.\n\t *\n\t * **CRUD**\n\t *\n\t * Use standard Backbone's `fetch`, `save`, and `destroy`\n\t * methods to perform CRUD operations on beans. See {@link Data.DataManager} class for details.\n\t *\n\t * **Validation**\n\t *\n\t * This class does not override Backbone.Model's `validate` method.\n\t * The validation is done in `save` method. If the bean is invalid the save is rejected.\n\t * Use {@link Data.Bean#isValid} method to check if the bean is valid in other situations.\n\t * Failed validations trigger an `\"app:error:validation:<field-name>\"` event.\n\t *\n\t * @class Data.Bean\n\t * @alias SUGAR.App.Bean\n\t * @extends Backbone.Model\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * Add doValidate method to Backbone.Model so it won't fail when calling doValidate\n\t     * @param {Array|Object} fields A hash of field definitions or array of field names to validate.\n\t     * @param {Function} callback Function called with isValid flag once the validation is complete\n\t     */\n\t    Backbone.Model.prototype.doValidate = function (fields, callback) {\n\t        callback(this.isValid());\n\t    };\n\t    app.augment('Bean', Backbone.Model.extend({\n\t        /**\n\t         * Model plugins are attached in the constructor to allow initialize()\n\t         * to be overridden.\n\t         *\n\t         * @inheritdoc\n\t         * @param {Object} attributes\n\t         * @param {Object} options\n\t         */\n\t        constructor: function constructor(attributes, options) {\n\t            app.plugins.attach(this, 'model');\n\t            Backbone.Model.prototype.constructor.call(this, attributes, options);\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        initialize: function initialize(attributes) {\n\t            Backbone.Model.prototype.initialize.call(this, attributes);\n\t\n\t            // assume our attributes from creation are synced\n\t            this.setSyncedAttributes(this.attributes);\n\t\n\t            this._bindEvents();\n\t            this._relatedCollections = this._relatedCollections || null;\n\t\n\t            /**\n\t             * The request object that is currently syncing against the server.\n\t             *\n\t             * This object is needed to determine if a fetch request should be\n\t             * aborted for the collection (e.g. if a new fetch request returns a\n\t             * response prior to a previous fetch request).\n\t             *\n\t             * @private\n\t             * @member Data.Bean\n\t             * @property {SUGAR.Api.HttpRequest}\n\t             */\n\t            this._activeFetchRequest = null;\n\t\n\t            // Populate with default values only if the model is new and has not yet been populated\n\t            if (this.isNew() && this._defaults) {\n\t                _.each(this._defaults, function (value, key) {\n\t                    if (!this.has(key)) {\n\t                        this.set(key, value, { silent: true });\n\t                    }\n\t                }, this);\n\t            }\n\t\n\t            //Clone the fields to allow dynamic changes to vardefs per bean instance\n\t            if (this.fields) {\n\t                this.fields = app.utils.deepCopy(this.fields);\n\t            }\n\t\n\t            this.addValidationTask('sidecar', _.bind(this._doValidate, this));\n\t        },\n\t\n\t        /**\n\t         * Fetches the bean.\n\t         *\n\t         * Only one fetch request can be executed at a time - previous fetch\n\t         * requests will be aborted.\n\t         *\n\t         * @param {Object} [options] Fetch options.\n\t         * @param {Function} [options.success] The success callback to execute.\n\t         * @param {Function} [options.error] The error callback to execute.\n\t         */\n\t        fetch: function fetch(options) {\n\t            options = _.extend({}, this.getOption(), options);\n\t            this.abortFetchRequest();\n\t            this._activeFetchRequest = Backbone.Model.prototype.fetch.call(this, options);\n\t            return this._activeFetchRequest;\n\t        },\n\t\n\t        /**\n\t         * Getter for {@link #_activeFetchRequest}.\n\t         *\n\t         * @return {SUGAR.Api.HttpRequest} The active fetch request.\n\t         */\n\t        getFetchRequest: function getFetchRequest() {\n\t            return this._activeFetchRequest;\n\t        },\n\t\n\t        /**\n\t         * Aborts the {@link #_activeFetchRequest current fetch request}.\n\t         */\n\t        abortFetchRequest: function abortFetchRequest() {\n\t            var req = this.getFetchRequest();\n\t            if (req) {\n\t                app.api.abortRequest(req.uid);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Overrides Backbone method to add specific logic for `collection`\n\t         * fields.\n\t         *\n\t         * @param {string|Object} key The key. Can also be an object with the\n\t         * key/value pair.\n\t         * @param {string} val The value to set.\n\t         * @param {Object} options A hash of options\n\t         */\n\t        set: function set(key, val, options) {\n\t            if (_.isUndefined(key) || _.isNull(key)) {\n\t                return this;\n\t            }\n\t\n\t            var attrs;\n\t            if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) === 'object') {\n\t                attrs = key;\n\t                options = val;\n\t            } else {\n\t                (attrs = {})[key] = val;\n\t            }\n\t\n\t            options = options || {};\n\t\n\t            var collections = this.getCollectionFields(attrs);\n\t            attrs = _.omit(attrs, _.keys(collections));\n\t            Backbone.Model.prototype.set.call(this, attrs, options);\n\t            this._handleCollectionFieldValues(collections, options);\n\t\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Adds `collection` fields records to the mixed bean collection. If\n\t         * a mixed bean collection does not exist yet, it will be created.\n\t         *\n\t         * @private\n\t         * @param {Object} collections Object containing collections fields\n\t         * attributes.\n\t         * @param {Object} options A hash of options.\n\t         */\n\t        _handleCollectionFieldValues: function _handleCollectionFieldValues(collections, options) {\n\t            _.each(collections, function (records, key) {\n\t                //If a collection field is being set to a collection, we should just accept it.\n\t                if (records instanceof app.MixedBeanCollection) {\n\t                    if (this.get(key) !== records) {\n\t                        this.stopListening(this.get(key));\n\t                        Backbone.Model.prototype.set.call(this, _.object([key], [records]), options);\n\t                        this.listenTo(records, 'update reset', function (collection, options) {\n\t                            this.trigger('change:' + key, this, collection, options);\n\t                        });\n\t\n\t                        this.off('sync', records.resetDelta, records);\n\t                        this.on('sync', records.resetDelta, records);\n\t                    }\n\t                } else {\n\t                    var colOptions = {};\n\t                    var collection = this.get(key);\n\t                    collection.reset();\n\t\n\t                    //Record list populated from a `collection` field response\n\t                    if (_.isObject(records) && records.records) {\n\t                        colOptions = _.extend(colOptions, _.omit(records, 'records'));\n\t                        records = records.records;\n\t                    }\n\t\n\t                    //We need a collection to add the models to.\n\t                    _.each(colOptions, function (v, k) {\n\t                        collection[k] = v;\n\t                    });\n\t\n\t                    collection.add(records, options);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Creates a mixed bean collection for `collection` fields if there is\n\t         * none yet.\n\t         *\n\t         * @param {string} attr The attribute name.\n\t         */\n\t        get: function get(attr) {\n\t            var value = Backbone.Model.prototype.get.call(this, attr);\n\t\n\t            // If the field is not a `collection` field\n\t            if (!this.fields || !this.fields[attr] || this.fields[attr].type !== 'collection' || value instanceof app.MixedBeanCollection) {\n\t                return value;\n\t            }\n\t\n\t            // If the field is a `collection` field and has not been initialized.\n\t            value = this._createMixedBeanCollectionField(attr);\n\t            Backbone.Model.prototype.set.call(this, _.object([attr], [value]), { silent: true });\n\t\n\t            return value;\n\t        },\n\t\n\t        /**\n\t         * Creates a mixed bean collection passing the related link bean\n\t         * collections of this `collection` field.\n\t         *\n\t         * @private\n\t         * @param {string} field  A `collection` type field.\n\t         * @param {Object[]|Data.Bean[]} models The models to add to the collection.\n\t         * @return {Data.MixedBeanCollection} The newly created mixed bean\n\t         * collection.\n\t         */\n\t        _createMixedBeanCollectionField: function _createMixedBeanCollectionField(field, models) {\n\t            var fieldDef = this.fields[field];\n\t            if (fieldDef && fieldDef.links) {\n\t                var links = fieldDef.links;\n\t                if (_.isString(links)) {\n\t                    links = [links];\n\t                }\n\t\n\t                var linkCollections = {};\n\t                _.each(links, function (link) {\n\t                    linkCollections[link] = this.getRelatedCollection(link);\n\t                }, this);\n\t                var collection = app.data.createMixedBeanCollection(models || [], { links: linkCollections });\n\t\n\t                this.listenTo(collection, 'update reset', function (collection, options) {\n\t                    this.trigger('change:' + field, this, collection, options);\n\t                });\n\t\n\t                this.off('sync', collection.resetDelta, collection);\n\t                this.on('sync', collection.resetDelta, collection);\n\t\n\t                return collection;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Binds events on {@link Data.Bean the model}.\n\t         *\n\t         * @protected\n\t         */\n\t        _bindEvents: function _bindEvents() {\n\t            this.on('sync', function () {\n\t                this._checkAcl();\n\t                this.setSyncedAttributes(this.attributes);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Checks if the `_acl` attribute has changed from its synced value on\n\t         * {@link Data.Bean the model}, and triggers the `acl:change` event if\n\t         * one field had ACL changes. All events are triggered on\n\t         * {@link Data.Bean the model}.\n\t         *\n\t         * @private\n\t         */\n\t        _checkAcl: function _checkAcl() {\n\t            var changedFieldAcls = this._checkFieldAcls();\n\t\n\t            if (_.size(changedFieldAcls) || !_.isEqual(_.omit(this.get('_acl'), 'fields'), _.omit(this.getSynced('_acl'), 'fields'))) {\n\t                this.trigger('acl:change', changedFieldAcls);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Triggers the `acl:change:<fieldname>` event on all the fields whose\n\t         * ACLs have changed. All events are triggered on\n\t         * {@link Data.Bean the model}.\n\t         *\n\t         * @private\n\t         * @return {Object} The hash of fields that had ACL changes.\n\t         */\n\t        _checkFieldAcls: function _checkFieldAcls() {\n\t            var changedFieldAcls = {};\n\t            var fieldsProp = _.property('fields');\n\t            var syncedFieldAcls = fieldsProp(this.getSynced('_acl')) || {};\n\t            var fieldAcls = fieldsProp(this.get('_acl')) || {};\n\t            var fields = _.extend({}, syncedFieldAcls, fieldAcls);\n\t\n\t            _.each(fields, function (field, fieldName) {\n\t                if (!_.isEqual(syncedFieldAcls[fieldName], fieldAcls[fieldName])) {\n\t                    this.trigger('acl:change:' + fieldName);\n\t                    changedFieldAcls[fieldName] = true;\n\t                }\n\t            }, this);\n\t\n\t            return changedFieldAcls;\n\t        },\n\t\n\t        /**\n\t         * Disposes a bean.\n\t         */\n\t        dispose: function dispose() {\n\t            app.plugins.detach(this, \"model\");\n\t        },\n\t\n\t        /**\n\t         * Caches a collection of related beans in this bean instance.\n\t         * @param {string} link Relationship link name.\n\t         * @param collection A collection of related beans to cache.\n\t         * @private\n\t         */\n\t        _setRelatedCollection: function _setRelatedCollection(link, collection) {\n\t            if (!this._relatedCollections) this._relatedCollections = {};\n\t            this._relatedCollections[link] = collection;\n\t        },\n\t\n\t        /**\n\t         * Gets a collection of related beans.\n\t         *\n\t         * This method returns a cached in memory instance of the collection. If the collection doesn't exist in the cache,\n\t         * it will be created using {@link Data.DataManager#createRelatedCollection} method.\n\t         * Use {@link Data.DataManager#createRelatedCollection} method to get a new instance of a related collection.\n\t         *\n\t         * <pre><code>\n\t         * // Get a cached copy or create contacts collection for an existing opportunity.\n\t         * var contacts = opportunity.getRelatedCollection(\"contacts\");\n\t         * contacts.fetch({ relate: true });\n\t         * </code></pre>\n\t         *\n\t         * @param {string} link Relationship link name.\n\t         * @return {Data.BeanCollection} Previously created collection or a new collection of related beans.\n\t         */\n\t        getRelatedCollection: function getRelatedCollection(link) {\n\t            if (this._relatedCollections && this._relatedCollections[link]) {\n\t                return this._relatedCollections[link];\n\t            }\n\t\n\t            return app.data.createRelatedCollection(this, link);\n\t        },\n\t\n\t        /**\n\t         * Validates a bean asynchronously.\n\t         *\n\t         * This method simply runs validation on the bean and calls the callback\n\t         * with the result - it does not fire any events or display any alerts.\n\t         * If you need events and alerts, use {@link Data.Bean#doValidate}.\n\t         * Note: This method is different from the standard Backbone `isValid`\n\t         * method which does not support the async validation we require.\n\t         *\n\t         * @param {Array|Object} [fields] A hash of field definitions or array\n\t         *   of field names to validate. If not specified, all fields will be\n\t         *   validated. View-agnostic validation will be run. Keys are field\n\t         *   names, values are field definitions (combination of view defs and\n\t         *   vardefs).\n\t         * @param {Function} [callback] Function called with isValid flag and\n\t         *   any errors once the validation is complete.\n\t         */\n\t        isValidAsync: function isValidAsync(fields, callback) {\n\t            fields = fields || this.fields;\n\t\n\t            async.waterfall(\n\t            // run all validation tasks\n\t            _.flatten([function (waterfallCallback) {\n\t                waterfallCallback(null, fields, {});\n\t            }, _.sortBy(this._validationTasks)]),\n\t            // waterfall callback\n\t            function (didWaterfallFail, fields, errors) {\n\t                if (!didWaterfallFail) {\n\t                    var isValid = _.isEmpty(errors);\n\t                    if (_.isFunction(callback)) {\n\t                        callback(isValid, errors);\n\t                    }\n\t                }\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Validates a bean asynchronously - firing events on start, complete,\n\t         * and failure.\n\t         *\n\t         * This method is called before {@link Data.Bean#save}.\n\t         *\n\t         * Triggers:\n\t         * - `validation:success` if validation passes,\n\t         * - `error:validation` if validation fails,\n\t         * - `error:validation:<field-name>` for each invalid field,\n\t         * - `validation:complete` when validation completes.\n\t         *\n\t         * @param {Array|Object} [fields] A hash of field definitions or array\n\t         *   of field names to validate. If not specified, all fields will be\n\t         *   validated. View-agnostic validation will be run. Keys are field\n\t         *   names, values are field definitions (combination of view defs and\n\t         *   vardefs).\n\t         * @param {Function} [callback] Function called with isValid flag once\n\t         *   the validation is complete.\n\t         */\n\t        doValidate: function doValidate(fields, callback) {\n\t            var self = this;\n\t\n\t            this.trigger('validation:start');\n\t\n\t            this.isValidAsync(fields, function (isValid, errors) {\n\t                if (isValid) {\n\t                    self.trigger('validation:success');\n\t                }\n\t                self.trigger('validation:complete', self._processValidationErrors(errors));\n\t\n\t                if (_.isFunction(callback)) {\n\t                    callback(isValid);\n\t                }\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Runs sidecar validation on fields.\n\t         *\n\t         * @param {Array|Object} fields A hash of field definitions or array of field names to validate.\n\t         * @param {Object} errors validation errors object.\n\t         * @param {Function} callback Async.js waterfall callback\n\t         *\n\t         * - keys: field names, values: errors hash\n\t         * - errors hash is a collection of error definitions\n\t         * - error definition can be a primitive type or an object. It depends on validator.\n\t         *\n\t         * Example:\n\t         * <pre><code>\n\t         * {\n\t         *    first_name: {\n\t         *       maxLength: 20,\n\t         *       someOtherValidatorName: { some complex error definition... }\n\t         *    },\n\t         *    last_name: {\n\t         *       required: true\n\t         *    }\n\t         * }\n\t         * </code></pre>\n\t         *\n\t         * @private\n\t         */\n\t        _doValidate: function _doValidate(fields, errors, callback) {\n\t            var value;\n\t\n\t            // fields can be either array or object\n\t            _.each(fields, function (field, fieldName) {\n\t                if (_.isString(field)) {\n\t                    fieldName = field;\n\t                    field = this.fields[fieldName];\n\t                }\n\t\n\t                value = this.get(fieldName);\n\t\n\t                if (field) {\n\t                    // Safeguard against missing field definitions\n\t                    _addValidationError(errors, app.validation.requiredValidator(field, field.name, this, value), fieldName, \"required\");\n\t\n\t                    if (value || value === 0) {\n\t                        // \"0\" must have validation\n\t                        _.each(app.validation.validators, function (validator, validatorName) {\n\t                            _addValidationError(errors, validator(field, value, this), fieldName, validatorName);\n\t                        }, this);\n\t                    }\n\t                }\n\t            }, this);\n\t\n\t            callback(null, fields, errors);\n\t        },\n\t\n\t        /**\n\t         * Adds a validation task to the validation waterfall\n\t         * @param {string} taskName The name of the task.\n\t         * @param {Function} validate The validation task\n\t         */\n\t        addValidationTask: function addValidationTask(taskName, validate) {\n\t            this._validationTasks = this._validationTasks || {};\n\t\n\t            this._validationTasks[taskName] = validate;\n\t        },\n\t\n\t        /**\n\t         * Remove a specified validation task from the bean.\n\t         * @param {string} taskName The name of the task\n\t         */\n\t        removeValidationTask: function removeValidationTask(taskName) {\n\t            if (this._validationTasks) {\n\t                this._validationTasks = _.omit(this._validationTasks, taskName);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Processes validation errors and triggers validation error events.\n\t         * @param {Object} errors validation errors.\n\t         * @return {Boolean} `true` if `errors` parameter is empty, otherwise `false`.\n\t         * @private\n\t         */\n\t        _processValidationErrors: function _processValidationErrors(errors) {\n\t            var isValid = true;\n\t            if (!_.isEmpty(errors)) {\n\t                app.error.handleValidationError(this, errors);\n\t                _.each(errors, function (fieldErrors, fieldName) {\n\t                    this.trigger(\"error:validation:\" + fieldName, fieldErrors);\n\t                }, this);\n\t                this.trigger(\"error:validation\", errors);\n\t                isValid = false;\n\t            }\n\t\n\t            return isValid;\n\t        },\n\t\n\t        /**\n\t         * Overrides [Backbone.Model#save](http://backbonejs.org/#Model-save)\n\t         * so we can run async validation outside of the\n\t         * [standard validation loop](http://backbonejs.org/#Model-validate).\n\t         *\n\t         * This method checks if this bean is valid only if `options` hash\n\t         * contains `fieldsToValidate` parameter.\n\t         *\n\t         * @param {Object} [attributes] The model attributes.\n\t         * @param {Object} [options] standard save options as described by\n\t         *   Backbone docs.\n\t         * @param {Array} [options.fieldsToValidate] List of field names to\n\t         *   validate.\n\t         * @return {SUGAR.HttpRequest} Returns a {@link SUGAR.HttpRequest} if\n\t         *   There are no fields to validate, `undefined` if validation needs\n\t         *   to happen first.\n\t         */\n\t        save: function save(attributes, options) {\n\t            var _this = this;\n\t\n\t            if (!options || !options.fieldsToValidate) {\n\t                return Backbone.Model.prototype.save.call(this, attributes, options);\n\t            }\n\t\n\t            this.doValidate(options.fieldsToValidate, function (isValid) {\n\t                if (isValid) {\n\t                    return Backbone.Model.prototype.save.call(_this, attributes, options);\n\t                }\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Checks if a bean can have attachments.\n\t         *\n\t         * REST API introduced a convenience field called `attachment_list` which is an array\n\t         * with attachment information. Modules such as `Documents` and `KBDocuments` use this field\n\t         * to simplify access to file revisions.\n\t         * @return {Boolean} `true` if bean's field definition has `attachment_list` field.\n\t         */\n\t        canHaveAttachments: function canHaveAttachments() {\n\t            return _.has(this.fields, 'attachment_list');\n\t        },\n\t\n\t        /**\n\t         * Fetches a list of files (attachments).\n\t         *\n\t         * This method uses REST {@link SUGAR.Api#file} API to retrieve file list.\n\t         * @param callbacks(optional) Hash with success, error, and complete callbacks.\n\t         * @param options(optional) Request options. See {@link SUGAR.Api#file} for details.\n\t         */\n\t        getFiles: function getFiles(callbacks, options) {\n\t            options = options || {};\n\t            // The token will be passed in the header\n\t            options.passOAuthToken = false;\n\t            return app.api.file(\"read\", {\n\t                module: this.module,\n\t                id: this.id\n\t            }, null, callbacks, options);\n\t        },\n\t\n\t        /**\n\t         * Copies fields from a given bean into this bean.\n\t         *\n\t         * This method does not copy `id` field, `link`-type fields, and fields whose values are auto-incremented\n\t         * (metadata field definition has `auto_increment === true`).\n\t         * @param {Data.Bean} source The bean to copy the fields from.\n\t         * @param {Array} fields(optional) The fields to copy. All fields are copied if not specified.\n\t         * @param options(optional) Standard Backbone options that should be passed to `Backbone.Model#set` method.\n\t         */\n\t        copy: function copy(source, fields, options) {\n\t            var attrs = {};\n\t            var vardefs = app.metadata.getModule(this.module).fields;\n\t            fields = fields || _.pluck(vardefs, \"name\");\n\t\n\t            // Iterate over fields and copy everything except auto_increment fields, links, ID,\n\t            // or any field with an explicit duplicate_on_record_copy set to 'no'\n\t            _.each(fields, function (name) {\n\t                var def = vardefs[name],\n\t                    permitCopy;\n\t\n\t                if (!def || def.duplicate_on_record_copy === 'no') {\n\t                    return;\n\t                }\n\t\n\t                permitCopy = def.duplicate_on_record_copy === 'always' || name !== 'id' && def.type !== 'link' && !def.auto_increment;\n\t\n\t                if (permitCopy && source.has(name)) {\n\t\n\t                    var value = source.get(name);\n\t                    // Perform deep copy in case the value is not a primitive type\n\t                    if (_.isObject(value)) {\n\t                        value = app.utils.deepCopy(value);\n\t                    }\n\t                    attrs[name] = value;\n\t                }\n\t            });\n\t\n\t            this.set(attrs, options);\n\t            this.isCopied = true;\n\t        },\n\t\n\t        /**\n\t         * Returns whether the bean was populated as a result of a copy.\n\t         *\n\t         * @return {boolean} `true` if the bean was populated as a result of a\n\t         *   copy, `false` otherwise.\n\t         */\n\t        isCopy: function isCopy() {\n\t            return this.isCopied === true;\n\t        },\n\t\n\t        /**\n\t         * Uploads a file.\n\t         * @param {string} fieldName Name of the file field.\n\t         * @param {Array} $files List of DOM elements that contain file inputs.\n\t         * @param {Object} [callbacks] Callback hash.\n\t         * @param {Object} [options] Upload options. See {@link SUGAR.Api#file}\n\t         *   method for details.\n\t         * @return {Object} XHR object.\n\t         */\n\t        uploadFile: function uploadFile(fieldName, $files, callbacks, options) {\n\t            callbacks = callbacks || {};\n\t            options = options || {};\n\t\n\t            return app.api.file('create', {\n\t                //Set id to temp if we save a temporary file to reach correct API\n\t                id: options.temp !== true ? this.id : 'temp',\n\t                module: this.module,\n\t                field: fieldName\n\t            }, $files, callbacks, options);\n\t        },\n\t\n\t        /**\n\t         * Favorites or un-favorites a record.\n\t         * @param {boolean} flag Flag indicating if the record must be marked as favorite (`true`).\n\t         * @param {Object} options(optional) Standard Backbone options for Backbone.Model#save operation.\n\t         */\n\t        favorite: function favorite(flag, options) {\n\t            options = options || {};\n\t            options.favorite = true;\n\t            return this.save({ my_favorite: !!flag }, options);\n\t        },\n\t\n\t        /**\n\t         * Subscribe/unsubscribe a record changes.\n\t         * @param {Boolean} flag Flag indicating subscribe (`true`) or unsubscribe (`false`)\n\t         * the record changes.\n\t         * @param {Object} options Options for {@link Backbone.Model#save} operation.\n\t         * @return {Object} `jqXHR` object or `false` if error occurs.\n\t         */\n\t        follow: function follow(flag, options) {\n\t            options = options || {};\n\t            flag = flag || false;\n\t            options.following = true;\n\t            return this.save({ following: flag }, options);\n\t        },\n\t\n\t        /**\n\t         * Retruns a flag indicating if a record is marked as favorite.\n\t         * @return {Boolean} `true` if the record is marked as favorite, `false` otherwise.\n\t         */\n\t        isFavorite: function isFavorite() {\n\t            var flag = this.get(\"my_favorite\");\n\t            return flag === \"1\" || flag === true;\n\t        },\n\t\n\t        /**\n\t         * Calculates difference between backup and changed model for restoring model.\n\t         * @param {Object} original Hash of original (backed up) values.\n\t         * @param {Array} exclude List of fields to exclude from comparison.\n\t         * @return {Object} Difference between original and the current model attributes.\n\t         */\n\t        getChangeDiff: function getChangeDiff(original, exclude) {\n\t            var diff = {};\n\t            original = original || {};\n\t            exclude = exclude || [];\n\t\n\t            _.each(this.attributes, function (value, key) {\n\t                if (_.contains(exclude, key)) return;\n\t                var previousValue = original[key];\n\t                if (!_.isEqual(previousValue, value)) {\n\t                    diff[key] = previousValue;\n\t                }\n\t            });\n\t\n\t            return diff;\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         *\n\t         * Checks if the bean has changed\n\t         * @param {string} [attr] The attribute to check. if none is passed,\n\t         * checks all attributes and returne `true` if at least one has changed.\n\t         */\n\t        hasChanged: function hasChanged(attr) {\n\t            if (_.isUndefined(attr)) {\n\t                var collections = this.getCollectionFields(this.attributes);\n\t                var hasChanged = _.some(collections, function (coll, key) {\n\t                    return !_.isEmpty(coll.getDelta());\n\t                }, this);\n\t\n\t                return hasChanged || Backbone.Model.prototype.hasChanged.call(this);\n\t            }\n\t\n\t            if (this.get(attr) instanceof app.MixedBeanCollection) {\n\t                return !_.isEmpty(this.get(attr).getDelta());\n\t            }\n\t\n\t            return Backbone.Model.prototype.hasChanged.call(this, attr);\n\t        },\n\t\n\t        /**\n\t         * Returns an object of attributes, containing what needs to be sent to\n\t         * the server when saving the bean . This method is called when\n\t         * JSON.stringify() is called on the bean.\n\t         *\n\t         * @inheritdoc\n\t         *\n\t         * @param {Object} [options]\n\t         * @param {Object} [options.fields] List of field names to be included\n\t         *   in the object of attributes. It retrieves all fields by default.\n\t         * @return {Object}\n\t         */\n\t        toJSON: function toJSON(options) {\n\t            var fields = options && options.fields ? options.fields : _.keys(this.attributes),\n\t                json = {};\n\t\n\t            _.each(fields, function (fieldName) {\n\t                var val = this.get(fieldName);\n\t                if (val instanceof app.MixedBeanCollection && !_.isEmpty(val.getDelta())) {\n\t                    _.each(val.getDelta(), function (val, linkName) {\n\t                        json[linkName] = val;\n\t                    });\n\t                } else {\n\t                    if (_.isObject(val) && _.isFunction(val.toJSON)) {\n\t                        app.logger.warn('Calling `toJSON` on object attributes is deprecated in 7.9 and will be ' + 'removed in 7.10');\n\t                        val = val.toJSON(options);\n\t                    }\n\t\n\t                    json[fieldName] = val;\n\t                }\n\t            }, this);\n\t\n\t            return json;\n\t        },\n\t\n\t        /**\n\t         * Returns string representation useful for debugging:\n\t         * <code>bean:[module-name]/[id]</code>\n\t         * @return {string} string representation of this bean\n\t         */\n\t        toString: function toString() {\n\t            return \"bean:\" + this.module + \"/\" + (this.id ? this.id : \"<no-id>\");\n\t        },\n\t\n\t        /**\n\t         * Reverts model attributes to the last values from last sync or values on creation.\n\t         *\n\t         * @fires attributes:revert if `options.silent` is falsy.\n\t         *\n\t         * @param options Options are passed onto set such as `silent:true`.\n\t         */\n\t        revertAttributes: function revertAttributes(options) {\n\t            options = options || {};\n\t            options.revert = true;\n\t            var changedAttr = this.changedAttributes(this.getSynced());\n\t            this.set(app.utils.deepCopy(changedAttr) || {}, options);\n\t            if (!options.silent) {\n\t                this.trigger('attributes:revert');\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Gets changed attributes.\n\t         *\n\t         * @param {Object} [attrs] A hash of attributes to compare the current\n\t         * bean attributes against\n\t         * @return {Object|boolean} `false` if nothing has changed. An object\n\t         * containing the attributes passed in parameters that are different\n\t         * from the bean ones.\n\t         */\n\t        changedAttributes: function changedAttributes(attrs) {\n\t            var _this2 = this;\n\t\n\t            var collections = this.getCollectionFields(attrs);\n\t            if (!_.isUndefined(attrs)) {\n\t                attrs = _.omit(attrs, _.keys(collections));\n\t            }\n\t\n\t            var changed = Backbone.Model.prototype.changedAttributes.call(this, attrs);\n\t\n\t            _.each(collections, function (val, key) {\n\t                if (!_.isEmpty(_this2.get(key).getDelta())) {\n\t                    changed = changed || {};\n\t                    changed[key] = val;\n\t                }\n\t            }, this);\n\t\n\t            return changed;\n\t        },\n\t\n\t        /**\n\t         * Sets internal synced attribute hash that's used in revertAttributes.\n\t         *\n\t         * @param {Object} attributes Attributes of model to setup.\n\t         */\n\t        setSyncedAttributes: function setSyncedAttributes(attributes) {\n\t            this._syncedAttributes = attributes ? app.utils.deepCopy(attributes) : {};\n\t        },\n\t\n\t        /**\n\t         * Gets the value of the synced attribute for the given key. If no key\n\t         * is passed, {@link #_syncedAttributes all synced attributes} are\n\t         * returned\n\t         *\n\t         * @param {string} [key] The attribute name.\n\t         * @return {Mixed} The synced attribute's value.\n\t         */\n\t        getSynced: function getSynced(key) {\n\t            return key ? this._syncedAttributes[key] : this._syncedAttributes;\n\t        },\n\t\n\t        /**\n\t         * Gets the default values (one or many).\n\t         *\n\t         * @param {string} [key] The name of the attribute.\n\t         * @return {Mixed} The default value if you passed a `key`, or the hash of\n\t         * default values.\n\t         */\n\t        getDefault: function getDefault(key) {\n\t            var defaults = _.clone(this._defaults) || {};\n\t            if (_.isUndefined(key)) {\n\t                return defaults;\n\t            }\n\t            return defaults[key];\n\t        },\n\t\n\t        /**\n\t         * Sets the default values (one or many) on the model, and fill in\n\t         * undefined attributes with the default values.\n\t         *\n\t         * @param {string|Object} key The name of the attribute, or an hash of\n\t         * attributes.\n\t         * @param {Mixed} [val] The default value for the `key` argument.\n\t         *\n\t         * @chainable\n\t         */\n\t        setDefault: function setDefault(key, val) {\n\t            var attrs;\n\t            if (_.isObject(key)) {\n\t                attrs = key;\n\t            } else {\n\t                (attrs = {})[key] = val;\n\t            }\n\t            this._defaults = _.extend({}, this._defaults, attrs);\n\t            this.attributes = _.defaults(this.attributes, attrs);\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Sets the default fetch options (one or many) on the model.\n\t         *\n\t         * @param {string|Object} key The name of the option, or an hash of\n\t         * options.\n\t         * @param {Mixed} [val] The value for the `key` option.\n\t         *\n\t         * @chainable\n\t         */\n\t        setOption: function setOption(key, val) {\n\t            var attrs;\n\t            if (_.isObject(key)) {\n\t                attrs = key;\n\t            } else {\n\t                (attrs = {})[key] = val;\n\t            }\n\t\n\t            /**\n\t             * List of persistent fetch options.\n\t             *\n\t             * @type {Object}\n\t             * @private\n\t             */\n\t            this._persistentOptions = _.extend({}, this._persistentOptions, attrs);\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Unsets a default fetch option (or all).\n\t         *\n\t         * @param {string|Object} [key] The name of the option to unset, or\n\t         * nothing to unset all options.\n\t         *\n\t         * @chainable\n\t         */\n\t        unsetOption: function unsetOption(key) {\n\t            if (key) {\n\t                this.setOption(key, void 0);\n\t            } else {\n\t                this._persistentOptions = {};\n\t            }\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Gets one or all persistent fetch options.\n\t         *\n\t         * @param {string|Object} [key] The name of the option to retrieve, or\n\t         * nothing to retrieve all options.\n\t         * @return {Mixed} A specific option, or the list of options.\n\t         */\n\t        getOption: function getOption(key) {\n\t            if (key) {\n\t                return this._persistentOptions[key];\n\t            }\n\t            return this._persistentOptions;\n\t        },\n\t\n\t        /**\n\t         * Return all fields of a given type.\n\t         *\n\t         * @param {string} type The type of the field to search for.\n\t         * @return {Array} List of fields filtered by the given type.\n\t         */\n\t        fieldsOfType: function fieldsOfType(type) {\n\t            return _.where(this.fields, { type: type });\n\t        },\n\t\n\t        /**\n\t         * Gets a hash of collection fields attributes.\n\t         * @param {Object} [attrs] The hash of attributes to get the collection\n\t         * fields from. If empty, we use `this.attributes`.\n\t         * @return {Object} A hash of collection fields attributes.\n\t         */\n\t        getCollectionFields: function getCollectionFields(attrs) {\n\t            return _.pick(attrs, _.pluck(this.fieldsOfType('collection'), 'name'));\n\t        },\n\t\n\t        /**\n\t         * A helper that merges changes into a bean attributes.\n\t         *\n\t         * The default implementation overrides attributes with changes.\n\t         * @param attributes Bean attributes.\n\t         * @param changes Object hash with changed attributes.\n\t         * @param module(optional) Module name.\n\t         * @returns {Object} Merged attributes.\n\t         */\n\t        merge: function merge(attributes, changes, module) {\n\t            return _.extend(attributes, changes);\n\t        }\n\t\n\t    }), false);\n\t\n\t    /**\n\t     * Adds validation error to the passed in error object.\n\t     * @param {Object} errors\n\t     * @param {Object} result\n\t     * @param {string} fieldName\n\t     * @param {string} validatorName\n\t     * @private\n\t     * @ignore\n\t     */\n\t    function _addValidationError(errors, result, fieldName, validatorName) {\n\t        if (_.isUndefined(result)) return;\n\t\n\t        if (_.isUndefined(errors[fieldName])) {\n\t            errors[fieldName] = {};\n\t        }\n\t        errors[fieldName][validatorName] = result;\n\t    }\n\t})(SUGAR.App);\n\n/***/ },\n/* 52 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Base bean collection class.\n\t *\n\t * **Filtering and searching**\n\t *\n\t * The collection's {@link Data.BeanCollection#fetch} method supports filter and seach options.\n\t * For example, to search favorite accounts that have `\"Acme\"` string in their name:\n\t * <pre><code>\n\t * (function(app) {\n\t *\n\t *     var accounts = app.data.createBeanCollection(\"Accounts\");\n\t *     accounts.fetch({\n\t *         favorites: true,\n\t *         query: \"Acme\"\n\t *     });\n\t *\n\t * })(SUGAR.App);\n\t * </code></pre>\n\t *\n\t *\n\t * @class Data.BeanCollection\n\t * @alias SUGAR.App.BeanCollection\n\t * @extends Backbone.Collection\n\t */\n\t(function (app) {\n\t\n\t    app.augment('BeanCollection', Backbone.Collection.extend({\n\t\n\t        /**\n\t         * The request object that is currently syncing against the server.\n\t         *\n\t         * This object is needed to determine if a fetch request should be\n\t         * aborted for the collection (e.g. if a new fetch request returns a\n\t         * response prior to a previous fetch request).\n\t         *\n\t         * @private\n\t         * @member Data.BeanCollection\n\t         * @property {SUGAR.Api.HttpRequest}\n\t         */\n\t        _activeFetchRequest: null,\n\t\n\t        /**\n\t         * The default model of a bean collection is a {@link Data.Bean}.\n\t         *\n\t         * **Note:** Please do not manipulate this property directly.\n\t         * This property should never be modified directly.\n\t         *\n\t         * @property {Data.Bean}\n\t         * @override\n\t         */\n\t        model: app.Bean,\n\t\n\t        /**\n\t         * Prepare related bean collections and attach collection plugins.\n\t         *\n\t         * @override\n\t         *\n\t         * @param {Array} models initial array of models.\n\t         * @param {Object} [options]\n\t         */\n\t        constructor: function constructor(models, options) {\n\t            app.plugins.attach(this, 'collection');\n\t            if (options && options.link) {\n\t                this.link = options.link;\n\t                delete options.link;\n\t            }\n\t            Backbone.Collection.prototype.constructor.call(this, models, options);\n\t        },\n\t\n\t        /**\n\t         * Saves a private copy of initial options for reset\n\t         *\n\t         * @param {Array} models initial array of models\n\t         * @param {Object} options\n\t         */\n\t        initialize: function initialize(models, options) {\n\t\n\t            /**\n\t             * List of persistent fetch options.\n\t             *\n\t             * @type {Object}\n\t             * @private\n\t             */\n\t            this._persistentOptions = {};\n\t\n\t            /**\n\t             * Object keeping track of created models added into the collection\n\t             * that are not synced yet.\n\t             *\n\t             * @type {Array}\n\t             */\n\t            this._create = [];\n\t\n\t            /**\n\t             * Initial fetch options.\n\t             *\n\t             * @deprecated 7.7 will be removed in 7.8. Please use {@link #setOption}\n\t             *   if you want to set persistent options.\n\t             *\n\t             * @type {Object}\n\t             * @private\n\t             */\n\t            if (!_.isEmpty(options)) {\n\t                options = app.utils.deepCopy(options);\n\t                this.setOption(options);\n\t                app.logger.warn('You should not pass persistent fetch options in initialize ' + '(The options hash is supposed to be Backbone.js options hash, allowing you ' + 'to pass Backbone options used when setting the models into the collection).' + ' Please use setOption() instead.');\n\t            }\n\t            this._initOptions = options;\n\t\n\t            this._bindCollectionEvents();\n\t\n\t            Backbone.Collection.prototype.initialize.call(this, models, options);\n\t\n\t            /**\n\t             * Readonly property for the total records in server.\n\t             *\n\t             * Use {@link #fetchTotal} to get the current total.\n\t             * @type {number}\n\t             */\n\t            this.total = null;\n\t        },\n\t\n\t        /**\n\t         * Bind collection events to activeRequest.\n\t         *\n\t         * @private\n\t         */\n\t        _bindCollectionEvents: function _bindCollectionEvents() {\n\t\n\t            this.on('data:sync:complete', function () {\n\t                var activeFetchRequest = this.getFetchRequest();\n\t                if (activeFetchRequest) {\n\t                    this._activeFetchRequest = null;\n\t                }\n\t            }, this);\n\t\n\t            this.on('remove', this._decrementTotal, this);\n\t        },\n\t\n\t        /**\n\t         * Decrements the {@link #total collection total}.\n\t         *\n\t         * @protected\n\t         */\n\t        _decrementTotal: function _decrementTotal() {\n\t            if (this.total) {\n\t                this.total--;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         *\n\t         * Keeps track of the added models.\n\t         *\n\t         * @param {Object|Object[]|Data.Bean|Data.Bean[]} models The models to add.\n\t         * @param {Object} options A hash of options.\n\t         */\n\t        add: function add(models, options) {\n\t            var _this = this;\n\t\n\t            models = Backbone.Collection.prototype.add.call(this, models, options);\n\t\n\t            if (_.isUndefined(models)) {\n\t                return models;\n\t            }\n\t\n\t            models = _.isArray(models) ? models : [models];\n\t\n\t            _.each(models, function (model) {\n\t                if (model instanceof _this.model ? model.isNew() : !model.id) {\n\t                    _this._create.push(model);\n\t                }\n\t            }, this);\n\t\n\t            return models.length === 1 ? models[0] : models;\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         *\n\t         * Keeps track of the removed models.\n\t         *\n\t         * @param {Object|Object[]|Data.Bean|Data.Bean[]} models The models to remove\n\t         * @param {Object} options A hash of options.\n\t         */\n\t        remove: function remove(models, options) {\n\t            var _this2 = this;\n\t\n\t            models = Backbone.Collection.prototype.remove.call(this, models, options);\n\t\n\t            if (_.isUndefined(models)) {\n\t                return models;\n\t            }\n\t\n\t            models = _.isArray(models) ? models : [models];\n\t\n\t            _.each(models, function (model) {\n\t                if (model instanceof _this2.model ? model.isNew() : !model.id) {\n\t                    _this2._create = _.without(_this2._create, model);\n\t                }\n\t            }, this);\n\t\n\t            return models.length === 1 ? models[0] : models;\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         *\n\t         * Keeps track of the unsync changes on the collection.\n\t         *\n\t         * @param {Object|Object[]|Data.Bean|Data.Bean[]} models The models to\n\t         * reset the collection with.\n\t         * @param {Object} options A hash of options.\n\t         */\n\t        reset: function reset(models, options) {\n\t            this.resetDelta();\n\t            return Backbone.Collection.prototype.reset.call(this, models, options);\n\t        },\n\t\n\t        /**\n\t         * Gets a hash of unsynced changes operated on the collection.\n\t         *\n\t         * @return {Object} A hash representing the unsynced changes.\n\t         */\n\t        getDelta: function getDelta() {\n\t            if (_.isEmpty(this._create)) {\n\t                return {};\n\t            }\n\t\n\t            return {\n\t                create: _.invoke(this._create, 'toJSON')\n\t            };\n\t        },\n\t\n\t        /**\n\t         * Resets the delta object representing the unsaved collection changes\n\t         */\n\t        resetDelta: function resetDelta() {\n\t            this._create = [];\n\t        },\n\t\n\t        /**\n\t         * Disposes a collection.\n\t         *\n\t         */\n\t        dispose: function dispose() {\n\t            app.plugins.detach(this, \"collection\");\n\t        },\n\t\n\t        /**\n\t         * Prepare the model to be added to the collection\n\t         *\n\t         * @param {Data.Bean} model to be added.\n\t         * @param {Object} [options] to be passed to\n\t         *   {@link Backbone.Collection#_prepareModel} method.\n\t         * @return {Data.Bean} prepared model.\n\t         * @private\n\t         */\n\t        _prepareModel: function _prepareModel(model, options) {\n\t            var searchInfo = model._search;\n\t            delete model._search;\n\t\n\t            model = Backbone.Collection.prototype._prepareModel.call(this, model, options);\n\t            if (model && !model.link) model.link = this.link;\n\t            if (searchInfo) {\n\t                /**\n\t                 * FTS search results.\n\t                 * @member Data.Bean\n\t                 * @property {Object}\n\t                 *\n\t                 * Example:\n\t                 * <pre>\n\t                 * {\n\t                 *   highlighted: {\n\t                 *      account_name: {\n\t                 *        label: \"LBL_ACCOUNT_NAME\",\n\t                 *        module: \"Leads\",\n\t                 *        text: \"Kings Royalty &lt;span class=\"highlight\"&gt;Trust&lt;/span&gt;\"\n\t                 *      }\n\t                 *    },\n\t                 *    score: 1\n\t                 * }\n\t                 * </pre>\n\t                 */\n\t                model.searchInfo = searchInfo;\n\t            }\n\t            return model;\n\t        },\n\t\n\t        /**\n\t         * Fetches beans. See {@link Data.BeanCollection#paginate} for details\n\t         * about pagination options.\n\t         *\n\t         * Only one fetch request can be executed at a time - previous fetch\n\t         * requests will be aborted.\n\t         *\n\t         * @param {Object} [options] Fetch options.\n\t         * @param {boolean} [options.relate] `true` if relationships should be\n\t         *   fetched. `false` otherwise.\n\t         * @param {boolean} [options.myItems] `true` if only records assigned to\n\t         *   the current user should be fetched. `false` otherwise.\n\t         * @param {boolean} [options.favorites] `true` if favorited records should\n\t         *   be fetched. `false` otherwise.\n\t         * @param {boolean} [options.add] `true` if new records should be appended\n\t         *   to the collection. `false` otherwise.\n\t         * @param {string} [options.query] Search query string.\n\t         * @param {Function} [options.success] The success callback to execute.\n\t         * @param {Function} [options.error] The error callback to execute.\n\t         */\n\t        fetch: function fetch(options) {\n\t            options = _.extend({}, this.getOption(), options);\n\t\n\t            this.abortFetchRequest();\n\t            /**\n\t             * Field names.\n\t             *\n\t             * A list of fields that are populated on collection members.\n\t             * This property is used to build `fields` URL parameter when\n\t             * fetching beans.\n\t             *\n\t             * @member Data.BeanCollection\n\t             * @property {Array}\n\t             */\n\t            options.fields = this.fields = options.fields || this.fields || null;\n\t            options.myItems = _.isUndefined(options.myItems) ? this.myItems : options.myItems;\n\t            options.favorites = _.isUndefined(options.favorites) ? this.favorites : options.favorites;\n\t            options.query = _.isUndefined(options.query) ? this.query : options.query;\n\t\n\t            // FIXME SC-5596: This option is temporary, and was added as part of\n\t            // SC-2703. It will be removed when we update our sidecar components\n\t            // to listen on `update` instead of reset.\n\t            options.reset = _.isUndefined(options.reset) ? true : options.reset;\n\t\n\t            this._activeFetchRequest = Backbone.Collection.prototype.fetch.call(this, options);\n\t            return this.getFetchRequest();\n\t        },\n\t\n\t        /**\n\t         * Returns currently active fetch request\n\t         * @returns {SUGAR.Api.HttpRequest} - active http fetch request\n\t         */\n\t        getFetchRequest: function getFetchRequest() {\n\t            if (_.isFunction(this._activeFetchRequest)) {\n\t                return this._activeFetchRequest();\n\t            } else {\n\t                return this._activeFetchRequest;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Aborts currently active fetch request\n\t         */\n\t        abortFetchRequest: function abortFetchRequest() {\n\t            var activeFetchRequest = this.getFetchRequest();\n\t            if (activeFetchRequest) {\n\t                app.api.abortRequest(activeFetchRequest.uid);\n\t                this._activeFetchRequest = null;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Resets pagination properties on a collection to initial options,\n\t         * otherwise defaults to first page\n\t         */\n\t        resetPagination: function resetPagination() {\n\t            var paginationDefaults = { offset: 0, next_offset: 0, page: 1 };\n\t            var optKeys = _.keys(paginationDefaults);\n\t            this.resetOptions(optKeys);\n\t            var options = this.getOption();\n\t            _.each(optKeys, function (optKey) {\n\t                this[optKey] = options[optKey] || paginationDefaults[optKey];\n\t            }, this);\n\t        },\n\t        /**\n\t         * Resets optionsList to original values from init, clears them if no optionsList specified\n\t         *\n\t         * @deprecated 7.7 will be removed in 7.8. Please use {@link #setOption}/{@link #unsetOption}\n\t         *   if you want to set persistent options.\n\t         *\n\t         * @param {Array} optionsList(optional) array of option keys to reset\n\t         */\n\t        resetOptions: function resetOptions(optionsList) {\n\t            if (_.isEmpty(this._initOptions) && _.isEmpty(this.getOption())) {\n\t                // clear options if none existed when we started\n\t                this.unsetOption();\n\t            } else {\n\t                // reset specific options if specified\n\t                _.each(optionsList, function (option) {\n\t                    if (!_.isUndefined(this._initOptions[option])) {\n\t                        this.setOption(option, this._initOptions[option]);\n\t                    } else if (!_.isEmpty(this.options) && _.has(this.options, option)) {\n\t                        this.unsetOption(option);\n\t                    }\n\t                }, this);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Paginates a collection.\n\t         *\n\t         * @param options(optional) fetch options\n\t         *\n\t         * - page: page index (integer) from the current page to paginate to.\n\t         *\n\t         * For other options see {@link Data.BeanCollection#fetch} method.\n\t         */\n\t        paginate: function paginate(options) {\n\t            options = options || {};\n\t            var maxSize = options.limit || app.config.maxQueryResult;\n\t            options.page = options.page || 1;\n\t\n\t            // Since we're paginating, we want the Collection.set method to be\n\t            // invoked instead of `reset`.\n\t            options.reset = _.isUndefined(options.reset) ? false : options.reset;\n\t\n\t            // fix page number since our offset is already at the end of the collection subset\n\t            options.page--;\n\t\n\t            if (maxSize) {\n\t                options.offset = this.offset + options.page * maxSize;\n\t            }\n\t\n\t            if (options.add) {\n\t                options = _.extend({ update: true, remove: false }, options);\n\t            }\n\t\n\t            this.fetch(options);\n\t        },\n\t\n\t        /**\n\t         * Fetches the total amount of records on the bean collection, and sets\n\t         * it on the {@link #total} property.\n\t         *\n\t         * Returns the total amount of filtered records if a `filterDef`\n\t         * property is set on the collection.\n\t         *\n\t         * @param {Object} [options] Fetch total options.\n\t         * @param {Function} [options.success] Success callback.\n\t         * @param {Function} [options.complete] Complete callback.\n\t         * @param {Function} [options.error] Error callback.\n\t         * @return {SUGAR.HttpRequest} Result of {@link SUGAR.Api#call}.\n\t         */\n\t        fetchTotal: function fetchTotal(options) {\n\t            options = options || {};\n\t\n\t            if (!_.isNull(this.total) && _.isFunction(options.success)) {\n\t                options.success.call(this, this.total);\n\t                return;\n\t            }\n\t\n\t            options.success = _.wrap(options.success, _.bind(function (orig, data) {\n\t                this.total = parseInt(data.record_count, 10);\n\t                if (orig && _.isFunction(orig)) {\n\t                    orig(this.total);\n\t                }\n\t            }, this));\n\t\n\t            var module = this.module;\n\t            var data = null;\n\t            options.filter = options.filterDef || this.filterDef;\n\t\n\t            if (this.link) {\n\t                data = {\n\t                    id: this.link.bean.id,\n\t                    link: this.link.name\n\t                };\n\t                module = this.link.bean.module;\n\t            }\n\t\n\t            var callbacks = _.pick(options, 'success', 'complete', 'error');\n\t            options = _.omit(options, 'success', 'complete', 'error');\n\t\n\t            return app.api.count(module, data, callbacks, options);\n\t        },\n\t\n\t        /**\n\t         * A convenience method that checks to see if there are at least the\n\t         * amount of records passed in `amount`. Also passes to a provided\n\t         * success callback the length of records up to `amount`, and if there\n\t         * are more records to be fetched (`hasMore`).\n\t         *\n\t         * Fetches the partial amount of filtered records if a `filterDef`\n\t         * property is set on the collection.\n\t         *\n\t         * @param {number} amount The number of records to check if there are a\n\t         *   minimum of.\n\t         * @param {Object} [options] Fetch partial total options.\n\t         * @param {Object} [options.filterDef] Filter definition to be applied.\n\t         * @param {Function} [options.success] Success callback.\n\t         * @param {Function} [options.complete] Complete callback.\n\t         * @param {Function} [options.error] Error callback.\n\t         * @return {SUGAR.HttpRequest} Result of {@link SUGAR.Api#call}.\n\t         */\n\t        hasAtLeast: function hasAtLeast(amount, options) {\n\t            options = options || {};\n\t            var method = 'read';\n\t            options.fields = ['id'];\n\t            delete options.view;\n\t            options.silent = true;\n\t            options.success = _.wrap(options.success, _.bind(function (orig, data) {\n\t                var length = data.records.length;\n\t                var hasAtLeastAmount = length >= amount;\n\t                var properties = {\n\t                    length: length,\n\t                    hasMore: data.next_offset !== -1\n\t                };\n\t\n\t                if (_.isFunction(orig)) {\n\t                    orig(hasAtLeastAmount, properties);\n\t                }\n\t\n\t                this.reset(null, { silent: true });\n\t            }, this));\n\t\n\t            var module = this.module;\n\t            var data = null;\n\t            var endpoint = 'records';\n\t            options.filter = options.filterDef || this.filterDef;\n\t            options.limit = options.limit || amount;\n\t\n\t            if (this.link) {\n\t                data = {\n\t                    id: this.link.bean.id,\n\t                    link: this.link.name\n\t                };\n\t                module = this.link.bean.module;\n\t                endpoint = 'relationships';\n\t            }\n\t\n\t            var callbacks = _.pick(options, 'success', 'complete', 'error');\n\t            options = _.omit(options, 'success', 'complete', 'error');\n\t            options = app.data.parseOptionsForSync(method, this, options);\n\t\n\t            return app.api[endpoint](method, module, data, options.params, callbacks, options.apiOptions);\n\t        },\n\t\n\t        /**\n\t         * Gets the current page of collection being displayed depending on the offset.\n\t         *\n\t         * @param options(Optional) fetch options used when paginating\n\t         *\n\t         * - limit: When set, it is the size of each page otherwise we use app.config.maxQueryResult\n\t         *\n\t         * @return {Number} current page number.\n\t         */\n\t        getPageNumber: function getPageNumber(options) {\n\t            var pageNumber = 1;\n\t            var maxSize = app.config.maxQueryResult;\n\t            if (options) {\n\t                maxSize = options.limit || maxSize;\n\t            }\n\t            if (this.offset && maxSize) {\n\t                pageNumber = Math.ceil(this.offset / maxSize);\n\t            }\n\t            return pageNumber;\n\t        },\n\t\n\t        /**\n\t         * Returns string representation useful for debugging:\n\t         * <code>coll:[module-name]-[length]</code>  or\n\t         * <code>coll:[related-module-name]/[id]/[module-name]-[length]</code> if it's a collection of related beans.\n\t         * @return {String} string representation of this collection.\n\t         */\n\t        toString: function toString() {\n\t            return \"coll:\" + (this.link ? this.link.bean.module + \"/\" + this.link.bean.id + \"/\" : \"\") + this.module + \"-\" + this.length;\n\t        },\n\t\n\t        /**\n\t         * Returns the next model in a collection, paginating if needed.\n\t         * @param {Object} current Current model or id of a model.\n\t         * @param {Object} callback Callback for success call.\n\t         * @return {Object} Next model in collection or ``null``\n\t         * if current model is last item in collection.\n\t         */\n\t        getNext: function getNext(current, callback) {\n\t            var _this3 = this;\n\t\n\t            var ind = -1;\n\t            var nextFn = function nextFn() {\n\t                callback.apply(_this3, [_this3.at(ind + 1), 'next']);\n\t            };\n\t\n\t            if (this.hasNextModel(current)) {\n\t                ind = this.getModelIndex(current);\n\t                if (ind + 1 >= this.length) {\n\t                    this.paginate({\n\t                        add: true,\n\t                        success: nextFn\n\t                    });\n\t                } else {\n\t                    nextFn();\n\t                }\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Returns the previous model in a collection.\n\t         * @param {Object} current Current model or id of a model.\n\t         * @param {Object} callback Callback for success call.\n\t         * @return {Object} Previous model in collection or ``null``\n\t         * if current model is first item in collection.\n\t         */\n\t        getPrev: function getPrev(current, callback) {\n\t            var ind = -1,\n\t                result = null,\n\t                self = this;\n\t            if (this.hasPreviousModel(current)) {\n\t                ind = this.getModelIndex(current);\n\t                result = this.at(ind - 1);\n\t            }\n\t            callback.apply(self, [result, 'prev']);\n\t        },\n\t\n\t        /**\n\t         * Check whether is there next model in collection.\n\t         * @param  {Object} current Current model or id of a model.\n\t         * @return {Boolean} ``true`` if has next model, ``false`` otherwise.\n\t         */\n\t        hasNextModel: function hasNextModel(current) {\n\t            var index = this.getModelIndex(current),\n\t                offset = !_.isUndefined(this.next_offset) ? parseInt(this.next_offset, 10) : -1;\n\t            return index >= 0 && (this.length > index + 1 || offset !== -1);\n\t        },\n\t\n\t        /**\n\t         * Check whether is there previous model in collection.\n\t         * @param  {Object} current Current model or id of a model.\n\t         * @return {Boolean} ``true`` if has previous model, ``false`` otherwise.\n\t         */\n\t        hasPreviousModel: function hasPreviousModel(current) {\n\t            return this.getModelIndex(current) > 0;\n\t        },\n\t\n\t        /**\n\t         * Return index of the model in collection.\n\t         * @param  {Object} model Current model.\n\t         * @return {Number}\n\t         */\n\t        getModelIndex: function getModelIndex(model) {\n\t            return this.indexOf(this.get(model.id));\n\t        },\n\t\n\t        /**\n\t         * Sets the default fetch options (one or many) on the model.\n\t         *\n\t         * @param {string|Object} key The name of the attribute, or an hash of\n\t         * attributes.\n\t         * @param {Mixed} [val] The default value for the `key` argument.\n\t         *\n\t         * @chainable\n\t         */\n\t        setOption: function setOption(key, val) {\n\t            var attrs;\n\t            if (_.isObject(key)) {\n\t                attrs = key;\n\t            } else {\n\t                (attrs = {})[key] = val;\n\t            }\n\t\n\t            _.extend(this._persistentOptions, attrs);\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Unsets a default fetch option (or all).\n\t         *\n\t         * @param {string|Object} [key] The name of the option to unset, or\n\t         * nothing to unset all options.\n\t         *\n\t         * @chainable\n\t         */\n\t        unsetOption: function unsetOption(key) {\n\t            if (key) {\n\t                this.setOption(key, void 0);\n\t            } else {\n\t                this._persistentOptions = {};\n\t            }\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Gets one or all persistent fetch options.\n\t         *\n\t         * @param {string|Object} [key] The name of the option to retrieve, or\n\t         * nothing to retrieve all options.\n\t         * @return {Mixed} A specific option, or the list of options.\n\t         */\n\t        getOption: function getOption(key) {\n\t            if (key) {\n\t                return this._persistentOptions[key];\n\t            }\n\t            return this._persistentOptions;\n\t        },\n\t\n\t        /**\n\t         * Clones the {@link #link} and all the persistent options of the\n\t         * Collection.\n\t         *\n\t         * @return {Data.BeanCollection} The new collection with an identical\n\t         * list of models as this one.\n\t         *\n\t         * @override\n\t         */\n\t        clone: function clone() {\n\t            var newCol = Backbone.Collection.prototype.clone.call(this);\n\t            newCol.link = _.clone(this.link);\n\t            newCol.setOption(_.clone(this.getOption()));\n\t            return newCol;\n\t        }\n\t    }), false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Mixed collection class.\n\t *\n\t * Supports wrapping multiple related collections by link to allow aggregated interactions across\n\t * multiple relationships. Does not support direct fetch at this time except in search mode.\n\t *\n\t * **Filtering and searching**\n\t *\n\t * The collection's {@link Data.BeanCollection#fetch} method supports filter and search options.\n\t * For example, to search across accounts, opportunities, and contacts for favorite records\n\t * that have `\"Acme\"` string in their searchable fields:\n\t * <pre><code>\n\t * (function(app) {\n\t *\n\t *     var records = app.data.getMixedBeanCollection();\n\t *     records.fetch({\n\t *         favorites: true,\n\t *         query: \"Acme\",\n\t *         module_list: \"Accounts,Opportunities,Contacts\"\n\t *     });\n\t *\n\t * })(SUGAR.App);\n\t * </code></pre>\n\t *\n\t *\n\t * @class Data.MixedBeanCollection\n\t * @alias SUGAR.App.MixedBeanCollection\n\t * @extends Data.BeanCollection\n\t */\n\t(function (app) {\n\t\n\t    app.augment(\"MixedBeanCollection\", app.BeanCollection.extend({\n\t\n\t        /**\n\t         * Creates collections for each one of the links passed in the options.\n\t         * The mixed bean collection will keep those collection in sync with\n\t         * the mixed bean collection.\n\t         *\n\t         * @param {Array} models The initial models of the mixed bean collection.\n\t         * @param {Object} options A hash of options.\n\t         * @param {Array} options.links The links related to the mixed bean\n\t         *   collection. A link is a collection of a particular module. A mixed\n\t         *   bean collection will handle synchronization between its records and\n\t         *   the ones in its link collections.\n\t         */\n\t        initialize: function initialize(models, options) {\n\t            this._linkedCollections = {};\n\t\n\t            options = options || {};\n\t            if (options.links) {\n\t                _.each(options.links, function (collection, link) {\n\t                    //Check if collection is a module name rather than an existing collection\n\t                    if (_.isString(collection)) {\n\t                        this._linkedCollections[link] = app.data.createBeanCollection(collection);\n\t                    } else {\n\t                        this._linkedCollections[link] = collection;\n\t                    }\n\t\n\t                    this.listenTo(this._linkedCollections[link], 'add', this._onLinkAdd);\n\t                    this.listenTo(this._linkedCollections[link], 'remove', this._onLinkRemove);\n\t                    this.listenTo(this._linkedCollections[link], 'reset', this._onLinkReset);\n\t                }, this);\n\t\n\t                delete options.links;\n\t            }\n\t\n\t            app.BeanCollection.prototype.initialize.call(this, models, options);\n\t        },\n\t\n\t        /**\n\t         * Sets the `model` class to match the given model.\n\t         * @param {Data.Bean} model The bean to be added to the collection.\n\t         * @param {Object} options A hash of options.\n\t         * @return {Data.Bean} The prepared bean.\n\t         */\n\t        _prepareModel: function _prepareModel(model, options) {\n\t            var module = model instanceof app.Bean ? model.module : model._module;\n\t            this.model = app.data.getBeanClass(module);\n\t            return app.BeanCollection.prototype._prepareModel.call(this, model, options);\n\t        },\n\t\n\t        /**\n\t         * Callback to add a bean to the collection when it got added to a\n\t         * linked collection.\n\t         * @param {Data.Bean} model The bean to add.\n\t         * @param {Data.BeanCollection} collection The collection where the\n\t         * bean got added.\n\t         * @param {Object} [options] A hash of options.\n\t         */\n\t        _onLinkAdd: function _onLinkAdd(model, collection, options) {\n\t            if (this._updating) {\n\t                return;\n\t            }\n\t\n\t            app.BeanCollection.prototype.add.call(this, model);\n\t        },\n\t\n\t        /**\n\t         * Callback to remove a bean from the collection when it got removed\n\t         * from a linked collection.\n\t         *\n\t         * @param {Data.Bean} model The bean to remove.\n\t         * @param {Data.BeanCollection} collection The collection from which the\n\t         * bean got removed.\n\t         * @param {Object} [options] A hash of options.\n\t         */\n\t        _onLinkRemove: function _onLinkRemove(model, collection, options) {\n\t            if (this._updating) {\n\t                return;\n\t            }\n\t\n\t            app.BeanCollection.prototype.remove.call(this, model);\n\t        },\n\t\n\t        /**\n\t         * Callback to update the collection when a linked collection got reset.\n\t         *\n\t         * @param {Data.BeanCollection} collection The linked collection that\n\t         * got reset.\n\t         */\n\t        _onLinkReset: function _onLinkReset(collection) {\n\t            var groupedBeans = _.groupBy(this.models, function (model) {\n\t                return model instanceof app.Bean ? model.get('_link') : model._link;\n\t            });\n\t\n\t            var linkName = _.findKey(this._linkedCollections, function (val) {\n\t                return val === collection;\n\t            });\n\t\n\t            app.BeanCollection.prototype.remove.call(this, groupedBeans[linkName]);\n\t            app.BeanCollection.prototype.add.call(this, collection.models);\n\t        },\n\t\n\t        /**\n\t         * Adds models to the matching linked collections.\n\t         */\n\t        add: function add(models, options) {\n\t            // We don't call the BeanCollection method because a mixed bean\n\t            // collection does not need to track it's own deltas.\n\t            models = Backbone.Collection.prototype.add.call(this, models, options);\n\t            if (_.isEmpty(this._linkedCollections)) {\n\t                return models;\n\t            }\n\t\n\t            this._updating = true;\n\t            options = options || {};\n\t\n\t            if (!_.isUndefined(models) && !_.isArray(models)) {\n\t                models = [models];\n\t            }\n\t\n\t            _.each(models, function (model) {\n\t                var link = model.get('_link');\n\t                if (!link) {\n\t                    return;\n\t                }\n\t\n\t                if (this._linkedCollections[link]) {\n\t                    this._linkedCollections[link].add(model, options);\n\t                }\n\t            }, this);\n\t\n\t            this._updating = false;\n\t\n\t            return models;\n\t        },\n\t\n\t        /**\n\t         * Removes models from the matching linked collections.\n\t         */\n\t        remove: function remove(models, options) {\n\t            // We don't call the BeanCollection method because a mixed bean\n\t            // collection does not need to track it's own deltas.\n\t            models = Backbone.Collection.prototype.remove.call(this, models, options);\n\t            if (_.isEmpty(this._linkedCollections)) {\n\t                return models;\n\t            }\n\t\n\t            this._updating = true;\n\t            options = options || {};\n\t\n\t            if (!_.isUndefined(models) && !_.isArray(models)) {\n\t                models = [models];\n\t            }\n\t\n\t            _.each(models, function (model) {\n\t                var link = model.get('_link');\n\t                if (!link) {\n\t                    return;\n\t                }\n\t\n\t                if (this._linkedCollections[link]) {\n\t                    this._linkedCollections[link].remove(model, options);\n\t                }\n\t            }, this);\n\t\n\t            this._updating = false;\n\t\n\t            return models;\n\t        },\n\t\n\t        /**\n\t         * Resets linked collection\n\t         */\n\t        reset: function reset(models, options) {\n\t            if (_.isEmpty(this._linkedCollections)) {\n\t                // We don't call the BeanCollection method because a mixed bean\n\t                // collection does not need to track it's own deltas.\n\t                return Backbone.Collection.prototype.reset.call(this, models, options);\n\t            }\n\t\n\t            var sortedBeans = _.groupBy(models, function (model) {\n\t                return model instanceof app.Bean ? model.get('_link') : model._link;\n\t            });\n\t\n\t            _.each(this._linkedCollections, function (collection, link) {\n\t                collection.reset(sortedBeans[link], options);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets changes made on the linked collections.\n\t         *\n\t         * @return {Object} The object representing the changes made on the\n\t         * linked collections since the last sync.\n\t         *\n\t         * TODO: SC-6145 will add `add` and `delete` arrays.\n\t         */\n\t        getDelta: function getDelta() {\n\t            var result = {};\n\t            _.each(this._linkedCollections, function (val, linkName) {\n\t                var delta = val.getDelta();\n\t                if (_.isEmpty(delta)) {\n\t                    return;\n\t                }\n\t\n\t                result[linkName] = delta;\n\t            }, this);\n\t\n\t            return result;\n\t        },\n\t\n\t        /**\n\t         * Resets the delta object on each linked collection.\n\t         */\n\t        resetDelta: function resetDelta() {\n\t            _.each(this._linkedCollections, function (val, linkName) {\n\t                val.resetDelta();\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Fetches records.\n\t         *\n\t         * This method performs global search across multiple modules.\n\t         * @param options(optional) Fetch options.\n\t         *\n\t         * - module_list: comma-delimited list of modules to search across. The default is a list of all displayable modules.\n\t         *\n\t         * See {@link Data.BeanCollection#fetch} method for details about the reset of the options.\n\t         *\n\t         */\n\t        fetch: function fetch(options) {\n\t            options = options || {};\n\t            // We set a list of all modules by default\n\t            options.module_list = this.module_list = options.module_list || this.module_list || app.metadata.getModuleNames({ filter: 'visible' });\n\t            return app.BeanCollection.prototype.fetch.call(this, options);\n\t        },\n\t\n\t        /**\n\t         * Groups models by module name.\n\t         * @return {Object} Sets of models. Key is module name, value is array of models.\n\t         */\n\t        groupByModule: function groupByModule() {\n\t            return _.groupBy(this.models, function (model) {\n\t                return model.module;\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Returns string representation of this collection:\n\t         * <code>mcoll:[length]</code>\n\t         * @return {String} string representation of this collection.\n\t         */\n\t        toString: function toString() {\n\t            return \"mcoll:\" + this.length;\n\t        }\n\t\n\t    }), false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 54 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Manages bean model and collection classes.\n\t *\n\t * **Data manager provides:**\n\t *\n\t * - Interface to declare bean model and collection classes from metadata.\n\t * - Factory methods for creating instances of beans and bean collections.\n\t * - Factory methods for creating instances of bean relations and relation collections.\n\t * - Custom implementation of <code>Backbone.sync</code> pattern.\n\t *\n\t * **Data model metadata**\n\t *\n\t * Metadata that describes the data model contains information about module fields and its relationships.\n\t * From the following sample metadata, data manager would declare two classes: Opportunities and Contacts.\n\t * <pre><code>\n\t * var metadata =\n\t * {\n\t *   \"modules\": {\n\t *     \"Opportunities\": {\n\t *        \"fields\": {\n\t *            \"name\": { ... },\n\t *            ...\n\t *        }\n\t *      },\n\t *      \"Contacts\": { ... }\n\t *    }\n\t *    \"relationships\": {\n\t *        \"opportunities_contacts\": { ... },\n\t *         ...\n\t *    }\n\t *\n\t * }\n\t * </code></pre>\n\t *\n\t * **Working with beans**\n\t *\n\t * <pre><code>\n\t * (function(app) {\n\t *\n\t * // Declare bean classes from metadata payload.\n\t * // This method should be called at application start-up and whenever the metadata changes.\n\t * app.data.declareModels(metadata);\n\t * // You may now create bean instances using factory methods.\n\t * var opportunity = app.data.createBean(\"Opportunities\", { name: \"Cool opportunity\" });\n\t * // You can save a bean using standard Backbone.Model.save method.\n\t * // The save method will use data manager's sync method to communicate changes to the remote server.\n\t * opportunity.save();\n\t *\n\t * // Create an empty collection of contacts.\n\t * var contacts = app.data.createBeanCollection(\"Contacts\");\n\t * // Fetch a list of contacts\n\t * contacts.fetch();\n\t *\n\t * })(SUGAR.App);\n\t * </code></pre>\n\t *\n\t * **Working with relationships**\n\t *\n\t * <pre><code>\n\t * (function(app) {\n\t *\n\t * var attrs = {\n\t *   firstName: \"John\",\n\t *   lastName: \"Smith\",\n\t *   // relationship field\n\t *   opportunityRole: \"Influencer\"\n\t * }\n\t * // Create a new instance of a contact related to an existing opportunity\n\t * var contact = app.data.createRelatedBean(opportunity, null, \"contacts\", attrs);\n\t * // This will save the contact and create the relationship\n\t * contact.save(null, { relate: true });\n\t *\n\t * // Create an instance of contact collection related to an existing opportunity\n\t * var contacts = app.data.createRelatedCollection(opportunity, \"contacts\");\n\t * // This will fetch related contacts\n\t * contacts.fetch({ relate: true });\n\t *\n\t * })(SUGAR.App);\n\t * </code></pre>\n\t *\n\t * @class Data.DataManager\n\t * @alias SUGAR.App.data\n\t * @singleton\n\t */\n\t(function (app) {\n\t\n\t    // Bean class cache\n\t    var _models = {};\n\t    // Bean collection class cache\n\t    var _collections = {};\n\t\n\t    var _dataManager = _.extend({\n\t\n\t        /**\n\t         * Reference to the base bean model class. Defaults to {@link Data.Bean}.\n\t         * @property {Data.Bean}\n\t         */\n\t        beanModel: app.Bean,\n\t        /**\n\t         * Reference to the base bean collection class. Defaults to {@link Data.BeanCollection}.\n\t         * @property {Data.BeanCollection}\n\t         */\n\t        beanCollection: app.BeanCollection,\n\t        /**\n\t         * Reference to the base mixed bean collection class. Defaults to {@link Data.MixedBeanCollection}.\n\t         * @property {Data.MixedBeanCollection}\n\t         */\n\t        mixedBeanCollection: app.MixedBeanCollection,\n\t\n\t        /**\n\t         * Initializes data manager.\n\t         * @method\n\t         */\n\t        init: function init() {\n\t            var sync = _.bind(this.sync, this);\n\t            app.Bean.prototype.sync = sync;\n\t            app.BeanCollection.prototype.sync = sync;\n\t\n\t            app.events.register(\n\t            /**\n\t             * Fires when the sync operation starts.\n\t             *\n\t             * Two parameters are passed to the callback:\n\t             *\n\t             *  - operation name (`method`)\n\t             *  - reference to the model/collection\n\t             *  - options\n\t             *\n\t             * <pre><code>\n\t             * (function(app) {\n\t             *     app.events.on(\"data:sync:start\", function(method, model, options) {\n\t             *         app.logger.debug(\"Started operation \" + method + \" on \" + model);\n\t             *     });\n\t             * })(SUGAR.App);\n\t             * </code></pre>\n\t             * @event\n\t             */\n\t            \"data:sync:start\", this);\n\t\n\t            app.events.register(\n\t            /**\n\t             * Fires when the sync operation ends.\n\t             *\n\t             * Three parameters are passed to the callback:\n\t             *\n\t             *  - operation name (`method`)\n\t             *  - reference to the model/collection\n\t             *  - options\n\t             *  - request (SUGAR.Api.HttpRequest)\n\t             *\n\t             * <pre><code>\n\t             * (function(app) {\n\t             *     app.events.on(\"data:sync:complete\", function(method, model, options, request) {\n\t             *         app.logger.debug(\"Finished operation \" + method + \" on \" + model);\n\t             *     });\n\t             * })(SUGAR.App);\n\t             * </code></pre>\n\t             * @event\n\t             */\n\t            \"data:sync:complete\", this);\n\t\n\t            app.events.register(\n\t            /**\n\t             * Fires when the sync operation ends successfully.\n\t             *\n\t             * Four parameters are passed to the callback:\n\t             *\n\t             *  - operation name (`method`)\n\t             *  - reference to the model/collection\n\t             *  - options\n\t             *  - request (SUGAR.Api.HttpRequest)\n\t             *\n\t             * <pre><code>\n\t             * (function(app) {\n\t             *     app.events.on(\"data:sync:success\", function(method, model, options, request) {\n\t             *         app.logger.debug(\"Finished operation \" + method + \" on \" + model);\n\t             *     });\n\t             * })(SUGAR.App);\n\t             * </code></pre>\n\t             * @event\n\t             */\n\t            \"data:sync:success\", this);\n\t\n\t            app.events.register(\n\t            /**\n\t             * Fires when the sync operation ends unsuccessfully.\n\t             *\n\t             * Four parameters are passed to the callback:\n\t             *\n\t             *  - operation name (`method`)\n\t             *  - reference to the model/collection\n\t             *  - options\n\t             *  - error (SUGAR.Api.HttpError)\n\t             *\n\t             * <pre><code>\n\t             * (function(app) {\n\t             *     app.events.on(\"data:sync:error\", function(method, model, options, error) {\n\t             *         app.logger.debug(\"Operation failed \" + method + \" on \" + model);\n\t             *     });\n\t             * })(SUGAR.App);\n\t             * </code></pre>\n\t             * @event\n\t             */\n\t            \"data:sync:error\", this);\n\t\n\t            app.events.register(\n\t            /**\n\t             * Fires when the sync operation was aborted.\n\t             *\n\t             * Four parameters are passed to the callback:\n\t             *\n\t             *  - operation name (`method`)\n\t             *  - reference to the model/collection\n\t             *  - options\n\t             *  - request {@link SUGAR.Api.HttpRequest}\n\t             *\n\t             *     (function(app) {\n\t             *         app.events.on(\"data:sync:abort\", function(method, model, options, request) {\n\t             *             app.logger.debug(\"Operation aborted \" + method + \" on \" + model);\n\t             *         });\n\t             *     })(SUGAR.App);\n\t             *\n\t             * @event\n\t             */\n\t            'data:sync:abort', this);\n\t        },\n\t\n\t        /**\n\t         * Resets class declarations.\n\t         * @param {String} module(optional) module name. If not specified, resets models of all modules.\n\t         * @method\n\t         */\n\t        reset: function reset(module) {\n\t            this.resetModel(module);\n\t            this.resetCollection(module);\n\t        },\n\t\n\t        /**\n\t         * Resets model class declarations.\n\t         * @param {String} module(optional) module name. If not specified, resets models of all modules.\n\t         * @method\n\t         */\n\t        resetModel: function resetModel(module) {\n\t            if (module) {\n\t                delete _models[module];\n\t            } else {\n\t                _models = {};\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Resets collection class declarations.\n\t         * @param {String} module(optional) module name. If not specified, resets collections of all modules.\n\t         * @method\n\t         */\n\t        resetCollection: function resetCollection(module) {\n\t            if (module) {\n\t                delete _collections[module];\n\t            } else {\n\t                _collections = {};\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Declares bean model and collection classes for a given module.\n\t         * @param {String} moduleName module name.\n\t         * @param module module metadata object.\n\t         * @method\n\t         */\n\t        declareModel: function declareModel(moduleName, module, platform, modelController, collectionController) {\n\t            // Bug 54814 init fields to something sane if module metadata is empty\n\t            platform = platform || app.config.platform || 'base';\n\t\n\t            this.declareModelClass(moduleName, module, platform, modelController);\n\t            this.declareCollectionClass(moduleName, platform, collectionController);\n\t        },\n\t\n\t        /**\n\t         * Declares the bean model class for a given module.\n\t         *\n\t         * @param {String} moduleName The module name.\n\t         * @param {String} module The module metadata.\n\t         * @param {String} platform The platform name.\n\t         * @param {Object} [modelController] The model controller.\n\t         */\n\t        declareModelClass: function declareModelClass(moduleName, module, platform, modelController) {\n\t            var platformNamespace = app.utils.capitalize(platform);\n\t            moduleName = moduleName || platformNamespace + 'Model';\n\t\n\t            this.resetModel(moduleName);\n\t\n\t            var fields = module ? module.fields : {};\n\t            var defaults = null;\n\t\n\t            _.each(_.values(fields), function (field) {\n\t                if (!_.isUndefined(field['default'])) {\n\t                    if (defaults === null) {\n\t                        defaults = {};\n\t                    }\n\t                    defaults[field.name] = field['default'];\n\t                }\n\t            });\n\t\n\t            var baseProperties = {\n\t                /**\n\t                 * The hash of field names and default values.\n\t                 *\n\t                 * This hash should be used instead of\n\t                 * [Backbone.Model#default](http://backbonejs.org/#Model-defaults)\n\t                 * property. Setting default values is done in {@link Bean#initialize}\n\t                 * only if the given model is new.\n\t                 *\n\t                 * @member Data.Bean\n\t                 * @property {Object}\n\t                 */\n\t                _defaults: defaults,\n\t\n\t                /**\n\t                 * The module name.\n\t                 *\n\t                 * **Note:** Please do not manipulate this property directly. This\n\t                 * property is set by {@link Data.DataManager} and is available for\n\t                 * reading but should never be modified directly.\n\t                 *\n\t                 * @member Data.Bean\n\t                 * @property {String}\n\t                 */\n\t                module: moduleName,\n\t\n\t                /**\n\t                 * The list of fields and their vardefs.\n\t                 *\n\t                 * **Note:** Please do not manipulate this property directly. This\n\t                 * property is set by {@link Data.DataManager} and is available for\n\t                 * reading but should never be modified directly, like\n\t                 * [Backbone.Model#attributes](http://backbonejs.org/#Model-attributes).\n\t                 *\n\t                 * @member Data.Bean\n\t                 * @property {Object}\n\t                 */\n\t                fields: fields\n\t            };\n\t\n\t            var superModel = _models[platformNamespace + 'Model'] || _models.BaseModel || this.beanModel;\n\t\n\t            modelController = _.extend(modelController || {}, baseProperties);\n\t\n\t            return app.utils.extendClass(_models, superModel, moduleName, modelController, platformNamespace);\n\t        },\n\t\n\t        /**\n\t         * Declares bean collection class for a given module.\n\t         *\n\t         * @param {String} moduleName The module name.\n\t         * @param {String} platform The platform name.\n\t         * @param {Object} [collectionController] The controller.\n\t         */\n\t        declareCollectionClass: function declareCollectionClass(moduleName, platform, collectionController) {\n\t            var platformNamespace = app.utils.capitalize(platform);\n\t            var modelName = moduleName || platformNamespace + 'Model';\n\t            var model = _models[modelName];\n\t\n\t            moduleName = moduleName || platformNamespace + 'Collection';\n\t\n\t            if (!model) {\n\t                return;\n\t            }\n\t            this.resetCollection(moduleName);\n\t\n\t            var baseCollectionProperties = {\n\t                model: model,\n\t\n\t                /**\n\t                 * The module name.\n\t                 *\n\t                 * **Note:** Please do not manipulate this property directly.\n\t                 * This property is available for reading but should never be\n\t                 * modified directly.\n\t                 *\n\t                 * @member Data.BeanCollection\n\t                 * @property {String}\n\t                 */\n\t                module: moduleName,\n\t\n\t                /**\n\t                 * Current collection offset for pagination.\n\t                 *\n\t                 * This property is set by {@link #paginate} or {@link #resetPagination}\n\t                 * and should never be modified directly.\n\t                 *\n\t                 * @member Data.BeanCollection\n\t                 * @property {Number}\n\t                 */\n\t                offset: 0\n\t            };\n\t\n\t            var superCollection = _collections[platformNamespace + 'Collection'] || _collections.BaseCollection || this.beanCollection;\n\t\n\t            collectionController = _.extend(collectionController || {}, baseCollectionProperties);\n\t\n\t            return app.utils.extendClass(_collections, superCollection, moduleName, collectionController, platformNamespace);\n\t        },\n\t\n\t        /**\n\t         * Merges a model with its metadata.\n\t         *\n\t         * @param {String} name The module name.\n\t         * @param {Object} [module] The module metadata.\n\t         */\n\t        mergeModel: function mergeModel(name, module) {\n\t            var fields = module ? module.fields : {};\n\t            var defaults = null;\n\t\n\t            _.each(_.values(fields), function (field) {\n\t                if (!_.isUndefined(field['default'])) {\n\t                    if (defaults === null) {\n\t                        defaults = {};\n\t                    }\n\t                    defaults[field.name] = field['default'];\n\t                }\n\t            });\n\t\n\t            var baseProperties = {\n\t                /**\n\t                 * Same as {@link Data.Bean#_defaults}\n\t                 * @inheritdoc\n\t                 */\n\t                _defaults: defaults,\n\t\n\t                /**\n\t                 * Same as {@link Data.Bean#module}\n\t                 * @inheritdoc\n\t                 */\n\t                module: name,\n\t\n\t                /**\n\t                 * Same as {@link Data.Bean#fields}\n\t                 * @inheritdoc\n\t                 */\n\t                fields: fields\n\t            };\n\t\n\t            _.extend(_models[name].prototype, baseProperties);\n\t        },\n\t\n\t        /**\n\t         * Accessor for declared models\n\t         */\n\t        getModelClasses: function getModelClasses() {\n\t            return _models;\n\t        },\n\t\n\t        /**\n\t         * Accessor for declared collections\n\t         */\n\t        getCollectionClasses: function getCollectionClasses() {\n\t            return _collections;\n\t        },\n\t\n\t        /**\n\t         * Declares bean models and collections classes for each module definition.\n\t         * @param modules(optional) metadata hash in which keys are module names and values are module definitions.\n\t         * Data manager uses {@link Core.MetadataManager#getModules} method to fetch metadata\n\t         * if `modules` parameter is not specified.\n\t         */\n\t        declareModels: function declareModels(modules) {\n\t            modules = modules || app.metadata.getModules();\n\t            _.each(modules, function (module, name) {\n\t                if (!_models[name]) {\n\t                    this.declareModel(name, module);\n\t                } else {\n\t                    this.mergeModel(name, module);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets declaration of a bean class.\n\t         *\n\t         * This method is for internal use only.\n\t         * @param {String} module Module name.\n\t         */\n\t        getBeanClass: function getBeanClass(module) {\n\t            return _models[module] || this.beanModel;\n\t        },\n\t\n\t        /**\n\t         * Creates instance of a bean.\n\t         *\n\t         * <pre><code>\n\t         * (function(app) {\n\t         *\n\t         * // Create an account bean. The account's name property will be set to \"Acme\".\n\t         * var account = app.data.createBean(\"Accounts\", { name: \"Acme\" });\n\t         *\n\t         * // Create a team set bean with a given ID\n\t         * var teamSet = app.data.createBean(\"TeamSets\", { id: \"xyz\" });\n\t         *\n\t         * })(SUGAR.App);\n\t         * </code></pre>\n\t         * @param {String} module Sugar module name.\n\t         * @param {Object} [attrs] Initial values of bean attributes, which\n\t         *   will be set on the model.\n\t         * @param {Object} [options] Backbone options hash.\n\t         * @return {Data.Bean} A new instance of bean model.\n\t         */\n\t        createBean: function createBean(module, attrs, options) {\n\t            return _models[module] ? new _models[module](attrs, options) : new app.data.beanModel(attrs, options);\n\t        },\n\t\n\t        /**\n\t         * Creates instance of a bean collection.\n\t         *\n\t         * <pre><code>\n\t         * (function(app) {\n\t         * // Create an empty collection of account beans.\n\t         * var accounts = app.data.createBeanCollection(\"Accounts\");\n\t         *\n\t         * })(SUGAR.App);\n\t         * </code></pre>\n\t         * @param {String} module Sugar module name.\n\t         * @param {Data.Bean[]} models(optional) initial array or collection of models.\n\t         * @param {Object} options(optional) options hash.\n\t         * @return {Data.BeanCollection} A new instance of bean collection.\n\t         */\n\t        createBeanCollection: function createBeanCollection(module, models, options) {\n\t            return _collections[module] ? new _collections[module](models, options) : new app.data.beanCollection(models, options);\n\t        },\n\t\n\t        /**\n\t         * Creates an instance of related {@link Data.Bean} or updates an\n\t         * existing bean with link information.\n\t         *\n\t         *     (function(app) {\n\t         *\n\t         *     // Create a new contact related to the given opportunity.\n\t         *     var contact = app.data.createRelatedBean(opportunity, '1', 'contacts', {\n\t         *        'first_name': 'John',\n\t         *        'last_name': 'Smith',\n\t         *        'contact_role': 'Decision Maker'\n\t         *     });\n\t         *     contact.save(null, { relate: true });\n\t         *\n\t         *     })(SUGAR.App);\n\t         *\n\t         * @param {Data.Bean} bean1 instance of the first bean\n\t         * @param {Data.Bean|string} beanOrId2 instance or ID of the second\n\t         *   bean. A new instance is created if this parameter is `null`.\n\t         * @param {string} link relationship link name\n\t         * @param {Object} attrs(optional) bean attributes hash\n\t         * @return {Data.Bean} a new instance of the related bean or existing\n\t         *   bean instance updated with relationship link information.\n\t         */\n\t        createRelatedBean: function createRelatedBean(bean1, beanOrId2, link, attrs) {\n\t            var relatedModule = this.getRelatedModule(bean1.module, link);\n\t\n\t            attrs = attrs || {};\n\t            if (_.isString(beanOrId2)) {\n\t                attrs.id = beanOrId2;\n\t                beanOrId2 = this.createBean(relatedModule, attrs);\n\t            } else if (_.isNull(beanOrId2)) {\n\t                beanOrId2 = this.createBean(relatedModule, attrs);\n\t            } else {\n\t                beanOrId2.set(attrs);\n\t            }\n\t\n\t            /**\n\t             * Relationship link information.\n\t             *\n\t             * <pre>\n\t             * {\n\t             *   name: link name,\n\t             *   bean: reference to the related bean\n\t             *   isNew: flag indicating that it is a new relationship\n\t             * }\n\t             * </pre>\n\t             *\n\t             * The `link.isNew` flag is used to distinguish between an existing relationship and a relationship\n\t             * that is about to be created. Please, refer to REST API specification for details.\n\t             * In brief, REST API supports creating a new relationship for two existing records as well as\n\t             * updating an existing relationship (updating relationship fields).\n\t             * The `link.isNew` flag equals to `true` by default. The flag is set to `false` by data manager\n\t             * once a relationship is created and whenever relationships are fetched from the server.\n\t             *\n\t             * @member Data.Bean\n\t             */\n\t            beanOrId2.link = {\n\t                name: link,\n\t                bean: bean1,\n\t                isNew: true\n\t            };\n\t\n\t            beanOrId2.setOption('relate', true);\n\t\n\t            return beanOrId2;\n\t        },\n\t\n\t        /**\n\t         * Creates a new instance of related beans collection.\n\t         *\n\t         * <pre><code>\n\t         * (function(app) {\n\t         *\n\t         * // Create contacts collection for an existing opportunity.\n\t         * var contacts = app.data.createRelatedCollection(opportunity, \"contacts\");\n\t         * contacts.fetch({ relate: true });\n\t         *\n\t         * })(SUGAR.App);\n\t         * </code></pre>\n\t         *\n\t         * The newly created collection is cached in the given bean instance.\n\t         *\n\t         * @param {Data.Bean} bean the related beans are linked to the specified bean\n\t         * @param {string} link relationship link name\n\t         * @param {Array|Data.BeanCollection} models(optional) an array of related beans to populate the newly created collection with\n\t         * @return {Data.BeanCollection} a new instance of the bean collection\n\t         */\n\t        createRelatedCollection: function createRelatedCollection(bean, link, models) {\n\t            var relatedModule = this.getRelatedModule(bean.module, link);\n\t            var collection = this.createBeanCollection(relatedModule, models, {\n\t                /**\n\t                 * Link information.\n\t                 *\n\t                 * <pre>\n\t                 * {\n\t                 *   name: link name,\n\t                 *   bean: reference to the related bean\n\t                 * }\n\t                 * </pre>\n\t                 *\n\t                 * @member Data.BeanCollection\n\t                 */\n\t                link: {\n\t                    name: link,\n\t                    bean: bean\n\t                }\n\t            });\n\t\n\t            collection.setOption('relate', true);\n\t\n\t            bean._setRelatedCollection(link, collection);\n\t            return collection;\n\t        },\n\t\n\t        /**\n\t         * Creates a collection of beans of different modules.\n\t         * @param {Array|Data.BeanCollection} [models] A list of models to\n\t         *   populate the new collection with.\n\t         * @return {Data.MixedBeanCollection} Collection of mixed module\n\t         *   collection.\n\t         */\n\t        createMixedBeanCollection: function createMixedBeanCollection(models, options) {\n\t            return new app.data.mixedBeanCollection(models, options);\n\t        },\n\t\n\t        /**\n\t         * Checks if a given module can have multiple relationships via a given link.\n\t         * @param {String} module Name of the module to do the check for.\n\t         * @param {String} link Relationship link name.\n\t         * @return {Boolean} `true` if the module's link is 'many'-type relationship, `false` otherwise.\n\t         */\n\t        canHaveMany: function canHaveMany(module, link) {\n\t            var meta = app.metadata.getModule(module);\n\t            if (!meta || !meta.fields || !meta.fields[link]) {\n\t                return false;\n\t            }\n\t            if (meta.fields[link].link_type) {\n\t                return meta.fields[link].link_type === 'many';\n\t            }\n\t            var name = meta.fields[link].relationship;\n\t            var relationship = app.metadata.getRelationship(name);\n\t            var t = relationship.relationship_type.split('-');\n\t            var type;\n\t            if (meta.fields[link].side) {\n\t                type = meta.fields[link].side === 'left' ? t[0] : t[2];\n\t            } else if (relationship.lhs_module !== relationship.rhs_module) {\n\t                type = module === relationship.rhs_module ? t[0] : t[2];\n\t            } else {\n\t                type = t[0] === 'many' || t[2] === 'many' ? 'many' : 'one';\n\t            }\n\t            return type === 'many';\n\t        },\n\t\n\t        /**\n\t         * Gets fields of type `relate` for a link.\n\t         *\n\t         * Suppose a module `parentModule` has a link field named `link`.\n\t         * For example, `Accounts` module has a link field `cases`.\n\t         * It is one-to-many relationship: an account may have many related cases,\n\t         * however a case can have only one associated account and this association is\n\t         * made via a `relate` field called `Cases.account_name`.\n\t         *\n\t         * So, for the above example the following call:\n\t         * <pre><code>\n\t         * var relateField = app.data.getRelateField(\"Accounts\", \"cases\");\n\t         * </code></pre>\n\t         * would return definition of `Cases.account_name` field.\n\t         *\n\t         * @param {String} parentModuleName Name of the module that has a link field named `link`.\n\t         * @param {String} link Link name.\n\t         * @return {Array} Definitions of the `relate` fields if found or empty array if not found.\n\t         * The array will contain one item most of the time. However, some modules have multiple\n\t         * `relate` fields that have the same link.\n\t         */\n\t        getRelateFields: function getRelateFields(parentModuleName, link) {\n\t            //Overridden to provide safeguard against exception filed in NOMAD-2979\n\t            //We couldn't reproduce the issue or find out exact place where data/metadata is inconsistent\n\t            var parentModuleDef = app.metadata.getModule(parentModuleName);\n\t            if (!parentModuleDef.fields[link]) {\n\t                return [];\n\t            }\n\t\n\t            var relationship = parentModuleDef.fields[link].relationship;\n\t            var relatedModule = this.getRelatedModule(parentModuleName, link);\n\t            var fields = app.metadata.getModule(relatedModule).fields;\n\t\n\t            // Find the opposite link field on related module\n\t            var f = _.find(fields, function (field) {\n\t                return field.type == \"link\" && field.relationship == relationship;\n\t            });\n\t\n\t            if (f) {\n\t                f = _.filter(fields, function (field) {\n\t                    return field.type == \"relate\" && field.link == f.name;\n\t                });\n\t            }\n\t\n\t            return f || [];\n\t        },\n\t\n\t        /**\n\t         * Gets relationship fields for a complex relationship.\n\t         *\n\t         * Some relationships have custom fields.\n\t         * For example, the `opporutnities_contacts` relationship has a custom field `contact_role`.\n\t         * The `Contacts` module has a field called `opportunity_role` that corresponds to the `contact_role`\n\t         * relationship field:\n\t         * <pre><code>\n\t         * // ['opportunity_role']\n\t         * var relationshipFields = app.data.getRelationshipFields(\"Opportunities\", \"contacts\");\n\t         * </code></pre>\n\t         *\n\t         * Use this method to determine a list of relationship fields that should be rendered\n\t         * on views for related record(s). In the above use case, the edit view for a contact related\n\t         * to an opportunity should display a drop-down field for the opportunity role.\n\t         * The list view and detail view should also display this field.\n\t         *\n\t         * @param {String} parentModule Name of the module that has a link field called `link`.\n\t         * @param {String} link Link name.\n\t         * @return {Array} Relationship fields.\n\t         */\n\t        getRelationshipFields: function getRelationshipFields(parentModule, link) {\n\t            var ff = null;\n\t            var linkField = app.metadata.getModule(parentModule).fields[link];\n\t            if (linkField.rel_fields) {\n\t                var relationship = linkField.relationship;\n\t                var relatedModule = this.getRelatedModule(parentModule, link);\n\t                var fields = app.metadata.getModule(relatedModule).fields;\n\t\n\t                // Find the opposite link field on related module\n\t                var f = _.find(fields, function (field) {\n\t                    return field.type == \"link\" && field.relationship == relationship;\n\t                });\n\t\n\t                // Find relationship_info field\n\t                if (f) {\n\t                    f = _.find(fields, function (field) {\n\t                        return field.link == f.name && field.link_type == \"relationship_info\";\n\t                    });\n\t                }\n\t\n\t                // Extract relationship fields\n\t                if (f && f.relationship_fields) {\n\t                    var fieldNames = _.keys(linkField.rel_fields);\n\t                    _.each(f.relationship_fields, function (field, name) {\n\t                        if (_.include(fieldNames, name)) {\n\t                            if (!ff) ff = [];\n\t                            ff.push(field);\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t\n\t            return ff;\n\t        },\n\t\n\t        /**\n\t         * Gets related module name.\n\t         * @param {String} module Name of the parent module.\n\t         * @param {String} link Relationship link name.\n\t         * @return {String} The name of the related module.\n\t         */\n\t        getRelatedModule: function getRelatedModule(module, link) {\n\t            var meta = app.metadata.getModule(module);\n\t            if (!meta || !meta.fields || !meta.fields[link]) {\n\t                return false;\n\t            }\n\t            var name = meta.fields[link] && meta.fields[link].relationship;\n\t            var relationship = app.metadata.getRelationship(name);\n\t            if (!relationship) {\n\t                return meta.fields[link].module || false;\n\t            }\n\t\n\t            return meta.fields[link].module || (module === relationship.rhs_module ? relationship.lhs_module : relationship.rhs_module);\n\t        },\n\t\n\t        /*\n\t         * Returns field definition of related name field\n\t         * @param {String} module Name of the field's module\n\t         * @param {String} idFieldName Name of the id field\n\t         */\n\t        getRelatedNameField: function getRelatedNameField(module, idFieldName) {\n\t            return _.find(app.metadata.getModule(module).fields, function (field) {\n\t                if (field.name !== idFieldName && field.id_name === idFieldName) {\n\t                    return field;\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets editable fields.\n\t         * @param {Data.Bean|Data.BeanCollection} model to get fields from.\n\t         * @param {Array} [fields] Names to be checked.\n\t         * @return {Object} Hash of editable fields.\n\t         */\n\t        getEditableFields: function getEditableFields(model, fields) {\n\t            var editableFields = ['id'],\n\t                //Always have the id included (without the id, the routing will not work correctly)\n\t            ignoreTypeList = [\"parent\", \"relate\"];\n\t\n\t            fields = fields || [];\n\t\n\t            // No fields were specified, try the model's attributes instead\n\t            if (!fields.length) {\n\t                fields = _.keys(model.attributes);\n\t            }\n\t\n\t            // Editable fields are fields that are either DB fields, such as\n\t            // name, or related fields that do have a real DB field behind them,\n\t            // such as opportunity_role (contact_role), that the user has access to edit.\n\t            // The following code will filter out fields such as assigned_user_name.\n\t            _.each(fields, function (fieldName) {\n\t                var fieldValue;\n\t\n\t                if (model.has(fieldName) && // Model has that field AND\n\t                model.fields[fieldName] && ( // Field exists in the model AND\n\t                !model.fields[fieldName].source || // (The field does not have a source specified OR\n\t                model.fields[fieldName].source !== 'non-db' || // the field's source is something other than 'non-db' OR\n\t                !model.fields[fieldName].type || // The field does not have a field type specified OR\n\t                ignoreTypeList.indexOf(model.fields[fieldName].type) === -1) && // The field's source is 'non-db', but the field's type is not in our ignore list) AND\n\t                app.acl.hasAccessToModel(\"edit\", model, fieldName)) {\n\t                    // The user has access to edit the field\n\t\n\t                    fieldValue = model.get(fieldName);\n\t                    //FIXME: This if condition is deprecated. It relies on a\n\t                    //format created by VirtualCollection Mango plugin which\n\t                    //sidecar does not know about and needs to be be removed.\n\t                    if (fieldValue && model.fields[fieldName].type === 'collection' && !_.isEmpty(fieldValue.links)) {\n\t                        _.each(fieldValue.links, function (link) {\n\t                            editableFields.push(link.link.name);\n\t                        });\n\t                    } else {\n\t                        editableFields.push(fieldName);\n\t                    }\n\t                }\n\t            });\n\t\n\t            return model.toJSON({\n\t                fields: editableFields\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Custom implementation of `Backbone.sync` pattern. Syncs models with\n\t         * the remote server using {@link SUGAR.Api}.\n\t         *\n\t         * @param {string} method The CRUD method: ('create', 'read', 'update',\n\t         *   or 'delete').\n\t         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n\t         *   be synced/read.\n\t         * @param {Object} [options] Standard Backbone options as well as\n\t         *   Sugar-specific options.\n\t         */\n\t        sync: function sync(method, model, options) {\n\t            app.logger.trace('data-sync-' + (options.relate ? 'relate-' : '') + method + \": \" + model);\n\t            options = this.parseOptionsForSync(method, model, options);\n\t            var callbacks = this.getSyncCallbacks(method, model, options),\n\t                request = null;\n\t\n\t            model.dataFetched = false;\n\t            // trigger global data:sync:start event\n\t            this.trigger(\"data:sync:start\", method, model, options);\n\t\n\t            /**\n\t             * Fires on model when the sync operation starts.\n\t             *\n\t             * Two parameters are passed to the callback:\n\t             *\n\t             *  - operation name (`method`)\n\t             *  - options\n\t             *\n\t             * <pre><code>\n\t             * (function(app) {\n\t             *     model.on(\"data:sync:start\", function(method, options) {\n\t             *         app.logger.debug(\"Started operation \" + method + \" on \" + model);\n\t             *     });\n\t             * })(SUGAR.App);\n\t             * </code></pre>\n\t             * @event\n\t             */\n\t            model.trigger(\"data:sync:start\", method, options);\n\t\n\t            if (_.isFunction(options.endpoint)) {\n\t                options.endpoint(method, model, options, callbacks);\n\t            } else if (model.link && model.link.bean && options.relate === true) {\n\t                // Related data is an object should contain:\n\t                // - related bean (including relationship fields) in case of create method\n\t                // - just relationship fields in case of update method\n\t                // - null for read/delete method\n\t                var relatedData = null;\n\t                if (method == \"create\" || method == \"update\") {\n\t                    // Pass all fields: bean fields + relationship fields\n\t                    relatedData = this.getEditableFields(model, options.fields);\n\t                    // Change 'update' method to 'create' if the relationship is a new one\n\t                    if (method == \"update\" && model.link.isNew) {\n\t                        method = \"create\";\n\t                    }\n\t                }\n\t\n\t                if (!model.link.bean.id) {\n\t                    console.error(\"Attempted to load linked context with no id on the linked bean\");\n\t                    console.log(model.link.bean);\n\t                    return false;\n\t                }\n\t\n\t                request = app.api.relationships(method, model.link.bean.module, {\n\t                    id: model.link.bean.id,\n\t                    link: model.link.name,\n\t                    relatedId: model.id,\n\t                    related: relatedData\n\t                }, options.params, callbacks, options.apiOptions);\n\t            } else if (options.favorite) {\n\t\n\t                request = app.api.favorite(model.module, model.id, model.isFavorite(), callbacks, options.apiOptions);\n\t            } else if (options.following) {\n\t                request = app.api.follow(model.module, model.id, model.get('following'), callbacks, options.apiOptions);\n\t            } else {\n\t                // Use global search API whenever a query is specified or a mixed collection is used\n\t                if (options.query || model instanceof app.MixedBeanCollection) {\n\t                    request = app.api.search(options.params, callbacks, options.apiOptions);\n\t                } else if (model.module) {\n\t                    request = app.api.records(method, model.module, method == \"update\" || method == \"create\" ? this.getEditableFields(model, options.fields) : model.attributes, options.params, callbacks, options.apiOptions);\n\t                } else {\n\t                    app.logger.error(\"Unable to sync model with no module\");\n\t                }\n\t            }\n\t\n\t            return request;\n\t        },\n\t\n\t        parseOptionsForSync: function parseOptionsForSync(method, model, options) {\n\t            options = options || {};\n\t            options.params = _.extend({}, options.params);\n\t            options.filterDef = options.filter || model.filterDef;\n\t            options.method = method;\n\t\n\t            if (options.view && _.isString(options.view) && method == \"read\") {\n\t                options.params.view = options.view;\n\t            }\n\t\n\t            if (options.fields && method == \"read\") {\n\t                options.params.fields = options.fields.join(\",\");\n\t            }\n\t\n\t            // Track as recently viewed\n\t            if (options.viewed === true) {\n\t                options.params.viewed = \"1\";\n\t            }\n\t\n\t            if (method == \"read\" && model instanceof app.BeanCollection) {\n\t                if (options.offset && options.offset !== 0) {\n\t                    options.params.offset = options.offset;\n\t                }\n\t\n\t                if (options.limit || app.config && app.config.maxQueryResult) {\n\t                    options.params.max_num = options.limit || app.config.maxQueryResult;\n\t                }\n\t\n\t                if (model.orderBy && model.orderBy.field) {\n\t                    options.params.order_by = model.orderBy.field + \":\" + model.orderBy.direction;\n\t                }\n\t\n\t                if (options.myItems === true) {\n\t                    options.params.my_items = \"1\";\n\t                }\n\t\n\t                if (options.favorites === true) {\n\t                    options.params.favorites = \"1\";\n\t                }\n\t\n\t                if (!_.isEmpty(options.filterDef)) {\n\t                    var filterDef = app.utils.deepCopy(options.filterDef);\n\t\n\t                    // We want to assign to params.filter the filter definition\n\t                    // itself (the value assigned to the \"filter\" key).\n\t                    if (_.has(filterDef, \"filter\")) {\n\t                        filterDef = filterDef.filter;\n\t                    }\n\t\n\t                    if (!_.isArray(filterDef)) {\n\t                        filterDef = [filterDef];\n\t                    }\n\t                    options.params.filter = filterDef;\n\t                }\n\t\n\t                if (!_.isEmpty(options.query)) {\n\t                    options.params.q = options.query;\n\t                    if (_.isEmpty(options.module_list) && model.module) {\n\t                        // Set module list to be the collection's module\n\t                        options.module_list = [model.module];\n\t                    }\n\t                }\n\t\n\t                if (options.module_list) {\n\t                    options.params.module_list = options.module_list.join(\",\");\n\t                }\n\t            }\n\t\n\t            if (method === 'update' && options.lastModified) {\n\t                options.apiOptions = options.apiOptions || {};\n\t                options.apiOptions.headers = options.apiOptions.headers || {};\n\t                options.apiOptions.headers['X-TIMESTAMP'] = options.lastModified;\n\t            }\n\t\n\t            return options;\n\t        },\n\t\n\t        getSyncCallbacks: function getSyncCallbacks(method, model, options) {\n\t            return {\n\t                success: this.getSyncSuccessCallback(method, model, options),\n\t                error: this.getSyncErrorCallback(method, model, options),\n\t                complete: this.getSyncCompleteCallback(method, model, options),\n\t                abort: this.getSyncAbortCallback(method, model, options)\n\t            };\n\t        },\n\t\n\t        getSyncSuccessCallback: function getSyncSuccessCallback(method, model, options) {\n\t            var self = this;\n\t            return function (data, request) {\n\t                model.inSync = true;\n\t                model.original_assigned_user_id = model.get(\"assigned_user_id\");\n\t                if (method == \"read\" && model instanceof app.BeanCollection) {\n\t                    var offset = options.offset || 0;\n\t                    data = data || {};\n\t\n\t                    if (data.next_offset) {\n\t                        model.offset = data.next_offset != -1 ? data.next_offset : offset + (data.records || []).length;\n\t                        model.next_offset = data.next_offset;\n\t                        model.page = model.getPageNumber(options);\n\t                    }\n\t\n\t                    if (!options.update) {\n\t                        // We need to invalidate the cached version of the total\n\t                        // when a reset is fired on the collection from actions\n\t                        // such as filtering. If however, the total is being\n\t                        // populated from the server response, that will be\n\t                        // used instead.\n\t                        model.total = _.isNumber(data.total) ? data.total : null;\n\t                    }\n\t\n\t                    // We need `xmod_aggs` property which are the facets\n\t                    // for search.\n\t                    if (model instanceof app.MixedBeanCollection) {\n\t                        model.xmod_aggs = data.xmod_aggs || null;\n\t                        model.tags = data.tags || null;\n\t                    }\n\t                    data = data.records || [];\n\t\n\t                    // Update collection filter/search properties on success\n\t                    self._updateCollectionProperties(model, options);\n\t                }\n\t\n\t                if (options.relate === true) {\n\t                    // Reset the flag to indicate that relationship(s) do exist.\n\t                    model.link.isNew = false;\n\t\n\t                    if (method != \"read\") {\n\t                        // The response for create/update/delete relationship contains updated beans\n\t                        if (model.link.bean) {\n\t                            var syncedAttributes = model.link.bean.getSynced(),\n\t                                updatedAttributes = _.reduce(data.record, function (memo, val, key) {\n\t                                if (!_.isEqual(syncedAttributes[key], val)) {\n\t                                    memo[key] = val;\n\t                                }\n\t                                return memo;\n\t                            }, {});\n\t                            model.link.bean.set(updatedAttributes);\n\t                            //Once parent model is reset, reset internal synced attributes as well\n\t                            model.link.bean.setSyncedAttributes(data.record);\n\t                        }\n\t                        data = data.related_record;\n\t                        // Attributes will be set automatically for create/update but not for delete\n\t                        // Also, break the link\n\t                        if (method == \"delete\") {\n\t                            model.set(data);\n\t                            delete model.link;\n\t                        }\n\t                    }\n\t                }\n\t\n\t                model.dataFetched = true;\n\t                if (options.success) options.success(data);\n\t                // trigger global data:sync:success event\n\t                self.trigger(\"data:sync:success\", method, model, options, request);\n\t                model.inSync = null;\n\t            };\n\t        },\n\t\n\t        /**\n\t         * Returns the callback to the sync `error` event.\n\t         *\n\t         * Triggers the global `data:sync:complete` event (registered on\n\t         * {@link Core.Events app.events}), as well as on the `model`.\n\t         *\n\t         * Executes the abort callback if we are aborting from a previous\n\t         * collection fetch request.\n\t         *\n\t         * @param {string} method The CRUD method: ('create', 'read', 'update',\n\t         *   or 'delete').\n\t         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n\t         *   be synced/read.\n\t         * @param {Object} [options] Standard Backbone options as well as\n\t         *   Sugar-specific options.\n\t         * @param {Object} [options.error] Custom `error` callback\n\t         *   function to be executed.\n\t         * @return {Function} The wrapped `error` callback function.\n\t         */\n\t        getSyncErrorCallback: function getSyncErrorCallback(method, model, options) {\n\t            return _.bind(function (error) {\n\t                if (error.request && error.request.aborted) {\n\t                    var abortCallback = this.getSyncAbortCallback(method, model, options);\n\t                    return abortCallback(error.request);\n\t                }\n\t                app.error.handleHttpError(error, model, options);\n\t                this.trigger('data:sync:error', method, model, options, error);\n\t                /**\n\t                 * Fires on model when the sync operation ends unsuccessfully.\n\t                 *\n\t                 * Three parameters are passed to the callback:\n\t                 *\n\t                 *  - operation name (`method`)\n\t                 *  - options\n\t                 *  - error {@link SUGAR.Api.HttpError}\n\t                 *\n\t                 *     (function(app) {\n\t                 *         model.on('data:sync:error', function(method, options, error) {\n\t                 *             app.logger.debug('Operation failed:' + method + ' on ' + model);\n\t                 *         });\n\t                 *     })(SUGAR.App);\n\t                 *\n\t                 * @event\n\t                 */\n\t                model.trigger('data:sync:error', method, options, error);\n\t\n\t                if (_.isFunction(options.error)) {\n\t                    options.error(error);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Returns the callback to the `complete` event, which fires after\n\t         * either `success`, or `error`.\n\t         *\n\t         * Triggers the global `data:sync:complete` event (registered on\n\t         * {@link Core.Events app.events}), as well as on the `model`.\n\t         *\n\t         * @param {string} method The CRUD method: ('create', 'read', 'update',\n\t         *   or 'delete').\n\t         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n\t         *   be synced/read.\n\t         * @param {Object} [options] Standard Backbone options as well as\n\t         *   Sugar-specific options.\n\t         * @param {Object} [options.complete] Custom `complete` callback\n\t         *   function to be executed.\n\t         * @return {Function} The wrapped `complete` callback function.\n\t         */\n\t        getSyncCompleteCallback: function getSyncCompleteCallback(method, model, options) {\n\t            return _.bind(function (request) {\n\t                this.trigger('data:sync:complete', method, model, options, request);\n\t                /**\n\t                 * Fires on model when the sync operation ends.\n\t                 *\n\t                 * Three parameters are passed to the callback:\n\t                 *\n\t                 *  - operation name (`method`)\n\t                 *  - options\n\t                 *  - request {@link SUGAR.Api.HttpRequest}\n\t                 *\n\t                 *     (function(app) {\n\t                 *         model.on('data:sync:complete', function(method, options, request) {\n\t                 *             app.logger.debug('Finished operation ' + method + ' on ' + model);\n\t                 *         });\n\t                 *     })(SUGAR.App);\n\t                 *\n\t                 * @event\n\t                 */\n\t                model.trigger('data:sync:complete', method, options, request);\n\t\n\t                if (_.isFunction(options.complete)) {\n\t                    options.complete(request);\n\t                }\n\t\n\t                // Prevent memory leaking\n\t                options.previousModels = null;\n\t                options = {};\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Returns the callback to the `abort` event, which fires after\n\t         * either `success`, or `error`.\n\t         *\n\t         * Triggers the global `data:sync:abort` event (registered on\n\t         * {@link Core.Events app.events}), as well as on the `model`.\n\t         *\n\t         * @param {string} method The CRUD method: ('create', 'read', 'update',\n\t         *   or 'delete').\n\t         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n\t         *   be synced/read.\n\t         * @param {Object} [options] Standard Backbone options as well as\n\t         *   Sugar-specific options.\n\t         * @param {Object} [options.abort] Custom `abort` callback\n\t         *   function to be executed.\n\t         * @return {Function} The wrapped `abort` callback function.\n\t         */\n\t        getSyncAbortCallback: function getSyncAbortCallback(method, model, options) {\n\t            return _.bind(function (request) {\n\t                this._updateCollectionProperties(model, options);\n\t                this.trigger('data:sync:abort', method, model, options, request);\n\t                /**\n\t                 * Fires on model when the sync operation ends.\n\t                 *\n\t                 * Three parameters are passed to the callback:\n\t                 *\n\t                 *  - operation name (`method`)\n\t                 *  - options\n\t                 *  - request {@link SUGAR.Api.HttpRequest}\n\t                 *\n\t                 *     (function(app) {\n\t                 *         model.on('data:sync:abort', function(method, options, request) {\n\t                 *             app.logger.debug(\"Operation aborted \" + method + \" on \" + model);\n\t                 *         });\n\t                 *     })(SUGAR.App);\n\t                 *\n\t                 * @event\n\t                 */\n\t                model.trigger('data:sync:abort', method, options, request);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Updates various properties on the bean collection passed.\n\t         *\n\t         * @private\n\t         * @param {Data.BeanCollection} model The collection.\n\t         * @param {Object} [options] Standard Backbone options as well as\n\t         *   Sugar-specific options.\n\t         */\n\t        _updateCollectionProperties: function _updateCollectionProperties(model, options) {\n\t            options = options || {};\n\t\n\t            /**\n\t             * Flag indicating if a collection contains items assigned to the\n\t             * current user (read-only).\n\t             *\n\t             * @member Data.BeanCollection\n\t             * @property {boolean}\n\t             */\n\t            model.myItems = options.myItems;\n\t            /**\n\t             * Flag indicating if a collection contains current user's favorite\n\t             * items (read-only).\n\t             *\n\t             * @member Data.BeanCollection\n\t             * @property {boolean}\n\t             */\n\t            model.favorites = options.favorites;\n\t            /**\n\t             * Search query (read-only).\n\t             *\n\t             * @member Data.BeanCollection\n\t             * @property {string}\n\t             */\n\t            model.query = options.query;\n\t            /**\n\t             * List of modules searched (read-only).\n\t             *\n\t             * @member Data.MixedBeanCollection\n\t             * @property {string}\n\t             */\n\t            model.modelList = options.modelList;\n\t            /**\n\t             * Filter definition to filter the collection by.\n\t             *\n\t             * @member Data.BeanCollection\n\t             * @property {Array}\n\t             */\n\t            model.filterDef = options.filterDef;\n\t        }\n\t\n\t    }, Backbone.Events);\n\t\n\t    app.augment(\"data\", _dataManager, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 55 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Validation module.\n\t *\n\t * The validation module is used by {@link Data.Bean#validate} method.\n\t * Each bean field is validated by each of the validators specified in the {@link Data.Validation.validators} hash.\n\t *\n\t * The bean is also checked for required fields by {@link Data.Validation#requiredValidator} method.\n\t *\n\t * @class Data.Validation\n\t * @alias SUGAR.App.validation\n\t * @singleton\n\t */\n\t(function (app) {\n\t\n\t    // IMPORTANT: Validators must return nothing (undefined) if validation passes\n\t\n\t    app.augment(\"validation\", {\n\t\n\t        /**\n\t         * A hash of validators. Each validator function must return error definition or nothing otherwise.\n\t         * Error definition could be a primitive value such as max length or an array, e.g. range's lower and upper limits.\n\t         * Validator function accepts field metadata and the value to be validated.\n\t         *\n\t         * @class Data.Validation.validators\n\t         * @member Data.Validation\n\t         * @singleton\n\t         */\n\t        validators: function () {\n\t            // Helper that validates either min or max\n\t            var _minMaxValue = function _minMaxValue(field, value, type) {\n\t                var limit = _.isUndefined(field[type]) ? field.validation ? field.validation[type] : null : field[type];\n\t                if (_.contains(['int', 'float', 'decimal', 'currency'], field.type) && _.isFinite(limit)) {\n\t                    if (field.type == 'int') {\n\t                        value = parseInt(value);\n\t                    } else {\n\t                        value = parseFloat(value);\n\t                    }\n\t                    if (type == 'max') {\n\t                        if (value > limit) return limit;\n\t                    } else if (type == 'min') {\n\t                        if (value < limit) return limit;\n\t                    } else if (type == 'greaterthan') {\n\t                        if (value <= limit) return limit;\n\t                    } else if (type == 'lessthan') {\n\t                        if (value >= limit) return limit;\n\t                    }\n\t                }\n\t            };\n\t\n\t            // Helper that validates the given date is before/after the date of another field\n\t            var _isBeforeAfter = function _isBeforeAfter(field, value, type, model) {\n\t                if (_.indexOf(['date', 'datetimecombo'], field.type) !== -1 && field.validation && field.validation.type === type) {\n\t                    var compareTo = model.fields[field.validation.compareto];\n\t                    if (!_.isUndefined(compareTo) && _.indexOf(['date', 'datetimecombo'], compareTo.type) != -1) {\n\t                        var compareToValue = Date.parse(model.get(compareTo.name));\n\t                        value = Date.parse(value.toString());\n\t                        if (!_.isNaN(compareToValue) && !_.isNaN(value)) {\n\t                            var compareToLabel = app.lang.get(compareTo.label || compareTo.vname || compareTo.name, model.module);\n\t                            if (type == \"isbefore\") {\n\t                                return compareToValue < value ? compareToLabel : undefined;\n\t                            }\n\t                            if (type == \"isafter\") {\n\t                                return compareToValue > value ? compareToLabel : undefined;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            };\n\t\n\t            return {\n\t\n\t                /**\n\t                 * Validates the max length of a given value.\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String|Number} value bean field value\n\t                 * @return {Number} max length or nothing if the field is valid.\n\t                 * @method\n\t                 */\n\t                maxLength: function maxLength(field, value) {\n\t                    if (_.isNumber(value)) {\n\t                        value = value.toString();\n\t                    }\n\t                    if (_.isNumber(field.len) && _.isString(value)) {\n\t                        var maxLength = field.len;\n\t                        value = value || \"\";\n\t                        value = value.toString();\n\t                        if (value.length > maxLength) {\n\t                            return maxLength;\n\t                        }\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Validates the min length of a given value.\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} value bean field value\n\t                 * @return {Number} min length or nothing if the field is valid.\n\t                 * @method\n\t                 */\n\t                minLength: function minLength(field, value) {\n\t                    if (_.isNumber(field.minlen)) {\n\t                        // TODO: Not sure what the proper property is if there is one\n\t                        var minLength = field.minlen;\n\t                        value = value || \"\";\n\t                        value = value.toString();\n\t\n\t                        if (value.length < minLength) {\n\t                            return minLength;\n\t                        }\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Validates that a given value is a valid URL.\n\t                 * NOTE: Should be noted we can't do full validation of urls w/ javascript as that is impossible.\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} value bean field value\n\t                 * @return {Boolean} `true` if the field is not valid\n\t                 */\n\t                url: function url(field, value) {\n\t                    // TODO: we should probably remove the requirement for http/https prefix\n\t                    //                if ((field.type == \"url\") && (!(/^(https?|http):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/.test(value)))) {\n\t                    //                    return true;\n\t                    //                }\n\t                },\n\t\n\t                /**\n\t                 * Validates that a given value is a valid email address.\n\t                 *\n\t                 * NOTE: Should be noted that we can't do full email validation w/ javascript.\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} emails bean field value which is an array of email objects\n\t                 * @return {Array} Array of invalid email addresses.\n\t                 */\n\t                email: function email(field, emails) {\n\t                    var results;\n\t                    if (field.type == 'email' || field.type === 'email-text') {\n\t                        if (emails.length > 0) {\n\t                            _.each(emails, function (email) {\n\t                                // if email is blank but not required, let it go\n\t                                if (email.email_address === '' && (_.isUndefined(field.required) || !field.required)) {\n\t                                    return;\n\t                                }\n\t                                if (!app.utils.isValidEmailAddress(email.email_address)) {\n\t                                    if (!results) results = [];\n\t                                    results.push(email.email_address);\n\t                                }\n\t                            });\n\t                        }\n\t                        if (results && results.length > 0) {\n\t                            return results;\n\t                        }\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Validates that a given email array has at least one email set as the primary email.\n\t                 *\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} emails bean field value which is an array of email objects\n\t                 * @return {Array} Array of invalid email addresses.\n\t                 */\n\t                primaryEmail: function primaryEmail(field, emails) {\n\t                    if (field.type == \"email\") {\n\t                        if (emails.length > 0 && !_.find(emails, function (email) {\n\t                            return email.primary_address == \"1\";\n\t                        })) {\n\t                            return true;\n\t                        }\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Validates that a given email array has no duplicate email addresses.\n\t                 *\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} emails bean field value which is an array of email objects\n\t                 * @return {Array} Array of invalid email addresses.\n\t                 */\n\t                duplicateEmail: function duplicateEmail(field, emails) {\n\t                    if (field.type == \"email\") {\n\t                        var values = _.pluck(emails, \"email_address\"),\n\t                            duplicates = [],\n\t                            n = values.length,\n\t                            i,\n\t                            j;\n\t                        // to ensure the fewest possible comparisons\n\t                        for (i = 0; i < n; i++) {\n\t                            // outer loop uses each item i at 0 through n\n\t                            for (j = i + 1; j < n; j++) {\n\t                                // inner loop only compares items j at i+1 to n\n\t                                if (values[i] == values[j]) duplicates.push(values[i]);\n\t                            }\n\t                        }\n\t                        if (duplicates && duplicates.length > 0) {\n\t                            return duplicates;\n\t                        }\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Validates that a given value is a real date or datetime\n\t                 *\n\t                 * @param {Object} field metadata\n\t                 * @param {String} Date or Datetime value as String\n\t                 * @return {String} The invalid date / datetime\n\t                 */\n\t                datetime: function datetime(field, value) {\n\t                    var val, invalidNumberOfDigits, format, sep, formatParts, parts, i, len;\n\t\n\t                    function inRange(val, min, max) {\n\t                        var value = parseInt(val, 10);\n\t                        return !isNaN(value) && value >= min && value <= max;\n\t                    }\n\t\n\t                    if (field.type === \"date\" || field.type === \"datetimecombo\") {\n\t                        // First check will short circuit (falsy) if the value is a valid server ISO date string.\n\t                        // For datepicker values, however, we need the second check since Safari chokes on '.', '-'\n\t                        if (_.isNaN(Date.parse(value)) && _.isNaN(Date.parse(value.replace(/[\\.\\-]/g, '/')))) {\n\t                            return value;\n\t                        } else {\n\t\n\t                            // Check for valid date parts for non ISO dates as IE and FF both successfully parse \n\t                            // 2014/13/22 simply wrapping extra months around to following year (so previous example\n\t                            // becomes 2015/01/22).\n\t                            if (!app.date.isIso(value)) {\n\t                                // The first set of Date.parse conditionals will negate three digit days or months\n\t                                // but 3 digit years are valid for JavaScript dates so they'll slip through. The reason \n\t                                // we explicitly invalidate 3 digit years is datepicker auto corrects 1 and 2 digit years\n\t                                // in yyyy but cannot do anything sensible with 3 digit years. Moreover, it was decided \n\t                                // that it's much more likely a 3 digit years is a user entry error; they don't really\n\t                                // intend to enter a date year (e.g. 100-999 A.D.). Also any part > 4 digits is considered\n\t                                // invalid as well since we only support:\n\t                                // 2010-12-23, Y-m-d\n\t                                // 12-23-2010, m-d-Y\n\t                                // 23-12-2010, d-m-Y\n\t                                // 2010/12/23, Y/m/d\n\t                                // 12/23/2010, m/d/Y\n\t                                // 23/12/2010, d/m/Y\n\t                                // 2010.12.23, Y.m.d\n\t                                // 23.12.2010, d.m.Y\n\t                                // 12.23.2010, m.d.Y\n\t                                parts = value.replace(/[\\.\\-]/g, '/').split('/');\n\t                                invalidNumberOfDigits = _.filter(parts, function (part) {\n\t                                    return part.length === 3 || part.length > 4;\n\t                                });\n\t\n\t                                if (invalidNumberOfDigits.length) {\n\t                                    return value;\n\t                                }\n\t\n\t                                // Invalidate consecutive separators e.g. 12--23--2013\n\t                                if (/([\\.\\/\\-])\\1/.test(value) === true) {\n\t                                    return value;\n\t                                }\n\t\n\t                                // Lastly, validate month and day ranges\n\t                                format = app.user.getPreference('datepref');\n\t                                sep = format.match(/[.\\/\\-\\s].*?/);\n\t                                formatParts = format.split(sep);\n\t                                for (i = 0, len = formatParts.length; i < len; i++) {\n\t                                    val = parts[i];\n\t                                    switch (formatParts[i].toLowerCase().charAt(0)) {\n\t                                        case 'm':\n\t                                            if (!inRange(val, 1, 12)) {\n\t                                                return value;\n\t                                            }\n\t                                            break;\n\t                                        case 'd':\n\t                                            if (!inRange(val, 1, 31)) {\n\t                                                return value;\n\t                                            }\n\t                                            break;\n\t                                    }\n\t                                }\n\t                            } else {\n\t                                // The datepicker plugin will leave 3 digit years and this validation is supposed to\n\t                                // invalidate; but to iso date will turn that to something like: 0201-01-31T08:00:00.000Z\n\t                                // We have to reject 100-999 to be consistent with the rest of our date year validation.\n\t                                if (value.charAt(0) === '0') return value;\n\t                            }\n\t                        }\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Validates min integer values\n\t                 *\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} value field value which is a number\n\t                 * @return {Array} value of actual min\n\t                 */\n\t                minValue: function minValue(field, value) {\n\t                    return _minMaxValue(field, value, \"min\");\n\t                },\n\t\n\t                /**\n\t                 * Validates max integer values\n\t                 *\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} value field value which is a number\n\t                 * @return {Array} value of actual max\n\t                 */\n\t                maxValue: function maxValue(field, value) {\n\t                    return _minMaxValue(field, value, \"max\");\n\t                },\n\t\n\t                /**\n\t                 * Validates a value to make sure it's larger than a given value\n\t                 *\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} value field value which is a number\n\t                 * @param {String|Undefined} String is returned when validation fails, and it's what number the value\n\t                 *                           needs to be greater than\n\t                 */\n\t                greaterThan: function greaterThan(field, value) {\n\t                    return _minMaxValue(field, value, 'greaterthan');\n\t                },\n\t\n\t                /**\n\t                 * Validates a value to make sure it's less than a given value\n\t                 *\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} value field value which is a number\n\t                 * @param {String|Undefined} String is returned when validation fails, and it's what number the value\n\t                 *                           needs to be less than\n\t                 */\n\t                lessThan: function lessThan(field, value) {\n\t                    return _minMaxValue(field, value, 'lessthan');\n\t                },\n\t\n\t                /**\n\t                 * Validates numeric values\n\t                 *\n\t                 * @param {String} field bean field metadata\n\t                 * @param {String} value field value which is an integer\n\t                 * @return {Boolean} true if value is invalid, undefined otherwise\n\t                 */\n\t                number: function number(field, value) {\n\t                    if (_.indexOf(['int', 'float', 'decimal', 'currency'], field.type) != -1) {\n\t                        return _.isBoolean(value) || _.isString(value) && !value.trim().length || isNaN(parseFloat(value)) || !_.isFinite(value) ? true : undefined;\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Validates that the given date is before the date of another field\n\t                 *\n\t                 * @param {Object} field metadata\n\t                 * @param {String} value field value which is an integer\n\t                 * @param {Object} model model\n\t                 * @return {String} compare field label if is invalid, undefined otherwise\n\t                 */\n\t                isBefore: function isBefore(field, value, model) {\n\t                    return _isBeforeAfter(field, value, 'isbefore', model);\n\t                },\n\t\n\t                /**\n\t                 * Validates that the given date is after the date of another field\n\t                 *\n\t                 * @param {Object} field metadata\n\t                 * @param {String} value field value which is an integer\n\t                 * @param {Object} model model\n\t                 * @return {String} compare field label if is invalid, undefined otherwise\n\t                 */\n\t                isAfter: function isAfter(field, value, model) {\n\t                    return _isBeforeAfter(field, value, 'isafter', model);\n\t                }\n\t            };\n\t        }(),\n\t\n\t        /**\n\t         * Validates if the required field is set on a bean or about to be set.\n\t         *\n\t         * @member Data.Validation\n\t         * @param field field metadata\n\t         * @param {String} fieldName bean field name\n\t         * @param {Data.Bean} model bean instance\n\t         * @param {String} value value to be set\n\t         * @return {Boolean} `true` if the validation fails, `undefined` otherwise\n\t         * @method\n\t         */\n\t        requiredValidator: function requiredValidator(field, fieldName, model, value) {\n\t            // Image type fields have their own requiredValidator\n\t            if (field.required === true && fieldName !== 'id' && field.type !== 'image' && _.isUndefined(field.auto_increment)) {\n\t                var currentValue = model.get(fieldName);\n\t                var currentUndefined = _.isUndefined(currentValue);\n\t                var valueEmpty = _.isNull(value) || value === '' || value === false || _.isArray(value) && this._isArrayEmpty(value) || value instanceof Backbone.Collection && !value.length;\n\t                if (currentUndefined && _.isUndefined(value) || valueEmpty) {\n\t                    return true;\n\t                }\n\t            }\n\t        },\n\t\n\t        /**\n\t          * Check if the given array contains only empty values.\n\t          * \n\t          * @member Data.Validation\n\t          * @param {Array} value array to be check.\n\t          * @return {boolean} `true` if all array elements are empty, `false` otherwise.\n\t          */\n\t        _isArrayEmpty: function _isArrayEmpty(value) {\n\t            return _.every(value, _.isEmpty);\n\t        }\n\t\n\t    }, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Handlebars helpers.\n\t *\n\t * These functions are to be used in handlebars templates.\n\t *\n\t * @class View.Handlebars.helpers\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * Creates a field widget.\n\t     *\n\t     * Example:\n\t     * <pre><code>\n\t     * {{field view model=mymodel template=edit parent=fieldset}}\n\t     * </code></pre>\n\t     *\n\t     * @method field\n\t     * @param {View.View} view Parent view\n\t     * @param {Object} [options] Optional params to pass to the field.\n\t     * @param {Backbone.Model} [options.model] The model associated with the field.\n\t     * @param {string} [options.template] The name of the template to be used.\n\t     * @param {Field} [options.parent] The parent field of this field.\n\t     * @return {Object} HTML placeholder for the widget as handlebars safe string.\n\t     */\n\t    Handlebars.registerHelper('field', function (view, options) {\n\t        var field = app.view.createField({\n\t            def: this,\n\t            viewDefs: this,\n\t            view: view,\n\t            model: options.hash.model,\n\t            viewName: options.hash.template\n\t        });\n\t\n\t        if (options.hash.parent && _.isArray(options.hash.parent.fields)) {\n\t            options.hash.parent.fields.push(field);\n\t        }\n\t\n\t        return field.getPlaceholder();\n\t    });\n\t\n\t    /**\n\t     * Creates a field widget.\n\t     *\n\t     * This helper is used for fields that don't have view definition.\n\t     *\n\t     * @method fieldOfType\n\t     * @param {String} type Field type\n\t     * @param {String} label Label key\n\t     * @return {Object} HTML placeholder for the widget as handlebars safe string.\n\t     */\n\t    Handlebars.registerHelper('fieldOfType', function (type, label) {\n\t        var def = {\n\t            type: type,\n\t            name: type,\n\t            label: label\n\t        };\n\t\n\t        var field = app.view.createField({\n\t            def: def,\n\t            view: this\n\t        });\n\t\n\t        return field.getPlaceholder();\n\t    });\n\t\n\t    /**\n\t     * Create a layout or a view in a given layout.\n\t     * @method component\n\t     * @param {View.Layout} layout Layout that the new layout should be created in\n\t     * @param {string} name Name of the component to be created\n\t     */\n\t    Handlebars.registerHelper('component', function (layout, name) {\n\t        var viewDef,\n\t            newComponent,\n\t            placeholder = '';\n\t\n\t        viewDef = _.find(layout.meta.components, function (defs) {\n\t            var componentName, componentDef;\n\t\n\t            componentDef = defs.layout || defs.view;\n\t\n\t            if (_.isString(componentDef)) {\n\t                componentName = componentDef;\n\t            } else {\n\t                componentName = componentDef.name || componentDef.type;\n\t            }\n\t\n\t            return componentName === name;\n\t        });\n\t\n\t        if (_.isObject(viewDef) && !_.isEmpty(viewDef)) {\n\t            newComponent = layout.initComponents([viewDef])[0];\n\t            viewDef.initializedInTemplate = true;\n\t            placeholder = newComponent.getPlaceholder();\n\t        }\n\t\n\t        return placeholder;\n\t    });\n\t\n\t    /**\n\t     * Iterates through options specified by a key.\n\t     *\n\t     * The options collection is retrieved from the language helper.\n\t     * @method eachOptions\n\t     * @param {String} key Options key.\n\t     * @param {Function} hbsOptions HBS options.\n\t     * @return {String} HTML string.\n\t     */\n\t    Handlebars.registerHelper('eachOptions', function (key, hbsOptions) {\n\t        var options,\n\t            ret = \"\",\n\t            iterator;\n\t\n\t        // Retrieve app list strings\n\t        options = _.isString(key) ? app.lang.getAppListStrings(key) : key;\n\t\n\t        if (_.isArray(options)) {\n\t            iterator = function iterator(element, index) {\n\t                ret = ret + hbsOptions.fn({ key: index, value: element });\n\t            };\n\t        } else if (_.isObject(options)) {\n\t            // Is object evaluates arrays to true, so put it second\n\t            iterator = function iterator(value, key) {\n\t                ret = ret + hbsOptions.fn({ key: key, value: value });\n\t            };\n\t        } else {\n\t            options = null;\n\t        }\n\t\n\t        // Don't iterate if options is not iteratable\n\t        if (options) _.each(options, iterator, this);\n\t\n\t        return ret;\n\t    });\n\t\n\t    /**\n\t     * @method buildRoute\n\t     * Builds a route based on hashes sent on handlebars helper.\n\t     *\n\t     * Example:\n\t     * <pre><code>\n\t     * {{buildRoute context=this.context}}\n\t     * {{buildRoute model=myModel action=\"create\"}}\n\t     * {{buildRoute module=\"Employees\" action=\"edit\"}}\n\t     * </code></pre>\n\t     *\n\t     * If both `module` and `model` are sent, `module` will take precedence\n\t     * over `model.module`.\n\t     * Same applies for `id` (`id` will take precedence over `model.id`).\n\t     *\n\t     * @param {Object} options Handlebars options hash.\n\t     * @param {Object} options.hash More parameters to be used by this helper.\n\t     *   It needs at least one of `options.hash.module`, `options.hash.model`\n\t     *   or `options.hash.context`.\n\t     * @param {String} [options.hash.module=options.hash.model.module]\n\t     *   The name of the module.\n\t     * @param {Data.Bean} [options.hash.model=options.hash.context.get('model')]\n\t     *   The model to extract the module and/or id.\n\t     * @param {Core.Context} [options.hash.context]\n\t     *   A context to extract the module from.\n\t     * @param {String} [options.hash.id=options.hash.model.id]\n\t     *   The id of the bean record.\n\t     * @param {String} [options.hash.action]\n\t     *   The action name.\n\t     * @return {String}\n\t     *   The built route.\n\t     */\n\t    Handlebars.registerHelper('buildRoute', function (options) {\n\t        var ctx = options.hash.context,\n\t            model = options.hash.model || (ctx && ctx.get('model') ? ctx.get('model') : {}),\n\t            module = options.hash.module || model.module || (ctx && ctx.get('module') ? ctx.get('module') : null),\n\t            id = options.hash.id || model.id,\n\t            action = options.hash.action;\n\t\n\t        return app.router.buildRoute(module, id, action);\n\t    });\n\t\n\t    /**\n\t     * @method fieldValue\n\t     *\n\t     * Extracts bean field value.\n\t     *\n\t     * @param {Data.Bean} bean Bean instance.\n\t     * @param {String} field Field name.\n\t     * @param {String} [defaultValue=''] Default value to return if field\n\t     *   is not set on a bean.\n\t     *\n\t     * @return {String} Field value of the given bean. If field is not set the\n\t     *   default value or empty string.\n\t     */\n\t    Handlebars.registerHelper('fieldValue', function (bean, field, options) {\n\t        return bean.get(field) || options.hash.defaultValue || '';\n\t    });\n\t\n\t    /**\n\t     * Executes a given block if a given array has a value.\n\t     * @method has\n\t     * @param {string|Object} val value\n\t     * @param {Object|Array} array or hash object\n\t     * @return {string} Result of the `block` execution if the `array` contains `val` or the result of the inverse block.\n\t     */\n\t    Handlebars.registerHelper('has', function (val, array, options) {\n\t        // Since we need to check both just val = val 2 and also if val is in an array, we cast\n\t        // non arrays into arrays\n\t        if (!_.isArray(array) && !_.isObject(array)) {\n\t            array = [array];\n\t        }\n\t\n\t        return _.include(array, val) ? options.fn(this) : options.inverse(this);\n\t    });\n\t\n\t    /**\n\t     * Executes a given block if a given array doesn't have a value.\n\t     * @method notHas\n\t     * @param {string|Object} val value\n\t     * @param {Object|Array} array or hash object\n\t     * @return {string} Result of the `block` execution if the `array` doesn't contain `val` or the result of the inverse block.\n\t     */\n\t    Handlebars.registerHelper('notHas', function (val, array, options) {\n\t        var fn = options.fn,\n\t            inverse = options.inverse;\n\t        options.fn = inverse;\n\t        options.inverse = fn;\n\t\n\t        return Handlebars.helpers.has.call(this, val, array, options);\n\t    });\n\t\n\t    /**\n\t     * We require sortable to be the default if not defined in either field viewdef or vardefs. Otherwise,\n\t     * we use whatever is provided in either field vardefs or field's viewdefs where the view def has more\n\t     * specificity.\n\t     * @method has\n\t     * @param {String} module name\n\t     * @param {Object} the field view defintion (e.g. looping through meta.panels.field it will be 'this')\n\t     * @return {String} Result of the `block` execution if sortable, otherwise empty string.\n\t     */\n\t    Handlebars.registerHelper('isSortable', function (module, fieldViewdef, options) {\n\t        if (app.utils.isSortable(module, fieldViewdef)) {\n\t            return options.fn(this);\n\t        } else {\n\t            return '';\n\t        }\n\t    });\n\t\n\t    /**\n\t     * Executes a given block if a given values are equal.\n\t     * @method eq\n\t     * @param {String} val1 first value to compare\n\t     * @param {String} val2 second value to compare.\n\t     * @return {String} Result of the `block` execution if the given values are equal or the result of the inverse block.\n\t     */\n\t    Handlebars.registerHelper('eq', function (val1, val2, options) {\n\t        return val1 == val2 ? options.fn(this) : options.inverse(this);\n\t    });\n\t\n\t    /**\n\t     * Opposite of `eq` helper.\n\t     * @method notEq\n\t     * @param {String} val1 first value to compare\n\t     * @param {String} val2 second value to compare.\n\t     * @return {String} Result of the `block` execution if the given values are not equal or the result of the inverse block.\n\t     */\n\t    Handlebars.registerHelper('notEq', function (val1, val2, options) {\n\t        return val1 != val2 ? options.fn(this) : options.inverse(this);\n\t    });\n\t\n\t    /**\n\t     * Same as eq helper but second value is a {String} regex expression. Unfortunately, we have to do this because the\n\t     * Handlebar's parser gets confused by regex literals like /foo/\n\t     * @method match\n\t     * @param {String} val1 first value to compare\n\t     * @param {String} val2 A String representing a RegExp constructor argument. So if RegExp('foo.*') is the desired regex,\n\t     * val2 would contain \"foo.*\". No support for modifiers.\n\t     * @return {String} Result of the `block` execution if the given values are equal or the result of the inverse block.\n\t     */\n\t    Handlebars.registerHelper('match', function (val1, val2, options) {\n\t        var re = new RegExp(val2);\n\t        if (re.test(val1)) {\n\t            return options.fn(this);\n\t        } else {\n\t            return options.inverse(this);\n\t        }\n\t    });\n\t\n\t    /**\n\t     * Same as notEq helper but second value is a {String} regex expression.\n\t     * @method notMatch\n\t     * @param {String} val1 first value to compare\n\t     * @param {String} val2 A String representing a RegExp constructor argument. So if RegExp('foo.*') is the desired regex,\n\t     * val2 would contain \"foo.*\". No support for modifiers.\n\t     * @return {String} Result of the `block` execution if the given values are not equal or the result of the inverse block.\n\t     */\n\t    Handlebars.registerHelper('notMatch', function (val1, val2, options) {\n\t        var re = new RegExp(val2);\n\t        if (!re.test(val1)) {\n\t            return options.fn(this);\n\t        } else {\n\t            return options.inverse(this);\n\t        }\n\t    });\n\t\n\t    /**\n\t     * Logs a value.\n\t     * @method log\n\t     * @param value\n\t     */\n\t    Handlebars.registerHelper(\"log\", function (value) {\n\t        app.logger.debug(\"*****HBS: Current Context*****\");\n\t        app.logger.debug(this);\n\t        app.logger.debug(\"*****HBS: Current Value*****\");\n\t        app.logger.debug(value);\n\t        console.log(value);\n\t        app.logger.debug(\"***********************\");\n\t    });\n\t\n\t    /**\n\t     * Retrives a string by key.\n\t     *\n\t     * The helper queries {@link Core.Language} module to retrieve an i18n-ed string.\n\t     * @method str\n\t     * @param {String} key Key of the label.\n\t     * @param {String} module(optional) Module name.\n\t     * @param {String} content(optional) Template content.\n\t     * @return {String} The string for the given label key.\n\t     */\n\t    Handlebars.registerHelper(\"str\", function (key, module, content) {\n\t        module = _.isString(module) ? module : null;\n\t        return app.lang.get(key, module, content);\n\t    });\n\t\n\t    /**\n\t     * Creates a relative time element to display the human readable related\n\t     * time.\n\t     *\n\t     * To provide an automatic update of this relative time, use a plugin like\n\t     * {@link sugar.liverelativetime.js}.\n\t     *\n\t     * @method relativeTime\n\t     * @param {String} iso8601 The ISO-8601 date string to be used for a new\n\t     *   date.\n\t     * @param {Object} [options] Handlebars options hash.\n\t     * @param {Object} [options.hash] More parameters to be used by this helper.\n\t     * @param {String} [options.hash.title] The title attribute. Defaults to\n\t     *   current user date/time preference format.\n\t     * @param {boolean} [options.hash.dateOnly] Setting this to `true` will\n\t     *   format the `title` attribute with the user-formatted date only.\n\t     * @return {string} The relative time like `10 minutes ago`.\n\t     */\n\t    Handlebars.registerHelper('relativeTime', function (iso8601, options) {\n\t\n\t        var date = app.date(iso8601),\n\t            attrs,\n\t            html;\n\t\n\t        options.hash.title = options.hash.title || date.formatUser(options.hash.dateOnly);\n\t\n\t        attrs = _.map(options.hash, function (attr, key) {\n\t            return key + '=\"' + Handlebars.Utils.escapeExpression(attr) + '\"';\n\t        }).join(' ');\n\t\n\t        // TODO we need to support dateOnly on formatNow().\n\t        html = '<time datetime=\"' + date.format() + '\" ' + attrs + '>' + date.fromNow() + '</time>';\n\t\n\t        return new Handlebars.SafeString(html);\n\t    });\n\t\n\t    /**\n\t     * Joins an arrays elements by a glue string\n\t     * @method field\n\t     * @param {Array} array Array of strings\n\t     * @param {String} glue string glue\n\t     * @return {String} String\n\t     */\n\t    Handlebars.registerHelper('arrayJoin', function (array, glue) {\n\t        return array.join(glue);\n\t    });\n\t\n\t    /**\n\t     * Converts `\\r\\n`, `\\n\\r`, `\\r`, `\\n` to `<br>`.\n\t     * @method nl2br\n\t     * @param {String} s Raw string to filter\n\t     * @return {String} String\n\t     */\n\t    Handlebars.registerHelper('nl2br', function (s) {\n\t        s = Handlebars.Utils.escapeExpression(s);\n\t        var nl2br = s.replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1' + '<br>');\n\t        return new Handlebars.SafeString(nl2br);\n\t    });\n\t\n\t    /**\n\t     * Formats given currency to users preferences\n\t     * @method formatCurrency\n\t     * @param {Number} number      The number to format.\n\t     * @param {String|Object} currencyId  The currency id.\n\t     * @return {String} The formatted number.\n\t     */\n\t    Handlebars.registerHelper('formatCurrency', function (number, currencyId) {\n\t        if (_.isObject(currencyId)) {\n\t            currencyId = currencyId.hash.currencyId || undefined;\n\t        }\n\t        return app.currency.formatAmountLocale(number, currencyId);\n\t    });\n\t\n\t    /**\n\t     * Formats a given string by returning the first n characters.\n\t      */\n\t    Handlebars.registerHelper('firstChars', function (text, n) {\n\t        return text.substring(0, n);\n\t    });\n\t\n\t    /**\n\t     * Formats given date to users preferences\n\t     * @method formatDate\n\t     * @param {Date|string} date The date to format.\n\t     * @param {Object} [options] More attributes to be used on this element for\n\t     *   reuse.\n\t     * @param {Object} [options.hash] More parameters to be used by this helper.\n\t     * @param {boolean} [options.hash.dateOnly] Flag to determine whether to\n\t     *   return just date current user date/time preference format.\n\t     * @return {string} The formatted date.\n\t     */\n\t    Handlebars.registerHelper('formatDate', function (date, options) {\n\t        date = app.date(date);\n\t        return date.formatUser(options.hash.dateOnly);\n\t    });\n\t\n\t    /**\n\t     * Gets the translated module name (plural or singular).\n\t     *\n\t     * For instance, to get the singular version of the module name (make sure\n\t     * `LBL_MODULE_NAME_SINGULAR` is defined in the module language strings of\n\t     * your module):\n\t     *\n\t     *     {{getModuleName 'Accounts'}}\n\t     *\n\t     * To get the plural version, set `plural` to true and make sure\n\t     * `LBL_MODULE_NAME` is defined in the module language strings of your\n\t     * module:\n\t     *\n\t     *     {{getModuleName 'Accounts' plural=true}}\n\t     *\n\t     * You can pass a default value that will be returned in case the module\n\t     * language string of your module is not found. The following example will\n\t     * return 'Module' (since `LBL_MODULE` is defined in the module strings or\n\t     * the app strings):\n\t     *\n\t     *     {{getModuleName 'undefinedModule' defaultValue='LBL_MODULE'}}\n\t     *\n\t     * In the worst case scenario (the module language string is not found and\n\t     * no default value is specified), the module key name is returned. The\n\t     * following example will return 'undefinedModule':\n\t     *\n\t     *     {{getModuleName 'undefinedModule'}}\n\t     *\n\t     * @param {string} module The module defined in the language strings.\n\t     * @param {Object} [options] Optional params to pass to the helper.\n\t     * @param {Object} [options.hash] More parameters to be used by this helper.\n\t     * @param {boolean} [options.hash.plural] Returns the plural form if `true`,\n\t     *   singular otherwise.\n\t     * @param {string} [options.hash.defaultValue] Value to be returned if the\n\t     *   module language string is not found.\n\t     * @return {string} The module name.\n\t     */\n\t    Handlebars.registerHelper('getModuleName', function (module, options) {\n\t        var opts = {\n\t            plural: options.hash.plural,\n\t            defaultValue: options.hash.defaultValue\n\t        };\n\t        return app.lang.getModuleName(module, opts);\n\t    });\n\t\n\t    /**\n\t     * @method partial\n\t     * Helper for rendering a partial template. This helper can load a partial from the templateOptions\n\t     * or from the same relative location as the current template.\n\t     *\n\t     *     {{partial 'partial-name' componentFrom defaultProperties dynamicProperty=value}}\n\t     *\n\t     * The data supplied to the partial with be an object with the list of\n\t     * `dynamicProperty`s merged into `defaultProperties` object (defaults to\n\t     * empty object if not explicitly passed).\n\t     *\n\t     *\n\t     * For fields\n\t     *\n\t     *     {{partial 'edit' this properties fallbackTemplate='detail'}}\n\t     *\n\t     * For layouts\n\t     *\n\t     *     {{partial 'ActivityStream' this properties}}\n\t     *\n\t     * For views\n\t     *\n\t     *     {{partial 'record' this properties}}\n\t     *\n\t     * @param {string} name Name of the partial.\n\t     * @param {view.View|view.Field|view.Layout} component The view component.\n\t     * @param {Object} [properties] Data supplied to the partial. `options.hash`\n\t     *   is merged into this before it is used for the template. This allows the\n\t     *   partial to provide dynamic parameters on top of the default properties.\n\t     *   The original component is kept as `templateComponent` in these\n\t     *   properties.\n\t     * @param {Object} [options] Optional params.\n\t     * @param {Object} [options.hash] The hash of the optional params.\n\t     * @param {Object} [options.hash.module=component.module] Module to use.\n\t     * @param {Object} [options.hash.fallbackTemplate] Fallback template for\n\t     *   field partials.\n\t     * @return {string} The handlebars safestring for the partial template.\n\t     */\n\t    Handlebars.registerHelper('partial', function (name, component, properties, options) {\n\t        var module, template, data;\n\t\n\t        // `properties` is optional, so `options` is `properties` is no `properties` is passed.\n\t        if (!options && properties.hash) {\n\t            options = properties;\n\t            properties = {};\n\t        }\n\t\n\t        // Data supplied to the partial\n\t        data = _.extend({ templateComponent: component }, properties, options.hash);\n\t\n\t        module = options.hash.module || component.module;\n\t        if (component && component.options.templateOptions && component.options.templateOptions.partials) {\n\t            template = component.options.templateOptions.partials[name];\n\t        }\n\t        // TODO: need to do recursive walk up the tree if template is not found, until we find it. see _super in component.js for an example\n\t        else if (component instanceof app.view.Field) {\n\t                var fallbackTemplate = options.hash.fallbackTemplate;\n\t                template = app.template.getField(component.type, // field type\n\t                name || 'detail', // template name\n\t                module, fallbackTemplate);\n\t            } else if (component instanceof app.view.View) {\n\t                var templateName = component.tplName;\n\t\n\t                //FIXME SC-3363 use the real inheritance chain when loading partial templates\n\t                //Try the current component first in case the template was overriden.\n\t                template = app.template.getView(component.name + '.' + name, module) || app.template.getView(component.name + '.' + name);\n\t\n\t                if (!template && templateName) {\n\t                    template = app.template.getView(templateName + '.' + name, module) || app.template.getView(templateName + '.' + name);\n\t                }\n\t            } else if (component instanceof app.view.Layout) {\n\t                template = app.template.getLayout(component.name + '.' + name, module) || app.template.getLayout(component.name + '.' + name);\n\t            }\n\t        return new Handlebars.SafeString(template ? template(data) : '');\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 57 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * View manager is used to create views, layouts, and fields based on optional\n\t * metadata inputs.\n\t *\n\t * The view manager's factory methods (`createView`, `createLayout`, and\n\t * `createField`) first check `views`, `layouts`, and `fields` hashes\n\t * respectively for custom class declaration before falling back the base class.\n\t *\n\t * Note the following is deprecated in favor of putting these controllers in the\n\t * `sugarcrm/clients/<platform>` directory, or using one of the appropriate\n\t * factory methods like `createView`, `createField`, or `createLayout`. Using\n\t * either of these idioms, your components will be internally namespaced by\n\t * platform for you. If you do choose to use the following idiom of defining\n\t * your controller directly on `app.view.<type>`, please be forewarned that you\n\t * will lose any automatic namespacing benefits and possibly encounter naming\n\t * collisions if your controller names are not unique. If you must define\n\t * directly, you may choose to prefix your controller name by your application\n\t * or platform e.g. `MyappMyCustom<Type>` where 'Myapp' is the platform prefix.\n\t *\n\t * Put declarations of your custom views, layouts, fields in the corresponding\n\t * hash (see note above; this is deprecated):\n\t * <pre><code>\n\t * app.view.views.MyappMyCustomView = app.view.View.extend({\n\t *  // Put your custom logic here\n\t * });\n\t *\n\t * app.view.layouts.MyappMyCustomLayout = app.view.Layout.extend({\n\t *  // Put your custom logic here\n\t * });\n\t *\n\t * app.view.fields.MyappMyCustomField = app.view.Field.extend({\n\t *  // Put your custom logic here\n\t * });\n\t *\n\t * </code></pre>\n\t *\n\t *\n\t * @class View.ViewManager\n\t * @alias SUGAR.App.view\n\t * @singleton\n\t */\n\t(function (app) {\n\t\n\t    // Ever incrementing field ID\n\t    var _sfId = 0;\n\t\n\t    var _viewManager = {\n\t\n\t        /**\n\t         * Resets class declarations of custom components.\n\t         */\n\t        reset: function reset() {\n\t            _.each(this.layouts, function (layout, name) {\n\t                delete this.layouts[name];\n\t            }, this);\n\t            _.each(this.views, function (view, name) {\n\t                delete this.views[name];\n\t            }, this);\n\t            _.each(this.fields, function (field, name) {\n\t                delete this.fields[name];\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets ID of the last created field.\n\t         * @return {number} ID of the last created field.\n\t         */\n\t        getFieldId: function getFieldId() {\n\t            return _sfId;\n\t        },\n\t\n\t        /**\n\t         * Hash of view classes.\n\t         */\n\t        views: {},\n\t\n\t        /**\n\t         * Hash of layout classes.\n\t         */\n\t        layouts: {},\n\t\n\t        /**\n\t         * Hash of field classes.\n\t         */\n\t        fields: {},\n\t\n\t        /**\n\t         * Creates an instance of a component and binds data changes to it.\n\t         *\n\t         * @param {string} type Component type (`layout`, `view`, `field`).\n\t         * @param {string} name Component name.\n\t         * @param {Object} params Parameters to pass to the Component's class\n\t         *   constructor.\n\t         * @param {string} params.type The component type.\n\t         * @param {string} params.module The component's module.\n\t         * @param {string} [params.loadModule=params.module] The module to\n\t         *   create the component from.\n\t         * @return {View.Component} New instance of a component.\n\t         * @private\n\t         */\n\t        _createComponent: function _createComponent(type, name, params) {\n\t            var Klass = this.declareComponent(type, params.type || name, params.loadModule || params.module, params.controller, false, this._getPlatform(params));\n\t            var component = new Klass(params);\n\t            component.trigger(\"init\");\n\t            component.bindDataChange();\n\t            return component;\n\t        },\n\t\n\t        /**\n\t         * Creates an instance of a view.\n\t         *\n\t         * Examples:\n\t         *\n\t         * Create a list view. The view manager will use metadata for the view\n\t         * named 'list' defined in Contacts module.\n\t         * The controller's current context will be set on the new view instance.\n\t         *\n\t         *     var listView = app.view.createView({\n\t         *         type: 'list',\n\t         *         module: 'Contacts'\n\t         *     });\n\t         *\n\t         * Create a custom view class. Note the following is deprecated in favor\n\t         * of putting these controllers in the `sugarcrm/clients/<platform>`\n\t         * directory, or using one of the appropriate factory methods like\n\t         * `createView`, `createField`, or `createLayout`. Using that idiom, the\n\t         * metadata manager will declare these components and take care of\n\t         * namespacing by platform for you. If you do choose to use the\n\t         * following idiom please be forwarned that you will lose any\n\t         * namespacing benefits and possibly encounter naming collisions!\n\t         *\n\t         *     // Declare your custom view class.\n\t         *     // might cause collisions if another MyCustomView!\n\t         *     app.view.views.MyCustomView = app.view.View.extend({\n\t         *         // Put your custom logic here\n\t         *     });\n\t         *     // if you must define directly on app.view.views, you may instead\n\t         *     // prefer to do:\n\t         *     `app.view.views.<YOUR_PLATFORM>MyCustomView` = app.view.View.extend({\n\t         *          // Put your custom logic here\n\t         *     });\n\t         *\n\t         *     var myCustomView = app.view.createView({\n\t         *         type: 'myCustom'\n\t         *     });\n\t         *\n\t         * Create a view with custom metadata payload.\n\t         *\n\t         *     var view = app.view.createView({\n\t         *         type: 'detail',\n\t         *         meta: { ... your custom metadata ... }\n\t         *     });\n\t         *\n\t         * Look at {@link View.View}, particularly\n\t         * {@link View.View#_loadTemplate} for more information on how the\n\t         * `meta.template` property can be used.\n\t         *\n\t         * @param {Object} params View parameters.\n\t         * @param {string} params.type The view identifier (`default`, `base`,\n\t         *   etc.). Matches the controller to be used.\n\t         * @param {string} [params.name=params.type] View name that\n\t         *   distinguishes between multiple instances of the same view type.This\n\t         *   matches the metadata to read from {@link Core.MetadataManager} and\n\t         *   it is the easier way to reuse view types with different\n\t         *   configurations.\n\t         * @param {Object} [params.context=app.controller.context] Context to\n\t         * associate the newly created view with.\n\t         * @param {string} [params.module] Module name.\n\t         * @param {string} [params.loadModule] The module that should be\n\t         *   considered the base.\n\t         * @param {Object} [params.meta] Custom metadata.\n\t         * @return {View.View} New instance of view.\n\t         */\n\t        createView: function createView(params) {\n\t            // context is always defined on the controller\n\t            params.context = params.context || app.controller.context;\n\t            params.module = params.module || params.context.get('module');\n\t            // name defines which metadata to load\n\t            params.name = params.name || params.type;\n\t            params.meta = params.meta || app.metadata.getView(params.module, params.name, params.loadModule);\n\t\n\t            if (params.def && params.def.xmeta) {\n\t                params.meta = _.extend({}, params.meta, params.def.xmeta);\n\t            }\n\t\n\t            // type defines which controller to use\n\t            var meta = params.meta || {};\n\t            params.type = params.type || meta.type || params.name;\n\t\n\t            return this._createComponent('view', params.type, params);\n\t        },\n\t\n\t        /**\n\t         * Creates an instance of a layout.\n\t         *\n\t         * Parameters define creation rules as well as layout properties.\n\t         * The factory needs either layout name or type. Also, the layout type\n\t         * must be specified. The layout type is retrieved either from the\n\t         * `params` hash or layout metadata.\n\t         *\n\t         * Examples:\n\t         *\n\t         * Create a list layout. The view manager will use metadata for the\n\t         * `list` layout defined in the Contacts module.\n\t         * The controller's current context will be set on the new layout\n\t         * instance.\n\t         *\n\t         *     var listLayout = app.view.createLayout({\n\t         *         type: 'list',\n\t         *         module: 'Contacts'\n\t         *     });\n\t         *\n\t         *\n\t         * Create a custom layout class. Note that following is deprecated in\n\t         * favor of using the `createLayout` factory or placing controller in\n\t         * `sugarcrm/clients/<platform>/layouts` in which case the metadata\n\t         * manager will take care of namespacing your controller by platform\n\t         * name for you (e.g. MyCustomLayout becomes\n\t         * `app.view.layouts.MyappMyCustomLayout`).\n\t         *\n\t         *     // Declare your custom layout class.\n\t         *     // might cause collisions if already a MyCustomLayout!\n\t         *     app.view.layouts.MyCustomLayout = app.view.Layout.extend({\n\t         *         // Put your custom logic here\n\t         *     });\n\t         *     // if you must define directly on app.view.layouts,\n\t         *     // you may instead prefer to do:\n\t         *     `app.view.layouts.<YOUR_PLATFORM>MyCustomLayout` = app.view.Layout.extend({\n\t         *         // Put your custom logic here\n\t         *     });\n\t         *\n\t         *     var myCustomLayout = app.view.createLayout({\n\t         *         type: 'myCustom'\n\t         *     });\n\t         *\n\t         * Create a layout with custom metadata payload.\n\t         *\n\t         *     var layout = app.view.createLayout({\n\t         *         type: 'detail',\n\t         *         meta: { ... your custom metadata ... }\n\t         *     });\n\t         *\n\t         * @param {Object} params layout parameters.\n\t         * @param {string} [params.type] Layout identifier (`default`, `base`,\n\t         *   etc.).\n\t         * @param {string} [params.name=params.type] Layout name that\n\t         *   distinguishes between multiple instances of the same layout type.\n\t         * @param {Object} [params.context=app.controller.context]\n\t         *   Context to associate the newly created layout with.\n\t         * @param {string} params.module Module name.\n\t         * @param {string} [params.loadModule] The module to load the Layout\n\t         *   from. Defaults to `params.module` or the context's module, in that\n\t         *   order.\n\t         * @param {Object} [params.meta] Custom metadata.\n\t         * @return {View.Layout} New instance of the layout.\n\t         */\n\t        createLayout: function createLayout(params) {\n\t            params.context = params.context || app.controller.context;\n\t            params.module = params.module || params.context.get('module');\n\t            // name defines which metadata to load\n\t            params.name = params.name || params.type;\n\t            params.meta = params.meta || app.metadata.getLayout(params.module, params.name, params.loadModule);\n\t\n\t            if (params.def && params.def.xmeta) {\n\t                params.meta = _.extend({}, params.meta, params.def.xmeta);\n\t            }\n\t\n\t            // type defines which controller to use\n\t            var meta = params.meta || {};\n\t            params.type = params.type || meta.type || params.name;\n\t\n\t            return this._createComponent('layout', params.type, params);\n\t        },\n\t\n\t        /**\n\t         * Creates an instance of a field and registers it with the parent view\n\t         * (`params.view`).\n\t         *\n\t         * The parameters define creation rules as well as field properties.\n\t         *\n\t         * For example,\n\t         *\n\t         *     var params = {\n\t         *         view: new Backbone.View,\n\t         *         def: {\n\t         *             type: 'text',\n\t         *             name: 'first_name',\n\t         *             label: 'LBL_FIRST_NAME'\n\t         *         },\n\t         *         context: optional context,\n\t         *         model: optional model,\n\t         *         meta: optional custom metadata,\n\t         *         viewName: optional\n\t         *     }\n\t         *\n\t         *\n\t         * The view manager queries the metadata manager for field type specific\n\t         * metadata (templates and JS controller) unless custom metadata is\n\t         * passed in the `params` hash.\n\t         *\n\t         * Note the following is deprecated in favor of placing custom field\n\t         * controllers in `sugarcrm/clients/<platform>/fields` or using the\n\t         * `createField` factory.\n\t         *\n\t         * To create instances of custom fields, first declare its class in the\n\t         * `app.view.fields` hash:\n\t         *\n\t         *     // might cause collision if MyCustomField already exists!\n\t         *     app.view.fields.MyCustomField = app.view.Field.extend({\n\t         *         // Put your custom logic here\n\t         *     });\n\t         *     // if you must define directly on app.view.fields\n\t         *     // you may instead prefer to do:\n\t         *     app.view.fields.<YOUR_PLATFORM>MyCustomField = app.view.Field.extend({ ...\n\t         *\n\t         *     var myCustomField = app.view.createField({\n\t         *         view: someView,\n\t         *         def: {\n\t         *             type: 'myCustom',\n\t         *             name: 'my_custom'\n\t         *         }\n\t         *     });\n\t         *\n\t         * @param {Object} params Field parameters.\n\t         * @param {Backbone.View} params.view Backbone View object.\n\t         * @param {Object} params.def Field definition.\n\t         * @param {Object} [params.context=`SUGAR.App.controller.context`] The\n\t         *   context.\n\t         * @param {Object} [params.model] The model to use. If not specified,\n\t         *   the model which is set on the context is used.\n\t         * @param {Object} [params.meta] Custom metadata.\n\t         * @param {string} [params.viewName=params.view.name] View name to\n\t         *   determine the field template.\n\t         * @return {View.Field} a new instance of field.\n\t         */\n\t        createField: function createField(params) {\n\t            var type = params.viewDefs ? params.viewDefs.type : params.def.type;\n\t            params.context = params.context || params.view.context || app.controller.context;\n\t            params.model = params.model || params.context.get(\"model\");\n\t            params.module = params.module || (params.model && params.model.module ? params.model.module : params.context.get('module')) || \"\";\n\t            if (params.meta) {\n\t                app.logger.warn('`params.meta` is deprecated in `View.ViewManager#createField` since 7.8 and will be removed in 7.9.');\n\t            }\n\t\n\t            if (params.meta && params.meta.controller) params.controller = params.meta.controller;\n\t            params.sfId = ++_sfId;\n\t\n\t            var field = this._createComponent(\"field\", type, params);\n\t            // Register new field within its parent view.\n\t            params.view.fields[field.sfId] = field;\n\t\n\t            return field;\n\t        },\n\t\n\t        /**\n\t         * Returns the platform from the given params, falling back to\n\t         * `app.config.platform` or else 'base'.\n\t         *\n\t         * @param {Object} params Parameters.\n\t         * @param [params.platform] The platform (`base`, `portal`, etc.).\n\t         * @return {string} The platform.\n\t         * @private\n\t         */\n\t        _getPlatform: function _getPlatform(params) {\n\t            return params.platform || (app.config && app.config.platform ? app.config.platform : 'base');\n\t        },\n\t\n\t        /**\n\t         * Gets a controller of type field, layout, or view.\n\t         * @param {Object} params Parameters for the controller.\n\t         * @param {string} params.type The controller type.\n\t         * @param {string} params.name the filename of the controller\n\t         *   (e.g. 'flex-list', 'record', etc.).\n\t         * @param {string} [params.platform] The platform, e.g. 'portal'.\n\t         *   Will first attempt to fall back to app.config.platform, then 'base'.\n\t         * @param {string} [params.module] The module name.\n\t         * @return {Object|null} The controller or `null` if not found.\n\t         * @private\n\t         */\n\t        _getController: function _getController(params) {\n\t            var c = this._getBaseComponent(params.type, params.name, params.module, params.platform);\n\t            //Check to see if we have the module specific class; if so return that\n\t            if (c.cache[c.moduleBasedClassName]) {\n\t                return c.cache[c.moduleBasedClassName];\n\t            }\n\t            return c.baseClass;\n\t        },\n\t\n\t        /**\n\t         * This function is used to verify if a component has a certain plugin.\n\t         *\n\t         * @param {Object} params Set of parameters passed to function.\n\t         * @param {string} params.type Type of component to check.\n\t         * @param {string} params.name Name of component to check.\n\t         * @param {string} params.plugin Name of plugin to check.\n\t         * @param {string} [params.module=''] Name of module to check for custom\n\t         *   components in.\n\t         *\n\t         * @return {boolean|null} `true` if the specified component exists and\n\t         *   has that plugin, `false` if the component does not exist or lacks\n\t         *   that plugin, and `null` if incorrect arguments were passed.\n\t         */\n\t        componentHasPlugin: function componentHasPlugin(params) {\n\t            var controller;\n\t            if (!params.type || !params.name || !params.plugin) {\n\t                app.logger.error(\"componentHasPlugin requires type, name, and plugin parameters\");\n\t                return null;\n\t            }\n\t            controller = this._getController(params);\n\t            return controller && controller.prototype && _.contains(controller.prototype.plugins, params.plugin);\n\t        },\n\t\n\t        /**\n\t         * Retrieves class declaration for a component or creates a new\n\t         * component class.\n\t         *\n\t         * This method creates a subclass of the base class if controller\n\t         * parameter is not null and such subclass hasn't been created yet.\n\t         * Otherwise, the method tries to retrieve the most appropriate class by\n\t         * searching in the following order:\n\t         *\n\t         * - Custom class name: `<module><component-name><component-type>`.\n\t         * For example, for Contacts module one could have:\n\t         * `ContactsDetailLayout`, `ContactsFluidLayout`, `ContactsListView`.\n\t         *\n\t         * - Class name: `<component-name><component-type>`.\n\t         * For example: `ListLayout`, `ColumnsLayout`, `DetailView`, `IntField`.\n\t         *\n\t         * - Custom base class: `<capitalized-appId><component-type>`\n\t         * For example, if `app.config.appId == 'portal'`, custom base classes\n\t         * would be:\n\t         * `PortalLayout`, `PortalView`, `PortalField`.\n\t         *\n\t         * Declarations of such classes must be in the `app.view` namespace.\n\t         * There are use cases when an app has some common component code.\n\t         * In such cases, using custom base classes is beneficial. For example,\n\t         * any app may need to override validation error handling for fields:\n\t         *\n\t         *     // Assuming app.config.appId === 'portal':\n\t         *     app.view.PortalField = app.view.Field.extend({\n\t         *         initialize: function(options) {\n\t         *             // Call super\n\t         *             app.view.Field.prototype.initialize.call(this, options);\n\t         *             // Custom initialization code...\n\t         *         },\n\t         *\n\t         *        handleValidationError: function(errors) {\n\t         *            // Custom validation logic\n\t         *        }\n\t         *     });\n\t         *\n\t         * The above declaration will make all field controllers extend\n\t         * `app.view.PortalField` instead of `app.view.Field`.\n\t         *\n\t         * - Base class: `<component-type>` - `Layout`, `View`, `Field`.\n\t         *\n\t         * Note 1. Although the view manager supports module specific fields\n\t         * like `ContactsIntField`, the server does not provide such\n\t         * customization.\n\t         *\n\t         * Note 2. The layouts is a special case because their class name is\n\t         * built both from layout name and layout type. One could have\n\t         * `ListLayout` or `ColumnsLayout` including their module specific\n\t         * counterparts like `ContactsListView` and `ContactsColumnsLayout`.\n\t         * The \"named\" class name is checked first.\n\t         *\n\t         * @param {string} type Lower-cased component type: `layout`, `view`, or\n\t         *   `field`.\n\t         * @param {string} name Lower-cased component name. For example, 'list'\n\t         *   (layout or view), or 'bool' (field).\n\t         * @param {string} [module] Module name.\n\t         * @param {string} [controller] Controller source code string.\n\t         * @param {boolean} [overwrite] Will overwrite if duplicate\n\t         *   custom class or layout is cached. Note that if no controller is\n\t         *   passed, overwrite is ignored since we can't create a meaningful\n\t         *   component without a controller.\n\t         * @param {string} [platform] The platform e.g. 'base', 'portal', etc.\n\t         * @return {Function} Component class.\n\t         */\n\t        declareComponent: function declareComponent(type, name, module, controller, overwrite, platform) {\n\t            var c = this._getBaseComponent(type, name, module, platform, overwrite && controller);\n\t            if (overwrite && controller) {\n\t                if (c.cache[c.moduleBasedClassName]) delete c.cache[c.moduleBasedClassName];\n\t            }\n\t            return c.cache[c.moduleBasedClassName] || app.utils.extendClass(c.cache, c.baseClass, c.moduleBasedClassName, controller, c.platformNamespace) || c.baseClass;\n\t        },\n\t\n\t        /**\n\t         * Internal helper function for getting a component (controller). Do not\n\t         * call directly and instead use `declareComponent`, etc.\n\t         * depending on your needs.\n\t         * @param {string} type Lower-cased component type: `layout`, `view`, or\n\t         *   `field`.\n\t         * @param {string} name Lower-cased component name. For example, `list`\n\t         *   (layout or view), or `bool` (field).\n\t         * @param {string} [module] Module name.\n\t         * @param {string} [platform] The platform e.g. 'base', 'portal', etc.\n\t         * @param {boolean} [overwrite=true] When `true`, custom controller\n\t         *   overrides will be ignored and only components that exactly match\n\t         *   the name will be returned. The base class returned is `base`.\n\t         * @return {Object} The base component information.\n\t         * @return {Object} return.cache The collection of controllers of the\n\t         *   given component type.\n\t         * @return {string} return.platformNamespace The platform prefix.\n\t         * @return {string} return.moduleBasedClassName The prefixed class name.\n\t         * @return {Object} return.baseClass The class for the base component.\n\t         * @private\n\t         */\n\t        _getBaseComponent: function _getBaseComponent(type, name, module, platform, overwrite) {\n\t            platform = this._getPlatform({ platform: platform });\n\t            // The type e.g. View, Field, Layout\n\t            var ucType = app.utils.capitalize(type),\n\t\n\t            // The platform e.g. Base, Portal, etc.\n\t            platformNamespace = app.utils.capitalize(platform),\n\t\n\t            // The component name and type concatenated e.g. ListView\n\t            className = app.utils.capitalizeHyphenated(name) + ucType,\n\t\n\t            // The combination of platform, optional module, and className e.g. BaseAccountsListView\n\t            moduleBasedClassName = platformNamespace + (module || \"\") + className,\n\t                customModuleBasedClassName = platformNamespace + (module || \"\") + \"Custom\" + className,\n\t                cache = app.view[type + \"s\"],\n\t\n\t            // App id and type fallback\n\t            customBaseClassName = app.utils.capitalize(app.config.appId) + ucType,\n\t\n\t            // Components are now namespaced by <platform> so we must prefix className to find in cache\n\t            // if we don't find platform-specific, than we next look in Base<className> and so on\n\t            baseClass = cache[platformNamespace + \"Custom\" + className] || cache[platformNamespace + className] || cache[\"BaseCustom\" + className] || cache[\"Base\" + className] ||\n\t            // For backwards compatibility, if they define app.view.views.MyView we should still find\n\t            cache[className] || cache[\"BaseBase\" + ucType] || app.view[\"Custom\" + customBaseClassName] || app.view[customBaseClassName] || app.view[ucType];\n\t            // Override to use the custom class instead of the standard one if it exists.\n\t            if (cache[customModuleBasedClassName] && !overwrite) {\n\t                moduleBasedClassName = customModuleBasedClassName;\n\t            }\n\t            return {\n\t                cache: cache,\n\t                platformNamespace: platformNamespace,\n\t                moduleBasedClassName: moduleBasedClassName,\n\t                baseClass: baseClass\n\t            };\n\t        }\n\t    };\n\t\n\t    app.augment(\"view\", _viewManager, false);\n\t})(SUGAR.App);\n\n/***/ },\n/* 58 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Represents base view class for layouts, views, and fields.\n\t *\n\t * This is an abstract class.\n\t *\n\t * @class View.Component\n\t * @alias SUGAR.app.view.Component\n\t * @extends Backbone.View\n\t */\n\t(function (app) {\n\t\n\t    app.view.Component = Backbone.View.extend({\n\t\n\t        /**\n\t         * Internal flag used to prevent {@link #events} from being delegated\n\t         * prior to {@link #initialize}, in {@link #delegateEvents}. Do not use\n\t         * this flag!\n\t         *\n\t         * FIXME SC-5690: This property will be removed when we have mixin\n\t         * support with an ES6-style super method.\n\t         *\n\t         * @private\n\t         * @deprecated Deprecated in 7.8.0 and will be removed in 7.9.0.\n\t         * @type {boolean}\n\t         */\n\t        _isInitialized: false,\n\t\n\t        /**\n\t         * Constructor for sidecar components, currently used to define the\n\t         * order of event delegation on {@link #events this component's events},\n\t         * after Backbone changed the order in which events are delegated from\n\t         * 0.9.10 to 1.2.0. Also temporarily defines {@link #options} on the\n\t         * component, as Backbone no longer does this by default.\n\t         *\n\t         * @constructor\n\t         * @param {Object} options The Backbone.View initialization options.\n\t         */\n\t        constructor: function constructor(options) {\n\t            /**\n\t             * Attaches the `options` passed into the constructor to this\n\t             * component.\n\t             *\n\t             * FIXME SC-5597: Since this is no longer supported by Backbone, it\n\t             * will be removed from Sidecar components as well.\n\t             *\n\t             * @deprecated Deprecated since 7.8.0. Will be removed in 7.10.0.\n\t             * @property {Object}\n\t             */\n\t            this.options = options || {};\n\t\n\t            this._wrapInitialize(options);\n\t\n\t            return Backbone.View.apply(this, arguments);\n\t        },\n\t\n\t        /**\n\t         * Wraps the initialize method to delegate the events on the element,\n\t         * after it initializes.\n\t         *\n\t         * @protected\n\t         * @param {Object} options The Backbone.View initialization options.\n\t         */\n\t        _wrapInitialize: function _wrapInitialize(options) {\n\t            this.initialize = _.wrap(this.initialize, _.bind(function (init) {\n\t                init.call(this, options);\n\t                this.initialize = init;\n\t                this._isInitialized = true;\n\t                this.delegateEvents();\n\t            }, this));\n\t        },\n\t\n\t        /**\n\t         * Initializes a component.\n\t         *\n\t         * @param {Object} options The Backbone.View initialization options.\n\t         *\n\t         * - context\n\t         * - meta\n\t         * - module\n\t         * - model\n\t         * - collection\n\t         *\n\t         * `context` is the only required option.\n\t         */\n\t        initialize: function initialize(options) {\n\t\n\t            /**\n\t             * Reference to the context (required).\n\t             * @property {Core.Context}\n\t             */\n\t            this.context = options.context || app.controller && app.controller.context || new Backbone.Model();\n\t\n\t            /**\n\t             * Component metadata (optional).\n\t             * @property {Object}\n\t             */\n\t            this.meta = options.meta;\n\t\n\t            /**\n\t             * Module name (optional).\n\t             * @property {String}\n\t             */\n\t            this.module = options.module || this.context.get('module');\n\t\n\t            /**\n\t             * Reference to the model this component is bound to.\n\t             * @property {Data.Bean}\n\t             */\n\t            this.model = options.model || this.context.get('model');\n\t\n\t            /**\n\t             * Reference to the collection this component is bound to.\n\t             * @property {Data.BeanCollection}\n\t             */\n\t            this.collection = options.collection || this.context.get('collection');\n\t\n\t            // Adds classes to the component based on the metadata.\n\t            if (this.meta && this.meta.css_class) {\n\t                this.$el.addClass(this.meta.css_class);\n\t            }\n\t\n\t            this.updateVisibleState(true);\n\t\n\t            // Register last state defaults\n\t            app.user.lastState.register(this);\n\t        },\n\t\n\t        /**\n\t         * Renders a component.\n\t         *\n\t         * Override this method to provide custom logic.\n\t         * The default implementation does nothing.\n\t         * See [Backbone.View](http://backbonejs.org/#View-render)\n\t         * documentation for details.\n\t         * The convention is for {@link #_render} to always return `this`.\n\t         *\n\t         * @return {View.Component} Instance of this component.\n\t         *\n\t         * @template\n\t         * @protected\n\t         */\n\t        _render: function _render() {\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Renders a component.\n\t         *\n\t         * IMPORTANT: Do not override this method.\n\t         * Instead, override {@link View.Component#_render} to provide render logic.\n\t         * @return {View.Component} Instance of this component.\n\t         */\n\t        render: function render() {\n\t            if (this.disposed === true) {\n\t                app.logger.error(\"Unable to render component because it's disposed \" + this + '\\n');\n\t                return false;\n\t            }\n\t            if (!this.triggerBefore('render')) return false;\n\t            this._render();\n\t\n\t            this.trigger('render');\n\t\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Proxies the parent method on `Backbone.View`, but only called after\n\t         * {@link #initialize this view instance initializes}.\n\t         *\n\t         * @return {View.Component} Returns {@link View.Component this instance}.\n\t         */\n\t        delegateEvents: function delegateEvents() {\n\t            if (!this._isInitialized) {\n\t                return this;\n\t            }\n\t\n\t            // FIXME SC-5680: We can't call `_super` from View.Component - it\n\t            // would just call this method again. SC-5680 will address fixing\n\t            // the `_super` method.\n\t            return Backbone.View.prototype.delegateEvents.apply(this, arguments);\n\t        },\n\t\n\t        /**\n\t         * Sets template option.\n\t         *\n\t         * If the given option already exists it is augmented by the value of the given `option` parameter.\n\t         * See Handlebars.js documentation for details.\n\t         * @param {String} key Option key.\n\t         * @param {Object} option Option value.\n\t         */\n\t        setTemplateOption: function setTemplateOption(key, option) {\n\t            this.options.templateOptions = this.options.templateOptions || {};\n\t            this.options.templateOptions[key] = _.extend({}, this.options.templateOptions[key], option);\n\t        },\n\t\n\t        /**\n\t         * Binds data changes to this component.\n\t         *\n\t         * This method should be overridden by derived views.\n\t         */\n\t        bindDataChange: function bindDataChange() {\n\t            // Override this method to wire up model/collection events\n\t        },\n\t\n\t        /**\n\t         * Removes this component's event handlers from model and collection.\n\t         *\n\t         * Performs the opposite of what {@link View.Component#bindDataChange} method does.\n\t         * Override this method to provide custom logic.\n\t         */\n\t        unbindData: function unbindData() {\n\t            if (this.model) this.model.off(null, null, this);\n\t            if (this.collection) this.collection.off(null, null, this);\n\t        },\n\t\n\t        /**\n\t         * Removes all event callbacks registered within this component\n\t         * and undelegates Backbone events.\n\t         *\n\t         * Override this method to provide custom logic.\n\t         */\n\t        unbind: function unbind() {\n\t            this.off();\n\t            this.offBefore();\n\t            this.undelegateEvents();\n\t            app.events.off(null, null, this);\n\t            app.events.unregister(this);\n\t            if (this.context) this.context.off(null, null, this);\n\t            if (this.layout) this.layout.off(null, null, this);\n\t        },\n\t\n\t        /**\n\t         * Fetches data for layout's model or collection.\n\t         *\n\t         * The default implementation does nothing.\n\t         * See {@link View.Layout#loadData} and {@link View.View#loadData} methods.\n\t         */\n\t        loadData: _.noop,\n\t\n\t        /**\n\t         * Disposes a component.\n\t         *\n\t         * This method:\n\t         *\n\t         * - unbinds the component from model and collection.\n\t         * - removes all event callbacks registered within this component.\n\t         * - removes the component from the DOM.\n\t         *\n\t         * Override this method to provide custom logic:\n\t         * <pre><code>\n\t         * app.view.views.MyView = app.view.View.extend({\n\t         *      _dispose: function() {\n\t         *          // Perform custom clean-up. For example, clear timeout handlers, etc.\n\t         *          ...\n\t         *          // Call super\n\t         *          app.view.View.prototype._dispose.call(this);\n\t         *      }\n\t         * });\n\t         * </code></pre>\n\t         * @protected\n\t         */\n\t        _dispose: function _dispose() {\n\t            this.unbindData();\n\t            this.unbind();\n\t            this.remove();\n\t            this.model = null;\n\t            this.collection = null;\n\t            this.context = null;\n\t            this.$el = null;\n\t            this.el = null;\n\t        },\n\t\n\t        /**\n\t         * Disposes a component.\n\t         *\n\t         * Once the component gets disposed it can not be rendered.\n\t         * Do not override this method. Instead override {@link View.Component#_dispose} method\n\t         * if you need custom disposal logic.\n\t         */\n\t        dispose: function dispose() {\n\t            if (this.disposed === true) return;\n\t            this._dispose();\n\t            this.disposed = true;\n\t        },\n\t\n\t        /**\n\t         * Gets a string representation of this component.\n\t         * @return {String} String representation of this component.\n\t         */\n\t        toString: function toString() {\n\t            return this.cid + '-' + (this.$el && this.$el.id ? this.$el.id : '<no-id>') + '/' + this.module + '/' + this.model + '/' + this.collection;\n\t        },\n\t\n\t        /**\n\t         * Traverse upwards from the current component to find the first\n\t         * component that matches the name.\n\t         *\n\t         * The default implementation does nothing.\n\t         * See {@link View.Layout#closestComponent},\n\t         * {@link View.View#closestComponent} and\n\t         * {@link View.Field#closestComponent} methods.\n\t         *\n\t         * @param {String} name The name of the component to find.\n\t         * @return {View.Component} The component or `undefined` if not found.\n\t         */\n\t        closestComponent: _.noop,\n\t\n\t        /**\n\t         * Pass through function to jQuery's show to show view.\n\t         */\n\t        show: function show() {\n\t            if (!this.isVisible()) {\n\t                if (!this.triggerBefore('show')) {\n\t                    return false;\n\t                }\n\t\n\t                this._show();\n\t                this.trigger('show');\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Pass through function to jQuery's hide to hide view.\n\t         */\n\t        hide: function hide() {\n\t            if (this.isVisible()) {\n\t                if (!this.triggerBefore('hide')) {\n\t                    return false;\n\t                }\n\t\n\t                this._hide();\n\t                this.trigger('hide');\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Checks if the component is visible on the page.\n\t         */\n\t        isVisible: function isVisible() {\n\t            return this._isVisible;\n\t        },\n\t\n\t        /**\n\t         * Updates the visible property.\n\t         *\n\t         * **Note:** This does not show/hide the component. Please use\n\t         * {@link #show} and {@link #hide} for this use case.\n\t         */\n\t        updateVisibleState: function updateVisibleState(visible) {\n\t            /**\n\t             * Flag to indicate the visible state of the component.\n\t             *\n\t             * @type {boolean}\n\t             * @private\n\t             */\n\t            this._isVisible = !!visible;\n\t        },\n\t\n\t        /**\n\t         * @protected\n\t         */\n\t        _show: function _show() {\n\t            this.$el.removeClass('hide').show();\n\t            this.updateVisibleState(true);\n\t        },\n\t\n\t        /**\n\t         * @protected\n\t         */\n\t        _hide: function _hide() {\n\t            this.$el.addClass('hide').hide();\n\t            this.updateVisibleState(false);\n\t        },\n\t\n\t        /**\n\t         *  _super is used to retrieve and invoke parent prototype functions.\n\t         *  Requires a method paramter to function. The method called should be named the same as the function\n\t         *  being called from.\n\t         *\n\t         * Examples:\n\t         *\n\t         * * Good:\n\t         * <pre><code>\n\t         * ({\n\t         *     initialize: function(options) {\n\t         *         //extend the base meta with some custom meta\n\t         *         options.meta = _.extend({}, myMeta, options.meta || {});\n\t         *         //Only call parent initialize from initialize\n\t         *         this._super('initialize', [options]);\n\t         *         this.buildFoo(options);\n\t         *     }\n\t         * });\n\t         * </code></pre>\n\t         *\n\t         * * Bad:\n\t         * <pre><code>\n\t         * ({\n\t         *     initialize: function(options) {\n\t         *         //extend the base meta with some custom meta\n\t         *         options.meta = _.extend({}, myMeta, options.meta || {});\n\t         *         //Calling a function like buildFoo from initialize is incorrect. Should call directly on this\n\t         *         this._super('buildFoo',[options]);\n\t         *     }\n\t         * });\n\t         * </code></pre>\n\t         *\n\t         * @param {string} method The name of the method to call (e.g.\n\t         *   `initialize`, `_renderHtml`).\n\t         * @param {Array} [args] Arguments to pass to the parent method.\n\t         * @return {Mixed}\n\t         * @protected\n\t         */\n\t        _super: function _super(method, args) {\n\t            //Must be used to invoke parent methods\n\t            if (!method || !_.isString(method)) {\n\t                return app.logger.error('tried to call _super without specifying a parent method in ' + this.name);\n\t            }\n\t\n\t            var parent,\n\t                thisProto = Object.getPrototypeOf(this);\n\t            args = args || [];\n\t\n\t            //_lastSuperClass is used to walk the prototype chain\n\t            this._superStack = this._superStack || {};\n\t            this._superStack[method] = this._superStack[method] || [];\n\t            if (this._superStack[method].length > 0) {\n\t                parent = Object.getPrototypeOf(_.last(this._superStack[method]));\n\t                if (_.contains(this._superStack[method], parent)) {\n\t                    return app.logger.error('Loop detected calling ' + method + ' from ' + this.name);\n\t                }\n\t            } else {\n\t                parent = Object.getPrototypeOf(thisProto);\n\t            }\n\t\n\t            //First verify that the method exists on the current object\n\t            if (!thisProto[method]) {\n\t                return app.logger.error('Unable to find method ' + method + ' on class ' + this.name);\n\t            }\n\t\n\t            //Walk up the chain until we find a parent that implements the method.\n\t            while (!parent.hasOwnProperty(method) && parent !== app.view.Component.prototype) {\n\t                parent = Object.getPrototypeOf(parent);\n\t            }\n\t\n\t            //Walk up the chain until we find a parent that overrode the method.\n\t            while (thisProto[method] === parent[method] && parent !== app.view.Component.prototype) {\n\t                thisProto = parent;\n\t                parent = Object.getPrototypeOf(parent);\n\t            }\n\t            this._superStack[method].push(parent);\n\t\n\t            //Verify that we found a valid parent that implements this method\n\t            if (!parent) {\n\t                return app.logger.error('Unable to find parent of component ' + this.name);\n\t            }\n\t            if (!parent[method]) {\n\t                return app.logger.error('Unable to find method ' + method + ' on parent class of ' + this.name);\n\t            }\n\t\n\t            //Finally make the parent call\n\t            var ret = parent[method].apply(this, args);\n\t\n\t            //Reset the last parent to step down the prototype chain\n\t            this._superStack[method].pop();\n\t            //When we reach the end of the chain, also remove the method name requirement\n\t            if (_.isEmpty(this._superStack[method])) {\n\t                this._superStack[method] = null;\n\t            }\n\t\n\t            return ret;\n\t        },\n\t\n\t        /**\n\t         * Gets HTML placeholder for a component.\n\t         * @return {string} HTML placeholder to be used in a handlebars template.\n\t         */\n\t        getPlaceholder: function getPlaceholder() {\n\t            return new Handlebars.SafeString('<span cid=\"' + this.cid + '\"></span>');\n\t        }\n\t    });\n\t\n\t    //Mix in the beforeEvents\n\t    _.extend(app.view.Component.prototype, app.beforeEvent);\n\t})(SUGAR.App);\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * Base View class. Use {@link View.ViewManager} to create instances of views.\n\t     *\n\t     * @class View.View\n\t     * @alias SUGAR.App.view.View\n\t     * @extends View.Component\n\t     */\n\t    app.view.View = app.view.Component.extend({\n\t\n\t        /**\n\t         * TODO: add docs (describe options parameter, see Component class for an example).\n\t         * @param options\n\t         */\n\t        initialize: function initialize(options) {\n\t            app.plugins.attach(this, \"view\");\n\t            app.view.Component.prototype.initialize.call(this, options);\n\t\n\t            /**\n\t             * View type\n\t             * @cfg {string}\n\t             */\n\t            this.type = options.type;\n\t\n\t            /**\n\t             * Name of the view.\n\t             * @cfg {string}\n\t             */\n\t            this.name = options.name || this.type;\n\t\n\t            /**\n\t             * Name of the action (optional).\n\t             *\n\t             * Used in acl checks for user permissions. By default, set to the view name.\n\t             * @cfg {String}\n\t             */\n\t            this.action = options.meta && options.meta.action ? options.meta.action : this.name;\n\t\n\t            this._loadTemplate(options);\n\t\n\t            /**\n\t             * Dictionary of field widgets.\n\t             *\n\t             * - keys: field IDs (sfuuid)\n\t             * - value: instances of `app.view.Field` class\n\t             */\n\t            this.fields = {};\n\t\n\t            /**\n\t             * A template to use for view fields if a field does not have a template defined for its parent view.\n\t             * Defaults to `\"default\"`.\n\t             *\n\t             * For example, if you have a subview and don't want to define subview template for all field types,\n\t             * you may choose to use existing templates like `detail` if your subview is in fact a detail view.\n\t             *\n\t             * @property {String}\n\t             */\n\t            this.fallbackFieldTemplate = this.fallbackFieldTemplate || \"detail\";\n\t\n\t            /**\n\t             * Reference to the parent layout instance.\n\t             * @property {View.Layout}\n\t             */\n\t            this.layout = this.options.layout;\n\t\n\t            /**\n\t             * Flag indicating whether a view is primary or not.\n\t             *\n\t             * If the primary view is not rendered due to the access control,\n\t             * a warning message will be displayed.\n\t             *\n\t             * @property {Boolean}\n\t             */\n\t            this.primary = options.primary;\n\t\n\t            this._setLabels();\n\t\n\t            /**\n\t             * The view name that contains the list of fields to use when\n\t             * fetching the model/collection from the server.\n\t             *\n\t             * List, record or detail views might have too many fields defined\n\t             * in the metadata. This property avoids having to list all these\n\t             * fields in the request params.\n\t             *\n\t             * @property {string} dataView\n\t             */\n\t            if (this.dataView) {\n\t                this.context.set('dataView', this.dataView);\n\t            } else {\n\t                this.context.addFields(this.getFieldNames());\n\t            }\n\t\n\t            app.events.on('app:locale:change', function () {\n\t                this._setLabels();\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets the template falling back using `loadModule` property when\n\t         * specified.\n\t         *\n\t         * @param {string} name The template's name to get.\n\t         * @param {string} [fallbackModule] The module to fallback to if the\n\t         *   template does not exist in this view's module. If undefined, the\n\t         *   template is grabbed in `base`.\n\t         * @private\n\t         */\n\t        _getTemplate: function _getTemplate(name, fallbackModule) {\n\t            return app.template.getView(name, this.module) || app.template.getView(name, fallbackModule);\n\t        },\n\t\n\t        /**\n\t         * Sets the appropriate template for this view to {@link #template}.\n\t         * Sets the name of the template to {@link #tplName}.\n\t         *\n\t         * @param {Object} [options] The options that may specify the template to\n\t         *   load.\n\t         * @param {Object} [options] A hash of options.\n\t         * @param {Function} [options.template] The compiled template.\n\t         * @param {string} [options.loadModule] The fallback module to get the\n\t         *   template from.\n\t         * @private\n\t         */\n\t        _loadTemplate: function _loadTemplate(options) {\n\t            var template, templateName;\n\t            options = options || {};\n\t\n\t            if (options.template) {\n\t                template = options.template;\n\t                templateName = null;\n\t            } else if (this.meta && this.meta.template) {\n\t                template = this._getTemplate(this.meta.template, options.loadModule);\n\t                templateName = this.meta.template;\n\t            } else {\n\t                template = this._getTemplate(this.name, options.loadModule);\n\t                templateName = this.name;\n\t            }\n\t\n\t            if (!template) {\n\t                if (this.meta && this.meta.type) {\n\t                    template = this._getTemplate(this.meta.type, options.loadModule);\n\t                    templateName = this.meta.type;\n\t                } else {\n\t                    template = app.template.empty;\n\t                    templateName = '';\n\t                }\n\t            }\n\t\n\t            /**\n\t             * The name of the template that is loaded.\n\t             * This is a public read-only property. This property should not be\n\t             * modified directly.\n\t             *\n\t             * @property {string|null} tplName\n\t             * @member View.View\n\t             */\n\t            this.tplName = templateName;\n\t\n\t            /**\n\t             * The template for this view.\n\t             *\n\t             * @property {Function} template\n\t             * @member View.View\n\t             */\n\t            this.template = template;\n\t        },\n\t\n\t        /**\n\t         * Renders a view onto the page.\n\t         *\n\t         * This method uses `ctx` parameter as the context for the view's Handlebars {@link View.View#template}\n\t         * and view's `options.templateOptions` property as template options.\n\t         *\n\t         * If no `ctx` parameter is specified, `this` is passed as the context for the template.\n\t         * If no `options` parameter is specified, `this.options.templateOptions` is used.\n\t         *\n\t         * You can override this method if you have custom rendering logic and don't use Handlebars templating\n\t         * or if you need to pass different context object for the template.\n\t         *\n\t         * Note the following use of app.view.View.extend is deprecated in favor of putting these controllers in the\n\t         * sugarcrm/clients/<platform> directory. Using that idiom, the metadata manager will declare these components\n\t         * and take care of namespacing by platform for you (so MyCustomView will be stored internally as MyappMyCustomView).\n\t         * If you do choose to use the following idiom please be forwarned that you will lose any namespacing benefits and\n\t         * possibly encounter naming collisions!\n\t         *\n\t         * Example:\n\t         * <pre><code>\n\t         * // Note that using the following technique of defining custom views directly on the app.view.views object\n\t         * // can result in naming collisions unless you ensure your name is unique. See note above.\n\t         * app.view.views.CustomView = app.view.View.extend({\n\t         *    _renderHtml: function() {\n\t         *       var ctx = {\n\t         *         // Your custom context for this view template\n\t         *       };\n\t         *       app.view.View.prototype._renderHtml.call(this, ctx);\n\t         *    }\n\t         * });\n\t         *\n\t         * // Or totally different logic that doesn't use this.template\n\t         * app.view.views.AnotherCustomView = app.view.View.extend({\n\t         *    _renderHtml: function() {\n\t         *       // Never do this :)\n\t         *       return \"&lt;div&gt;Hello, world!&lt;/div&gt;\";\n\t         *    }\n\t         * });\n\t         *\n\t         *\n\t         * </code></pre>\n\t         *\n\t         * This method uses this view's {@link View.View#template} property to render itself.\n\t         * @param {Data.Context} [ctx] Template context.\n\t         * @param {Object} [options] Template options.\n\t         * <pre><code>\n\t         * {\n\t         *    helpers: helpers,\n\t         *    partials: partials,\n\t         *    data: data\n\t         * }\n\t         * </code></pre>\n\t         * See Handlebars.js documentation for details.\n\t         * @protected\n\t         */\n\t        _renderHtml: function _renderHtml(ctx, options) {\n\t            if (this.template) {\n\t                try {\n\t                    this.$el.html(this.template(ctx || this, options || this.options.templateOptions));\n\t                } catch (e) {\n\t                    app.logger.error(\"Failed to render \" + this + \"\\n\" + e);\n\t                    app.error.handleRenderError(this, '_renderHtml');\n\t                }\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Renders all the fields.\n\t         *\n\t         * @protected\n\t         */\n\t        _renderFields: function _renderFields() {\n\t            var self = this;\n\t\n\t            // In terms of performance it is better to search the DOM once for\n\t            // all the fields, than to search the DOM for each field. That's why\n\t            // we cache placeholders locally and pass them to\n\t            // {@link View.Field#_renderField}.\n\t            var fieldElems = {};\n\t\n\t            this.$('span[sfuuid]').each(function () {\n\t                var $this = $(this),\n\t                    sfId = $this.attr('sfuuid');\n\t                fieldElems[sfId] = $this;\n\t            });\n\t\n\t            _.each(this.fields, function (field) {\n\t                self._renderField(field, fieldElems[field.sfId]);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Sets field's view element and invokes render on the given field.\n\t         *\n\t         * @param {View.Field} field The field to render.\n\t         * @param {jQuery} $fieldEl The field placeholder.\n\t         * @protected\n\t         */\n\t        _renderField: function _renderField(field, $fieldEl) {\n\t            field.setElement($fieldEl || this.$(\"span[sfuuid='\" + field.sfId + \"']\"));\n\t            try {\n\t                field.render();\n\t            } catch (e) {\n\t                app.logger.error(\"Failed to render \" + field + \" on \" + this + \"\\n\" + e);\n\t                app.error.handleRenderError(this, '_renderField', field);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Renders a view onto the page.\n\t         *\n\t         * The method first renders this view by calling {@link View.View#_renderHtml}\n\t         * and then for each field invokes {@link View.View#_renderField}.\n\t         *\n\t         * NOTE: Do not override this method, otherwise you will loose ACL check.\n\t         * Consider overriding {@link View.View#_renderHtml} instead.\n\t         *\n\t         * @return {View.View} The instance of this view.\n\t         * @protected\n\t         */\n\t        _render: function _render() {\n\t            if (app.acl.hasAccessToModel(this.action, this.model)) {\n\t                this._disposeFields();\n\t                this._renderHtml();\n\t                this._renderFields();\n\t            } else {\n\t\n\t                app.logger.info(\"Current user does not have access to this module view. name: \" + this.name + \" module:\" + this.module);\n\t                // See Bug56941.\n\t                // We suppress this warning from being presented to user in situations where we're trying\n\t                // to display a view for a Linked module where the user does not have access.  If you clicked on\n\t                // a Bug and you shouldn't get warnings about Notes, etc, if you didn't have access to those other modules.\n\t                if (this.primary) {\n\t                    app.error.handleRenderError(this, 'view_render_denied');\n\t                }\n\t            }\n\t\n\t            return this;\n\t        },\n\t\n\t        _setLabels: function _setLabels() {\n\t            /**\n\t             * Pluralized i18n-ed module name.\n\t             * @property {String}\n\t             * @member View.View\n\t             */\n\t            this.modulePlural = app.lang.getAppListStrings(\"moduleList\")[this.module] || this.module;\n\t\n\t            /**\n\t             * Singular i18n-ed module name.\n\t             * @property {String}\n\t             * @member View.View\n\t             */\n\t            this.moduleSingular = app.lang.getAppListStrings(\"moduleListSingular\")[this.module] || this.modulePlural;\n\t        },\n\t\n\t        /**\n\t         * Fetches data for view's model or collection.\n\t         *\n\t         * This method calls view's context {@link Core.Context#loadData} method.\n\t         *\n\t         * Override this method to provide custom fetch algorithm.\n\t         * @param {Object} [options] Options that are passed to\n\t         *   collection/model's fetch method.\n\t         */\n\t        loadData: function loadData(options) {\n\t            // FIXME This should be removed by 7.9.\n\t            if (arguments.length === 2) {\n\t                app.logger.warn('The `setFields` argument is no longer supported. Views and Layouts must ' + 'add the fields they need without affecting other Views and Layouts');\n\t            }\n\t\n\t            // See Bug56941.\n\t            // Lets only load the data for views where user has read access.\n\t            // Otherwise we generate REST API errors.\n\t            if (app.acl.hasAccess(\"read\", this.module)) {\n\t                this.context.loadData(options);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Extracts the field names from the metadata for directly related views/panels.\n\t         *\n\t         * @param {string} [module] Module name. Defaults to the Context module.\n\t         * @return {Array} List of fields used on this view\n\t         */\n\t        getFieldNames: function getFieldNames(module) {\n\t            var fields = [];\n\t            module = module || this.context.get('module');\n\t\n\t            if (this.meta && this.meta.panels) {\n\t                fields = _.reduce(_.map(this.meta.panels, function (panel) {\n\t                    var nestedFields = _.flatten(_.compact(_.pluck(panel.fields, \"fields\")));\n\t                    return _.pluck(panel.fields, 'name').concat(_.pluck(nestedFields, 'name')).concat(_.flatten(_.compact(_.pluck(panel.fields, 'related_fields'))));\n\t                }), function (memo, field) {\n\t                    return memo.concat(field);\n\t                }, []);\n\t            }\n\t\n\t            fields = _.compact(_.uniq(fields));\n\t\n\t            var fieldMetadata = app.metadata.getModule(module, 'fields');\n\t            if (fieldMetadata) {\n\t                // Filter out all fields that are not actual bean fields\n\t                fields = _.reject(fields, function (name) {\n\t                    return _.isUndefined(fieldMetadata[name]);\n\t                });\n\t\n\t                // we need to find the relates and add the actual id fields\n\t                var relates = [];\n\t                _.each(fields, function (name) {\n\t                    if (fieldMetadata[name].type == 'relate') {\n\t                        relates.push(fieldMetadata[name].id_name);\n\t                    } else if (fieldMetadata[name].type == 'parent') {\n\t                        relates.push(fieldMetadata[name].id_name);\n\t                        relates.push(fieldMetadata[name].type_name);\n\t                    }\n\t                    if (_.isArray(fieldMetadata[name].fields)) {\n\t                        relates = relates.concat(fieldMetadata[name].fields);\n\t                    }\n\t                });\n\t\n\t                fields = _.union(fields, relates);\n\t            }\n\t\n\t            return fields;\n\t        },\n\t\n\t        /**\n\t         * Gets a hash of fields that are currently displayed on this view.\n\t         *\n\t         * The hash has field names as keys and field definitions as values.\n\t         * @param {String} module(optional) Module name.\n\t         * @param {Bean} model(optional) model to match fields against. Only fields the correspond with the given model will be returned.\n\t         * @return {Object} The currently displayed fields.\n\t         */\n\t        getFields: function getFields(module, model) {\n\t            var fields = {};\n\t            var fieldNames = this.getFieldNames(module);\n\t            _.each(fieldNames, function (name) {\n\t                var field = this.getField(name, model);\n\t                if (field) {\n\t                    fields[name] = field.def;\n\t                }\n\t            }, this);\n\t            return fields;\n\t        },\n\t\n\t        /**\n\t         * Returns a field by name.\n\t         * @param {String} name Field name.\n\t         * @param {Bean=} optional model to find the field for.\n\t         * @return {View.Field} Instance of the field widget.\n\t         */\n\t        getField: function getField(name, model) {\n\t            return _.find(this.fields, function (field) {\n\t                return field.name == name && (!model || field.model == model);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        closestComponent: function closestComponent(name) {\n\t            if (!this.layout) {\n\t                return;\n\t            }\n\t            if (this.layout.name === name) {\n\t                return this.layout;\n\t            }\n\t            return this.layout.closestComponent(name);\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        _show: function _show() {\n\t            app.view.Component.prototype._show.call(this);\n\t            _.each(this.fields, function (component) {\n\t                component.updateVisibleState(true);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        _hide: function _hide() {\n\t            app.view.Component.prototype._hide.call(this);\n\t            _.each(this.fields, function (component) {\n\t                component.updateVisibleState(true);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Disposes a view.\n\t         *\n\t         * This method disposes view fields and calls\n\t         * {@link View.Component#_dispose} method of the base class.\n\t         * @protected\n\t         */\n\t        _dispose: function _dispose() {\n\t            app.plugins.detach(this, \"view\");\n\t            this._disposeFields();\n\t            app.view.Component.prototype._dispose.call(this);\n\t        },\n\t\n\t        /**\n\t         * Disposes all the fields.\n\t         *\n\t         * @protected\n\t         */\n\t        _disposeFields: function _disposeFields() {\n\t            _.each(this.fields, function (field) {\n\t                field.dispose();\n\t            });\n\t            this.fields = {};\n\t        },\n\t\n\t        /**\n\t         * Gets a string representation of this view.\n\t         * @return {String} String representation of this view.\n\t         */\n\t        toString: function toString() {\n\t            return \"view-\" + this.name + \"-\" + app.view.Component.prototype.toString.call(this);\n\t        },\n\t\n\t        /**\n\t         * Gets a field's metadata.\n\t         * @param {String} name Field name.\n\t         * @param {Boolean} includeChild optional flag indicating that we should check if this is a child field when true.\n\t         * @return {Object} field metadata.\n\t         */\n\t        getFieldMeta: function getFieldMeta(field, includeChild) {\n\t            var fields = _.flatten(_.pluck(this.meta.panels, \"fields\")),\n\t                ret = _.find(fields, function (def) {\n\t                return def.name === field;\n\t            });\n\t\n\t            if (!ret && includeChild) {\n\t                ret = _.find(_.flatten(_.pluck(fields, \"fields\")), function (def) {\n\t                    return def && def.name === field;\n\t                });\n\t\n\t                if (ret) {\n\t                    ret._isChild = true;\n\t                }\n\t            }\n\t\n\t            return ret;\n\t        },\n\t\n\t        /**\n\t         * Sets a field's metadata.\n\t         * @param {String} name Field name.\n\t         * @param {Object} meta Field metadata\n\t         */\n\t        setFieldMeta: function setFieldMeta(field, meta) {\n\t            _.each(this.meta.panels, function (panel) {\n\t                _.each(panel.fields, function (def, i) {\n\t                    if (def.name === field) {\n\t                        panel.fields[i] = _.extend(def, meta);\n\t                    } else if (_.isArray(def.fields)) {\n\t                        _.each(def.fields, function (childDef, j) {\n\t                            if (childDef.name === field) {\n\t                                def.fields[j] = _.extend(childDef, meta);\n\t                            }\n\t                        });\n\t                    }\n\t                });\n\t            });\n\t        }\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 60 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * SugarField widget. A field widget is a low level field widget. Some examples of fields are\n\t     * text boxes, date pickers, drop down menus.\n\t     *\n\t     * ##Creating a SugarField\n\t     * SugarCRM allows for customized \"fields\" which are visual representations of a type of data (e.g. url would\n\t     * be displayed as a hyperlink).\n\t     *\n\t     * ###Anatomy of a SugarField\n\t     * Field files reside in the **`sugarcrm/clients/base/fields/{field_type}`** folder.\n\t     *\n\t     * Inside the {field_type} directory is a set of files that define templates for different views and field controller.\n\t     * A typical directory structure will look like the following:\n\t     * <pre>\n\t     * clients\n\t     * |- base\n\t     *    |- bool\n\t     *       |- bool.js\n\t     *       |- detail.hbs\n\t     *       |- edit.hbs\n\t     *       |- list.hbs\n\t     *    |- int\n\t     *       ...\n\t     *    |- text\n\t     *       ...\n\t     * |- portal\n\t     *    |- portal specific overrides\n\t     * |- mobile\n\t     *    |- mobile specific overrides\n\t     * </pre>\n\t     * **`[sugarFieldType].js`** files are optional.\n\t     * Sometimes a SugarField needs to do more than just display a simple input element, other times input elements\n\t     * need additional data such as drop down menu choices. To support advanced functionality, just add your additional\n\t     * controller logic to **`[sugarFieldType].js`** javascript file where sugarFieldType is the type of the SugarField.\n\t     * Example for `bool.js` controller:\n\t     * <pre><code>\n\t     * ({\n\t     *    events: {\n\t     *         handler: function() {\n\t     *             // Actions\n\t     *         }\n\t     *    },\n\t     *\n\t     *    initialize: function(options) {\n\t     *       app.view.Field.prototype.initialize(options);\n\t     *       // Your constructor code here follows...\n\t     *    },\n\t     *\n\t     *    unformat: function(value) {\n\t     *        value = this.el.children[0].children[1].checked ? \"1\" : \"0\";\n\t     *        return value;\n\t     *    },\n\t     *    format: function(value) {\n\t     *        value = (value == \"1\") ? true : false;\n\t     *        return value;\n\t     *    }\n\t     * })\n\t     * </code></pre>\n\t     *\n\t     * **`.hbs`** files contain your templates corresponding to the type of {@link View.View} the field is to be displayed on.\n\t     * Sugar uses Handlebars.js as its client side template of choice. At this time no other templating engines are\n\t     * supported. Sample:\n\t     * <pre><code>\n\t     * &lt;span name=\"{{name}}\"&gt;{{value}}&lt;/span&gt;\n\t     * </code></pre>\n\t     *\n\t     * These files will be used by the metadata manager to generate metadata for your SugarFields and pass them onto the\n\t     * Sugar JavaScript client.\n\t     *\n\t     * </pre></code>\n\t     *\n\t     * ####SugarField Template Values\n\t     * TODO:\n\t     *\n\t     *\n\t     * @class View.Field\n\t     * @alias SUGAR.App.view.Field\n\t     * @extends View.Component\n\t     */\n\t    app.view.Field = app.view.Component.extend({\n\t\n\t        /**\n\t         * HTML tag of the field.\n\t         * @property {String}\n\t         */\n\t        fieldTag: \"input\",\n\t\n\t        /**\n\t         * TODO: add docs (describe options, see Component class for details)\n\t         * @param options\n\t         */\n\t        initialize: function initialize(options) {\n\t            app.plugins.attach(this, \"field\");\n\t            app.view.Component.prototype.initialize.call(this, options);\n\t\n\t            /**\n\t             * ID of the field (autogenerated).\n\t             * @property {Number}\n\t             * @member View.Field\n\t             */\n\t            this.sfId = options.sfId;\n\t\n\t            /**\n\t             * Reference to the view this field is attached to.\n\t             * @property {View.View}\n\t             * @member View.Field\n\t             */\n\t            this.view = options.view;\n\t\n\t            /**\n\t             * View definitions for the field (doesn't include vardefs).\n\t             *\n\t             * The view definitions are the properties used for field rendering.\n\t             * Exple: A `link` property can specify if the field should be\n\t             * displayed as a link.\n\t             *\n\t             * @property {Object} viewDefs\n\t             * @property {Object} [viewDefs.defs] A hash of properties that\n\t             *   will override the field definitions (vardefs).\n\t             */\n\t            this.viewDefs = options.viewDefs || {};\n\t\n\t            /**\n\t             * Field name.\n\t             * @property {string}\n\t             * @member View.Field\n\t             */\n\t            this.name = this.viewDefs.name || options.def && options.def.name;\n\t\n\t            var fieldDefs = this.model && this.model.fields ? this.model.fields[this.name] : null;\n\t            /**\n\t             * Field definitions (vardefs).\n\t             *\n\t             * Field definitions are properties that define the field and its\n\t             * internal behavior.\n\t             *\n\t             * @property {Object}\n\t             */\n\t            this.fieldDefs = _.extend({}, fieldDefs, this.viewDefs.defs);\n\t\n\t            /**\n\t             * Field metadata definition (fieldDefs + viewdefs).\n\t             *\n\t             * Viewdef are copied over vardef.\n\t             * @property {Object}\n\t             * @member View.Field\n\t             * @deprecated\n\t             */\n\t            this.def = _.extend({}, fieldDefs, options.def);\n\t\n\t            /**\n\t             * Widget type (text, bool, int, etc.).\n\t             * @property {String}\n\t             * @member View.Field\n\t             */\n\t            this.type = this.viewDefs.type || this.def.type || this.fieldDefs.type;\n\t\n\t            // TODO deprecate this fallback, since label vs vname is already patched in metadata\n\t            var oldLabel = this.def.label || this.def.vname || this.name;\n\t            /**\n\t             * i18n-ed field label.\n\t             * @property {String}\n\t             * @member View.Field\n\t             */\n\t            this.label = app.lang.get(this.viewDefs.label || oldLabel, this.module);\n\t\n\t            /**\n\t             * Compiled template.\n\t             * @property {Function}\n\t             * @member View.Field\n\t             */\n\t            this.template = app.template.empty;\n\t\n\t            // Bind validation error event\n\t            // Note we bind it regardless of which view we on (only need for edit type views)\n\t            if (this.model) {\n\t                this.model.on('error:validation:' + this.name, this.handleValidationError, this);\n\t                this.model.on('validation:start attributes:revert', this.removeValidationErrors, this);\n\t                this.model.on('acl:change:' + this.name, this.handleAclChange, this);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Defines fallback rules for ACL checking.\n\t         *\n\t         * For example, if a user doesn't have `edit` permission for the given field\n\t         * the template falls back to `detail` view template.\n\t         */\n\t        viewFallbackMap: {\n\t            'edit': 'detail'\n\t        },\n\t\n\t        /**\n\t         * Handler for when an ACL changes at the field-level.\n\t         *\n\t         * FIXME SC-3363: The previous action needs to be cleared in order to\n\t         * load the correct template when the user potentially loses access to a\n\t         * field. SC-3363 will address this.\n\t         */\n\t        handleAclChange: function handleAclChange() {\n\t            this._resetAction();\n\t            this.render();\n\t        },\n\t\n\t        /**\n\t         * Set field's action to undefined\n\t         * @protected\n\t         */\n\t        _resetAction: function _resetAction() {\n\t            this.action = void 0;\n\t        },\n\t\n\t        /**\n\t         * Checks ACLs to see if the current user has access to action.\n\t         *\n\t         * @param {String} action Action name.\n\t         * @return {Boolean} Flag indicating if the current user has access to the given action.\n\t         * see {@link View.Field#_loadTemplate}\n\t         */\n\t        _checkAccessToAction: function _checkAccessToAction(action) {\n\t            return app.acl.hasAccessToModel(action, this.model, this.name);\n\t        },\n\t        /**\n\t         * Returns fallback template for view\n\t         *\n\t         * @param {string} viewName\n\t         * @return {string}\n\t         * @protected\n\t         */\n\t        _getFallbackTemplate: function _getFallbackTemplate(viewName) {\n\t            return this.isDisabled() && viewName === 'disabled' ? 'edit' : this.view.fallbackFieldTemplate || 'detail';\n\t        },\n\t        /**\n\t         * Loads template for this field.\n\t         * @private\n\t         */\n\t        _loadTemplate: function _loadTemplate() {\n\t            var fallbackFieldTemplate;\n\t\n\t            // options.viewName or view metadata type is used to override the template\n\t            var viewName = this.options.viewName || this.options.def.view || (this.view.meta && this.view.meta.type ? this.view.meta.type : this.view.name);\n\t\n\t            var actionName = this.action;\n\t            if (this.isDisabled() && viewName === 'edit') {\n\t                viewName = this.action;\n\t            } else {\n\t                actionName = this.action || (this.view.action && this.view.name != this.view.action ? this.view.action : viewName);\n\t            }\n\t\n\t            while (viewName) {\n\t\n\t                if (this._checkAccessToAction(actionName)) break;\n\t                viewName = this.viewFallbackMap[viewName];\n\t                actionName = viewName;\n\t            }\n\t\n\t            if (viewName) {\n\t                // Set fallback template to base/view or default.\n\t                var moduleName = this.module || this.context.get('module');\n\t\n\t                fallbackFieldTemplate = this._getFallbackTemplate(viewName);\n\t                this.template = app.template.getField(this.type, viewName, moduleName, fallbackFieldTemplate) ||\n\t                // Fallback to text field if template is not defined for this type\n\t                app.template.getField(\"base\", viewName, moduleName, fallbackFieldTemplate) ||\n\t                // Safeguard with an empty template\n\t                app.template.empty;\n\t            } else {\n\t                // Safeguard with an empty template\n\t                this.template = app.template.empty;\n\t            }\n\t\n\t            // Update template name and action.\n\t            // These properties are useful for a client app to make decisions when formatting values, rendering, etc.\n\t            /**\n\t             * Template (view) name.\n\t             *\n\t             * The view name can be different from the one the field belongs to.\n\t             * The template is selected based on ACLs. It may also be overridden by field's metadata definition.\n\t             * @property {String}\n\t             * @member View.Field\n\t             */\n\t            this.tplName = viewName;\n\t            /**\n\t             * Action name.\n\t             *\n\t             * The action the field is rendered for. Usually, the action name equals to {@link View.Field#tplName}.\n\t             * @property {String}\n\t             * @member View.Field\n\t             */\n\t            this.action = actionName;\n\t        },\n\t\n\t        /**\n\t         * Override default Backbone.Events to also use custom handlers.\n\t         *\n\t         * The events hash is similar to Backbone.View events hash.\n\t         * You can specify event handler as method of field or as name of event\n\t         * that should be triggered. You cannot use javascript code in metadata.\n\t         * The framework stores the event handlers as anonimous function binded\n\t         * to this field as part of the field instance with the `\"callback_\"`\n\t         * prefix. When event is fired it calls `triggerMetadataEvent` method\n\t         * if it exists in field. The default behavior of `triggerMetadataEvent`\n\t         * is implemented in {@link app.plugins.MetadataEventDriven} plugin.\n\t         *\n\t         * <pre><code>\n\t         * events: {\n\t         *     handler: triggerSomeEvent;\n\t         * }\n\t         * </code></pre>\n\t         *\n\t         * triggerSomeEvent should be method of certain field.\n\t         *\n\t         * OR\n\t         *\n\t         * <pre><code>\n\t         * events: {\n\t         *     handler: \"fire:some:event\";\n\t         * }\n\t         * </code></pre>\n\t         *\n\t         * @private\n\t         * @param {Object} events Hash of events and their handlers\n\t         */\n\t        delegateEvents: function delegateEvents(events) {\n\t            // We may have:\n\t            // this.events -- comes from custom .js controllers\n\t            // this.def.events -- comes from metadata. See, for example, buttons section in portal.js file\n\t            // FIXME SC-5676: The metadata events should typically be extended\n\t            // or mixed-in to the events, not OR'ed with `this.events`. SC-5676\n\t            // should address refactoring this method.\n\t            events = events || _.result(this, 'events') || (this.def ? this.def.events : null);\n\t            if (!events) return;\n\t\n\t            events = _.clone(events);\n\t\n\t            _.each(events, function (eventHandler, handlerName) {\n\t                var callback = this[eventHandler];\n\t\n\t                // If our callbacks / events have not been registered in field,\n\t                // go ahead and registered it as method.\n\t                if (!callback && _.isString(eventHandler)) {\n\t                    callback = _.bind(function (event) {\n\t                        if (_.isFunction(this.triggerMetadataEvent)) {\n\t                            this.triggerMetadataEvent(event, eventHandler);\n\t                        }\n\t                    }, this);\n\t                    this['callback_' + handlerName] = callback;\n\t                    events[handlerName] = 'callback_' + handlerName;\n\t                }\n\t\n\t                if (!_.isFunction(eventHandler) && !callback) {\n\t                    delete events[handlerName];\n\t                }\n\t            }, this);\n\t\n\t            Backbone.View.prototype.delegateEvents.call(this, events);\n\t        },\n\t\n\t        /**\n\t         * Renders a field widget.\n\t         *\n\t         * This method checks ACLs to choose the correct template.\n\t         * Once the template is rendered, DOM changes are bound to the model.\n\t         * @return {View.Field} The instance of this field.\n\t         *\n\t         * @protected\n\t         */\n\t        _render: function _render() {\n\t            this._loadTemplate();\n\t            if (this.model instanceof Backbone.Model) {\n\t                /**\n\t                 * Model property value.\n\t                 * @property {String}\n\t                 * @member View.Field\n\t                 */\n\t                this.value = this.getFormattedValue();\n\t            }\n\t\n\t            /**\n\t             * The direction of the field. The default value `undefined` means\n\t             * that the field would use the inherited direction from the DOM.\n\t             *\n\t             * Override this property with a specific direction string if the\n\t             * field has a set direction that it always follows.\n\t             *\n\t             * Override this property with a function if logic is needed to\n\t             * determine the direction of the field. The function should return\n\t             * either a `string` indicating the direction of the field or\n\t             * `undefined`. This function is only called after the value is set\n\t             * so that we can base the direction on the value.\n\t             *\n\t             * Example using a function\n\t             *\n\t             *      direction: function() {\n\t             *          return this.isRTL ? 'rtl' : 'ltr';\n\t             *      }\n\t             *\n\t             * @property {string|Function|undefined} direction\n\t             * @return {string|undefined}\n\t             * @member View.Field\n\t             */\n\t            /**\n\t             * The direction attribute for the field to be used in the template.\n\t             *\n\t             * @property {string|undefined} dir\n\t             * @member View.Field\n\t             */\n\t            this.dir = _.result(this, 'direction');\n\t            if (app.lang.direction === this.dir) {\n\t                delete this.dir;\n\t            }\n\t\n\t            this.unbindDom();\n\t            this.$el.html(this.template(this) || '');\n\t\n\t            // Adds classes to the component based on the metadata.\n\t            if (this.def && this.def.css_class) {\n\t                this.getFieldElement().addClass(this.def.css_class);\n\t            }\n\t\n\t            this.$(this.fieldTag).attr('dir', this.dir);\n\t\n\t            this.bindDomChange();\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Get the correspond field DOM element\n\t         *\n\t         * This method will return the placeholder element.\n\t         * Override this method in the subclass to point the specified field element\n\t         *\n\t         * @return {Object} DOM Element\n\t         */\n\t        getFieldElement: function getFieldElement() {\n\t            return this.$el;\n\t        },\n\t\n\t        /**\n\t         * Binds DOM changes to a model.\n\t         *\n\t         * The default implementation of this method binds value changes of {@link View.Field#fieldTag} element\n\t         * to model's `Backbone.Model#set` method. Override this method if you need custom binding.\n\t         */\n\t        bindDomChange: function bindDomChange() {\n\t\n\t            if (!(this.model instanceof Backbone.Model)) return;\n\t\n\t            var self = this;\n\t            var el = this.$el.find(this.fieldTag);\n\t            el.on(\"change\", function () {\n\t                self.model.set(self.name, self.unformat(el.val()));\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Binds model changes to this field.\n\t         *\n\t         * The default implementation makes sure this field gets re-rendered\n\t         * whenever the corresponding model attribute changes.\n\t         */\n\t        bindDataChange: function bindDataChange() {\n\t            if (this.model) {\n\t                this.model.on(\"change:\" + this.name, function (model, value) {\n\t                    // FIXME: we need to track the `options` send by\n\t                    // `model.set()` and only call `this.render()` if it didn't\n\t                    // came from `bindDomChange`\n\t                    if (this.action === 'edit') {\n\t                        // Should directly set the value in edit instead of re-rendering the whole field (see MAR-1617).\n\t                        this.$(this.fieldTag).val(this.format(value));\n\t                    } else {\n\t                        this.render();\n\t                    }\n\t                }, this);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Checks to see if the field's value has been changed from the saved model\n\t         * This is not the same as {@link Backbone.Model#hasChanged} which checks if the model\n\t         * has changed from the last time it was set whereas this function checks if what is\n\t         * currently in the input field is the same as what is synced on the model\n\t         *\n\t         * @return {boolean} `true` if the value is different, `false` if field is synced with the\n\t         * saved model\n\t         */\n\t        hasChanged: function hasChanged() {\n\t            return !_.isEqual(this.format(this.model.getSynced(this.name)), this.format(this.model.get(this.name)));\n\t        },\n\t\n\t        /**\n\t         * Formats the value to be used in handlebars template and displayed on\n\t         * screen.\n\t         *\n\t         * The default implementation returns `value` without modifying it.\n\t         * Override this method to provide custom formatting in field\n\t         * controller (`[type].js` file).\n\t         *\n\t         * @param {Array|Object|string|number|boolean} value The value to format.\n\t         * @return {Array|Object|string|number|boolean} Formatted value.\n\t         */\n\t        format: function format(value) {\n\t            return value;\n\t        },\n\t\n\t        /**\n\t         * Unformats the value for storing in a model. This should do the\n\t         * inverse of {@link #format}.\n\t         *\n\t         * The default implementation returns `value` without modifying it.\n\t         * Override this method to provide custom unformatting in field\n\t         * controller (`[type].js` file).\n\t         *\n\t         * @param {string} value The value to unformat.\n\t         * @return {Array|Object|string|number|boolean} Unformatted value.\n\t         */\n\t        unformat: function unformat(value) {\n\t            return value;\n\t        },\n\t\n\t        /**\n\t         * Returns the value of this field in the associated model.\n\t         *\n\t         * If you need to override the formatted value please override\n\t         * {@link #format}.\n\t         *\n\t         * @return {Array|Object|string|number|boolean} The formatted data as\n\t         *   provided by {@link #format}.\n\t         */\n\t        getFormattedValue: function getFormattedValue() {\n\t            return this.format(this.model.has(this.name) ? this.model.get(this.name) : null);\n\t        },\n\t\n\t        /**\n\t         * Handles validation errors.\n\t         *\n\t         * The default implementation does nothing.\n\t         * Override this method to provide custom display logic.\n\t         * <pre><code>\n\t         * app.view.Field = app.view.Field.extend({\n\t         *     handleValidationError: function(errors) {\n\t         *       // Your custom logic goes here\n\t         *     }\n\t         * });\n\t         * </code></pre>\n\t         *\n\t         * @param {Object} errors hash of validation errors\n\t         * @template\n\t         */\n\t        handleValidationError: function handleValidationError(errors) {\n\t            // Override this method\n\t        },\n\t\n\t        /**\n\t         * Removes the validation error properties on the field that were set by\n\t         * {@link #handleValidationError}.\n\t         *\n\t         * The default implementation does nothing.\n\t         *\n\t         * Override this method to provide custom logic:\n\t         *\n\t         *      @example\n\t         *      app.view.Field = app.view.Field.extend({\n\t         *          removeValidationErrors: function(errors) {\n\t         *              // Your custom logic goes here\n\t         *          }\n\t         *      });\n\t         *\n\t         * @template\n\t         */\n\t        removeValidationErrors: function removeValidationErrors() {\n\t            // Override this method\n\t        },\n\t\n\t        /**\n\t         * Gets HTML placeholder for a field.\n\t         * @return {String} HTML placeholder for the field as Handlebars safe string.\n\t         */\n\t        getPlaceholder: function getPlaceholder() {\n\t            return new Handlebars.SafeString('<span sfuuid=\"' + this.sfId + '\"></span>');\n\t        },\n\t\n\t        /**\n\t         * Disables the edit mode by switching the element as detail mode\n\t         * @param {Boolean} true or undefined to disable the edit mode\n\t         *               otherwise, it will restore back to the previous mode\n\t         */\n\t        setDisabled: function setDisabled(disable) {\n\t            disable = _.isUndefined(disable) ? true : disable;\n\t\n\t            if (disable && this.isDisabled() === false) {\n\t                //Set disabled\n\t                this._previousAction = this.action;\n\t                this.action = 'disabled';\n\t                this.render();\n\t            } else if (disable === false && this.isDisabled()) {\n\t                //disabled release\n\t                this.action = this._previousAction;\n\t                delete this._previousAction;\n\t                this.render();\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Is the field disabled?\n\t         * @return {Boolean} true if the field is disabled, false otherwise.\n\t         */\n\t        isDisabled: function isDisabled() {\n\t            return this.action === 'disabled';\n\t        },\n\t\n\t        /**\n\t         * Set view name of this field.\n\t         * This only switches the template reference.\n\t         * @param {String} view name.\n\t         */\n\t        setViewName: function setViewName(view) {\n\t            this.options.viewName = view;\n\t        },\n\t\n\t        /**\n\t         * Set action name of this field.\n\t         * This switches action name as well as the template reference.\n\t         *\n\t         * @param name {String} action name\n\t         **/\n\t        setMode: function setMode(name) {\n\t            if (this.isDisabled()) {\n\t                this._previousAction = name;\n\t            } else {\n\t                this.action = name;\n\t            }\n\t            this.setViewName(name);\n\t            this.render();\n\t        },\n\t\n\t        /**\n\t         * Unbinds DOM changes from field's element.\n\t         *\n\t         * This method performs the opposite of what {@link View.Field#bindDomChange} method does.\n\t         * Override this method if you need custom logic.\n\t         */\n\t        unbindDom: function unbindDom() {\n\t            this.$el.find(this.fieldTag).off();\n\t        },\n\t\n\t        /**\n\t         * Disposes a field.\n\t         *\n\t         * Calls {@link View.Field#unbindDom} and {@link View.Component#_dispose} method of the base class.\n\t         * @protected\n\t         */\n\t        _dispose: function _dispose() {\n\t            app.plugins.detach(this, \"field\");\n\t            this.unbindDom();\n\t            app.view.Component.prototype._dispose.call(this);\n\t        },\n\t\n\t        /**\n\t         * Gets a string representation of this field.\n\t         * @return {String} String representation of this field.\n\t         */\n\t        toString: function toString() {\n\t            return \"field-\" + this.name + \"-\" + this.sfId + \"-\" + app.view.Component.prototype.toString.call(this);\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        _show: function _show() {\n\t            this.getFieldElement().removeClass('hide').show();\n\t            this.updateVisibleState(true);\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        _hide: function _hide() {\n\t            this.getFieldElement().addClass('hide').hide();\n\t            this.updateVisibleState(false);\n\t        },\n\t\n\t        /**\n\t         * Compare formatted values for equality.\n\t         *\n\t         * @param {Field} other Other field component.\n\t         * @return {Boolean} It returns `true` for equal value.\n\t         */\n\t        equals: function equals(other) {\n\t            return this.type === other.type && _.isEqual(this.getFormattedValue(), other.getFormattedValue());\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        closestComponent: function closestComponent(name) {\n\t            if (!this.view) {\n\t                return;\n\t            }\n\t            if (this.view.name === name) {\n\t                return this.view;\n\t            }\n\t            return this.view.closestComponent(name);\n\t        }\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t\n\t    /**\n\t     * The Layout Object is a definition of views and their placement on a certain 'page'.\n\t     *\n\t     * Use {@link View.ViewManager} to create instances of layouts.\n\t     *\n\t     * ###A Quick Guide for Creating a Layout Definition###\n\t     *\n\t     * Creating Layouts is easy, all it takes is adding the appropriate metadata file. Let's create a\n\t     * layout called **`SampleLayout`**.\n\t     *\n\t     * ####The Layout File and Directory Structure####\n\t     * Layouts are located in the **`modules/MODULE/metadata/layouts`** folder. Add a file\n\t     * called **`SampleLayout.php`** in the folder and it should be picked up in the next\n\t     * metadata sync call.\n\t     *\n\t     * ####The Metadata####\n\t     * <pre><code>\n\t     * $viewdefs['MODULE']['PLATFORM (portal / mobile / base)']['layout']['samplelayout'] = array(\n\t     *     'type' => 'columns',\n\t     *     'components' => array(\n\t     *         0 => array(\n\t     *             'layout' => array(\n\t     *             'type' => 'column',\n\t     *             'components' => array(\n\t     *                 array(\n\t     *                     'view' => 'list',\n\t     *                 ),\n\t     *                 array(\n\t     *                     'view' => 'list',\n\t     *                     'context' => array(\n\t     *                         'module' => 'Leads',\n\t     *                     ),\n\t     *                 ),\n\t     *             ),\n\t     *         ),\n\t     *     ),\n\t     * );\n\t     * </code></pre>\n\t     *\n\t     * As you can see we are defining a column style layout with two subcomponents: A normal list view\n\t     * of the MODULE, and also a list view of Leads.\n\t     *\n\t     * ####Accessing the New Layout####\n\t     * The last step is to add a route in the Router to display the new layout. // TODO: Custom routes?\n\t     *\n\t     *\n\t     * @class View.Layout\n\t     * @alias SUGAR.App.view.Layout\n\t     * @extends View.Component\n\t     */\n\t    app.view.Layout = app.view.Component.extend({\n\t\n\t        /**\n\t         * TODO docs (describe constructor options, see Component class for an example).\n\t         *\n\t         * @param options\n\t         */\n\t        initialize: function initialize(options) {\n\t            app.plugins.attach(this, \"layout\");\n\t            app.view.Component.prototype.initialize.call(this, options);\n\t\n\t            this._components = [];\n\t\n\t            this.meta = this.meta || {};\n\t\n\t            this.type = this.meta.type || this.options.type;\n\t            /**\n\t             * Layout Name.\n\t             * @type {*|string}\n\t             */\n\t            this.name = this.meta.name || this.options.name || this.type || \"\";\n\t\n\t            /**\n\t             * Layout Label.\n\t             * @type {*|string}\n\t             */\n\t            if (this.meta.label) {\n\t                this.label = this.meta.label;\n\t            } else if (this.options.def && this.options.def.label) {\n\t                this.label = this.options.def.label;\n\t            } else if (this.options.label) {\n\t                this.label = this.options.label;\n\t            } else {\n\t                this.label = '';\n\t            }\n\t\n\t            /**\n\t             * Reference to the parent layout instance.\n\t             * @property {View.Layout}\n\t             */\n\t            this.layout = this.options.layout;\n\t\n\t            this._loadTemplate(options);\n\t\n\t            if (this.template) {\n\t                // Need to do .append() rather than .html() because we create new components\n\t                // in templates. By performing .html(), we remove that component from the document.\n\t                this.$el.append(this.template(this, options));\n\t                this.placeComponentsFromTemplate();\n\t            }\n\t\n\t            if (this.meta.lazy_loaded) {\n\t                /**\n\t                 * Holds the components metadata in case if it is a lazy loaded\n\t                 * layout. This property should be used to to initialize\n\t                 * components manually.\n\t                 *\n\t                 * @property {Array} The array of components.\n\t                 * @protected\n\t                 */\n\t                this._componentsMeta = this.meta.components;\n\t                this.meta.components = [];\n\t            }\n\t\n\t            app.events.on('app:locale:change', function () {\n\t                this.render();\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Sets the appropriate template for this layout to {@link #template}.\n\t         *\n\t         * Gets the template from this layout's module, or falls back to the\n\t         * module specified in the `loadModule` meta property, or falls back to\n\t         * base.\n\t         *\n\t         * @param {Object} [options] A hash of options.\n\t         * @param {string} [options.loadModule] The fallback module to get the\n\t         *   template from.\n\t         * @private\n\t         */\n\t        _loadTemplate: function _loadTemplate(options) {\n\t            options = options || {};\n\t            if (this.meta.template) {\n\t                this.template = app.template.getLayout(this.meta.template, this.module) || app.template.getLayout(this.meta.template, options.loadModule);\n\t                return;\n\t            }\n\t\n\t            var tpl = app.template.getLayout(this.name, this.module) || app.template.getLayout(this.type, this.module);\n\t            if (!tpl) {\n\t                if (options.loadModule) {\n\t                    tpl = app.template.getLayout(this.name, options.loadModule) || app.template.getLayout(this.type, options.loadModule);\n\t                } else {\n\t                    tpl = app.template.getLayout(this.name) || app.template.getLayout(this.type);\n\t                }\n\t            }\n\t\n\t            this.template = tpl;\n\t        },\n\t\n\t        /**\n\t         * Move components created in templates to their appropriate placeholders.\n\t         */\n\t        placeComponentsFromTemplate: function placeComponentsFromTemplate() {\n\t            var componentElems = {};\n\t\n\t            if (_.isEmpty(this._components)) {\n\t                return;\n\t            }\n\t\n\t            this.$('span[cid]').each(function () {\n\t                var $this = $(this),\n\t                    cid = $this.attr('cid');\n\t\n\t                componentElems[cid] = $this;\n\t            });\n\t\n\t            _.each(this._components, function (component) {\n\t                var $placeholder = componentElems[component.cid];\n\t                if ($placeholder) {\n\t                    $placeholder.replaceWith(component.el);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Creates subcomponents in the layout and appends them to the layout's\n\t         * {@link #_components}. It recursively initializes all components\n\t         * within the specified subcomponents.\n\t         *\n\t         * Calls {@link #_addComponentsFromDef} to help add components.\n\t         * Triggers `init` on this layout once all subcomponent initializes.\n\t         *\n\t         * Immediate subcomponent will default to the passed in context and\n\t         * module.\n\t         *\n\t         * Subsequent subcomponents will default to their parents' context and\n\t         * module.\n\t         *\n\t         * @param {Array} [components=this.meta.components] The definitions of\n\t         *   the subcomponents.\n\t         * @param {Object} [context] Context to pass to the new components.\n\t         * @param {string} [module] Module to create the components from.\n\t         * @return {Array} initialized components\n\t         */\n\t        initComponents: function initComponents(components, context, module) {\n\t            if (this.disposed) {\n\t                return;\n\t            }\n\t\n\t            var newSubComponents, initialLength;\n\t            components = components || this.meta.components;\n\t\n\t            initialLength = this._components.length;\n\t            this._addComponentsFromDef(components, context, module);\n\t            newSubComponents = this._components.slice(initialLength);\n\t\n\t            _.each(newSubComponents, function (comp) {\n\t                if (_.isFunction(comp.initComponents)) {\n\t                    comp.initComponents();\n\t                }\n\t            });\n\t\n\t            this.trigger('init');\n\t\n\t            return newSubComponents;\n\t        },\n\t\n\t        /**\n\t         *\n\t         * @param {Object} def Metadata defining this component.\n\t         * @param {Core.Context} context Default context to pass to the new\n\t         *   component. (Will be overridden by the context in 'def' param, if\n\t         *   defined).\n\t         * @param {string} module The module to pass to the component.\n\t         *   (Will be overridden by the context's module in 'def' param, if\n\t         *   defined).\n\t         * @return {Mixed}\n\t         */\n\t        createComponentFromDef: function createComponentFromDef(def, context, module) {\n\t            context = context || this.context;\n\t            module = module || this.module;\n\t\n\t            // Switch context if necessary\n\t            if (def.context) {\n\t                if (def.context instanceof app.Context) {\n\t                    context = def.context;\n\t                } else {\n\t                    context = context.getChildContext(def.context);\n\t                    context.prepare();\n\t                }\n\t                module = context.get('module');\n\t            }\n\t\n\t            // Layouts/Views can either by referenced by name or have metadata defined inline\n\t            if (def.view) {\n\t                if (_.isString(def.view)) {\n\t                    return app.view.createView({\n\t                        context: context,\n\t                        name: def.view,\n\t                        def: def,\n\t                        module: module,\n\t                        loadModule: def.loadModule,\n\t                        primary: def.primary,\n\t                        layout: this\n\t                    });\n\t                } else if (_.isObject(def.view)) {\n\t                    if (def.view.meta) {\n\t                        app.logger.warn('`meta` property in metadata layout definitions is deprecated since 7.8 and ' + 'will be removed in 7.9. Please use `xmeta` instead.');\n\t                    }\n\t\n\t                    //Inline definition of a sublayout\n\t                    return app.view.createView({\n\t                        context: context,\n\t                        module: module,\n\t                        loadModule: def.loadModule,\n\t                        meta: def.view.meta || def.view,\n\t                        type: def.view.type,\n\t                        name: def.view.name,\n\t                        primary: def.view.primary,\n\t                        layout: this\n\t                    });\n\t                }\n\t            } else if (def.layout) {\n\t                if (_.isString(def.layout)) {\n\t                    return app.view.createLayout({\n\t                        context: context,\n\t                        name: def.layout,\n\t                        def: def,\n\t                        module: module,\n\t                        loadModule: def.loadModule,\n\t                        layout: this\n\t                    });\n\t                } else if (_.isObject(def.layout)) {\n\t                    if (def.layout.meta) {\n\t                        app.logger.warn('`meta` property in metadata layout definitions is deprecated since 7.8 and ' + 'will be removed in 7.9. Please use `xmeta` instead.');\n\t                    }\n\t\n\t                    //Inline definition of a sublayout\n\t                    return app.view.createLayout({\n\t                        context: context,\n\t                        module: module,\n\t                        loadModule: def.loadModule,\n\t                        meta: def.layout.meta || def.layout,\n\t                        type: def.layout.type,\n\t                        name: def.layout.name,\n\t                        def: def,\n\t                        layout: this\n\t                    });\n\t                }\n\t            } else {\n\t                app.logger.warn(\"Invalid layout definition:\\n\" + def.layout);\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Creates and adds components to the current layout.\n\t         *\n\t         * Calls {@link #addComponent} to help add components.\n\t         * Calls {@link #createComponentFromDef} to help create components.\n\t         *\n\t         * @param {Array} [components=[]] The components to be created.\n\t         * @param {Object} [context] Context to pass to the new components.\n\t         * @param {string} [module] Module to create the components from.\n\t         * @protected\n\t         */\n\t        _addComponentsFromDef: function _addComponentsFromDef(components, context, module) {\n\t            components = components || [];\n\t            _.each(components, function (def) {\n\t                // If component has already been initialized by the template, do\n\t                // not initialize again.\n\t                if (def.initializedInTemplate) {\n\t                    delete def.initializedInTemplate;\n\t                    return;\n\t                }\n\t\n\t                if (def.view || def.layout) {\n\t                    this.addComponent(this.createComponentFromDef(def, context, module), def);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Adds a component to this layout.\n\t         * @param {View.Layout|View.View} component Component (view or layout) to add\n\t         * @param {Object} def Metadata definition\n\t         */\n\t        addComponent: function addComponent(component, def) {\n\t            if (!component.layout) component.layout = this;\n\t            this._components.push(component);\n\t            this._placeComponent(component, def); // Some implementations of placeComponent require a def\n\t        },\n\t\n\t        /**\n\t         * Places layout component in the DOM.\n\t         *\n\t         * Default implementation just appends all the components to itself.\n\t         * Override this method to support custom placement of components.\n\t         *\n\t         * @param {View.View|View.Layout} component View or layout component.\n\t         * @protected\n\t         */\n\t        _placeComponent: function _placeComponent(component) {\n\t            this.$el.append(component.el);\n\t        },\n\t\n\t        /**\n\t         * Removes a component from this layout.\n\t          * If component is an index, remove the component at that index. Otherwise see if component is in the array.\n\t         * @param {View.Layout|View.View|number} component The layout or view to remove.\n\t         */\n\t        removeComponent: function removeComponent(component) {\n\t            var i = _.isNumber(component) ? component : this._components.indexOf(component);\n\t\n\t            if (i > -1) {\n\t                var removed = this._components.splice(i, 1);\n\t                removed[0].layout = null;\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Gets a component by name.\n\t         * @param {String} name Component name.\n\t         * @return {View.View|View.Layout} Component with the given name.\n\t         */\n\t        getComponent: function getComponent(name) {\n\t            return _.find(this._components, function (component) {\n\t                return component.name === name;\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Renders all the components.\n\t         *\n\t         * @return {View.Layout} The instance of this layout.\n\t         *\n\t         * @protected\n\t         */\n\t        _render: function _render() {\n\t            if (this._components && this._components.length > 0) {\n\t                //default layout will pass render container divs and pass down to all its views.\n\t                _.each(this._components, function (component) {\n\t                    component.render();\n\t                }, this);\n\t            } else {\n\t                app.logger.info(\"Can't render anything because the layout has no components: \" + this.toString() + \"\\n\" + \"Either supply metadata or override Layout.render method\");\n\t            }\n\t            return this;\n\t        },\n\t\n\t        /**\n\t         * Fetches data for layout's model or collection.\n\t         *\n\t         * The default implementation first calls the {@link Core.Context#loadData} method for the layout's context\n\t         * and then iterates through the components and calls their {@link View.Component#loadData} method,\n\t         * setting their contexts' `fields` property beforehand.\n\t         *\n\t         * Override this method to provide custom fetch algorithm.\n\t         *\n\t         * @param {Object} [options] Options that are passed to\n\t         *   collection/model's fetch method.\n\t         */\n\t        loadData: function loadData(options) {\n\t            // FIXME This should be removed by 7.9.\n\t            if (arguments.length === 2) {\n\t                app.logger.warn('The `setFields` argument is no longer supported. Views and Layouts must ' + 'add the fields they need without affecting other Views and Layouts');\n\t            }\n\t\n\t            if (this.disposed) {\n\t                return;\n\t            }\n\t\n\t            this.context.loadData(options);\n\t\n\t            _.each(this._components, function (component) {\n\t                component.loadData(options);\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets a list of all fields used on this layout and its sub layouts/views.\n\t         *\n\t         * @param {String} module(optional) Module name.\n\t         * @return {Array} The list of fields used by this layout.\n\t         */\n\t        getFieldNames: function getFieldNames(module) {\n\t            var fields = [];\n\t            module = module || this.module;\n\t            _.each(this._components, function (component) {\n\t                if (component.module == module) {\n\t                    fields = _.union(fields, component.getFieldNames(null, true));\n\t                }\n\t            }, this);\n\t\n\t            return fields;\n\t        },\n\t\n\t        /**\n\t         * Gets a hash of fields that are currently displayed on this layout.\n\t         *\n\t         * The hash has field names as keys and field definitions as values.\n\t         * @param {String} module(optional) Module name.\n\t         * @return {Object} The currently displayed fields.\n\t         */\n\t        getFields: function getFields(module) {\n\t            var fields = {};\n\t            _.each(this._components, function (component) {\n\t                _.extend(fields, component.getFields(module));\n\t            });\n\t            return fields;\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        closestComponent: function closestComponent(name) {\n\t            if (!this.layout) {\n\t                return;\n\t            }\n\t            if (this.layout.name === name) {\n\t                return this.layout;\n\t            }\n\t            return this.layout.closestComponent(name);\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        _show: function _show() {\n\t            app.view.Component.prototype._show.call(this);\n\t            _.each(this._components, function (component) {\n\t                component.updateVisibleState(true);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * @inheritdoc\n\t         */\n\t        _hide: function _hide() {\n\t            app.view.Component.prototype._hide.call(this);\n\t            _.each(this._components, function (component) {\n\t                component.updateVisibleState(true);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Disposes a layout.\n\t         *\n\t         * Disposes each of this layout's components and calls\n\t         * {@link View.Component#_dispose} method of the base class.\n\t         *\n\t         * @protected\n\t         */\n\t        _dispose: function _dispose() {\n\t            app.plugins.detach(this, \"layout\");\n\t            this._disposeComponents();\n\t            app.view.Component.prototype._dispose.call(this);\n\t        },\n\t\n\t        /**\n\t         * Disposes the layout's components and empties the `_components`\n\t         * property.\n\t         *\n\t         * @private\n\t         */\n\t        _disposeComponents: function _disposeComponents() {\n\t            _.each(this._components, function (component) {\n\t                component.dispose();\n\t            });\n\t            this._components = [];\n\t        },\n\t\n\t        /**\n\t         * Gets a string representation of this layout.\n\t         *\n\t         * @return {String} String representation of this layout.\n\t         */\n\t        toString: function toString() {\n\t            return \"layout-\" + (this.options.type || this.options.name) + \"-\" + app.view.Component.prototype.toString.call(this);\n\t        }\n\t    });\n\t})(SUGAR.App);\n\n/***/ },\n/* 62 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * Alert View.\n\t *\n\t * Interface for creating alerts via show and dismiss. Also, this module\n\t * keeps an internal dictionary of alerts created which can later be accessed\n\t * by key. This is useful so that client code can dismiss a particular alert.\n\t *\n\t * Note that the client application may provide custom implementation of {@link View.AlertView} class.\n\t * This implementation will be in charge of rendering the alert to its UI.\n\t *\n\t * At minimum, a client app's must provide:\n\t *\n\t * 1. `#alerts` element in its `index.html`.\n\t * 2. Pre-compiled template called `alert`. The template can be compiled at application start-up:\n\t * <code>app.template.compile(\"alert\", \"template body...\");</code>\n\t */\n\t(function (app) {\n\t\n\t    // Dictionary of alerts\n\t    var _alerts = {};\n\t\n\t    var _alert = {\n\t\n\t        //When this flag is set to true, it prevents any new alert to be shown.\n\t        //This is useful for `confirmation` type alerts because you want the\n\t        //user to focus and confirm/cancel the action and don't bother him with\n\t        //anything else.\n\t        preventAnyAlert: false,\n\t\n\t        /**\n\t         * Initializes alert module at application start-up.\n\t         */\n\t        init: function init() {\n\t            /**\n\t             * Alert element selector.\n\t             *\n\t             * The default value is `$('#alerts')`. Override using {@link Config#alertsEl} setting.\n\t             * @property {Object}\n\t             */\n\t            this.$alerts = $('#alerts');\n\t\n\t            /**\n\t             * Alert view class.\n\t             *\n\t             * The default value is {@link View.AlertView}.\n\t             * However, if `app.view.[Capitalized-appId]AlertView` or `app.view.[Capitalized-platform]AlertView` class\n\t             * exists, it will be used instead.\n\t             * @property {Function}\n\t             */\n\t            this.klass = app.view.AlertView;\n\t\n\t            if (app.config) {\n\t                this.$alerts = $(app.config.alertsEl).length ? $(app.config.alertsEl) : this.$alerts;\n\t\n\t                this.klass = app.view[app.utils.capitalize(app.config.appId) + \"AlertView\"] || app.view.views[app.utils.capitalize(app.config.platform) + 'AlertView'] || app.view.views.BaseAlertView || app.view[app.utils.capitalize(app.config.platform) + \"AlertView\"] || this.klass;\n\t            }\n\t\n\t            // Check for existing alerts and convert them into AlertView.\n\t            _.each(this.$alerts.find('.alert-wrapper'), function (el, i) {\n\t                var key = 'init-' + i;\n\t                _alerts[key] = this._create(key, { el: el });\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Displays an alert message and adds to internal dictionary of alerts.\n\t         * Use supplied key later to dismiss the alert. Caller is responsible for using language translation\n\t         * before calling!\n\t         *\n\t         * To create and close alerts, this function uses private factory method {@link View.Alert#_create}\n\t         * which instantiates alert view class specified by the {@link View.Alert#klass} property and places the alert\n\t         * instance in the DOM as the first element in the {@link View.Alert#$alerts} element.\n\t         *\n\t         * The {@link View.AlertView} class provides boilerplate implementation for a typical single alert view.\n\t         * You can customize alert behavior by extending {@link View.AlertView} class.\n\t         * At minimum, you have to make sure that a pre-compiled template named `\"alert\"` exists.\n\t         *\n\t         * In case we are showing a `confirmation` alert, we want to dismiss all other\n\t         * existing alerts and prevent any other alerts\n\t         *\n\t         * </code></pre>\n\t         *\n\t         * Examples:\n\t         * <pre><code>\n\t         * var a1 = app.alert.show('delete_warning', {\n\t         *     level: 'warning',\n\t         *     title: 'Warning',\n\t         *     messages: 'Are you sure you want to delete this record?',\n\t         *     autoclose: true\n\t         * });\n\t         *\n\t         * var a2 = app.alert.show('internal_error', {\n\t         *     level: 'error',\n\t         *     messages: ['Internal Error', 'Response code: 500']\n\t         * })\n\t         *\n\t         * </code></pre>\n\t         *\n\t         * @param {Object} [options] The options specified here are handled by\n\t         *   the framework. The base application\n\t         *   {@link View.Views.Base.AlertView#initialize AlertView}\n\t         *   defines more options for specific behaviors.\n\t         * @param {string} [options.level] Alert level. `alert-[level]` class\n\t         *   will be added to the alert view.\n\t         * @param {boolean} [options.autoClose] Boolean flag indicating if the\n\t         *   alert must be closed after dismiss delay: See\n\t         *   {@link Config#alertAutoCloseDelay} setting.\n\t         * @param {string|string[]} [options.messages] Messages.\n\t         * @param {string} [options.title] The title of the alert.\n\t         *   It's displayed in bold.\n\t         * @return {View.AlertView} Alert instance.\n\t         */\n\t        show: function show(key, options) {\n\t            if (!this.$alerts || !this.$alerts.length) {\n\t                return null;\n\t            }\n\t\n\t            if (this.preventAnyAlert) return null;\n\t\n\t            options = _.extend({\n\t                level: 'info',\n\t                autoClose: false\n\t            }, options || {});\n\t\n\t            if (options.level === 'confirmation') {\n\t                this.dismissAll();\n\t                this.preventAnyAlert = true;\n\t            }\n\t\n\t            if (options.messages) {\n\t                options.messages = _.isString(options.messages) ? [options.messages] : options.messages;\n\t            }\n\t\n\t            var alert = _alerts[key];\n\t            // Create a new alert view if it doesn't exist\n\t            if (!alert) {\n\t                alert = this._create(key, options);\n\t                _alerts[key] = alert;\n\t            }\n\t\n\t            alert.level = options.level;\n\t\n\t            // Initialize autoclose timer\n\t            if (!!options.autoClose) this._setAutoCloseTimer(alert, options.onAutoClose, options.autoCloseDelay);\n\t\n\t            alert.render();\n\t\n\t            return alert;\n\t        },\n\t\n\t        /**\n\t         * Creates an instance of alert view class and places view in the DOM.\n\t         * @param {String} key Alert ID.\n\t         * @param {Object} options Options.\n\t         * @return {View.AlertView} Instance of alert view class.\n\t         * @private\n\t         */\n\t        _create: function _create(key, options) {\n\t            var alert = new this.klass(options);\n\t            alert.key = key;\n\t            alert.$el.prependTo(this.$alerts);\n\t            return alert;\n\t        },\n\t\n\t        /**\n\t         * Sets the timeout to dismiss the alert view after either the alertAutoCloseDelay configured or 9 seconds\n\t         * @param {Object} alert the alert to auto close\n\t         * @param {Function} onAutoClose callback function to call on the autoclose\n\t         * @private\n\t         */\n\t        _setAutoCloseTimer: function _setAutoCloseTimer(alert, onAutoClose, autoCloseDelay) {\n\t            if (alert.timerId) clearTimeout(alert.timerId);\n\t            alert.timerId = setTimeout(_.bind(function () {\n\t                if (_.isFunction(onAutoClose)) {\n\t                    onAutoClose(alert.key); //callback for when the timeout occurs and the alert is closing\n\t                }\n\t                this.dismiss(alert.key);\n\t            }, this), autoCloseDelay || app.config.alertAutoCloseDelay || 5000);\n\t        },\n\t\n\t        /**\n\t         * Removes an alert message by key.\n\t         * @param {String} key The key provided when previously calling show.\n\t         * @param {Object} options(optional) Options.\n\t         * @method\n\t         */\n\t        dismiss: function dismiss(key, options) {\n\t            this.preventAnyAlert = false;\n\t            var alert = _alerts[key];\n\t            if (!alert) return;\n\t            if (alert.timerId) clearTimeout(alert.timerId);\n\t            alert.close(options);\n\t            delete _alerts[key];\n\t        },\n\t\n\t        /**\n\t         * Removes all alert messages with a given level.\n\t         * @param {String} level(optional) Level of alerts to dismiss.\n\t         * @param {Object} options(optional) Options.\n\t         * Dismisses all alerts if the level is not specified.\n\t         * @method\n\t         */\n\t        dismissAll: function dismissAll(level, options) {\n\t            _.each(_alerts, function (alert, key) {\n\t                if (!level || alert.level == level) {\n\t                    this.dismiss(key, options);\n\t                }\n\t            }, this);\n\t        },\n\t\n\t        /**\n\t         * Gets an alert with a given key.\n\t         * @param {String} key The key of the alert to retrieve.\n\t         * @return {View.AlertView} Alert view with the specified key.\n\t         */\n\t        get: function get(key) {\n\t            return _alerts[key];\n\t        },\n\t\n\t        /**\n\t         * Gets alerts that are currently displayed.\n\t         * @return {Object} All alerts.\n\t         */\n\t        getAll: function getAll() {\n\t            return _alerts;\n\t        }\n\t    };\n\t\n\t    /**\n\t     * Base class for alerts.\n\t     *\n\t     * Extend this class to provide custom alert behavior:\n\t     * <pre><code>\n\t     * var PortalAlertView = app.view.AlertView.extend({\n\t     *\n\t     *    initialize: function(options) {\n\t     *       app.view.AlertView.prototype.initialize.call(this, options);\n\t     *\n\t     *       // You may override and/or pre-compile alert template\n\t     *       this.tpl = 'my-alert';\n\t     *       app.template.compile('my-alert', 'handlebars code...');     *\n\t     *    },\n\t     *\n\t     *    render: function(options) {\n\t     *        // Provide your custom rendering logic.\n\t     *        // For example, switch between different templates\n\t     *        this.tpl = \"alert2\";\n\t     *        app.view.AlertView.prototype.render.call(this, options);\n\t     *    },\n\t     *\n\t     *    close: function() {\n\t     *        // Provide your custom dismiss logic: animation, fade effects, etc.\n\t     *    }\n\t     * });\n\t     * </code></pre>\n\t     *\n\t     * @class View.AlertView\n\t     * @alias SUGAR.App.view.AlertView\n\t     */\n\t    app.view.AlertView = app.view.Component.extend({\n\t\n\t        /**\n\t         * Name of the default template.\n\t         */\n\t        tpl: '<div class=\"alert alert-block\">{{#if title}}<strong>{{title}}</strong>{{/if}}{{#each messages}}{{./this}}{{/each}}</div>',\n\t\n\t        /**\n\t         * Closes an alert.\n\t         *\n\t         * @deprecated since 7.7 please use {@link #dispose}.\n\t         */\n\t        close: function close() {\n\t            this.remove();\n\t        },\n\t\n\t        /**\n\t         * Renders an alert.\n\t         *\n\t         * The method executes a pre-compiled template and replaces the inner\n\t         * HTML of this view root DOM element.\n\t         * Additionally, `alert-[level]` class is added to the root element.\n\t         */\n\t        render: function render() {\n\t            var tpl = Handlebars.compile(this.tpl);\n\t            this.$el.html(tpl(this.options));\n\t            this.$('.alert').addClass('alert-' + this.options.level);\n\t        }\n\t\n\t    });\n\t\n\t    app.augment(\"alert\", _alert, true);\n\t})(SUGAR.App);\n\n/***/ },\n/* 63 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t\n\t/**\n\t * SugarCRM Analytics API allows user actions to be tracked via an analytics engine.\n\t *\n\t * The application event \"app:analytics:init\" will fire on app.start(). It is recommended that applications use a\n\t * universal handler to handle pave view changes. Please see the Page Tracking section below for an example of this.\n\t *\n\t * Connectors:\n\t *\n\t * Analytics connectors are loaded from SUGAR.App.analytics.connectors.\n\t *\n\t * Connectors implement the following functions:\n\t *\n\t * initialize()\n\t *\n\t * - called on app:init, load the analytics api.\n\t *\n\t * start(id, options)\n\t *\n\t * - called on app:start, prepare or open the connection to the analytics system.\n\t *\n\t * @param  {String}id, tracking id of for analytics system\n\t * @param  {Object}options, SUGAR.App.config.analytics configuration.\n\t *\n\t * trackPageView(pageURI)\n\t *\n\t * - track a change of page.\n\t *\n\t * @param  {String} pageURI.\n\t *\n\t * trackEvent()\n\t *\n\t * - track an event on the page.\n\t *\n\t * @param  {Object} event, with the following attributes: category, action, label, value. Label is always set as the current route the user is on.\n\t *\n\t * Below is a sample connector.\n\t * <pre>\n\t * (function(app) {\n\t * SUGAR.App.analytics = SUGAR.App.analytics || {};\n\t * SUGAR.App.analytics.connectors = SUGAR.App.analytics.connectors || {};\n\t * SUGAR.App.analytics.connectors[\"FakeConnector\"]  = {\n\t *     initialized: false,\n\t *     connectorId: null,\n\t *       pageLog: [],\n\t *       eventLog: [],\n\t *       initialize: function() {\n\t *           this.initialized = true;\n\t *       },\n\t *       start: function(id, options) {\n\t *           this.connectorId = id;\n\t *       },\n\t *       trackPageView: function(pageUri) {\n\t *           this.pageLog.push(pageUri);\n\t *       },\n\t *       trackEvent: function(event) {\n\t *           this.eventLog.push(event);\n\t *       }\n\t *   };\n\t * })(SUGAR.App);\n\t * </pre>\n\t *\n\t *\n\t * Configuration:\n\t *\n\t * Set the following in SUGAR.App.config.analytics. The entire config is passed to the connector start method as options.\n\t *\n\t * <pre>\n\t * {\n\t *     enabled: true,\n\t *     connector: \"GoogleAnalytics\",\n\t *     id: 'UA-XXXXXXXX-X'\n\t * }\n\t * </pre>\n\t *\n\t *\n\t * Page Tracking:\n\t *\n\t * Use SUGAR.App.analytics.trackPageView(uri); to track page views. An example of a universal way of handling page\n\t * tracking would be the following.\n\t *\n\t * <pre>\n\t * app.on(\"app:analytics:init\", function() {\n\t *     app.routing.before('route', function(options){\n\t *          options = options || {};\n\t *          var args = options.args || [];\n\t *          var subroute;\n\t *          if (args[0]) {\n\t *              var qpos = args[0].indexOf('?');\n\t *              subroute = qpos > -1 ? args[0].substring(0, args[0].indexOf('?')) : args[0];\n\t *          }\n\t *          var viewId = options.route + (subroute ? '/' + subroute : '');\n\t *\n\t *          app.analytics.currentViewId = viewId;\n\t *          app.analytics.trackPageView(app.analytics.currentViewId);\n\t *      }, this);\n\t * });\n\t * app.start();\n\t * </pre>\n\t *\n\t *\n\t * Event Tracking:\n\t *\n\t * Use SUGAR.App.analytics.trackEvent(category, action, event, value); to track events.\n\t *\n\t * The label will always be the app.analytics.currentViewId for any event.\n\t *\n\t * In JavaScript, this method can be called directly to track any event.\n\t *\n\t * In Templates, the analytics engine plugs into all views to look for elements with a track attribute on them.\n\t * The value of the attribute will contain the event data <category>:<action>.<css class to check>.\n\t * The event value is sent as 1 or 0 depending on if that css class is present on the element.\n\t *\n\t * <pre>\n\t *    <a href=\"#\" class=\"trackedClass\" track=\"click:home.trackedClass\">Home</a>\n\t * </pre>\n\t *\n\t * @class SUGAR.analytics\n\t */\n\t(function(app) {\n\t\n\t    var _analytics = {\n\t\n\t        eventSplitter: /\\s{2,}/,\n\t        currentViewId: '',\n\t\n\t        /**\n\t         * Object containing the list of events to track, mapped to their\n\t         * respective DOM selector.\n\t         *\n\t         * @protected\n\t         * @type {Object}\n\t         */\n\t        _eventsHash: {\n\t            click: '[track^=click]',\n\t            swipeleft: '[track^=swipeleft]',\n\t            swiperight: '[track^=swiperight]'\n\t        },\n\t\n\t        init: function() {\n\t            if (!app.config.analytics || !app.config.analytics.enabled ||\n\t                !app.config.analytics.connector || !app.analytics.connectors[app.config.analytics.connector]\n\t            ) {\n\t                this.trackPageView = function() {};\n\t                this.trackEvent = function() {};\n\t                return;\n\t            }\n\t\n\t            var self = this;\n\t            app.on('app:init', function() {\n\t                app.events.register('app:analytics:init', this);\n\t                app.analytics.connector = app.analytics.connectors[app.config.analytics.connector];\n\t                app.analytics.connector.initialize();\n\t\n\t                _.each(self._eventsHash, function(val, key) {\n\t                    $('html').on(key, val, function(e) {\n\t                        var data = self._parseTrackTag($(this).attr('track'));\n\t                        app.analytics.trackEvent(key, data.action, e, data.value);\n\t                    });\n\t                });\n\t            }).on('app:start', function() {\n\t\n\t                // Apps should do their initialization of page tracking based on the following event.\n\t                app.trigger('app:analytics:init');\n\t\n\t                var id = app.config.analytics.id;\n\t                // Keep backwards compatible with nomad\n\t                if (_.isObject(id)) {\n\t                    app.logger.warn('Analytics config id needs to be a valid tracking ID.');\n\t                    id = app.isNative ? id.native : id.web;\n\t                }\n\t\n\t                app.analytics.connector.start(id, app.config.analytics);\n\t\n\t            }).on('app:sync:complete', function() {\n\t\n\t                var serverInfo = app.metadata.getServerInfo();\n\t\n\t                app.analytics.connector.set('appName',\n\t                    'SugarCRM:' + app.config.platform + ':' + (serverInfo.flavor || '').toLowerCase()\n\t                );\n\t                app.analytics.connector.set('appVersion', serverInfo.version + ':' + serverInfo.build);\n\t\n\t            }).on('app:locale:change', function() {\n\t\n\t                app.analytics.connector.set('language', app.user.getLanguage());\n\t            }).on('app:view:change', function(layout, params){\n\t                app.analytics.currentViewId = layout + (params.module ? '/' + params.module : '');\n\t                app.analytics.trackPageView(app.analytics.currentViewId);\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Track a page view.\n\t         *\n\t         * @param {string} page URI.\n\t         * @member SUGAR.analytics\n\t         */\n\t        trackPageView: function(page) {\n\t            app.logger.debug(\"GAN-page: \" + page);\n\t            app.analytics.connector.trackPageView(page);\n\t        },\n\t\n\t        /**\n\t         * Track an event.\n\t         *\n\t         * @param {string} category Category of the event.\n\t         * @param {string} action Action of the event.\n\t         * @param {Object} event Event to track.\n\t         * @param {number} [value] Value associated with the event.\n\t         * @member SUGAR.analytics\n\t         */\n\t        trackEvent: function(category, action, event, value) {\n\t            action = (_.isEmpty(action) && event ? event.currentTarget.id : action) || '[unknown]';\n\t            app.logger.debug('GAN-event: ' + category + ':' + action  + '(' + value + ')' + ' on ' + this.currentViewId);\n\t            app.analytics.connector.trackEvent({\n\t                category: category,\n\t                action: action,\n\t                label: this.currentViewId,\n\t                value: value\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Parses the `track` attribute.\n\t         *\n\t         * @param {String} track The value of the `track` attribute.\n\t         * @return {Object} The hash containing the data to pass to\n\t         *   {@link SUGAR.analytics#trackEvent}\n\t         * @return {string} return.action The action (example: 'mass_delete').\n\t         * @return {number|null} return.value The value corresponding to the action.\n\t         * @private\n\t         */\n\t        _parseTrackTag: function(track) {\n\t            var result = {action: '', value: null};\n\t            var pieces = track.split(':');\n\t            if (!pieces[1]) {\n\t                return result;\n\t            }\n\t            var actionValue = pieces[1].split('.');\n\t            result.action = actionValue[0];\n\t            if (actionValue[1]) {\n\t                result.value = actionValue[1];\n\t            }\n\t\n\t            return result;\n\t        },\n\t\n\t        /**\n\t         * @private\n\t         * @member SUGAR.analytics\n\t         */\n\t        _attachEvents: function(events, action, css, $el) {\n\t            if (events) {\n\t                $el.off(events);\n\t                $el.on(events, function (e) {\n\t                    app.analytics.trackEvent(e.type, action, e, (css && $(this).hasClass(css) ? 1 : 0));\n\t                });\n\t            }\n\t        },\n\t\n\t        dispose: function() {\n\t            app.off(null, null, this);\n\t        }\n\t    };\n\t\n\t    app.augment('analytics', _analytics);\n\t\n\t})(SUGAR.App);\n\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function(app) {\n\t    var optOut;\n\t\n\t    app.analytics = app.analytics || {};\n\t    app.analytics.connectors = app.analytics.connectors || {};\n\t\n\t    // Use with newer Universal GA clients\n\t    app.analytics.connectors.GoogleAnalytics  = {\n\t\n\t        /* initialize()\n\t         *\n\t         * - called on app:init, load the analytics api.\n\t         *\n\t         * @member SUGAR.analytics.connectors.GoogleAnalytics\n\t         */\n\t        initialize: function() {\n\t            // this code is taken directly from Google's analytics.js API\n\t            // https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced\n\t            /* jshint ignore:start */\n\t            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n\t                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n\t            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n\t            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\t            /* jshint ignore:end */\n\t        },\n\t\n\t        /* start(id, options)\n\t         *\n\t         * - called on app:start, prepare or open the connection to the analytics system.\n\t         *\n\t         * @param {string} id Tracking id for the analytics system.\n\t         * @param {Object} options SUGAR.App.config.analytics configuration.\n\t         * @member SUGAR.analytics.connectors.GoogleAnalytics\n\t         */\n\t        start: function (id, options) {\n\t            options.gaOptions = options.gaOptions || {};\n\t            _.defaults(options.gaOptions, {\n\t                cookieDomain: 'none',\n\t                forceSSL: true,\n\t            });\n\t            ga('create', id, options.gaOptions);\n\t            optOut = options.optOut;\n\t            if (optOut) {\n\t                window['ga-disable-' + id] = true;\n\t            }\n\t        },\n\t        /* trackPageView(pageURI)\n\t         *\n\t         * - track a change of page.\n\t         *\n\t         * @param {string} pageURI URI of the page viewed.\n\t         * @member SUGAR.analytics.connectors.GoogleAnalytics\n\t         */\n\t        trackPageView: function(pageUri) {\n\t            ga('send', 'pageview', pageUri);\n\t        },\n\t        /* trackEvent()\n\t         *\n\t         * - track an event on the page.\n\t         *\n\t         * @param {Object} event Google Analytics event to track.\n\t         * @param {string} event.category Category of the event.\n\t         * @param {string} event.action Action of the event.\n\t         * @param {string} event.label Always set to the route the user is on.\n\t         * @param {int} [event.value] Value of the event.\n\t         * @member SUGAR.analytics.connectors.GoogleAnalytics\n\t         */\n\t        trackEvent: function(event) {\n\t            ga('send', 'event', event.category, event.action, event.label, event.value);\n\t        },\n\t\n\t        /**\n\t         * Set tracker params.\n\t         * @param {string} key The param name.\n\t         * @param {Mixed} value The value to send to the tracker.\n\t         */\n\t        set: function(key, value) {\n\t            ga('set', key, value);\n\t        }\n\t    };\n\t})(SUGAR.App);\n\n\n/***/ },\n/* 65 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t/**\n\t * LiveRelativeDate plugin is a jQuery/Zepto plugin for sidecar that converts a\n\t * date into a relative time with a timer to keep it relative to current time.\n\t *\n\t * To use it is simple, just run:\n\t *\n\t * ```\n\t * $('[data-relative-to]').liverelativedate();\n\t * ```\n\t *\n\t * To define the attribute where the ISO-8601 date can be found (defaults to\n\t * `datetime` attribute of used by `<time>` tag):\n\t *\n\t * ```\n\t * $('[data-my-iso-8601]').liverelativedate({\n\t *     'attr': 'data-my-iso-8601'\n\t * });\n\t * ```\n\t *\n\t * To get the current update interval configured:\n\t *\n\t * ```\n\t * $.liverelativedate('interval');\n\t * ```\n\t *\n\t * To change the current update interval, do:\n\t *\n\t * ```\n\t * $.liverelativedate('interval', 10e3);\n\t * ```\n\t *\n\t * This plugin has a hard dependency with {@link Utils.Date} functions\n\t * available in Sidecar library. If you wish to override that behavior,\n\t * provide the override on those utility functions.\n\t *\n\t */\n\t(function(plugin) {\n\t    plugin(window.jQuery || window.Zepto, SUGAR.App.date);\n\t}(function($, date) {\n\t\n\t    var updateInterval = 6e4, // every minute\n\t        $liveDates = $([]),\n\t        timeout;\n\t\n\t    /**\n\t     * This is the running cycle. It will automatically stop if we don't have\n\t     * dates to listen to.\n\t     */\n\t    var run = function() {\n\t        if (!$liveDates.length) {\n\t            return;\n\t        }\n\t        timeout = setTimeout(run, updateInterval);\n\t        liveRelativeDateGlobal.update();\n\t    };\n\t\n\t    /**\n\t     * List of methods available from the plugin directly. These are the global\n\t     * methods.\n\t     */\n\t    var liveRelativeDateGlobal = {\n\t\n\t        /**\n\t         * Updates provided Elements or all stored elements if none provided.\n\t         *\n\t         * On each update of an element, we check if the new date is different\n\t         * from the old (to minimize the DOM changes) and trigger an event\n\t         * `change.liveRelativeDate` if it is, to check if any subscribed\n\t         * listeners want to stop the DOM update.\n\t         *\n\t         * This method also keeps the `$liveDates` array clean from lost\n\t         * elements that weren't properly destroyed.\n\t         *\n\t         * @param {jQuery} [$el] The jQuery elements to update. If empty, will\n\t         *   update all stored elements.\n\t         */\n\t        update: function($el) {\n\t            $el = $el || $liveDates;\n\t\n\t            $el.each(function(i, el) {\n\t                var $this = $(el),\n\t                    options = $this.data('liveRelativeDate'),\n\t                    value;\n\t\n\t                if (!options) {\n\t                    // auto clean up in case some one forgot to destroy it.\n\t                    $liveDates = $liveDates.not(el);\n\t                    return;\n\t                }\n\t\n\t                value = options.date ? $this.data(options.date) : $this.attr('datetime');\n\t\n\t                var from = $this.html(),\n\t                    // TODO we need to support dateOnly which would show \"today\" if there is no time available\n\t                    to = date(value).fromNow();\n\t\n\t                if (from === to) {\n\t                    return;\n\t                }\n\t\n\t                var e = $.Event('change.liveRelativeDate');\n\t                $this.trigger(e, [from, to]);\n\t\n\t                if (!e.isDefaultPrevented()) {\n\t                    $this.html(to);\n\t                }\n\t            });\n\t        },\n\t\n\t        /**\n\t         * Pauses the relative date time update.\n\t         */\n\t        pause: function() {\n\t            clearTimeout(timeout);\n\t            timeout = null;\n\t        },\n\t\n\t        /**\n\t         * Resumes the live relative date auto update if it isn't already\n\t         * running.\n\t         */\n\t        resume: function() {\n\t            if (!timeout) {\n\t                run();\n\t            }\n\t        },\n\t\n\t        /**\n\t         * Sets the interval if the param is provided, returns the current\n\t         * configured interval if no param is given.\n\t         *\n\t         * @param {number} [interval] The interval to set. Pass `undefined` to\n\t         *   get the current value.\n\t         *\n\t         * @return {number|undefined} The current interval or `undefined` if\n\t         *   setting the value.\n\t         */\n\t        interval: function(interval) {\n\t            if (interval === undefined) {\n\t                return updateInterval;\n\t            }\n\t            updateInterval = interval;\n\t        }\n\t    };\n\t\n\t    /**\n\t     * List of methods that are available based on the provided jQuery\n\t     * elements.\n\t     */\n\t    var liveRelativeDateLocal = {\n\t\n\t        /**\n\t         * Adds a set of Elements to the current live relative dates list.\n\t         *\n\t         * Accepts options that will be stored in the element itself to be used\n\t         * during the update of its content.\n\t         * This might **not** trigger an update to the added elements\n\t         * automatically, but will make sure the timer is running for the new\n\t         * elements.\n\t         *\n\t         * @param {jQuery} $el The set of elements to add to the updater.\n\t         * @param {Object} options The list of options to use in the\n\t         *   {@link #update} method.\n\t         * @return {jQuery} The elements being added.\n\t         */\n\t        add: function($el, options) {\n\t\n\t            if (!$el || $el.length === 0) {\n\t                return $el;\n\t            }\n\t            options = options || {};\n\t\n\t            $el.data('liveRelativeDate', JSON.stringify(options));\n\t            $liveDates = $liveDates.add($el);\n\t\n\t            liveRelativeDateGlobal.resume();\n\t\n\t            return $el;\n\t        },\n\t\n\t        /**\n\t         * Clears a set of Elements from the list of live dates to update.\n\t         *\n\t         * Clears the data `live-relative-date` from the element.\n\t         * Doesn't restore the original value of the element when this plugin\n\t         * was applied.\n\t         *\n\t         * @param {jQuery} $el The jQuery elements to remove from the listener.\n\t         * @return {jQuery} The elements removed from the list of updates.\n\t         */\n\t        destroy: function($el) {\n\t\n\t            $liveDates = $liveDates.not($el);\n\t            $el.removeAttr('data-live-relative-date');\n\t            return $el;\n\t        },\n\t\n\t        /**\n\t         * Returns `true` if the passed Elements are being tracked/updated by\n\t         * this plugin.\n\t         *\n\t         * @param {jQuery} $els The elements to check.\n\t         * @return {Boolean} Returns `true` if all elements are being tracked\n\t         *   by the plugin, `false` otherwise.\n\t         */\n\t        isLiveRelativeDate: function($els) {\n\t\n\t            var tracked = true;\n\t            $.each($els, function(el) {\n\t                if ($(el).data('liveRelativeDate') === undefined) {\n\t                    tracked = false;\n\t                    return true;\n\t                }\n\t            });\n\t            return tracked;\n\t        }\n\t    };\n\t\n\t    $.liverelativedate = liveRelativeDateGlobal;\n\t\n\t    $.fn.liverelativedate = function(method, options) {\n\t\n\t        if (!liveRelativeDateLocal[method]) {\n\t            options = method;\n\t            method = 'add';\n\t        }\n\t\n\t        return liveRelativeDateLocal[method](this, options);\n\t    };\n\t}));\n\n\n/***/ },\n/* 66 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*\n\t * Your installation or use of this SugarCRM file is subject to the applicable\n\t * terms available at\n\t * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n\t * If you do not agree to all of the applicable terms or do not have the\n\t * authority to bind the entity as an authorized representative, then do not\n\t * install or use this SugarCRM file.\n\t *\n\t * Copyright (C) SugarCRM Inc. All rights reserved.\n\t */\n\t(function (app) {\n\t    app.events.on('app:init', function () {\n\t\n\t        _.mixin({\n\t            /**\n\t             * Check to see if a value is empty.\n\t             *\n\t             * Returns true if:\n\t             *\n\t             * - value is undefined or null\n\t             * - value is an empty string\n\t             * - value is an empty object\n\t             * - value is an empty array\n\t             *\n\t             * All other values return false.\n\t             *\n\t             * @param value\n\t             * @return {boolean}\n\t             */\n\t            isEmptyValue: function isEmptyValue(value) {\n\t                return !_.isNumber(value) && !_.isBoolean(value) && !_.isDate(value) && _.isEmpty(value);\n\t            },\n\t\n\t            /**\n\t             * Performs a deep-diff comparison between two javascript objects,\n\t             * and returns a hash of key-values of keys merged between `obj1`\n\t             * and `obj2`, and `true` if there were changes, `false` if not.\n\t             *\n\t             * It does not matter which order you pass the parameters, the\n\t             * return object will remain the same.\n\t             *\n\t             * Example:\n\t             *\n\t             *     var newModelAttributes = {\n\t             *         a: 1,\n\t             *         b: {create: true, edit: false},\n\t             *         c: 'test',\n\t             *         d: {a: 'b', c: {d: true}}\n\t             *     };\n\t             *\n\t             *     var oldModelAttributes = {\n\t             *         a: 1,\n\t             *         b: {create: true},\n\t             *         c: undefined,\n\t             *         e: [1, 2]\n\t             *     };\n\t             *\n\t             *     _.changed(newModelAttributes, oldModelAttributes);\n\t             *     >> {a: false, b: true, c: true, d: true, e: true}\n\t             *\n\t             * @param {Object} obj1 The first of two objects to diff between.\n\t             * @param {Object} obj2 The second of two objects to diff between.\n\t             * @return {Object|undefined} The hash of differences between `obj1`\n\t             *   and `obj2`. Returns `undefined` if `obj1` and `obj2` are empty.\n\t             */\n\t            changed: function changed(obj1, obj2) {\n\t                if (_.isEmpty(obj1) && _.isEmpty(obj2)) {\n\t                    return;\n\t                }\n\t\n\t                var result = {};\n\t                var allKeys = _.keys(_.extend(result, obj2, obj1));\n\t\n\t                _.each(allKeys, function (key) {\n\t                    var changed = false;\n\t                    if (!_.has(obj1, key) || !_.has(obj2, key) || !_.isEqual(obj1[key], obj2[key])) {\n\t                        changed = true;\n\t                    }\n\t                    result[key] = changed;\n\t                });\n\t\n\t                return result;\n\t            }\n\t        });\n\t    });\n\t})(SUGAR.App);\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// sidecar.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b97ee8f4bc100bdbac53","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n\nrequire('script!crosstab');\n\nvar SUGAR = require('imports?SUGAR=>window.SUGAR!exports?SUGAR!app.js');\n\n// globalize these for Mango bwc:\nrequire('script!jquery/dist/jquery.min.js');\nrequire('script!underscore/underscore-min.js');\nrequire('script!backbone/backbone.min.js');\nrequire('script!handlebars/dist/handlebars.min.js');\nwindow.async = require('async');\nrequire('script!moment/min/moment.min.js');\nrequire('script!store/store.min.js');\nwindow.SUGAR = SUGAR;\n\nrequire('script!jquery/jquery-migrate-1.2.1.min.js');\nrequire('script!jquery-ui/js/jquery-ui-1.11.4.custom.min.js');\nrequire('script!jquery/jquery.iframe.transport.js');\n\nrequire('script!php-js/version_compare.js');\n\nrequire('script!big.js');\n\nrequire('imports?SUGAR=>window.SUGAR!sugarapi/sugarapi.js');\nrequire('utils/utils.js');\nrequire('utils/date.js');\nrequire('utils/math.js');\nrequire('utils/currency.js');\nrequire('core/before-event.js');\nrequire('core/cache.js');\nrequire('core/cookie.js');\nrequire('core/events.js');\nrequire('core/error.js');\nrequire('view/template.js');\nrequire('core/context.js');\nrequire('core/controller.js');\nrequire('core/router.js');\nrequire('core/language.js');\nrequire('core/metadata-manager.js');\nrequire('core/acl.js');\nrequire('core/user.js');\nrequire('core/plugin-manager.js');\nrequire('utils/logger.js');\nrequire('data/bean.js');\nrequire('data/bean-collection.js');\nrequire('data/mixed-bean-collection.js');\nrequire('data/data-manager.js');\nrequire('data/validation.js');\nrequire('view/hbs-helpers.js');\nrequire('view/view-manager.js');\nrequire('view/component.js');\nrequire('view/view.js');\nrequire('view/field.js');\nrequire('view/layout.js');\nrequire('view/alert.js');\nrequire('sugaranalytics/sugaranalytics.js');\nrequire('sugaranalytics/googleanalyticsconnector.js');\nrequire('sugar/sugar.liverelativedate.js');\nrequire('utils/underscore-mixins.js');\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry.js","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/crosstab/src/crosstab.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/crosstab/src/crosstab.js\n// module id = 2\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(src) {\r\n\tif (typeof execScript !== \"undefined\")\r\n\t\texecScript(src);\r\n\telse\r\n\t\teval.call(null, src);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader/addScript.js\n// module id = 3\n// module chunks = 0","module.exports = \"/*!\\r\\n * crosstab JavaScript Library v0.2.7\\r\\n * https://github.com/tejacques/crosstab\\r\\n *\\r\\n * License: Apache 2.0 https://github.com/tejacques/crosstab/blob/master/LICENSE\\r\\n */\\r\\n; (function (define) { define('crosstab', function (require, exports, module) {\\r\\n    'use strict';\\r\\n\\r\\n    // --- Handle Support ---\\r\\n    // See: http://detectmobilebrowsers.com/about\\r\\n    var useragent = navigator.userAgent || navigator.vendor || window.opera;\\r\\n    var isMobile = (/(android|bb\\\\d+|meego).+mobile|avantgo|bada\\\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(useragent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(useragent.substr(0, 4)));\\r\\n\\r\\n    var localStorage;\\r\\n    try {\\r\\n        localStorage = window.localStorage;\\r\\n        localStorage = window['ie-eventlistener/storage'] || window.localStorage;\\r\\n    } catch (e) {\\r\\n        // New versions of Firefox throw a Security exception\\r\\n        // if cookies are disabled. See\\r\\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\\r\\n    }\\r\\n\\r\\n    // When Safari on OS X or iOS is in private browsing mode,\\r\\n    // calling localStorage.setItem throws an exception.\\r\\n    //\\r\\n    // \\\"QUOTA_EXCEEDED_ERR: DOM Exception 22: An attempt was made\\r\\n    // to add something to storage that exceeded the quota.\\\"\\r\\n    var setItemAllowed = true;\\r\\n    try {\\r\\n        localStorage.setItem('__crosstab', '');\\r\\n        localStorage.removeItem('__crosstab');\\r\\n    } catch (e) {\\r\\n        setItemAllowed = false;\\r\\n    }\\r\\n\\r\\n    // Other reasons\\r\\n    var frozenTabEnvironment = false;\\r\\n\\r\\n    function notSupported() {\\r\\n        if (crosstab.supported) return;\\r\\n        var errorMsg = 'crosstab not supported';\\r\\n        var reasons = [];\\r\\n        if (!localStorage) {\\r\\n            reasons.push('localStorage not availabe');\\r\\n        }\\r\\n        if (!window.addEventListener) {\\r\\n            reasons.push('addEventListener not available');\\r\\n        }\\r\\n        if (isMobile) {\\r\\n            reasons.push('mobile browser');\\r\\n        }\\r\\n        if (frozenTabEnvironment) {\\r\\n            reasons.push('frozen tab environment detected');\\r\\n        }\\r\\n        if (!setItemAllowed) {\\r\\n            reasons.push('localStorage.setItem not allowed');\\r\\n        }\\r\\n\\r\\n        if (reasons.length > 0) {\\r\\n            errorMsg += ': ' + reasons.join(', ');\\r\\n        }\\r\\n\\r\\n        throw new Error(errorMsg);\\r\\n    }\\r\\n\\r\\n    // --- Utility ---\\r\\n    var util = {\\r\\n        keys: {\\r\\n            MESSAGE_KEY: 'crosstab.MESSAGE_KEY',\\r\\n            TABS_KEY: 'crosstab.TABS_KEY',\\r\\n            MASTER_TAB: 'MASTER_TAB',\\r\\n            SUPPORTED_KEY: 'crosstab.SUPPORTED',\\r\\n            FROZEN_TAB_ENVIRONMENT: 'crosstab.FROZEN_TAB_ENVIRONMENT'\\r\\n        }\\r\\n    };\\r\\n\\r\\n    var toString = Object.prototype.toString;\\r\\n\\r\\n    util.isArray = Array.isArray || function (arr) {\\r\\n        return arr instanceof Array;\\r\\n    };\\r\\n\\r\\n    util.isNumber = function (num) {\\r\\n        return typeof num === 'number';\\r\\n    };\\r\\n\\r\\n    util.isFunction = function (fn) {\\r\\n        return typeof fn === 'function';\\r\\n    };\\r\\n\\r\\n    util.forEachObj = function (obj, fn) {\\r\\n        for (var key in obj) {\\r\\n            if (obj.hasOwnProperty(key)) {\\r\\n                fn.call(obj, obj[key], key);\\r\\n            }\\r\\n        }\\r\\n    };\\r\\n\\r\\n    util.forEachArr = function (arr, fn) {\\r\\n        var len = arr.length;\\r\\n        for (var i = 0; i < len; i++) {\\r\\n            fn.call(arr, arr[i], i, arr);\\r\\n        }\\r\\n    };\\r\\n\\r\\n    util.forEach = function (thing, fn) {\\r\\n        if (util.isArray(thing)) {\\r\\n            util.forEachArr(thing, fn);\\r\\n        } else {\\r\\n            util.forEachObj(thing, fn);\\r\\n        }\\r\\n    };\\r\\n\\r\\n    util.map = function (thing, fn) {\\r\\n        var res = [];\\r\\n        util.forEach(thing, function (item) {\\r\\n            res.push(fn(item));\\r\\n        });\\r\\n\\r\\n        return res;\\r\\n    };\\r\\n\\r\\n    util.filter = function (thing, fn) {\\r\\n        var isArr = util.isArray(thing);\\r\\n        var res = isArr ? [] : {};\\r\\n\\r\\n        if (isArr) {\\r\\n            util.forEachArr(thing, function (value, key) {\\r\\n                if (fn(value, key)) {\\r\\n                    res.push(value);\\r\\n                }\\r\\n            });\\r\\n        } else {\\r\\n            util.forEachObj(thing, function (value, key) {\\r\\n                if (fn(value, key)) {\\r\\n                    res[key] = value;\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n\\r\\n        return res;\\r\\n    };\\r\\n\\r\\n    util.now = function () {\\r\\n        return (new Date()).getTime();\\r\\n    };\\r\\n\\r\\n    util.tabs = getStoredTabs();\\r\\n\\r\\n    util.eventTypes = {\\r\\n        becomeMaster: 'becomeMaster',\\r\\n        demoteFromMaster: 'demotedFromMaster',\\r\\n        tabUpdated: 'tabUpdated',\\r\\n        tabClosed: 'tabClosed',\\r\\n        tabPromoted: 'tabPromoted'\\r\\n    };\\r\\n\\r\\n    // --- Events ---\\r\\n    // node.js style events, with the main difference being able\\r\\n    // to add/remove events by key.\\r\\n    util.createEventHandler = function () {\\r\\n        var events = {};\\r\\n        var subscribeKeyToListener = {};\\r\\n\\r\\n        var findHandlerByKey = function(event, key) {\\r\\n            var handler;\\r\\n            if (subscribeKeyToListener[event]) {\\r\\n                handler = subscribeKeyToListener[event][key];\\r\\n            }\\r\\n            return handler;\\r\\n        };\\r\\n\\r\\n        var findHandlerIndex = function (event, listener) {\\r\\n            var listenerIndex = -1;\\r\\n            var eventList = events[event];\\r\\n            if (eventList && listener) {\\r\\n                var len = eventList.length || 0;\\r\\n                for(var i = 0; i < len; i++) {\\r\\n                    if (eventList[i] === listener) {\\r\\n                        listenerIndex = i;\\r\\n                        break;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n            return listenerIndex;\\r\\n        };\\r\\n\\r\\n        var addListener = function (event, listener, key) {\\r\\n            var handlers = listeners(event);\\r\\n\\r\\n            var storedHandler = findHandlerByKey(event, key);\\r\\n            var listenerIndex;\\r\\n\\r\\n            if (storedHandler === undefined) {\\r\\n                listenerIndex = handlers.length;\\r\\n                handlers[listenerIndex] = listener;\\r\\n\\r\\n                if (!subscribeKeyToListener[event]) {\\r\\n                    (subscribeKeyToListener[event] = {});\\r\\n                }\\r\\n\\r\\n                if (key) {\\r\\n                    subscribeKeyToListener[event][key] = listener;\\r\\n                }\\r\\n            } else {\\r\\n                listenerIndex = findHandlerIndex(event, storedHandler);\\r\\n                handlers[listenerIndex] = listener;\\r\\n            }\\r\\n\\r\\n            return key || listener;\\r\\n        };\\r\\n\\r\\n        var removeListener = function (event, key) {\\r\\n            var handler = util.isFunction(key)\\r\\n                ? key\\r\\n                : findHandlerByKey(event, key);\\r\\n\\r\\n            var listenerIndex = findHandlerIndex(event, handler);\\r\\n            if (listenerIndex === -1) return false;\\r\\n\\r\\n            if (events[event] && events[event][listenerIndex]) {\\r\\n                events[event].splice(listenerIndex, 1);\\r\\n                delete subscribeKeyToListener[event][key];\\r\\n                return true;\\r\\n            }\\r\\n            return false;\\r\\n        };\\r\\n\\r\\n        var removeAllListeners = function (event) {\\r\\n            var successful = false;\\r\\n            if (event) {\\r\\n                if (events[event]) {\\r\\n                    delete events[event];\\r\\n                    successful = true;\\r\\n                }\\r\\n                if (subscribeKeyToListener[event]) {\\r\\n                    delete subscribeKeyToListener[event];\\r\\n                    successful = successful && true;\\r\\n                }\\r\\n            } else {\\r\\n                events = {};\\r\\n                subscribeKeyToListener = {};\\r\\n                successful = true;\\r\\n            }\\r\\n            return successful;\\r\\n        };\\r\\n\\r\\n        var emit = function (event) {\\r\\n            var args = Array.prototype.slice.call(arguments, 1);\\r\\n            var handlers = listeners(event);\\r\\n\\r\\n            util.forEach(handlers, function (listener) {\\r\\n                if (util.isFunction(listener)) {\\r\\n                    listener.apply(this, args);\\r\\n                }\\r\\n            });\\r\\n        };\\r\\n\\r\\n        var once = function (event, listener, key) {\\r\\n            // Generate a unique id for this listener\\r\\n            while (!key || (findHandlerByKey(event, key) !== undefined)) {\\r\\n                key = util.generateId();\\r\\n            }\\r\\n\\r\\n            addListener(event, function () {\\r\\n                removeListener(event, key);\\r\\n                var args = Array.prototype.slice.call(arguments);\\r\\n                listener.apply(this, args);\\r\\n            }, key);\\r\\n\\r\\n            return key;\\r\\n        };\\r\\n\\r\\n        var listeners = function (event) {\\r\\n            var handlers = events[event] = events[event] || [];\\r\\n            return handlers;\\r\\n        };\\r\\n\\r\\n        var destructor = function() {\\r\\n            removeAllListeners();\\r\\n        };\\r\\n\\r\\n        return {\\r\\n            addListener: addListener,\\r\\n            destructor: destructor,\\r\\n            on: addListener,\\r\\n            off: function(event, key) {\\r\\n                var argsLen = arguments.length;\\r\\n                if (!argsLen) {\\r\\n                    return removeAllListeners();\\r\\n                } else if (argsLen === 1) {\\r\\n                    return removeAllListeners(event);\\r\\n                } else {\\r\\n                    return removeListener(event, key);\\r\\n                }\\r\\n            },\\r\\n            once: once,\\r\\n            emit: emit,\\r\\n            listeners: listeners,\\r\\n            removeListener: removeListener,\\r\\n            removeAllListeners: removeAllListeners\\r\\n        };\\r\\n    };\\r\\n\\r\\n    // --- Setup Events ---\\r\\n    var eventHandler = util.createEventHandler();\\r\\n\\r\\n    // wrap eventHandler so that setting it will not blow up\\r\\n    // any of the internal workings\\r\\n    util.events = {\\r\\n        addListener: eventHandler.addListener,\\r\\n        on: eventHandler.on,\\r\\n        off: eventHandler.off,\\r\\n        once: eventHandler.once,\\r\\n        emit: eventHandler.emit,\\r\\n        listeners: eventHandler.listeners,\\r\\n        removeListener: eventHandler.removeListener,\\r\\n        removeAllListeners: eventHandler.removeAllListeners,\\r\\n        destructor: eventHandler.destructor\\r\\n    };\\r\\n\\r\\n    var lastNewValue;\\r\\n    var lastOldValue;\\r\\n    function onStorageEvent(event) {\\r\\n        var eventValue;\\r\\n        var wasSupported = crosstab.supported;\\r\\n        try {\\r\\n            eventValue = event.newValue ? JSON.parse(event.newValue) : {};\\r\\n        } catch (e) {\\r\\n            eventValue = {};\\r\\n        }\\r\\n        if (!eventValue.id || eventValue.id === crosstab.id) {\\r\\n            // This is to force IE to behave properly\\r\\n            return;\\r\\n        }\\r\\n        if (event.newValue === lastNewValue && event.oldValue === lastOldValue) {\\r\\n            // Fix bug in IE11 where StorageEvents in iframes are sent twice.\\r\\n            return;\\r\\n        }\\r\\n        lastNewValue = event.newValue;\\r\\n        lastOldValue = event.oldValue;\\r\\n        if (event.key === util.keys.MESSAGE_KEY) {\\r\\n            var message = eventValue.data;\\r\\n            // only handle if this message was meant for this tab.\\r\\n            if (!message.destination || message.destination === crosstab.id) {\\r\\n                eventHandler.emit(message.event, message);\\r\\n            }\\r\\n        } else if (event.key === util.keys.FROZEN_TAB_ENVIRONMENT) {\\r\\n            frozenTabEnvironment = eventValue.data;\\r\\n            crosstab.supported = crosstab.supported && !eventValue.data;\\r\\n            //if (wasSupported) notSupported();\\r\\n        } else if (event.key === util.keys.SUPPORTED_KEY) {\\r\\n            crosstab.supported = crosstab.supported && eventValue.data;\\r\\n            //if(wasSupported) notSupported();\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function setLocalStorageItem(key, data) {\\r\\n        var storageItem = {\\r\\n            id: crosstab.id,\\r\\n            data: data,\\r\\n            timestamp: util.now()\\r\\n        };\\r\\n\\r\\n        localStorage.setItem(key, JSON.stringify(storageItem));\\r\\n    }\\r\\n\\r\\n    function getLocalStorageItem(key) {\\r\\n        var item = getLocalStorageRaw(key);\\r\\n        return item.data;\\r\\n    }\\r\\n\\r\\n    function getLocalStorageRaw(key) {\\r\\n        var json = localStorage ? localStorage.getItem(key) : null;\\r\\n        var item = json ? JSON.parse(json) : {};\\r\\n        return item;\\r\\n    }\\r\\n\\r\\n    function unload() {\\r\\n        crosstab.stopKeepalive = true;\\r\\n        var numTabs = 0;\\r\\n        util.forEach(util.tabs, function (tab, key) {\\r\\n            if (key !== util.keys.MASTER_TAB) {\\r\\n                numTabs++;\\r\\n            }\\r\\n        });\\r\\n\\r\\n        if (numTabs === 1) {\\r\\n            util.tabs = {};\\r\\n            setStoredTabs();\\r\\n        } else {\\r\\n            broadcast(util.eventTypes.tabClosed, crosstab.id);\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function restoreLoop() {\\r\\n        crosstab.stopKeepalive = false;\\r\\n        keepaliveLoop();\\r\\n    }\\r\\n\\r\\n    function swapUnloadEvents() {\\r\\n        // `beforeunload` replaced by `unload` (IE11 will be smart now)\\r\\n        window.removeEventListener('beforeunload', unload, false);\\r\\n        window.addEventListener('unload', unload, false);\\r\\n        restoreLoop();\\r\\n    }\\r\\n\\r\\n    function getMaster() {\\r\\n        return util.tabs[util.keys.MASTER_TAB];\\r\\n    }\\r\\n\\r\\n    function setMaster(newMaster) {\\r\\n        util.tabs[util.keys.MASTER_TAB] = newMaster;\\r\\n    }\\r\\n\\r\\n    function deleteMaster() {\\r\\n        delete util.tabs[util.keys.MASTER_TAB];\\r\\n    }\\r\\n\\r\\n    function getMasterId() {\\r\\n        var master = getMaster();\\r\\n\\r\\n        return master ? master.id : 0;\\r\\n    }\\r\\n\\r\\n    function isMaster() {\\r\\n        return getMasterId() === crosstab.id;\\r\\n    }\\r\\n\\r\\n    function masterTabElection() {\\r\\n        var maxId = null;\\r\\n        util.forEach(util.tabs, function (tab) {\\r\\n            if (!maxId || tab.id < maxId) {\\r\\n                maxId = tab.id;\\r\\n            }\\r\\n        });\\r\\n\\r\\n        // only broadcast the promotion if I am the new master\\r\\n        if (maxId === crosstab.id) {\\r\\n            broadcast(util.eventTypes.tabPromoted, crosstab.id);\\r\\n        } else {\\r\\n            // this is done so that in the case where multiple tabs are being\\r\\n            // started at the same time, and there is no current saved tab\\r\\n            // information, we will still have a value set for the master tab\\r\\n            setMaster({\\r\\n                id: maxId,\\r\\n                lastUpdated: util.now()\\r\\n            });\\r\\n        }\\r\\n    }\\r\\n\\r\\n    // Handle other tabs closing by updating internal tab model, and promoting\\r\\n    // self if we are the lowest tab id\\r\\n    eventHandler.addListener(util.eventTypes.tabClosed, function (message) {\\r\\n        var id = message.data;\\r\\n        if (util.tabs[id]) {\\r\\n            delete util.tabs[id];\\r\\n        }\\r\\n\\r\\n        if (!getMaster() || getMaster().id === id) {\\r\\n            // If the master was the closed tab, delete it and the highest\\r\\n            // tab ID becomes the new master, which will save the tabs\\r\\n            if (getMaster()) {\\r\\n                deleteMaster();\\r\\n            }\\r\\n            masterTabElection();\\r\\n        } else if (getMaster().id === crosstab.id) {\\r\\n            // If I am master, save the new tabs out\\r\\n            setStoredTabs();\\r\\n        }\\r\\n    });\\r\\n\\r\\n    eventHandler.addListener(util.eventTypes.tabUpdated, function (message) {\\r\\n        var tab = message.data;\\r\\n        util.tabs[tab.id] = tab;\\r\\n\\r\\n        // If there is no master, hold an election\\r\\n        if (!getMaster()) {\\r\\n            masterTabElection();\\r\\n        }\\r\\n\\r\\n        if (getMasterId() === tab.id) {\\r\\n            setMaster(tab);\\r\\n        }\\r\\n        if (isMaster()) {\\r\\n            // If I am master, save the new tabs out\\r\\n            setStoredTabs();\\r\\n        }\\r\\n    });\\r\\n\\r\\n    eventHandler.addListener(util.eventTypes.tabPromoted, function (message) {\\r\\n        var id = message.data;\\r\\n        var lastUpdated = message.timestamp;\\r\\n        var previousMaster = getMasterId();\\r\\n        setMaster({\\r\\n            id: id,\\r\\n            lastUpdated: lastUpdated\\r\\n        });\\r\\n\\r\\n        if (isMaster()\\r\\n            && previousMaster !== crosstab.id) {\\r\\n            // set the tabs in localStorage\\r\\n            setStoredTabs();\\r\\n\\r\\n            // emit the become master event so we can handle it accordingly\\r\\n            util.events.emit(util.eventTypes.becomeMaster);\\r\\n        } else if (!isMaster()\\r\\n            && previousMaster === crosstab.id) {\\r\\n            // emit the demoted from master event so we can clean up resources\\r\\n            util.events.emit(util.eventTypes.demoteFromMaster);\\r\\n        }\\r\\n    });\\r\\n\\r\\n    function pad(num, width, padChar) {\\r\\n        padChar = padChar || '0';\\r\\n        var numStr = (num.toString());\\r\\n\\r\\n        if (numStr.length >= width) {\\r\\n            return numStr;\\r\\n        }\\r\\n\\r\\n        return new Array(width - numStr.length + 1).join(padChar) + numStr;\\r\\n    }\\r\\n\\r\\n    util.generateId = function () {\\r\\n        /*jshint bitwise: false*/\\r\\n        return util.now().toString() + pad((Math.random() * 0x7FFFFFFF) | 0, 10);\\r\\n    };\\r\\n\\r\\n    // --- Setup message sending and handling ---\\r\\n    function broadcast(event, data, destination) {\\r\\n        if (!crosstab.supported) {\\r\\n            notSupported();\\r\\n        }\\r\\n\\r\\n        var message = {\\r\\n            id: util.generateId(),\\r\\n            event: event,\\r\\n            data: data,\\r\\n            destination: destination,\\r\\n            origin: crosstab.id,\\r\\n            timestamp: util.now()\\r\\n        };\\r\\n\\r\\n        // If the destination differs from the origin send it out, otherwise\\r\\n        // handle it locally\\r\\n        if (message.destination !== message.origin) {\\r\\n            setLocalStorageItem(util.keys.MESSAGE_KEY, message);\\r\\n        }\\r\\n\\r\\n        if (!message.destination || message.destination === message.origin) {\\r\\n            eventHandler.emit(event, message);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function broadcastMaster(event, data) {\\r\\n        broadcast(event, data, getMaster().id);\\r\\n    }\\r\\n\\r\\n    // ---- Return ----\\r\\n    var setupComplete = false;\\r\\n    util.events.once('setupComplete', function () {\\r\\n        setupComplete = true;\\r\\n    });\\r\\n\\r\\n    var crosstab = function (fn) {\\r\\n        if (setupComplete) {\\r\\n            fn();\\r\\n        } else {\\r\\n            util.events.once('setupComplete', fn);\\r\\n        }\\r\\n    };\\r\\n\\r\\n    crosstab.id = util.generateId();\\r\\n    crosstab.supported = !!localStorage && window.addEventListener && !isMobile && setItemAllowed;\\r\\n    crosstab.util = util;\\r\\n    crosstab.broadcast = broadcast;\\r\\n    crosstab.broadcastMaster = broadcastMaster;\\r\\n    crosstab.on = util.events.on;\\r\\n    crosstab.once = util.events.once;\\r\\n    crosstab.off = util.events.off;\\r\\n\\r\\n    // --- Crosstab supported ---\\r\\n    // Check to see if the global frozen tab environment key or supported key has been set.\\r\\n    if (!setupComplete && crosstab.supported) {\\r\\n        var frozenTabsRaw = getLocalStorageRaw(util.keys.FROZEN_TAB_ENVIRONMENT);\\r\\n        var frozenTabs = frozenTabsRaw.data;\\r\\n        if (frozenTabs === true) {\\r\\n            frozenTabEnvironmentDetected();\\r\\n        }\\r\\n\\r\\n        var supportedRaw = getLocalStorageRaw(util.keys.SUPPORTED_KEY);\\r\\n        var supported = supportedRaw.data;\\r\\n        if (supported === false || supported === true) {\\r\\n            // As long as it is explicitely set, use the value\\r\\n            crosstab.supported = supported;\\r\\n            util.events.emit('setupComplete');\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function frozenTabEnvironmentDetected() {\\r\\n        crosstab.supported = false;\\r\\n        frozenTabEnvironment = true;\\r\\n        setLocalStorageItem(util.keys.FROZEN_TAB_ENVIRONMENT, true);\\r\\n        setLocalStorageItem(util.keys.SUPPORTED_KEY, false);\\r\\n    }\\r\\n\\r\\n    // --- Tab Setup ---\\r\\n    // 3 second keepalive\\r\\n    var TAB_KEEPALIVE = 3 * 1000;\\r\\n    // 5 second timeout\\r\\n    var TAB_TIMEOUT = 5 * 1000;\\r\\n    // 500 ms ping timeout\\r\\n    var PING_TIMEOUT = 500;\\r\\n\\r\\n    function getStoredTabs() {\\r\\n        var storedTabs = getLocalStorageItem(util.keys.TABS_KEY);\\r\\n        util.tabs = storedTabs || util.tabs || {};\\r\\n        return util.tabs;\\r\\n    }\\r\\n\\r\\n    function setStoredTabs() {\\r\\n        setLocalStorageItem(util.keys.TABS_KEY, util.tabs);\\r\\n    }\\r\\n\\r\\n    function keepalive() {\\r\\n        var now = util.now();\\r\\n\\r\\n        var myTab = {\\r\\n            id: crosstab.id,\\r\\n            lastUpdated: now\\r\\n        };\\r\\n\\r\\n        // broadcast tabUpdated event\\r\\n        broadcast(util.eventTypes.tabUpdated, myTab);\\r\\n\\r\\n        // broadcast tabClosed event for each tab that timed out\\r\\n        function stillAlive(tab) {\\r\\n            return now - tab.lastUpdated < TAB_TIMEOUT;\\r\\n        }\\r\\n\\r\\n        function notAlive(tab, key) {\\r\\n            return key !== util.keys.MASTER_TAB && !stillAlive(tab);\\r\\n        }\\r\\n\\r\\n        var deadTabs = util.filter(util.tabs, notAlive);\\r\\n        util.forEach(deadTabs, function (tab) {\\r\\n            broadcast(util.eventTypes.tabClosed, tab.id);\\r\\n        });\\r\\n\\r\\n        // check to see if setup is complete\\r\\n        if (!setupComplete) {\\r\\n            var masterTab = crosstab.util.tabs[crosstab.util.keys.MASTER_TAB];\\r\\n            // ping master\\r\\n            if (masterTab && masterTab.id !== myTab.id) {\\r\\n                var timeout;\\r\\n                var start;\\r\\n\\r\\n                crosstab.util.events.once('PONG', function () {\\r\\n                    if (!setupComplete) {\\r\\n                        clearTimeout(timeout);\\r\\n                        // set supported to true / frozen to false\\r\\n                        setLocalStorageItem(\\r\\n                            util.keys.SUPPORTED_KEY,\\r\\n                            true);\\r\\n                        setLocalStorageItem(\\r\\n                            util.keys.FROZEN_TAB_ENVIRONMENT,\\r\\n                            false);\\r\\n                        util.events.emit('setupComplete');\\r\\n                    }\\r\\n                });\\r\\n\\r\\n                start = util.now();\\r\\n\\r\\n                // There is a nested timeout here. We'll give it 100ms\\r\\n                // timeout, with iters \\\"yields\\\" to the event loop. So at least\\r\\n                // iters number of blocks of javascript will be able to run\\r\\n                // covering at least 100ms\\r\\n                var recursiveTimeout = function (iters) {\\r\\n                    var diff = util.now() - start;\\r\\n\\r\\n                    if (!setupComplete) {\\r\\n                        if (iters <= 0 && diff > PING_TIMEOUT) {\\r\\n                            frozenTabEnvironmentDetected();\\r\\n                            util.events.emit('setupComplete');\\r\\n                        } else {\\r\\n                            timeout = setTimeout(function () {\\r\\n                                recursiveTimeout(iters - 1);\\r\\n                            }, 5);\\r\\n                        }\\r\\n                    }\\r\\n                };\\r\\n\\r\\n                var iterations = 5;\\r\\n                timeout = setTimeout(function () {\\r\\n                    recursiveTimeout(5);\\r\\n                }, PING_TIMEOUT - 5 * iterations);\\r\\n                crosstab.broadcastMaster('PING');\\r\\n            } else if (masterTab && masterTab.id === myTab.id) {\\r\\n                util.events.emit('setupComplete');\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    function keepaliveLoop() {\\r\\n        if (crosstab.supported && !crosstab.stopKeepalive) {\\r\\n            keepalive();\\r\\n        }\\r\\n    }\\r\\n\\r\\n    // --- Check if crosstab is supported ---\\r\\n    if (!crosstab.supported) {\\r\\n        crosstab.broadcast = notSupported;\\r\\n    } else {\\r\\n        // ---- Setup Storage Listener\\r\\n        window.addEventListener('storage', onStorageEvent, false);\\r\\n        // start with the `beforeunload` event due to IE11\\r\\n        window.addEventListener('beforeunload', unload, false);\\r\\n        // swap `beforeunload` to `unload` after DOM is loaded\\r\\n        window.addEventListener('DOMContentLoaded', swapUnloadEvents, false);\\r\\n\\r\\n        util.events.on('PING', function (message) {\\r\\n            // only handle direct messages\\r\\n            if (!message.destination || message.destination !== crosstab.id) {\\r\\n                return;\\r\\n            }\\r\\n\\r\\n            if (util.now() - message.timestamp < PING_TIMEOUT) {\\r\\n                crosstab.broadcast('PONG', null, message.origin);\\r\\n            }\\r\\n        });\\r\\n\\r\\n        setInterval(keepaliveLoop, TAB_KEEPALIVE);\\r\\n        keepaliveLoop();\\r\\n    }\\r\\n\\r\\n    module.exports = crosstab;\\r\\n\\r\\n/*!\\r\\n * UMD/AMD/Global context Module Loader wrapper\\r\\n * based off https://gist.github.com/wilsonpage/8598603\\r\\n *\\r\\n * This wrapper will try to use a module loader with the\\r\\n * following priority:\\r\\n *\\r\\n *  1.) AMD\\r\\n *  2.) CommonJS\\r\\n *  3.) Context Variable (window in the browser)\\r\\n */\\r\\n});})(typeof define == 'function' && define.amd ? define\\r\\n    : (function (context) {\\r\\n        'use strict';\\r\\n        return typeof module == 'object' ? function (name, factory) {\\r\\n            factory(require, exports, module);\\r\\n        }\\r\\n        : function (name, factory) {\\r\\n            var module = {\\r\\n                exports: {}\\r\\n            };\\r\\n            var require = function (n) {\\r\\n                if (n === 'jquery') {\\r\\n                    n = 'jQuery';\\r\\n                }\\r\\n                return context[n];\\r\\n            };\\r\\n\\r\\n            factory(require, module.exports, module);\\r\\n            context[name] = module.exports;\\r\\n        };\\r\\n    })(this));\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/crosstab/src/crosstab.js\n// module id = 4\n// module chunks = 0","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n\n/**\n * SugarCRM namespace.\n *\n * @ignore\n */\nvar SUGAR = SUGAR || {};\n\nSUGAR.App = (function() {\n    var _app,\n        _modules = {};\n\n    /**\n     * Flag indicating an `app.sync` is in progress.\n     *\n     * @type {boolean}\n     * @private\n     */\n    var _isSyncing = false;\n\n    /**\n     * A list of callback functions to call whenever `sync` is completed.\n     *\n     * @type {Array}\n     * @private\n     */\n    var _syncCallbacks = [];\n\n    var _make$ = function(selector) {\n        return selector instanceof $ ? selector : $(selector);\n    };\n\n    /**\n     * `SUGAR.App` contains the core instance of the app. All related modules\n     * can be found within the `SUGAR` namespace.\n     *\n     * An uninitialized instance will exist on page load but you will need to\n     * call {@link App#init} to initialize your instance.\n     *\n     * By default, the app uses `body` element and `div#content` as root element\n     * and content element respectively.\n     *\n     *     var app = SUGAR.App.init({\n     *         el: '#root',\n     *         contentEl: '#content'\n     *     });\n     *\n     * If you want to initialize an app without initializing its modules,\n     *\n     *     var app = SUGAR.App.init({el: '#root', silent: true});\n     *\n     *\n     * @class App\n     * @singleton\n     * @constructor Constructor class for the main framework app.\n     * @param {Object} [opts] Configuration options. See full list of options\n     *   in {@link #init}.\n     * @return {App} Application instance.\n     * @private\n     */\n    function App(opts) {\n        var appId = _.uniqueId('SugarApp_');\n        opts = opts || {};\n\n        return _.extend({\n            /**\n             * Unique application ID.\n             *\n             * @property {string}\n             */\n            appId: appId,\n\n            /**\n             * Base element to use as the root of the app.\n             *\n             * @property {jQuery}\n             */\n            $rootEl: _make$(opts.el || 'body'),\n\n            /**\n             * Content element selector.\n             *\n             * The {@link Core.Controller application controller} loads layouts\n             * into the content element.\n             *\n             * @property {jQuery}\n             */\n            $contentEl: _make$(opts.contentEl || '#content'),\n\n            /**\n             * Additional components.\n             *\n             * These components are created and rendered only once, when the\n             * application starts.\n             *\n             * Application specific code is needed for managing the components\n             * after they have been put into DOM by the framework.\n             */\n            additionalComponents: {}\n\n        }, this, Backbone.Events);\n    }\n\n    return {\n        /**\n         * Initializes the app.\n         *\n         * - Triggers {@link #event-app:init} if `opts.silent` is not `false`.\n         * - {@link #event-app:sync:error} is fired if the public metadata could\n         * not be synced.\n         *\n         * @param {Object} [opts] Initialization options.\n         * @param {string} [opts.el='body'] The selector for the\n         *   {@link #$rootEl base element} to use as the root of the app.\n         * @param {string} [opts.contentEl='#content'] The selector for the\n         *   {@link #$contentEl content element}.\n         * @param {boolean} [opts.silent=false] Flag to indicate if modules\n         *   should be initialized during application init process.\n         * @param {Function} [opts.defaultErrorHandler] Allows you to define a\n         *   custom error handler. Defaults to\n         *   {@link Core.Error#handleHttpError}.\n         *\n         * @return {App} Application instance\n         * @method\n         */\n        init: function(opts) {\n            _app = _app || _.extend(this, new App(opts));\n            _.extend(_app, _app.beforeEvent);\n\n            // Register app specific events\n            _app.events.register(\n                /**\n                 * Fires when the app object is initialized. Modules bound to\n                 * this event will initialize.\n                 *\n                 * @event\n                 */\n                'app:init',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when the application has\n                 * finished loading its dependencies and should initialize\n                 * everything.\n                 *\n                 *     obj.on('app:start', callback);\n                 *\n                 * @event\n                 */\n                'app:start',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when the app is beginning to sync data / metadata from\n                 * the server.\n                 *\n                 * @event\n                 */\n                'app:sync',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when the app has finished its syncing process and is\n                 * ready to proceed.\n                 *\n                 * @event\n                 */\n                'app:sync:complete',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when a sync process failed.\n                 *\n                 * @event\n                 */\n                'app:sync:error',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when a sync process failed during initialization of\n                 * the app.\n                 *\n                 * @event\n                 */\n                'app:sync:public:error',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * @event\n                 * Fires when logging in.\n                 */\n                'app:login',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * @event\n                 * Fires when login succeeds.\n                 */\n                'app:login:success',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * @event\n                 * Fires when the app logs out.\n                 */\n                'app:logout',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when route changes a new view has been loaded.\n                 *\n                 *     obj.on('app:view:change', callback);\n                 *\n                 * @event\n                 */\n                'app:view:change',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when client application's user changes the locale, thus\n                 * indicating that the application should \"re-render\" itself.\n                 *\n                 *     obj.on('app:local:change', callback);\n                 *\n                 * @event\n                 */\n                'app:locale:change',\n                this\n            );\n\n            _app.events.register(\n                /**\n                 * Fires when the language display direction changes.\n                 *\n                 * Possible language display directions are `RTL` and `LTR`.\n                 *\n                 *\n                 *     obj.on('lang:direction:change', callback);\n                 *\n                 * @event\n                 */\n                'lang:direction:change',\n                this\n            );\n\n            // App cache must be inited first\n            if (_app.cache) {\n                _app.cache.init(this);\n            }\n\n            // Instantiate controller: <Capitalized-appId>Controller or Controller.\n            var className = _app.utils.capitalize(_app.config ? _app.config.appId : '') + 'Controller';\n            var Klass = this[className] || this.Controller;\n\n            /**\n             * Reference to the main controller.\n             *\n             * @property {Core.Controller}\n             */\n            this.controller = new Klass();\n\n            /**\n             * Reference to the API interface that the application uses to\n             * request the server.\n             *\n             * @property {SUGAR.Api}\n             */\n            _app.api = SUGAR.Api.getInstance({\n                defaultErrorHandler: (opts && opts.defaultErrorHandler) ? opts.defaultErrorHandler : SUGAR.App.error.handleHttpError,\n                serverUrl: _app.config.serverUrl,\n                platform: _app.config.platform,\n                timeout: _app.config.serverTimeout,\n                keyValueStore: _app[_app.config.authStore || 'cache'],\n                clientID: _app.config.clientID,\n                disableBulkApi: _app.config.disableBulkApi,\n                externalLoginUICallback: opts && opts.externalLoginUICallback\n            });\n\n            this._init(opts);\n\n            return _app;\n        },\n\n        /**\n         * Initializes application.\n         *\n         * Performs loading css (only if `config.loadCss` is `true`), metadata\n         * sync and calls sync callback.\n         *\n         * @param {Object} opts Options.\n         * @param {boolean} [opts.silent=false] Flag to indicate if modules\n         *   should be initialized during application init process.\n         * @private\n         * @chainable\n         */\n        _init: function(opts) {\n            var self = this;\n            var syncCallback = function(error) {\n\n                // _app will be nulled out if destroy was called on app before we\n                // asynchronously get here. This happens when running tests (see spec-helper).\n                if (!_app) {\n                    return;\n                }\n                if (error) {\n                    self.trigger('app:sync:public:error', error);\n                    return;\n                }\n                self._initModules();\n                self._loadConfig();\n                if (!opts.silent) {\n                    _app.trigger('app:init', self);\n                }\n                if (opts.callback && _.isFunction(opts.callback)) {\n                    opts.callback(_app);\n                }\n            };\n            var cssCallback = function(callback) {\n                if (_app.config.loadCss) {\n                    _app.loadCss(callback);\n                } else {\n                    callback();\n                }\n            };\n            if (_app.config.syncConfig !== false) {\n                var options = {\n                    getPublic: true\n                };\n                cssCallback(function() {\n                    _app.metadata.sync(syncCallback, options);\n                });\n            } else {\n                cssCallback(function() {\n                    syncCallback();\n                });\n            }\n            return _app;\n        },\n\n        /**\n         * Initializes all modules that have an `init` function.\n         *\n         * @private\n         */\n        _initModules: function() {\n            _.each(_modules, function(module) {\n                if (_.isFunction(module.init)) {\n                    module.init(this);\n                }\n            }, this);\n        },\n\n        /**\n         * Extends base settings with settings from the server.\n         *\n         * @private\n         */\n        _loadConfig: function() {\n            // extend our config with settings from local storage if we have it\n            _app.config = _app.config || {};\n            _app.config = _.extend(_app.config, _app.metadata.getConfig());\n        },\n\n        /**\n         * Loads application CSS.\n         *\n         * Will make an HTTP request and retrieve either a list of CSS files to\n         * load, or directly plain text css.\n         *\n         * @param {Function} [callback] Function called once CSS is loaded.\n         */\n        loadCss: function(callback) {\n\n            _app.api.css(_app.config.platform, _app.config.themeName, {\n                success: function(rsp) {\n\n                    if (_app.config.loadCss === 'url') {\n                        _.each(rsp.url, function(url) {\n                            $('<link>')\n                                .attr({\n                                    rel: 'stylesheet',\n                                    href: _app.utils.buildUrl(url)\n                                })\n                                .appendTo('head');\n                        });\n                    }\n                    else {\n                        _.each(rsp.text, function(text) {\n                            $('<style>').html(text).appendTo('head');\n                        });\n                    }\n\n                    if (_.isFunction(callback)) {\n                        callback();\n                    }\n                }\n            });\n        },\n\n        /**\n         * Starts the main execution phase of the application.\n         *\n         * Triggers {@link #event-app:start}.\n         *\n         * @method\n         */\n        start: function() {\n            _app.events.registerAjaxEvents();\n            _app.trigger('app:start', this);\n            _app.routing.start();\n        },\n\n        /**\n         * Destroys the instance of the current app.\n         */\n        destroy: function() {\n            // TODO: Not properly implemented\n            if (Backbone.history) {\n                Backbone.history.stop();\n            }\n\n            _app = null;\n        },\n\n        /**\n         * Augments the application with a module.\n         *\n         * Module should be an object with an optional `init(app)` function.\n         * The init function is passed the current instance of\n         * the application when app's {@link App#init} method gets called.\n         * Use the `init` function to perform custom initialization logic during\n         * app initialization.\n         *\n         * @param {string} name Name of the module.\n         * @param {Object} obj Module to augment the app with.\n         * @param {boolean} [init=false] Flag indicating if the module should be\n         *   initialized immediately.\n         */\n        augment: function(name, obj, init) {\n            this[name] = obj;\n            _modules[name] = obj;\n\n            if (init && obj.init && _.isFunction(obj.init)) {\n                obj.init.call(obj, _app);\n            }\n        },\n\n        /**\n         * Syncs an app.\n         *\n         * - {@link #event-app:sync} event is fired when the sync process\n         * begins.\n         * - {@link #event-app:sync:complete} event is fired when the series of\n         * sync operations have finished.\n         * - {@link #event-app:sync:error} is fired if it failed.\n         *\n         * The events are not fired if the sync happens for public metadata.\n         *\n         * @param {Object} [options] Options. See full list of options\n         *   you can pass to {@link Core.MetadataManager#sync}.\n         * @param {Function} [options.callback] Function to be invoked when the\n         *   sync operation completes.\n         * @param {boolean} [options.getPublic=false] Flag indicating if only\n         *   public metadata should be synced.\n         * @method\n         */\n        sync: function(options) {\n            var self = this;\n            options = options || {};\n\n            // For public call, we need to do just metadata sync without triggering events\n            if (options.getPublic) {\n                return self.syncPublic(options);\n            }\n\n            // Register the callback if any.\n            if (options.callback) {\n                _syncCallbacks.push(options.callback);\n            }\n\n            // If already in `sync`, we can skip as the callback is registered\n            // and will be called.\n            if (_isSyncing) {\n                return;\n            }\n            _isSyncing = true;\n\n            // 1. Update server info and run compatibility check\n            // 2. Update preferred language if it was changed\n            // 3. Load user preferences\n            // 4. Fetch metadata\n            // 5. Declare models\n            async.waterfall([function(callback) {\n                self.isSynced = false;\n                self.trigger('app:sync');\n                var doUpdateLanguage = !options.noUserUpdate && (options.language || _app.cache.get('langHasChanged'));\n                if (doUpdateLanguage) {\n                    var language = options.language || _app.lang.getLanguage();\n                    self.user.updateLanguage(language, callback);\n                    _app.cache.cut('langHasChanged');\n                }\n                else {\n                    callback();\n                }\n            }, function(cbw) {\n                async.parallel([\n                    function(callback) {\n                        self.user.load(callback);\n                    }, function(callback) {\n                        self.metadata.sync(function(err) {\n                            self.data.declareModels();\n                            callback(err);\n                        }, options);\n                    }], function(err) {\n                    cbw(err);\n                });\n            }, function(callback) {\n                var serverInfo = self.metadata.getServerInfo();\n                self.config.sugarLogic = self.config.sugarLogic || {};\n\n                if (serverInfo &&\n                    self.config.sugarLogic.enabled &&\n                    self.utils.versionCompare(serverInfo.version, self.config.sugarLogic.minServerVersion, \">=\"))\n                {\n                    self.fetchSugarLogic(callback);\n                }\n                else {\n                    self.config.sugarLogic.enabled = false;\n                    callback();\n                }\n            }],\n                function(err) {\n                    if (err) {\n                        self.trigger('app:sync:error', err);\n                    } else {\n                        self.isSynced = true;\n                        self.trigger('app:sync:complete');\n                    }\n\n                    _.each(_syncCallbacks, function(callback) {\n                        callback(err);\n                    });\n                    // Reset the properties.\n                    _isSyncing = false;\n                    _syncCallbacks = [];\n                }\n            );\n        },\n\n        /**\n         * Syncs public metadata.\n         *\n         * @param {Object} [options] Options. See full list of options\n         *   you can pass to {@link Core.MetadataManager#sync}.\n         * @param {Function} [options.callback] Function to be invoked when the\n         *   sync operation completes.\n         */\n        syncPublic: function(options) {\n            options = options || {};\n            options.getPublic = true;\n            this.metadata.sync(options.callback, options);\n        },\n\n        /**\n         * Navigates to a new route.\n         *\n         * @param {Core.Context} [context] Context object to extract the module\n         *   from.\n         * @param {Data.Bean} [model] Model object to route with.\n         * @param {string} [action] Action name.\n         */\n        navigate: function(context, model, action) {\n            var route, id, module;\n            context = context || _app.controller.context;\n            model = model || context.get('model');\n            id = model.id;\n            module = context.get('module') || model.module;\n\n            route = this.router.buildRoute(module, id, action);\n            this.router.navigate(route, {trigger: true});\n        },\n\n        /**\n         * Logs in this app.\n         *\n         * Triggers {@link #event-app:login:success}.\n         *\n         * @param {Object} credentials User credentials.\n         * @param {Object} credentials.username User name.\n         * @param {Object} credentials.password User password.\n         * @param {Object} [info] Extra data to be passed in login request such\n         *   as client user agent, etc.\n         * @param {Object} [callbacks] Object containing the callbacks.\n         * @param {Function} [callbacks.success] The success callback.\n         * @param {Function} [callbacks.error] The error callback.\n         * @param {Function} [callbacks.complete] The complete callback.\n         */\n        login: function(credentials, info, callbacks) {\n            callbacks = callbacks || {};\n\n            info = info || {};\n            info.current_language = _app.lang.getLanguage();\n            _app.api.login(credentials, info, {\n                success: function(data) {\n                    _app.trigger('app:login:success', data, credentials.username);\n                    if (callbacks.success) callbacks.success(data);\n                },\n                error: function(error) {\n                    _app.error.handleHttpError(error);\n                    if (callbacks.error) callbacks.error(error);\n                },\n                complete: callbacks.complete\n            });\n        },\n\n        /**\n         * Logs out this app.\n         *\n         * Triggers {@link #event-app:logout}.\n         *\n         * @param {Object} [callbacks] Object containing the callbacks.\n         * @param {Function} [callbacks.success] The success callback.\n         * @param {Function} [callbacks.error] The error callback.\n         * @param {Function} [callbacks.complete] The complete callback.\n         * @param {Boolean} [clear=false] Flag indicating if user information\n         *   must be deleted from cache.\n         * @return {SUGAR.HttpRequest} XHR request object.\n         */\n        logout: function(callbacks, clear, options) {\n            var originalComplete, originalError;\n            callbacks = callbacks || {};\n            originalComplete = callbacks.complete;\n            originalError = callbacks.error;\n\n            callbacks.complete = function(data) {\n                // The 'clear' comes from the logout URL (see router.js)\n                _app.trigger('app:logout', clear);\n                if (originalComplete) {\n                    originalComplete(data);\n                }\n            };\n            callbacks.error = function(error) {\n                _app.error.handleHttpError(error);\n                if (originalError) originalError(error);\n            };\n\n            return _app.api.logout(callbacks, options);\n        },\n\n        fetchSugarLogic: function(callback) {\n            if (_app.config.sugarLogic.isDynamic) {\n                _app.api.call(\n                    'read',\n                    _app.api.buildURL('ExpressionEngine', 'functions'),\n                    null,\n                    {\n                        success: function(expressions) {\n                            _app.cacheSugarLogicExpressions(expressions);\n                            _app.loadSugarLogic(expressions, callback);\n                        },\n                        error: function(err) {\n                            // TODO: Consider turning off SL altogether\n                            callback(err);\n                        }\n                    },\n                    { dataType: 'application/text' }\n                );\n            }\n            else callback();\n\n        },\n\n        cacheSugarLogicExpressions: function(expressions) {\n            _app.cache.set(\"sugarlogic\", expressions);\n        },\n\n        _loadSugarLogic: function() {\n            return _app.cache.get(\"sugarlogic\");\n        },\n\n        loadSugarLogic: function(expressions, callback) {\n            return _app.compileJs(expressions || _app._loadSugarLogic(), callback);\n        },\n\n        compileJs: function(js, callback) {\n            try {\n                eval.call(window, js); // jshint ignore:line\n                if (callback) callback();\n            }\n            catch (e) {\n                _app.logger.fatal(\"Failed to compile js\");\n                // TODO: Consider turning off SL altogether\n                if (callback) callback(e);\n                return e;\n            }\n\n            return null;\n        },\n\n        /**\n         * Checks if the server version and flavor are compatible.\n         * @param {Object} data Server information.\n         * @return {Boolean|Object} `true` if server is compatible and an error object if not.\n         */\n        isServerCompatible: function(data) {\n            var flavors = this.config.supportedServerFlavors,\n                minVersion = this.config.minServerVersion,\n                isSupportedFlavor,\n                isSupportedVersion,\n                error;\n\n            // We assume the app is not interested in the compatibility check if it doesn't have compatibility config.\n            if (_.isEmpty(flavors) && !minVersion) {\n                return true;\n            }\n\n            // Undefined or null data with defined compatibility config means the server is incompatible\n\n            isSupportedFlavor = !!((_.isEmpty(flavors)) || (data && _.contains(flavors, data.flavor)));\n            isSupportedVersion = !!(!minVersion || (data && this.utils.versionCompare(data.version, minVersion, '>=')));\n\n            if (isSupportedFlavor && isSupportedVersion) {\n                return true;\n            } else if (!isSupportedVersion) {\n                error = {\n                    code: 'server_version_incompatible',\n                    label: 'ERR_SERVER_VERSION_INCOMPATIBLE'\n                };\n            } else {\n                error = {\n                    code: 'server_flavor_incompatible',\n                    label: 'ERR_SERVER_FLAVOR_INCOMPATIBLE'\n                };\n            }\n\n            error.server_info = data;\n            return error;\n        },\n\n        modules: _modules\n    };\n\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/jquery/dist/jquery.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/jquery/dist/jquery.min.js\n// module id = 6\n// module chunks = 0","module.exports = \"/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */\\n!function(a,b){\\\"object\\\"==typeof module&&\\\"object\\\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\\\"jQuery requires a window with a document\\\");return b(a)}:b(a)}(\\\"undefined\\\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=\\\"1.11.3\\\",m=function(a,b){return new m.fn.init(a,b)},n=/^[\\\\s\\\\uFEFF\\\\xA0]+|[\\\\s\\\\uFEFF\\\\xA0]+$/g,o=/^-ms-/,p=/-([\\\\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:\\\"\\\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\\\"boolean\\\"==typeof g&&(j=g,g=arguments[h]||{},h++),\\\"object\\\"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:\\\"jQuery\\\"+(l+Math.random()).replace(/\\\\D/g,\\\"\\\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\\\"function\\\"===m.type(a)},isArray:Array.isArray||function(a){return\\\"array\\\"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\\\"object\\\"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\\\"constructor\\\")&&!j.call(a.constructor.prototype,\\\"isPrototypeOf\\\"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\\\"\\\":\\\"object\\\"==typeof a||\\\"function\\\"==typeof a?h[i.call(a)]||\\\"object\\\":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,\\\"ms-\\\").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?\\\"\\\":(a+\\\"\\\").replace(n,\\\"\\\")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,\\\"string\\\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\\\"string\\\"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each(\\\"Boolean Number String Function Array Date RegExp Object Error\\\".split(\\\" \\\"),function(a,b){h[\\\"[object \\\"+b+\\\"]\\\"]=b.toLowerCase()});function r(a){var b=\\\"length\\\"in a&&a.length,c=m.type(a);return\\\"function\\\"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:\\\"array\\\"===c||0===b||\\\"number\\\"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\\\"sizzle\\\"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\\\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\\\",L=\\\"[\\\\\\\\x20\\\\\\\\t\\\\\\\\r\\\\\\\\n\\\\\\\\f]\\\",M=\\\"(?:\\\\\\\\\\\\\\\\.|[\\\\\\\\w-]|[^\\\\\\\\x00-\\\\\\\\xa0])+\\\",N=M.replace(\\\"w\\\",\\\"w#\\\"),O=\\\"\\\\\\\\[\\\"+L+\\\"*(\\\"+M+\\\")(?:\\\"+L+\\\"*([*^$|!~]?=)\\\"+L+\\\"*(?:'((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\\\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\\\\\"])*)\\\\\\\"|(\\\"+N+\\\"))|)\\\"+L+\\\"*\\\\\\\\]\\\",P=\\\":(\\\"+M+\\\")(?:\\\\\\\\((('((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\\\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\\\\\"])*)\\\\\\\")|((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\()[\\\\\\\\]]|\\\"+O+\\\")*)|.*)\\\\\\\\)|)\\\",Q=new RegExp(L+\\\"+\\\",\\\"g\\\"),R=new RegExp(\\\"^\\\"+L+\\\"+|((?:^|[^\\\\\\\\\\\\\\\\])(?:\\\\\\\\\\\\\\\\.)*)\\\"+L+\\\"+$\\\",\\\"g\\\"),S=new RegExp(\\\"^\\\"+L+\\\"*,\\\"+L+\\\"*\\\"),T=new RegExp(\\\"^\\\"+L+\\\"*([>+~]|\\\"+L+\\\")\\\"+L+\\\"*\\\"),U=new RegExp(\\\"=\\\"+L+\\\"*([^\\\\\\\\]'\\\\\\\"]*?)\\\"+L+\\\"*\\\\\\\\]\\\",\\\"g\\\"),V=new RegExp(P),W=new RegExp(\\\"^\\\"+N+\\\"$\\\"),X={ID:new RegExp(\\\"^#(\\\"+M+\\\")\\\"),CLASS:new RegExp(\\\"^\\\\\\\\.(\\\"+M+\\\")\\\"),TAG:new RegExp(\\\"^(\\\"+M.replace(\\\"w\\\",\\\"w*\\\")+\\\")\\\"),ATTR:new RegExp(\\\"^\\\"+O),PSEUDO:new RegExp(\\\"^\\\"+P),CHILD:new RegExp(\\\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\\\\\(\\\"+L+\\\"*(even|odd|(([+-]|)(\\\\\\\\d*)n|)\\\"+L+\\\"*(?:([+-]|)\\\"+L+\\\"*(\\\\\\\\d+)|))\\\"+L+\\\"*\\\\\\\\)|)\\\",\\\"i\\\"),bool:new RegExp(\\\"^(?:\\\"+K+\\\")$\\\",\\\"i\\\"),needsContext:new RegExp(\\\"^\\\"+L+\\\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\\\\\(\\\"+L+\\\"*((?:-\\\\\\\\d)?\\\\\\\\d*)\\\"+L+\\\"*\\\\\\\\)|)(?=[^-]|$)\\\",\\\"i\\\")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\\\d$/i,$=/^[^{]+\\\\{\\\\s*\\\\[native \\\\w/,_=/^(?:#([\\\\w-]+)|(\\\\w+)|\\\\.([\\\\w-]+))$/,aa=/[+~]/,ba=/'|\\\\\\\\/g,ca=new RegExp(\\\"\\\\\\\\\\\\\\\\([\\\\\\\\da-f]{1,6}\\\"+L+\\\"?|(\\\"+L+\\\")|.)\\\",\\\"ig\\\"),da=function(a,b,c){var d=\\\"0x\\\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,\\\"string\\\"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&\\\"object\\\"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute(\\\"id\\\"))?s=r.replace(ba,\\\"\\\\\\\\$&\\\"):b.setAttribute(\\\"id\\\",s),s=\\\"[id='\\\"+s+\\\"'] \\\",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(\\\",\\\")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute(\\\"id\\\")}}}return i(a.replace(R,\\\"$1\\\"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+\\\" \\\")>d.cacheLength&&delete b[a.shift()],b[c+\\\" \\\"]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement(\\\"div\\\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split(\\\"|\\\"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return\\\"input\\\"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return(\\\"input\\\"===c||\\\"button\\\"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&\\\"undefined\\\"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\\\"HTML\\\"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener(\\\"unload\\\",ea,!1):e.attachEvent&&e.attachEvent(\\\"onunload\\\",ea)),p=!f(g),c.attributes=ja(function(a){return a.className=\\\"i\\\",!a.getAttribute(\\\"className\\\")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment(\\\"\\\")),!a.getElementsByTagName(\\\"*\\\").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\\\"undefined\\\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute(\\\"id\\\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c=\\\"undefined\\\"!=typeof a.getAttributeNode&&a.getAttributeNode(\\\"id\\\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\\\"undefined\\\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\\\"*\\\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML=\\\"<a id='\\\"+u+\\\"'></a><select id='\\\"+u+\\\"-\\\\f]' msallowcapture=''><option selected=''></option></select>\\\",a.querySelectorAll(\\\"[msallowcapture^='']\\\").length&&q.push(\\\"[*^$]=\\\"+L+\\\"*(?:''|\\\\\\\"\\\\\\\")\\\"),a.querySelectorAll(\\\"[selected]\\\").length||q.push(\\\"\\\\\\\\[\\\"+L+\\\"*(?:value|\\\"+K+\\\")\\\"),a.querySelectorAll(\\\"[id~=\\\"+u+\\\"-]\\\").length||q.push(\\\"~=\\\"),a.querySelectorAll(\\\":checked\\\").length||q.push(\\\":checked\\\"),a.querySelectorAll(\\\"a#\\\"+u+\\\"+*\\\").length||q.push(\\\".#.+[+~]\\\")}),ja(function(a){var b=g.createElement(\\\"input\\\");b.setAttribute(\\\"type\\\",\\\"hidden\\\"),a.appendChild(b).setAttribute(\\\"name\\\",\\\"D\\\"),a.querySelectorAll(\\\"[name=d]\\\").length&&q.push(\\\"name\\\"+L+\\\"*[*^$|!~]?=\\\"),a.querySelectorAll(\\\":enabled\\\").length||q.push(\\\":enabled\\\",\\\":disabled\\\"),a.querySelectorAll(\\\"*,:x\\\"),q.push(\\\",.*:\\\")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,\\\"div\\\"),s.call(a,\\\"[s!='']:x\\\"),r.push(\\\"!=\\\",P)}),q=q.length&&new RegExp(q.join(\\\"|\\\")),r=r.length&&new RegExp(r.join(\\\"|\\\")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,\\\"='$1']\\\"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error(\\\"Syntax error, unrecognized expression: \\\"+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c=\\\"\\\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\\\"string\\\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{\\\">\\\":{dir:\\\"parentNode\\\",first:!0},\\\" \\\":{dir:\\\"parentNode\\\"},\\\"+\\\":{dir:\\\"previousSibling\\\",first:!0},\\\"~\\\":{dir:\\\"previousSibling\\\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||\\\"\\\").replace(ca,da),\\\"~=\\\"===a[2]&&(a[3]=\\\" \\\"+a[3]+\\\" \\\"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\\\"nth\\\"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\\\"even\\\"===a[3]||\\\"odd\\\"===a[3])),a[5]=+(a[7]+a[8]||\\\"odd\\\"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\\\"\\\":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\\\")\\\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return\\\"*\\\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\\\" \\\"];return b||(b=new RegExp(\\\"(^|\\\"+L+\\\")\\\"+a+\\\"(\\\"+L+\\\"|$)\\\"))&&y(a,function(a){return b.test(\\\"string\\\"==typeof a.className&&a.className||\\\"undefined\\\"!=typeof a.getAttribute&&a.getAttribute(\\\"class\\\")||\\\"\\\")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?\\\"!=\\\"===b:b?(e+=\\\"\\\",\\\"=\\\"===b?e===c:\\\"!=\\\"===b?e!==c:\\\"^=\\\"===b?c&&0===e.indexOf(c):\\\"*=\\\"===b?c&&e.indexOf(c)>-1:\\\"$=\\\"===b?c&&e.slice(-c.length)===c:\\\"~=\\\"===b?(\\\" \\\"+e.replace(Q,\\\" \\\")+\\\" \\\").indexOf(c)>-1:\\\"|=\\\"===b?e===c||e.slice(0,c.length+1)===c+\\\"-\\\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\\\"nth\\\"!==a.slice(0,3),g=\\\"last\\\"!==a.slice(-4),h=\\\"of-type\\\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\\\"nextSibling\\\":\\\"previousSibling\\\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p=\\\"only\\\"===a&&!o&&\\\"nextSibling\\\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error(\\\"unsupported pseudo: \\\"+a);return e[u]?e(b):e.length>1?(c=[a,a,\\\"\\\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,\\\"$1\\\"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||\\\"\\\")||ga.error(\\\"unsupported lang: \\\"+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\\\"xml:lang\\\")||b.getAttribute(\\\"lang\\\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\\\"-\\\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\\\"input\\\"===b&&!!a.checked||\\\"option\\\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\\\"input\\\"===b&&\\\"button\\\"===a.type||\\\"button\\\"===b},text:function(a){var b;return\\\"input\\\"===a.nodeName.toLowerCase()&&\\\"text\\\"===a.type&&(null==(b=a.getAttribute(\\\"type\\\"))||\\\"text\\\"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\\\" \\\"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R,\\\" \\\")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d=\\\"\\\";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&\\\"parentNode\\\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||\\\"*\\\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\\\" \\\"],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:\\\" \\\"===a[i-2].type?\\\"*\\\":\\\"\\\"})).replace(R,\\\"$1\\\"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q=\\\"0\\\",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG(\\\"*\\\",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+\\\" \\\"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n=\\\"function\\\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\\\"ID\\\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split(\\\"\\\").sort(B).join(\\\"\\\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement(\\\"div\\\"))}),ja(function(a){return a.innerHTML=\\\"<a href='#'></a>\\\",\\\"#\\\"===a.firstChild.getAttribute(\\\"href\\\")})||ka(\\\"type|href|height|width\\\",function(a,b,c){return c?void 0:a.getAttribute(b,\\\"type\\\"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML=\\\"<input/>\\\",a.firstChild.setAttribute(\\\"value\\\",\\\"\\\"),\\\"\\\"===a.firstChild.getAttribute(\\\"value\\\")})||ka(\\\"value\\\",function(a,b,c){return c||\\\"input\\\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute(\\\"disabled\\\")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[\\\":\\\"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\\\\w+)\\\\s*\\\\/?>(?:<\\\\/\\\\1>|)$/,v=/^.[^:#\\\\[\\\\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if(\\\"string\\\"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=\\\":not(\\\"+a+\\\")\\\"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(\\\"string\\\"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+\\\" \\\"+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,\\\"string\\\"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\\\\s*(<[\\\\w\\\\W]+>)[^>]*|#([\\\\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if(\\\"string\\\"==typeof a){if(c=\\\"<\\\"===a.charAt(0)&&\\\">\\\"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?\\\"undefined\\\"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||\\\"string\\\"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?\\\"string\\\"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,\\\"parentNode\\\")},parentsUntil:function(a,b,c){return m.dir(a,\\\"parentNode\\\",c)},next:function(a){return D(a,\\\"nextSibling\\\")},prev:function(a){return D(a,\\\"previousSibling\\\")},nextAll:function(a){return m.dir(a,\\\"nextSibling\\\")},prevAll:function(a){return m.dir(a,\\\"previousSibling\\\")},nextUntil:function(a,b,c){return m.dir(a,\\\"nextSibling\\\",c)},prevUntil:function(a,b,c){return m.dir(a,\\\"previousSibling\\\",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,\\\"iframe\\\")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return\\\"Until\\\"!==a.slice(-5)&&(d=c),d&&\\\"string\\\"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\\\\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a=\\\"string\\\"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);\\\"function\\\"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&\\\"string\\\"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[[\\\"resolve\\\",\\\"done\\\",m.Callbacks(\\\"once memory\\\"),\\\"resolved\\\"],[\\\"reject\\\",\\\"fail\\\",m.Callbacks(\\\"once memory\\\"),\\\"rejected\\\"],[\\\"notify\\\",\\\"progress\\\",m.Callbacks(\\\"memory\\\")]],c=\\\"pending\\\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+\\\"With\\\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\\\"With\\\"](this===e?d:this,arguments),this},e[f[0]+\\\"With\\\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler(\\\"ready\\\"),m(y).off(\\\"ready\\\")))}}});function I(){y.addEventListener?(y.removeEventListener(\\\"DOMContentLoaded\\\",J,!1),a.removeEventListener(\\\"load\\\",J,!1)):(y.detachEvent(\\\"onreadystatechange\\\",J),a.detachEvent(\\\"onload\\\",J))}function J(){(y.addEventListener||\\\"load\\\"===event.type||\\\"complete\\\"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),\\\"complete\\\"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener(\\\"DOMContentLoaded\\\",J,!1),a.addEventListener(\\\"load\\\",J,!1);else{y.attachEvent(\\\"onreadystatechange\\\",J),a.attachEvent(\\\"onload\\\",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll(\\\"left\\\")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K=\\\"undefined\\\",L;for(L in m(k))break;k.ownLast=\\\"0\\\"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName(\\\"body\\\")[0],c&&c.style&&(b=y.createElement(\\\"div\\\"),d=y.createElement(\\\"div\\\"),d.style.cssText=\\\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\\\",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText=\\\"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1\\\",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement(\\\"div\\\");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+\\\" \\\").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute(\\\"classid\\\")===b};var M=/^(?:\\\\{[\\\\w\\\\W]*\\\\}|\\\\[[\\\\w\\\\W]*\\\\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d=\\\"data-\\\"+b.replace(N,\\\"-$1\\\").toLowerCase();if(c=a.getAttribute(d),\\\"string\\\"==typeof c){try{c=\\\"true\\\"===c?!0:\\\"false\\\"===c?!1:\\\"null\\\"===c?null:+c+\\\"\\\"===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if((\\\"data\\\"!==b||!m.isEmptyObject(a[b]))&&\\\"toJSON\\\"!==b)return!1;\\n\\nreturn!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||\\\"string\\\"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),(\\\"object\\\"==typeof b||\\\"function\\\"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),\\\"string\\\"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(\\\" \\\")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{\\\"applet \\\":!0,\\\"embed \\\":!0,\\\"object \\\":\\\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\\\"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,\\\"parsedAttrs\\\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\\\"data-\\\")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,\\\"parsedAttrs\\\",!0)}return e}return\\\"object\\\"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||\\\"fx\\\")+\\\"queue\\\",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\\\"fx\\\";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};\\\"inprogress\\\"===e&&(e=c.shift(),d--),e&&(\\\"fx\\\"===b&&c.unshift(\\\"inprogress\\\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\\\"queueHooks\\\";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks(\\\"once memory\\\").add(function(){m._removeData(a,b+\\\"queue\\\"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return\\\"string\\\"!=typeof a&&(b=a,a=\\\"fx\\\",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),\\\"fx\\\"===a&&\\\"inprogress\\\"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\\\"fx\\\",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\\\"string\\\"!=typeof a&&(b=a,a=void 0),a=a||\\\"fx\\\";while(g--)c=m._data(f[g],a+\\\"queueHooks\\\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\\\d*\\\\.|)\\\\d+(?:[eE][+-]?\\\\d+|)/.source,T=[\\\"Top\\\",\\\"Right\\\",\\\"Bottom\\\",\\\"Left\\\"],U=function(a,b){return a=b||a,\\\"none\\\"===m.css(a,\\\"display\\\")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\\\"object\\\"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement(\\\"input\\\"),b=y.createElement(\\\"div\\\"),c=y.createDocumentFragment();if(b.innerHTML=\\\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\\\",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName(\\\"tbody\\\").length,k.htmlSerialize=!!b.getElementsByTagName(\\\"link\\\").length,k.html5Clone=\\\"<:nav></:nav>\\\"!==y.createElement(\\\"nav\\\").cloneNode(!0).outerHTML,a.type=\\\"checkbox\\\",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML=\\\"<textarea>x</textarea>\\\",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML=\\\"<input type='radio' checked='checked' name='t'/>\\\",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent(\\\"onclick\\\",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement(\\\"div\\\");for(b in{submit:!0,change:!0,focusin:!0})c=\\\"on\\\"+b,(k[b+\\\"Bubbles\\\"]=c in a)||(d.setAttribute(c,\\\"t\\\"),k[b+\\\"Bubbles\\\"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\\\\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||\\\"\\\").match(E)||[\\\"\\\"],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||\\\"\\\").split(\\\".\\\").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(\\\".\\\")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent(\\\"on\\\"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||\\\"\\\").match(E)||[\\\"\\\"],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||\\\"\\\").split(\\\".\\\").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp(\\\"(^|\\\\\\\\.)\\\"+p.join(\\\"\\\\\\\\.(?:.*\\\\\\\\.|)\\\")+\\\"(\\\\\\\\.|$)\\\"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&(\\\"**\\\"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,\\\"events\\\"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,\\\"type\\\")?b.type:b,q=j.call(b,\\\"namespace\\\")?b.namespace.split(\\\".\\\"):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(\\\".\\\")>=0&&(q=p.split(\\\".\\\"),p=q.shift(),q.sort()),g=p.indexOf(\\\":\\\")<0&&\\\"on\\\"+p,b=b[m.expando]?b:new m.Event(p,\\\"object\\\"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join(\\\".\\\"),b.namespace_re=b.namespace?new RegExp(\\\"(^|\\\\\\\\.)\\\"+q.join(\\\"\\\\\\\\.(?:.*\\\\\\\\.|)\\\")+\\\"(\\\\\\\\.|$)\\\"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,\\\"events\\\")||{})[b.type]&&m._data(h,\\\"handle\\\"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,\\\"events\\\")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||\\\"click\\\"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\\\"click\\\"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+\\\" \\\",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:\\\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\\\".split(\\\" \\\"),fixHooks:{},keyHooks:{props:\\\"char charCode key keyCode\\\".split(\\\" \\\"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\\\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\\\".split(\\\" \\\"),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:\\\"focusin\\\"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:\\\"focusout\\\"},click:{trigger:function(){return m.nodeName(this,\\\"input\\\")&&\\\"checkbox\\\"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,\\\"a\\\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d=\\\"on\\\"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:\\\"mouseover\\\",mouseleave:\\\"mouseout\\\",pointerenter:\\\"pointerover\\\",pointerleave:\\\"pointerout\\\"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,\\\"form\\\")?!1:void m.event.add(this,\\\"click._submit keypress._submit\\\",function(a){var b=a.target,c=m.nodeName(b,\\\"input\\\")||m.nodeName(b,\\\"button\\\")?b.form:void 0;c&&!m._data(c,\\\"submitBubbles\\\")&&(m.event.add(c,\\\"submit._submit\\\",function(a){a._submit_bubble=!0}),m._data(c,\\\"submitBubbles\\\",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate(\\\"submit\\\",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,\\\"form\\\")?!1:void m.event.remove(this,\\\"._submit\\\")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?((\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type)&&(m.event.add(this,\\\"propertychange._change\\\",function(a){\\\"checked\\\"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,\\\"click._change\\\",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate(\\\"change\\\",this,a,!0)})),!1):void m.event.add(this,\\\"beforeactivate._change\\\",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,\\\"changeBubbles\\\")&&(m.event.add(b,\\\"change._change\\\",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate(\\\"change\\\",this.parentNode,a,!0)}),m._data(b,\\\"changeBubbles\\\",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||\\\"radio\\\"!==b.type&&\\\"checkbox\\\"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,\\\"._change\\\"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:\\\"focusin\\\",blur:\\\"focusout\\\"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if(\\\"object\\\"==typeof a){\\\"string\\\"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&(\\\"string\\\"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+\\\".\\\"+d.namespace:d.origType,d.selector,d.handler),this;if(\\\"object\\\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||\\\"function\\\"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split(\\\"|\\\"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea=\\\"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\\\",fa=/ jQuery\\\\d+=\\\"(?:null|\\\\d+)\\\"/g,ga=new RegExp(\\\"<(?:\\\"+ea+\\\")[\\\\\\\\s/>]\\\",\\\"i\\\"),ha=/^\\\\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\\\w:]+)[^>]*)\\\\/>/gi,ja=/<([\\\\w:]+)/,ka=/<tbody/i,la=/<|&#?\\\\w+;/,ma=/<(?:script|style|link)/i,na=/checked\\\\s*(?:[^=]|=\\\\s*.checked.)/i,oa=/^$|\\\\/(?:java|ecma)script/i,pa=/^true\\\\/(.*)/,qa=/^\\\\s*<!(?:\\\\[CDATA\\\\[|--)|(?:\\\\]\\\\]|--)>\\\\s*$/g,ra={option:[1,\\\"<select multiple='multiple'>\\\",\\\"</select>\\\"],legend:[1,\\\"<fieldset>\\\",\\\"</fieldset>\\\"],area:[1,\\\"<map>\\\",\\\"</map>\\\"],param:[1,\\\"<object>\\\",\\\"</object>\\\"],thead:[1,\\\"<table>\\\",\\\"</table>\\\"],tr:[2,\\\"<table><tbody>\\\",\\\"</tbody></table>\\\"],col:[2,\\\"<table><tbody></tbody><colgroup>\\\",\\\"</colgroup></table>\\\"],td:[3,\\\"<table><tbody><tr>\\\",\\\"</tr></tbody></table>\\\"],_default:k.htmlSerialize?[0,\\\"\\\",\\\"\\\"]:[1,\\\"X<div>\\\",\\\"</div>\\\"]},sa=da(y),ta=sa.appendChild(y.createElement(\\\"div\\\"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||\\\"*\\\"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||\\\"*\\\"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,\\\"table\\\")&&m.nodeName(11!==b.nodeType?b:b.firstChild,\\\"tr\\\")?a.getElementsByTagName(\\\"tbody\\\")[0]||a.appendChild(a.ownerDocument.createElement(\\\"tbody\\\")):a}function xa(a){return a.type=(null!==m.find.attr(a,\\\"type\\\"))+\\\"/\\\"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\\\"type\\\"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,\\\"globalEval\\\",!b||m._data(b[d],\\\"globalEval\\\"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}\\\"script\\\"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):\\\"object\\\"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):\\\"input\\\"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):\\\"option\\\"===c?b.defaultSelected=b.selected=a.defaultSelected:(\\\"input\\\"===c||\\\"textarea\\\"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test(\\\"<\\\"+a.nodeName+\\\">\\\")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,\\\"script\\\"),d.length>0&&za(d,!i&&ua(a,\\\"script\\\")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if(\\\"object\\\"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement(\\\"div\\\")),i=(ja.exec(f)||[\\\"\\\",\\\"\\\"])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,\\\"<$1></$2>\\\")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f=\\\"table\\\"!==i||ka.test(f)?\\\"<table>\\\"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],\\\"tbody\\\")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent=\\\"\\\";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,\\\"input\\\"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),\\\"script\\\"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||\\\"\\\")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,\\\"script\\\")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,\\\"select\\\")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,\\\"\\\"):void 0;if(!(\\\"string\\\"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||[\\\"\\\",\\\"\\\"])[1].toLowerCase()])){a=a.replace(ia,\\\"<$1></$2>\\\");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&\\\"string\\\"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,\\\"script\\\"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,\\\"script\\\"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||\\\"\\\")&&!m._data(d,\\\"globalEval\\\")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||\\\"\\\").replace(qa,\\\"\\\")));i=c=null}return this}}),m.each({appendTo:\\\"append\\\",prependTo:\\\"prepend\\\",insertBefore:\\\"before\\\",insertAfter:\\\"after\\\",replaceAll:\\\"replaceWith\\\"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],\\\"display\\\");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),\\\"none\\\"!==c&&c||(Ca=(Ca||m(\\\"<iframe frameborder='0' width='0' height='0'/>\\\")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName(\\\"body\\\")[0],c&&c.style?(b=y.createElement(\\\"div\\\"),d=y.createElement(\\\"div\\\"),d.style.cssText=\\\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\\\",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText=\\\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1\\\",b.appendChild(y.createElement(\\\"div\\\")).style.width=\\\"5px\\\",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp(\\\"^(\\\"+S+\\\")(?!px)[a-z%]+$\\\",\\\"i\\\"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(\\\"\\\"!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+\\\"\\\"}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left=\\\"fontSize\\\"===b?\\\"1em\\\":g,g=h.pixelLeft+\\\"px\\\",h.left=d,f&&(e.left=f)),void 0===g?g:g+\\\"\\\"||\\\"auto\\\"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement(\\\"div\\\"),b.innerHTML=\\\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\\\",d=b.getElementsByTagName(\\\"a\\\")[0],c=d&&d.style){c.cssText=\\\"float:left;opacity:.5\\\",k.opacity=\\\"0.5\\\"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip=\\\"content-box\\\",b.cloneNode(!0).style.backgroundClip=\\\"\\\",k.clearCloneStyle=\\\"content-box\\\"===b.style.backgroundClip,k.boxSizing=\\\"\\\"===c.boxSizing||\\\"\\\"===c.MozBoxSizing||\\\"\\\"===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName(\\\"body\\\")[0],c&&c.style&&(b=y.createElement(\\\"div\\\"),d=y.createElement(\\\"div\\\"),d.style.cssText=\\\"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\\\",c.appendChild(d).appendChild(b),b.style.cssText=\\\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute\\\",e=f=!1,h=!0,a.getComputedStyle&&(e=\\\"1%\\\"!==(a.getComputedStyle(b,null)||{}).top,f=\\\"4px\\\"===(a.getComputedStyle(b,null)||{width:\\\"4px\\\"}).width,i=b.appendChild(y.createElement(\\\"div\\\")),i.style.cssText=b.style.cssText=\\\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\\\",i.style.marginRight=i.style.width=\\\"0\\\",b.style.width=\\\"1px\\\",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML=\\\"<table><tr><td></td><td>t</td></tr></table>\\\",i=b.getElementsByTagName(\\\"td\\\"),i[0].style.cssText=\\\"margin:0;border:0;padding:0;display:none\\\",g=0===i[0].offsetHeight,g&&(i[0].style.display=\\\"\\\",i[1].style.display=\\\"none\\\",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\\\\([^)]*\\\\)/i,Na=/opacity\\\\s*=\\\\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp(\\\"^(\\\"+S+\\\")(.*)$\\\",\\\"i\\\"),Qa=new RegExp(\\\"^([+-])=(\\\"+S+\\\")\\\",\\\"i\\\"),Ra={position:\\\"absolute\\\",visibility:\\\"hidden\\\",display:\\\"block\\\"},Sa={letterSpacing:\\\"0\\\",fontWeight:\\\"400\\\"},Ta=[\\\"Webkit\\\",\\\"O\\\",\\\"Moz\\\",\\\"ms\\\"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,\\\"olddisplay\\\"),c=d.style.display,b?(f[g]||\\\"none\\\"!==c||(d.style.display=\\\"\\\"),\\\"\\\"===d.style.display&&U(d)&&(f[g]=m._data(d,\\\"olddisplay\\\",Fa(d.nodeName)))):(e=U(d),(c&&\\\"none\\\"!==c||!e)&&m._data(d,\\\"olddisplay\\\",e?c:m.css(d,\\\"display\\\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\\\"none\\\"!==d.style.display&&\\\"\\\"!==d.style.display||(d.style.display=b?f[g]||\\\"\\\":\\\"none\\\"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||\\\"px\\\"):b}function Xa(a,b,c,d,e){for(var f=c===(d?\\\"border\\\":\\\"content\\\")?4:\\\"width\\\"===b?1:0,g=0;4>f;f+=2)\\\"margin\\\"===c&&(g+=m.css(a,c+T[f],!0,e)),d?(\\\"content\\\"===c&&(g-=m.css(a,\\\"padding\\\"+T[f],!0,e)),\\\"margin\\\"!==c&&(g-=m.css(a,\\\"border\\\"+T[f]+\\\"Width\\\",!0,e))):(g+=m.css(a,\\\"padding\\\"+T[f],!0,e),\\\"padding\\\"!==c&&(g+=m.css(a,\\\"border\\\"+T[f]+\\\"Width\\\",!0,e)));return g}function Ya(a,b,c){var d=!0,e=\\\"width\\\"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&\\\"border-box\\\"===m.css(a,\\\"boxSizing\\\",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?\\\"border\\\":\\\"content\\\"),d,f)+\\\"px\\\"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,\\\"opacity\\\");return\\\"\\\"===c?\\\"1\\\":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\\\"float\\\":k.cssFloat?\\\"cssFloat\\\":\\\"styleFloat\\\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&\\\"get\\\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,\\\"string\\\"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f=\\\"number\\\"),null!=c&&c===c&&(\\\"number\\\"!==f||m.cssNumber[h]||(c+=\\\"px\\\"),k.clearCloneStyle||\\\"\\\"!==c||0!==b.indexOf(\\\"background\\\")||(i[b]=\\\"inherit\\\"),!(g&&\\\"set\\\"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&\\\"get\\\"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),\\\"normal\\\"===f&&b in Sa&&(f=Sa[b]),\\\"\\\"===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each([\\\"height\\\",\\\"width\\\"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,\\\"display\\\"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&\\\"border-box\\\"===m.css(a,\\\"boxSizing\\\",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\\\"\\\")?.01*parseFloat(RegExp.$1)+\\\"\\\":b?\\\"1\\\":\\\"\\\"},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?\\\"alpha(opacity=\\\"+100*b+\\\")\\\":\\\"\\\",f=d&&d.filter||c.filter||\\\"\\\";c.zoom=1,(b>=1||\\\"\\\"===b)&&\\\"\\\"===m.trim(f.replace(Ma,\\\"\\\"))&&c.removeAttribute&&(c.removeAttribute(\\\"filter\\\"),\\\"\\\"===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+\\\" \\\"+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:\\\"inline-block\\\"},Ja,[a,\\\"marginRight\\\"]):void 0}),m.each({margin:\\\"\\\",padding:\\\"\\\",border:\\\"Width\\\"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\\\"string\\\"==typeof c?c.split(\\\" \\\"):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return\\\"boolean\\\"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){\\nreturn new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||\\\"swing\\\",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?\\\"\\\":\\\"px\\\")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,\\\"\\\"),b&&\\\"auto\\\"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp(\\\"^(?:([+-])=|)(\\\"+S+\\\")([a-z%]*)$\\\",\\\"i\\\"),cb=/queueHooks$/,db=[ib],eb={\\\"*\\\":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?\\\"\\\":\\\"px\\\"),g=(m.cssNumber[a]||\\\"px\\\"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||\\\".5\\\",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d[\\\"margin\\\"+c]=d[\\\"padding\\\"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb[\\\"*\\\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,\\\"fxshow\\\");c.queue||(h=m._queueHooks(a,\\\"fx\\\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,\\\"fx\\\").length||h.empty.fire()})})),1===a.nodeType&&(\\\"height\\\"in b||\\\"width\\\"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,\\\"display\\\"),l=\\\"none\\\"===j?m._data(a,\\\"olddisplay\\\")||Fa(a.nodeName):j,\\\"inline\\\"===l&&\\\"none\\\"===m.css(a,\\\"float\\\")&&(k.inlineBlockNeedsLayout&&\\\"inline\\\"!==Fa(a.nodeName)?p.zoom=1:p.display=\\\"inline-block\\\")),c.overflow&&(p.overflow=\\\"hidden\\\",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||\\\"toggle\\\"===e,e===(q?\\\"hide\\\":\\\"show\\\")){if(\\\"show\\\"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))\\\"inline\\\"===(\\\"none\\\"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?\\\"hidden\\\"in r&&(q=r.hidden):r=m._data(a,\\\"fxshow\\\",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,\\\"fxshow\\\");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start=\\\"width\\\"===d||\\\"height\\\"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&\\\"expand\\\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=[\\\"*\\\"]):a=a.split(\\\" \\\");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&\\\"object\\\"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:\\\"number\\\"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue=\\\"fx\\\"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css(\\\"opacity\\\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,\\\"finish\\\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\\\"string\\\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\\\"fx\\\",[]),this.each(function(){var b=!0,e=null!=a&&a+\\\"queueHooks\\\",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\\\"fx\\\"),this.each(function(){var b,c=m._data(this),d=c[a+\\\"queue\\\"],e=c[a+\\\"queueHooks\\\"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each([\\\"toggle\\\",\\\"show\\\",\\\"hide\\\"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||\\\"boolean\\\"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb(\\\"show\\\"),slideUp:gb(\\\"hide\\\"),slideToggle:gb(\\\"toggle\\\"),fadeIn:{opacity:\\\"show\\\"},fadeOut:{opacity:\\\"hide\\\"},fadeToggle:{opacity:\\\"toggle\\\"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||\\\"fx\\\",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement(\\\"div\\\"),b.setAttribute(\\\"className\\\",\\\"t\\\"),b.innerHTML=\\\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\\\",d=b.getElementsByTagName(\\\"a\\\")[0],c=y.createElement(\\\"select\\\"),e=c.appendChild(y.createElement(\\\"option\\\")),a=b.getElementsByTagName(\\\"input\\\")[0],d.style.cssText=\\\"top:1px\\\",k.getSetAttribute=\\\"t\\\"!==b.className,k.style=/top/.test(d.getAttribute(\\\"style\\\")),k.hrefNormalized=\\\"/a\\\"===d.getAttribute(\\\"href\\\"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement(\\\"form\\\").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement(\\\"input\\\"),a.setAttribute(\\\"value\\\",\\\"\\\"),k.input=\\\"\\\"===a.getAttribute(\\\"value\\\"),a.value=\\\"t\\\",a.setAttribute(\\\"type\\\",\\\"radio\\\"),k.radioValue=\\\"t\\\"===a.value}();var lb=/\\\\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e=\\\"\\\":\\\"number\\\"==typeof e?e+=\\\"\\\":m.isArray(e)&&(e=m.map(e,function(a){return null==a?\\\"\\\":a+\\\"\\\"})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&\\\"set\\\"in b&&void 0!==b.set(this,e,\\\"value\\\")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&\\\"get\\\"in b&&void 0!==(c=b.get(e,\\\"value\\\"))?c:(c=e.value,\\\"string\\\"==typeof c?c.replace(lb,\\\"\\\"):null==c?\\\"\\\":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,\\\"value\\\");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\\\"select-one\\\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute(\\\"disabled\\\"))||c.parentNode.disabled&&m.nodeName(c.parentNode,\\\"optgroup\\\"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each([\\\"radio\\\",\\\"checkbox\\\"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute(\\\"value\\\")?\\\"on\\\":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&\\\"get\\\"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&\\\"set\\\"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+\\\"\\\"),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase(\\\"default-\\\"+c)]=a[d]=!1:m.attr(a,c,\\\"\\\"),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&\\\"radio\\\"===b&&m.nodeName(a,\\\"input\\\")){var c=a.value;return a.setAttribute(\\\"type\\\",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase(\\\"default-\\\"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\\\\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase(\\\"default-\\\"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,\\\"input\\\")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+=\\\"\\\",\\\"value\\\"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&\\\"\\\"!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,\\\"\\\"===b?!1:b,c)}},m.each([\\\"width\\\",\\\"height\\\"],function(a,b){m.attrHooks[b]={set:function(a,c){return\\\"\\\"===c?(a.setAttribute(b,\\\"auto\\\"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+\\\"\\\"}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{\\\"for\\\":\\\"htmlFor\\\",\\\"class\\\":\\\"className\\\"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&\\\"set\\\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\\\"get\\\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,\\\"tabindex\\\");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each([\\\"href\\\",\\\"src\\\"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each([\\\"tabIndex\\\",\\\"readOnly\\\",\\\"maxLength\\\",\\\"cellSpacing\\\",\\\"cellPadding\\\",\\\"rowSpan\\\",\\\"colSpan\\\",\\\"useMap\\\",\\\"frameBorder\\\",\\\"contentEditable\\\"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype=\\\"encoding\\\");var ub=/[\\\\t\\\\r\\\\n\\\\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=\\\"string\\\"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||\\\"\\\").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\\\" \\\"+c.className+\\\" \\\").replace(ub,\\\" \\\"):\\\" \\\")){f=0;while(e=b[f++])d.indexOf(\\\" \\\"+e+\\\" \\\")<0&&(d+=e+\\\" \\\");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||\\\"string\\\"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||\\\"\\\").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(\\\" \\\"+c.className+\\\" \\\").replace(ub,\\\" \\\"):\\\"\\\")){f=0;while(e=b[f++])while(d.indexOf(\\\" \\\"+e+\\\" \\\")>=0)d=d.replace(\\\" \\\"+e+\\\" \\\",\\\" \\\");g=a?m.trim(d):\\\"\\\",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return\\\"boolean\\\"==typeof b&&\\\"string\\\"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if(\\\"string\\\"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||\\\"boolean\\\"===c)&&(this.className&&m._data(this,\\\"__className__\\\",this.className),this.className=this.className||a===!1?\\\"\\\":m._data(this,\\\"__className__\\\")||\\\"\\\")})},hasClass:function(a){for(var b=\\\" \\\"+a+\\\" \\\",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(\\\" \\\"+this[c].className+\\\" \\\").replace(ub,\\\" \\\").indexOf(b)>=0)return!0;return!1}}),m.each(\\\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\\\".split(\\\" \\\"),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\\\"**\\\"):this.off(b,a||\\\"**\\\",c)}});var vb=m.now(),wb=/\\\\?/,xb=/(,)|(\\\\[|{)|(}|])|\\\"(?:[^\\\"\\\\\\\\\\\\r\\\\n]|\\\\\\\\[\\\"\\\\\\\\\\\\/bfnrt]|\\\\\\\\u[\\\\da-fA-F]{4})*\\\"\\\\s*:?|true|false|null|-?(?!0\\\\d)\\\\d+(?:\\\\.\\\\d+|)(?:[eE][+-]?\\\\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+\\\"\\\");var c,d=null,e=m.trim(b+\\\"\\\");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,\\\"\\\")}))?Function(\\\"return \\\"+e)():m.error(\\\"Invalid JSON: \\\"+b)},m.parseXML=function(b){var c,d;if(!b||\\\"string\\\"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,\\\"text/xml\\\")):(c=new ActiveXObject(\\\"Microsoft.XMLDOM\\\"),c.async=\\\"false\\\",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName(\\\"parsererror\\\").length||m.error(\\\"Invalid XML: \\\"+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \\\\t]*([^\\\\r\\\\n]*)\\\\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\\\\/\\\\//,Gb=/^([\\\\w.+-]+:)(?:\\\\/\\\\/(?:[^\\\\/?#]*@|)([^\\\\/?#:]*)(?::(\\\\d+)|)|)/,Hb={},Ib={},Jb=\\\"*/\\\".concat(\\\"*\\\");try{zb=location.href}catch(Kb){zb=y.createElement(\\\"a\\\"),zb.href=\\\"\\\",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){\\\"string\\\"!=typeof b&&(c=b,b=\\\"*\\\");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])\\\"+\\\"===d.charAt(0)?(d=d.slice(1)||\\\"*\\\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return\\\"string\\\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\\\"*\\\"]&&g(\\\"*\\\")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\\\"*\\\"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader(\\\"Content-Type\\\"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+\\\" \\\"+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\\\"*\\\"===f)f=i;else if(\\\"*\\\"!==i&&i!==f){if(g=j[i+\\\" \\\"+f]||j[\\\"* \\\"+f],!g)for(e in j)if(h=e.split(\\\" \\\"),h[1]===f&&(g=j[i+\\\" \\\"+h[0]]||j[\\\"* \\\"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\\\"throws\\\"])b=g(b);else try{b=g(b)}catch(l){return{state:\\\"parsererror\\\",error:g?l:\\\"No conversion from \\\"+i+\\\" to \\\"+f}}}return{state:\\\"success\\\",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:\\\"GET\\\",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:\\\"application/x-www-form-urlencoded; charset=UTF-8\\\",accepts:{\\\"*\\\":Jb,text:\\\"text/plain\\\",html:\\\"text/html\\\",xml:\\\"application/xml, text/xml\\\",json:\\\"application/json, text/javascript\\\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\\\"responseXML\\\",text:\\\"responseText\\\",json:\\\"responseJSON\\\"},converters:{\\\"* text\\\":String,\\\"text html\\\":!0,\\\"text json\\\":m.parseJSON,\\\"text xml\\\":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){\\\"object\\\"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks(\\\"once memory\\\"),q=k.statusCode||{},r={},s={},t=0,u=\\\"canceled\\\",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+\\\"\\\").replace(Ab,\\\"\\\").replace(Fb,yb[1]+\\\"//\\\"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||\\\"*\\\").toLowerCase().match(E)||[\\\"\\\"],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||(\\\"http:\\\"===c[1]?\\\"80\\\":\\\"443\\\"))===(yb[3]||(\\\"http:\\\"===yb[1]?\\\"80\\\":\\\"443\\\")))),k.data&&k.processData&&\\\"string\\\"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger(\\\"ajaxStart\\\"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?\\\"&\\\":\\\"?\\\")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,\\\"$1_=\\\"+vb++):e+(wb.test(e)?\\\"&\\\":\\\"?\\\")+\\\"_=\\\"+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader(\\\"If-Modified-Since\\\",m.lastModified[e]),m.etag[e]&&v.setRequestHeader(\\\"If-None-Match\\\",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader(\\\"Content-Type\\\",k.contentType),v.setRequestHeader(\\\"Accept\\\",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(\\\"*\\\"!==k.dataTypes[0]?\\\", \\\"+Jb+\\\"; q=0.01\\\":\\\"\\\"):k.accepts[\\\"*\\\"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u=\\\"abort\\\";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger(\\\"ajaxSend\\\",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort(\\\"timeout\\\")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,\\\"No Transport\\\");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||\\\"\\\",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader(\\\"Last-Modified\\\"),w&&(m.lastModified[e]=w),w=v.getResponseHeader(\\\"etag\\\"),w&&(m.etag[e]=w)),204===a||\\\"HEAD\\\"===k.type?x=\\\"nocontent\\\":304===a?x=\\\"notmodified\\\":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x=\\\"error\\\",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+\\\"\\\",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?\\\"ajaxSuccess\\\":\\\"ajaxError\\\",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger(\\\"ajaxComplete\\\",[v,k]),--m.active||m.event.trigger(\\\"ajaxStop\\\")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,\\\"json\\\")},getScript:function(a,b){return m.get(a,void 0,b,\\\"script\\\")}}),m.each([\\\"get\\\",\\\"post\\\"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:\\\"GET\\\",dataType:\\\"script\\\",async:!1,global:!1,\\\"throws\\\":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,\\\"body\\\")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&\\\"none\\\"===(a.style&&a.style.display||m.css(a,\\\"display\\\"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\\\\[\\\\]$/,Sb=/\\\\r?\\\\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+\\\"[\\\"+(\\\"object\\\"==typeof e?b:\\\"\\\")+\\\"]\\\",e,c,d)});else if(c||\\\"object\\\"!==m.type(b))d(a,b);else for(e in b)Vb(a+\\\"[\\\"+e+\\\"]\\\",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?\\\"\\\":b,d[d.length]=encodeURIComponent(a)+\\\"=\\\"+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join(\\\"&\\\").replace(Qb,\\\"+\\\")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,\\\"elements\\\");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(\\\":disabled\\\")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,\\\"\\\\r\\\\n\\\")}}):{name:b.name,value:c.replace(Sb,\\\"\\\\r\\\\n\\\")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent(\\\"onunload\\\",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&\\\"withCredentials\\\"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c[\\\"X-Requested-With\\\"]||(c[\\\"X-Requested-With\\\"]=\\\"XMLHttpRequest\\\");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+\\\"\\\");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,\\\"string\\\"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=\\\"\\\"}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject(\\\"Microsoft.XMLHTTP\\\")}catch(b){}}m.ajaxSetup({accepts:{script:\\\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\\\"},contents:{script:/(?:java|ecma)script/},converters:{\\\"text script\\\":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter(\\\"script\\\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\\\"GET\\\",a.global=!1)}),m.ajaxTransport(\\\"script\\\",function(a){if(a.crossDomain){var b,c=y.head||m(\\\"head\\\")[0]||y.documentElement;return{send:function(d,e){b=y.createElement(\\\"script\\\"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,\\\"success\\\"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\\\\?(?=&|$)|\\\\?\\\\?/;m.ajaxSetup({jsonp:\\\"callback\\\",jsonpCallback:function(){var a=_b.pop()||m.expando+\\\"_\\\"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter(\\\"json jsonp\\\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?\\\"url\\\":\\\"string\\\"==typeof b.data&&!(b.contentType||\\\"\\\").indexOf(\\\"application/x-www-form-urlencoded\\\")&&ac.test(b.data)&&\\\"data\\\");return h||\\\"jsonp\\\"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,\\\"$1\\\"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?\\\"&\\\":\\\"?\\\")+b.jsonp+\\\"=\\\"+e),b.converters[\\\"script json\\\"]=function(){return g||m.error(e+\\\" was not called\\\"),g[0]},b.dataTypes[0]=\\\"json\\\",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),\\\"script\\\"):void 0}),m.parseHTML=function(a,b,c){if(!a||\\\"string\\\"!=typeof a)return null;\\\"boolean\\\"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if(\\\"string\\\"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\\\" \\\");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&\\\"object\\\"==typeof b&&(f=\\\"POST\\\"),g.length>0&&m.ajax({url:a,type:f,dataType:\\\"html\\\",data:b}).done(function(a){e=arguments,g.html(d?m(\\\"<div>\\\").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each([\\\"ajaxStart\\\",\\\"ajaxStop\\\",\\\"ajaxComplete\\\",\\\"ajaxError\\\",\\\"ajaxSuccess\\\",\\\"ajaxSend\\\"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,\\\"position\\\"),l=m(a),n={};\\\"static\\\"===k&&(a.style.position=\\\"relative\\\"),h=l.offset(),f=m.css(a,\\\"top\\\"),i=m.css(a,\\\"left\\\"),j=(\\\"absolute\\\"===k||\\\"fixed\\\"===k)&&m.inArray(\\\"auto\\\",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),\\\"using\\\"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return\\\"fixed\\\"===m.css(d,\\\"position\\\")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],\\\"html\\\")||(c=a.offset()),c.top+=m.css(a[0],\\\"borderTopWidth\\\",!0),c.left+=m.css(a[0],\\\"borderLeftWidth\\\",!0)),{top:b.top-c.top-m.css(d,\\\"marginTop\\\",!0),left:b.left-c.left-m.css(d,\\\"marginLeft\\\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,\\\"html\\\")&&\\\"static\\\"===m.css(a,\\\"position\\\"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:\\\"pageXOffset\\\",scrollTop:\\\"pageYOffset\\\"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each([\\\"top\\\",\\\"left\\\"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+\\\"px\\\":c):void 0})}),m.each({Height:\\\"height\\\",Width:\\\"width\\\"},function(a,b){m.each({padding:\\\"inner\\\"+a,content:b,\\\"\\\":\\\"outer\\\"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||\\\"boolean\\\"!=typeof d),g=c||(d===!0||e===!0?\\\"margin\\\":\\\"border\\\");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement[\\\"client\\\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\\\"scroll\\\"+a],e[\\\"scroll\\\"+a],b.body[\\\"offset\\\"+a],e[\\\"offset\\\"+a],e[\\\"client\\\"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,\\\"function\\\"==typeof define&&define.amd&&define(\\\"jquery\\\",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});\\n//# sourceMappingURL=jquery.min.map\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/jquery/dist/jquery.min.js\n// module id = 7\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/underscore/underscore-min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/underscore/underscore-min.js\n// module id = 8\n// module chunks = 0","module.exports = \"//     Underscore.js 1.8.3\\n//     http://underscorejs.org\\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\\n//     Underscore may be freely distributed under the MIT license.\\n(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if(\\\"number\\\"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i=\\\"constructor\\\";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};\\\"undefined\\\"!=typeof exports?(\\\"undefined\\\"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION=\\\"1.8.3\\\";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w(\\\"length\\\"),k=function(n){var t=O(n);return\\\"number\\\"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),(\\\"number\\\"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),\\\"value\\\")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError(\\\"Bind must be called on a function\\\");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error(\\\"bindAll must be passed function names\\\");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=\\\"\\\"+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable(\\\"toString\\\"),I=[\\\"valueOf\\\",\\\"isPrototypeOf\\\",\\\"toString\\\",\\\"propertyIsEnumerable\\\",\\\"hasOwnProperty\\\",\\\"toLocaleString\\\"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case\\\"[object RegExp]\\\":case\\\"[object String]\\\":return\\\"\\\"+n==\\\"\\\"+t;case\\\"[object Number]\\\":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case\\\"[object Date]\\\":case\\\"[object Boolean]\\\":return+n===+t}var i=\\\"[object Array]\\\"===u;if(!i){if(\\\"object\\\"!=typeof n||\\\"object\\\"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&\\\"constructor\\\"in n&&\\\"constructor\\\"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return\\\"[object Array]\\\"===s.call(n)},m.isObject=function(n){var t=typeof n;return\\\"function\\\"===t||\\\"object\\\"===t&&!!n},m.each([\\\"Arguments\\\",\\\"Function\\\",\\\"String\\\",\\\"Number\\\",\\\"Date\\\",\\\"RegExp\\\",\\\"Error\\\"],function(n){m[\\\"is\\\"+n]=function(t){return s.call(t)===\\\"[object \\\"+n+\\\"]\\\"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,\\\"callee\\\")}),\\\"function\\\"!=typeof/./&&\\\"object\\\"!=typeof Int8Array&&(m.isFunction=function(n){return\\\"function\\\"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||\\\"[object Boolean]\\\"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={\\\"&\\\":\\\"&amp;\\\",\\\"<\\\":\\\"&lt;\\\",\\\">\\\":\\\"&gt;\\\",'\\\"':\\\"&quot;\\\",\\\"'\\\":\\\"&#x27;\\\",\\\"`\\\":\\\"&#x60;\\\"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r=\\\"(?:\\\"+m.keys(n).join(\\\"|\\\")+\\\")\\\",e=RegExp(r),u=RegExp(r,\\\"g\\\");return function(n){return n=null==n?\\\"\\\":\\\"\\\"+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+\\\"\\\";return n?n+t:t},m.templateSettings={evaluate:/<%([\\\\s\\\\S]+?)%>/g,interpolate:/<%=([\\\\s\\\\S]+?)%>/g,escape:/<%-([\\\\s\\\\S]+?)%>/g};var K=/(.)^/,z={\\\"'\\\":\\\"'\\\",\\\"\\\\\\\\\\\":\\\"\\\\\\\\\\\",\\\"\\\\r\\\":\\\"r\\\",\\\"\\\\n\\\":\\\"n\\\",\\\"\\\\u2028\\\":\\\"u2028\\\",\\\"\\\\u2029\\\":\\\"u2029\\\"},D=/\\\\\\\\|'|\\\\r|\\\\n|\\\\u2028|\\\\u2029/g,L=function(n){return\\\"\\\\\\\\\\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join(\\\"|\\\")+\\\"|$\\\",\\\"g\\\"),u=0,i=\\\"__p+='\\\";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+=\\\"'+\\\\n((__t=(\\\"+r+\\\"))==null?'':_.escape(__t))+\\\\n'\\\":e?i+=\\\"'+\\\\n((__t=(\\\"+e+\\\"))==null?'':__t)+\\\\n'\\\":o&&(i+=\\\"';\\\\n\\\"+o+\\\"\\\\n__p+='\\\"),t}),i+=\\\"';\\\\n\\\",t.variable||(i=\\\"with(obj||{}){\\\\n\\\"+i+\\\"}\\\\n\\\"),i=\\\"var __t,__p='',__j=Array.prototype.join,\\\"+\\\"print=function(){__p+=__j.call(arguments,'');};\\\\n\\\"+i+\\\"return __p;\\\\n\\\";try{var o=new Function(t.variable||\\\"obj\\\",\\\"_\\\",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||\\\"obj\\\";return c.source=\\\"function(\\\"+f+\\\"){\\\\n\\\"+i+\\\"}\\\",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each([\\\"pop\\\",\\\"push\\\",\\\"reverse\\\",\\\"shift\\\",\\\"sort\\\",\\\"splice\\\",\\\"unshift\\\"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),\\\"shift\\\"!==n&&\\\"splice\\\"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each([\\\"concat\\\",\\\"join\\\",\\\"slice\\\"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return\\\"\\\"+this._wrapped},\\\"function\\\"==typeof define&&define.amd&&define(\\\"underscore\\\",[],function(){return m})}).call(this);\\n//# sourceMappingURL=underscore-min.map\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/underscore/underscore-min.js\n// module id = 9\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/lib/backbone/backbone.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./lib/backbone/backbone.min.js\n// module id = 10\n// module chunks = 0","module.exports = \"(function(t){var e=typeof self==\\\"object\\\"&&self.self==self&&self||typeof global==\\\"object\\\"&&global.global==global&&global;if(typeof define===\\\"function\\\"&&define.amd){define([\\\"underscore\\\",\\\"jquery\\\",\\\"exports\\\"],function(i,r,n){e.Backbone=t(e,n,i,r)})}else if(typeof exports!==\\\"undefined\\\"){var i=require(\\\"underscore\\\"),r;try{r=require(\\\"jquery\\\")}catch(n){}t(e,exports,i,r)}else{e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}})(function(t,e,i,r){var n=t.Backbone;var s=Array.prototype.slice;e.VERSION=\\\"1.2.3\\\";e.$=r;e.noConflict=function(){t.Backbone=n;return this};e.emulateHTTP=false;e.emulateJSON=false;var a=function(t,e,r){switch(t){case 1:return function(){return i[e](this[r])};case 2:return function(t){return i[e](this[r],t)};case 3:return function(t,n){return i[e](this[r],h(t,this),n)};case 4:return function(t,n,s){return i[e](this[r],h(t,this),n,s)};default:return function(){var t=s.call(arguments);t.unshift(this[r]);return i[e].apply(i,t)}}};var o=function(t,e,r){i.each(e,function(e,n){if(i[n])t.prototype[n]=a(e,n,r)})};var h=function(t,e){if(i.isFunction(t))return t;if(i.isObject(t)&&!e._isModel(t))return u(t);if(i.isString(t))return function(e){return e.get(t)};return t};var u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}};var l=e.Events={};var c=/\\\\s+/;var f=function(t,e,r,n,s){var a=0,o;if(r&&typeof r===\\\"object\\\"){if(n!==void 0&&\\\"context\\\"in s&&s.context===void 0)s.context=n;for(o=i.keys(r);a<o.length;a++){e=f(t,e,o[a],r[o[a]],s)}}else if(r&&c.test(r)){for(o=r.split(c);a<o.length;a++){e=t(e,o[a],n,s)}}else{e=t(e,r,n,s)}return e};l.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,r,n){t._events=f(v,t._events||{},e,i,{context:r,ctx:t,listening:n});if(n){var s=t._listeners||(t._listeners={});s[n.id]=n}return t};l.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=i.uniqueId(\\\"l\\\"));var s=this._listeningTo||(this._listeningTo={});var a=s[n];if(!a){var o=this._listenId||(this._listenId=i.uniqueId(\\\"l\\\"));a=s[n]={obj:t,objId:n,id:o,listeningTo:s,count:0}}d(t,e,r,this,a);return this};var v=function(t,e,i,r){if(i){var n=t[e]||(t[e]=[]);var s=r.context,a=r.ctx,o=r.listening;if(o)o.count++;n.push({callback:i,context:s,ctx:s||a,listening:o})}return t};l.off=function(t,e,i){if(!this._events)return this;this._events=f(g,this._events,t,e,{context:i,listeners:this._listeners});return this};l.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;var s=t?[t._listenId]:i.keys(n);for(var a=0;a<s.length;a++){var o=n[s[a]];if(!o)break;o.obj.off(e,r,this)}if(i.isEmpty(n))this._listeningTo=void 0;return this};var g=function(t,e,r,n){if(!t)return;var s=0,a;var o=n.context,h=n.listeners;if(!e&&!r&&!o){var u=i.keys(h);for(;s<u.length;s++){a=h[u[s]];delete h[a.id];delete a.listeningTo[a.objId]}return}var l=e?[e]:i.keys(t);for(;s<l.length;s++){e=l[s];var c=t[e];if(!c)break;var f=[];for(var d=0;d<c.length;d++){var v=c[d];if(r&&r!==v.callback&&r!==v.callback._callback||o&&o!==v.context){f.push(v)}else{a=v.listening;if(a&&--a.count===0){delete h[a.id];delete a.listeningTo[a.objId]}}}if(f.length){t[e]=f}else{delete t[e]}}if(i.size(t))return t};l.once=function(t,e,r){var n=f(p,{},t,e,i.bind(this.off,this));return this.on(n,void 0,r)};l.listenToOnce=function(t,e,r){var n=f(p,{},e,r,i.bind(this.stopListening,this,t));return this.listenTo(t,n)};var p=function(t,e,r,n){if(r){var s=t[e]=i.once(function(){n(e,s);r.apply(this,arguments)});s._callback=r}return t};l.trigger=function(t){if(!this._events)return this;var e=Math.max(0,arguments.length-1);var i=Array(e);for(var r=0;r<e;r++)i[r]=arguments[r+1];f(m,this._events,t,void 0,i);return this};var m=function(t,e,i,r){if(t){var n=t[e];var s=t.all;if(n&&s)s=s.slice();if(n)_(n,r);if(s)_(s,[e].concat(r))}return t};var _=function(t,e){var i,r=-1,n=t.length,s=e[0],a=e[1],o=e[2];switch(e.length){case 0:while(++r<n)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<n)(i=t[r]).callback.call(i.ctx,s);return;case 2:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a);return;case 3:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a,o);return;default:while(++r<n)(i=t[r]).callback.apply(i.ctx,e);return}};l.bind=l.on;l.unbind=l.off;i.extend(e,l);var y=e.Model=function(t,e){var r=t||{};e||(e={});this.cid=i.uniqueId(this.cidPrefix);this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)r=this.parse(r,e)||{};r=i.defaults({},r,i.result(this,\\\"defaults\\\"));this.set(r,e);this.changed={};this.initialize.apply(this,arguments)};i.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:\\\"id\\\",cidPrefix:\\\"c\\\",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return this.get(t)!=null},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(t==null)return this;var n;if(typeof t===\\\"object\\\"){n=t;r=e}else{(n={})[t]=e}r||(r={});if(!this._validate(n,r))return false;var s=r.unset;var a=r.silent;var o=[];var h=this._changing;this._changing=true;if(!h){this._previousAttributes=i.clone(this.attributes);this.changed={}}var u=this.attributes;var l=this.changed;var c=this._previousAttributes;for(var f in n){e=n[f];if(!i.isEqual(u[f],e))o.push(f);if(!i.isEqual(c[f],e)){l[f]=e}else{delete l[f]}s?delete u[f]:u[f]=e}this.id=this.get(this.idAttribute);if(!a){if(o.length)this._pending=r;for(var d=0;d<o.length;d++){this.trigger(\\\"change:\\\"+o[d],this,u[o[d]],r)}}if(h)return this;if(!a){while(this._pending){r=this._pending;this._pending=false;this.trigger(\\\"change\\\",this,r)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:true}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!i.isEmpty(this.changed);return i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):false;var e=this._changing?this._previousAttributes:this.attributes;var r={};for(var n in t){var s=t[n];if(i.isEqual(e[n],s))continue;r[n]=s}return i.size(r)?r:false},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:true},t);var e=this;var r=t.success;t.success=function(i){var n=t.parse?e.parse(i,t):i;if(!e.set(n,t))return false;if(r)r.call(t.context,e,i,t);e.trigger(\\\"sync\\\",e,i,t)};z(this,t);return this.sync(\\\"read\\\",this,t)},save:function(t,e,r){var n;if(t==null||typeof t===\\\"object\\\"){n=t;r=e}else{(n={})[t]=e}r=i.extend({validate:true,parse:true},r);var s=r.wait;if(n&&!s){if(!this.set(n,r))return false}else{if(!this._validate(n,r))return false}var a=this;var o=r.success;var h=this.attributes;r.success=function(t){a.attributes=h;var e=r.parse?a.parse(t,r):t;if(s)e=i.extend({},n,e);if(e&&!a.set(e,r))return false;if(o)o.call(r.context,a,t,r);a.trigger(\\\"sync\\\",a,t,r)};z(this,r);if(n&&s)this.attributes=i.extend({},h,n);var u=this.isNew()?\\\"create\\\":r.patch?\\\"patch\\\":\\\"update\\\";if(u===\\\"patch\\\"&&!r.attrs)r.attrs=n;var l=this.sync(u,this,r);this.attributes=h;return l},destroy:function(t){t=t?i.clone(t):{};var e=this;var r=t.success;var n=t.wait;var s=function(){e.stopListening();e.trigger(\\\"destroy\\\",e,e.collection,t)};t.success=function(i){if(n)s();if(r)r.call(t.context,e,i,t);if(!e.isNew())e.trigger(\\\"sync\\\",e,i,t)};var a=false;if(this.isNew()){i.defer(t.success)}else{z(this,t);a=this.sync(\\\"delete\\\",this,t)}if(!n)s();return a},url:function(){var t=i.result(this,\\\"urlRoot\\\")||i.result(this.collection,\\\"url\\\")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\\\\/]$/,\\\"$&/\\\")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:true},t))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;if(!r)return true;this.trigger(\\\"invalid\\\",this,r,i.extend(e,{validationError:r}));return false}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,\\\"attributes\\\");var x=e.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,i.extend({silent:true},e))};var w={add:true,remove:true,merge:true};var E={add:true,remove:false};var k=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var r=Array(t.length-i);var n=e.length;for(var s=0;s<r.length;s++)r[s]=t[s+i];for(s=0;s<n;s++)t[s+i]=e[s];for(s=0;s<r.length;s++)t[s+n+i]=r[s]};i.extend(x.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:false},e,E))},remove:function(t,e){e=i.extend({},e);var r=!i.isArray(t);t=r?[t]:i.clone(t);var n=this._removeModels(t,e);if(!e.silent&&n)this.trigger(\\\"update\\\",this,e);return r?n[0]:n},set:function(t,e){if(t==null)return;e=i.defaults({},e,w);if(e.parse&&!this._isModel(t))t=this.parse(t,e);var r=!i.isArray(t);t=r?[t]:t.slice();var n=e.at;if(n!=null)n=+n;if(n<0)n+=this.length+1;var s=[];var a=[];var o=[];var h={};var u=e.add;var l=e.merge;var c=e.remove;var f=false;var d=this.comparator&&n==null&&e.sort!==false;var v=i.isString(this.comparator)?this.comparator:null;var g;for(var p=0;p<t.length;p++){g=t[p];var m=this.get(g);if(m){if(l&&g!==m){var _=this._isModel(g)?g.attributes:g;if(e.parse)_=m.parse(_,e);m.set(_,e);if(d&&!f)f=m.hasChanged(v)}if(!h[m.cid]){h[m.cid]=true;s.push(m)}t[p]=m}else if(u){g=t[p]=this._prepareModel(g,e);if(g){a.push(g);this._addReference(g,e);h[g.cid]=true;s.push(g)}}}if(c){for(p=0;p<this.length;p++){g=this.models[p];if(!h[g.cid])o.push(g)}if(o.length)this._removeModels(o,e)}var y=false;var b=!d&&u&&c;if(s.length&&b){y=this.length!=s.length||i.some(this.models,function(t,e){return t!==s[e]});this.models.length=0;k(this.models,s,0);this.length=this.models.length}else if(a.length){if(d)f=true;k(this.models,a,n==null?this.length:n);this.length=this.models.length}if(f)this.sort({silent:true});if(!e.silent){for(p=0;p<a.length;p++){if(n!=null)e.index=n+p;g=a[p];g.trigger(\\\"add\\\",g,this,e)}if(f||y)this.trigger(\\\"sort\\\",this,e);if(a.length||o.length)this.trigger(\\\"update\\\",this,e)}return r?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var r=0;r<this.models.length;r++){this._removeReference(this.models[r],e)}e.previousModels=this.models;this._reset();t=this.add(t,i.extend({silent:true},e));if(!e.silent)this.trigger(\\\"reset\\\",this,e);return t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){if(t<0)t+=this.length;return this.models[t]},where:function(t,e){return this[e?\\\"find\\\":\\\"filter\\\"](t)},findWhere:function(t){return this.where(t,true)},sort:function(t){var e=this.comparator;if(!e)throw new Error(\\\"Cannot sort a set without a comparator\\\");t||(t={});var r=e.length;if(i.isFunction(e))e=i.bind(e,this);if(r===1||i.isString(e)){this.models=this.sortBy(e)}else{this.models.sort(e)}if(!t.silent)this.trigger(\\\"sort\\\",this,t);return this},pluck:function(t){return i.invoke(this.models,\\\"get\\\",t)},fetch:function(t){t=i.extend({parse:true},t);var e=t.success;var r=this;t.success=function(i){var n=t.reset?\\\"reset\\\":\\\"set\\\";r[n](i,t);if(e)e.call(t.context,r,i,t);r.trigger(\\\"sync\\\",r,i,t)};z(this,t);return this.sync(\\\"read\\\",this,t)},create:function(t,e){e=e?i.clone(e):{};var r=e.wait;t=this._prepareModel(t,e);if(!t)return false;if(!r)this.add(t,e);var n=this;var s=e.success;e.success=function(t,e,i){if(r)n.add(t,i);if(s)s.call(i.context,t,e,i)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||\\\"id\\\"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(this._isModel(t)){if(!t.collection)t.collection=this;return t}e=e?i.clone(e):{};e.collection=this;var r=new this.model(t,e);if(!r.validationError)return r;this.trigger(\\\"invalid\\\",this,r.validationError,e);return false},_removeModels:function(t,e){var i=[];for(var r=0;r<t.length;r++){var n=this.get(t[r]);if(!n)continue;var s=this.indexOf(n);this.models.splice(s,1);this.length--;if(!e.silent){e.index=s;n.trigger(\\\"remove\\\",n,this,e)}i.push(n);this._removeReference(n,e)}return i.length?i:false},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);if(i!=null)this._byId[i]=t;t.on(\\\"all\\\",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);if(i!=null)delete this._byId[i];if(this===t.collection)delete t.collection;t.off(\\\"all\\\",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if(e){if((t===\\\"add\\\"||t===\\\"remove\\\")&&i!==this)return;if(t===\\\"destroy\\\")this.remove(e,r);if(t===\\\"change\\\"){var n=this.modelId(e.previousAttributes());var s=this.modelId(e.attributes);if(n!==s){if(n!=null)delete this._byId[n];if(s!=null)this._byId[s]=e}}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};o(x,S,\\\"models\\\");var I=e.View=function(t){this.cid=i.uniqueId(\\\"view\\\");i.extend(this,i.pick(t,P));this._ensureElement();this.initialize.apply(this,arguments)};var T=/^(\\\\S+)\\\\s*(.*)$/;var P=[\\\"model\\\",\\\"collection\\\",\\\"el\\\",\\\"id\\\",\\\"attributes\\\",\\\"className\\\",\\\"tagName\\\",\\\"events\\\"];i.extend(I.prototype,l,{tagName:\\\"div\\\",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(t){this.undelegateEvents();this._setElement(t);this.delegateEvents();return this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t);this.el=this.$el[0]},delegateEvents:function(t){t||(t=i.result(this,\\\"events\\\"));if(!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(!i.isFunction(r))r=this[r];if(!r)continue;var n=e.match(T);this.delegate(n[1],n[2],i.bind(r,this))}return this},delegate:function(t,e,i){this.$el.on(t+\\\".delegateEvents\\\"+this.cid,e,i);return this},undelegateEvents:function(){if(this.$el)this.$el.off(\\\".delegateEvents\\\"+this.cid);return this},undelegate:function(t,e,i){this.$el.off(t+\\\".delegateEvents\\\"+this.cid,e,i);return this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(!this.el){var t=i.extend({},i.result(this,\\\"attributes\\\"));if(this.id)t.id=i.result(this,\\\"id\\\");if(this.className)t[\\\"class\\\"]=i.result(this,\\\"className\\\");this.setElement(this._createElement(i.result(this,\\\"tagName\\\")));this._setAttributes(t)}else{this.setElement(i.result(this,\\\"el\\\"))}},_setAttributes:function(t){this.$el.attr(t)}});e.sync=function(t,r,n){var s=H[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:s,dataType:\\\"json\\\"};if(!n.url){a.url=i.result(r,\\\"url\\\")||F()}if(n.data==null&&r&&(t===\\\"create\\\"||t===\\\"update\\\"||t===\\\"patch\\\")){a.contentType=\\\"application/json\\\";a.data=JSON.stringify(n.attrs||r.toJSON(n))}if(n.emulateJSON){a.contentType=\\\"application/x-www-form-urlencoded\\\";a.data=a.data?{model:a.data}:{}}if(n.emulateHTTP&&(s===\\\"PUT\\\"||s===\\\"DELETE\\\"||s===\\\"PATCH\\\")){a.type=\\\"POST\\\";if(n.emulateJSON)a.data._method=s;var o=n.beforeSend;n.beforeSend=function(t){t.setRequestHeader(\\\"X-HTTP-Method-Override\\\",s);if(o)return o.apply(this,arguments)}}if(a.type!==\\\"GET\\\"&&!n.emulateJSON){a.processData=false}var h=n.error;n.error=function(t,e,i){n.textStatus=e;n.errorThrown=i;if(h)h.call(n.context,t,e,i)};var u=n.xhr=e.ajax(i.extend(a,n));r.trigger(\\\"request\\\",r,u,n);return u};var H={create:\\\"POST\\\",update:\\\"PUT\\\",patch:\\\"PATCH\\\",\\\"delete\\\":\\\"DELETE\\\",read:\\\"GET\\\"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var A=/\\\\((.*?)\\\\)/g;var C=/(\\\\(\\\\?)?:\\\\w+/g;var R=/\\\\*\\\\w+/g;var j=/[\\\\-{}\\\\[\\\\]+?.,\\\\\\\\\\\\^$|#\\\\s]/g;i.extend($.prototype,l,{initialize:function(){},route:function(t,r,n){if(!i.isRegExp(t))t=this._routeToRegExp(t);if(i.isFunction(r)){n=r;r=\\\"\\\"}if(!n)n=this[r];var s=this;e.history.route(t,function(i){var a=s._extractParameters(t,i);if(s.execute(n,a,r)!==false){s.trigger.apply(s,[\\\"route:\\\"+r].concat(a));s.trigger(\\\"route\\\",r,a);e.history.trigger(\\\"route\\\",s,r,a)}});return this},execute:function(t,e,i){if(t)t.apply(this,e)},navigate:function(t,i){e.history.navigate(t,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,\\\"routes\\\");var t,e=i.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(j,\\\"\\\\\\\\$&\\\").replace(A,\\\"(?:$1)?\\\").replace(C,function(t,e){return e?t:\\\"([^/?]+)\\\"}).replace(R,\\\"([^?]*?)\\\");return new RegExp(\\\"^\\\"+t+\\\"(?:\\\\\\\\?([\\\\\\\\s\\\\\\\\S]*))?$\\\")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){if(e===r.length-1)return t||null;return t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[];this.checkUrl=i.bind(this.checkUrl,this);if(typeof window!==\\\"undefined\\\"){this.location=window.location;this.history=window.history}};var N=/^[#\\\\/]|\\\\s+$/g;var O=/^\\\\/+|\\\\/+$/g;var U=/#.*$/;M.started=false;i.extend(M.prototype,l,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\\\\/]$/,\\\"$&/\\\");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname);var e=t.slice(0,this.root.length-1)+\\\"/\\\";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,\\\"%2525\\\"))},getSearch:function(){var t=this.location.href.replace(/#.*/,\\\"\\\").match(/\\\\?.+/);return t?t[0]:\\\"\\\"},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:\\\"\\\"},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return t.charAt(0)===\\\"/\\\"?t.slice(1):t},getFragment:function(t){if(t==null){if(this._usePushState||!this._wantsHashChange){t=this.getPath()}else{t=this.getHash()}}return t.replace(N,\\\"\\\")},start:function(t){if(M.started)throw new Error(\\\"Backbone.history has already been started\\\");M.started=true;this.options=i.extend({root:\\\"/\\\"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange=\\\"onhashchange\\\"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=(\\\"/\\\"+this.root+\\\"/\\\").replace(O,\\\"/\\\");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||\\\"/\\\";this.location.replace(e+\\\"#\\\"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement(\\\"iframe\\\");this.iframe.src=\\\"javascript:0\\\";this.iframe.style.display=\\\"none\\\";this.iframe.tabIndex=-1;var r=document.body;var n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open();n.document.close();n.location.hash=\\\"#\\\"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent(\\\"on\\\"+t,e)};if(this._usePushState){s(\\\"popstate\\\",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){s(\\\"hashchange\\\",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent(\\\"on\\\"+t,e)};if(this._usePushState){t(\\\"popstate\\\",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){t(\\\"hashchange\\\",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);M.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getHash(this.iframe.contentWindow)}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){if(!this.matchRoot())return false;t=this.fragment=this.getFragment(t);return i.some(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!M.started)return false;if(!e||e===true)e={trigger:!!e};t=this.getFragment(t||\\\"\\\");var i=this.root;if(t===\\\"\\\"||t.charAt(0)===\\\"?\\\"){i=i.slice(0,-1)||\\\"/\\\"}var r=i+t;t=this.decodeFragment(t.replace(U,\\\"\\\"));if(this.fragment===t)return;this.fragment=t;if(this._usePushState){this.history[e.replace?\\\"replaceState\\\":\\\"pushState\\\"]({},document.title,r)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;if(!e.replace){n.document.open();n.document.close()}this._updateHash(n.location,t,e.replace)}}else{return this.location.assign(r)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,\\\"\\\");t.replace(r+\\\"#\\\"+e)}else{t.hash=\\\"#\\\"+e}}});e.history=new M;var q=function(t,e){var r=this;var n;if(t&&i.has(t,\\\"constructor\\\")){n=t.constructor}else{n=function(){return r.apply(this,arguments)}}i.extend(n,r,e);var s=function(){this.constructor=n};s.prototype=r.prototype;n.prototype=new s;if(t)i.extend(n.prototype,t);n.__super__=r.prototype;return n};y.extend=x.extend=$.extend=I.extend=M.extend=q;var F=function(){throw new Error('A \\\"url\\\" property or function must be specified')};var z=function(t,e){var i=e.error;e.error=function(r){if(i)i.call(e.context,t,r,e);t.trigger(\\\"error\\\",t,r,e)}};return e});\\n//# sourceMappingURL=backbone-min.map\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./lib/backbone/backbone.min.js\n// module id = 11\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/handlebars/dist/handlebars.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/handlebars/dist/handlebars.min.js\n// module id = 12\n// module chunks = 0","module.exports = \"/*!\\n\\n handlebars v1.3.0\\n\\nCopyright (C) 2011 by Yehuda Katz\\n\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\nof this software and associated documentation files (the \\\"Software\\\"), to deal\\nin the Software without restriction, including without limitation the rights\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\ncopies of the Software, and to permit persons to whom the Software is\\nfurnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in\\nall copies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\nTHE SOFTWARE.\\n\\n@license\\n*/\\nvar Handlebars=function(){var a=function(){\\\"use strict\\\";function a(a){this.string=a}var b;return a.prototype.toString=function(){return\\\"\\\"+this.string},b=a}(),b=function(a){\\\"use strict\\\";function b(a){return h[a]||\\\"&amp;\\\"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=\\\"\\\"+a,j.test(a)?a.replace(i,b):a):\\\"\\\"}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={\\\"&\\\":\\\"&amp;\\\",\\\"<\\\":\\\"&lt;\\\",\\\">\\\":\\\"&gt;\\\",'\\\"':\\\"&quot;\\\",\\\"'\\\":\\\"&#x27;\\\",\\\"`\\\":\\\"&#x60;\\\"},i=/[&<>\\\"'`]/g,j=/[&<>\\\"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return\\\"function\\\"==typeof a};l(/x/)&&(l=function(a){return\\\"function\\\"==typeof a&&\\\"[object Function]\\\"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&\\\"object\\\"==typeof a?\\\"[object Array]\\\"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){\\\"use strict\\\";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=\\\" - \\\"+d+\\\":\\\"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=[\\\"description\\\",\\\"fileName\\\",\\\"lineNumber\\\",\\\"message\\\",\\\"name\\\",\\\"number\\\",\\\"stack\\\"];return a.prototype=new Error,b=a}(),d=function(a,b){\\\"use strict\\\";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper(\\\"helperMissing\\\",function(a){if(2===arguments.length)return void 0;throw new h(\\\"Missing helper: '\\\"+a+\\\"'\\\")}),a.registerHelper(\\\"blockHelperMissing\\\",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper(\\\"each\\\",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g=\\\"\\\";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&\\\"object\\\"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper(\\\"if\\\",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper(\\\"unless\\\",function(b,c){return a.helpers[\\\"if\\\"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper(\\\"with\\\",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper(\\\"log\\\",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i=\\\"1.3.0\\\";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:\\\"<= 1.0.rc.2\\\",2:\\\"== 1.0.0-rc.3\\\",3:\\\"== 1.0.0-rc.4\\\",4:\\\">= 1.0.0\\\"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o=\\\"[object Object]\\\";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h(\\\"Arg not supported with multiple helpers\\\");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:\\\"debug\\\",1:\\\"info\\\",2:\\\"warn\\\",3:\\\"error\\\"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];\\\"undefined\\\"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){\\\"use strict\\\";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l(\\\"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (\\\"+d+\\\") or downgrade your runtime to an older version (\\\"+e+\\\").\\\")}throw new l(\\\"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (\\\"+a[1]+\\\").\\\")}}function e(a,b){if(!b)throw new l(\\\"No environment passed to template\\\");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l(\\\"The partial \\\"+c+\\\" could not be compiled when running in runtime-only mode\\\")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l(\\\"The partial \\\"+b+\\\" could not be found\\\");return a instanceof Function?a(c,g):void 0}function i(){return\\\"\\\"}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){\\\"use strict\\\";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){\\\"use strict\\\";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type=\\\"program\\\",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type=\\\"mustache\\\",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped=\\\"{\\\"!==h&&\\\"&\\\"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type=\\\"sexpr\\\",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type=\\\"partial\\\",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+\\\" doesn't match \\\"+f.path.original,this);this.type=\\\"block\\\",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type=\\\"content\\\",this.string=a},HashNode:function(a,c){b.call(this,c),this.type=\\\"hash\\\",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type=\\\"ID\\\";for(var e=\\\"\\\",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||\\\"\\\")+j,\\\"..\\\"===j||\\\".\\\"===j||\\\"this\\\"===j){if(f.length>0)throw new d(\\\"Invalid path: \\\"+e,this);\\\"..\\\"===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join(\\\".\\\"),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type=\\\"PARTIAL_NAME\\\",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type=\\\"DATA\\\",this.id=a},StringNode:function(a,c){b.call(this,c),this.type=\\\"STRING\\\",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type=\\\"INTEGER\\\",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type=\\\"BOOLEAN\\\",this.bool=a,this.stringModeValue=\\\"true\\\"===a},CommentNode:function(a,c){b.call(this,c),this.type=\\\"comment\\\",this.comment=a}};return c=e}(c),h=function(){\\\"use strict\\\";var a,b=function(){function a(a,b){return{left:\\\"~\\\"===a.charAt(2),right:\\\"~\\\"===b.charAt(0)||\\\"~\\\"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:\\\"error\\\",5:\\\"EOF\\\",14:\\\"CONTENT\\\",15:\\\"COMMENT\\\",16:\\\"OPEN_BLOCK\\\",18:\\\"CLOSE\\\",19:\\\"OPEN_INVERSE\\\",20:\\\"OPEN_ENDBLOCK\\\",22:\\\"OPEN\\\",23:\\\"OPEN_UNESCAPED\\\",24:\\\"CLOSE_UNESCAPED\\\",25:\\\"OPEN_PARTIAL\\\",32:\\\"STRING\\\",33:\\\"INTEGER\\\",34:\\\"BOOLEAN\\\",35:\\\"OPEN_SEXPR\\\",36:\\\"CLOSE_SEXPR\\\",40:\\\"ID\\\",41:\\\"EQUALS\\\",42:\\\"DATA\\\",44:\\\"SEP\\\"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 13:this.$=g[h];break;case 14:this.$=g[h];break;case 15:this.$=new e.ContentNode(g[h],this._$);break;case 16:this.$=new e.CommentNode(g[h],this._$);break;case 17:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 19:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 22:this.$=new e.PartialNode(g[h-2],g[h-1],a(g[h-3],g[h]),this._$);break;case 23:this.$=a(g[h-1],g[h]);break;case 24:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 25:this.$=new e.SexprNode([g[h]],null,this._$);break;case 26:this.$=g[h];break;case 27:this.$=new e.StringNode(g[h],this._$);break;case 28:this.$=new e.IntegerNode(g[h],this._$);break;case 29:this.$=new e.BooleanNode(g[h],this._$);break;case 30:this.$=g[h];break;case 31:g[h-1].isHelper=!0,this.$=g[h-1];break;case 32:this.$=new e.HashNode(g[h],this._$);break;case 33:this.$=[g[h-2],g[h]];break;case 34:this.$=new e.PartialNameNode(g[h],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[h],this._$));break;case 37:this.$=new e.DataNode(g[h],this._$);break;case 38:this.$=new e.IdNode(g[h],this._$);break;case 39:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 40:this.$=[{part:g[h]}];break;case 43:this.$=[];break;case 44:g[h-1].push(g[h]);break;case 47:this.$=[g[h]];break;case 48:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,\\\"number\\\"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h=\\\"\\\",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,\\\"undefined\\\"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;\\\"function\\\"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||\\\"undefined\\\"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),\\\"undefined\\\"==typeof q||!q.length||!q[0]){var x=\\\"\\\";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push(\\\"'\\\"+this.terminals_[s]+\\\"'\\\");x=this.lexer.showPosition?\\\"Parse error on line \\\"+(i+1)+\\\":\\\\n\\\"+this.lexer.showPosition()+\\\"\\\\nExpecting \\\"+v.join(\\\", \\\")+\\\", got '\\\"+(this.terminals_[n]||n)+\\\"'\\\":\\\"Parse error on line \\\"+(i+1)+\\\": Unexpected \\\"+(1==n?\\\"end of input\\\":\\\"'\\\"+(this.terminals_[n]||n)+\\\"'\\\"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error(\\\"Parse Error: multiple actions possible at state: \\\"+p+\\\", token: \\\"+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),\\\"undefined\\\"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match=\\\"\\\",this.conditionStack=[\\\"INITIAL\\\"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\\\\r\\\\n?|\\\\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\\\\r\\\\n?|\\\\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\\\\r\\\\n?|\\\\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?\\\"...\\\":\\\"\\\")+a.substr(-20).replace(/\\\\n/g,\\\"\\\")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?\\\"...\\\":\\\"\\\")).replace(/\\\\n/g,\\\"\\\")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join(\\\"-\\\");return a+this.upcomingInput()+\\\"\\\\n\\\"+b+\\\"^\\\"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext=\\\"\\\",this.match=\\\"\\\");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\\\\r\\\\n?|\\\\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\\\\r?\\\\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):\\\"\\\"===this._input?this.EOF:this.parseError(\\\"Lexical error on line \\\"+(this.yylineno+1)+\\\". Unrecognized text.\\\\n\\\"+this.showPosition(),{text:\\\"\\\",token:null,line:this.yylineno})},lex:function(){var a=this.next();return\\\"undefined\\\"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if(\\\"\\\\\\\\\\\\\\\\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin(\\\"mu\\\")):\\\"\\\\\\\\\\\"===b.yytext.slice(-1)?(e(0,1),this.begin(\\\"emu\\\")):this.begin(\\\"mu\\\"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin(\\\"com\\\");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\\\\\\\\\\"/g,'\\\"'),32;case 24:return b.yytext=e(1,2).replace(/\\\\\\\\'/g,\\\"'\\\"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return\\\"INVALID\\\";case 32:return 5}},a.rules=[/^(?:[^\\\\x00]*?(?=(\\\\{\\\\{)))/,/^(?:[^\\\\x00]+)/,/^(?:[^\\\\x00]{2,}?(?=(\\\\{\\\\{|\\\\\\\\\\\\{\\\\{|\\\\\\\\\\\\\\\\\\\\{\\\\{|$)))/,/^(?:[\\\\s\\\\S]*?--\\\\}\\\\})/,/^(?:\\\\()/,/^(?:\\\\))/,/^(?:\\\\{\\\\{(~)?>)/,/^(?:\\\\{\\\\{(~)?#)/,/^(?:\\\\{\\\\{(~)?\\\\/)/,/^(?:\\\\{\\\\{(~)?\\\\^)/,/^(?:\\\\{\\\\{(~)?\\\\s*else\\\\b)/,/^(?:\\\\{\\\\{(~)?\\\\{)/,/^(?:\\\\{\\\\{(~)?&)/,/^(?:\\\\{\\\\{!--)/,/^(?:\\\\{\\\\{![\\\\s\\\\S]*?\\\\}\\\\})/,/^(?:\\\\{\\\\{(~)?)/,/^(?:=)/,/^(?:\\\\.\\\\.)/,/^(?:\\\\.(?=([=~}\\\\s\\\\/.)])))/,/^(?:[\\\\/.])/,/^(?:\\\\s+)/,/^(?:\\\\}(~)?\\\\}\\\\})/,/^(?:(~)?\\\\}\\\\})/,/^(?:\\\"(\\\\\\\\[\\\"]|[^\\\"])*\\\")/,/^(?:'(\\\\\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\\\s)])))/,/^(?:false(?=([~}\\\\s)])))/,/^(?:-?[0-9]+(?=([~}\\\\s)])))/,/^(?:([^\\\\s!\\\"#%-,\\\\.\\\\/;->@\\\\[-\\\\^`\\\\{-~]+(?=([=~}\\\\s\\\\/.)]))))/,/^(?:\\\\[[^\\\\]]*\\\\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){\\\"use strict\\\";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){\\\"use strict\\\";function b(){}function c(a,b,c){if(null==a||\\\"string\\\"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f(\\\"You must pass a string or Handlebars AST to Handlebars.precompile. You passed \\\"+a);b=b||{},\\\"data\\\"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||\\\"string\\\"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f(\\\"You must pass a string or Handlebars AST to Handlebars.compile. You passed \\\"+a);b=b||{},\\\"data\\\"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],\\\"DECLARE\\\"===a.opcode)e.push(\\\"DECLARE \\\"+a.name+\\\"=\\\"+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],\\\"string\\\"==typeof c&&(c='\\\"'+c.replace(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\")+'\\\"'),b.push(c);e.push(a.opcode+\\\" \\\"+b.join(\\\" \\\"))}return e.join(\\\"\\\\n\\\")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,\\\"if\\\":!0,unless:!0,\\\"with\\\":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode(\\\"strip\\\"),b=this[a.type](a),c.right&&this.opcode(\\\"strip\\\"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);\\\"helper\\\"===f?this.helperSexpr(e,c,d):\\\"simple\\\"===f?(this.simpleSexpr(e),this.opcode(\\\"pushProgram\\\",c),this.opcode(\\\"pushProgram\\\",d),this.opcode(\\\"emptyHash\\\"),this.opcode(\\\"blockValue\\\")):(this.ambiguousSexpr(e,c,d),this.opcode(\\\"pushProgram\\\",c),this.opcode(\\\"pushProgram\\\",d),this.opcode(\\\"emptyHash\\\"),this.opcode(\\\"ambiguousBlockValue\\\")),this.opcode(\\\"append\\\")},hash:function(a){var b,c,d=a.pairs;this.opcode(\\\"pushHash\\\");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode(\\\"getContext\\\",c.depth||0),this.opcode(\\\"pushStringParam\\\",c.stringModeValue,c.type),\\\"sexpr\\\"===c.type&&this.sexpr(c)):this.accept(c),this.opcode(\\\"assignToHash\\\",b[0]);this.opcode(\\\"popHash\\\")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode(\\\"push\\\",\\\"depth0\\\"),this.opcode(\\\"invokePartial\\\",b.name),this.opcode(\\\"append\\\")},content:function(a){this.opcode(\\\"appendContent\\\",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode(\\\"appendEscaped\\\"):this.opcode(\\\"append\\\")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode(\\\"getContext\\\",d.depth),this.opcode(\\\"pushProgram\\\",b),this.opcode(\\\"pushProgram\\\",c),this.opcode(\\\"invokeAmbiguous\\\",e,f)},simpleSexpr:function(a){var b=a.id;\\\"DATA\\\"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode(\\\"getContext\\\",b.depth),this.opcode(\\\"pushContext\\\")),this.opcode(\\\"resolvePossibleLambda\\\")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode(\\\"invokeKnownHelper\\\",d.length,e);else{if(this.options.knownHelpersOnly)throw new f(\\\"You specified knownHelpersOnly, but used the unknown helper \\\"+e,a);this.opcode(\\\"invokeHelper\\\",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);\\\"simple\\\"===b?this.simpleSexpr(a):\\\"helper\\\"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode(\\\"getContext\\\",a.depth);var b=a.parts[0];b?this.opcode(\\\"lookupOnContext\\\",a.parts[0]):this.opcode(\\\"pushContext\\\");for(var c=1,d=a.parts.length;d>c;c++)this.opcode(\\\"lookup\\\",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f(\\\"Scoped data references are not supported: \\\"+a.original,a);this.opcode(\\\"lookupData\\\");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode(\\\"lookup\\\",b[c])},STRING:function(a){this.opcode(\\\"pushString\\\",a.string)},INTEGER:function(a){this.opcode(\\\"pushLiteral\\\",a.integer)},BOOLEAN:function(a){this.opcode(\\\"pushLiteral\\\",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:\\\"DECLARE\\\",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?\\\"helper\\\":c?\\\"ambiguous\\\":\\\"simple\\\"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode(\\\"getContext\\\",b.depth||0),this.opcode(\\\"pushStringParam\\\",b.stringModeValue,b.type),\\\"sexpr\\\"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode(\\\"pushProgram\\\",b),this.opcode(\\\"pushProgram\\\",c),a.hash?this.hash(a.hash):this.opcode(\\\"emptyHash\\\"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){\\\"use strict\\\";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf(\\\"depth\\\")&&(c=!0),e=/^[0-9]+$/.test(b)?a+\\\"[\\\"+b+\\\"]\\\":d.isValidJavaScriptVariableName(b)?a+\\\".\\\"+b:a+\\\"['\\\"+b+\\\"']\\\",c?\\\"(\\\"+a+\\\" && \\\"+e+\\\")\\\":e},compilerInfo:function(){var a=f,b=g[a];return\\\"this.compilerInfo = [\\\"+a+\\\",'\\\"+b+\\\"'];\\\\n\\\"},appendToBuffer:function(a){return this.environment.isSimple?\\\"return \\\"+a+\\\";\\\":{appendToBuffer:!0,content:a,toString:function(){return\\\"buffer += \\\"+a+\\\";\\\"}}},initializeBuffer:function(){return this.quotedString(\\\"\\\")},namespace:\\\"Handlebars\\\",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h(\\\"debug\\\",this.environment.disassemble()+\\\"\\\\n\\\\n\\\"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);\\nvar e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],\\\"DECLARE\\\"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(\\\"\\\"),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i(\\\"Compile completed with content left on stack\\\");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push(\\\"\\\");else{var b=this.namespace,c=\\\"helpers = this.merge(helpers, \\\"+b+\\\".helpers);\\\";this.environment.usePartial&&(c=c+\\\" partials = this.merge(partials, \\\"+b+\\\".partials);\\\"),this.options.data&&(c+=\\\" data = data || {};\\\"),a.push(c)}this.environment.isSimple?a.push(\\\"\\\"):a.push(\\\", buffer = \\\"+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+\\\", \\\"+b.join(\\\", \\\")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+\\\", \\\"+c+\\\"=\\\"+this.context.aliases[c]);this.source[1]&&(this.source[1]=\\\"var \\\"+this.source[1].substring(2)+\\\";\\\"),this.isChild||(this.source[1]+=\\\"\\\\n\\\"+this.context.programs.join(\\\"\\\\n\\\")+\\\"\\\\n\\\"),this.environment.isSimple||this.pushSource(\\\"return buffer;\\\");for(var d=this.isChild?[\\\"depth0\\\",\\\"data\\\"]:[\\\"Handlebars\\\",\\\"depth0\\\",\\\"helpers\\\",\\\"partials\\\",\\\"data\\\"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push(\\\"depth\\\"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i=\\\"function \\\"+(this.name||\\\"\\\")+\\\"(\\\"+d.join(\\\",\\\")+\\\") {\\\\n  \\\"+g+\\\"}\\\";return h(\\\"debug\\\",i+\\\"\\\\n\\\\n\\\"),i},mergeSource:function(){for(var a,b=\\\"\\\",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+\\\"\\\\n    + \\\"+e.content:e.content:(a&&(b+=\\\"buffer += \\\"+a+\\\";\\\\n  \\\",a=void 0),b+=e+\\\"\\\\n  \\\")}return b},blockValue:function(){this.context.aliases.blockHelperMissing=\\\"helpers.blockHelperMissing\\\";var a=[\\\"depth0\\\"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),\\\"blockHelperMissing.call(\\\"+a.join(\\\", \\\")+\\\")\\\"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing=\\\"helpers.blockHelperMissing\\\";var a=[\\\"depth0\\\"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource(\\\"if (!\\\"+this.lastHelper+\\\") { \\\"+b+\\\" = blockHelperMissing.call(\\\"+a.join(\\\", \\\")+\\\"); }\\\")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\\\\s+/,\\\"\\\")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\\\\s+$/,\\\"\\\")),this.stripNext=\\\"strip\\\"},append:function(){this.flushInline();var a=this.popStack();this.pushSource(\\\"if(\\\"+a+\\\" || \\\"+a+\\\" === 0) { \\\"+this.appendToBuffer(a)+\\\" }\\\"),this.environment.isSimple&&this.pushSource(\\\"else { \\\"+this.appendToBuffer(\\\"''\\\")+\\\" }\\\")},appendEscaped:function(){this.context.aliases.escapeExpression=\\\"this.escapeExpression\\\",this.pushSource(this.appendToBuffer(\\\"escapeExpression(\\\"+this.popStack()+\\\")\\\"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup(\\\"depth\\\"+this.lastContext,a,\\\"context\\\"))},pushContext:function(){this.pushStackLiteral(\\\"depth\\\"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='\\\"function\\\"',this.replaceStack(function(a){return\\\"typeof \\\"+a+\\\" === functionType ? \\\"+a+\\\".apply(depth0) : \\\"+a})},lookup:function(a){this.replaceStack(function(b){return b+\\\" == null || \\\"+b+\\\" === false ? \\\"+b+\\\" : \\\"+this.nameLookup(b,a,\\\"context\\\")})},lookupData:function(){this.pushStackLiteral(\\\"data\\\")},pushStringParam:function(a,b){this.pushStackLiteral(\\\"depth\\\"+this.lastContext),this.pushString(b),\\\"sexpr\\\"!==b&&(\\\"string\\\"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral(\\\"{}\\\"),this.options.stringParams&&(this.push(\\\"{}\\\"),this.push(\\\"{}\\\"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push(\\\"{\\\"+a.contexts.join(\\\",\\\")+\\\"}\\\"),this.push(\\\"{\\\"+a.types.join(\\\",\\\")+\\\"}\\\")),this.push(\\\"{\\\\n    \\\"+a.values.join(\\\",\\\\n    \\\")+\\\"\\\\n  }\\\")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing=\\\"helpers.helperMissing\\\",this.useRegister(\\\"helper\\\");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup(\\\"depth\\\"+this.lastContext,b,\\\"context\\\"),f=\\\"helper = \\\"+d.name+\\\" || \\\"+e;d.paramsInit&&(f+=\\\",\\\"+d.paramsInit),this.push(\\\"(\\\"+f+\\\",helper ? helper.call(\\\"+d.callParams+\\\") : helperMissing.call(\\\"+d.helperMissingParams+\\\"))\\\"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+\\\".call(\\\"+c.callParams+\\\")\\\")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='\\\"function\\\"',this.useRegister(\\\"helper\\\"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup(\\\"helpers\\\",a,\\\"helper\\\"),e=this.nameLookup(\\\"depth\\\"+this.lastContext,a,\\\"context\\\"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource(\\\"if (helper = \\\"+d+\\\") { \\\"+f+\\\" = helper.call(\\\"+c.callParams+\\\"); }\\\"),this.pushSource(\\\"else { helper = \\\"+e+\\\"; \\\"+f+\\\" = typeof helper === functionType ? helper.call(\\\"+c.callParams+\\\") : helper; }\\\")},invokePartial:function(a){var b=[this.nameLookup(\\\"partials\\\",a,\\\"partial\\\"),\\\"'\\\"+a+\\\"'\\\",this.popStack(),\\\"helpers\\\",\\\"partials\\\"];this.options.data&&b.push(\\\"data\\\"),this.context.aliases.self=\\\"this\\\",this.push(\\\"self.invokePartial(\\\"+b.join(\\\", \\\")+\\\")\\\")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push(\\\"'\\\"+a+\\\"': \\\"+b),c&&e.types.push(\\\"'\\\"+a+\\\"': \\\"+c),e.values.push(\\\"'\\\"+a+\\\"': (\\\"+d+\\\")\\\")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(\\\"\\\"),h=this.context.programs.length,c.index=h,c.name=\\\"program\\\"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name=\\\"program\\\"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self=\\\"this\\\",null==a)return\\\"self.noop\\\";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,\\\"data\\\"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push(\\\"depth0\\\"):e.push(\\\"depth\\\"+(b-1));return(0===d.length?\\\"self.program(\\\":\\\"self.programWithDepth(\\\")+e.join(\\\", \\\")+\\\")\\\"},register:function(a,b){this.useRegister(a),this.pushSource(a+\\\" = \\\"+b+\\\";\\\")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+\\\" = \\\"+a+\\\";\\\"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f=\\\"\\\",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f=\\\"(\\\"+this.push(i)+\\\" = \\\"+h+\\\"),\\\",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push(\\\"(\\\"+f+j+\\\")\\\")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+\\\" = (\\\"+f+j+\\\");\\\")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push(\\\"stack\\\"+this.stackSlot),this.topStackName()},topStackName:function(){return\\\"stack\\\"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i(\\\"Invalid stack pop\\\");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'\\\"'+a.replace(/\\\\\\\\/g,\\\"\\\\\\\\\\\\\\\\\\\").replace(/\\\"/g,'\\\\\\\\\\\"').replace(/\\\\n/g,\\\"\\\\\\\\n\\\").replace(/\\\\r/g,\\\"\\\\\\\\r\\\").replace(/\\\\u2028/g,\\\"\\\\\\\\u2028\\\").replace(/\\\\u2029/g,\\\"\\\\\\\\u2029\\\")+'\\\"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup(\\\"helpers\\\",b,\\\"helper\\\");return{params:d,paramsInit:e,name:f,callParams:[\\\"depth0\\\"].concat(d).join(\\\", \\\"),helperMissingParams:c&&[\\\"depth0\\\",this.quotedString(b)].concat(d).join(\\\", \\\")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push(\\\"hash:\\\"+this.popStack()),this.options.stringParams&&(f.push(\\\"hashTypes:\\\"+this.popStack()),f.push(\\\"hashContexts:\\\"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self=\\\"this\\\",e=\\\"self.noop\\\"),d||(this.context.aliases.self=\\\"this\\\",d=\\\"self.noop\\\"),f.push(\\\"inverse:\\\"+d),f.push(\\\"fn:\\\"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push(\\\"contexts:[\\\"+g.join(\\\",\\\")+\\\"]\\\"),f.push(\\\"types:[\\\"+h.join(\\\",\\\")+\\\"]\\\")),this.options.data&&f.push(\\\"data:data\\\"),f},setupParams:function(a,b,c){var d=\\\"{\\\"+this.setupOptions(a,b).join(\\\",\\\")+\\\"}\\\";return c?(this.useRegister(\\\"options\\\"),b.push(\\\"options\\\"),\\\"options=\\\"+d):(b.push(d),\\\"\\\")}};for(var j=\\\"break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield\\\".split(\\\" \\\"),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){\\\"use strict\\\";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}();\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/handlebars/dist/handlebars.min.js\n// module id = 13\n// module chunks = 0","// This file is just added for convenience so this repository can be\n// directly checked out into a project's deps folder\nmodule.exports = require('./lib/async');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/async/index.js\n// module id = 14\n// module chunks = 0","/*global setTimeout: false, console: false */\n(function () {\n\n    var async = {};\n\n    // global on the server, window in the browser\n    var root = this,\n        previous_async = root.async;\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    else {\n        root.async = async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    //// cross-browser compatiblity functions ////\n\n    var _forEach = function (arr, iterator) {\n        if (arr.forEach) {\n            return arr.forEach(iterator);\n        }\n        for (var i = 0; i < arr.length; i += 1) {\n            iterator(arr[i], i, arr);\n        }\n    };\n\n    var _map = function (arr, iterator) {\n        if (arr.map) {\n            return arr.map(iterator);\n        }\n        var results = [];\n        _forEach(arr, function (x, i, a) {\n            results.push(iterator(x, i, a));\n        });\n        return results;\n    };\n\n    var _reduce = function (arr, iterator, memo) {\n        if (arr.reduce) {\n            return arr.reduce(iterator, memo);\n        }\n        _forEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    };\n\n    var _keys = function (obj) {\n        if (Object.keys) {\n            return Object.keys(obj);\n        }\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        async.nextTick = function (fn) {\n            setTimeout(fn, 0);\n        };\n    }\n    else {\n        async.nextTick = process.nextTick;\n    }\n\n    async.forEach = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        _forEach(arr, function (x) {\n            iterator(x, function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed === arr.length) {\n                        callback();\n                    }\n                }\n            });\n        });\n    };\n\n    async.forEachSeries = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        var iterate = function () {\n            iterator(arr[completed], function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed === arr.length) {\n                        callback();\n                    }\n                    else {\n                        iterate();\n                    }\n                }\n            });\n        };\n        iterate();\n    };\n    \n    async.forEachLimit = function (arr, limit, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length || limit <= 0) {\n            return callback(); \n        }\n        var completed = 0;\n        var started = 0;\n        var running = 0;\n        \n        (function replenish () {\n          if (completed === arr.length) {\n              return callback();\n          }\n          \n          while (running < limit && started < arr.length) {\n            iterator(arr[started], function (err) {\n              if (err) {\n                  callback(err);\n                  callback = function () {};\n              }\n              else {\n                  completed += 1;\n                  running -= 1;\n                  if (completed === arr.length) {\n                      callback();\n                  }\n                  else {\n                      replenish();\n                  }\n              }\n            });\n            started += 1;\n            running += 1;\n          }\n        })();\n    };\n\n\n    var doParallel = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.forEach].concat(args));\n        };\n    };\n    var doSeries = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.forEachSeries].concat(args));\n        };\n    };\n\n\n    var _asyncMap = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (err, v) {\n                results[x.index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.forEachSeries(arr, function (x, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n    // inject alias\n    async.inject = async.reduce;\n    // foldl alias\n    async.foldl = async.reduce;\n\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n    // foldr alias\n    async.foldr = async.reduceRight;\n\n    var _filter = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.filter = doParallel(_filter);\n    async.filterSeries = doSeries(_filter);\n    // select alias\n    async.select = async.filter;\n    async.selectSeries = async.filterSeries;\n\n    var _reject = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    var _detect = function (eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = function () {};\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            main_callback();\n        });\n    };\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.some = function (arr, iterator, main_callback) {\n        async.forEach(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(false);\n        });\n    };\n    // any alias\n    async.any = async.some;\n\n    async.every = function (arr, iterator, main_callback) {\n        async.forEach(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(true);\n        });\n    };\n    // all alias\n    async.all = async.every;\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                var fn = function (left, right) {\n                    var a = left.criteria, b = right.criteria;\n                    return a < b ? -1 : a > b ? 1 : 0;\n                };\n                callback(null, _map(results.sort(fn), function (x) {\n                    return x.value;\n                }));\n            }\n        });\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = callback || function () {};\n        var keys = _keys(tasks);\n        if (!keys.length) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        var addListener = function (fn) {\n            listeners.unshift(fn);\n        };\n        var removeListener = function (fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        };\n        var taskComplete = function () {\n            _forEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        };\n\n        addListener(function () {\n            if (_keys(results).length === keys.length) {\n                callback(null, results);\n                callback = function () {};\n            }\n        });\n\n        _forEach(keys, function (k) {\n            var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];\n            var taskCallback = function (err) {\n                if (err) {\n                    callback(err);\n                    // stop subsequent errors hitting callback multiple times\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    taskComplete();\n                }\n            };\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            var ready = function () {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true);\n            };\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                var listener = function () {\n                    if (ready()) {\n                        removeListener(listener);\n                        task[task.length - 1](taskCallback, results);\n                    }\n                };\n                addListener(listener);\n            }\n        });\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = callback || function () {};\n        if (!tasks.length) {\n            return callback();\n        }\n        var wrapIterator = function (iterator) {\n            return function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    async.nextTick(function () {\n                        iterator.apply(null, args);\n                    });\n                }\n            };\n        };\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    async.parallel = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.map(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.forEach(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.mapSeries(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.forEachSeries(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.iterator = function (tasks) {\n        var makeCallback = function (index) {\n            var fn = function () {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            };\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        };\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(Array.prototype.slice.call(arguments))\n            );\n        };\n    };\n\n    var _concat = function (eachfn, arr, fn, callback) {\n        var r = [];\n        eachfn(arr, function (x, cb) {\n            fn(x, function (err, y) {\n                r = r.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, r);\n        });\n    };\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.queue = function (worker, concurrency) {\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n                if(data.constructor !== Array) {\n                    data = [data];\n                }\n                _forEach(data, function(task) {\n                    q.tasks.push({\n                        data: task,\n                        callback: typeof callback === 'function' ? callback : null\n                    });\n                    if (q.saturated && q.tasks.length == concurrency) {\n                        q.saturated();\n                    }\n                    async.nextTick(q.process);\n                });\n            },\n            process: function () {\n                if (workers < q.concurrency && q.tasks.length) {\n                    var task = q.tasks.shift();\n                    if(q.empty && q.tasks.length == 0) q.empty();\n                    workers += 1;\n                    worker(task.data, function () {\n                        workers -= 1;\n                        if (task.callback) {\n                            task.callback.apply(task, arguments);\n                        }\n                        if(q.drain && q.tasks.length + workers == 0) q.drain();\n                        q.process();\n                    });\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            }\n        };\n        return q;\n    };\n\n    var _console_fn = function (name) {\n        return function (fn) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _forEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    };\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        var memoized = function () {\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                callback.apply(null, memo[key]);\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = arguments;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        };\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/async/lib/async.js\n// module id = 15\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 16\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/moment/min/moment.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/moment/min/moment.min.js\n// module id = 17\n// module chunks = 0","module.exports = \"//! moment.js\\n//! version : 2.11.2\\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\\n//! license : MIT\\n//! momentjs.com\\n!function(a,b){\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module?module.exports=b():\\\"function\\\"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){\\\"use strict\\\";function a(){return Uc.apply(null,arguments)}function b(a){Uc=a}function c(a){return\\\"[object Array]\\\"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||\\\"[object Date]\\\"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,\\\"toString\\\")&&(a.toString=b.toString),f(b,\\\"valueOf\\\")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Da(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),Wc.length>0)for(c in Wc)d=Wc[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Xc===!1&&(Xc=!0,a.updateOffset(this),Xc=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(){}function u(a){return a?a.toLowerCase().replace(\\\"_\\\",\\\"-\\\"):a}function v(a){for(var b,c,d,e,f=0;f<a.length;){for(e=u(a[f]).split(\\\"-\\\"),b=e.length,c=u(a[f+1]),c=c?c.split(\\\"-\\\"):null;b>0;){if(d=w(e.slice(0,b).join(\\\"-\\\")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function w(a){var b=null;if(!Yc[a]&&\\\"undefined\\\"!=typeof module&&module&&module.exports)try{b=Vc._abbr,require(\\\"./locale/\\\"+a),x(b)}catch(c){}return Yc[a]}function x(a,b){var c;return a&&(c=m(b)?z(a):y(a,b),c&&(Vc=c)),Vc._abbr}function y(a,b){return null!==b?(b.abbr=a,Yc[a]=Yc[a]||new t,Yc[a].set(b),x(a),Yc[a]):(delete Yc[a],null)}function z(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vc;if(!c(a)){if(b=w(a))return b;a=[a]}return v(a)}function A(a,b){var c=a.toLowerCase();Zc[c]=Zc[c+\\\"s\\\"]=Zc[b]=a}function B(a){return\\\"string\\\"==typeof a?Zc[a]||Zc[a.toLowerCase()]:void 0}function C(a){var b,c,d={};for(c in a)f(a,c)&&(b=B(c),b&&(d[b]=a[c]));return d}function D(a){return a instanceof Function||\\\"[object Function]\\\"===Object.prototype.toString.call(a)}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a.isValid()?a._d[\\\"get\\\"+(a._isUTC?\\\"UTC\\\":\\\"\\\")+b]():NaN}function G(a,b,c){a.isValid()&&a._d[\\\"set\\\"+(a._isUTC?\\\"UTC\\\":\\\"\\\")+b](c)}function H(a,b){var c;if(\\\"object\\\"==typeof a)for(c in a)this.set(c,a[c]);else if(a=B(a),D(this[a]))return this[a](b);return this}function I(a,b,c){var d=\\\"\\\"+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?\\\"+\\\":\\\"\\\":\\\"-\\\")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;\\\"string\\\"==typeof d&&(e=function(){return this[d]()}),a&&(bd[a]=e),b&&(bd[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&(bd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\\\\[[\\\\s\\\\S]/)?a.replace(/^\\\\[|\\\\]$/g,\\\"\\\"):a.replace(/\\\\\\\\/g,\\\"\\\")}function L(a){var b,c,d=a.match($c);for(b=0,c=d.length;c>b;b++)bd[d[b]]?d[b]=bd[d[b]]:d[b]=K(d[b]);return function(e){var f=\\\"\\\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),ad[b]=ad[b]||L(b),ad[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(_c.lastIndex=0;d>=0&&_c.test(a);)a=a.replace(_c,c),_c.lastIndex=0,d-=1;return a}function O(a,b,c){td[a]=D(b)?b:function(a,d){return a&&c?c:b}}function P(a,b){return f(td,a)?td[a](b._strict,b._locale):new RegExp(Q(a))}function Q(a){return R(a.replace(\\\"\\\\\\\\\\\",\\\"\\\").replace(/\\\\\\\\(\\\\[)|\\\\\\\\(\\\\])|\\\\[([^\\\\]\\\\[]*)\\\\]|\\\\\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function R(a){return a.replace(/[-\\\\/\\\\\\\\^$*+?.()|[\\\\]{}]/g,\\\"\\\\\\\\$&\\\")}function S(a,b){var c,d=b;for(\\\"string\\\"==typeof a&&(a=[a]),\\\"number\\\"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)ud[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&f(ud,a)&&ud[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function W(a,b){return c(this._months)?this._months[a.month()]:this._months[Ed.test(b)?\\\"format\\\":\\\"standalone\\\"][a.month()]}function X(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Ed.test(b)?\\\"format\\\":\\\"standalone\\\"][a.month()]}function Y(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp(\\\"^\\\"+this.months(e,\\\"\\\").replace(\\\".\\\",\\\"\\\")+\\\"$\\\",\\\"i\\\"),this._shortMonthsParse[d]=new RegExp(\\\"^\\\"+this.monthsShort(e,\\\"\\\").replace(\\\".\\\",\\\"\\\")+\\\"$\\\",\\\"i\\\")),c||this._monthsParse[d]||(f=\\\"^\\\"+this.months(e,\\\"\\\")+\\\"|^\\\"+this.monthsShort(e,\\\"\\\"),this._monthsParse[d]=new RegExp(f.replace(\\\".\\\",\\\"\\\"),\\\"i\\\")),c&&\\\"MMMM\\\"===b&&this._longMonthsParse[d].test(a))return d;if(c&&\\\"MMM\\\"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function Z(a,b){var c;return a.isValid()?\\\"string\\\"==typeof b&&(b=a.localeData().monthsParse(b),\\\"number\\\"!=typeof b)?a:(c=Math.min(a.date(),V(a.year(),b)),a._d[\\\"set\\\"+(a._isUTC?\\\"UTC\\\":\\\"\\\")+\\\"Month\\\"](b,c),a):a}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,\\\"Month\\\")}function _(){return V(this.year(),this.month())}function aa(a){return this._monthsParseExact?(f(this,\\\"_monthsRegex\\\")||ca.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ba(a){return this._monthsParseExact?(f(this,\\\"_monthsRegex\\\")||ca.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function ca(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=h([2e3,b]),d.push(this.monthsShort(c,\\\"\\\")),e.push(this.months(c,\\\"\\\")),f.push(this.months(c,\\\"\\\")),f.push(this.monthsShort(c,\\\"\\\"));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=R(d[b]),e[b]=R(e[b]),f[b]=R(f[b]);this._monthsRegex=new RegExp(\\\"^(\\\"+f.join(\\\"|\\\")+\\\")\\\",\\\"i\\\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\\\"^(\\\"+e.join(\\\"|\\\")+\\\")$\\\",\\\"i\\\"),this._monthsShortStrictRegex=new RegExp(\\\"^(\\\"+d.join(\\\"|\\\")+\\\")$\\\",\\\"i\\\")}function da(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[wd]<0||c[wd]>11?wd:c[xd]<1||c[xd]>V(c[vd],c[wd])?xd:c[yd]<0||c[yd]>24||24===c[yd]&&(0!==c[zd]||0!==c[Ad]||0!==c[Bd])?yd:c[zd]<0||c[zd]>59?zd:c[Ad]<0||c[Ad]>59?Ad:c[Bd]<0||c[Bd]>999?Bd:-1,j(a)._overflowDayOfYear&&(vd>b||b>xd)&&(b=xd),j(a)._overflowWeeks&&-1===b&&(b=Cd),j(a)._overflowWeekday&&-1===b&&(b=Dd),j(a).overflow=b),a}function ea(b){a.suppressDeprecationWarnings===!1&&\\\"undefined\\\"!=typeof console&&console.warn&&console.warn(\\\"Deprecation warning: \\\"+b)}function fa(a,b){var c=!0;return g(function(){return c&&(ea(a+\\\"\\\\nArguments: \\\"+Array.prototype.slice.call(arguments).join(\\\", \\\")+\\\"\\\\n\\\"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ga(a,b){Jd[a]||(ea(b),Jd[a]=!0)}function ha(a){var b,c,d,e,f,g,h=a._i,i=Kd.exec(h)||Ld.exec(h);if(i){for(j(a).iso=!0,b=0,c=Nd.length;c>b;b++)if(Nd[b][1].exec(i[1])){e=Nd[b][0],d=Nd[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Od.length;c>b;b++)if(Od[b][1].exec(i[3])){f=(i[2]||\\\" \\\")+Od[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Md.exec(i[4]))return void(a._isValid=!1);g=\\\"Z\\\"}a._f=e+(f||\\\"\\\")+(g||\\\"\\\"),wa(a)}else a._isValid=!1}function ia(b){var c=Pd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ha(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ja(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function la(a){return ma(a)?366:365}function ma(a){return a%4===0&&a%100!==0||a%400===0}function na(){return ma(this.year())}function oa(a,b,c){var d=7+b-c,e=(7+ka(a,0,d).getUTCDay()-b)%7;return-e+d-1}function pa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=oa(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=la(f)+j):j>la(a)?(f=a+1,g=j-la(a)):(f=a,g=j),{year:f,dayOfYear:g}}function qa(a,b,c){var d,e,f=oa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ra(e,b,c)):g>ra(a.year(),b,c)?(d=g-ra(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ra(a,b,c){var d=oa(a,b,c),e=oa(a+1,b,c);return(la(a)-d+e)/7}function sa(a,b,c){return null!=a?a:null!=b?b:c}function ta(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ua(a){var b,c,d,e,f=[];if(!a._d){for(d=ta(a),a._w&&null==a._a[xd]&&null==a._a[wd]&&va(a),a._dayOfYear&&(e=sa(a._a[vd],d[vd]),a._dayOfYear>la(e)&&(j(a)._overflowDayOfYear=!0),c=ka(e,0,a._dayOfYear),a._a[wd]=c.getUTCMonth(),a._a[xd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[yd]&&0===a._a[zd]&&0===a._a[Ad]&&0===a._a[Bd]&&(a._nextDay=!0,a._a[yd]=0),a._d=(a._useUTC?ka:ja).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[yd]=24)}}function va(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=sa(b.GG,a._a[vd],qa(Ea(),1,4).year),d=sa(b.W,1),e=sa(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=sa(b.gg,a._a[vd],qa(Ea(),f,g).year),d=sa(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>ra(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=pa(c,d,e,f,g),a._a[vd]=h.year,a._dayOfYear=h.dayOfYear)}function wa(b){if(b._f===a.ISO_8601)return void ha(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=\\\"\\\"+b._i,i=h.length,k=0;for(e=N(b._f,b._locale).match($c)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),bd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),U(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[yd]<=12&&b._a[yd]>0&&(j(b).bigHour=void 0),b._a[yd]=xa(b._locale,b._a[yd],b._meridiem),ua(b),da(b)}function xa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ya(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],wa(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function za(a){if(!a._d){var b=C(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ua(a)}}function Aa(a){var b=new o(da(Ba(a)));return b._nextDay&&(b.add(1,\\\"d\\\"),b._nextDay=void 0),b}function Ba(a){var b=a._i,e=a._f;return a._locale=a._locale||z(a._l),null===b||void 0===e&&\\\"\\\"===b?l({nullInput:!0}):(\\\"string\\\"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(da(b)):(c(e)?ya(a):e?wa(a):d(b)?a._d=b:Ca(a),k(a)||(a._d=null),a))}function Ca(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(+f):\\\"string\\\"==typeof f?ia(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ua(b)):\\\"object\\\"==typeof f?za(b):\\\"number\\\"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Da(a,b,c,d,e){var f={};return\\\"boolean\\\"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Aa(f)}function Ea(a,b,c,d){return Da(a,b,c,d,!1)}function Fa(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ea();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Ga(){var a=[].slice.call(arguments,0);return Fa(\\\"isBefore\\\",a)}function Ha(){var a=[].slice.call(arguments,0);return Fa(\\\"isAfter\\\",a)}function Ia(a){var b=C(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=z(),this._bubble()}function Ja(a){return a instanceof Ia}function Ka(a,b){J(a,0,0,function(){var a=this.utcOffset(),c=\\\"+\\\";return 0>a&&(a=-a,c=\\\"-\\\"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function La(a,b){var c=(b||\\\"\\\").match(a)||[],d=c[c.length-1]||[],e=(d+\\\"\\\").match(Ud)||[\\\"-\\\",0,0],f=+(60*e[1])+r(e[2]);return\\\"+\\\"===e[0]?f:-f}function Ma(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ea(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ea(b).local()}function Na(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Oa(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?(\\\"string\\\"==typeof b?b=La(qd,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Na(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,\\\"m\\\"),e!==b&&(!c||this._changeInProgress?cb(this,Za(b-e,\\\"m\\\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Na(this):null!=b?this:NaN}function Pa(a,b){return null!=a?(\\\"string\\\"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qa(a){return this.utcOffset(0,a)}function Ra(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Na(this),\\\"m\\\")),this}function Sa(){return this._tzm?this.utcOffset(this._tzm):\\\"string\\\"==typeof this._i&&this.utcOffset(La(pd,this._i)),this}function Ta(a){return this.isValid()?(a=a?Ea(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ua(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Va(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ba(a),a._a){var b=a._isUTC?h(a._a):Ea(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wa(){return this.isValid()?!this._isUTC:!1}function Xa(){return this.isValid()?this._isUTC:!1}function Ya(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Za(a,b){var c,d,e,g=a,h=null;return Ja(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:\\\"number\\\"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Vd.exec(a))?(c=\\\"-\\\"===h[1]?-1:1,g={y:0,d:r(h[xd])*c,h:r(h[yd])*c,m:r(h[zd])*c,s:r(h[Ad])*c,ms:r(h[Bd])*c}):(h=Wd.exec(a))?(c=\\\"-\\\"===h[1]?-1:1,g={y:$a(h[2],c),M:$a(h[3],c),d:$a(h[4],c),h:$a(h[5],c),m:$a(h[6],c),s:$a(h[7],c),w:$a(h[8],c)}):null==g?g={}:\\\"object\\\"==typeof g&&(\\\"from\\\"in g||\\\"to\\\"in g)&&(e=ab(Ea(g.from),Ea(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ia(g),Ja(a)&&f(a,\\\"_locale\\\")&&(d._locale=a._locale),d}function $a(a,b){var c=a&&parseFloat(a.replace(\\\",\\\",\\\".\\\"));return(isNaN(c)?0:c)*b}function _a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,\\\"M\\\").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,\\\"M\\\"),c}function ab(a,b){var c;return a.isValid()&&b.isValid()?(b=Ma(b,a),a.isBefore(b)?c=_a(a,b):(c=_a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ga(b,\\\"moment().\\\"+b+\\\"(period, number) is deprecated. Please use moment().\\\"+b+\\\"(number, period).\\\"),f=c,c=d,d=f),c=\\\"string\\\"==typeof c?+c:c,e=Za(c,d),cb(this,e,a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&G(b,\\\"Date\\\",F(b,\\\"Date\\\")+g*d),h&&Z(b,F(b,\\\"Month\\\")+h*d),e&&a.updateOffset(b,g||h))}function db(a,b){var c=a||Ea(),d=Ma(c,this).startOf(\\\"day\\\"),e=this.diff(d,\\\"days\\\",!0),f=-6>e?\\\"sameElse\\\":-1>e?\\\"lastWeek\\\":0>e?\\\"lastDay\\\":1>e?\\\"sameDay\\\":2>e?\\\"nextDay\\\":7>e?\\\"nextWeek\\\":\\\"sameElse\\\",g=b&&(D(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ea(c)))}function eb(){return new o(this)}function fb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?\\\"millisecond\\\":b),\\\"millisecond\\\"===b?+this>+c:+c<+this.clone().startOf(b)):!1}function gb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?\\\"millisecond\\\":b),\\\"millisecond\\\"===b?+c>+this:+this.clone().endOf(b)<+c):!1}function hb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function ib(a,b){var c,d=p(a)?a:Ea(a);return this.isValid()&&d.isValid()?(b=B(b||\\\"millisecond\\\"),\\\"millisecond\\\"===b?+this===+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))):!1}function jb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function kb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function lb(a,b,c){var d,e,f,g;return this.isValid()?(d=Ma(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=B(b),\\\"year\\\"===b||\\\"month\\\"===b||\\\"quarter\\\"===b?(g=mb(this,d),\\\"quarter\\\"===b?g/=3:\\\"year\\\"===b&&(g/=12)):(f=this-d,g=\\\"second\\\"===b?f/1e3:\\\"minute\\\"===b?f/6e4:\\\"hour\\\"===b?f/36e5:\\\"day\\\"===b?(f-e)/864e5:\\\"week\\\"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function mb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,\\\"months\\\");return 0>b-f?(c=a.clone().add(e-1,\\\"months\\\"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,\\\"months\\\"),d=(b-f)/(c-f)),-(e+d)}function nb(){return this.clone().locale(\\\"en\\\").format(\\\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\\\")}function ob(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():M(a,\\\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\\\"):M(a,\\\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\\\")}function pb(b){var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)}function qb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function rb(a){return this.from(Ea(),a)}function sb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tb(a){return this.to(Ea(),a)}function ub(a){var b;return void 0===a?this._locale._abbr:(b=z(a),null!=b&&(this._locale=b),this)}function vb(){return this._locale}function wb(a){switch(a=B(a)){case\\\"year\\\":this.month(0);case\\\"quarter\\\":case\\\"month\\\":this.date(1);case\\\"week\\\":case\\\"isoWeek\\\":case\\\"day\\\":this.hours(0);case\\\"hour\\\":this.minutes(0);case\\\"minute\\\":this.seconds(0);case\\\"second\\\":this.milliseconds(0)}return\\\"week\\\"===a&&this.weekday(0),\\\"isoWeek\\\"===a&&this.isoWeekday(1),\\\"quarter\\\"===a&&this.month(3*Math.floor(this.month()/3)),this}function xb(a){return a=B(a),void 0===a||\\\"millisecond\\\"===a?this:this.startOf(a).add(1,\\\"isoWeek\\\"===a?\\\"week\\\":a).subtract(1,\\\"ms\\\")}function yb(){return+this._d-6e4*(this._offset||0)}function zb(){return Math.floor(+this/1e3)}function Ab(){return this._offset?new Date(+this):this._d}function Bb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Cb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Db(){return this.isValid()?this.toISOString():\\\"null\\\"}function Eb(){return k(this)}function Fb(){return g({},j(this))}function Gb(){return j(this).overflow}function Hb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ib(a,b){J(0,[a,a.length],0,b)}function Jb(a){return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Kb(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Lb(){return ra(this.year(),1,4)}function Mb(){var a=this.localeData()._week;return ra(this.year(),a.dow,a.doy)}function Nb(a,b,c,d,e){var f;return null==a?qa(this,d,e).year:(f=ra(a,d,e),b>f&&(b=f),Ob.call(this,a,b,c,d,e))}function Ob(a,b,c,d,e){var f=pa(a,b,c,d,e),g=ka(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Pb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Qb(a){return qa(a,this._week.dow,this._week.doy).week}function Rb(){return this._week.dow}function Sb(){return this._week.doy}function Tb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),\\\"d\\\")}function Ub(a){var b=qa(this,1,4).week;return null==a?b:this.add(7*(a-b),\\\"d\\\")}function Vb(a,b){return\\\"string\\\"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),\\\"number\\\"==typeof a?a:null):parseInt(a,10)}function Wb(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?\\\"format\\\":\\\"standalone\\\"][a.day()]}function Xb(a){return this._weekdaysShort[a.day()]}function Yb(a){return this._weekdaysMin[a.day()]}function Zb(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=Ea([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp(\\\"^\\\"+this.weekdays(e,\\\"\\\").replace(\\\".\\\",\\\".?\\\")+\\\"$\\\",\\\"i\\\"),this._shortWeekdaysParse[d]=new RegExp(\\\"^\\\"+this.weekdaysShort(e,\\\"\\\").replace(\\\".\\\",\\\".?\\\")+\\\"$\\\",\\\"i\\\"),this._minWeekdaysParse[d]=new RegExp(\\\"^\\\"+this.weekdaysMin(e,\\\"\\\").replace(\\\".\\\",\\\".?\\\")+\\\"$\\\",\\\"i\\\")),this._weekdaysParse[d]||(f=\\\"^\\\"+this.weekdays(e,\\\"\\\")+\\\"|^\\\"+this.weekdaysShort(e,\\\"\\\")+\\\"|^\\\"+this.weekdaysMin(e,\\\"\\\"),this._weekdaysParse[d]=new RegExp(f.replace(\\\".\\\",\\\"\\\"),\\\"i\\\")),c&&\\\"dddd\\\"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&\\\"ddd\\\"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&\\\"dd\\\"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function $b(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Vb(a,this.localeData()),this.add(a-b,\\\"d\\\")):b}function _b(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,\\\"d\\\")}function ac(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function bc(a){var b=Math.round((this.clone().startOf(\\\"day\\\")-this.clone().startOf(\\\"year\\\"))/864e5)+1;return null==a?b:this.add(a-b,\\\"d\\\")}function cc(){return this.hours()%12||12}function dc(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ec(a,b){return b._meridiemParse}function fc(a){return\\\"p\\\"===(a+\\\"\\\").toLowerCase().charAt(0)}function gc(a,b,c){return a>11?c?\\\"pm\\\":\\\"PM\\\":c?\\\"am\\\":\\\"AM\\\"}function hc(a,b){b[Bd]=r(1e3*(\\\"0.\\\"+a))}function ic(){return this._isUTC?\\\"UTC\\\":\\\"\\\"}function jc(){return this._isUTC?\\\"Coordinated Universal Time\\\":\\\"\\\"}function kc(a){return Ea(1e3*a)}function lc(){return Ea.apply(null,arguments).parseZone()}function mc(a,b,c){var d=this._calendar[a];return D(d)?d.call(b,c):d}function nc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function oc(){return this._invalidDate}function pc(a){return this._ordinal.replace(\\\"%d\\\",a)}function qc(a){return a}function rc(a,b,c,d){var e=this._relativeTime[c];return D(e)?e(a,b,c,d):e.replace(/%d/i,a)}function sc(a,b){var c=this._relativeTime[a>0?\\\"future\\\":\\\"past\\\"];return D(c)?c(b):c.replace(/%s/i,b)}function tc(a){var b,c;for(c in a)b=a[c],D(b)?this[c]=b:this[\\\"_\\\"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+\\\"|\\\"+/\\\\d{1,2}/.source)}function uc(a,b,c,d){var e=z(),f=h().set(d,b);return e[c](f,a)}function vc(a,b,c,d,e){if(\\\"number\\\"==typeof a&&(b=a,a=void 0),a=a||\\\"\\\",null!=b)return uc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=uc(a,f,c,e);return g}function wc(a,b){return vc(a,b,\\\"months\\\",12,\\\"month\\\")}function xc(a,b){return vc(a,b,\\\"monthsShort\\\",12,\\\"month\\\")}function yc(a,b){return vc(a,b,\\\"weekdays\\\",7,\\\"day\\\")}function zc(a,b){return vc(a,b,\\\"weekdaysShort\\\",7,\\\"day\\\")}function Ac(a,b){return vc(a,b,\\\"weekdaysMin\\\",7,\\\"day\\\")}function Bc(){var a=this._data;return this._milliseconds=se(this._milliseconds),this._days=se(this._days),this._months=se(this._months),a.milliseconds=se(a.milliseconds),a.seconds=se(a.seconds),a.minutes=se(a.minutes),a.hours=se(a.hours),a.months=se(a.months),a.years=se(a.years),this}function Cc(a,b,c,d){var e=Za(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Dc(a,b){return Cc(this,a,b,1)}function Ec(a,b){return Cc(this,a,b,-1)}function Fc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Gc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Fc(Ic(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Hc(g)),h+=e,g-=Fc(Ic(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Hc(a){return 4800*a/146097}function Ic(a){return 146097*a/4800}function Jc(a){var b,c,d=this._milliseconds;if(a=B(a),\\\"month\\\"===a||\\\"year\\\"===a)return b=this._days+d/864e5,c=this._months+Hc(b),\\\"month\\\"===a?c:c/12;switch(b=this._days+Math.round(Ic(this._months)),a){case\\\"week\\\":return b/7+d/6048e5;case\\\"day\\\":return b+d/864e5;case\\\"hour\\\":return 24*b+d/36e5;case\\\"minute\\\":return 1440*b+d/6e4;case\\\"second\\\":return 86400*b+d/1e3;case\\\"millisecond\\\":return Math.floor(864e5*b)+d;default:throw new Error(\\\"Unknown unit \\\"+a)}}function Kc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Lc(a){return function(){return this.as(a)}}function Mc(a){return a=B(a),this[a+\\\"s\\\"]()}function Nc(a){return function(){return this._data[a]}}function Oc(){return q(this.days()/7)}function Pc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Qc(a,b,c){var d=Za(a).abs(),e=Ie(d.as(\\\"s\\\")),f=Ie(d.as(\\\"m\\\")),g=Ie(d.as(\\\"h\\\")),h=Ie(d.as(\\\"d\\\")),i=Ie(d.as(\\\"M\\\")),j=Ie(d.as(\\\"y\\\")),k=e<Je.s&&[\\\"s\\\",e]||1>=f&&[\\\"m\\\"]||f<Je.m&&[\\\"mm\\\",f]||1>=g&&[\\\"h\\\"]||g<Je.h&&[\\\"hh\\\",g]||1>=h&&[\\\"d\\\"]||h<Je.d&&[\\\"dd\\\",h]||1>=i&&[\\\"M\\\"]||i<Je.M&&[\\\"MM\\\",i]||1>=j&&[\\\"y\\\"]||[\\\"yy\\\",j];return k[2]=b,k[3]=+a>0,k[4]=c,Pc.apply(null,k)}function Rc(a,b){return void 0===Je[a]?!1:void 0===b?Je[a]:(Je[a]=b,!0)}function Sc(a){var b=this.localeData(),c=Qc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Tc(){var a,b,c,d=Ke(this._milliseconds)/1e3,e=Ke(this._days),f=Ke(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?\\\"-\\\":\\\"\\\")+\\\"P\\\"+(g?g+\\\"Y\\\":\\\"\\\")+(h?h+\\\"M\\\":\\\"\\\")+(i?i+\\\"D\\\":\\\"\\\")+(j||k||l?\\\"T\\\":\\\"\\\")+(j?j+\\\"H\\\":\\\"\\\")+(k?k+\\\"M\\\":\\\"\\\")+(l?l+\\\"S\\\":\\\"\\\"):\\\"P0D\\\"}var Uc,Vc,Wc=a.momentProperties=[],Xc=!1,Yc={},Zc={},$c=/(\\\\[[^\\\\[]*\\\\])|(\\\\\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_c=/(\\\\[[^\\\\[]*\\\\])|(\\\\\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ad={},bd={},cd=/\\\\d/,dd=/\\\\d\\\\d/,ed=/\\\\d{3}/,fd=/\\\\d{4}/,gd=/[+-]?\\\\d{6}/,hd=/\\\\d\\\\d?/,id=/\\\\d\\\\d\\\\d\\\\d?/,jd=/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d?/,kd=/\\\\d{1,3}/,ld=/\\\\d{1,4}/,md=/[+-]?\\\\d{1,6}/,nd=/\\\\d+/,od=/[+-]?\\\\d+/,pd=/Z|[+-]\\\\d\\\\d:?\\\\d\\\\d/gi,qd=/Z|[+-]\\\\d\\\\d(?::?\\\\d\\\\d)?/gi,rd=/[+-]?\\\\d+(\\\\.\\\\d{1,3})?/,sd=/[0-9]*['a-z\\\\u00A0-\\\\u05FF\\\\u0700-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]+|[\\\\u0600-\\\\u06FF\\\\/]+(\\\\s*?[\\\\u0600-\\\\u06FF]+){1,2}/i,td={},ud={},vd=0,wd=1,xd=2,yd=3,zd=4,Ad=5,Bd=6,Cd=7,Dd=8;J(\\\"M\\\",[\\\"MM\\\",2],\\\"Mo\\\",function(){return this.month()+1}),J(\\\"MMM\\\",0,0,function(a){return this.localeData().monthsShort(this,a)}),J(\\\"MMMM\\\",0,0,function(a){return this.localeData().months(this,a)}),A(\\\"month\\\",\\\"M\\\"),O(\\\"M\\\",hd),O(\\\"MM\\\",hd,dd),O(\\\"MMM\\\",function(a,b){return b.monthsShortRegex(a)}),O(\\\"MMMM\\\",function(a,b){return b.monthsRegex(a)}),S([\\\"M\\\",\\\"MM\\\"],function(a,b){b[wd]=r(a)-1}),S([\\\"MMM\\\",\\\"MMMM\\\"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[wd]=e:j(c).invalidMonth=a});var Ed=/D[oD]?(\\\\[[^\\\\[\\\\]]*\\\\]|\\\\s+)+MMMM?/,Fd=\\\"January_February_March_April_May_June_July_August_September_October_November_December\\\".split(\\\"_\\\"),Gd=\\\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\\\".split(\\\"_\\\"),Hd=sd,Id=sd,Jd={};a.suppressDeprecationWarnings=!1;var Kd=/^\\\\s*((?:[+-]\\\\d{6}|\\\\d{4})-(?:\\\\d\\\\d-\\\\d\\\\d|W\\\\d\\\\d-\\\\d|W\\\\d\\\\d|\\\\d\\\\d\\\\d|\\\\d\\\\d))(?:(T| )(\\\\d\\\\d(?::\\\\d\\\\d(?::\\\\d\\\\d(?:[.,]\\\\d+)?)?)?)([\\\\+\\\\-]\\\\d\\\\d(?::?\\\\d\\\\d)?|\\\\s*Z)?)?/,Ld=/^\\\\s*((?:[+-]\\\\d{6}|\\\\d{4})(?:\\\\d\\\\d\\\\d\\\\d|W\\\\d\\\\d\\\\d|W\\\\d\\\\d|\\\\d\\\\d\\\\d|\\\\d\\\\d))(?:(T| )(\\\\d\\\\d(?:\\\\d\\\\d(?:\\\\d\\\\d(?:[.,]\\\\d+)?)?)?)([\\\\+\\\\-]\\\\d\\\\d(?::?\\\\d\\\\d)?|\\\\s*Z)?)?/,Md=/Z|[+-]\\\\d\\\\d(?::?\\\\d\\\\d)?/,Nd=[[\\\"YYYYYY-MM-DD\\\",/[+-]\\\\d{6}-\\\\d\\\\d-\\\\d\\\\d/],[\\\"YYYY-MM-DD\\\",/\\\\d{4}-\\\\d\\\\d-\\\\d\\\\d/],[\\\"GGGG-[W]WW-E\\\",/\\\\d{4}-W\\\\d\\\\d-\\\\d/],[\\\"GGGG-[W]WW\\\",/\\\\d{4}-W\\\\d\\\\d/,!1],[\\\"YYYY-DDD\\\",/\\\\d{4}-\\\\d{3}/],[\\\"YYYY-MM\\\",/\\\\d{4}-\\\\d\\\\d/,!1],[\\\"YYYYYYMMDD\\\",/[+-]\\\\d{10}/],[\\\"YYYYMMDD\\\",/\\\\d{8}/],[\\\"GGGG[W]WWE\\\",/\\\\d{4}W\\\\d{3}/],[\\\"GGGG[W]WW\\\",/\\\\d{4}W\\\\d{2}/,!1],[\\\"YYYYDDD\\\",/\\\\d{7}/]],Od=[[\\\"HH:mm:ss.SSSS\\\",/\\\\d\\\\d:\\\\d\\\\d:\\\\d\\\\d\\\\.\\\\d+/],[\\\"HH:mm:ss,SSSS\\\",/\\\\d\\\\d:\\\\d\\\\d:\\\\d\\\\d,\\\\d+/],[\\\"HH:mm:ss\\\",/\\\\d\\\\d:\\\\d\\\\d:\\\\d\\\\d/],[\\\"HH:mm\\\",/\\\\d\\\\d:\\\\d\\\\d/],[\\\"HHmmss.SSSS\\\",/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d\\\\.\\\\d+/],[\\\"HHmmss,SSSS\\\",/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d,\\\\d+/],[\\\"HHmmss\\\",/\\\\d\\\\d\\\\d\\\\d\\\\d\\\\d/],[\\\"HHmm\\\",/\\\\d\\\\d\\\\d\\\\d/],[\\\"HH\\\",/\\\\d\\\\d/]],Pd=/^\\\\/?Date\\\\((\\\\-?\\\\d+)/i;a.createFromInputFallback=fa(\\\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\\\",function(a){a._d=new Date(a._i+(a._useUTC?\\\" UTC\\\":\\\"\\\"))}),J(\\\"Y\\\",0,0,function(){var a=this.year();return 9999>=a?\\\"\\\"+a:\\\"+\\\"+a}),J(0,[\\\"YY\\\",2],0,function(){return this.year()%100}),J(0,[\\\"YYYY\\\",4],0,\\\"year\\\"),J(0,[\\\"YYYYY\\\",5],0,\\\"year\\\"),J(0,[\\\"YYYYYY\\\",6,!0],0,\\\"year\\\"),A(\\\"year\\\",\\\"y\\\"),O(\\\"Y\\\",od),O(\\\"YY\\\",hd,dd),O(\\\"YYYY\\\",ld,fd),O(\\\"YYYYY\\\",md,gd),O(\\\"YYYYYY\\\",md,gd),S([\\\"YYYYY\\\",\\\"YYYYYY\\\"],vd),S(\\\"YYYY\\\",function(b,c){c[vd]=2===b.length?a.parseTwoDigitYear(b):r(b)}),S(\\\"YY\\\",function(b,c){c[vd]=a.parseTwoDigitYear(b)}),S(\\\"Y\\\",function(a,b){b[vd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Qd=E(\\\"FullYear\\\",!1);a.ISO_8601=function(){};var Rd=fa(\\\"moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\\\",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:l()}),Sd=fa(\\\"moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\\\",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),Td=function(){return Date.now?Date.now():+new Date};Ka(\\\"Z\\\",\\\":\\\"),Ka(\\\"ZZ\\\",\\\"\\\"),O(\\\"Z\\\",qd),O(\\\"ZZ\\\",qd),S([\\\"Z\\\",\\\"ZZ\\\"],function(a,b,c){c._useUTC=!0,c._tzm=La(qd,a)});var Ud=/([\\\\+\\\\-]|\\\\d\\\\d)/gi;a.updateOffset=function(){};var Vd=/^(\\\\-)?(?:(\\\\d*)[. ])?(\\\\d+)\\\\:(\\\\d+)(?:\\\\:(\\\\d+)\\\\.?(\\\\d{3})?\\\\d*)?$/,Wd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\\nZa.fn=Ia.prototype;var Xd=bb(1,\\\"add\\\"),Yd=bb(-1,\\\"subtract\\\");a.defaultFormat=\\\"YYYY-MM-DDTHH:mm:ssZ\\\";var Zd=fa(\\\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\\\",function(a){return void 0===a?this.localeData():this.locale(a)});J(0,[\\\"gg\\\",2],0,function(){return this.weekYear()%100}),J(0,[\\\"GG\\\",2],0,function(){return this.isoWeekYear()%100}),Ib(\\\"gggg\\\",\\\"weekYear\\\"),Ib(\\\"ggggg\\\",\\\"weekYear\\\"),Ib(\\\"GGGG\\\",\\\"isoWeekYear\\\"),Ib(\\\"GGGGG\\\",\\\"isoWeekYear\\\"),A(\\\"weekYear\\\",\\\"gg\\\"),A(\\\"isoWeekYear\\\",\\\"GG\\\"),O(\\\"G\\\",od),O(\\\"g\\\",od),O(\\\"GG\\\",hd,dd),O(\\\"gg\\\",hd,dd),O(\\\"GGGG\\\",ld,fd),O(\\\"gggg\\\",ld,fd),O(\\\"GGGGG\\\",md,gd),O(\\\"ggggg\\\",md,gd),T([\\\"gggg\\\",\\\"ggggg\\\",\\\"GGGG\\\",\\\"GGGGG\\\"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),T([\\\"gg\\\",\\\"GG\\\"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J(\\\"Q\\\",0,\\\"Qo\\\",\\\"quarter\\\"),A(\\\"quarter\\\",\\\"Q\\\"),O(\\\"Q\\\",cd),S(\\\"Q\\\",function(a,b){b[wd]=3*(r(a)-1)}),J(\\\"w\\\",[\\\"ww\\\",2],\\\"wo\\\",\\\"week\\\"),J(\\\"W\\\",[\\\"WW\\\",2],\\\"Wo\\\",\\\"isoWeek\\\"),A(\\\"week\\\",\\\"w\\\"),A(\\\"isoWeek\\\",\\\"W\\\"),O(\\\"w\\\",hd),O(\\\"ww\\\",hd,dd),O(\\\"W\\\",hd),O(\\\"WW\\\",hd,dd),T([\\\"w\\\",\\\"ww\\\",\\\"W\\\",\\\"WW\\\"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var $d={dow:0,doy:6};J(\\\"D\\\",[\\\"DD\\\",2],\\\"Do\\\",\\\"date\\\"),A(\\\"date\\\",\\\"D\\\"),O(\\\"D\\\",hd),O(\\\"DD\\\",hd,dd),O(\\\"Do\\\",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S([\\\"D\\\",\\\"DD\\\"],xd),S(\\\"Do\\\",function(a,b){b[xd]=r(a.match(hd)[0],10)});var _d=E(\\\"Date\\\",!0);J(\\\"d\\\",0,\\\"do\\\",\\\"day\\\"),J(\\\"dd\\\",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J(\\\"ddd\\\",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J(\\\"dddd\\\",0,0,function(a){return this.localeData().weekdays(this,a)}),J(\\\"e\\\",0,0,\\\"weekday\\\"),J(\\\"E\\\",0,0,\\\"isoWeekday\\\"),A(\\\"day\\\",\\\"d\\\"),A(\\\"weekday\\\",\\\"e\\\"),A(\\\"isoWeekday\\\",\\\"E\\\"),O(\\\"d\\\",hd),O(\\\"e\\\",hd),O(\\\"E\\\",hd),O(\\\"dd\\\",sd),O(\\\"ddd\\\",sd),O(\\\"dddd\\\",sd),T([\\\"dd\\\",\\\"ddd\\\",\\\"dddd\\\"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),T([\\\"d\\\",\\\"e\\\",\\\"E\\\"],function(a,b,c,d){b[d]=r(a)});var ae=\\\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\\\".split(\\\"_\\\"),be=\\\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\\\".split(\\\"_\\\"),ce=\\\"Su_Mo_Tu_We_Th_Fr_Sa\\\".split(\\\"_\\\");J(\\\"DDD\\\",[\\\"DDDD\\\",3],\\\"DDDo\\\",\\\"dayOfYear\\\"),A(\\\"dayOfYear\\\",\\\"DDD\\\"),O(\\\"DDD\\\",kd),O(\\\"DDDD\\\",ed),S([\\\"DDD\\\",\\\"DDDD\\\"],function(a,b,c){c._dayOfYear=r(a)}),J(\\\"H\\\",[\\\"HH\\\",2],0,\\\"hour\\\"),J(\\\"h\\\",[\\\"hh\\\",2],0,cc),J(\\\"hmm\\\",0,0,function(){return\\\"\\\"+cc.apply(this)+I(this.minutes(),2)}),J(\\\"hmmss\\\",0,0,function(){return\\\"\\\"+cc.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),J(\\\"Hmm\\\",0,0,function(){return\\\"\\\"+this.hours()+I(this.minutes(),2)}),J(\\\"Hmmss\\\",0,0,function(){return\\\"\\\"+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),dc(\\\"a\\\",!0),dc(\\\"A\\\",!1),A(\\\"hour\\\",\\\"h\\\"),O(\\\"a\\\",ec),O(\\\"A\\\",ec),O(\\\"H\\\",hd),O(\\\"h\\\",hd),O(\\\"HH\\\",hd,dd),O(\\\"hh\\\",hd,dd),O(\\\"hmm\\\",id),O(\\\"hmmss\\\",jd),O(\\\"Hmm\\\",id),O(\\\"Hmmss\\\",jd),S([\\\"H\\\",\\\"HH\\\"],yd),S([\\\"a\\\",\\\"A\\\"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S([\\\"h\\\",\\\"hh\\\"],function(a,b,c){b[yd]=r(a),j(c).bigHour=!0}),S(\\\"hmm\\\",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d)),j(c).bigHour=!0}),S(\\\"hmmss\\\",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e)),j(c).bigHour=!0}),S(\\\"Hmm\\\",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d))}),S(\\\"Hmmss\\\",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e))});var de=/[ap]\\\\.?m?\\\\.?/i,ee=E(\\\"Hours\\\",!0);J(\\\"m\\\",[\\\"mm\\\",2],0,\\\"minute\\\"),A(\\\"minute\\\",\\\"m\\\"),O(\\\"m\\\",hd),O(\\\"mm\\\",hd,dd),S([\\\"m\\\",\\\"mm\\\"],zd);var fe=E(\\\"Minutes\\\",!1);J(\\\"s\\\",[\\\"ss\\\",2],0,\\\"second\\\"),A(\\\"second\\\",\\\"s\\\"),O(\\\"s\\\",hd),O(\\\"ss\\\",hd,dd),S([\\\"s\\\",\\\"ss\\\"],Ad);var ge=E(\\\"Seconds\\\",!1);J(\\\"S\\\",0,0,function(){return~~(this.millisecond()/100)}),J(0,[\\\"SS\\\",2],0,function(){return~~(this.millisecond()/10)}),J(0,[\\\"SSS\\\",3],0,\\\"millisecond\\\"),J(0,[\\\"SSSS\\\",4],0,function(){return 10*this.millisecond()}),J(0,[\\\"SSSSS\\\",5],0,function(){return 100*this.millisecond()}),J(0,[\\\"SSSSSS\\\",6],0,function(){return 1e3*this.millisecond()}),J(0,[\\\"SSSSSSS\\\",7],0,function(){return 1e4*this.millisecond()}),J(0,[\\\"SSSSSSSS\\\",8],0,function(){return 1e5*this.millisecond()}),J(0,[\\\"SSSSSSSSS\\\",9],0,function(){return 1e6*this.millisecond()}),A(\\\"millisecond\\\",\\\"ms\\\"),O(\\\"S\\\",kd,cd),O(\\\"SS\\\",kd,dd),O(\\\"SSS\\\",kd,ed);var he;for(he=\\\"SSSS\\\";he.length<=9;he+=\\\"S\\\")O(he,nd);for(he=\\\"S\\\";he.length<=9;he+=\\\"S\\\")S(he,hc);var ie=E(\\\"Milliseconds\\\",!1);J(\\\"z\\\",0,0,\\\"zoneAbbr\\\"),J(\\\"zz\\\",0,0,\\\"zoneName\\\");var je=o.prototype;je.add=Xd,je.calendar=db,je.clone=eb,je.diff=lb,je.endOf=xb,je.format=pb,je.from=qb,je.fromNow=rb,je.to=sb,je.toNow=tb,je.get=H,je.invalidAt=Gb,je.isAfter=fb,je.isBefore=gb,je.isBetween=hb,je.isSame=ib,je.isSameOrAfter=jb,je.isSameOrBefore=kb,je.isValid=Eb,je.lang=Zd,je.locale=ub,je.localeData=vb,je.max=Sd,je.min=Rd,je.parsingFlags=Fb,je.set=H,je.startOf=wb,je.subtract=Yd,je.toArray=Bb,je.toObject=Cb,je.toDate=Ab,je.toISOString=ob,je.toJSON=Db,je.toString=nb,je.unix=zb,je.valueOf=yb,je.creationData=Hb,je.year=Qd,je.isLeapYear=na,je.weekYear=Jb,je.isoWeekYear=Kb,je.quarter=je.quarters=Pb,je.month=$,je.daysInMonth=_,je.week=je.weeks=Tb,je.isoWeek=je.isoWeeks=Ub,je.weeksInYear=Mb,je.isoWeeksInYear=Lb,je.date=_d,je.day=je.days=$b,je.weekday=_b,je.isoWeekday=ac,je.dayOfYear=bc,je.hour=je.hours=ee,je.minute=je.minutes=fe,je.second=je.seconds=ge,je.millisecond=je.milliseconds=ie,je.utcOffset=Oa,je.utc=Qa,je.local=Ra,je.parseZone=Sa,je.hasAlignedHourOffset=Ta,je.isDST=Ua,je.isDSTShifted=Va,je.isLocal=Wa,je.isUtcOffset=Xa,je.isUtc=Ya,je.isUTC=Ya,je.zoneAbbr=ic,je.zoneName=jc,je.dates=fa(\\\"dates accessor is deprecated. Use date instead.\\\",_d),je.months=fa(\\\"months accessor is deprecated. Use month instead\\\",$),je.years=fa(\\\"years accessor is deprecated. Use year instead\\\",Qd),je.zone=fa(\\\"moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779\\\",Pa);var ke=je,le={sameDay:\\\"[Today at] LT\\\",nextDay:\\\"[Tomorrow at] LT\\\",nextWeek:\\\"dddd [at] LT\\\",lastDay:\\\"[Yesterday at] LT\\\",lastWeek:\\\"[Last] dddd [at] LT\\\",sameElse:\\\"L\\\"},me={LTS:\\\"h:mm:ss A\\\",LT:\\\"h:mm A\\\",L:\\\"MM/DD/YYYY\\\",LL:\\\"MMMM D, YYYY\\\",LLL:\\\"MMMM D, YYYY h:mm A\\\",LLLL:\\\"dddd, MMMM D, YYYY h:mm A\\\"},ne=\\\"Invalid date\\\",oe=\\\"%d\\\",pe=/\\\\d{1,2}/,qe={future:\\\"in %s\\\",past:\\\"%s ago\\\",s:\\\"a few seconds\\\",m:\\\"a minute\\\",mm:\\\"%d minutes\\\",h:\\\"an hour\\\",hh:\\\"%d hours\\\",d:\\\"a day\\\",dd:\\\"%d days\\\",M:\\\"a month\\\",MM:\\\"%d months\\\",y:\\\"a year\\\",yy:\\\"%d years\\\"},re=t.prototype;re._calendar=le,re.calendar=mc,re._longDateFormat=me,re.longDateFormat=nc,re._invalidDate=ne,re.invalidDate=oc,re._ordinal=oe,re.ordinal=pc,re._ordinalParse=pe,re.preparse=qc,re.postformat=qc,re._relativeTime=qe,re.relativeTime=rc,re.pastFuture=sc,re.set=tc,re.months=W,re._months=Fd,re.monthsShort=X,re._monthsShort=Gd,re.monthsParse=Y,re._monthsRegex=Id,re.monthsRegex=ba,re._monthsShortRegex=Hd,re.monthsShortRegex=aa,re.week=Qb,re._week=$d,re.firstDayOfYear=Sb,re.firstDayOfWeek=Rb,re.weekdays=Wb,re._weekdays=ae,re.weekdaysMin=Yb,re._weekdaysMin=ce,re.weekdaysShort=Xb,re._weekdaysShort=be,re.weekdaysParse=Zb,re.isPM=fc,re._meridiemParse=de,re.meridiem=gc,x(\\\"en\\\",{ordinalParse:/\\\\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===r(a%100/10)?\\\"th\\\":1===b?\\\"st\\\":2===b?\\\"nd\\\":3===b?\\\"rd\\\":\\\"th\\\";return a+c}}),a.lang=fa(\\\"moment.lang is deprecated. Use moment.locale instead.\\\",x),a.langData=fa(\\\"moment.langData is deprecated. Use moment.localeData instead.\\\",z);var se=Math.abs,te=Lc(\\\"ms\\\"),ue=Lc(\\\"s\\\"),ve=Lc(\\\"m\\\"),we=Lc(\\\"h\\\"),xe=Lc(\\\"d\\\"),ye=Lc(\\\"w\\\"),ze=Lc(\\\"M\\\"),Ae=Lc(\\\"y\\\"),Be=Nc(\\\"milliseconds\\\"),Ce=Nc(\\\"seconds\\\"),De=Nc(\\\"minutes\\\"),Ee=Nc(\\\"hours\\\"),Fe=Nc(\\\"days\\\"),Ge=Nc(\\\"months\\\"),He=Nc(\\\"years\\\"),Ie=Math.round,Je={s:45,m:45,h:22,d:26,M:11},Ke=Math.abs,Le=Ia.prototype;Le.abs=Bc,Le.add=Dc,Le.subtract=Ec,Le.as=Jc,Le.asMilliseconds=te,Le.asSeconds=ue,Le.asMinutes=ve,Le.asHours=we,Le.asDays=xe,Le.asWeeks=ye,Le.asMonths=ze,Le.asYears=Ae,Le.valueOf=Kc,Le._bubble=Gc,Le.get=Mc,Le.milliseconds=Be,Le.seconds=Ce,Le.minutes=De,Le.hours=Ee,Le.days=Fe,Le.weeks=Oc,Le.months=Ge,Le.years=He,Le.humanize=Sc,Le.toISOString=Tc,Le.toString=Tc,Le.toJSON=Tc,Le.locale=ub,Le.localeData=vb,Le.toIsoString=fa(\\\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\\\",Tc),Le.lang=Zd,J(\\\"X\\\",0,0,\\\"unix\\\"),J(\\\"x\\\",0,0,\\\"valueOf\\\"),O(\\\"x\\\",od),O(\\\"X\\\",rd),S(\\\"X\\\",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),S(\\\"x\\\",function(a,b,c){c._d=new Date(r(a))}),a.version=\\\"2.11.2\\\",b(Ea),a.fn=ke,a.min=Ga,a.max=Ha,a.now=Td,a.utc=h,a.unix=kc,a.months=wc,a.isDate=d,a.locale=x,a.invalid=l,a.duration=Za,a.isMoment=p,a.weekdays=yc,a.parseZone=lc,a.localeData=z,a.isDuration=Ja,a.monthsShort=xc,a.weekdaysMin=Ac,a.defineLocale=y,a.weekdaysShort=zc,a.normalizeUnits=B,a.relativeTimeThreshold=Rc,a.prototype=ke;var Me=a;return Me});\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/moment/min/moment.min.js\n// module id = 18\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/store/store.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/store/store.min.js\n// module id = 19\n// module chunks = 0","module.exports = \"/* Copyright (c) 2010-2013 Marcus Westin */\\n\\\"use strict\\\";(function(e,t){typeof define==\\\"function\\\"&&define.amd?define([],t):typeof exports==\\\"object\\\"?module.exports=t():e.store=t()})(this,function(){function o(){try{return r in t&&t[r]}catch(e){return!1}}var e={},t=typeof window!=\\\"undefined\\\"?window:global,n=t.document,r=\\\"localStorage\\\",i=\\\"script\\\",s;e.disabled=!1,e.version=\\\"1.3.20\\\",e.set=function(e,t){},e.get=function(e,t){},e.has=function(t){return e.get(t)!==undefined},e.remove=function(e){},e.clear=function(){},e.transact=function(t,n,r){r==null&&(r=n,n=null),n==null&&(n={});var i=e.get(t,n);r(i),e.set(t,i)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(e){return JSON.stringify(e)},e.deserialize=function(e){if(typeof e!=\\\"string\\\")return undefined;try{return JSON.parse(e)}catch(t){return e||undefined}};if(o())s=t[r],e.set=function(t,n){return n===undefined?e.remove(t):(s.setItem(t,e.serialize(n)),n)},e.get=function(t,n){var r=e.deserialize(s.getItem(t));return r===undefined?n:r},e.remove=function(e){s.removeItem(e)},e.clear=function(){s.clear()},e.getAll=function(){var t={};return e.forEach(function(e,n){t[e]=n}),t},e.forEach=function(t){for(var n=0;n<s.length;n++){var r=s.key(n);t(r,e.get(r))}};else if(n&&n.documentElement.addBehavior){var u,a;try{a=new ActiveXObject(\\\"htmlfile\\\"),a.open(),a.write(\\\"<\\\"+i+\\\">document.w=window</\\\"+i+'><iframe src=\\\"/favicon.ico\\\"></iframe>'),a.close(),u=a.w.frames[0].document,s=u.createElement(\\\"div\\\")}catch(f){s=n.createElement(\\\"div\\\"),u=n.body}var l=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(s),u.appendChild(s),s.addBehavior(\\\"#default#userData\\\"),s.load(r);var i=t.apply(e,n);return u.removeChild(s),i}},c=new RegExp(\\\"[!\\\\\\\"#$%&'()*+,/\\\\\\\\\\\\\\\\:;<=>?@[\\\\\\\\]^`{|}~]\\\",\\\"g\\\"),h=function(e){return e.replace(/^d/,\\\"___$&\\\").replace(c,\\\"___\\\")};e.set=l(function(t,n,i){return n=h(n),i===undefined?e.remove(n):(t.setAttribute(n,e.serialize(i)),t.save(r),i)}),e.get=l(function(t,n,r){n=h(n);var i=e.deserialize(t.getAttribute(n));return i===undefined?r:i}),e.remove=l(function(e,t){t=h(t),e.removeAttribute(t),e.save(r)}),e.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(r)}),e.getAll=function(t){var n={};return e.forEach(function(e,t){n[e]=t}),n},e.forEach=l(function(t,n){var r=t.XMLDocument.documentElement.attributes;for(var i=0,s;s=r[i];++i)n(s.name,e.deserialize(t.getAttribute(s.name)))})}try{var p=\\\"__storejs__\\\";e.set(p,p),e.get(p)!=p&&(e.disabled=!0),e.remove(p)}catch(f){e.disabled=!0}return e.enabled=!e.disabled,e});\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/store/store.min.js\n// module id = 20\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/lib/jquery/jquery-migrate-1.2.1.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./lib/jquery/jquery-migrate-1.2.1.min.js\n// module id = 21\n// module chunks = 0","module.exports = \"/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */\\njQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn(\\\"JQMIGRATE: \\\"+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log(\\\"JQMIGRATE: Logging is active\\\"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},\\\"BackCompat\\\"===document.compatMode&&r(\\\"jQuery is not compatible with Quirks Mode\\\");var o=e(\\\"<input/>\\\",{size:1}).attr(\\\"size\\\")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,\\\"attrFn\\\",o||{},\\\"jQuery.attrFn is deprecated\\\"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r(\\\"jQuery.fn.attr( props, pass ) is deprecated\\\"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):(\\\"type\\\"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r(\\\"Can't change the 'type' of an input or button in IE 6/7/8\\\"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||\\\"boolean\\\"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r(\\\"jQuery.fn.attr('\\\"+c+\\\"') may use property instead of attribute\\\")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||\\\"\\\").toLowerCase();return\\\"button\\\"===n?u.apply(this,arguments):(\\\"input\\\"!==n&&\\\"option\\\"!==n&&r(\\\"jQuery.fn.attr('value') no longer gets properties\\\"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||\\\"\\\").toLowerCase();return\\\"button\\\"===a?c.apply(this,arguments):(\\\"input\\\"!==a&&\\\"option\\\"!==a&&r(\\\"jQuery.fn.attr('value', val) no longer sets properties\\\"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\\\\w\\\\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&\\\"string\\\"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&(\\\"<\\\"!==t.charAt(0)&&r(\\\"$(html) HTML strings must start with '<' character\\\"),i[3]&&r(\\\"$(html) HTML text after last tag is ignored\\\"),\\\"#\\\"===i[0].charAt(0)&&(r(\\\"HTML string cannot start with a '#' character\\\"),e.error(\\\"JQMIGRATE: Invalid selector string (XSS)\\\")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r(\\\"jQuery.parseJSON requires a valid JSON string\\\"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \\\\/]([\\\\w.]+)/.exec(e)||/(webkit)[ \\\\/]([\\\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\\\/]([\\\\w.]+)/.exec(e)||/(msie) ([\\\\w.]+)/.exec(e)||0>e.indexOf(\\\"compatible\\\")&&/(mozilla)(?:.*? rv:([\\\\w.]+)|)/.exec(e)||[];return{browser:t[1]||\\\"\\\",version:t[2]||\\\"0\\\"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,\\\"browser\\\",e.browser,\\\"jQuery.browser is deprecated\\\"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r(\\\"jQuery.sub() is deprecated\\\"),t},e.ajaxSetup({converters:{\\\"text json\\\":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||\\\"events\\\"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r(\\\"Use of jQuery.fn.data('events') is deprecated\\\"),i)};var j=/\\\\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r(\\\"jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\\\"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r(\\\"jQuery.clean() is deprecated\\\");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,\\\"script\\\")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName(\\\"script\\\")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S=\\\"ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess\\\",C=RegExp(\\\"\\\\\\\\b(?:\\\"+S+\\\")\\\\\\\\b\\\"),H=/(?:^|\\\\s)hover(\\\\.\\\\S+|)\\\\b/,A=function(t){return\\\"string\\\"!=typeof t||e.event.special.hover?t:(H.test(t)&&r(\\\"'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'\\\"),t&&t.replace(H,\\\"mouseenter$1 mouseleave$1\\\"))};e.event.props&&\\\"attrChange\\\"!==e.event.props[0]&&e.event.props.unshift(\\\"attrChange\\\",\\\"attrName\\\",\\\"relatedNode\\\",\\\"srcElement\\\"),e.event.dispatch&&a(e.event,\\\"handle\\\",e.event.dispatch,\\\"jQuery.event.handle is undocumented and deprecated\\\"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r(\\\"AJAX events should be attached to document: \\\"+t),Q.call(this,e,A(t||\\\"\\\"),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||\\\"\\\",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r(\\\"jQuery.fn.error() is deprecated\\\"),e.splice(0,0,\\\"error\\\"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r(\\\"jQuery.fn.toggle(handler, handler...) is deprecated\\\");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,\\\"lastToggle\\\"+t.guid)||0)%o;return e._data(this,\\\"lastToggle\\\"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r(\\\"jQuery.fn.live() is deprecated\\\"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r(\\\"jQuery.fn.die() is deprecated\\\"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||\\\"**\\\",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r(\\\"Global events are undocumented and deprecated\\\"),k.call(this,e,t,n||document,a)},e.each(S.split(\\\"|\\\"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+\\\".\\\"+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+\\\".\\\"+e._data(this,n)),!1}}})}(jQuery,window);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./lib/jquery/jquery-migrate-1.2.1.min.js\n// module id = 22\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/lib/jquery-ui/js/jquery-ui-1.11.4.custom.min.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./lib/jquery-ui/js/jquery-ui-1.11.4.custom.min.js\n// module id = 23\n// module chunks = 0","module.exports = \"/*! jQuery UI - v1.11.4 - 2015-04-12\\n* http://jqueryui.com\\n* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js\\n* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */\\n\\n(function(e){\\\"function\\\"==typeof define&&define.amd?define([\\\"jquery\\\"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return\\\"area\\\"===r?(n=t.parentNode,a=n.name,t.href&&a&&\\\"map\\\"===n.nodeName.toLowerCase()?(o=e(\\\"img[usemap='#\\\"+a+\\\"']\\\")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:\\\"a\\\"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return\\\"hidden\\\"===e.css(this,\\\"visibility\\\")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css(\\\"position\\\"),(\\\"absolute\\\"===t||\\\"relative\\\"===t||\\\"fixed\\\"===t)&&(i=parseInt(e.css(\\\"zIndex\\\"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\\\"ui-datepicker-div\\\",this._inlineClass=\\\"ui-datepicker-inline\\\",this._appendClass=\\\"ui-datepicker-append\\\",this._triggerClass=\\\"ui-datepicker-trigger\\\",this._dialogClass=\\\"ui-datepicker-dialog\\\",this._disableClass=\\\"ui-datepicker-disabled\\\",this._unselectableClass=\\\"ui-datepicker-unselectable\\\",this._currentClass=\\\"ui-datepicker-current-day\\\",this._dayOverClass=\\\"ui-datepicker-days-cell-over\\\",this.regional=[],this.regional[\\\"\\\"]={closeText:\\\"Done\\\",prevText:\\\"Prev\\\",nextText:\\\"Next\\\",currentText:\\\"Today\\\",monthNames:[\\\"January\\\",\\\"February\\\",\\\"March\\\",\\\"April\\\",\\\"May\\\",\\\"June\\\",\\\"July\\\",\\\"August\\\",\\\"September\\\",\\\"October\\\",\\\"November\\\",\\\"December\\\"],monthNamesShort:[\\\"Jan\\\",\\\"Feb\\\",\\\"Mar\\\",\\\"Apr\\\",\\\"May\\\",\\\"Jun\\\",\\\"Jul\\\",\\\"Aug\\\",\\\"Sep\\\",\\\"Oct\\\",\\\"Nov\\\",\\\"Dec\\\"],dayNames:[\\\"Sunday\\\",\\\"Monday\\\",\\\"Tuesday\\\",\\\"Wednesday\\\",\\\"Thursday\\\",\\\"Friday\\\",\\\"Saturday\\\"],dayNamesShort:[\\\"Sun\\\",\\\"Mon\\\",\\\"Tue\\\",\\\"Wed\\\",\\\"Thu\\\",\\\"Fri\\\",\\\"Sat\\\"],dayNamesMin:[\\\"Su\\\",\\\"Mo\\\",\\\"Tu\\\",\\\"We\\\",\\\"Th\\\",\\\"Fr\\\",\\\"Sa\\\"],weekHeader:\\\"Wk\\\",dateFormat:\\\"mm/dd/yy\\\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\\\"\\\"},this._defaults={showOn:\\\"focus\\\",showAnim:\\\"fadeIn\\\",showOptions:{},defaultDate:null,appendText:\\\"\\\",buttonText:\\\"...\\\",buttonImage:\\\"\\\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\\\"c-10:c+10\\\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\\\"+10\\\",minDate:null,maxDate:null,duration:\\\"fast\\\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\\\"\\\",altFormat:\\\"\\\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[\\\"\\\"]),this.regional.en=e.extend(!0,{},this.regional[\\\"\\\"]),this.regional[\\\"en-US\\\"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e(\\\"<div id='\\\"+this._mainDivId+\\\"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\\\"))}function a(t){var i=\\\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\\\";return t.delegate(i,\\\"mouseout\\\",function(){e(this).removeClass(\\\"ui-state-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-prev\\\")&&e(this).removeClass(\\\"ui-datepicker-prev-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-next\\\")&&e(this).removeClass(\\\"ui-datepicker-next-hover\\\")}).delegate(i,\\\"mouseover\\\",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(\\\".ui-datepicker-calendar\\\").find(\\\"a\\\").removeClass(\\\"ui-state-hover\\\"),e(this).addClass(\\\"ui-state-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-prev\\\")&&e(this).addClass(\\\"ui-datepicker-prev-hover\\\"),-1!==this.className.indexOf(\\\"ui-datepicker-next\\\")&&e(this).addClass(\\\"ui-datepicker-next-hover\\\"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger(\\\"change\\\")}}e.ui=e.ui||{},e.extend(e.ui,{version:\\\"1.11.4\\\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css(\\\"position\\\"),s=\\\"absolute\\\"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&\\\"static\\\"===t.css(\\\"position\\\")?!1:n.test(t.css(\\\"overflow\\\")+t.css(\\\"overflow-y\\\")+t.css(\\\"overflow-x\\\"))}).eq(0);return\\\"fixed\\\"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id=\\\"ui-id-\\\"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\\\\d+$/.test(this.id)&&e(this).removeAttr(\\\"id\\\")})}}),e.extend(e.expr[\\\":\\\"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,\\\"tabindex\\\")))},tabbable:function(i){var s=e.attr(i,\\\"tabindex\\\"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e(\\\"<a>\\\").outerWidth(1).jquery||e.each([\\\"Width\\\",\\\"Height\\\"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,\\\"padding\\\"+this))||0,s&&(i-=parseFloat(e.css(t,\\\"border\\\"+this+\\\"Width\\\"))||0),a&&(i-=parseFloat(e.css(t,\\\"margin\\\"+this))||0)}),i}var n=\\\"Width\\\"===i?[\\\"Left\\\",\\\"Right\\\"]:[\\\"Top\\\",\\\"Bottom\\\"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn[\\\"inner\\\"+i]=function(t){return void 0===t?o[\\\"inner\\\"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+\\\"px\\\")})},e.fn[\\\"outer\\\"+i]=function(t,n){return\\\"number\\\"!=typeof t?o[\\\"outer\\\"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+\\\"px\\\")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e(\\\"<a>\\\").data(\\\"a-b\\\",\\\"a\\\").removeData(\\\"a-b\\\").data(\\\"a-b\\\")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\\\\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return\\\"number\\\"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e=\\\"onselectstart\\\"in document.createElement(\\\"div\\\")?\\\"selectstart\\\":\\\"mousedown\\\";return function(){return this.bind(e+\\\".ui-disableSelection\\\",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(\\\".ui-disableSelection\\\")},zIndex:function(t){if(void 0!==t)return this.css(\\\"zIndex\\\",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css(\\\"position\\\"),(\\\"absolute\\\"===i||\\\"relative\\\"===i||\\\"fixed\\\"===i)&&(s=parseInt(n.css(\\\"zIndex\\\"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,\\\"events\\\"),s&&s.remove&&e(n).triggerHandler(\\\"remove\\\")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(\\\".\\\")[0];return t=t.split(\\\".\\\")[1],n=l+\\\"-\\\"+t,s||(s=i,i=e.Widget),e.expr[\\\":\\\"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+\\\".\\\"+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a=\\\"string\\\"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return\\\"instance\\\"===n?(r=a,!1):a?e.isFunction(a[n])&&\\\"_\\\"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error(\\\"no such method '\\\"+n+\\\"' for \\\"+t+\\\" widget instance\\\"):e.error(\\\"cannot call methods on \\\"+t+\\\" prior to initialization; \\\"+\\\"attempted to call method '\\\"+n+\\\"'\\\")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:\\\"widget\\\",widgetEventPrefix:\\\"\\\",defaultElement:\\\"<div>\\\",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace=\\\".\\\"+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger(\\\"create\\\",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(\\\"aria-disabled\\\").removeClass(this.widgetFullName+\\\"-disabled \\\"+\\\"ui-state-disabled\\\"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(\\\"ui-state-hover\\\"),this.focusable.removeClass(\\\"ui-state-focus\\\")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if(\\\"string\\\"==typeof t)if(o={},s=t.split(\\\".\\\"),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,\\\"disabled\\\"===e&&(this.widget().toggleClass(this.widgetFullName+\\\"-disabled\\\",!!t),t&&(this.hoverable.removeClass(\\\"ui-state-hover\\\"),this.focusable.removeClass(\\\"ui-state-focus\\\"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;\\\"boolean\\\"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass(\\\"ui-state-disabled\\\")?(\\\"string\\\"==typeof o?a[o]:o).apply(a,arguments):void 0}\\\"string\\\"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\\\\w:-]*)\\\\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||\\\"\\\").split(\\\" \\\").join(this.eventNamespace+\\\" \\\")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return(\\\"string\\\"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass(\\\"ui-state-hover\\\")},mouseleave:function(t){e(t.currentTarget).removeClass(\\\"ui-state-hover\\\")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass(\\\"ui-state-focus\\\")},focusout:function(t){e(t.currentTarget).removeClass(\\\"ui-state-focus\\\")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:\\\"fadeIn\\\",hide:\\\"fadeOut\\\"},function(t,i){e.Widget.prototype[\\\"_\\\"+t]=function(s,n,a){\\\"string\\\"==typeof n&&(n={effect:n});var o,r=n?n===!0||\\\"number\\\"==typeof n?i:n.effect||i:t;n=n||{},\\\"number\\\"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget(\\\"ui.mouse\\\",{version:\\\"1.11.4\\\",options:{cancel:\\\"input,textarea,button,select,option\\\",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind(\\\"mousedown.\\\"+this.widgetName,function(e){return t._mouseDown(e)}).bind(\\\"click.\\\"+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+\\\".preventClickEvent\\\")?(e.removeData(i.target,t.widgetName+\\\".preventClickEvent\\\"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\\\".\\\"+this.widgetName),this._mouseMoveDelegate&&this.document.unbind(\\\"mousemove.\\\"+this.widgetName,this._mouseMoveDelegate).unbind(\\\"mouseup.\\\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n=\\\"string\\\"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+\\\".preventClickEvent\\\")&&e.removeData(t.target,this.widgetName+\\\".preventClickEvent\\\"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind(\\\"mousemove.\\\"+this.widgetName,this._mouseMoveDelegate).bind(\\\"mouseup.\\\"+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind(\\\"mousemove.\\\"+this.widgetName,this._mouseMoveDelegate).unbind(\\\"mouseup.\\\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+\\\".preventClickEvent\\\",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\\\\+\\\\-]\\\\d+(\\\\.[\\\\d]+)?%?/,c=/^\\\\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e(\\\"<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>\\\"),a=s.children()[0];return e(\\\"body\\\").append(s),t=a.offsetWidth,s.css(\\\"overflow\\\",\\\"scroll\\\"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?\\\"\\\":t.element.css(\\\"overflow-x\\\"),s=t.isWindow||t.isDocument?\\\"\\\":t.element.css(\\\"overflow-y\\\"),n=\\\"scroll\\\"===i||\\\"auto\\\"===i&&t.width<t.element[0].scrollWidth,a=\\\"scroll\\\"===s||\\\"auto\\\"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||\\\"flip\\\").split(\\\" \\\"),T={};return b=s(_),_[0].preventDefault&&(n.at=\\\"left top\\\"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each([\\\"my\\\",\\\"at\\\"],function(){var e,t,i=(n[this]||\\\"\\\").split(\\\" \\\");1===i.length&&(i=l.test(i[0])?i.concat([\\\"center\\\"]):u.test(i[0])?[\\\"center\\\"].concat(i):[\\\"center\\\",\\\"center\\\"]),i[0]=l.test(i[0])?i[0]:\\\"center\\\",i[1]=u.test(i[1])?i[1]:\\\"center\\\",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),\\\"right\\\"===n.at[0]?y.left+=m:\\\"center\\\"===n.at[0]&&(y.left+=m/2),\\\"bottom\\\"===n.at[1]?y.top+=g:\\\"center\\\"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,\\\"marginLeft\\\"),b=i(this,\\\"marginTop\\\"),D=d+f+i(this,\\\"marginRight\\\")+w.width,S=c+b+i(this,\\\"marginBottom\\\")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());\\\"right\\\"===n.my[0]?M.left-=d:\\\"center\\\"===n.my[0]&&(M.left-=d/2),\\\"bottom\\\"===n.my[1]?M.top-=c:\\\"center\\\"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each([\\\"left\\\",\\\"top\\\"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?\\\"left\\\":t>0?\\\"right\\\":\\\"center\\\",vertical:0>a?\\\"top\\\":s>0?\\\"bottom\\\":\\\"middle\\\"};d>m&&m>r(t+i)&&(h.horizontal=\\\"center\\\"),c>g&&g>r(s+a)&&(h.vertical=\\\"middle\\\"),h.important=o(r(t),r(i))>o(r(s),r(a))?\\\"horizontal\\\":\\\"vertical\\\",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c=\\\"left\\\"===t.my[0]?-t.elemWidth:\\\"right\\\"===t.my[0]?t.elemWidth:0,p=\\\"left\\\"===t.at[0]?t.targetWidth:\\\"right\\\"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c=\\\"top\\\"===t.my[1],p=c?-t.elemHeight:\\\"bottom\\\"===t.my[1]?t.elemHeight:0,f=\\\"top\\\"===t.at[1]?t.targetHeight:\\\"bottom\\\"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName(\\\"body\\\")[0],h=document.createElement(\\\"div\\\");t=document.createElement(r?\\\"div\\\":\\\"body\\\"),s={visibility:\\\"hidden\\\",width:0,height:0,border:0,margin:0,background:\\\"none\\\"},r&&e.extend(s,{position:\\\"absolute\\\",left:\\\"-1000px\\\",top:\\\"-1000px\\\"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText=\\\"position: absolute; left: 10.7432222px;\\\",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML=\\\"\\\",i.removeChild(t)}()}(),e.ui.position,e.widget(\\\"ui.draggable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"drag\\\",options:{addClasses:!0,appendTo:\\\"parent\\\",axis:!1,connectToSortable:!1,containment:!1,cursor:\\\"auto\\\",cursorAt:!1,grid:!1,handle:!1,helper:\\\"original\\\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\\\"default\\\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\\\"both\\\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\\\"original\\\"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass(\\\"ui-draggable\\\"),this.options.disabled&&this.element.addClass(\\\"ui-draggable-disabled\\\"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),\\\"handle\\\"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(\\\".ui-draggable-dragging\\\")?(this.destroyOnClear=!0,void 0):(this.element.removeClass(\\\"ui-draggable ui-draggable-dragging ui-draggable-disabled\\\"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(\\\".ui-resizable-handle\\\").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?\\\"iframe\\\":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e(\\\"<div>\\\").css(\\\"position\\\",\\\"absolute\\\").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&\\\"body\\\"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass(\\\"ui-draggable-dragging\\\"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\\\"position\\\"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return\\\"fixed\\\"===e(this).css(\\\"position\\\")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger(\\\"start\\\",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),!i){var s=this._uiHash();if(this._trigger(\\\"drag\\\",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+\\\"px\\\",this.helper[0].style.top=this.position.top+\\\"px\\\",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),\\\"invalid\\\"===this.options.revert&&!s||\\\"valid\\\"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger(\\\"stop\\\",t)!==!1&&i._clear()}):this._trigger(\\\"stop\\\",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(\\\".ui-draggable-dragging\\\")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass(\\\"ui-draggable-handle\\\")},_removeHandleClassName:function(){this.handleElement.removeClass(\\\"ui-draggable-handle\\\")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):\\\"clone\\\"===i.helper?this.element.clone().removeAttr(\\\"id\\\"):this.element;return n.parents(\\\"body\\\").length||n.appendTo(\\\"parent\\\"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css(\\\"position\\\"))||n.css(\\\"position\\\",\\\"absolute\\\"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css(\\\"position\\\"))||(this.element[0].style.position=\\\"relative\\\")},_adjustOffsetFromHelper:function(t){\\\"string\\\"==typeof t&&(t=t.split(\\\" \\\")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),\\\"left\\\"in t&&(this.offset.click.left=t.left+this.margins.left),\\\"right\\\"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),\\\"top\\\"in t&&(this.offset.click.top=t.top+this.margins.top),\\\"bottom\\\"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return\\\"absolute\\\"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css(\\\"borderTopWidth\\\"),10)||0),left:t.left+(parseInt(this.offsetParent.css(\\\"borderLeftWidth\\\"),10)||0)}},_getRelativeOffset:function(){if(\\\"relative\\\"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css(\\\"top\\\"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css(\\\"left\\\"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\\\"marginLeft\\\"),10)||0,top:parseInt(this.element.css(\\\"marginTop\\\"),10)||0,right:parseInt(this.element.css(\\\"marginRight\\\"),10)||0,bottom:parseInt(this.element.css(\\\"marginBottom\\\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?\\\"window\\\"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):\\\"document\\\"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):(\\\"parent\\\"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css(\\\"overflow\\\")),this.containment=[(parseInt(i.css(\\\"borderLeftWidth\\\"),10)||0)+(parseInt(i.css(\\\"paddingLeft\\\"),10)||0),(parseInt(i.css(\\\"borderTopWidth\\\"),10)||0)+(parseInt(i.css(\\\"paddingTop\\\"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css(\\\"borderRightWidth\\\"),10)||0)-(parseInt(i.css(\\\"paddingRight\\\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css(\\\"borderBottomWidth\\\"),10)||0)-(parseInt(i.css(\\\"paddingBottom\\\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i=\\\"absolute\\\"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),\\\"y\\\"===o.axis&&(h=this.originalPageX),\\\"x\\\"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\\\"fixed\\\"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}\\n},_clear:function(){this.helper.removeClass(\\\"ui-draggable-dragging\\\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){\\\"y\\\"!==this.options.axis&&\\\"auto\\\"!==this.helper.css(\\\"right\\\")&&(this.helper.width(this.helper.width()),this.helper.css(\\\"right\\\",\\\"auto\\\")),\\\"x\\\"!==this.options.axis&&\\\"auto\\\"!==this.helper.css(\\\"bottom\\\")&&(this.helper.height(this.helper.height()),this.helper.css(\\\"bottom\\\",\\\"auto\\\"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add(\\\"draggable\\\",\\\"connectToSortable\\\",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable(\\\"instance\\\");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger(\\\"activate\\\",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css(\\\"position\\\"),top:e.placeholder.css(\\\"top\\\"),left:e.placeholder.css(\\\"left\\\")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger(\\\"deactivate\\\",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data(\\\"ui-sortable-item\\\",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger(\\\"toSortable\\\",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger(\\\"out\\\",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger(\\\"fromSortable\\\",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add(\\\"draggable\\\",\\\"cursor\\\",{start:function(t,i,s){var n=e(\\\"body\\\"),a=s.options;n.css(\\\"cursor\\\")&&(a._cursor=n.css(\\\"cursor\\\")),n.css(\\\"cursor\\\",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e(\\\"body\\\").css(\\\"cursor\\\",n._cursor)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"opacity\\\",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css(\\\"opacity\\\")&&(a._opacity=n.css(\\\"opacity\\\")),n.css(\\\"opacity\\\",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css(\\\"opacity\\\",n._opacity)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"scroll\\\",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&\\\"HTML\\\"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&\\\"HTML\\\"!==o.tagName?(n.axis&&\\\"x\\\"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&\\\"y\\\"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&\\\"x\\\"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&\\\"y\\\"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"snap\\\",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||\\\":data(ui-draggable)\\\":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):(\\\"inner\\\"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:l}).left)),p=n||a||o||r,\\\"outer\\\"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo(\\\"relative\\\",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo(\\\"relative\\\",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add(\\\"draggable\\\",\\\"stack\\\",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css(\\\"zIndex\\\"),10)||0)-(parseInt(e(i).css(\\\"zIndex\\\"),10)||0)});o.length&&(n=parseInt(e(o[0]).css(\\\"zIndex\\\"),10)||0,e(o).each(function(t){e(this).css(\\\"zIndex\\\",n+t)}),this.css(\\\"zIndex\\\",n+o.length))}}),e.ui.plugin.add(\\\"draggable\\\",\\\"zIndex\\\",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css(\\\"zIndex\\\")&&(a._zIndex=n.css(\\\"zIndex\\\")),n.css(\\\"zIndex\\\",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css(\\\"zIndex\\\",n._zIndex)}}),e.ui.draggable,e.widget(\\\"ui.droppable\\\",{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"drop\\\",options:{accept:\\\"*\\\",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:\\\"default\\\",tolerance:\\\"intersect\\\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass(\\\"ui-droppable\\\")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass(\\\"ui-droppable ui-droppable-disabled\\\")},_setOption:function(t,i){if(\\\"accept\\\"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if(\\\"scope\\\"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger(\\\"activate\\\",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger(\\\"deactivate\\\",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger(\\\"over\\\",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\\\"out\\\",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(\\\":data(ui-droppable)\\\").not(\\\".ui-draggable-dragging\\\").each(function(){var i=e(this).droppable(\\\"instance\\\");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\\\"drop\\\",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case\\\"fit\\\":return a>=l&&d>=r&&o>=u&&c>=h;case\\\"intersect\\\":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case\\\"pointer\\\":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case\\\"touch\\\":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{\\\"default\\\":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(\\\":data(ui-droppable)\\\").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible=\\\"none\\\"!==a[s].element.css(\\\"display\\\"),a[s].visible&&(\\\"mousedown\\\"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil(\\\"body\\\").bind(\\\"scroll.droppable\\\",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?\\\"isout\\\":o&&!this.isover?\\\"isover\\\":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(\\\":data(ui-droppable)\\\").filter(function(){return e(this).droppable(\\\"instance\\\").options.scope===n}),a.length&&(s=e(a[0]).droppable(\\\"instance\\\"),s.greedyChild=\\\"isover\\\"===r)),s&&\\\"isover\\\"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this[\\\"isout\\\"===r?\\\"isover\\\":\\\"isout\\\"]=!1,this[\\\"isover\\\"===r?\\\"_over\\\":\\\"_out\\\"].call(this,i),s&&\\\"isout\\\"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil(\\\"body\\\").unbind(\\\"scroll.droppable\\\"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget(\\\"ui.resizable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"resize\\\",options:{alsoResize:!1,animate:!1,animateDuration:\\\"slow\\\",animateEasing:\\\"swing\\\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\\\"e,s,se\\\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if(\\\"hidden\\\"===e(t).css(\\\"overflow\\\"))return!1;var s=i&&\\\"left\\\"===i?\\\"scrollLeft\\\":\\\"scrollTop\\\",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass(\\\"ui-resizable\\\"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||\\\"ui-resizable-helper\\\":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e(\\\"<div class='ui-wrapper' style='overflow: hidden;'></div>\\\").css({position:this.element.css(\\\"position\\\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\\\"top\\\"),left:this.element.css(\\\"left\\\")})),this.element=this.element.parent().data(\\\"ui-resizable\\\",this.element.resizable(\\\"instance\\\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\\\"marginLeft\\\"),marginTop:this.originalElement.css(\\\"marginTop\\\"),marginRight:this.originalElement.css(\\\"marginRight\\\"),marginBottom:this.originalElement.css(\\\"marginBottom\\\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\\\"resize\\\"),this.originalElement.css(\\\"resize\\\",\\\"none\\\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\\\"static\\\",zoom:1,display:\\\"block\\\"})),this.originalElement.css({margin:this.originalElement.css(\\\"margin\\\")}),this._proportionallyResize()),this.handles=r.handles||(e(\\\".ui-resizable-handle\\\",this.element).length?{n:\\\".ui-resizable-n\\\",e:\\\".ui-resizable-e\\\",s:\\\".ui-resizable-s\\\",w:\\\".ui-resizable-w\\\",se:\\\".ui-resizable-se\\\",sw:\\\".ui-resizable-sw\\\",ne:\\\".ui-resizable-ne\\\",nw:\\\".ui-resizable-nw\\\"}:\\\"e,s,se\\\"),this._handles=e(),this.handles.constructor===String)for(\\\"all\\\"===this.handles&&(this.handles=\\\"n,e,s,w,se,sw,ne,nw\\\"),t=this.handles.split(\\\",\\\"),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a=\\\"ui-resizable-\\\"+s,n=e(\\\"<div class='ui-resizable-handle \\\"+a+\\\"'></div>\\\"),n.css({zIndex:r.zIndex}),\\\"se\\\"===s&&n.addClass(\\\"ui-icon ui-icon-gripsmall-diagonal-se\\\"),this.handles[s]=\\\".ui-resizable-\\\"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=[\\\"padding\\\",/ne|nw|n/.test(i)?\\\"Top\\\":/se|sw|s/.test(i)?\\\"Bottom\\\":/^e$/.test(i)?\\\"Right\\\":\\\"Left\\\"].join(\\\"\\\"),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(\\\".ui-resizable-handle\\\")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:\\\"se\\\")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass(\\\"ui-resizable-autohide\\\").mouseenter(function(){r.disabled||(e(this).removeClass(\\\"ui-resizable-autohide\\\"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass(\\\"ui-resizable-autohide\\\"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass(\\\"ui-resizable ui-resizable-disabled ui-resizable-resizing\\\").removeData(\\\"resizable\\\").removeData(\\\"ui-resizable\\\").unbind(\\\".resizable\\\").find(\\\".ui-resizable-handle\\\").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css(\\\"position\\\"),width:t.outerWidth(),height:t.outerHeight(),top:t.css(\\\"top\\\"),left:t.css(\\\"left\\\")}).insertAfter(t),t.remove()),this.originalElement.css(\\\"resize\\\",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css(\\\"left\\\")),s=this._num(this.helper.css(\\\"top\\\")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=\\\"number\\\"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(\\\".ui-resizable-\\\"+this.axis).css(\\\"cursor\\\"),e(\\\"body\\\").css(\\\"cursor\\\",\\\"auto\\\"===n?this.axis+\\\"-resize\\\":n),o.addClass(\\\"ui-resizable-resizing\\\"),this._propagate(\\\"start\\\",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate(\\\"resize\\\",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger(\\\"resize\\\",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],\\\"left\\\")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css(\\\"left\\\"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css(\\\"top\\\"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e(\\\"body\\\").css(\\\"cursor\\\",\\\"auto\\\"),this.element.removeClass(\\\"ui-resizable-resizing\\\"),this._propagate(\\\"stop\\\",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+\\\"px\\\"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+\\\"px\\\"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+\\\"px\\\"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+\\\"px\\\"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),\\\"sw\\\"===s&&(e.left=t.left+(i.width-e.width),e.top=null),\\\"nw\\\"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css(\\\"borderTopWidth\\\"),e.css(\\\"borderRightWidth\\\"),e.css(\\\"borderBottomWidth\\\"),e.css(\\\"borderLeftWidth\\\")],n=[e.css(\\\"paddingTop\\\"),e.css(\\\"paddingRight\\\"),e.css(\\\"paddingBottom\\\"),e.css(\\\"paddingLeft\\\")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e(\\\"<div style='overflow:hidden;'></div>\\\"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:\\\"absolute\\\",left:this.elementOffset.left+\\\"px\\\",top:this.elementOffset.top+\\\"px\\\",zIndex:++i.zIndex}),this.helper.appendTo(\\\"body\\\").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),\\\"resize\\\"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add(\\\"resizable\\\",\\\"animate\\\",{stop:function(t){var i=e(this).resizable(\\\"instance\\\"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],\\\"left\\\")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css(\\\"left\\\"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css(\\\"top\\\"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css(\\\"width\\\"),10),height:parseInt(i.element.css(\\\"height\\\"),10),top:parseInt(i.element.css(\\\"top\\\"),10),left:parseInt(i.element.css(\\\"left\\\"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate(\\\"resize\\\",t)}})}}),e.ui.plugin.add(\\\"resizable\\\",\\\"containment\\\",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable(\\\"instance\\\"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e([\\\"Top\\\",\\\"Right\\\",\\\"Left\\\",\\\"Bottom\\\"]).each(function(e,s){i[e]=h._num(t.css(\\\"padding\\\"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,\\\"left\\\")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable(\\\"instance\\\"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css(\\\"position\\\"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css(\\\"position\\\")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable(\\\"instance\\\"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css(\\\"position\\\"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css(\\\"position\\\"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add(\\\"resizable\\\",\\\"alsoResize\\\",{start:function(){var t=e(this).resizable(\\\"instance\\\"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data(\\\"ui-resizable-alsoresize\\\",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css(\\\"left\\\"),10),top:parseInt(t.css(\\\"top\\\"),10)})})},resize:function(t,i){var s=e(this).resizable(\\\"instance\\\"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data(\\\"ui-resizable-alsoresize\\\"),n={},a=t.parents(i.originalElement[0]).length?[\\\"width\\\",\\\"height\\\"]:[\\\"width\\\",\\\"height\\\",\\\"top\\\",\\\"left\\\"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData(\\\"resizable-alsoresize\\\")}}),e.ui.plugin.add(\\\"resizable\\\",\\\"ghost\\\",{start:function(){var t=e(this).resizable(\\\"instance\\\"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:\\\"block\\\",position:\\\"relative\\\",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass(\\\"ui-resizable-ghost\\\").addClass(\\\"string\\\"==typeof i.ghost?i.ghost:\\\"\\\"),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable(\\\"instance\\\");t.ghost&&t.ghost.css({position:\\\"relative\\\",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable(\\\"instance\\\");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add(\\\"resizable\\\",\\\"grid\\\",{resize:function(){var t,i=e(this).resizable(\\\"instance\\\"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h=\\\"number\\\"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget(\\\"ui.selectable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",options:{appendTo:\\\"body\\\",autoRefresh:!0,distance:0,filter:\\\"*\\\",tolerance:\\\"touch\\\",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;\\nthis.element.addClass(\\\"ui-selectable\\\"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass(\\\"ui-selectee\\\"),t.each(function(){var t=e(this),i=t.offset();e.data(this,\\\"selectable-item\\\",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass(\\\"ui-selected\\\"),selecting:t.hasClass(\\\"ui-selecting\\\"),unselecting:t.hasClass(\\\"ui-unselecting\\\")})})},this.refresh(),this.selectees=t.addClass(\\\"ui-selectee\\\"),this._mouseInit(),this.helper=e(\\\"<div class='ui-selectable-helper'></div>\\\")},_destroy:function(){this.selectees.removeClass(\\\"ui-selectee\\\").removeData(\\\"selectable-item\\\"),this.element.removeClass(\\\"ui-selectable ui-selectable-disabled\\\"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger(\\\"start\\\",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(\\\".ui-selected\\\").each(function(){var s=e.data(this,\\\"selectable-item\\\");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass(\\\"ui-selected\\\"),s.selected=!1,s.$element.addClass(\\\"ui-unselecting\\\"),s.unselecting=!0,i._trigger(\\\"unselecting\\\",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,\\\"selectable-item\\\");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass(\\\"ui-selected\\\"),n.$element.removeClass(s?\\\"ui-unselecting\\\":\\\"ui-selected\\\").addClass(s?\\\"ui-selecting\\\":\\\"ui-unselecting\\\"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger(\\\"selecting\\\",t,{selecting:n.element}):i._trigger(\\\"unselecting\\\",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,\\\"selectable-item\\\"),l=!1;i&&i.element!==s.element[0]&&(\\\"touch\\\"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):\\\"fit\\\"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass(\\\"ui-selected\\\"),i.selected=!1),i.unselecting&&(i.$element.removeClass(\\\"ui-unselecting\\\"),i.unselecting=!1),i.selecting||(i.$element.addClass(\\\"ui-selecting\\\"),i.selecting=!0,s._trigger(\\\"selecting\\\",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass(\\\"ui-selecting\\\"),i.selecting=!1,i.$element.addClass(\\\"ui-selected\\\"),i.selected=!0):(i.$element.removeClass(\\\"ui-selecting\\\"),i.selecting=!1,i.startselected&&(i.$element.addClass(\\\"ui-unselecting\\\"),i.unselecting=!0),s._trigger(\\\"unselecting\\\",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass(\\\"ui-selected\\\"),i.selected=!1,i.$element.addClass(\\\"ui-unselecting\\\"),i.unselecting=!0,s._trigger(\\\"unselecting\\\",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(\\\".ui-unselecting\\\",this.element[0]).each(function(){var s=e.data(this,\\\"selectable-item\\\");s.$element.removeClass(\\\"ui-unselecting\\\"),s.unselecting=!1,s.startselected=!1,i._trigger(\\\"unselected\\\",t,{unselected:s.element})}),e(\\\".ui-selecting\\\",this.element[0]).each(function(){var s=e.data(this,\\\"selectable-item\\\");s.$element.removeClass(\\\"ui-selecting\\\").addClass(\\\"ui-selected\\\"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger(\\\"selected\\\",t,{selected:s.element})}),this._trigger(\\\"stop\\\",t),this.helper.remove(),!1}}),e.widget(\\\"ui.sortable\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"sort\\\",ready:!1,options:{appendTo:\\\"parent\\\",axis:!1,connectWith:!1,containment:!1,cursor:\\\"auto\\\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\\\"original\\\",items:\\\"> *\\\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\\\"default\\\",tolerance:\\\"intersect\\\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css(\\\"float\\\"))||/inline|table-cell/.test(e.css(\\\"display\\\"))},_create:function(){this.containerCache={},this.element.addClass(\\\"ui-sortable\\\"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),\\\"handle\\\"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(\\\".ui-sortable-handle\\\").removeClass(\\\"ui-sortable-handle\\\"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass(\\\"ui-sortable-handle\\\")})},_destroy:function(){this.element.removeClass(\\\"ui-sortable ui-sortable-disabled\\\").find(\\\".ui-sortable-handle\\\").removeClass(\\\"ui-sortable-handle\\\"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+\\\"-item\\\");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||\\\"static\\\"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+\\\"-item\\\")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+\\\"-item\\\")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find(\\\"*\\\").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\\\"position\\\",\\\"absolute\\\"),this.cssPosition=this.helper.css(\\\"position\\\"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&\\\"auto\\\"!==o.cursor&&(a=this.document.find(\\\"body\\\"),this.storedCursor=a.css(\\\"cursor\\\"),a.css(\\\"cursor\\\",o.cursor),this.storedStylesheet=e(\\\"<style>*{ cursor: \\\"+o.cursor+\\\" !important; }</style>\\\").appendTo(a)),o.opacity&&(this.helper.css(\\\"opacity\\\")&&(this._storedOpacity=this.helper.css(\\\"opacity\\\")),this.helper.css(\\\"opacity\\\",o.opacity)),o.zIndex&&(this.helper.css(\\\"zIndex\\\")&&(this._storedZIndex=this.helper.css(\\\"zIndex\\\")),this.helper.css(\\\"zIndex\\\",o.zIndex)),this.scrollParent[0]!==this.document[0]&&\\\"HTML\\\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\\\"start\\\",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger(\\\"activate\\\",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass(\\\"ui-sortable-helper\\\"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&\\\"HTML\\\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo(\\\"absolute\\\"),this.options.axis&&\\\"y\\\"===this.options.axis||(this.helper[0].style.left=this.position.left+\\\"px\\\"),this.options.axis&&\\\"x\\\"===this.options.axis||(this.helper[0].style.top=this.position.top+\\\"px\\\"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?\\\"next\\\":\\\"prev\\\"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&(\\\"semi-dynamic\\\"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?\\\"down\\\":\\\"up\\\",\\\"pointer\\\"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger(\\\"change\\\",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger(\\\"sort\\\",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&\\\"x\\\"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&\\\"y\\\"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),\\\"original\\\"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass(\\\"ui-sortable-helper\\\"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger(\\\"deactivate\\\",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger(\\\"out\\\",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\\\"original\\\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||\\\"id\\\")||\\\"\\\").match(t.expression||/(.+)[\\\\-=_](.+)/);i&&s.push((t.key||i[1]+\\\"[]\\\")+\\\"=\\\"+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+\\\"=\\\"),s.join(\\\"&\\\")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||\\\"id\\\")||\\\"\\\")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d=\\\"x\\\"===this.options.axis||s+l>r&&h>s+l,c=\\\"y\\\"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return\\\"pointer\\\"===this.options.tolerance||this.options.forcePointerForContainers||\\\"pointer\\\"!==this.options.tolerance&&this.helperProportions[this.floating?\\\"width\\\":\\\"height\\\"]>e[this.floating?\\\"width\\\":\\\"height\\\"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t=\\\"x\\\"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i=\\\"y\\\"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&\\\"right\\\"===a||\\\"down\\\"===n?2:1:n&&(\\\"down\\\"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?\\\"right\\\"===n&&i||\\\"left\\\"===n&&!i:s&&(\\\"down\\\"===s&&t||\\\"up\\\"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?\\\"down\\\":\\\"up\\\")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?\\\"right\\\":\\\"left\\\")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(\\\".ui-sortable-helper\\\").not(\\\".ui-sortable-placeholder\\\"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(\\\".ui-sortable-helper\\\").not(\\\".ui-sortable-placeholder\\\"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(\\\":data(\\\"+this.widgetName+\\\"-item)\\\");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+\\\"-item\\\",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?\\\"x\\\"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e(\\\"<\\\"+s+\\\">\\\",t.document[0]).addClass(i||t.currentItem[0].className+\\\" ui-sortable-placeholder\\\").removeClass(\\\"ui-sortable-helper\\\");return\\\"tbody\\\"===s?t._createTrPlaceholder(t.currentItem.find(\\\"tr\\\").eq(0),e(\\\"<tr>\\\",t.document[0]).appendTo(n)):\\\"tr\\\"===s?t._createTrPlaceholder(t.currentItem,n):\\\"img\\\"===s&&n.attr(\\\"src\\\",t.currentItem.attr(\\\"src\\\")),i||n.css(\\\"visibility\\\",\\\"hidden\\\"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css(\\\"paddingTop\\\")||0,10)-parseInt(t.currentItem.css(\\\"paddingBottom\\\")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css(\\\"paddingLeft\\\")||0,10)-parseInt(t.currentItem.css(\\\"paddingRight\\\")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e(\\\"<td>&#160;</td>\\\",s.document[0]).attr(\\\"colspan\\\",e(this).attr(\\\"colspan\\\")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger(\\\"out\\\",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger(\\\"over\\\",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?\\\"left\\\":\\\"top\\\",r=u?\\\"width\\\":\\\"height\\\",d=u?\\\"clientX\\\":\\\"clientY\\\",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?\\\"up\\\":\\\"down\\\"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger(\\\"over\\\",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger(\\\"change\\\",t,this._uiHash()),this.containers[p]._trigger(\\\"change\\\",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger(\\\"over\\\",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):\\\"clone\\\"===i.helper?this.currentItem.clone():this.currentItem;return s.parents(\\\"body\\\").length||e(\\\"parent\\\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\\\"position\\\"),top:this.currentItem.css(\\\"top\\\"),left:this.currentItem.css(\\\"left\\\")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){\\\"string\\\"==typeof t&&(t=t.split(\\\" \\\")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),\\\"left\\\"in t&&(this.offset.click.left=t.left+this.margins.left),\\\"right\\\"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),\\\"top\\\"in t&&(this.offset.click.top=t.top+this.margins.top),\\\"bottom\\\"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return\\\"absolute\\\"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&\\\"html\\\"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css(\\\"borderTopWidth\\\"),10)||0),left:t.left+(parseInt(this.offsetParent.css(\\\"borderLeftWidth\\\"),10)||0)}},_getRelativeOffset:function(){if(\\\"relative\\\"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css(\\\"top\\\"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css(\\\"left\\\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\\\"marginLeft\\\"),10)||0,top:parseInt(this.currentItem.css(\\\"marginTop\\\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;\\\"parent\\\"===n.containment&&(n.containment=this.helper[0].parentNode),(\\\"document\\\"===n.containment||\\\"window\\\"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,\\\"document\\\"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(\\\"document\\\"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s=\\\"hidden\\\"!==e(t).css(\\\"overflow\\\"),this.containment=[i.left+(parseInt(e(t).css(\\\"borderLeftWidth\\\"),10)||0)+(parseInt(e(t).css(\\\"paddingLeft\\\"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css(\\\"borderTopWidth\\\"),10)||0)+(parseInt(e(t).css(\\\"paddingTop\\\"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css(\\\"borderLeftWidth\\\"),10)||0)-(parseInt(e(t).css(\\\"paddingRight\\\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css(\\\"borderTopWidth\\\"),10)||0)-(parseInt(e(t).css(\\\"paddingBottom\\\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s=\\\"absolute\\\"===t?1:-1,n=\\\"absolute\\\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r=\\\"absolute\\\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return\\\"relative\\\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\\\"fixed\\\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],\\\"down\\\"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)(\\\"auto\\\"===this._storedCSS[s]||\\\"static\\\"===this._storedCSS[s])&&(this._storedCSS[s]=\\\"\\\");this.currentItem.css(this._storedCSS).removeClass(\\\"ui-sortable-helper\\\")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger(\\\"receive\\\",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\\\".ui-sortable-helper\\\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger(\\\"update\\\",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger(\\\"remove\\\",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger(\\\"receive\\\",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger(\\\"update\\\",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i(\\\"deactivate\\\",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i(\\\"out\\\",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find(\\\"body\\\").css(\\\"cursor\\\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\\\"opacity\\\",this._storedOpacity),this._storedZIndex&&this.helper.css(\\\"zIndex\\\",\\\"auto\\\"===this._storedZIndex?\\\"\\\":this._storedZIndex),this.dragging=!1,t||this._trigger(\\\"beforeStop\\\",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger(\\\"stop\\\",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget(\\\"ui.accordion\\\",{version:\\\"1.11.4\\\",options:{active:0,animate:{},collapsible:!1,event:\\\"click\\\",header:\\\"> li > :first-child,> :not(li):even\\\",heightStyle:\\\"auto\\\",icons:{activeHeader:\\\"ui-icon-triangle-1-s\\\",header:\\\"ui-icon-triangle-1-e\\\"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:\\\"hide\\\",borderBottomWidth:\\\"hide\\\",paddingTop:\\\"hide\\\",paddingBottom:\\\"hide\\\",height:\\\"hide\\\"},showProps:{borderTopWidth:\\\"show\\\",borderBottomWidth:\\\"show\\\",paddingTop:\\\"show\\\",paddingBottom:\\\"show\\\",height:\\\"show\\\"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass(\\\"ui-accordion ui-widget ui-helper-reset\\\").attr(\\\"role\\\",\\\"tablist\\\"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e(\\\"<span>\\\").addClass(\\\"ui-accordion-header-icon ui-icon \\\"+t.header).prependTo(this.headers),this.active.children(\\\".ui-accordion-header-icon\\\").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass(\\\"ui-accordion-icons\\\"))},_destroyIcons:function(){this.headers.removeClass(\\\"ui-accordion-icons\\\").children(\\\".ui-accordion-header-icon\\\").remove()},_destroy:function(){var e;this.element.removeClass(\\\"ui-accordion ui-widget ui-helper-reset\\\").removeAttr(\\\"role\\\"),this.headers.removeClass(\\\"ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-expanded\\\").removeAttr(\\\"aria-selected\\\").removeAttr(\\\"aria-controls\\\").removeAttr(\\\"tabIndex\\\").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass(\\\"ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled\\\").css(\\\"display\\\",\\\"\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-hidden\\\").removeAttr(\\\"aria-labelledby\\\").removeUniqueId(),\\\"content\\\"!==this.options.heightStyle&&e.css(\\\"height\\\",\\\"\\\")},_setOption:function(e,t){return\\\"active\\\"===e?(this._activate(t),void 0):(\\\"event\\\"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),\\\"collapsible\\\"!==e||t||this.options.active!==!1||this._activate(0),\\\"icons\\\"===e&&(this._destroyIcons(),t&&this._createIcons()),\\\"disabled\\\"===e&&(this.element.toggleClass(\\\"ui-state-disabled\\\",!!t).attr(\\\"aria-disabled\\\",t),this.headers.add(this.headers.next()).toggleClass(\\\"ui-state-disabled\\\",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr(\\\"tabIndex\\\",-1),e(a).attr(\\\"tabIndex\\\",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(\\\".ui-state-disabled\\\").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass(\\\"ui-accordion-header ui-state-default ui-corner-all\\\"),this.panels=this.headers.next().addClass(\\\"ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\\\").filter(\\\":not(.ui-accordion-content-active)\\\").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))\\n},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass(\\\"ui-accordion-header-active ui-state-active ui-corner-top\\\").removeClass(\\\"ui-corner-all\\\"),this.active.next().addClass(\\\"ui-accordion-content-active\\\").show(),this.headers.attr(\\\"role\\\",\\\"tab\\\").each(function(){var t=e(this),i=t.uniqueId().attr(\\\"id\\\"),s=t.next(),n=s.uniqueId().attr(\\\"id\\\");t.attr(\\\"aria-controls\\\",n),s.attr(\\\"aria-labelledby\\\",i)}).next().attr(\\\"role\\\",\\\"tabpanel\\\"),this.headers.not(this.active).attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\",tabIndex:-1}).next().attr({\\\"aria-hidden\\\":\\\"true\\\"}).hide(),this.active.length?this.active.attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0}).next().attr({\\\"aria-hidden\\\":\\\"false\\\"}):this.headers.eq(0).attr(\\\"tabIndex\\\",0),this._createIcons(),this._setupEvents(i.event),\\\"fill\\\"===s?(t=n.height(),this.element.siblings(\\\":visible\\\").each(function(){var i=e(this),s=i.css(\\\"position\\\");\\\"absolute\\\"!==s&&\\\"fixed\\\"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css(\\\"overflow\\\",\\\"auto\\\")):\\\"auto\\\"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css(\\\"height\\\",\\\"\\\").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return\\\"number\\\"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:\\\"_keydown\\\"};t&&e.each(t.split(\\\" \\\"),function(e,t){i[t]=\\\"_eventHandler\\\"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:\\\"_panelKeyDown\\\"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger(\\\"beforeActivate\\\",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass(\\\"ui-accordion-header-active ui-state-active\\\"),i.icons&&s.children(\\\".ui-accordion-header-icon\\\").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass(\\\"ui-corner-all\\\").addClass(\\\"ui-accordion-header-active ui-state-active ui-corner-top\\\"),i.icons&&n.children(\\\".ui-accordion-header-icon\\\").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass(\\\"ui-accordion-content-active\\\")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({\\\"aria-hidden\\\":\\\"true\\\"}),s.prev().attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\"}),i.length&&s.length?s.prev().attr({tabIndex:-1,\\\"aria-expanded\\\":\\\"false\\\"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr(\\\"tabIndex\\\"),10)}).attr(\\\"tabIndex\\\",-1),i.attr(\\\"aria-hidden\\\",\\\"false\\\").prev().attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css(\\\"box-sizing\\\"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return\\\"number\\\"==typeof d&&(a=d),\\\"string\\\"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),\\\"height\\\"!==i.prop?\\\"content-box\\\"===h&&(r+=i.now):\\\"content\\\"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass(\\\"ui-accordion-content-active\\\").prev().removeClass(\\\"ui-corner-top\\\").addClass(\\\"ui-corner-all\\\"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger(\\\"activate\\\",null,e)}}),e.widget(\\\"ui.menu\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<ul>\\\",delay:300,options:{icons:{submenu:\\\"ui-icon-carat-1-e\\\"},items:\\\"> *\\\",menus:\\\"ul\\\",position:{my:\\\"left-1 top\\\",at:\\\"right top\\\"},role:\\\"menu\\\",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass(\\\"ui-menu ui-widget ui-widget-content\\\").toggleClass(\\\"ui-menu-icons\\\",!!this.element.find(\\\".ui-icon\\\").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass(\\\"ui-state-disabled\\\").attr(\\\"aria-disabled\\\",\\\"true\\\"),this._on({\\\"mousedown .ui-menu-item\\\":function(e){e.preventDefault()},\\\"click .ui-menu-item\\\":function(t){var i=e(t.target);!this.mouseHandled&&i.not(\\\".ui-state-disabled\\\").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(\\\".ui-menu\\\").length?this.expand(t):!this.element.is(\\\":focus\\\")&&e(this.document[0].activeElement).closest(\\\".ui-menu\\\").length&&(this.element.trigger(\\\"focus\\\",[!0]),this.active&&1===this.active.parents(\\\".ui-menu\\\").length&&clearTimeout(this.timer)))},\\\"mouseenter .ui-menu-item\\\":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(\\\".ui-state-active\\\").removeClass(\\\"ui-state-active\\\"),this.focus(t,i)}},mouseleave:\\\"collapseAll\\\",\\\"mouseleave .ui-menu\\\":\\\"collapseAll\\\",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:\\\"_keydown\\\"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr(\\\"aria-activedescendant\\\").find(\\\".ui-menu\\\").addBack().removeClass(\\\"ui-menu ui-widget ui-widget-content ui-menu-icons ui-front\\\").removeAttr(\\\"role\\\").removeAttr(\\\"tabIndex\\\").removeAttr(\\\"aria-labelledby\\\").removeAttr(\\\"aria-expanded\\\").removeAttr(\\\"aria-hidden\\\").removeAttr(\\\"aria-disabled\\\").removeUniqueId().show(),this.element.find(\\\".ui-menu-item\\\").removeClass(\\\"ui-menu-item\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-disabled\\\").removeUniqueId().removeClass(\\\"ui-state-hover\\\").removeAttr(\\\"tabIndex\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-haspopup\\\").children().each(function(){var t=e(this);t.data(\\\"ui-menu-submenu-carat\\\")&&t.remove()}),this.element.find(\\\".ui-menu-divider\\\").removeClass(\\\"ui-menu-divider ui-widget-content\\\")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move(\\\"first\\\",\\\"first\\\",t);break;case e.ui.keyCode.END:this._move(\\\"last\\\",\\\"last\\\",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(\\\".ui-state-disabled\\\")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||\\\"\\\",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(\\\".ui-menu-item\\\"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(\\\".ui-state-disabled\\\")||(this.active.is(\\\"[aria-haspopup='true']\\\")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass(\\\"ui-menu-icons\\\",!!this.element.find(\\\".ui-icon\\\").length),a.filter(\\\":not(.ui-menu)\\\").addClass(\\\"ui-menu ui-widget ui-widget-content ui-front\\\").hide().attr({role:this.options.role,\\\"aria-hidden\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"false\\\"}).each(function(){var t=e(this),i=t.parent(),s=e(\\\"<span>\\\").addClass(\\\"ui-menu-icon ui-icon \\\"+n).data(\\\"ui-menu-submenu-carat\\\",!0);i.attr(\\\"aria-haspopup\\\",\\\"true\\\").prepend(s),t.attr(\\\"aria-labelledby\\\",i.attr(\\\"id\\\"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(\\\".ui-menu-item\\\").each(function(){var t=e(this);s._isDivider(t)&&t.addClass(\\\"ui-widget-content ui-menu-divider\\\")}),i.not(\\\".ui-menu-item, .ui-menu-divider\\\").addClass(\\\"ui-menu-item\\\").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(\\\".ui-state-disabled\\\").attr(\\\"aria-disabled\\\",\\\"true\\\"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:\\\"menuitem\\\",listbox:\\\"option\\\"}[this.options.role]},_setOption:function(e,t){\\\"icons\\\"===e&&this.element.find(\\\".ui-menu-icon\\\").removeClass(this.options.icons.submenu).addClass(t.submenu),\\\"disabled\\\"===e&&this.element.toggleClass(\\\"ui-state-disabled\\\",!!t).attr(\\\"aria-disabled\\\",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&\\\"focus\\\"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass(\\\"ui-state-focus\\\").removeClass(\\\"ui-state-active\\\"),this.options.role&&this.element.attr(\\\"aria-activedescendant\\\",s.attr(\\\"id\\\")),this.active.parent().closest(\\\".ui-menu-item\\\").addClass(\\\"ui-state-active\\\"),e&&\\\"keydown\\\"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(\\\".ui-menu\\\"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger(\\\"focus\\\",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],\\\"borderTopWidth\\\"))||0,s=parseFloat(e.css(this.activeMenu[0],\\\"paddingTop\\\"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass(\\\"ui-state-focus\\\"),this.active=null,this._trigger(\\\"blur\\\",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),\\\"true\\\"===e.attr(\\\"aria-hidden\\\")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(\\\".ui-menu\\\").not(t.parents(\\\".ui-menu\\\")).hide().attr(\\\"aria-hidden\\\",\\\"true\\\"),t.show().removeAttr(\\\"aria-hidden\\\").attr(\\\"aria-expanded\\\",\\\"true\\\").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(\\\".ui-menu\\\"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(\\\".ui-menu\\\").hide().attr(\\\"aria-hidden\\\",\\\"true\\\").attr(\\\"aria-expanded\\\",\\\"false\\\").end().find(\\\".ui-state-active\\\").not(\\\".ui-state-focus\\\").removeClass(\\\"ui-state-active\\\")},_closeOnDocumentClick:function(t){return!e(t.target).closest(\\\".ui-menu\\\").length},_isDivider:function(e){return!/[^\\\\-\\\\u2014\\\\u2013\\\\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(\\\".ui-menu-item\\\",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(\\\".ui-menu \\\").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move(\\\"next\\\",\\\"first\\\",e)},previous:function(e){this._move(\\\"prev\\\",\\\"last\\\",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(\\\".ui-menu-item\\\").length},isLastItem:function(){return this.active&&!this.active.nextAll(\\\".ui-menu-item\\\").length},_move:function(e,t,i){var s;this.active&&(s=\\\"first\\\"===e||\\\"last\\\"===e?this.active[\\\"first\\\"===e?\\\"prevAll\\\":\\\"nextAll\\\"](\\\".ui-menu-item\\\").eq(-1):this.active[e+\\\"All\\\"](\\\".ui-menu-item\\\").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(\\\".ui-menu-item\\\").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?\\\"last\\\":\\\"first\\\"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(\\\".ui-menu-item\\\").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop(\\\"scrollHeight\\\")},select:function(t){this.active=this.active||e(t.target).closest(\\\".ui-menu-item\\\");var i={item:this.active};this.active.has(\\\".ui-menu\\\").length||this.collapseAll(t,!0),this._trigger(\\\"select\\\",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\\\\-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\^$|#\\\\s]/g,\\\"\\\\\\\\$&\\\"),s=RegExp(\\\"^\\\"+i,\\\"i\\\");return this.activeMenu.find(this.options.items).filter(\\\".ui-menu-item\\\").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget(\\\"ui.autocomplete\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<input>\\\",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:\\\"left top\\\",at:\\\"left bottom\\\",collision:\\\"none\\\"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a=\\\"textarea\\\"===n,o=\\\"input\\\"===n;this.isMultiLine=a?!0:o?!1:this.element.prop(\\\"isContentEditable\\\"),this.valueMethod=this.element[a||o?\\\"val\\\":\\\"text\\\"],this.isNewMenu=!0,this.element.addClass(\\\"ui-autocomplete-input\\\").attr(\\\"autocomplete\\\",\\\"off\\\"),this._on(this.element,{keydown:function(n){if(this.element.prop(\\\"readOnly\\\"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move(\\\"previousPage\\\",n);break;case a.PAGE_DOWN:t=!0,this._move(\\\"nextPage\\\",n);break;case a.UP:t=!0,this._keyEvent(\\\"previous\\\",n);break;case a.DOWN:t=!0,this._keyEvent(\\\"next\\\",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(\\\":visible\\\")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(\\\":visible\\\"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move(\\\"previousPage\\\",s);break;case n.PAGE_DOWN:this._move(\\\"nextPage\\\",s);break;case n.UP:this._keyEvent(\\\"previous\\\",s);break;case n.DOWN:this._keyEvent(\\\"next\\\",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e(\\\"<ul>\\\").addClass(\\\"ui-autocomplete ui-front\\\").appendTo(this._appendTo()).menu({role:null}).hide().menu(\\\"instance\\\"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(\\\".ui-menu-item\\\").length||this._delay(function(){var t=this;this.document.one(\\\"mousedown\\\",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one(\\\"mousemove\\\",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data(\\\"ui-autocomplete-item\\\"),!1!==this._trigger(\\\"focus\\\",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr(\\\"aria-label\\\")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e(\\\"<div>\\\").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data(\\\"ui-autocomplete-item\\\"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger(\\\"select\\\",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e(\\\"<span>\\\",{role:\\\"status\\\",\\\"aria-live\\\":\\\"assertive\\\",\\\"aria-relevant\\\":\\\"additions\\\"}).addClass(\\\"ui-helper-hidden-accessible\\\").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\\\"autocomplete\\\")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass(\\\"ui-autocomplete-input\\\").removeAttr(\\\"autocomplete\\\"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),\\\"source\\\"===e&&this._initSource(),\\\"appendTo\\\"===e&&this.menu.element.appendTo(this._appendTo()),\\\"disabled\\\"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(\\\".ui-front\\\")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):\\\"string\\\"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:\\\"json\\\",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(\\\":visible\\\"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger(\\\"search\\\",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass(\\\"ui-autocomplete-loading\\\"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass(\\\"ui-autocomplete-loading\\\")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger(\\\"response\\\",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger(\\\"open\\\")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(\\\":visible\\\")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger(\\\"close\\\",e))},_change:function(e){this.previous!==this._value()&&this._trigger(\\\"change\\\",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return\\\"string\\\"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width(\\\"\\\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data(\\\"ui-autocomplete-item\\\",t)},_renderItem:function(t,i){return e(\\\"<li>\\\").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(\\\":visible\\\")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(\\\":visible\\\"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\\\\-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\^$|#\\\\s]/g,\\\"\\\\\\\\$&\\\")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),\\\"i\\\");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget(\\\"ui.autocomplete\\\",e.ui.autocomplete,{options:{messages:{noResults:\\\"No search results.\\\",results:function(e){return e+(e>1?\\\" results are\\\":\\\" result is\\\")+\\\" available, use up and down arrow keys to navigate.\\\"}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e(\\\"<div>\\\").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p=\\\"ui-button ui-widget ui-state-default ui-corner-all\\\",f=\\\"ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only\\\",m=function(){var t=e(this);setTimeout(function(){t.find(\\\":ui-button\\\").button(\\\"refresh\\\")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,\\\"\\\\\\\\'\\\"),n=s?e(s).find(\\\"[name='\\\"+i+\\\"'][type=radio]\\\"):e(\\\"[name='\\\"+i+\\\"'][type=radio]\\\",t.ownerDocument).filter(function(){return!this.form})),n};e.widget(\\\"ui.button\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<button>\\\",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest(\\\"form\\\").unbind(\\\"reset\\\"+this.eventNamespace).bind(\\\"reset\\\"+this.eventNamespace,m),\\\"boolean\\\"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop(\\\"disabled\\\"):this.element.prop(\\\"disabled\\\",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr(\\\"title\\\");var t=this,i=this.options,s=\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type,n=s?\\\"\\\":\\\"ui-state-active\\\";null===i.label&&(i.label=\\\"input\\\"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr(\\\"role\\\",\\\"button\\\").bind(\\\"mouseenter\\\"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass(\\\"ui-state-active\\\")}).bind(\\\"mouseleave\\\"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind(\\\"click\\\"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass(\\\"ui-state-focus\\\")},blur:function(){this.buttonElement.removeClass(\\\"ui-state-focus\\\")}}),s&&this.element.bind(\\\"change\\\"+this.eventNamespace,function(){t.refresh()}),\\\"checkbox\\\"===this.type?this.buttonElement.bind(\\\"click\\\"+this.eventNamespace,function(){return i.disabled?!1:void 0}):\\\"radio\\\"===this.type?this.buttonElement.bind(\\\"click\\\"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass(\\\"ui-state-active\\\"),t.buttonElement.attr(\\\"aria-pressed\\\",\\\"true\\\");var s=t.element[0];g(s).not(s).map(function(){return e(this).button(\\\"widget\\\")[0]}).removeClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"false\\\")}):(this.buttonElement.bind(\\\"mousedown\\\"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass(\\\"ui-state-active\\\"),c=this,t.document.one(\\\"mouseup\\\",function(){c=null}),void 0)}).bind(\\\"mouseup\\\"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass(\\\"ui-state-active\\\"),void 0)}).bind(\\\"keydown\\\"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass(\\\"ui-state-active\\\"),void 0)}).bind(\\\"keyup\\\"+this.eventNamespace+\\\" blur\\\"+this.eventNamespace,function(){e(this).removeClass(\\\"ui-state-active\\\")}),this.buttonElement.is(\\\"a\\\")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption(\\\"disabled\\\",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is(\\\"[type=checkbox]\\\")?\\\"checkbox\\\":this.element.is(\\\"[type=radio]\\\")?\\\"radio\\\":this.element.is(\\\"input\\\")?\\\"input\\\":\\\"button\\\",\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type?(e=this.element.parents().last(),t=\\\"label[for='\\\"+this.element.attr(\\\"id\\\")+\\\"']\\\",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass(\\\"ui-helper-hidden-accessible\\\"),i=this.element.is(\\\":checked\\\"),i&&this.buttonElement.addClass(\\\"ui-state-active\\\"),this.buttonElement.prop(\\\"aria-pressed\\\",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass(\\\"ui-helper-hidden-accessible\\\"),this.buttonElement.removeClass(p+\\\" ui-state-active \\\"+f).removeAttr(\\\"role\\\").removeAttr(\\\"aria-pressed\\\").html(this.buttonElement.find(\\\".ui-button-text\\\").html()),this.hasTitle||this.buttonElement.removeAttr(\\\"title\\\")},_setOption:function(e,t){return this._super(e,t),\\\"disabled\\\"===e?(this.widget().toggleClass(\\\"ui-state-disabled\\\",!!t),this.element.prop(\\\"disabled\\\",!!t),t&&(\\\"checkbox\\\"===this.type||\\\"radio\\\"===this.type?this.buttonElement.removeClass(\\\"ui-state-focus\\\"):this.buttonElement.removeClass(\\\"ui-state-focus ui-state-active\\\")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is(\\\"input, button\\\")?this.element.is(\\\":disabled\\\"):this.element.hasClass(\\\"ui-button-disabled\\\");t!==this.options.disabled&&this._setOption(\\\"disabled\\\",t),\\\"radio\\\"===this.type?g(this.element[0]).each(function(){e(this).is(\\\":checked\\\")?e(this).button(\\\"widget\\\").addClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"true\\\"):e(this).button(\\\"widget\\\").removeClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"false\\\")}):\\\"checkbox\\\"===this.type&&(this.element.is(\\\":checked\\\")?this.buttonElement.addClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"true\\\"):this.buttonElement.removeClass(\\\"ui-state-active\\\").attr(\\\"aria-pressed\\\",\\\"false\\\"))},_resetButton:function(){if(\\\"input\\\"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e(\\\"<span></span>\\\",this.document[0]).addClass(\\\"ui-button-text\\\").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push(\\\"ui-button-text-icon\\\"+(n?\\\"s\\\":s.primary?\\\"-primary\\\":\\\"-secondary\\\")),s.primary&&t.prepend(\\\"<span class='ui-button-icon-primary ui-icon \\\"+s.primary+\\\"'></span>\\\"),s.secondary&&t.append(\\\"<span class='ui-button-icon-secondary ui-icon \\\"+s.secondary+\\\"'></span>\\\"),this.options.text||(a.push(n?\\\"ui-button-icons-only\\\":\\\"ui-button-icon-only\\\"),this.hasTitle||t.attr(\\\"title\\\",e.trim(i)))):a.push(\\\"ui-button-text-only\\\"),t.addClass(a.join(\\\" \\\"))}}),e.widget(\\\"ui.buttonset\\\",{version:\\\"1.11.4\\\",options:{items:\\\"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)\\\"},_create:function(){this.element.addClass(\\\"ui-buttonset\\\")},_init:function(){this.refresh()},_setOption:function(e,t){\\\"disabled\\\"===e&&this.buttons.button(\\\"option\\\",e,t),this._super(e,t)},refresh:function(){var t=\\\"rtl\\\"===this.element.css(\\\"direction\\\"),i=this.element.find(this.options.items),s=i.filter(\\\":ui-button\\\");i.not(\\\":ui-button\\\").button(),s.button(\\\"refresh\\\"),this.buttons=i.map(function(){return e(this).button(\\\"widget\\\")[0]}).removeClass(\\\"ui-corner-all ui-corner-left ui-corner-right\\\").filter(\\\":first\\\").addClass(t?\\\"ui-corner-right\\\":\\\"ui-corner-left\\\").end().filter(\\\":last\\\").addClass(t?\\\"ui-corner-left\\\":\\\"ui-corner-right\\\").end().end()},_destroy:function(){this.element.removeClass(\\\"ui-buttonset\\\"),this.buttons.map(function(){return e(this).button(\\\"widget\\\")[0]}).removeClass(\\\"ui-corner-left ui-corner-right\\\").end().button(\\\"destroy\\\")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:\\\"1.11.4\\\"}});var v;e.extend(n.prototype,{markerClassName:\\\"hasDatepicker\\\",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n=\\\"div\\\"===s||\\\"span\\\"===s,t.id||(this.uuid+=1,t.id=\\\"dp\\\"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),\\\"input\\\"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\\\\-])/g,\\\"\\\\\\\\\\\\\\\\$1\\\");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e(\\\"<div class='\\\"+this._inlineClass+\\\" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>\\\")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,\\\"datepicker\\\",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,\\\"appendText\\\"),r=this._get(i,\\\"isRTL\\\");i.append&&i.append.remove(),o&&(i.append=e(\\\"<span class='\\\"+this._appendClass+\\\"'>\\\"+o+\\\"</span>\\\"),t[r?\\\"before\\\":\\\"after\\\"](i.append)),t.unbind(\\\"focus\\\",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,\\\"showOn\\\"),(\\\"focus\\\"===s||\\\"both\\\"===s)&&t.focus(this._showDatepicker),(\\\"button\\\"===s||\\\"both\\\"===s)&&(n=this._get(i,\\\"buttonText\\\"),a=this._get(i,\\\"buttonImage\\\"),i.trigger=e(this._get(i,\\\"buttonImageOnly\\\")?e(\\\"<img/>\\\").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e(\\\"<button type='button'></button>\\\").addClass(this._triggerClass).html(a?e(\\\"<img/>\\\").attr({src:a,alt:n,title:n}):n)),t[r?\\\"before\\\":\\\"after\\\"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,\\\"autoSize\\\")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,\\\"dateFormat\\\");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?\\\"monthNames\\\":\\\"monthNamesShort\\\"))),a.setDate(t(this._get(e,o.match(/DD/)?\\\"dayNames\\\":\\\"dayNamesShort\\\"))+20-a.getDay())),e.input.attr(\\\"size\\\",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,\\\"datepicker\\\",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css(\\\"display\\\",\\\"block\\\"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o=\\\"dp\\\"+this.uuid,this._dialogInput=e(\\\"<input type='text' id='\\\"+o+\\\"' style='position: absolute; top: -100px; width: 0px;'/>\\\"),this._dialogInput.keydown(this._doKeyDown),e(\\\"body\\\").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],\\\"datepicker\\\",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css(\\\"left\\\",this._pos[0]+20+\\\"px\\\").css(\\\"top\\\",this._pos[1]+\\\"px\\\"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],\\\"datepicker\\\",c),this\\n},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,\\\"datepicker\\\");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,\\\"datepicker\\\"),\\\"input\\\"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind(\\\"focus\\\",this._showDatepicker).unbind(\\\"keydown\\\",this._doKeyDown).unbind(\\\"keypress\\\",this._doKeyPress).unbind(\\\"keyup\\\",this._doKeyUp)):(\\\"div\\\"===i||\\\"span\\\"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,\\\"datepicker\\\");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\\\"input\\\"===i?(t.disabled=!1,a.trigger.filter(\\\"button\\\").each(function(){this.disabled=!1}).end().filter(\\\"img\\\").css({opacity:\\\"1.0\\\",cursor:\\\"\\\"})):(\\\"div\\\"===i||\\\"span\\\"===i)&&(s=n.children(\\\".\\\"+this._inlineClass),s.children().removeClass(\\\"ui-state-disabled\\\"),s.find(\\\"select.ui-datepicker-month, select.ui-datepicker-year\\\").prop(\\\"disabled\\\",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,\\\"datepicker\\\");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),\\\"input\\\"===i?(t.disabled=!0,a.trigger.filter(\\\"button\\\").each(function(){this.disabled=!0}).end().filter(\\\"img\\\").css({opacity:\\\"0.5\\\",cursor:\\\"default\\\"})):(\\\"div\\\"===i||\\\"span\\\"===i)&&(s=n.children(\\\".\\\"+this._inlineClass),s.children().addClass(\\\"ui-state-disabled\\\"),s.find(\\\"select.ui-datepicker-month, select.ui-datepicker-year\\\").prop(\\\"disabled\\\",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,\\\"datepicker\\\")}catch(i){throw\\\"Missing instance data for this datepicker\\\"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&\\\"string\\\"==typeof i?\\\"defaults\\\"===i?e.extend({},e.datepicker._defaults):l?\\\"all\\\"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},\\\"string\\\"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,\\\"min\\\"),h=this._getMinMaxDate(l,\\\"max\\\"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),\\\"disabled\\\"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(\\\".ui-datepicker-rtl\\\");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e(\\\"td.\\\"+e.datepicker._dayOverClass+\\\":not(.\\\"+e.datepicker._currentClass+\\\")\\\",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,\\\"onSelect\\\"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,\\\"stepBigMonths\\\"):-e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,\\\"stepBigMonths\\\"):+e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,\\\"D\\\"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,\\\"stepBigMonths\\\"):-e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,\\\"D\\\"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,\\\"D\\\"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,\\\"stepBigMonths\\\"):+e.datepicker._get(a,\\\"stepMonths\\\"),\\\"M\\\");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,\\\"D\\\"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,\\\"constrainInput\\\")?(i=e.datepicker._possibleChars(e.datepicker._get(n,\\\"dateFormat\\\")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||\\\" \\\">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,\\\"dateFormat\\\"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,\\\"input\\\"!==t.nodeName.toLowerCase()&&(t=e(\\\"input\\\",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,\\\"beforeShow\\\"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=\\\"\\\"),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|=\\\"fixed\\\"===e(this).css(\\\"position\\\"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:\\\"absolute\\\",display:\\\"block\\\",top:\\\"-1000px\\\"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?\\\"static\\\":o?\\\"fixed\\\":\\\"absolute\\\",display:\\\"none\\\",left:h.left+\\\"px\\\",top:h.top+\\\"px\\\"}),i.inline||(l=e.datepicker._get(i,\\\"showAnim\\\"),u=e.datepicker._get(i,\\\"duration\\\"),i.dpDiv.css(\\\"z-index\\\",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,\\\"showOptions\\\"),u):i.dpDiv[l||\\\"show\\\"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find(\\\".\\\"+this._dayOverClass+\\\" a\\\");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass(\\\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\\\").width(\\\"\\\"),n>1&&t.dpDiv.addClass(\\\"ui-datepicker-multi-\\\"+n).css(\\\"width\\\",a*n+\\\"em\\\"),t.dpDiv[(1!==s[0]||1!==s[1]?\\\"add\\\":\\\"remove\\\")+\\\"Class\\\"](\\\"ui-datepicker-multi\\\"),t.dpDiv[(this._get(t,\\\"isRTL\\\")?\\\"add\\\":\\\"remove\\\")+\\\"Class\\\"](\\\"ui-datepicker-rtl\\\"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find(\\\"select.ui-datepicker-year:first\\\").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(\\\":visible\\\")&&!e.input.is(\\\":disabled\\\")&&!e.input.is(\\\":focus\\\")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,\\\"isRTL\\\")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,\\\"isRTL\\\");t&&(\\\"hidden\\\"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?\\\"previousSibling\\\":\\\"nextSibling\\\"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,\\\"datepicker\\\")||this._datepickerShowing&&(i=this._get(o,\\\"showAnim\\\"),s=this._get(o,\\\"duration\\\"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,\\\"showOptions\\\"),s,n):o.dpDiv[\\\"slideDown\\\"===i?\\\"slideUp\\\":\\\"fadeIn\\\"===i?\\\"fadeOut\\\":\\\"hide\\\"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,\\\"onClose\\\"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():\\\"\\\",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\\\"absolute\\\",left:\\\"0\\\",top:\\\"-100px\\\"}),e.blockUI&&(e.unblockUI(),e(\\\"body\\\").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(\\\".ui-datepicker-calendar\\\")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents(\\\"#\\\"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest(\\\".\\\"+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+(\\\"M\\\"===s?this._get(a,\\\"showCurrentAtPos\\\"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,\\\"gotoCurrent\\\")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a[\\\"selected\\\"+(\\\"M\\\"===s?\\\"Month\\\":\\\"Year\\\")]=a[\\\"draw\\\"+(\\\"M\\\"===s?\\\"Month\\\":\\\"Year\\\")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e(\\\"a\\\",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,\\\"\\\")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,\\\"onSelect\\\"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger(\\\"change\\\"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],\\\"object\\\"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,\\\"altField\\\");a&&(i=this._get(t,\\\"altFormat\\\")||this._get(t,\\\"dateFormat\\\"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,\\\"\\\"]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw\\\"Invalid arguments\\\";if(i=\\\"object\\\"==typeof i?\\\"\\\"+i:i+\\\"\\\",\\\"\\\"===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u=\\\"string\\\"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s=\\\"@\\\"===e?14:\\\"!\\\"===e?20:\\\"y\\\"===e&&t?4:\\\"o\\\"===e?3:2,n=\\\"y\\\"===e?s:1,a=RegExp(\\\"^\\\\\\\\d{\\\"+n+\\\",\\\"+s+\\\"}\\\"),o=i.substring(h).match(a);if(!o)throw\\\"Missing number at position \\\"+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw\\\"Unknown name at position \\\"+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw\\\"Unexpected literal at position \\\"+h;h++};for(n=0;t.length>n;n++)if(b)\\\"'\\\"!==t.charAt(n)||_(\\\"'\\\")?k():b=!1;else switch(t.charAt(n)){case\\\"d\\\":v=x(\\\"d\\\");break;case\\\"D\\\":w(\\\"D\\\",d,c);break;case\\\"o\\\":y=x(\\\"o\\\");break;case\\\"m\\\":g=x(\\\"m\\\");break;case\\\"M\\\":g=w(\\\"M\\\",p,f);break;case\\\"y\\\":m=x(\\\"y\\\");break;case\\\"@\\\":r=new Date(x(\\\"@\\\")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case\\\"!\\\":r=new Date((x(\\\"!\\\")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case\\\"'\\\":_(\\\"'\\\")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\\\\s+/.test(o)))throw\\\"Extra/unparsed characters found in date: \\\"+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw\\\"Invalid date\\\";return r},ATOM:\\\"yy-mm-dd\\\",COOKIE:\\\"D, dd M yy\\\",ISO_8601:\\\"yy-mm-dd\\\",RFC_822:\\\"D, d M y\\\",RFC_850:\\\"DD, dd-M-y\\\",RFC_1036:\\\"D, d M y\\\",RFC_1123:\\\"D, d M yy\\\",RFC_2822:\\\"D, d M yy\\\",RSS:\\\"D, d M y\\\",TICKS:\\\"!\\\",TIMESTAMP:\\\"@\\\",W3C:\\\"yy-mm-dd\\\",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return\\\"\\\";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=\\\"\\\"+t;if(h(e))for(;i>s.length;)s=\\\"0\\\"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d=\\\"\\\",c=!1;if(t)for(s=0;e.length>s;s++)if(c)\\\"'\\\"!==e.charAt(s)||h(\\\"'\\\")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case\\\"d\\\":d+=l(\\\"d\\\",t.getDate(),2);break;case\\\"D\\\":d+=u(\\\"D\\\",t.getDay(),n,a);break;case\\\"o\\\":d+=l(\\\"o\\\",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case\\\"m\\\":d+=l(\\\"m\\\",t.getMonth()+1,2);break;case\\\"M\\\":d+=u(\\\"M\\\",t.getMonth(),o,r);break;case\\\"y\\\":d+=h(\\\"y\\\")?t.getFullYear():(10>t.getYear()%100?\\\"0\\\":\\\"\\\")+t.getYear()%100;break;case\\\"@\\\":d+=t.getTime();break;case\\\"!\\\":d+=1e4*t.getTime()+this._ticksTo1970;break;case\\\"'\\\":h(\\\"'\\\")?d+=\\\"'\\\":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i=\\\"\\\",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)\\\"'\\\"!==e.charAt(t)||n(\\\"'\\\")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case\\\"d\\\":case\\\"m\\\":case\\\"y\\\":case\\\"@\\\":i+=\\\"0123456789\\\";break;case\\\"D\\\":case\\\"M\\\":return null;case\\\"'\\\":n(\\\"'\\\")?i+=\\\"'\\\":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,\\\"dateFormat\\\"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?\\\"\\\":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,\\\"defaultDate\\\"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,\\\"dateFormat\\\"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\\\\-]?[0-9]+)\\\\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||\\\"d\\\"){case\\\"d\\\":case\\\"D\\\":r+=parseInt(l[1],10);break;case\\\"w\\\":case\\\"W\\\":r+=7*parseInt(l[1],10);break;case\\\"m\\\":case\\\"M\\\":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case\\\"y\\\":case\\\"Y\\\":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||\\\"\\\"===i?s:\\\"string\\\"==typeof i?a(i):\\\"number\\\"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&\\\"Invalid Date\\\"==\\\"\\\"+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?\\\"\\\":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&\\\"\\\"===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,\\\"stepMonths\\\"),s=\\\"#\\\"+t.id.replace(/\\\\\\\\\\\\\\\\/g,\\\"\\\\\\\\\\\");t.dpDiv.find(\\\"[data-handler]\\\").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,\\\"M\\\")},next:function(){e.datepicker._adjustDate(s,+i,\\\"M\\\")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute(\\\"data-month\\\"),+this.getAttribute(\\\"data-year\\\"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,\\\"M\\\"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,\\\"Y\\\"),!1}};e(this).bind(this.getAttribute(\\\"data-event\\\"),t[this.getAttribute(\\\"data-handler\\\")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,\\\"isRTL\\\"),B=this._get(e,\\\"showButtonPanel\\\"),J=this._get(e,\\\"hideIfNoPrevNext\\\"),q=this._get(e,\\\"navigationAsDateFormat\\\"),K=this._getNumberOfMonths(e),V=this._get(e,\\\"showCurrentAtPos\\\"),U=this._get(e,\\\"stepMonths\\\"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,\\\"min\\\"),$=this._getMinMaxDate(e,\\\"max\\\"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,\\\"prevText\\\"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?\\\"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='\\\"+i+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"e\\\":\\\"w\\\")+\\\"'>\\\"+i+\\\"</span></a>\\\":J?\\\"\\\":\\\"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='\\\"+i+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"e\\\":\\\"w\\\")+\\\"'>\\\"+i+\\\"</span></a>\\\",n=this._get(e,\\\"nextText\\\"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?\\\"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='\\\"+n+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"w\\\":\\\"e\\\")+\\\"'>\\\"+n+\\\"</span></a>\\\":J?\\\"\\\":\\\"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='\\\"+n+\\\"'><span class='ui-icon ui-icon-circle-triangle-\\\"+(Y?\\\"w\\\":\\\"e\\\")+\\\"'>\\\"+n+\\\"</span></a>\\\",o=this._get(e,\\\"currentText\\\"),r=this._get(e,\\\"gotoCurrent\\\")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?\\\"\\\":\\\"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>\\\"+this._get(e,\\\"closeText\\\")+\\\"</button>\\\",l=B?\\\"<div class='ui-datepicker-buttonpane ui-widget-content'>\\\"+(Y?h:\\\"\\\")+(this._isInRange(e,r)?\\\"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>\\\"+o+\\\"</button>\\\":\\\"\\\")+(Y?\\\"\\\":h)+\\\"</div>\\\":\\\"\\\",u=parseInt(this._get(e,\\\"firstDay\\\"),10),u=isNaN(u)?0:u,d=this._get(e,\\\"showWeek\\\"),c=this._get(e,\\\"dayNames\\\"),p=this._get(e,\\\"dayNamesMin\\\"),f=this._get(e,\\\"monthNames\\\"),m=this._get(e,\\\"monthNamesShort\\\"),g=this._get(e,\\\"beforeShowDay\\\"),v=this._get(e,\\\"showOtherMonths\\\"),y=this._get(e,\\\"selectOtherMonths\\\"),b=this._getDefaultDate(e),_=\\\"\\\",w=0;K[0]>w;w++){for(k=\\\"\\\",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=\\\" ui-corner-all\\\",M=\\\"\\\",Q){if(M+=\\\"<div class='ui-datepicker-group\\\",K[1]>1)switch(T){case 0:M+=\\\" ui-datepicker-group-first\\\",S=\\\" ui-corner-\\\"+(Y?\\\"right\\\":\\\"left\\\");break;case K[1]-1:M+=\\\" ui-datepicker-group-last\\\",S=\\\" ui-corner-\\\"+(Y?\\\"left\\\":\\\"right\\\");break;default:M+=\\\" ui-datepicker-group-middle\\\",S=\\\"\\\"}M+=\\\"'>\\\"}for(M+=\\\"<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix\\\"+S+\\\"'>\\\"+(/all|left/.test(S)&&0===w?Y?a:s:\\\"\\\")+(/all|right/.test(S)&&0===w?Y?s:a:\\\"\\\")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+\\\"</div><table class='ui-datepicker-calendar'><thead>\\\"+\\\"<tr>\\\",C=d?\\\"<th class='ui-datepicker-week-col'>\\\"+this._get(e,\\\"weekHeader\\\")+\\\"</th>\\\":\\\"\\\",x=0;7>x;x++)N=(x+u)%7,C+=\\\"<th scope='col'\\\"+((x+u+6)%7>=5?\\\" class='ui-datepicker-week-end'\\\":\\\"\\\")+\\\">\\\"+\\\"<span title='\\\"+c[N]+\\\"'>\\\"+p[N]+\\\"</span></th>\\\";for(M+=C+\\\"</tr></thead><tbody>\\\",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+=\\\"<tr>\\\",E=d?\\\"<td class='ui-datepicker-week-col'>\\\"+this._get(e,\\\"calculateWeek\\\")(z)+\\\"</td>\\\":\\\"\\\",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,\\\"\\\"],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+=\\\"<td class='\\\"+((x+u+6)%7>=5?\\\" ui-datepicker-week-end\\\":\\\"\\\")+(j?\\\" ui-datepicker-other-month\\\":\\\"\\\")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?\\\" \\\"+this._dayOverClass:\\\"\\\")+(W?\\\" \\\"+this._unselectableClass+\\\" ui-state-disabled\\\":\\\"\\\")+(j&&!v?\\\"\\\":\\\" \\\"+O[1]+(z.getTime()===G.getTime()?\\\" \\\"+this._currentClass:\\\"\\\")+(z.getTime()===R.getTime()?\\\" ui-datepicker-today\\\":\\\"\\\"))+\\\"'\\\"+(j&&!v||!O[2]?\\\"\\\":\\\" title='\\\"+O[2].replace(/'/g,\\\"&#39;\\\")+\\\"'\\\")+(W?\\\"\\\":\\\" data-handler='selectDay' data-event='click' data-month='\\\"+z.getMonth()+\\\"' data-year='\\\"+z.getFullYear()+\\\"'\\\")+\\\">\\\"+(j&&!v?\\\"&#xa0;\\\":W?\\\"<span class='ui-state-default'>\\\"+z.getDate()+\\\"</span>\\\":\\\"<a class='ui-state-default\\\"+(z.getTime()===R.getTime()?\\\" ui-state-highlight\\\":\\\"\\\")+(z.getTime()===G.getTime()?\\\" ui-state-active\\\":\\\"\\\")+(j?\\\" ui-priority-secondary\\\":\\\"\\\")+\\\"' href='#'>\\\"+z.getDate()+\\\"</a>\\\")+\\\"</td>\\\",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+\\\"</tr>\\\"}Z++,Z>11&&(Z=0,et++),M+=\\\"</tbody></table>\\\"+(Q?\\\"</div>\\\"+(K[0]>0&&T===K[1]-1?\\\"<div class='ui-datepicker-row-break'></div>\\\":\\\"\\\"):\\\"\\\"),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,\\\"changeMonth\\\"),v=this._get(e,\\\"changeYear\\\"),y=this._get(e,\\\"showMonthAfterYear\\\"),b=\\\"<div class='ui-datepicker-title'>\\\",_=\\\"\\\";if(a||!g)_+=\\\"<span class='ui-datepicker-month'>\\\"+o[t]+\\\"</span>\\\";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+=\\\"<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>\\\",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+=\\\"<option value='\\\"+u+\\\"'\\\"+(u===t?\\\" selected='selected'\\\":\\\"\\\")+\\\">\\\"+r[u]+\\\"</option>\\\");_+=\\\"</select>\\\"}if(y||(b+=_+(!a&&g&&v?\\\"\\\":\\\"&#xa0;\\\")),!e.yearshtml)if(e.yearshtml=\\\"\\\",a||!v)b+=\\\"<span class='ui-datepicker-year'>\\\"+i+\\\"</span>\\\";else{for(d=this._get(e,\\\"yearRange\\\").split(\\\":\\\"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\\\\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\\\\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||\\\"\\\")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+=\\\"<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>\\\";m>=f;f++)e.yearshtml+=\\\"<option value='\\\"+f+\\\"'\\\"+(f===i?\\\" selected='selected'\\\":\\\"\\\")+\\\">\\\"+f+\\\"</option>\\\";e.yearshtml+=\\\"</select>\\\",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,\\\"yearSuffix\\\"),y&&(b+=(!a&&g&&v?\\\"\\\":\\\"&#xa0;\\\")+_),b+=\\\"</div>\\\"},_adjustInstDate:function(e,t,i){var s=e.drawYear+(\\\"Y\\\"===i?t:0),n=e.drawMonth+(\\\"M\\\"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+(\\\"D\\\"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(\\\"M\\\"===i||\\\"Y\\\"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,\\\"min\\\"),s=this._getMinMaxDate(e,\\\"max\\\"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,\\\"onChangeMonthYear\\\");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,\\\"numberOfMonths\\\");return null==t?[1,1]:\\\"number\\\"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+\\\"Date\\\"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,\\\"min\\\"),a=this._getMinMaxDate(e,\\\"max\\\"),o=null,r=null,h=this._get(e,\\\"yearRange\\\");return h&&(i=h.split(\\\":\\\"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\\\\-].*/)&&(o+=s),i[1].match(/[+\\\\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,\\\"shortYearCutoff\\\");return t=\\\"string\\\"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,\\\"dayNamesShort\\\"),dayNames:this._get(e,\\\"dayNames\\\"),monthNamesShort:this._get(e,\\\"monthNamesShort\\\"),monthNames:this._get(e,\\\"monthNames\\\")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?\\\"object\\\"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,\\\"dateFormat\\\"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e(\\\"#\\\"+e.datepicker._mainDivId).length&&e(\\\"body\\\").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return\\\"string\\\"!=typeof t||\\\"isDisabled\\\"!==t&&\\\"getDate\\\"!==t&&\\\"widget\\\"!==t?\\\"option\\\"===t&&2===arguments.length&&\\\"string\\\"==typeof arguments[1]?e.datepicker[\\\"_\\\"+t+\\\"Datepicker\\\"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){\\\"string\\\"==typeof t?e.datepicker[\\\"_\\\"+t+\\\"Datepicker\\\"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker[\\\"_\\\"+t+\\\"Datepicker\\\"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version=\\\"1.11.4\\\",e.datepicker,e.widget(\\\"ui.dialog\\\",{version:\\\"1.11.4\\\",options:{appendTo:\\\"body\\\",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:\\\"Close\\\",dialogClass:\\\"\\\",draggable:!0,hide:null,height:\\\"auto\\\",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:\\\"center\\\",at:\\\"center\\\",of:window,collision:\\\"fit\\\",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css(\\\"top\\\",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr(\\\"title\\\"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr(\\\"title\\\").addClass(\\\"ui-dialog-content ui-widget-content\\\").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||\\\"body\\\").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass(\\\"ui-dialog-content ui-widget-content\\\").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr(\\\"title\\\",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger(\\\"beforeClose\\\",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(\\\":focusable\\\").focus().length)try{i=this.document[0].activeElement,i&&\\\"body\\\"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger(\\\"close\\\",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(\\\".ui-front:visible\\\").map(function(){return+e(this).css(\\\"z-index\\\")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css(\\\"z-index\\\")&&(this.uiDialog.css(\\\"z-index\\\",a+1),s=!0),s&&!i&&this._trigger(\\\"focus\\\",t),s},open:function(){var t=this;\\nreturn this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css(\\\"z-index\\\",this.uiDialog.css(\\\"z-index\\\")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger(\\\"focus\\\")}),this._makeFocusTarget(),this._trigger(\\\"open\\\"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find(\\\"[autofocus]\\\")),e.length||(e=this.element.find(\\\":tabbable\\\")),e.length||(e=this.uiDialogButtonPane.find(\\\":tabbable\\\")),e.length||(e=this.uiDialogTitlebarClose.filter(\\\":tabbable\\\")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e(\\\"<div>\\\").addClass(\\\"ui-dialog ui-widget ui-widget-content ui-corner-all ui-front \\\"+this.options.dialogClass).hide().attr({tabIndex:-1,role:\\\"dialog\\\"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(\\\":tabbable\\\"),s=i.filter(\\\":first\\\"),n=i.filter(\\\":last\\\");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find(\\\"[aria-describedby]\\\").length||this.uiDialog.attr({\\\"aria-describedby\\\":this.element.uniqueId().attr(\\\"id\\\")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e(\\\"<div>\\\").addClass(\\\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\\\").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(\\\".ui-dialog-titlebar-close\\\")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e(\\\"<button type='button'></button>\\\").button({label:this.options.closeText,icons:{primary:\\\"ui-icon-closethick\\\"},text:!1}).addClass(\\\"ui-dialog-titlebar-close\\\").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e(\\\"<span>\\\").uniqueId().addClass(\\\"ui-dialog-title\\\").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({\\\"aria-labelledby\\\":t.attr(\\\"id\\\")})},_title:function(e){this.options.title||e.html(\\\"&#160;\\\"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e(\\\"<div>\\\").addClass(\\\"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\\\"),this.uiButtonSet=e(\\\"<div>\\\").addClass(\\\"ui-dialog-buttonset\\\").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass(\\\"ui-dialog-buttons\\\"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:\\\"button\\\"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e(\\\"<button></button>\\\",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass(\\\"ui-dialog-buttons\\\"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:\\\".ui-dialog-content, .ui-dialog-titlebar-close\\\",handle:\\\".ui-dialog-titlebar\\\",containment:\\\"document\\\",start:function(s,n){e(this).addClass(\\\"ui-dialog-dragging\\\"),i._blockFrames(),i._trigger(\\\"dragStart\\\",s,t(n))},drag:function(e,s){i._trigger(\\\"drag\\\",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:\\\"left top\\\",at:\\\"left\\\"+(o>=0?\\\"+\\\":\\\"\\\")+o+\\\" \\\"+\\\"top\\\"+(r>=0?\\\"+\\\":\\\"\\\")+r,of:i.window},e(this).removeClass(\\\"ui-dialog-dragging\\\"),i._unblockFrames(),i._trigger(\\\"dragStop\\\",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css(\\\"position\\\"),o=\\\"string\\\"==typeof n?n:\\\"n,e,s,w,se,sw,ne,nw\\\";this.uiDialog.resizable({cancel:\\\".ui-dialog-content\\\",containment:\\\"document\\\",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass(\\\"ui-dialog-resizing\\\"),i._blockFrames(),i._trigger(\\\"resizeStart\\\",s,t(n))},resize:function(e,s){i._trigger(\\\"resize\\\",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:\\\"left top\\\",at:\\\"left\\\"+(r>=0?\\\"+\\\":\\\"\\\")+r+\\\" \\\"+\\\"top\\\"+(h>=0?\\\"+\\\":\\\"\\\")+h,of:i.window},e(this).removeClass(\\\"ui-dialog-resizing\\\"),i._unblockFrames(),i._trigger(\\\"resizeStop\\\",n,t(a))}}).css(\\\"position\\\",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data(\\\"ui-dialog-instances\\\");return e||(e=[],this.document.data(\\\"ui-dialog-instances\\\",e)),e},_minHeight:function(){var e=this.options;return\\\"auto\\\"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(\\\":visible\\\");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(\\\":data(ui-resizable)\\\")&&this.uiDialog.resizable(\\\"option\\\",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;\\\"dialogClass\\\"===e&&n.removeClass(this.options.dialogClass).addClass(t),\\\"disabled\\\"!==e&&(this._super(e,t),\\\"appendTo\\\"===e&&this.uiDialog.appendTo(this._appendTo()),\\\"buttons\\\"===e&&this._createButtons(),\\\"closeText\\\"===e&&this.uiDialogTitlebarClose.button({label:\\\"\\\"+t}),\\\"draggable\\\"===e&&(i=n.is(\\\":data(ui-draggable)\\\"),i&&!t&&n.draggable(\\\"destroy\\\"),!i&&t&&this._makeDraggable()),\\\"position\\\"===e&&this._position(),\\\"resizable\\\"===e&&(s=n.is(\\\":data(ui-resizable)\\\"),s&&!t&&n.resizable(\\\"destroy\\\"),s&&\\\"string\\\"==typeof t&&n.resizable(\\\"option\\\",\\\"handles\\\",t),s||t===!1||this._makeResizable()),\\\"title\\\"===e&&this._title(this.uiDialogTitlebar.find(\\\".ui-dialog-title\\\")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:\\\"auto\\\",minHeight:0,maxHeight:\\\"none\\\",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:\\\"auto\\\",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i=\\\"number\\\"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):\\\"none\\\",\\\"auto\\\"===s.height?this.element.css({minHeight:t,maxHeight:i,height:\\\"auto\\\"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(\\\":data(ui-resizable)\\\")&&this.uiDialog.resizable(\\\"option\\\",\\\"minHeight\\\",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find(\\\"iframe\\\").map(function(){var t=e(this);return e(\\\"<div>\\\").css({position:\\\"absolute\\\",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(\\\".ui-dialog\\\").length?!0:!!e(t.target).closest(\\\".ui-datepicker\\\").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data(\\\"ui-dialog-overlays\\\")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e(\\\"<div>\\\").addClass(\\\"ui-widget-overlay ui-front\\\").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:\\\"_keepFocus\\\"}),this.document.data(\\\"ui-dialog-overlays\\\",(this.document.data(\\\"ui-dialog-overlays\\\")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data(\\\"ui-dialog-overlays\\\")-1;e?this.document.data(\\\"ui-dialog-overlays\\\",e):this.document.unbind(\\\"focusin\\\").removeData(\\\"ui-dialog-overlays\\\"),this.overlay.remove(),this.overlay=null}}}),e.widget(\\\"ui.progressbar\\\",{version:\\\"1.11.4\\\",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass(\\\"ui-progressbar ui-widget ui-widget-content ui-corner-all\\\").attr({role:\\\"progressbar\\\",\\\"aria-valuemin\\\":this.min}),this.valueDiv=e(\\\"<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>\\\").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass(\\\"ui-progressbar ui-widget ui-widget-content ui-corner-all\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-valuemin\\\").removeAttr(\\\"aria-valuemax\\\").removeAttr(\\\"aria-valuenow\\\"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,\\\"number\\\"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){\\\"max\\\"===e&&(t=Math.max(this.min,t)),\\\"disabled\\\"===e&&this.element.toggleClass(\\\"ui-state-disabled\\\",!!t).attr(\\\"aria-disabled\\\",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass(\\\"ui-corner-right\\\",t===this.options.max).width(i.toFixed(0)+\\\"%\\\"),this.element.toggleClass(\\\"ui-progressbar-indeterminate\\\",this.indeterminate),this.indeterminate?(this.element.removeAttr(\\\"aria-valuenow\\\"),this.overlayDiv||(this.overlayDiv=e(\\\"<div class='ui-progressbar-overlay'></div>\\\").appendTo(this.valueDiv))):(this.element.attr({\\\"aria-valuemax\\\":this.options.max,\\\"aria-valuenow\\\":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger(\\\"change\\\")),t===this.options.max&&this._trigger(\\\"complete\\\")}}),e.widget(\\\"ui.selectmenu\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<select>\\\",options:{appendTo:null,disabled:null,icons:{button:\\\"ui-icon-triangle-1-s\\\"},position:{my:\\\"left top\\\",at:\\\"left bottom\\\",collision:\\\"none\\\"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr(\\\"id\\\");this.ids={element:e,button:e+\\\"-button\\\",menu:e+\\\"-menu\\\"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e(\\\"label[for='\\\"+this.ids.element+\\\"']\\\").attr(\\\"for\\\",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e(\\\"<span>\\\",{\\\"class\\\":\\\"ui-selectmenu-button ui-widget ui-state-default ui-corner-all\\\",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:\\\"combobox\\\",\\\"aria-expanded\\\":\\\"false\\\",\\\"aria-autocomplete\\\":\\\"list\\\",\\\"aria-owns\\\":this.ids.menu,\\\"aria-haspopup\\\":\\\"true\\\"}).insertAfter(this.element),e(\\\"<span>\\\",{\\\"class\\\":\\\"ui-icon \\\"+this.options.icons.button}).prependTo(this.button),this.buttonText=e(\\\"<span>\\\",{\\\"class\\\":\\\"ui-selectmenu-text\\\"}).appendTo(this.button),this._setText(this.buttonText,this.element.find(\\\"option:selected\\\").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one(\\\"focusin\\\",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e(\\\"<ul>\\\",{\\\"aria-hidden\\\":\\\"true\\\",\\\"aria-labelledby\\\":this.ids.button,id:this.ids.menu}),this.menuWrap=e(\\\"<div>\\\",{\\\"class\\\":\\\"ui-selectmenu-menu ui-front\\\"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:\\\"listbox\\\",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data(\\\"ui-selectmenu-item\\\"),e)},focus:function(e,i){var s=i.item.data(\\\"ui-selectmenu-item\\\");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger(\\\"focus\\\",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr(\\\"aria-activedescendant\\\",t.menuItems.eq(s.index).attr(\\\"id\\\"))}}).menu(\\\"instance\\\"),this.menu.addClass(\\\"ui-corner-bottom\\\").removeClass(\\\"ui-corner-all\\\"),this.menuInstance._off(this.menu,\\\"mouseleave\\\"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find(\\\"option\\\");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find(\\\"li\\\").not(\\\".ui-selectmenu-optgroup\\\"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data(\\\"ui-selectmenu-item\\\")),this._setOption(\\\"disabled\\\",this.element.prop(\\\"disabled\\\")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(\\\".ui-state-focus\\\").removeClass(\\\"ui-state-focus\\\"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger(\\\"open\\\",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger(\\\"close\\\",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n=\\\"\\\";e.each(i,function(i,a){a.optgroup!==n&&(e(\\\"<li>\\\",{\\\"class\\\":\\\"ui-selectmenu-optgroup ui-menu-divider\\\"+(a.element.parent(\\\"optgroup\\\").prop(\\\"disabled\\\")?\\\" ui-state-disabled\\\":\\\"\\\"),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data(\\\"ui-selectmenu-item\\\",t)},_renderItem:function(t,i){var s=e(\\\"<li>\\\");return i.disabled&&s.addClass(\\\"ui-state-disabled\\\"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html(\\\"&#160;\\\")},_move:function(e,t){var i,s,n=\\\".ui-menu-item\\\";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=\\\":not(.ui-state-disabled)\\\"),s=\\\"first\\\"===e||\\\"last\\\"===e?i[\\\"first\\\"===e?\\\"prevAll\\\":\\\"nextAll\\\"](n).eq(-1):i[e+\\\"All\\\"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?\\\"close\\\":\\\"open\\\"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(\\\".ui-selectmenu-menu, #\\\"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move(\\\"prev\\\",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move(\\\"next\\\",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move(\\\"prev\\\",t);break;case e.ui.keyCode.RIGHT:this._move(\\\"next\\\",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move(\\\"first\\\",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move(\\\"last\\\",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass(\\\"ui-state-disabled\\\")||this._select(t.data(\\\"ui-selectmenu-item\\\"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger(\\\"select\\\",t,{item:e}),e.index!==i&&this._trigger(\\\"change\\\",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr(\\\"id\\\");this.button.attr({\\\"aria-labelledby\\\":t,\\\"aria-activedescendant\\\":t}),this.menu.attr(\\\"aria-activedescendant\\\",t)},_setOption:function(e,t){\\\"icons\\\"===e&&this.button.find(\\\"span.ui-icon\\\").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),\\\"appendTo\\\"===e&&this.menuWrap.appendTo(this._appendTo()),\\\"disabled\\\"===e&&(this.menuInstance.option(\\\"disabled\\\",t),this.button.toggleClass(\\\"ui-state-disabled\\\",t).attr(\\\"aria-disabled\\\",t),this.element.prop(\\\"disabled\\\",t),t?(this.button.attr(\\\"tabindex\\\",-1),this.close()):this.button.attr(\\\"tabindex\\\",0)),\\\"width\\\"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(\\\".ui-front\\\")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass(\\\"ui-corner-top\\\",this.isOpen).toggleClass(\\\"ui-corner-all\\\",!this.isOpen).attr(\\\"aria-expanded\\\",this.isOpen),this.menuWrap.toggleClass(\\\"ui-selectmenu-open\\\",this.isOpen),this.menu.attr(\\\"aria-hidden\\\",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width(\\\"\\\").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop(\\\"disabled\\\")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent(\\\"optgroup\\\");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr(\\\"label\\\")||\\\"\\\",disabled:a.prop(\\\"disabled\\\")||n.prop(\\\"disabled\\\")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr(\\\"for\\\",this.ids.element)}}),e.widget(\\\"ui.slider\\\",e.ui.mouse,{version:\\\"1.11.4\\\",widgetEventPrefix:\\\"slide\\\",options:{animate:!1,distance:0,max:100,min:0,orientation:\\\"horizontal\\\",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass(\\\"ui-slider ui-slider-\\\"+this.orientation+\\\" ui-widget\\\"+\\\" ui-widget-content\\\"+\\\" ui-corner-all\\\"),this._refresh(),this._setOption(\\\"disabled\\\",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(\\\".ui-slider-handle\\\").addClass(\\\"ui-state-default ui-corner-all\\\"),a=\\\"<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>\\\",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join(\\\"\\\")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data(\\\"ui-slider-handle-index\\\",t)})},_createRange:function(){var t=this.options,i=\\\"\\\";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass(\\\"ui-slider-range-min ui-slider-range-max\\\").css({left:\\\"\\\",bottom:\\\"\\\"}):(this.range=e(\\\"<div></div>\\\").appendTo(this.element),i=\\\"ui-slider-range ui-widget-header ui-corner-all\\\"),this.range.addClass(i+(\\\"min\\\"===t.range||\\\"max\\\"===t.range?\\\" ui-slider-range-\\\"+t.range:\\\"\\\"))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass(\\\"ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all\\\"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass(\\\"ui-state-active\\\").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(\\\".ui-slider-handle\\\"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css(\\\"borderTopWidth\\\"),10)||0)-(parseInt(a.css(\\\"borderBottomWidth\\\"),10)||0)+(parseInt(a.css(\\\"marginTop\\\"),10)||0)},this.handles.hasClass(\\\"ui-state-hover\\\")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass(\\\"ui-state-active\\\"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=\\\"vertical\\\"===this.options.orientation?\\\"vertical\\\":\\\"horizontal\\\"},_normValueFromMouse:function(e){var t,i,s,n,a;return\\\"horizontal\\\"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),\\\"vertical\\\"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger(\\\"start\\\",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger(\\\"slide\\\",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger(\\\"slide\\\",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger(\\\"stop\\\",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger(\\\"change\\\",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch(\\\"range\\\"===t&&this.options.range===!0&&(\\\"min\\\"===i?(this.options.value=this._values(0),this.options.values=null):\\\"max\\\"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),\\\"disabled\\\"===t&&this.element.toggleClass(\\\"ui-state-disabled\\\",!!i),this._super(t,i),t){case\\\"orientation\\\":this._detectOrientation(),this.element.removeClass(\\\"ui-slider-horizontal ui-slider-vertical\\\").addClass(\\\"ui-slider-\\\"+this.orientation),this._refreshValue(),this.handles.css(\\\"horizontal\\\"===i?\\\"bottom\\\":\\\"left\\\",\\\"\\\");break;case\\\"value\\\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\\\"values\\\":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case\\\"step\\\":case\\\"min\\\":case\\\"max\\\":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case\\\"range\\\":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=\\\"\\\"+e,i=t.indexOf(\\\".\\\");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u[\\\"horizontal\\\"===h.orientation?\\\"left\\\":\\\"bottom\\\"]=i+\\\"%\\\",e(this).stop(1,1)[l?\\\"animate\\\":\\\"css\\\"](u,r.animate),h.options.range===!0&&(\\\"horizontal\\\"===h.orientation?(0===s&&h.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({left:i+\\\"%\\\"},r.animate),1===s&&h.range[l?\\\"animate\\\":\\\"css\\\"]({width:i-t+\\\"%\\\"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({bottom:i+\\\"%\\\"},r.animate),1===s&&h.range[l?\\\"animate\\\":\\\"css\\\"]({height:i-t+\\\"%\\\"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u[\\\"horizontal\\\"===this.orientation?\\\"left\\\":\\\"bottom\\\"]=i+\\\"%\\\",this.handle.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"](u,r.animate),\\\"min\\\"===o&&\\\"horizontal\\\"===this.orientation&&this.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({width:i+\\\"%\\\"},r.animate),\\\"max\\\"===o&&\\\"horizontal\\\"===this.orientation&&this.range[l?\\\"animate\\\":\\\"css\\\"]({width:100-i+\\\"%\\\"},{queue:!1,duration:r.animate}),\\\"min\\\"===o&&\\\"vertical\\\"===this.orientation&&this.range.stop(1,1)[l?\\\"animate\\\":\\\"css\\\"]({height:i+\\\"%\\\"},r.animate),\\\"max\\\"===o&&\\\"vertical\\\"===this.orientation&&this.range[l?\\\"animate\\\":\\\"css\\\"]({height:100-i+\\\"%\\\"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data(\\\"ui-slider-handle-index\\\");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass(\\\"ui-state-active\\\"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data(\\\"ui-slider-handle-index\\\");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass(\\\"ui-state-active\\\"))}}}),e.widget(\\\"ui.spinner\\\",{version:\\\"1.11.4\\\",defaultElement:\\\"<input>\\\",widgetEventPrefix:\\\"spin\\\",options:{culture:null,icons:{down:\\\"ui-icon-triangle-1-s\\\",up:\\\"ui-icon-triangle-1-n\\\"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption(\\\"max\\\",this.options.max),this._setOption(\\\"min\\\",this.options.min),this._setOption(\\\"step\\\",this.options.step),\\\"\\\"!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr(\\\"autocomplete\\\")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each([\\\"min\\\",\\\"max\\\",\\\"step\\\"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:\\\"_stop\\\",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger(\\\"change\\\",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},\\\"mousedown .ui-spinner-button\\\":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass(\\\"ui-spinner-up\\\")?1:-1,t)},\\\"mouseup .ui-spinner-button\\\":\\\"_stop\\\",\\\"mouseenter .ui-spinner-button\\\":function(t){return e(t.currentTarget).hasClass(\\\"ui-state-active\\\")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass(\\\"ui-spinner-up\\\")?1:-1,t),void 0):void 0},\\\"mouseleave .ui-spinner-button\\\":\\\"_stop\\\"},_draw:function(){var e=this.uiSpinner=this.element.addClass(\\\"ui-spinner-input\\\").attr(\\\"autocomplete\\\",\\\"off\\\").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr(\\\"role\\\",\\\"spinbutton\\\"),this.buttons=e.find(\\\".ui-spinner-button\\\").attr(\\\"tabIndex\\\",-1).button().removeClass(\\\"ui-corner-all\\\"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()\\n},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return\\\"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>\\\"},_buttonHtml:function(){return\\\"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon \\\"+this.options.icons.up+\\\"'>&#9650;</span>\\\"+\\\"</a>\\\"+\\\"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>\\\"+\\\"<span class='ui-icon \\\"+this.options.icons.down+\\\"'>&#9660;</span>\\\"+\\\"</a>\\\"},_start:function(e){return this.spinning||this._trigger(\\\"start\\\",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger(\\\"spin\\\",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=\\\"\\\"+e,i=t.indexOf(\\\".\\\");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger(\\\"stop\\\",e))},_setOption:function(e,t){if(\\\"culture\\\"===e||\\\"numberFormat\\\"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}(\\\"max\\\"===e||\\\"min\\\"===e||\\\"step\\\"===e)&&\\\"string\\\"==typeof t&&(t=this._parse(t)),\\\"icons\\\"===e&&(this.buttons.first().find(\\\".ui-icon\\\").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(\\\".ui-icon\\\").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),\\\"disabled\\\"===e&&(this.widget().toggleClass(\\\"ui-state-disabled\\\",!!t),this.element.prop(\\\"disabled\\\",!!t),this.buttons.button(t?\\\"disable\\\":\\\"enable\\\"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return\\\"string\\\"==typeof e&&\\\"\\\"!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),\\\"\\\"===e||isNaN(e)?null:e},_format:function(e){return\\\"\\\"===e?\\\"\\\":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({\\\"aria-valuemin\\\":this.options.min,\\\"aria-valuemax\\\":this.options.max,\\\"aria-valuenow\\\":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;\\\"\\\"!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass(\\\"ui-spinner-input\\\").prop(\\\"disabled\\\",!1).removeAttr(\\\"autocomplete\\\").removeAttr(\\\"role\\\").removeAttr(\\\"aria-valuemin\\\").removeAttr(\\\"aria-valuemax\\\").removeAttr(\\\"aria-valuenow\\\"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget(\\\"ui.tabs\\\",{version:\\\"1.11.4\\\",delay:300,options:{active:null,collapsible:!1,event:\\\"click\\\",heightStyle:\\\"content\\\",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,\\\"\\\"),s=location.href.replace(e,\\\"\\\");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass(\\\"ui-tabs ui-widget ui-widget-content ui-corner-all\\\").toggleClass(\\\"ui-tabs-collapsible\\\",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(\\\".ui-state-disabled\\\"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr(\\\"aria-controls\\\")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(\\\".ui-tabs-active\\\"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest(\\\"li\\\"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr(\\\"aria-selected\\\",\\\"false\\\"),this.tabs.eq(s).attr(\\\"aria-selected\\\",\\\"true\\\"),this.activating=this._delay(function(){this.option(\\\"active\\\",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return\\\"active\\\"===e?(this._activate(t),void 0):\\\"disabled\\\"===e?(this._setupDisabled(t),void 0):(this._super(e,t),\\\"collapsible\\\"===e&&(this.element.toggleClass(\\\"ui-tabs-collapsible\\\",t),t||this.options.active!==!1||this._activate(0)),\\\"event\\\"===e&&this._setupEvents(t),\\\"heightStyle\\\"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!\\\"$%&'()*+,.\\\\/:;<=>?@\\\\[\\\\]\\\\^`{|}~]/g,\\\"\\\\\\\\$&\\\"):\\\"\\\"},refresh:function(){var t=this.options,i=this.tablist.children(\\\":has(a[href])\\\");t.disabled=e.map(i.filter(\\\".ui-state-disabled\\\"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({\\\"aria-hidden\\\":\\\"true\\\"}),this.active.length?(this.active.addClass(\\\"ui-tabs-active ui-state-active\\\").attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0}),this._getPanelForTab(this.active).show().attr({\\\"aria-hidden\\\":\\\"false\\\"})):this.tabs.eq(0).attr(\\\"tabIndex\\\",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass(\\\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\\\").attr(\\\"role\\\",\\\"tablist\\\").delegate(\\\"> li\\\",\\\"mousedown\\\"+this.eventNamespace,function(t){e(this).is(\\\".ui-state-disabled\\\")&&t.preventDefault()}).delegate(\\\".ui-tabs-anchor\\\",\\\"focus\\\"+this.eventNamespace,function(){e(this).closest(\\\"li\\\").is(\\\".ui-state-disabled\\\")&&this.blur()}),this.tabs=this.tablist.find(\\\"> li:has(a[href])\\\").addClass(\\\"ui-state-default ui-corner-top\\\").attr({role:\\\"tab\\\",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e(\\\"a\\\",this)[0]}).addClass(\\\"ui-tabs-anchor\\\").attr({role:\\\"presentation\\\",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr(\\\"id\\\"),h=e(s).closest(\\\"li\\\"),l=h.attr(\\\"aria-controls\\\");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr(\\\"aria-controls\\\")||e({}).uniqueId()[0].id,n=\\\"#\\\"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr(\\\"aria-live\\\",\\\"polite\\\")),a.length&&(t.panels=t.panels.add(a)),l&&h.data(\\\"ui-tabs-aria-controls\\\",l),h.attr({\\\"aria-controls\\\":o,\\\"aria-labelledby\\\":r}),a.attr(\\\"aria-labelledby\\\",r)}),this.panels.addClass(\\\"ui-tabs-panel ui-widget-content ui-corner-bottom\\\").attr(\\\"role\\\",\\\"tabpanel\\\"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find(\\\"ol,ul\\\").eq(0)},_createPanel:function(t){return e(\\\"<div>\\\").attr(\\\"id\\\",t).addClass(\\\"ui-tabs-panel ui-widget-content ui-corner-bottom\\\").data(\\\"ui-tabs-destroy\\\",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass(\\\"ui-state-disabled\\\").attr(\\\"aria-disabled\\\",\\\"true\\\"):e(i).removeClass(\\\"ui-state-disabled\\\").removeAttr(\\\"aria-disabled\\\");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(\\\" \\\"),function(e,t){i[t]=\\\"_eventHandler\\\"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:\\\"_tabKeydown\\\"}),this._on(this.panels,{keydown:\\\"_panelKeydown\\\"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();\\\"fill\\\"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(\\\":visible\\\").each(function(){var t=e(this),s=t.css(\\\"position\\\");\\\"absolute\\\"!==s&&\\\"fixed\\\"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css(\\\"overflow\\\",\\\"auto\\\")):\\\"auto\\\"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height(\\\"\\\").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest(\\\"li\\\"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass(\\\"ui-state-disabled\\\")||a.hasClass(\\\"ui-tabs-loading\\\")||this.running||o&&!i.collapsible||this._trigger(\\\"beforeActivate\\\",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error(\\\"jQuery UI Tabs: Mismatching fragment identifier.\\\"),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger(\\\"activate\\\",t,i)}function n(){i.newTab.closest(\\\"li\\\").addClass(\\\"ui-tabs-active ui-state-active\\\"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest(\\\"li\\\").removeClass(\\\"ui-tabs-active ui-state-active\\\"),n()}):(i.oldTab.closest(\\\"li\\\").removeClass(\\\"ui-tabs-active ui-state-active\\\"),r.hide(),n()),r.attr(\\\"aria-hidden\\\",\\\"true\\\"),i.oldTab.attr({\\\"aria-selected\\\":\\\"false\\\",\\\"aria-expanded\\\":\\\"false\\\"}),o.length&&r.length?i.oldTab.attr(\\\"tabIndex\\\",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr(\\\"tabIndex\\\")}).attr(\\\"tabIndex\\\",-1),o.attr(\\\"aria-hidden\\\",\\\"false\\\"),i.newTab.attr({\\\"aria-selected\\\":\\\"true\\\",\\\"aria-expanded\\\":\\\"true\\\",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(\\\".ui-tabs-anchor\\\")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return\\\"string\\\"==typeof e&&(e=this.anchors.index(this.anchors.filter(\\\"[href$='\\\"+e+\\\"']\\\"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass(\\\"ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible\\\"),this.tablist.removeClass(\\\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\\\").removeAttr(\\\"role\\\"),this.anchors.removeClass(\\\"ui-tabs-anchor\\\").removeAttr(\\\"role\\\").removeAttr(\\\"tabIndex\\\").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,\\\"ui-tabs-destroy\\\")?e(this).remove():e(this).removeClass(\\\"ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel\\\").removeAttr(\\\"tabIndex\\\").removeAttr(\\\"aria-live\\\").removeAttr(\\\"aria-busy\\\").removeAttr(\\\"aria-selected\\\").removeAttr(\\\"aria-labelledby\\\").removeAttr(\\\"aria-hidden\\\").removeAttr(\\\"aria-expanded\\\").removeAttr(\\\"role\\\")}),this.tabs.each(function(){var t=e(this),i=t.data(\\\"ui-tabs-aria-controls\\\");i?t.attr(\\\"aria-controls\\\",i).removeData(\\\"ui-tabs-aria-controls\\\"):t.removeAttr(\\\"aria-controls\\\")}),this.panels.show(),\\\"content\\\"!==this.options.heightStyle&&this.panels.css(\\\"height\\\",\\\"\\\")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(\\\".ui-tabs-anchor\\\"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){\\\"abort\\\"===t&&s.panels.stop(!1,!0),n.removeClass(\\\"ui-tabs-loading\\\"),o.removeAttr(\\\"aria-busy\\\"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&\\\"canceled\\\"!==this.xhr.statusText&&(n.addClass(\\\"ui-tabs-loading\\\"),o.attr(\\\"aria-busy\\\",\\\"true\\\"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger(\\\"load\\\",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr(\\\"href\\\"),beforeSend:function(t,a){return n._trigger(\\\"beforeLoad\\\",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr(\\\"aria-controls\\\");return this.element.find(this._sanitizeSelector(\\\"#\\\"+i))}}),e.widget(\\\"ui.tooltip\\\",{version:\\\"1.11.4\\\",options:{content:function(){var t=e(this).attr(\\\"title\\\")||\\\"\\\";return e(\\\"<a>\\\").text(t).html()},hide:!0,items:\\\"[title]:not([disabled])\\\",position:{my:\\\"left top+15\\\",at:\\\"left bottom\\\",collision:\\\"flipfit flip\\\"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr(\\\"aria-describedby\\\")||\\\"\\\").split(/\\\\s+/);s.push(i),t.data(\\\"ui-tooltip-id\\\",i).attr(\\\"aria-describedby\\\",e.trim(s.join(\\\" \\\")))},_removeDescribedBy:function(t){var i=t.data(\\\"ui-tooltip-id\\\"),s=(t.attr(\\\"aria-describedby\\\")||\\\"\\\").split(/\\\\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData(\\\"ui-tooltip-id\\\"),s=e.trim(s.join(\\\" \\\")),s?t.attr(\\\"aria-describedby\\\",s):t.removeAttr(\\\"aria-describedby\\\")},_create:function(){this._on({mouseover:\\\"open\\\",focusin:\\\"open\\\"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e(\\\"<div>\\\").attr({role:\\\"log\\\",\\\"aria-live\\\":\\\"assertive\\\",\\\"aria-relevant\\\":\\\"additions\\\"}).addClass(\\\"ui-helper-hidden-accessible\\\").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return\\\"disabled\\\"===t?(this[i?\\\"_disable\\\":\\\"_enable\\\"](),this.options[t]=i,void 0):(this._super(t,i),\\\"content\\\"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event(\\\"blur\\\");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is(\\\"[title]\\\")&&t.data(\\\"ui-tooltip-title\\\",t.attr(\\\"title\\\")).removeAttr(\\\"title\\\")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data(\\\"ui-tooltip-title\\\")&&t.attr(\\\"title\\\",t.data(\\\"ui-tooltip-title\\\"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data(\\\"ui-tooltip-id\\\")&&(s.attr(\\\"title\\\")&&s.data(\\\"ui-tooltip-title\\\",s.attr(\\\"title\\\")),s.data(\\\"ui-tooltip-open\\\",!0),t&&\\\"mouseover\\\"===t.type&&s.parents().each(function(){var t,s=e(this);s.data(\\\"ui-tooltip-open\\\")&&(t=e.Event(\\\"blur\\\"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr(\\\"title\\\")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr(\\\"title\\\")},s.attr(\\\"title\\\",\\\"\\\"))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return\\\"string\\\"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data(\\\"ui-tooltip-open\\\")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(\\\":hidden\\\")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(\\\".ui-tooltip-content\\\").html(s),void 0;i.is(\\\"[title]\\\")&&(t&&\\\"mouseover\\\"===t.type?i.attr(\\\"title\\\",\\\"\\\"):i.removeAttr(\\\"title\\\")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr(\\\"id\\\")),o.find(\\\".ui-tooltip-content\\\").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr(\\\"id\\\").find(\\\"[id]\\\").removeAttr(\\\"id\\\")):h=s,e(\\\"<div>\\\").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(\\\":visible\\\")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger(\\\"open\\\",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&\\\"mouseover\\\"!==t.type||(s.mouseleave=\\\"close\\\"),t&&\\\"focusin\\\"!==t.type||(s.focusout=\\\"close\\\"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data(\\\"ui-tooltip-title\\\")&&!n.attr(\\\"title\\\")&&n.attr(\\\"title\\\",n.data(\\\"ui-tooltip-title\\\")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData(\\\"ui-tooltip-open\\\"),this._off(n,\\\"mouseleave focusout keyup\\\"),n[0]!==this.element[0]&&this._off(n,\\\"remove\\\"),this._off(this.document,\\\"mousemove\\\"),t&&\\\"mouseleave\\\"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr(\\\"title\\\",i.title),delete s.parents[t]}),a.closing=!0,this._trigger(\\\"close\\\",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData(\\\"ui-tooltip-open\\\"),void 0)},_tooltip:function(t){var i=e(\\\"<div>\\\").attr(\\\"role\\\",\\\"tooltip\\\").addClass(\\\"ui-tooltip ui-widget ui-corner-all ui-widget-content \\\"+(this.options.tooltipClass||\\\"\\\")),s=i.uniqueId().attr(\\\"id\\\");return e(\\\"<div>\\\").addClass(\\\"ui-tooltip-content\\\").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data(\\\"ui-tooltip-id\\\");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr(\\\"id\\\")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event(\\\"blur\\\"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e(\\\"#\\\"+i).remove(),a.data(\\\"ui-tooltip-title\\\")&&(a.attr(\\\"title\\\")||a.attr(\\\"title\\\",a.data(\\\"ui-tooltip-title\\\")),a.removeData(\\\"ui-tooltip-title\\\"))}),this.liveRegion.remove()}});var y=\\\"ui-effects-\\\",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||\\\"rgba\\\";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?(\\\"0,0,0,0\\\"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o=\\\"backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\\\",r=/^([\\\\-+])=\\\\s*(\\\\d+\\\\.?\\\\d*)/,h=[{re:/rgba?\\\\(\\\\s*(\\\\d{1,3})\\\\s*,\\\\s*(\\\\d{1,3})\\\\s*,\\\\s*(\\\\d{1,3})\\\\s*(?:,\\\\s*(\\\\d?(?:\\\\.\\\\d+)?)\\\\s*)?\\\\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\\\\(\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*(?:,\\\\s*(\\\\d?(?:\\\\.\\\\d+)?)\\\\s*)?\\\\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\\\\(\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*,\\\\s*(\\\\d+(?:\\\\.\\\\d+)?)\\\\%\\\\s*(?:,\\\\s*(\\\\d?(?:\\\\.\\\\d+)?)\\\\s*)?\\\\)/,space:\\\"hsla\\\",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:\\\"byte\\\"},green:{idx:1,type:\\\"byte\\\"},blue:{idx:2,type:\\\"byte\\\"}}},hsla:{props:{hue:{idx:0,type:\\\"degrees\\\"},saturation:{idx:1,type:\\\"percent\\\"},lightness:{idx:2,type:\\\"percent\\\"}}}},d={\\\"byte\\\":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e(\\\"<p>\\\")[0],f=e.each;p.style.cssText=\\\"background-color:rgba(1,1,1,.5)\\\",c.rgba=p.style.backgroundColor.indexOf(\\\"rgba\\\")>-1,f(u,function(e,t){t.cache=\\\"_\\\"+e,t.props.alpha={idx:3,type:\\\"percent\\\",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c=\\\"array\\\"),\\\"string\\\"===c?this.parse(s(n)||a._default):\\\"array\\\"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):\\\"object\\\"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if(\\\"alpha\\\"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l(\\\"transparent\\\"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t=\\\"rgba(\\\",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t=\\\"rgb(\\\"),t+i.join()+\\\")\\\"},toHslaString:function(){var t=\\\"hsla(\\\",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+\\\"%\\\"),e});return 1===i[3]&&(i.pop(),t=\\\"hsl(\\\"),t+i.join()+\\\")\\\"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),\\\"#\\\"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?\\\"0\\\"+e:e}).join(\\\"\\\")},toString:function(){return 0===this._rgba[3]?\\\"transparent\\\":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d=\\\"array\\\"===r||\\\"object\\\"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d[\\\"object\\\"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h=\\\"alpha\\\"===t?this._hsla?\\\"hsla\\\":\\\"rgba\\\":s,l=this[h](),u=l[i.idx];return\\\"undefined\\\"===o?u:(\\\"function\\\"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:(\\\"string\\\"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*(\\\"+\\\"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(\\\" \\\");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r=\\\"\\\";if(\\\"transparent\\\"!==n&&(\\\"string\\\"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o=\\\"backgroundColor\\\"===i?t.parentNode:t;(\\\"\\\"===r||\\\"transparent\\\"===r)&&o&&o.style;)try{r=e.css(o,\\\"backgroundColor\\\"),o=o.parentNode}catch(h){}n=n.blend(r&&\\\"transparent\\\"!==r?r:\\\"_default\\\")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f([\\\"Top\\\",\\\"Right\\\",\\\"Bottom\\\",\\\"Left\\\"],function(i,s){t[\\\"border\\\"+s+\\\"Color\\\"]=e}),t}},a=e.Color.names={aqua:\\\"#00ffff\\\",black:\\\"#000000\\\",blue:\\\"#0000ff\\\",fuchsia:\\\"#ff00ff\\\",gray:\\\"#808080\\\",green:\\\"#008000\\\",lime:\\\"#00ff00\\\",maroon:\\\"#800000\\\",navy:\\\"#000080\\\",olive:\\\"#808000\\\",purple:\\\"#800080\\\",red:\\\"#ff0000\\\",silver:\\\"#c0c0c0\\\",teal:\\\"#008080\\\",white:\\\"#ffffff\\\",yellow:\\\"#ffff00\\\",transparent:[null,null,null,0],_default:\\\"#ffffff\\\"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],\\\"string\\\"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)\\\"string\\\"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=[\\\"add\\\",\\\"remove\\\",\\\"toggle\\\"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each([\\\"borderLeftStyle\\\",\\\"borderRightStyle\\\",\\\"borderBottomStyle\\\",\\\"borderTopStyle\\\"],function(t,i){e.fx.step[i]=function(e){(\\\"none\\\"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr(\\\"class\\\")||\\\"\\\",l=h.children?o.find(\\\"*\\\").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+\\\"Class\\\"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr(\\\"class\\\",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,\\\"\\\")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return\\\"boolean\\\"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),(\\\"number\\\"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:\\\"number\\\"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||\\\"number\\\"==typeof t||e.fx.speeds[t]?!0:\\\"string\\\"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:\\\"object\\\"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:\\\"1.11.4\\\",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=\\\"\\\"),e.css(t[s],i))},setMode:function(e,t){return\\\"toggle\\\"===t&&(t=e.is(\\\":hidden\\\")?\\\"show\\\":\\\"hide\\\"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case\\\"top\\\":i=0;break;case\\\"middle\\\":i=.5;break;case\\\"bottom\\\":i=1;break;default:i=e[0]/t.height}switch(e[1]){case\\\"left\\\":s=0;break;case\\\"center\\\":s=.5;break;case\\\"right\\\":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(\\\".ui-effects-wrapper\\\"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),\\\"float\\\":t.css(\\\"float\\\")},s=e(\\\"<div></div>\\\").addClass(\\\"ui-effects-wrapper\\\").css({fontSize:\\\"100%\\\",background:\\\"transparent\\\",border:\\\"none\\\",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),\\\"static\\\"===t.css(\\\"position\\\")?(s.css({position:\\\"relative\\\"}),t.css({position:\\\"relative\\\"})):(e.extend(i,{position:t.css(\\\"position\\\"),zIndex:t.css(\\\"z-index\\\")}),e.each([\\\"top\\\",\\\"left\\\",\\\"bottom\\\",\\\"right\\\"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]=\\\"auto\\\")}),t.css({position:\\\"relative\\\",top:0,left:0,right:\\\"auto\\\",bottom:\\\"auto\\\"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;\\nreturn t.parent().is(\\\".ui-effects-wrapper\\\")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(\\\":hidden\\\")?\\\"hide\\\"===r:\\\"show\\\"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||\\\"fx\\\",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode=\\\"show\\\",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode=\\\"hide\\\",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||\\\"boolean\\\"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode=\\\"toggle\\\",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each([\\\"em\\\",\\\"px\\\",\\\"%\\\",\\\"pt\\\"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each([\\\"Quad\\\",\\\"Cubic\\\",\\\"Quart\\\",\\\"Quint\\\",\\\"Expo\\\"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing[\\\"easeIn\\\"+t]=i,e.easing[\\\"easeOut\\\"+t]=function(e){return 1-i(1-e)},e.easing[\\\"easeInOut\\\"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],u=e.effects.setMode(o,t.mode||\\\"hide\\\"),d=t.direction||\\\"up\\\",c=r.test(d),p=c?\\\"height\\\":\\\"width\\\",f=c?\\\"top\\\":\\\"left\\\",m=h.test(d),g={},v=\\\"show\\\"===u;o.parent().is(\\\".ui-effects-wrapper\\\")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:\\\"hidden\\\"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?\\\"bottom\\\":\\\"right\\\",0).css(c?\\\"top\\\":\\\"left\\\",\\\"auto\\\").css({position:\\\"absolute\\\"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){\\\"hide\\\"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],h=e.effects.setMode(o,t.mode||\\\"effect\\\"),l=\\\"hide\\\"===h,u=\\\"show\\\"===h,d=t.direction||\\\"up\\\",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v=\\\"up\\\"===d||\\\"down\\\"===d?\\\"top\\\":\\\"left\\\",y=\\\"up\\\"===d||\\\"left\\\"===d,b=o.queue(),_=b.length;for((u||l)&&r.push(\\\"opacity\\\"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o[\\\"top\\\"===v?\\\"outerHeight\\\":\\\"outerWidth\\\"]()/3),u&&(a={opacity:1},a[v]=0,o.css(\\\"opacity\\\",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?\\\"-=\\\":\\\"+=\\\")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?\\\"-=\\\":\\\"+=\\\")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],h=e.effects.setMode(o,t.mode||\\\"hide\\\"),l=\\\"show\\\"===h,u=t.direction||\\\"vertical\\\",d=\\\"vertical\\\"===u,c=d?\\\"height\\\":\\\"width\\\",p=d?\\\"top\\\":\\\"left\\\",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:\\\"hidden\\\"}),n=\\\"IMG\\\"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"opacity\\\",\\\"height\\\",\\\"width\\\"],o=e.effects.setMode(n,t.mode||\\\"hide\\\"),r=\\\"show\\\"===o,h=t.direction||\\\"left\\\",l=\\\"up\\\"===h||\\\"down\\\"===h?\\\"top\\\":\\\"left\\\",u=\\\"up\\\"===h||\\\"left\\\"===h?\\\"pos\\\":\\\"neg\\\",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n[\\\"top\\\"===l?\\\"outerHeight\\\":\\\"outerWidth\\\"](!0)/2,r&&n.css(\\\"opacity\\\",0).css(l,\\\"pos\\\"===u?-s:s),d[l]=(r?\\\"pos\\\"===u?\\\"+=\\\":\\\"-=\\\":\\\"pos\\\"===u?\\\"-=\\\":\\\"+=\\\")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){\\\"hide\\\"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:\\\"visible\\\"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||\\\"hide\\\"),m=\\\"show\\\"===f,g=p.show().css(\\\"visibility\\\",\\\"hidden\\\").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo(\\\"body\\\").wrap(\\\"<div></div>\\\").css({position:\\\"absolute\\\",visibility:\\\"visible\\\",left:-o*v,top:-a*y}).parent().addClass(\\\"ui-effects-explode\\\").css({position:\\\"absolute\\\",overflow:\\\"hidden\\\",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||\\\"toggle\\\");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],r=e.effects.setMode(a,t.mode||\\\"hide\\\"),h=\\\"show\\\"===r,l=\\\"hide\\\"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?[\\\"width\\\",\\\"height\\\"]:[\\\"height\\\",\\\"width\\\"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:\\\"hidden\\\"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=[\\\"backgroundImage\\\",\\\"backgroundColor\\\",\\\"opacity\\\"],a=e.effects.setMode(s,t.mode||\\\"show\\\"),o={backgroundColor:s.css(\\\"backgroundColor\\\")};\\\"hide\\\"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:\\\"none\\\",backgroundColor:t.color||\\\"#ffff99\\\"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){\\\"hide\\\"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"width\\\",\\\"height\\\",\\\"overflow\\\",\\\"opacity\\\"],h=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"overflow\\\",\\\"opacity\\\"],l=[\\\"width\\\",\\\"height\\\",\\\"overflow\\\"],u=[\\\"fontSize\\\"],d=[\\\"borderTopWidth\\\",\\\"borderBottomWidth\\\",\\\"paddingTop\\\",\\\"paddingBottom\\\"],c=[\\\"borderLeftWidth\\\",\\\"borderRightWidth\\\",\\\"paddingLeft\\\",\\\"paddingRight\\\"],p=e.effects.setMode(o,t.mode||\\\"effect\\\"),f=t.restore||\\\"effect\\\"!==p,m=t.scale||\\\"both\\\",g=t.origin||[\\\"middle\\\",\\\"center\\\"],v=o.css(\\\"position\\\"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};\\\"show\\\"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},\\\"toggle\\\"===t.mode&&\\\"show\\\"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||(\\\"show\\\"===p?b:s),o.to=t.to||(\\\"hide\\\"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},(\\\"box\\\"===m||\\\"both\\\"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),(\\\"content\\\"===m||\\\"both\\\"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css(\\\"overflow\\\",\\\"hidden\\\").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),(\\\"content\\\"===m||\\\"both\\\"===m)&&(d=d.concat([\\\"marginTop\\\",\\\"marginBottom\\\"]).concat(u),c=c.concat([\\\"marginLeft\\\",\\\"marginRight\\\"]),l=r.concat(d).concat(c),o.find(\\\"*[width]\\\").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css(\\\"opacity\\\",o.from.opacity),\\\"hide\\\"===p&&o.hide(),e.effects.restore(o,y),f||(\\\"static\\\"===v?o.css({position:\\\"relative\\\",top:o.to.top,left:o.to.left}):e.each([\\\"top\\\",\\\"left\\\"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return\\\"auto\\\"===i?n+\\\"px\\\":s+n+\\\"px\\\"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||\\\"effect\\\"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:\\\"hide\\\"===a?0:100),r=t.direction||\\\"both\\\",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:\\\"horizontal\\\"!==r?o/100:1,x:\\\"vertical\\\"!==r?o/100:1};n.effect=\\\"size\\\",n.queue=!1,n.complete=i,\\\"effect\\\"!==a&&(n.origin=h||[\\\"middle\\\",\\\"center\\\"],n.restore=!0),n.from=t.from||(\\\"show\\\"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&(\\\"show\\\"===a&&(n.from.opacity=0,n.to.opacity=1),\\\"hide\\\"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||\\\"hide\\\"),a=\\\"hide\\\"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:\\\"scale\\\",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||\\\"show\\\"),o=\\\"show\\\"===a,r=\\\"hide\\\"===a,h=o||\\\"hide\\\"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(\\\":visible\\\"))&&(n.css(\\\"opacity\\\",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"height\\\",\\\"width\\\"],o=e.effects.setMode(n,t.mode||\\\"effect\\\"),r=t.direction||\\\"left\\\",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c=\\\"up\\\"===r||\\\"down\\\"===r?\\\"top\\\":\\\"left\\\",p=\\\"up\\\"===r||\\\"left\\\"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?\\\"-=\\\":\\\"+=\\\")+h,m[c]=(p?\\\"+=\\\":\\\"-=\\\")+2*h,g[c]=(p?\\\"-=\\\":\\\"+=\\\")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){\\\"hide\\\"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=[\\\"position\\\",\\\"top\\\",\\\"bottom\\\",\\\"left\\\",\\\"right\\\",\\\"width\\\",\\\"height\\\"],o=e.effects.setMode(n,t.mode||\\\"show\\\"),r=\\\"show\\\"===o,h=t.direction||\\\"left\\\",l=\\\"up\\\"===h||\\\"down\\\"===h?\\\"top\\\":\\\"left\\\",u=\\\"up\\\"===h||\\\"left\\\"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n[\\\"top\\\"===l?\\\"outerHeight\\\":\\\"outerWidth\\\"](!0),e.effects.createWrapper(n).css({overflow:\\\"hidden\\\"}),r&&n.css(l,u?isNaN(s)?\\\"-\\\"+s:-s:s),d[l]=(r?u?\\\"+=\\\":\\\"-=\\\":u?\\\"-=\\\":\\\"+=\\\")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){\\\"hide\\\"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a=\\\"fixed\\\"===n.css(\\\"position\\\"),o=e(\\\"body\\\"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e(\\\"<div class='ui-effects-transfer'></div>\\\").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?\\\"fixed\\\":\\\"absolute\\\"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}});\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./lib/jquery-ui/js/jquery-ui-1.11.4.custom.min.js\n// module id = 24\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/lib/jquery/jquery.iframe.transport.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./lib/jquery/jquery.iframe.transport.js\n// module id = 25\n// module chunks = 0","module.exports = \"// This [jQuery](http://jquery.com/) plugin implements an `<iframe>`\\n// [transport](http://api.jquery.com/extending-ajax/#Transports) so that\\n// `$.ajax()` calls support the uploading of files using standard HTML file\\n// input fields. This is done by switching the exchange from `XMLHttpRequest`\\n// to a hidden `iframe` element containing a form that is submitted.\\n\\n// The [source for the plugin](http://github.com/cmlenz/jquery-iframe-transport)\\n// is available on [Github](http://github.com/) and dual licensed under the MIT\\n// or GPL Version 2 licenses.\\n\\n// ## Usage\\n\\n// To use this plugin, you simply add an `iframe` option with the value `true`\\n// to the Ajax settings an `$.ajax()` call, and specify the file fields to\\n// include in the submssion using the `files` option, which can be a selector,\\n// jQuery object, or a list of DOM elements containing one or more\\n// `<input type=\\\"file\\\">` elements:\\n\\n//     $(\\\"#myform\\\").submit(function() {\\n//         $.ajax(this.action, {\\n//             files: $(\\\":file\\\", this),\\n//             iframe: true\\n//         }).complete(function(data) {\\n//             console.log(data);\\n//         });\\n//     });\\n\\n// The plugin will construct a hidden `<iframe>` element containing a copy of\\n// the form the file field belongs to, will disable any form fields not\\n// explicitly included, submit that form, and process the response.\\n\\n// If you want to include other form fields in the form submission, include\\n// them in the `data` option, and set the `processData` option to `false`:\\n\\n//     $(\\\"#myform\\\").submit(function() {\\n//         $.ajax(this.action, {\\n//             data: $(\\\":text\\\", this).serializeArray(),\\n//             files: $(\\\":file\\\", this),\\n//             iframe: true,\\n//             processData: false\\n//         }).complete(function(data) {\\n//             console.log(data);\\n//         });\\n//     });\\n\\n// ### Response Data Types\\n\\n// As the transport does not have access to the HTTP headers of the server\\n// response, it is not as simple to make use of the automatic content type\\n// detection provided by jQuery as with regular XHR. If you can't set the\\n// expected response data type (for example because it may vary), you will\\n// need to employ a workaround on the server side: Send back an HTML document\\n// containing just a `<textarea>` element with a `data-type` attribute that\\n// specifies the MIME type, and put the actual payload in the textarea:\\n\\n//     <textarea data-type=\\\"application/json\\\">\\n//       {\\\"ok\\\": true, \\\"message\\\": \\\"Thanks so much\\\"}\\n//     </textarea>\\n\\n// The iframe transport plugin will detect this and pass the value of the\\n// `data-type` attribute on to jQuery as if it was the \\\"Content-Type\\\" response\\n// header, thereby enabling the same kind of conversions that jQuery applies\\n// to regular responses. For the example above you should get a Javascript\\n// object as the `data` parameter of the `complete` callback, with the\\n// properties `ok: true` and `message: \\\"Thanks so much\\\"`.\\n\\n// ### Handling Server Errors\\n\\n// Another problem with using an `iframe` for file uploads is that it is\\n// impossible for the javascript code to determine the HTTP status code of the\\n// servers response. Effectively, all of the calls you make will look like they\\n// are getting successful responses, and thus invoke the `done()` or\\n// `complete()` callbacks. You can only determine communicate problems using\\n// the content of the response payload. For example, consider using a JSON\\n// response such as the following to indicate a problem with an uploaded file:\\n\\n//     <textarea data-type=\\\"application/json\\\">\\n//       {\\\"ok\\\": false, \\\"message\\\": \\\"Please only upload reasonably sized files.\\\"}\\n//     </textarea>\\n\\n// ### Compatibility\\n\\n// This plugin has primarily been tested on Safari 5 (or later), Firefox 4 (or\\n// later), and Internet Explorer (all the way back to version 6). While I\\n// haven't found any issues with it so far, I'm fairly sure it still doesn't\\n// work around all the quirks in all different browsers. But the code is still\\n// pretty simple overall, so you should be able to fix it and contribute a\\n// patch :)\\n\\n// ## Annotated Source\\n\\n(function($, undefined) {\\n  \\\"use strict\\\";\\n\\n  // Register a prefilter that checks whether the `iframe` option is set, and\\n  // switches to the \\\"iframe\\\" data type if it is `true`.\\n  $.ajaxPrefilter(function(options, origOptions, jqXHR) {\\n    if (options.iframe) {\\n      return \\\"iframe\\\";\\n    }\\n  });\\n\\n  // Register a transport for the \\\"iframe\\\" data type. It will only activate\\n  // when the \\\"files\\\" option has been set to a non-empty list of enabled file\\n  // inputs.\\n  $.ajaxTransport(\\\"iframe\\\", function(options, origOptions, jqXHR) {\\n    var form = null,\\n        iframe = null,\\n        name = \\\"iframe-\\\" + $.now(),\\n        files = $(options.files).filter(\\\":file:enabled\\\"),\\n        markers = null;\\n\\n    // This function gets called after a successful submission or an abortion\\n    // and should revert all changes made to the page to enable the\\n    // submission via this transport.\\n    function cleanUp() {\\n      markers.replaceWith(function(idx) {\\n        return files.get(idx);\\n      });\\n      form.remove();\\n      iframe.attr(\\\"src\\\", \\\"javascript:false;\\\").remove();\\n    }\\n\\n    // Remove \\\"iframe\\\" from the data types list so that further processing is\\n    // based on the content type returned by the server, without attempting an\\n    // (unsupported) conversion from \\\"iframe\\\" to the actual type.\\n    options.dataTypes.shift();\\n\\n    if (files.length) {\\n      form = $(\\\"<form enctype='multipart/form-data' method='post'></form>\\\").\\n        hide().attr({action: options.url, target: name});\\n\\n      // If there is any additional data specified via the `data` option,\\n      // we add it as hidden fields to the form. This (currently) requires\\n      // the `processData` option to be set to false so that the data doesn't\\n      // get serialized to a string.\\n      if (typeof(options.data) === \\\"string\\\" && options.data.length > 0) {\\n        $.error(\\\"data must not be serialized\\\");\\n      }\\n      $.each(options.data || {}, function(name, value) {\\n        if ($.isPlainObject(value)) {\\n          name = value.name;\\n          value = value.value;\\n        }\\n        $(\\\"<input type='hidden'>\\\").attr({name:  name, value: value}).\\n          appendTo(form);\\n      });\\n\\n      // Add a hidden `X-Requested-With` field with the value `IFrame` to the\\n      // field, to help server-side code to determine that the upload happened\\n      // through this transport.\\n      $(\\\"<input type='hidden' value='IFrame' name='X-Requested-With'>\\\").\\n        appendTo(form);\\n\\n      // Move the file fields into the hidden form, but first remember their\\n      // original locations in the document by replacing them with disabled\\n      // clones. This should also avoid introducing unwanted changes to the\\n      // page layout during submission.\\n      markers = files.after(function(idx) {\\n        return $(this).clone().prop(\\\"disabled\\\", true);\\n      }).next();\\n      files.appendTo(form);\\n\\n      return {\\n\\n        // The `send` function is called by jQuery when the request should be\\n        // sent.\\n        send: function(headers, completeCallback) {\\n          iframe = $(\\\"<iframe src='javascript:false;' name='\\\" + name +\\n            \\\"' style='display:none'></iframe>\\\");\\n\\n          // The first load event gets fired after the iframe has been injected\\n          // into the DOM, and is used to prepare the actual submission.\\n          iframe.bind(\\\"load\\\", function() {\\n\\n            // The second load event gets fired when the response to the form\\n            // submission is received. The implementation detects whether the\\n            // actual payload is embedded in a `<textarea>` element, and\\n            // prepares the required conversions to be made in that case.\\n            iframe.unbind(\\\"load\\\").bind(\\\"load\\\", function() {\\n              var doc = this.contentWindow ? this.contentWindow.document :\\n                (this.contentDocument ? this.contentDocument : this.document),\\n                root = doc.documentElement ? doc.documentElement : doc.body,\\n                textarea = root.getElementsByTagName(\\\"textarea\\\")[0],\\n                type = textarea ? textarea.getAttribute(\\\"data-type\\\") : null,\\n                content = {\\n                  html: root.innerHTML,\\n                  text: type ?\\n                    textarea.value :\\n                    root ? (root.innerText || root.textContent) : null\\n                };\\n              cleanUp();\\n              completeCallback(200, \\\"OK\\\", content, type ?\\n                (\\\"Content-Type: \\\" + type) :\\n                null);\\n            });\\n\\n            // Now that the load handler has been set up, submit the form.\\n            form[0].submit();\\n          });\\n\\n          // After everything has been set up correctly, the form and iframe\\n          // get injected into the DOM so that the submission can be\\n          // initiated.\\n          $(\\\"body\\\").append(form, iframe);\\n        },\\n\\n        // The `abort` function is called by jQuery when the request should be\\n        // aborted.\\n        abort: function() {\\n          if (iframe !== null) {\\n            iframe.unbind(\\\"load\\\").attr(\\\"src\\\", \\\"javascript:false;\\\");\\n            cleanUp();\\n          }\\n        }\\n\\n      };\\n    }\\n  });\\n\\n})(jQuery);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./lib/jquery/jquery.iframe.transport.js\n// module id = 26\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/lib/php-js/version_compare.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./lib/php-js/version_compare.js\n// module id = 27\n// module chunks = 0","module.exports = \"/*\\n * Your installation or use of this SugarCRM file is subject to the applicable\\n * terms available at\\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\\n * If you do not agree to all of the applicable terms or do not have the\\n * authority to bind the entity as an authorized representative, then do not\\n * install or use this SugarCRM file.\\n *\\n * Copyright (C) SugarCRM Inc. All rights reserved.\\n */\\nfunction version_compare (v1, v2, operator) {\\n  // http://kevin.vanzonneveld.net\\n  // +      original by: Philippe Jausions (http://pear.php.net/user/jausions)\\n  // +      original by: Aidan Lister (http://aidanlister.com/)\\n  // + reimplemented by: Kankrelune (http://www.webfaktory.info/)\\n  // +      improved by: Brett Zamir (http://brett-zamir.me)\\n  // +      improved by: Scott Baker\\n  // +      improved by: Theriault\\n  // *        example 1: version_compare('8.2.5rc', '8.2.5a');\\n  // *        returns 1: 1\\n  // *        example 2: version_compare('8.2.50', '8.2.52', '<');\\n  // *        returns 2: true\\n  // *        example 3: version_compare('5.3.0-dev', '5.3.0');\\n  // *        returns 3: -1\\n  // *        example 4: version_compare('4.1.0.52','4.01.0.51');\\n  // *        returns 4: 1\\n  // BEGIN REDUNDANT\\n  this.php_js = this.php_js || {};\\n  this.php_js.ENV = this.php_js.ENV || {};\\n  // END REDUNDANT\\n  // Important: compare must be initialized at 0.\\n  var i = 0,\\n    x = 0,\\n    compare = 0,\\n    // vm maps textual PHP versions to negatives so they're less than 0.\\n    // PHP currently defines these as CASE-SENSITIVE. It is important to\\n    // leave these as negatives so that they can come before numerical versions\\n    // and as if no letters were there to begin with.\\n    // (1alpha is < 1 and < 1.1 but > 1dev1)\\n    // If a non-numerical value can't be mapped to this table, it receives\\n    // -7 as its value.\\n    vm = {\\n      'dev': -6,\\n      'alpha': -5,\\n      'a': -5,\\n      'beta': -4,\\n      'b': -4,\\n      'RC': -3,\\n      'rc': -3,\\n      '#': -2,\\n      'p': -1,\\n      'pl': -1\\n    },\\n    // This function will be called to prepare each version argument.\\n    // It replaces every _, -, and + with a dot.\\n    // It surrounds any nonsequence of numbers/dots with dots.\\n    // It replaces sequences of dots with a single dot.\\n    //    version_compare('4..0', '4.0') == 0\\n    // Important: A string of 0 length needs to be converted into a value\\n    // even less than an unexisting value in vm (-7), hence [-8].\\n    // It's also important to not strip spaces because of this.\\n    //   version_compare('', ' ') == 1\\n    prepVersion = function (v) {\\n      v = ('' + v).replace(/[_\\\\-+]/g, '.');\\n      v = v.replace(/([^.\\\\d]+)/g, '.$1.').replace(/\\\\.{2,}/g, '.');\\n      return (!v.length ? [-8] : v.split('.'));\\n    },\\n    // This converts a version component to a number.\\n    // Empty component becomes 0.\\n    // Non-numerical component becomes a negative number.\\n    // Numerical component becomes itself as an integer.\\n    numVersion = function (v) {\\n      return !v ? 0 : (isNaN(v) ? vm[v] || -7 : parseInt(v, 10));\\n    };\\n  v1 = prepVersion(v1);\\n  v2 = prepVersion(v2);\\n  x = Math.max(v1.length, v2.length);\\n  for (i = 0; i < x; i++) {\\n    if (v1[i] == v2[i]) {\\n      continue;\\n    }\\n    v1[i] = numVersion(v1[i]);\\n    v2[i] = numVersion(v2[i]);\\n    if (v1[i] < v2[i]) {\\n      compare = -1;\\n      break;\\n    } else if (v1[i] > v2[i]) {\\n      compare = 1;\\n      break;\\n    }\\n  }\\n  if (!operator) {\\n    return compare;\\n  }\\n\\n  // Important: operator is CASE-SENSITIVE.\\n  // \\\"No operator\\\" seems to be treated as \\\"<.\\\"\\n  // Any other values seem to make the function return null.\\n  switch (operator) {\\n  case '>':\\n  case 'gt':\\n    return (compare > 0);\\n  case '>=':\\n  case 'ge':\\n    return (compare >= 0);\\n  case '<=':\\n  case 'le':\\n    return (compare <= 0);\\n  case '==':\\n  case '=':\\n  case 'eq':\\n    return (compare === 0);\\n  case '<>':\\n  case '!=':\\n  case 'ne':\\n    return (compare !== 0);\\n  case '':\\n  case '<':\\n  case 'lt':\\n    return (compare < 0);\\n  default:\\n    return null;\\n  }\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./lib/php-js/version_compare.js\n// module id = 28\n// module chunks = 0","require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/script-loader/addScript.js\")(require(\"!!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/raw-loader/index.js!/home/ubuntu/jenkins/workspace/7_9_Build/flavor/Ent/label_exp/docker/tmp/sugarbuild/sugarcrm/sidecar/node_modules/big.js/big.js\"))\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader!./~/big.js/big.js\n// module id = 29\n// module chunks = 0","module.exports = \"/* big.js v3.1.3 https://github.com/MikeMcl/big.js/LICENCE */\\r\\n;(function (global) {\\r\\n    'use strict';\\r\\n\\r\\n/*\\r\\n  big.js v3.1.3\\r\\n  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\\r\\n  https://github.com/MikeMcl/big.js/\\r\\n  Copyright (c) 2014 Michael Mclaughlin <M8ch88l@gmail.com>\\r\\n  MIT Expat Licence\\r\\n*/\\r\\n\\r\\n/***************************** EDITABLE DEFAULTS ******************************/\\r\\n\\r\\n    // The default values below must be integers within the stated ranges.\\r\\n\\r\\n    /*\\r\\n     * The maximum number of decimal places of the results of operations\\r\\n     * involving division: div and sqrt, and pow with negative exponents.\\r\\n     */\\r\\n    var DP = 20,                           // 0 to MAX_DP\\r\\n\\r\\n        /*\\r\\n         * The rounding mode used when rounding to the above decimal places.\\r\\n         *\\r\\n         * 0 Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\\r\\n         * 1 To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\\r\\n         * 2 To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\\r\\n         * 3 Away from zero.                                  (ROUND_UP)\\r\\n         */\\r\\n        RM = 1,                            // 0, 1, 2 or 3\\r\\n\\r\\n        // The maximum value of DP and Big.DP.\\r\\n        MAX_DP = 1E6,                      // 0 to 1000000\\r\\n\\r\\n        // The maximum magnitude of the exponent argument to the pow method.\\r\\n        MAX_POWER = 1E6,                   // 1 to 1000000\\r\\n\\r\\n        /*\\r\\n         * The exponent value at and beneath which toString returns exponential\\r\\n         * notation.\\r\\n         * JavaScript's Number type: -7\\r\\n         * -1000000 is the minimum recommended exponent value of a Big.\\r\\n         */\\r\\n        E_NEG = -7,                   // 0 to -1000000\\r\\n\\r\\n        /*\\r\\n         * The exponent value at and above which toString returns exponential\\r\\n         * notation.\\r\\n         * JavaScript's Number type: 21\\r\\n         * 1000000 is the maximum recommended exponent value of a Big.\\r\\n         * (This limit is not enforced or checked.)\\r\\n         */\\r\\n        E_POS = 21,                   // 0 to 1000000\\r\\n\\r\\n/******************************************************************************/\\r\\n\\r\\n        // The shared prototype object.\\r\\n        P = {},\\r\\n        isValid = /^-?(\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)(e[+-]?\\\\d+)?$/i,\\r\\n        Big;\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Create and return a Big constructor.\\r\\n     *\\r\\n     */\\r\\n    function bigFactory() {\\r\\n\\r\\n        /*\\r\\n         * The Big constructor and exported function.\\r\\n         * Create and return a new instance of a Big number object.\\r\\n         *\\r\\n         * n {number|string|Big} A numeric value.\\r\\n         */\\r\\n        function Big(n) {\\r\\n            var x = this;\\r\\n\\r\\n            // Enable constructor usage without new.\\r\\n            if (!(x instanceof Big)) {\\r\\n                return n === void 0 ? bigFactory() : new Big(n);\\r\\n            }\\r\\n\\r\\n            // Duplicate.\\r\\n            if (n instanceof Big) {\\r\\n                x.s = n.s;\\r\\n                x.e = n.e;\\r\\n                x.c = n.c.slice();\\r\\n            } else {\\r\\n                parse(x, n);\\r\\n            }\\r\\n\\r\\n            /*\\r\\n             * Retain a reference to this Big constructor, and shadow\\r\\n             * Big.prototype.constructor which points to Object.\\r\\n             */\\r\\n            x.constructor = Big;\\r\\n        }\\r\\n\\r\\n        Big.prototype = P;\\r\\n        Big.DP = DP;\\r\\n        Big.RM = RM;\\r\\n        Big.E_NEG = E_NEG;\\r\\n        Big.E_POS = E_POS;\\r\\n\\r\\n        return Big;\\r\\n    }\\r\\n\\r\\n\\r\\n    // Private functions\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of Big x in normal or exponential\\r\\n     * notation to dp fixed decimal places or significant digits.\\r\\n     *\\r\\n     * x {Big} The Big to format.\\r\\n     * dp {number} Integer, 0 to MAX_DP inclusive.\\r\\n     * toE {number} 1 (toExponential), 2 (toPrecision) or undefined (toFixed).\\r\\n     */\\r\\n    function format(x, dp, toE) {\\r\\n        var Big = x.constructor,\\r\\n\\r\\n            // The index (normal notation) of the digit that may be rounded up.\\r\\n            i = dp - (x = new Big(x)).e,\\r\\n            c = x.c;\\r\\n\\r\\n        // Round?\\r\\n        if (c.length > ++dp) {\\r\\n            rnd(x, i, Big.RM);\\r\\n        }\\r\\n\\r\\n        if (!c[0]) {\\r\\n            ++i;\\r\\n        } else if (toE) {\\r\\n            i = dp;\\r\\n\\r\\n        // toFixed\\r\\n        } else {\\r\\n            c = x.c;\\r\\n\\r\\n            // Recalculate i as x.e may have changed if value rounded up.\\r\\n            i = x.e + i + 1;\\r\\n        }\\r\\n\\r\\n        // Append zeros?\\r\\n        for (; c.length < i; c.push(0)) {\\r\\n        }\\r\\n        i = x.e;\\r\\n\\r\\n        /*\\r\\n         * toPrecision returns exponential notation if the number of\\r\\n         * significant digits specified is less than the number of digits\\r\\n         * necessary to represent the integer part of the value in normal\\r\\n         * notation.\\r\\n         */\\r\\n        return toE === 1 || toE && (dp <= i || i <= Big.E_NEG) ?\\r\\n\\r\\n          // Exponential notation.\\r\\n          (x.s < 0 && c[0] ? '-' : '') +\\r\\n            (c.length > 1 ? c[0] + '.' + c.join('').slice(1) : c[0]) +\\r\\n              (i < 0 ? 'e' : 'e+') + i\\r\\n\\r\\n          // Normal notation.\\r\\n          : x.toString();\\r\\n    }\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Parse the number or string value passed to a Big constructor.\\r\\n     *\\r\\n     * x {Big} A Big number instance.\\r\\n     * n {number|string} A numeric value.\\r\\n     */\\r\\n    function parse(x, n) {\\r\\n        var e, i, nL;\\r\\n\\r\\n        // Minus zero?\\r\\n        if (n === 0 && 1 / n < 0) {\\r\\n            n = '-0';\\r\\n\\r\\n        // Ensure n is string and check validity.\\r\\n        } else if (!isValid.test(n += '')) {\\r\\n            throwErr(NaN);\\r\\n        }\\r\\n\\r\\n        // Determine sign.\\r\\n        x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\\r\\n\\r\\n        // Decimal point?\\r\\n        if ((e = n.indexOf('.')) > -1) {\\r\\n            n = n.replace('.', '');\\r\\n        }\\r\\n\\r\\n        // Exponential form?\\r\\n        if ((i = n.search(/e/i)) > 0) {\\r\\n\\r\\n            // Determine exponent.\\r\\n            if (e < 0) {\\r\\n                e = i;\\r\\n            }\\r\\n            e += +n.slice(i + 1);\\r\\n            n = n.substring(0, i);\\r\\n\\r\\n        } else if (e < 0) {\\r\\n\\r\\n            // Integer.\\r\\n            e = n.length;\\r\\n        }\\r\\n\\r\\n        // Determine leading zeros.\\r\\n        for (i = 0; n.charAt(i) == '0'; i++) {\\r\\n        }\\r\\n\\r\\n        if (i == (nL = n.length)) {\\r\\n\\r\\n            // Zero.\\r\\n            x.c = [ x.e = 0 ];\\r\\n        } else {\\r\\n\\r\\n            // Determine trailing zeros.\\r\\n            for (; n.charAt(--nL) == '0';) {\\r\\n            }\\r\\n\\r\\n            x.e = e - i - 1;\\r\\n            x.c = [];\\r\\n\\r\\n            // Convert string to array of digits without leading/trailing zeros.\\r\\n            for (e = 0; i <= nL; x.c[e++] = +n.charAt(i++)) {\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return x;\\r\\n    }\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Round Big x to a maximum of dp decimal places using rounding mode rm.\\r\\n     * Called by div, sqrt and round.\\r\\n     *\\r\\n     * x {Big} The Big to round.\\r\\n     * dp {number} Integer, 0 to MAX_DP inclusive.\\r\\n     * rm {number} 0, 1, 2 or 3 (DOWN, HALF_UP, HALF_EVEN, UP)\\r\\n     * [more] {boolean} Whether the result of division was truncated.\\r\\n     */\\r\\n    function rnd(x, dp, rm, more) {\\r\\n        var u,\\r\\n            xc = x.c,\\r\\n            i = x.e + dp + 1;\\r\\n\\r\\n        if (rm === 1) {\\r\\n\\r\\n            // xc[i] is the digit after the digit that may be rounded up.\\r\\n            more = xc[i] >= 5;\\r\\n        } else if (rm === 2) {\\r\\n            more = xc[i] > 5 || xc[i] == 5 &&\\r\\n              (more || i < 0 || xc[i + 1] !== u || xc[i - 1] & 1);\\r\\n        } else if (rm === 3) {\\r\\n            more = more || xc[i] !== u || i < 0;\\r\\n        } else {\\r\\n            more = false;\\r\\n\\r\\n            if (rm !== 0) {\\r\\n                throwErr('!Big.RM!');\\r\\n            }\\r\\n        }\\r\\n\\r\\n        if (i < 1 || !xc[0]) {\\r\\n\\r\\n            if (more) {\\r\\n\\r\\n                // 1, 0.1, 0.01, 0.001, 0.0001 etc.\\r\\n                x.e = -dp;\\r\\n                x.c = [1];\\r\\n            } else {\\r\\n\\r\\n                // Zero.\\r\\n                x.c = [x.e = 0];\\r\\n            }\\r\\n        } else {\\r\\n\\r\\n            // Remove any digits after the required decimal places.\\r\\n            xc.length = i--;\\r\\n\\r\\n            // Round up?\\r\\n            if (more) {\\r\\n\\r\\n                // Rounding up may mean the previous digit has to be rounded up.\\r\\n                for (; ++xc[i] > 9;) {\\r\\n                    xc[i] = 0;\\r\\n\\r\\n                    if (!i--) {\\r\\n                        ++x.e;\\r\\n                        xc.unshift(1);\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n\\r\\n            // Remove trailing zeros.\\r\\n            for (i = xc.length; !xc[--i]; xc.pop()) {\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return x;\\r\\n    }\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Throw a BigError.\\r\\n     *\\r\\n     * message {string} The error message.\\r\\n     */\\r\\n    function throwErr(message) {\\r\\n        var err = new Error(message);\\r\\n        err.name = 'BigError';\\r\\n\\r\\n        throw err;\\r\\n    }\\r\\n\\r\\n\\r\\n    // Prototype/instance methods\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the absolute value of this Big.\\r\\n     */\\r\\n    P.abs = function () {\\r\\n        var x = new this.constructor(this);\\r\\n        x.s = 1;\\r\\n\\r\\n        return x;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return\\r\\n     * 1 if the value of this Big is greater than the value of Big y,\\r\\n     * -1 if the value of this Big is less than the value of Big y, or\\r\\n     * 0 if they have the same value.\\r\\n    */\\r\\n    P.cmp = function (y) {\\r\\n        var xNeg,\\r\\n            x = this,\\r\\n            xc = x.c,\\r\\n            yc = (y = new x.constructor(y)).c,\\r\\n            i = x.s,\\r\\n            j = y.s,\\r\\n            k = x.e,\\r\\n            l = y.e;\\r\\n\\r\\n        // Either zero?\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n            return !xc[0] ? !yc[0] ? 0 : -j : i;\\r\\n        }\\r\\n\\r\\n        // Signs differ?\\r\\n        if (i != j) {\\r\\n            return i;\\r\\n        }\\r\\n        xNeg = i < 0;\\r\\n\\r\\n        // Compare exponents.\\r\\n        if (k != l) {\\r\\n            return k > l ^ xNeg ? 1 : -1;\\r\\n        }\\r\\n\\r\\n        i = -1;\\r\\n        j = (k = xc.length) < (l = yc.length) ? k : l;\\r\\n\\r\\n        // Compare digit by digit.\\r\\n        for (; ++i < j;) {\\r\\n\\r\\n            if (xc[i] != yc[i]) {\\r\\n                return xc[i] > yc[i] ^ xNeg ? 1 : -1;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // Compare lengths.\\r\\n        return k == l ? 0 : k > l ^ xNeg ? 1 : -1;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big divided by the\\r\\n     * value of Big y, rounded, if necessary, to a maximum of Big.DP decimal\\r\\n     * places using rounding mode Big.RM.\\r\\n     */\\r\\n    P.div = function (y) {\\r\\n        var x = this,\\r\\n            Big = x.constructor,\\r\\n            // dividend\\r\\n            dvd = x.c,\\r\\n            //divisor\\r\\n            dvs = (y = new Big(y)).c,\\r\\n            s = x.s == y.s ? 1 : -1,\\r\\n            dp = Big.DP;\\r\\n\\r\\n        if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\\r\\n            throwErr('!Big.DP!');\\r\\n        }\\r\\n\\r\\n        // Either 0?\\r\\n        if (!dvd[0] || !dvs[0]) {\\r\\n\\r\\n            // If both are 0, throw NaN\\r\\n            if (dvd[0] == dvs[0]) {\\r\\n                throwErr(NaN);\\r\\n            }\\r\\n\\r\\n            // If dvs is 0, throw +-Infinity.\\r\\n            if (!dvs[0]) {\\r\\n                throwErr(s / 0);\\r\\n            }\\r\\n\\r\\n            // dvd is 0, return +-0.\\r\\n            return new Big(s * 0);\\r\\n        }\\r\\n\\r\\n        var dvsL, dvsT, next, cmp, remI, u,\\r\\n            dvsZ = dvs.slice(),\\r\\n            dvdI = dvsL = dvs.length,\\r\\n            dvdL = dvd.length,\\r\\n            // remainder\\r\\n            rem = dvd.slice(0, dvsL),\\r\\n            remL = rem.length,\\r\\n            // quotient\\r\\n            q = y,\\r\\n            qc = q.c = [],\\r\\n            qi = 0,\\r\\n            digits = dp + (q.e = x.e - y.e) + 1;\\r\\n\\r\\n        q.s = s;\\r\\n        s = digits < 0 ? 0 : digits;\\r\\n\\r\\n        // Create version of divisor with leading zero.\\r\\n        dvsZ.unshift(0);\\r\\n\\r\\n        // Add zeros to make remainder as long as divisor.\\r\\n        for (; remL++ < dvsL; rem.push(0)) {\\r\\n        }\\r\\n\\r\\n        do {\\r\\n\\r\\n            // 'next' is how many times the divisor goes into current remainder.\\r\\n            for (next = 0; next < 10; next++) {\\r\\n\\r\\n                // Compare divisor and remainder.\\r\\n                if (dvsL != (remL = rem.length)) {\\r\\n                    cmp = dvsL > remL ? 1 : -1;\\r\\n                } else {\\r\\n\\r\\n                    for (remI = -1, cmp = 0; ++remI < dvsL;) {\\r\\n\\r\\n                        if (dvs[remI] != rem[remI]) {\\r\\n                            cmp = dvs[remI] > rem[remI] ? 1 : -1;\\r\\n                            break;\\r\\n                        }\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                // If divisor < remainder, subtract divisor from remainder.\\r\\n                if (cmp < 0) {\\r\\n\\r\\n                    // Remainder can't be more than 1 digit longer than divisor.\\r\\n                    // Equalise lengths using divisor with extra leading zero?\\r\\n                    for (dvsT = remL == dvsL ? dvs : dvsZ; remL;) {\\r\\n\\r\\n                        if (rem[--remL] < dvsT[remL]) {\\r\\n                            remI = remL;\\r\\n\\r\\n                            for (; remI && !rem[--remI]; rem[remI] = 9) {\\r\\n                            }\\r\\n                            --rem[remI];\\r\\n                            rem[remL] += 10;\\r\\n                        }\\r\\n                        rem[remL] -= dvsT[remL];\\r\\n                    }\\r\\n                    for (; !rem[0]; rem.shift()) {\\r\\n                    }\\r\\n                } else {\\r\\n                    break;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            // Add the 'next' digit to the result array.\\r\\n            qc[qi++] = cmp ? next : ++next;\\r\\n\\r\\n            // Update the remainder.\\r\\n            if (rem[0] && cmp) {\\r\\n                rem[remL] = dvd[dvdI] || 0;\\r\\n            } else {\\r\\n                rem = [ dvd[dvdI] ];\\r\\n            }\\r\\n\\r\\n        } while ((dvdI++ < dvdL || rem[0] !== u) && s--);\\r\\n\\r\\n        // Leading zero? Do not remove if result is simply zero (qi == 1).\\r\\n        if (!qc[0] && qi != 1) {\\r\\n\\r\\n            // There can't be more than one zero.\\r\\n            qc.shift();\\r\\n            q.e--;\\r\\n        }\\r\\n\\r\\n        // Round?\\r\\n        if (qi > digits) {\\r\\n            rnd(q, dp, Big.RM, rem[0] !== u);\\r\\n        }\\r\\n\\r\\n        return q;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is equal to the value of Big y,\\r\\n     * otherwise returns false.\\r\\n     */\\r\\n    P.eq = function (y) {\\r\\n        return !this.cmp(y);\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is greater than the value of Big y,\\r\\n     * otherwise returns false.\\r\\n     */\\r\\n    P.gt = function (y) {\\r\\n        return this.cmp(y) > 0;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is greater than or equal to the\\r\\n     * value of Big y, otherwise returns false.\\r\\n     */\\r\\n    P.gte = function (y) {\\r\\n        return this.cmp(y) > -1;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is less than the value of Big y,\\r\\n     * otherwise returns false.\\r\\n     */\\r\\n    P.lt = function (y) {\\r\\n        return this.cmp(y) < 0;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return true if the value of this Big is less than or equal to the value\\r\\n     * of Big y, otherwise returns false.\\r\\n     */\\r\\n    P.lte = function (y) {\\r\\n         return this.cmp(y) < 1;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big minus the value\\r\\n     * of Big y.\\r\\n     */\\r\\n    P.sub = P.minus = function (y) {\\r\\n        var i, j, t, xLTy,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            a = x.s,\\r\\n            b = (y = new Big(y)).s;\\r\\n\\r\\n        // Signs differ?\\r\\n        if (a != b) {\\r\\n            y.s = -b;\\r\\n            return x.plus(y);\\r\\n        }\\r\\n\\r\\n        var xc = x.c.slice(),\\r\\n            xe = x.e,\\r\\n            yc = y.c,\\r\\n            ye = y.e;\\r\\n\\r\\n        // Either zero?\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n\\r\\n            // y is non-zero? x is non-zero? Or both are zero.\\r\\n            return yc[0] ? (y.s = -b, y) : new Big(xc[0] ? x : 0);\\r\\n        }\\r\\n\\r\\n        // Determine which is the bigger number.\\r\\n        // Prepend zeros to equalise exponents.\\r\\n        if (a = xe - ye) {\\r\\n\\r\\n            if (xLTy = a < 0) {\\r\\n                a = -a;\\r\\n                t = xc;\\r\\n            } else {\\r\\n                ye = xe;\\r\\n                t = yc;\\r\\n            }\\r\\n\\r\\n            t.reverse();\\r\\n            for (b = a; b--; t.push(0)) {\\r\\n            }\\r\\n            t.reverse();\\r\\n        } else {\\r\\n\\r\\n            // Exponents equal. Check digit by digit.\\r\\n            j = ((xLTy = xc.length < yc.length) ? xc : yc).length;\\r\\n\\r\\n            for (a = b = 0; b < j; b++) {\\r\\n\\r\\n                if (xc[b] != yc[b]) {\\r\\n                    xLTy = xc[b] < yc[b];\\r\\n                    break;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // x < y? Point xc to the array of the bigger number.\\r\\n        if (xLTy) {\\r\\n            t = xc;\\r\\n            xc = yc;\\r\\n            yc = t;\\r\\n            y.s = -y.s;\\r\\n        }\\r\\n\\r\\n        /*\\r\\n         * Append zeros to xc if shorter. No need to add zeros to yc if shorter\\r\\n         * as subtraction only needs to start at yc.length.\\r\\n         */\\r\\n        if (( b = (j = yc.length) - (i = xc.length) ) > 0) {\\r\\n\\r\\n            for (; b--; xc[i++] = 0) {\\r\\n            }\\r\\n        }\\r\\n\\r\\n        // Subtract yc from xc.\\r\\n        for (b = i; j > a;){\\r\\n\\r\\n            if (xc[--j] < yc[j]) {\\r\\n\\r\\n                for (i = j; i && !xc[--i]; xc[i] = 9) {\\r\\n                }\\r\\n                --xc[i];\\r\\n                xc[j] += 10;\\r\\n            }\\r\\n            xc[j] -= yc[j];\\r\\n        }\\r\\n\\r\\n        // Remove trailing zeros.\\r\\n        for (; xc[--b] === 0; xc.pop()) {\\r\\n        }\\r\\n\\r\\n        // Remove leading zeros and adjust exponent accordingly.\\r\\n        for (; xc[0] === 0;) {\\r\\n            xc.shift();\\r\\n            --ye;\\r\\n        }\\r\\n\\r\\n        if (!xc[0]) {\\r\\n\\r\\n            // n - n = +0\\r\\n            y.s = 1;\\r\\n\\r\\n            // Result must be zero.\\r\\n            xc = [ye = 0];\\r\\n        }\\r\\n\\r\\n        y.c = xc;\\r\\n        y.e = ye;\\r\\n\\r\\n        return y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big modulo the\\r\\n     * value of Big y.\\r\\n     */\\r\\n    P.mod = function (y) {\\r\\n        var yGTx,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            a = x.s,\\r\\n            b = (y = new Big(y)).s;\\r\\n\\r\\n        if (!y.c[0]) {\\r\\n            throwErr(NaN);\\r\\n        }\\r\\n\\r\\n        x.s = y.s = 1;\\r\\n        yGTx = y.cmp(x) == 1;\\r\\n        x.s = a;\\r\\n        y.s = b;\\r\\n\\r\\n        if (yGTx) {\\r\\n            return new Big(x);\\r\\n        }\\r\\n\\r\\n        a = Big.DP;\\r\\n        b = Big.RM;\\r\\n        Big.DP = Big.RM = 0;\\r\\n        x = x.div(y);\\r\\n        Big.DP = a;\\r\\n        Big.RM = b;\\r\\n\\r\\n        return this.minus( x.times(y) );\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big plus the value\\r\\n     * of Big y.\\r\\n     */\\r\\n    P.add = P.plus = function (y) {\\r\\n        var t,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            a = x.s,\\r\\n            b = (y = new Big(y)).s;\\r\\n\\r\\n        // Signs differ?\\r\\n        if (a != b) {\\r\\n            y.s = -b;\\r\\n            return x.minus(y);\\r\\n        }\\r\\n\\r\\n        var xe = x.e,\\r\\n            xc = x.c,\\r\\n            ye = y.e,\\r\\n            yc = y.c;\\r\\n\\r\\n        // Either zero?\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n\\r\\n            // y is non-zero? x is non-zero? Or both are zero.\\r\\n            return yc[0] ? y : new Big(xc[0] ? x : a * 0);\\r\\n        }\\r\\n        xc = xc.slice();\\r\\n\\r\\n        // Prepend zeros to equalise exponents.\\r\\n        // Note: Faster to use reverse then do unshifts.\\r\\n        if (a = xe - ye) {\\r\\n\\r\\n            if (a > 0) {\\r\\n                ye = xe;\\r\\n                t = yc;\\r\\n            } else {\\r\\n                a = -a;\\r\\n                t = xc;\\r\\n            }\\r\\n\\r\\n            t.reverse();\\r\\n            for (; a--; t.push(0)) {\\r\\n            }\\r\\n            t.reverse();\\r\\n        }\\r\\n\\r\\n        // Point xc to the longer array.\\r\\n        if (xc.length - yc.length < 0) {\\r\\n            t = yc;\\r\\n            yc = xc;\\r\\n            xc = t;\\r\\n        }\\r\\n        a = yc.length;\\r\\n\\r\\n        /*\\r\\n         * Only start adding at yc.length - 1 as the further digits of xc can be\\r\\n         * left as they are.\\r\\n         */\\r\\n        for (b = 0; a;) {\\r\\n            b = (xc[--a] = xc[a] + yc[a] + b) / 10 | 0;\\r\\n            xc[a] %= 10;\\r\\n        }\\r\\n\\r\\n        // No need to check for zero, as +x + +y != 0 && -x + -y != 0\\r\\n\\r\\n        if (b) {\\r\\n            xc.unshift(b);\\r\\n            ++ye;\\r\\n        }\\r\\n\\r\\n         // Remove trailing zeros.\\r\\n        for (a = xc.length; xc[--a] === 0; xc.pop()) {\\r\\n        }\\r\\n\\r\\n        y.c = xc;\\r\\n        y.e = ye;\\r\\n\\r\\n        return y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a Big whose value is the value of this Big raised to the power n.\\r\\n     * If n is negative, round, if necessary, to a maximum of Big.DP decimal\\r\\n     * places using rounding mode Big.RM.\\r\\n     *\\r\\n     * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\\r\\n     */\\r\\n    P.pow = function (n) {\\r\\n        var x = this,\\r\\n            one = new x.constructor(1),\\r\\n            y = one,\\r\\n            isNeg = n < 0;\\r\\n\\r\\n        if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\\r\\n            throwErr('!pow!');\\r\\n        }\\r\\n\\r\\n        n = isNeg ? -n : n;\\r\\n\\r\\n        for (;;) {\\r\\n\\r\\n            if (n & 1) {\\r\\n                y = y.times(x);\\r\\n            }\\r\\n            n >>= 1;\\r\\n\\r\\n            if (!n) {\\r\\n                break;\\r\\n            }\\r\\n            x = x.times(x);\\r\\n        }\\r\\n\\r\\n        return isNeg ? one.div(y) : y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big rounded to a\\r\\n     * maximum of dp decimal places using rounding mode rm.\\r\\n     * If dp is not specified, round to 0 decimal places.\\r\\n     * If rm is not specified, use Big.RM.\\r\\n     *\\r\\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\\r\\n     * [rm] 0, 1, 2 or 3 (ROUND_DOWN, ROUND_HALF_UP, ROUND_HALF_EVEN, ROUND_UP)\\r\\n     */\\r\\n    P.round = function (dp, rm) {\\r\\n        var x = this,\\r\\n            Big = x.constructor;\\r\\n\\r\\n        if (dp == null) {\\r\\n            dp = 0;\\r\\n        } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\\r\\n            throwErr('!round!');\\r\\n        }\\r\\n        rnd(x = new Big(x), dp, rm == null ? Big.RM : rm);\\r\\n\\r\\n        return x;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the square root of the value of this Big,\\r\\n     * rounded, if necessary, to a maximum of Big.DP decimal places using\\r\\n     * rounding mode Big.RM.\\r\\n     */\\r\\n    P.sqrt = function () {\\r\\n        var estimate, r, approx,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            xc = x.c,\\r\\n            i = x.s,\\r\\n            e = x.e,\\r\\n            half = new Big('0.5');\\r\\n\\r\\n        // Zero?\\r\\n        if (!xc[0]) {\\r\\n            return new Big(x);\\r\\n        }\\r\\n\\r\\n        // If negative, throw NaN.\\r\\n        if (i < 0) {\\r\\n            throwErr(NaN);\\r\\n        }\\r\\n\\r\\n        // Estimate.\\r\\n        i = Math.sqrt(x.toString());\\r\\n\\r\\n        // Math.sqrt underflow/overflow?\\r\\n        // Pass x to Math.sqrt as integer, then adjust the result exponent.\\r\\n        if (i === 0 || i === 1 / 0) {\\r\\n            estimate = xc.join('');\\r\\n\\r\\n            if (!(estimate.length + e & 1)) {\\r\\n                estimate += '0';\\r\\n            }\\r\\n\\r\\n            r = new Big( Math.sqrt(estimate).toString() );\\r\\n            r.e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\\r\\n        } else {\\r\\n            r = new Big(i.toString());\\r\\n        }\\r\\n\\r\\n        i = r.e + (Big.DP += 4);\\r\\n\\r\\n        // Newton-Raphson iteration.\\r\\n        do {\\r\\n            approx = r;\\r\\n            r = half.times( approx.plus( x.div(approx) ) );\\r\\n        } while ( approx.c.slice(0, i).join('') !==\\r\\n                       r.c.slice(0, i).join('') );\\r\\n\\r\\n        rnd(r, Big.DP -= 4, Big.RM);\\r\\n\\r\\n        return r;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a new Big whose value is the value of this Big times the value of\\r\\n     * Big y.\\r\\n     */\\r\\n    P.mul = P.times = function (y) {\\r\\n        var c,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            xc = x.c,\\r\\n            yc = (y = new Big(y)).c,\\r\\n            a = xc.length,\\r\\n            b = yc.length,\\r\\n            i = x.e,\\r\\n            j = y.e;\\r\\n\\r\\n        // Determine sign of result.\\r\\n        y.s = x.s == y.s ? 1 : -1;\\r\\n\\r\\n        // Return signed 0 if either 0.\\r\\n        if (!xc[0] || !yc[0]) {\\r\\n            return new Big(y.s * 0);\\r\\n        }\\r\\n\\r\\n        // Initialise exponent of result as x.e + y.e.\\r\\n        y.e = i + j;\\r\\n\\r\\n        // If array xc has fewer digits than yc, swap xc and yc, and lengths.\\r\\n        if (a < b) {\\r\\n            c = xc;\\r\\n            xc = yc;\\r\\n            yc = c;\\r\\n            j = a;\\r\\n            a = b;\\r\\n            b = j;\\r\\n        }\\r\\n\\r\\n        // Initialise coefficient array of result with zeros.\\r\\n        for (c = new Array(j = a + b); j--; c[j] = 0) {\\r\\n        }\\r\\n\\r\\n        // Multiply.\\r\\n\\r\\n        // i is initially xc.length.\\r\\n        for (i = b; i--;) {\\r\\n            b = 0;\\r\\n\\r\\n            // a is yc.length.\\r\\n            for (j = a + i; j > i;) {\\r\\n\\r\\n                // Current sum of products at this digit position, plus carry.\\r\\n                b = c[j] + yc[i] * xc[j - i - 1] + b;\\r\\n                c[j--] = b % 10;\\r\\n\\r\\n                // carry\\r\\n                b = b / 10 | 0;\\r\\n            }\\r\\n            c[j] = (c[j] + b) % 10;\\r\\n        }\\r\\n\\r\\n        // Increment result exponent if there is a final carry.\\r\\n        if (b) {\\r\\n            ++y.e;\\r\\n        }\\r\\n\\r\\n        // Remove any leading zero.\\r\\n        if (!c[0]) {\\r\\n            c.shift();\\r\\n        }\\r\\n\\r\\n        // Remove trailing zeros.\\r\\n        for (i = c.length; !c[--i]; c.pop()) {\\r\\n        }\\r\\n        y.c = c;\\r\\n\\r\\n        return y;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big.\\r\\n     * Return exponential notation if this Big has a positive exponent equal to\\r\\n     * or greater than Big.E_POS, or a negative exponent equal to or less than\\r\\n     * Big.E_NEG.\\r\\n     */\\r\\n    P.toString = P.valueOf = P.toJSON = function () {\\r\\n        var x = this,\\r\\n            Big = x.constructor,\\r\\n            e = x.e,\\r\\n            str = x.c.join(''),\\r\\n            strL = str.length;\\r\\n\\r\\n        // Exponential notation?\\r\\n        if (e <= Big.E_NEG || e >= Big.E_POS) {\\r\\n            str = str.charAt(0) + (strL > 1 ? '.' + str.slice(1) : '') +\\r\\n              (e < 0 ? 'e' : 'e+') + e;\\r\\n\\r\\n        // Negative exponent?\\r\\n        } else if (e < 0) {\\r\\n\\r\\n            // Prepend zeros.\\r\\n            for (; ++e; str = '0' + str) {\\r\\n            }\\r\\n            str = '0.' + str;\\r\\n\\r\\n        // Positive exponent?\\r\\n        } else if (e > 0) {\\r\\n\\r\\n            if (++e > strL) {\\r\\n\\r\\n                // Append zeros.\\r\\n                for (e -= strL; e-- ; str += '0') {\\r\\n                }\\r\\n            } else if (e < strL) {\\r\\n                str = str.slice(0, e) + '.' + str.slice(e);\\r\\n            }\\r\\n\\r\\n        // Exponent zero.\\r\\n        } else if (strL > 1) {\\r\\n            str = str.charAt(0) + '.' + str.slice(1);\\r\\n        }\\r\\n\\r\\n        // Avoid '-0'\\r\\n        return x.s < 0 && x.c[0] ? '-' + str : str;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     ***************************************************************************\\r\\n     * If toExponential, toFixed, toPrecision and format are not required they\\r\\n     * can safely be commented-out or deleted. No redundant code will be left.\\r\\n     * format is used only by toExponential, toFixed and toPrecision.\\r\\n     ***************************************************************************\\r\\n     */\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big in exponential\\r\\n     * notation to dp fixed decimal places and rounded, if necessary, using\\r\\n     * Big.RM.\\r\\n     *\\r\\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\\r\\n     */\\r\\n    P.toExponential = function (dp) {\\r\\n\\r\\n        if (dp == null) {\\r\\n            dp = this.c.length - 1;\\r\\n        } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\\r\\n            throwErr('!toExp!');\\r\\n        }\\r\\n\\r\\n        return format(this, dp, 1);\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big in normal notation\\r\\n     * to dp fixed decimal places and rounded, if necessary, using Big.RM.\\r\\n     *\\r\\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\\r\\n     */\\r\\n    P.toFixed = function (dp) {\\r\\n        var str,\\r\\n            x = this,\\r\\n            Big = x.constructor,\\r\\n            neg = Big.E_NEG,\\r\\n            pos = Big.E_POS;\\r\\n\\r\\n        // Prevent the possibility of exponential notation.\\r\\n        Big.E_NEG = -(Big.E_POS = 1 / 0);\\r\\n\\r\\n        if (dp == null) {\\r\\n            str = x.toString();\\r\\n        } else if (dp === ~~dp && dp >= 0 && dp <= MAX_DP) {\\r\\n            str = format(x, x.e + dp);\\r\\n\\r\\n            // (-0).toFixed() is '0', but (-0.1).toFixed() is '-0'.\\r\\n            // (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\\r\\n            if (x.s < 0 && x.c[0] && str.indexOf('-') < 0) {\\r\\n        //E.g. -0.5 if rounded to -0 will cause toString to omit the minus sign.\\r\\n                str = '-' + str;\\r\\n            }\\r\\n        }\\r\\n        Big.E_NEG = neg;\\r\\n        Big.E_POS = pos;\\r\\n\\r\\n        if (!str) {\\r\\n            throwErr('!toFix!');\\r\\n        }\\r\\n\\r\\n        return str;\\r\\n    };\\r\\n\\r\\n\\r\\n    /*\\r\\n     * Return a string representing the value of this Big rounded to sd\\r\\n     * significant digits using Big.RM. Use exponential notation if sd is less\\r\\n     * than the number of digits necessary to represent the integer part of the\\r\\n     * value in normal notation.\\r\\n     *\\r\\n     * sd {number} Integer, 1 to MAX_DP inclusive.\\r\\n     */\\r\\n    P.toPrecision = function (sd) {\\r\\n\\r\\n        if (sd == null) {\\r\\n            return this.toString();\\r\\n        } else if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\\r\\n            throwErr('!toPre!');\\r\\n        }\\r\\n\\r\\n        return format(this, sd - 1, 2);\\r\\n    };\\r\\n\\r\\n\\r\\n    // Export\\r\\n\\r\\n\\r\\n    Big = bigFactory();\\r\\n\\r\\n    //AMD.\\r\\n    if (typeof define === 'function' && define.amd) {\\r\\n        define(function () {\\r\\n            return Big;\\r\\n        });\\r\\n\\r\\n    // Node and other CommonJS-like environments that support module.exports.\\r\\n    } else if (typeof module !== 'undefined' && module.exports) {\\r\\n        module.exports = Big;\\r\\n\\r\\n    //Browser.\\r\\n    } else {\\r\\n        global.Big = Big;\\r\\n    }\\r\\n})(this);\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./~/big.js/big.js\n// module id = 30\n// module chunks = 0","/*** IMPORTS FROM imports-loader ***/\nvar SUGAR = window.SUGAR;\n\n/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/*;\n * SugarCRM Javascript API\n */\n\n//create the SUGAR namespace if one does not exist already\nvar SUGAR = SUGAR || {};\n\n/**\n * SugarCRM Javascript API allows users to interact with SugarCRM instance via its REST interface.\n *\n * Use {@link SUGAR.Api#getInstance} method to create instances of Sugar API.\n * This method accepts arguments object with the following properties:\n * <pre>\n * {\n *   serverUrl: Sugar REST URL end-point\n *   platform: platform name (\"portal\", \"mobile\", etc.)\n *   keyValueStore: reference to key/value store provider used to read/save auth token from/to\n *   timeout: request timeout in seconds\n * }\n * </pre>\n *\n * The key/value store provider must implement three methods:\n * <pre><code>\n *   set: void function(String key, String value)\n *   get: String function(key)\n *   cut: void function(String key)\n * </code></pre>\n * The authentication tokens are kept in memory if the key/value store is not specified.\n *\n * Most of Sugar API methods accept `callbacks` object:\n * <pre>\n * {\n *   success: function(data) { },\n *   error: function(error) { },\n *   complete: function() { },\n * }\n * </pre>\n *\n * @class SUGAR.Api\n * @singleton\n */\nSUGAR.Api = (function() {\n    var _instance;\n    var _methodsToRequest = {\n            'read': 'GET',\n            'update': 'PUT',\n            'create': 'POST',\n            'delete': 'DELETE'\n        };\n    var _baseActions = ['read', 'update', 'create', 'delete'];\n    var _numCallsInProgress = 0;\n    var _refreshTokenSuccess = function(c) {c();};\n    var _bulkQueues = { };\n    var _state = { };\n\n    var HttpError = function(request, textStatus, errorThrown) {\n\n        request = request || {};\n        request.xhr = request.xhr || {};\n\n        /**\n         * AJAX request that caused the error.\n         * @property {SUGAR.HttpRequest}\n         * @member SUGAR.HttpError\n         */\n        this.request = request;\n\n        /**\n         * XHR status code.\n         * @property {string|number}\n         * @member SUGAR.HttpError\n         */\n        this.status = request.xhr.status;\n\n        /**\n         * XHR response text.\n         * @property {String}\n         * @member SUGAR.HttpError\n         */\n        this.responseText = request.xhr.responseText;\n\n        /**\n         * String describing the type of error that occurred.\n         *\n         * Possible values (besides null) are `\"timeout\"`, `\"error\"`, `\"abort\"`, and `\"parsererror\"`.\n         * @property {String}\n         * @member SUGAR.HttpError\n         */\n        this.textStatus = textStatus;\n\n        /**\n         * Textual portion of the HTTP status when HTTP error occurs.\n         *\n         * For example, `\"Not Found\"` or `\"Internal Server Error\"`.\n         * @property {String}\n         * @member SUGAR.HttpError\n         */\n        this.errorThrown = errorThrown;\n\n        // The response will not be always a JSON string\n\n        if (typeof(this.responseText) === 'string' && this.responseText.length > 0) {\n            try {\n                var contentType = this.request.xhr.getResponseHeader('Content-Type');\n                if (contentType && (contentType.indexOf('application/json') === 0)) {\n                    this.payload = JSON.parse(this.responseText);\n                    /**\n                     * Error code.\n                     *\n                     * Additional failure information. See SugarCRM REST API\n                     * documentation for a full list of error codes.\n                     * @property {String}\n                     * @member SUGAR.HttpError\n                     */\n                    this.code = this.payload.error;\n\n                    /**\n                     * Error message.\n                     *\n                     * Localized message appropriate for display to end user.\n                     * @property {String}\n                     * @member SUGAR.HttpError\n                     */\n                    this.message = this.payload.error_message;\n                }\n            }\n            catch (e) {\n                // Ignore this error\n            }\n        }\n    };\n\n    /**\n     * Represents AJAX error.\n     *\n     * See Jquery/Zepto documentation for details.\n     *\n     * - http://api.jquery.com/jQuery.ajax/\n     * - http://zeptojs.com/#$.ajax\n     *\n     * @class SUGAR.HttpError\n     */\n    _.extend(HttpError.prototype, {\n\n        /**\n         * Returns string representation of HTTP error.\n         * @return {String} HTTP error as a string.\n         * @member SUGAR.HttpError\n         */\n        toString: function() {\n            return 'HTTP error: ' + this.status +\n                '\\ntype: ' + this.textStatus +\n                '\\nerror: ' + this.errorThrown +\n                '\\nresponse: ' + this.responseText +\n                '\\ncode: ' + this.code +\n                '\\nmessage: ' + this.message;\n        }\n\n    });\n\n    var HttpRequest = function(params, debug) {\n        /**\n         * Request parameters.\n         *\n         * See Jquery/Zepto documentation for details.\n         *\n         * - http://api.jquery.com/jQuery.ajax/\n         * - http://zeptojs.com/#$.ajax\n         *\n         * @property {Object}\n         * @member SUGAR.HttpRequest\n         */\n        this.params = params; // TODO: Consider cloning\n\n        /**\n         * Flag indicating that a request must output debug information.\n         * @property {Boolean}\n         * @member SUGAR.HttpRequest\n         */\n        this.debug = debug;\n\n        /**\n         * Number of times this request was executed.\n         * @property {Number}\n         * @member SUGAR.HttpRequest\n         */\n        this.numExecuted = 0;\n\n        /**\n         * The state object is used to store global enviroment conditions that may be relevent\n         * when processing this request but would not be passed to the server.\n         *\n         * @property {Object}\n         * @member SUGAR.HttpRequest\n         */\n        this.state = {};\n    };\n\n    /**\n     * Represents AJAX request.\n     *\n     * Encapsulates XHR object and AJAX parameters.\n     * @class SUGAR.HttpRequest\n     *\n     */\n    _.extend(HttpRequest.prototype, {\n\n        /**\n         * Executes AJAX request.\n         * @param {string} token OAuth token. Must not be supplied for login\n         *   type requests.\n         * @param {string} mdHash current private metadata hash, used to\n         *   validate the client metadata against the server.\n         * @param {string} upHash Current User preferences hash, used to\n         *   validate the client user pref data against the server.\n         */\n        execute: function(token, mdHash, upHash) {\n            if (token) {\n                this.params.headers = this.params.headers || {};\n                this.params.headers['OAuth-Token'] = token;\n            }\n            if (mdHash) {\n                this.params.headers = this.params.headers || {};\n                this.params.headers['X-Metadata-Hash'] = mdHash;\n            }\n            if (upHash) {\n                this.params.headers = this.params.headers || {};\n                this.params.headers['X-Userpref-Hash'] = upHash;\n            }\n\n            //The state object is used to store global enviroment conditions that may be relevent\n            //when processing this request but would not be passed to the server.\n            this.state = _.extend(this.state, _state);\n\n            if (this.debug) {\n                console.log('====== Ajax Request Begin ======');\n                console.log(this.params.type + ' ' + this.params.url);\n                var parsedData = this.params.data ? JSON.parse(this.params.data) : null;\n                if (parsedData && parsedData.password) parsedData.password = '***';\n                console.log('Payload: ', this.params.data ? parsedData : 'N/A');\n                var p = $.extend({}, this.params);\n                delete p.data;\n                console.log('params: ', p);\n                console.log('====== Request End ======');\n            }\n            //In order to keep track of the number of ajax call in the air, we will add\n            //a complete callback.\n            // Do it only on the first run. No need to set this logic on subsequent execute calls.\n            if (!this.numExecuted) {\n                var origCallback = this.params.complete;\n                this.params.complete = function() {\n                    _numCallsInProgress--;\n                    if (_.isFunction(origCallback))\n                        origCallback.apply(this, arguments);\n                };\n            }\n\n            /**\n             * XmlHttpRequest object.\n             * @property {Object}\n             * @member SUGAR.HttpRequest\n             */\n            this.xhr = $.ajax(this.params);\n\n            _numCallsInProgress++;\n            this.numExecuted++;\n        }\n\n    });\n\n    /**\n     * Fake jqXHR object because bulk calls do not have their own individual XHR requests\n     * @param {object} result object returned from the BulkAPI\n     * @param {string|number} [result.status=200] The response status.\n     * @param {Object} [result.status=200] The response headers.\n     * @param {Object} [result.contents={}] The response contents.\n     * @param {SUGAR.HttpRequest} parentReq bulk API request that this request is a part of.\n     */\n    var bulkXHR = function(result, parentReq) {\n        var contents = result.contents || {};\n\n        this.status = result.status || 200;\n        this.statusText = result.status_text || '';\n        this.responseText = _.isObject(contents) ? JSON.stringify(contents) : contents;\n        this.readyState = 4;\n        this._parent = parentReq.xhr;\n        this.headers = result.headers;\n    };\n\n    _.extend(bulkXHR.prototype, {\n        isResolved: function() {\n            return this._parent.isResolved();\n        },\n        getResponseHeader: function(h) {\n            return this.headers[h];\n        },\n        getAllResponseHeaders: function() {\n            return _.reduce(this.headers, function(str, value, key) {\n                return str.concat(key + ': ' + value + '\\n');\n            }, '');\n        }\n    });\n\n    function SugarApi(args) {\n        var _serverUrl,\n            _platform,\n            _keyValueStore,\n            _clientID,\n            _timeout,\n            _refreshingToken,\n            _defaultErrorHandler,\n            _externalLogin,\n            _allowBulk,\n            _externalLoginUICallback = null,\n            _accessToken = null,\n            _refreshToken = null,\n            _downloadToken = null,\n            // request queue\n            // used to support multiple request while in refresh token loop\n            _rqueue = [],\n            // dictionary of currently executed requests (keys are IDs)\n            _requests = {},\n            // request unique ID (counter)\n            _ruid = 0;\n\n        // if no key/value store is provided, the auth token is kept in memory\n        _keyValueStore = args && args.keyValueStore;\n        _serverUrl = (args && args.serverUrl) || '/rest/v10';\n        // there will only be a fallback default error handler if provided here\n        _defaultErrorHandler = (args && args.defaultErrorHandler) || null;\n        _platform = (args && args.platform) || '';\n        _clientID = (args && args.clientID) || 'sugar';\n        _timeout = ((args && args.timeout) || 30) * 1000;\n        _externalLogin = false;\n        _allowBulk = !(args && args.disableBulkApi);\n\n        if (args && args.externalLoginUICallback && _.isFunction(args.externalLoginUICallback)) {\n            _externalLoginUICallback = args.externalLoginUICallback;\n        }\n\n        if (_keyValueStore) {\n            if (!$.isFunction(_keyValueStore.set) ||\n                !$.isFunction(_keyValueStore.get) ||\n                !$.isFunction(_keyValueStore.cut))\n            {\n                throw new Error('Failed to initialize Sugar API: key/value store provider is invalid');\n            }\n\n            var init = function() {\n                _accessToken = _keyValueStore.get('AuthAccessToken');\n                _refreshToken = _keyValueStore.get('AuthRefreshToken');\n                _downloadToken = _keyValueStore.get('DownloadToken');\n            };\n\n            if ($.isFunction(_keyValueStore.initAsync)) {\n                _keyValueStore.initAsync(init);\n            } else {\n                init();\n            }\n\n            if ($.isFunction(_keyValueStore.on)) {\n                _keyValueStore.on('cache:clean', function(callback) {\n                    callback(['AuthAccessToken', 'AuthRefreshToken', 'DownloadToken']);\n                });\n            }\n        }\n\n        _refreshingToken = false;\n\n        if (args && args.reset) _numCallsInProgress = 0;\n\n        var _resetAuth = function(data) {\n            // data is the response from the server\n            if (data) {\n                _accessToken = data.access_token;\n                _refreshToken = data.refresh_token;\n                _downloadToken = data.download_token;\n                if (_keyValueStore) {\n                    _keyValueStore.set('AuthAccessToken', _accessToken);\n                    _keyValueStore.set('AuthRefreshToken', _refreshToken);\n                    _keyValueStore.set('DownloadToken', _downloadToken);\n                }\n            } else {\n                _accessToken = null;\n                _refreshToken = null;\n                _downloadToken = null;\n                if (_keyValueStore) {\n                    _keyValueStore.cut('AuthAccessToken');\n                    _keyValueStore.cut('AuthRefreshToken');\n                    _keyValueStore.cut('DownloadToken');\n                }\n            }\n        };\n\n        var _handleErrorAndRefreshToken = function(self, request, callbacks) {\n            return function(xhr, textStatus, errorThrown) {\n                var error = new HttpError(request, textStatus, errorThrown);\n                var onError = function() {\n                    // Either regular request failed or token refresh failed\n                    // Call original error callback\n                    if (!_rqueue.length || self.refreshingToken(request.params.url)) {\n                        if (callbacks.error) {\n                            callbacks.error(error);\n                        }\n                        else if ($.isFunction(self.defaultErrorHandler)) {\n                            self.defaultErrorHandler(error);\n                        }\n                    } else {\n                        // Token refresh failed\n                        // Call original error callback for all queued requests\n                        for (var i = 0; i < _rqueue.length; ++i) {\n                            if (_rqueue[i]._oerror) _rqueue[i]._oerror(error);\n                        }\n                    }\n                    // duplicated due to other types of authentication\n                    self.setRefreshingToken(false);\n                };\n\n                var r, refreshFailed = true;\n                if (self.needRefreshAuthToken(request.params.url, error.code)) {\n                    //If we were unloading the queue when we got another 401, we should stop before we get into a loop\n                    if (request._dequeuing) {\n                        if (request._oerror) request._oerror(error);\n                        //The tokens we have are bad, nuke them.\n                        self.resetAuth();\n                        return;\n                    }\n                    _rqueue.push(request);\n\n                    self.setRefreshingToken(true);\n\n                    var refreshCallbacks = {\n                        complete: function() {\n\n                            // Call original complete callback for all queued requests\n                            // only if token refresh failed\n                            // In case of requests succeed, complete callback is called by ajax lib\n                            if (refreshFailed) {\n                                r = _rqueue.shift();\n                                while (r) {\n                                    if (r._ocomplete) {\n                                        r._ocomplete.call(this, r);\n                                    }\n                                    r = _rqueue.shift();\n                                }\n                            }\n                        },\n                        success: function() {\n                            self.setRefreshingToken(false);\n                            refreshFailed = false;\n                            _refreshTokenSuccess(function() {\n                                // Repeat original requests\n                                r = _rqueue.shift();\n                                while (r) {\n                                    r._dequeuing = true;\n                                    r.execute(self.getOAuthToken());\n                                    r = _rqueue.shift();\n                                }\n                            });\n                        },\n                        error: onError\n                    };\n\n                    if (!('crosstab' in window) || !crosstab.supported) {\n                        self.login(null, {refresh: true}, {\n                            complete: refreshCallbacks.complete,\n                            success: refreshCallbacks.success,\n                            error: refreshCallbacks.error\n                        });\n                        return;\n                    }\n\n                    crosstab(function() {\n                        crosstab.on('auth:refresh:complete', function(event) {\n                            var status = event.data;\n                            switch (status) {\n                                case 'success':\n                                    refreshCallbacks.success();\n                                    break;\n                                case 'error':\n                                    refreshCallbacks.error();\n                                    break;\n                                case 'complete':\n                                    refreshCallbacks.complete();\n                                    crosstab.off('auth:refresh:complete');\n                                    break;\n                            }\n                        });\n\n                        crosstab.broadcastMaster('auth:refresh');\n                    });\n\n                } else if (self.needQueue(request.params.url)) {\n                    // Queue subsequent request to execute it after token refresh completes\n                    _rqueue.push(request);\n                } else if (_externalLogin && error.status == 401 && error.payload &&\n                    error.payload.url && error.payload.platform == _platform\n                ) {\n                    self.handleExternalLogin(request, error, onError);\n                } else {\n                    onError();\n                }\n            };\n        };\n\n\n        return {\n            /**\n             * Client Id for oAuth\n             * @property {String}\n             * @member SUGAR.Api\n             */\n            clientID: _clientID,\n\n            /**\n             * URL of Sugar REST end-point.\n             * @property {String}\n             * @member SUGAR.Api\n             */\n            serverUrl: _serverUrl,\n\n            /**\n             * Default fallback HTTP error handler. Used when api.call\n             * is not supplied with an error: function in callbacks parameter.\n             * @property {Function}\n             * @member SUGAR.Api\n             */\n            defaultErrorHandler: _defaultErrorHandler,\n\n            /**\n             * Request timeout (in milliseconds).\n             * @property {Number}\n             * @member SUGAR.Api\n             */\n            timeout: _timeout,\n\n            /**\n             * Flag indicating if API should run in debug mode (console debugging of API calls).\n             * @property {Boolean}\n             * @member SUGAR.Api\n             */\n            debug: false,\n\n            /**\n             * Aborts a request by ID\n             * @param {String} id Request ID\n             */\n            abortRequest: function(id) {\n                var request = _requests[id];\n\n                if (request) {\n                    request.aborted = true;\n                    if (request.xhr) {\n                        request.xhr.aborted = true;\n                        request.xhr.abort();\n                    }\n                }\n            },\n\n            /**\n             * Gets request by ID\n             * @param {String} id Request ID\n             */\n            getRequest: function(id) {\n                return _requests[id];\n            },\n\n            /**\n             * Sets the callback to be triggered after a token refresh occurs\n             * @param callback function to be called\n             */\n            setRefreshTokenSuccessCallback: function(callback) {\n                if (_.isFunction(callback))\n                    _refreshTokenSuccess = callback;\n            },\n\n            /**\n             * Makes AJAX call via jquery/zepto AJAX API.\n             *\n             * @param {string} method CRUD action to make (read, create, update,\n             *   delete) are mapped to corresponding HTTP verb: GET, POST, PUT, DELETE.\n             * @param {String} url resource URL.\n             * @param {Object} [data] data will be stringified into JSON and\n             *   set to request body.\n             * @param {Object} [callbacks] callbacks object.\n             * @param {Object} [options] options for request that map\n             *   directly to the jquery/zepto Ajax options.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @private\n             * @member SUGAR.Api\n             */\n            call: function(method, url, data, callbacks, options) {\n                var request,\n                    args,\n                    type = _methodsToRequest[method],\n                    self = this,\n                    token = this.getOAuthToken();\n\n                options = options || {};\n                callbacks = callbacks || {};\n\n                // by default use json headers\n                var params = {\n                    type: type,\n                    dataType: 'json',\n                    headers: {},\n                    timeout: options.timeout || this.timeout,\n                    contentType: 'application/json'\n                };\n\n                // if we dont have a url from options take arg url\n                if (!options.url) {\n                    params.url = url;\n                }\n\n                if (callbacks.success) {\n                    params.success = function(data, status) {\n                        /**\n                         * XHR status code.\n                         * @property {string|number}\n                         * @member SUGAR.HttpRequest\n                         */\n                        request.status = (data && data.status) ? data.status : status;\n                        callbacks.success(data, request);\n                    };\n                }\n\n                params.complete = function() {\n\n                    _requests[request.uid] = null;\n\n                    // Do not call complete callback if we are in token refresh loop\n                    // We'll call complete callback once the refresh completes\n                    if (!_refreshingToken && callbacks.complete) {\n                        callbacks.complete(request);\n                    }\n                };\n\n                //Process the iframe transport request\n                if (options.iframe === true) {\n                    if (token) {\n                        data = data || {};\n                        data['OAuth-Token'] = token;\n                        params.data = data;\n                    }\n                } else {\n                    // set data for create, update, and delete\n                    if (data && (method == 'create' || method == 'update' || method == 'delete')) {\n                        params.data = JSON.stringify(data);\n                    }\n                }\n\n                // Don't process data on a non-GET request.\n                if (params.type !== 'GET') {\n                    params.processData = false;\n                }\n\n                // Clients may override any of AJAX options.\n                request = new HttpRequest(_.extend(params, options), this.debug);\n                params.error = _handleErrorAndRefreshToken(self, request, callbacks);\n                // Keep original error and complete callback for token refresh loop\n                request._oerror = callbacks.error;\n                request._ocomplete = callbacks.complete;\n\n                //add request to requests hash\n                request.uid = _ruid++;\n                _requests[request.uid] = request;\n\n                args = [\n                    token,\n                    options.skipMetadataHash ? null : this.getMetadataHash(),\n                    options.skipMetadataHash ? null : this.getUserprefHash()\n                ];\n                // Login request doesn't need auth token\n                if (this.isLoginRequest(url)) {\n                    request.execute();\n                } else if (this.isAuthRequest(url)) {\n                    request.execute(token);\n                } else if (params.bulk && _allowBulk) {\n                    var bulkQueue = _bulkQueues[params.bulk] || [];\n                    if (!_bulkQueues[params.bulk]) {\n                        _bulkQueues[params.bulk] = bulkQueue;\n                    }\n                    bulkQueue.push({\n                        request: request,\n                        args: args\n                    });\n                } else {\n                    request.execute.apply(request, args);\n                }\n\n                return request;\n            },\n\n            /**\n             * Begins a BulkAPI request. Previous uses of call() should have\n             * options.bulk set to an ID.\n             * Calling triggerBulkCall with the same ID will combine all the\n             * previously queued requests into a single bulk call.\n             * @param {number|string} bulkId\n             * @member SUGAR.Api\n             */\n            triggerBulkCall: function(bulkId) {\n                if (!_allowBulk) {\n                    return;\n                }\n\n                bulkId = bulkId || true;\n                var queue = _bulkQueues[bulkId],\n                    requests = [],\n                    version = _.last(this.serverUrl.split('/'));\n\n                if (!queue) {\n                    //TODO log an error here\n                    return;\n                }\n                _.each(queue, function(r) {\n                    var params = r.request.params,\n                        args = r.args,\n                        token = args[0],\n                        mdHash = args[1],\n                        upHash = args[2];\n\n                    if (token) {\n                        params.headers = params.headers || {};\n                        params.headers['OAuth-Token'] = token;\n                    }\n                    if (mdHash) {\n                        params.headers = params.headers || {};\n                        params.headers['X-Metadata-Hash'] = mdHash;\n                    }\n                    if (upHash) {\n                        params.headers = params.headers || {};\n                        params.headers['X-Userpref-Hash'] = upHash;\n                    }\n                    //Url needs to be trimmed down to the version number.\n                    if (!_.isEmpty(params.url)) {\n                        params.url = version + params.url.substring(this.serverUrl.length);\n                    }\n\n                    requests.push(params);\n                }, this);\n                this.call('create', this.buildURL('bulk'), {requests: requests}, {\n                    success: function(o, parentReq) {\n                        _.each(queue, function(r, i) {\n                            var request = r.request,\n                                result = o[i],\n                                contents = result.contents || {},\n                                xhr = new bulkXHR(result, parentReq);\n                            request.xhr = xhr;\n\n                            if (request.aborted === true || contents.error) {\n                                request.status = 'error';\n                                if (_.isFunction(request.params.error)) {\n                                    request.params.error.call(request.params, request, 'error', xhr.statusText);\n                                }\n                            }\n                            else {\n                                if (_.isFunction(request.params.success)) {\n                                    request.params.success.call(request.params, contents, 'success');\n                                }\n                            }\n                            if (_.isFunction(request.params.complete)) {\n                                request.params.complete.call(request.params, request);\n                            }\n                        });\n                    }\n                });\n                _bulkQueues[bulkId] = null;\n            },\n\n            clearBulkQueue: function() {\n                _bulkQueues = {};\n            },\n\n            /**\n             * Builds URL based on module name action and attributes of the format rooturl/module/id/action.\n             *\n             * The `attributes` hash must contain `id` of the resource being actioned upon\n             * for record CRUD and `relatedId` if the URL is build for relationship CRUD.\n             *\n             * @param  {String} module module name.\n             * @param  {String} action CRUD method.\n             * @param  {Object} [attributes] object of resource being\n             *   actioned upon, e.g. `{name: \"bob\", id:\"123\"}`.\n             * @param  {Object} [params] URL parameters.\n             * @return {String} URL for specified resource.\n             * @private\n             * @member SUGAR.Api\n             */\n            buildURL: function(module, action, attributes, params) {\n                params = params || {};\n                var parts = [];\n                var url;\n                parts.push(this.serverUrl);\n\n                if (module) {\n                    parts.push(module);\n                }\n\n                if ((action != 'create') && attributes && attributes.id) {\n                    parts.push(attributes.id);\n                }\n\n                if (attributes && attributes.link && action != 'file') {\n                    parts.push('link');\n                    if (_.isString(attributes.link)) {\n                        parts.push(attributes.link);\n                    }\n                }\n\n                if (action && $.inArray(action, _baseActions) === -1) {\n                    parts.push(action);\n                }\n\n                if (attributes && attributes.relatedId) {\n                    parts.push(attributes.relatedId);\n                }\n\n                if (attributes && action == 'file' && attributes.field) {\n                    parts.push(attributes.field);\n                    if (attributes.fileId)\n                        parts.push(attributes.fileId);\n                }\n\n                url = parts.join('/');\n\n                // URL parameters\n                // remove nullish params\n                _.each(params, function(value, key) {\n                    if (value === null || value === undefined) {\n                        delete params[key];\n                    }\n                });\n\n                params = $.param(params);\n                if (params.length > 0) {\n                    url += '?' + params;\n                }\n\n                return url;\n            },\n\n            /**\n             * Builds a file resource URL.\n             *\n             * The `attributes` hash must contain the following properties:\n             *\n             *     {\n             *         module: module name\n             *         id: record id\n             *         field: Name of the file field in the given module (optional).\n             *     }\n             *\n             * Example 1:\n             *\n             *     var url = app.api.buildFileURL({\n             *        module: 'Contacts',\n             *        id: '123',\n             *        field: 'picture'\n             *     });\n             *\n             *     // Returns:\n             *     'http://localhost:8888/sugarcrm/rest/v10/Contacts/123/file/picture?format=sugar-html-json&platform=base'\n             *\n             * The `field` property is optional. If omitted the method returns a\n             * URL for a list of file resources.\n             *\n             * Example 2:\n             *\n             *     var url = app.api.buildFileURL({\n             *        module: 'Contacts',\n             *        id: '123'\n             *     });\n             *\n             *     // Returns:\n             *     'http://localhost:8888/sugarcrm/rest/v10/Contacts/123/file?platform=base'\n             *\n             * @param {Object} attributes Hash with file information.\n             * @param {Object} [options] URL options hash.\n             * @param {boolean} [options.htmlJsonFormat] Flag indicating if\n             *   `sugar-html-json` format must be used (`true` by default if\n             *   `field` property is specified).\n             * @param {boolean} [options.passDownloadToken] Flag indicating if\n             *   download token must be passed in the URL (`false` by default).\n             * @param {boolean} [options.deleteIfFails] Flag indicating if\n             *   related record should be marked deleted:1 if file operation\n             *   unsuccessful.\n             * @param {boolean} [options.keep] Flag indicating if the temporary\n             *   file should be kept when issuing a `GET` request to the\n             *   `FileTempApi` (it is cleaned up by default).\n             * @return {string} URL for the file resource.\n             * @member SUGAR.Api\n             */\n            buildFileURL: function(attributes, options) {\n                var params = {};\n                options = options || {};\n                // We only concerned about the format if build URL for an actual file resource\n                if (attributes.field && (options.htmlJsonFormat !== false)) {\n                    params.format = 'sugar-html-json';\n                }\n\n                if (options.deleteIfFails === true) {\n                    params.delete_if_fails = true;\n                }\n\n                // This is for BWC only. Don't document it and remove as soon as 6.7 is decommissioned.\n                if (options.passOAuthToken) {\n                    params.oauth_token = this.getOAuthToken();\n                }\n\n                if (options.passDownloadToken) {\n                    params.download_token = this.getDownloadToken();\n                }\n\n                if (!_.isUndefined(options.forceDownload)) {\n                    params.force_download = (options.forceDownload) ? 1 : 0;\n                }\n\n                if (options.cleanCache === true) {\n                    params[(new Date()).getTime()] = 1;\n                }\n\n                if (options.platform !== undefined) {\n                    params.platform = options.platform;\n                } else if (_platform) {\n                    params.platform = _platform;\n                }\n\n                if (options.keep === true) {\n                    params.keep = 1;\n                }\n\n                return this.buildURL(attributes.module, 'file', attributes, params);\n            },\n\n            /**\n             * Returns the current access token\n             */\n            getOAuthToken: function() {\n                return _keyValueStore ? _keyValueStore.get('AuthAccessToken') || _accessToken : _accessToken;\n            },\n\n            /**\n             * Returns the current refresh token\n             */\n            getRefreshToken: function() {\n                return _keyValueStore ? _keyValueStore.get('AuthRefreshToken') || _refreshToken : _refreshToken;\n            },\n\n            /**\n             * Returns the current download token.\n             */\n            getDownloadToken: function() {\n                return _keyValueStore ? _keyValueStore.get('DownloadToken') || _downloadToken : _downloadToken;\n            },\n\n\n            getMetadataHash: function() {\n                return _keyValueStore ? _keyValueStore.get('meta:hash') : null;\n            },\n\n            /**\n             * Gets the user preference hash for use in checking state of change\n             *\n             * @return {String} The user preference hash set from a /me response\n             */\n            getUserprefHash: function() {\n                return _keyValueStore ? _keyValueStore.get('userpref:hash') : null;\n            },\n\n            /**\n             * Fetches metadata.\n             *\n             * @param {Objec} [options] Options to decide what to get from\n             *   the server.\n             * @param {Array} [options.types] Metadata types to fetch.\n             *   E.g.: `['vardefs','detailviewdefs']`\n             * @param {Array} [options.modules] Module names to fetch.\n             *   E.g.: `['accounts','contacts']`\n             * @param {Object} [options.callbacks] callback object.\n             * @param {Object} [options.public=false] Pass `true` to get the\n             *   public metadata.\n             * @param {Object} [options.params] Extra params to send to the\n             *   request.\n             * @return {SUGAR.HttpRequest} The AJAX request.\n             * @member SUGAR.Api\n             */\n            getMetadata: function(options) {\n\n                if (_.isString(options)) {\n                    console.warn('`SUGAR.Api::getMetadata` has changed signature since 7.9 ' +\n                        'and will drop support for old signature in 7.10. Please update your code.');\n\n                    var oldOpt = arguments[4] || {};\n                    options = {\n                        types: arguments[1],\n                        modules: arguments[2],\n                        callbacks: arguments[3],\n                        public: oldOpt.getPublic,\n                        params: oldOpt.params,\n                    };\n                }\n\n                options = options || {};\n                var params = options.params || {};\n\n                if (options.types) {\n                    params.type_filter = options.types.join(',');\n                }\n\n                if (options.modules) {\n                    params.module_filter = options.modules.join(',');\n                }\n\n                if (_platform) {\n                    params.platform = _platform;\n                }\n\n                var method = 'read';\n\n                if (options.public) {\n                    method = 'public';\n                } else {\n                    options.callbacks = options.callbacks || {};\n                    options.callbacks.success = _.wrap(options.callbacks.success, function (success, data, status) {\n                        if (data) {\n                            this._serverInfo = data.server_info;\n                        }\n\n                        if (success) {\n                            success(data, status);\n                        }\n                    });\n                }\n\n                params.module_dependencies = 1;\n\n                var url = this.buildURL('metadata', method, null, params);\n                return this.call(method, url, null, options.callbacks);\n            },\n\n            /**\n             * Executes CRUD on records.\n             *\n             * @param {String} method operation type: create, read, update, or delete.\n             * @param {String} module module name.\n             * @param {Object} data request object. If it contains id, action,\n             *   link, etc., URI will be adjusted accordingly.\n             * If methods parameter is 'create' or 'update', the data object will be put in the request body payload.\n             * @param {Object} [params] URL parameters.\n             * @param {Object} [callbacks] callback object.\n             * @param {Object} [options] request options.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            records: function(method, module, data, params, callbacks, options) {\n                var url = this.buildURL(module, method, data, params);\n                return this.call(method, url, data, callbacks, options);\n            },\n\n            /**\n             * Executes CRUD on relationships.\n             *\n             * The data paramerer represents relationship information:\n             * <pre>\n             * {\n             *    id: record ID\n             *    link: relationship link name\n             *    relatedId: ID of the related record\n             *    related: object that contains request payload (related record or relationship fields)\n             * }\n             * </pre>\n             *\n             * @param {String} method operation type: create, read, update, or delete.\n             * @param {String} module module name.\n             * @param {Object} data object with relationship information.\n             * @param {Object} [params] URL parameters.\n             * @param {Object} [callbacks] callback object.\n             * @param {Object} [options] request options.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            relationships: function(method, module, data, params, callbacks, options) {\n                var url = this.buildURL(module, null, data, params);\n                return this.call(method, url, data.related, callbacks, options);\n            },\n\n            /**\n             * Marks/unmarks a record as favorite.\n             * @param {string} module Module name.\n             * @param {string} id Record ID.\n             * @param {boolean} favorite Flag indicating if the record must be marked as favorite.\n             * @param {Object} [callbacks] Callback object.\n             * @param {Object} [options] request options.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            favorite: function(module, id, favorite, callbacks, options) {\n                var action = favorite ? 'favorite' : 'unfavorite';\n                var url = this.buildURL(module, action, { id: id });\n                return this.call('update', url, null, callbacks, options);\n            },\n\n            /**\n             * Subscribe/unsubscribe a record changes.\n             * @param {string} module Module name.\n             * @param {string} id Record ID.\n             * @param {boolean} followed Flag indicates if wants to subscribe\n             *   the record changes.\n             * @param {Object} [callbacks] Callback object.\n             * @param {Object} [options] request options.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            follow: function(module, id, followed, callbacks, options) {\n                callbacks = callbacks || {};\n                options = options || {};\n                var method = followed ? 'create' : 'delete',\n                    action = followed ? 'subscribe' : 'unsubscribe',\n                    url = this.buildURL(module, action, { id: id });\n                return this.call(method, url, null, callbacks, options);\n            },\n\n            /**\n             * Loads an enum field's options using the enum API\n             * @param {string} module Module name.\n             * @param {string} field Name of enum field.\n             * @param {Object} [callbacks] Callback object\n             * @param {Object} [options] Options object\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            enumOptions: function(module, field, callbacks, options) {\n                var url = this.buildURL(module + '/enum/' + field);\n                return this.call('read', url, null, callbacks, options);\n            },\n\n            /**\n             * Calls API requests in bulk.\n             *\n             * @param {Object} data Object with requests array.\n             * @param {Object} callbacks.\n             * @param {Object} [options] Options object.\n             * @return {SUGAR.HttpRequest}\n             */\n            bulk: function(data, callbacks, options) {\n                var url = this.buildURL('bulk');\n                return this.call('create', url, data, callbacks, options);\n            },\n\n            /**\n             * Given a url, attempt to download a file\n             * @param {string} url url to call\n             * @param {Object} [callbacks] Callback object\n             * @param {Object} [options] Options object\n             *  - iframe: jquery element upon which to attach the iframe for download\n             *    if not specified we must fall back to window.location.href\n             */\n            fileDownload: function(url, callbacks, options) {\n                options = options || {};\n                var internalCallbacks = {};\n\n                internalCallbacks.success = function(data) {\n                    // start the download with the \"iframe\" hack\n                    if (options.iframe) {\n                        options.iframe.prepend('<iframe class=\"hide\" src=\"' + url + '\"></iframe>');\n                    } else {\n                        window.location.href = url;\n                    }\n                    if (_.isFunction(callbacks.success)) {\n                        callbacks.success.apply(arguments);\n                    }\n                };\n\n                if (_.isFunction(callbacks.error)) {\n                    internalCallbacks.error = callbacks.error;\n                }\n\n                if (_.isFunction(callbacks.complete)) {\n                    internalCallbacks.complete = callbacks.complete;\n                }\n\n                // ping to make sure we have our token, then make an iframe and download away\n                return this.call('read', this.buildURL('ping'), {}, internalCallbacks, {processData: false});\n            },\n\n            /**\n             * Executes CRUD on a file resource.\n             *\n             * @param {string} method operation type: create, read, update, or delete.\n             * @param {Object} data object with file information.\n             * <pre>\n             * {\n             *   module: module name\n             *   id: model id\n             *   field: Name of the file-type field.\n             * }\n             * </pre>\n             * The `field` property is optional. If not specified, the API fetches the file list.\n             * @param {Object} [$files] jQuery/Zepto DOM elements that carry the files to upload.\n             * @param {Object} [callbacks] callback object.\n             * @param {Object} [options] Request options hash.\n             *\n             * - htmlJsonFormat: Boolean flag indicating if `sugar-html-json` format must be used (`true` by default)\n             * - iframe: Boolean flag indicating if iframe transport is used (`true` by default)\n             * See {@link SUGAR.Api#buildFileURL} function for other options.\n             *\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            file: function(method, data, $files, callbacks, options) {\n                var ajaxParams = {\n                    files: $files,\n                    processData: false\n                };\n\n                //delete method doesn't need to go through the iframe transport\n                if (method === 'delete') {\n                    ajaxParams.iframe = false;\n                } else if (!options || options.iframe !== false) {\n                    ajaxParams.iframe = true;\n\n                    // pass OAuth token as GET-parameter during file upload.\n                    // otherwise, in case if file is too large, the whole request body may be\n                    // ignored by interpreter together with the token\n                    options = options || {};\n                    options.passOAuthToken = true;\n                }\n\n                if (!options || options.deleteIfFails !== false) {\n                    options = options || {};\n                    options.deleteIfFails = true;\n                }\n\n                callbacks.success = _.wrap(callbacks.success, function(success, data) {\n                    if (data.error && _.isFunction(callbacks.error)) {\n                        callbacks.error(data);\n                    } else if (_.isFunction(success)) {\n                        success(data);\n                    }\n                });\n\n                return this.call(method, this.buildFileURL(data, options),\n                    null, callbacks, ajaxParams);\n            },\n\n            /**\n             * Fetches the total amount of records for a given module.\n             *\n             * Example 1:\n             *\n             *     app.api.count('Contacts', null, {\n             *         success: function(data) {\n             *             console.log('Total number of Contacts:' +\n             *                 data.record_count);\n             *         }\n             *     });\n             *\n             * Example 2:\n             *\n             *     app.api.count('Accounts', null,\n             *         {\n             *             success: function(data) {\n             *                 console.log('Total number of \"B\" Accounts:' +\n             *                     data.record_count);\n             *             }\n             *         },\n             *         {\n             *             filter: [{'name': {'$starts': 'B'}}]\n             *         }\n             *     );\n             *\n             * Example 3:\n             *\n             *     app.api.count('Accounts',\n             *         {\n             *             id: 'abcd',\n             *             link: 'cases'\n             *         },\n             *         {\n             *             success: function(data) {\n             *                 console.log('Total number of \"B\" cases related' +\n             *                     'to \"abcd\" account:' + data.record_count);\n             *             }\n             *         },\n             *         {\n             *             filter: [{'name': {'$starts': 'B'}}]\n             *         }\n             *     );\n             *\n             * @param {string} module Module to fetch the count for.\n             * @param {Object} [data] Data object containing relationship\n             *   information.\n             * @param {string} [data.link] The link module name.\n             * @param {string} [data.id] The id of the model.\n             * @param {function} [callbacks] Callback functions.\n             * @param {Object} [options] URL options hash.\n             * @param {Object} [options.filter] If supplied, the count of\n             *   filtered records will be returned, instead of the total number\n             *   of records.\n             * @return {SUGAR.HttpRequest} Result of {@link SUGAR.Api#call}.\n             * @member SUGAR.Api\n             */\n            count: function(module, data, callbacks, options) {\n                options = options || {};\n                var url = this.buildURL(module, 'count', data, options);\n\n                return this.call('read', url, null, callbacks);\n            },\n\n            /**\n             * Triggers a file download of the exported records.\n             *\n             * @param {Object} params Download parameters.\n             * @param {string} params.module Module name.\n             * @param {Array} params.uid Array of record ids to request export.\n             * @param {jQuery} $el JQuery selector to element.\n             * @param {Object} [callbacks] Various callbacks.\n             * @param {Function} [callbacks.success] Called on success.\n             * @param {Function} [callbacks.error] Called on failure.\n             * @param {Function} [callbacks.complete] Called when finished.\n             * @param {Object} [options] Request options hash.\n             *\n             * - passOAuthToken: Boolean flag indicating if OAuth token must be passed in the URL (`true` by default)\n             *\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            exportRecords: function(params, $el, callbacks, options) {\n                var self = this;\n                var recordListUrl = this.buildURL(params.module, 'record_list');\n\n                options = options || {};\n\n                return this.call(\n                    'create',\n                    recordListUrl,\n                    {'records': params.uid},\n                    {\n                        success: function(response) {\n                            params = _.omit(params, ['uid', 'module']);\n                            if (options.platform !== undefined) {\n                                params.platform = options.platform;\n                            } else if (_platform) {\n                                params.platform = _platform;\n                            }\n\n                            self.fileDownload(\n                                self.buildURL(response.module_name, 'export', {relatedId: response.id}, params),\n                                callbacks,\n                                { iframe: $el }\n                            );\n                        }\n                    }\n                );\n            },\n\n            /**\n             * Searches for specified query.\n             * @param {Object} params Properties.\n             * @param {string} params.q Query.\n             * @param {string} [params.module_list] Comma-separated module list.\n             * @param {string} [params.fields] Comma-separated list of fields.\n             * @param {number} [params.max_num] Max number of records to return.\n             * @param {number} [params.offset] Initial offset into the results.\n             * @param {Object} callbacks Hash with success and error callbacks.\n             * @param {Function} callbacks.success Function called on success.\n             *   Takes one argument.\n             * @param {Function} callbacks.error Function called on failure.\n             *   Takes one argument.\n             * @param {Object} [options] Request options.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            search: function(params, callbacks, options) {\n                options = options || {};\n                //FIXME: This is a temporary change. SC-4253 will set it back to\n                //'search' once BR-2367 will be merged.\n                var data = null;\n                if (options.data) {\n                    data = options.data;\n                    delete options.data;\n                }\n                var method = 'read';\n                if (options.fetchWithPost) {\n                    method = 'create';\n                }\n                var endpoint = options.useNewApi ? 'globalsearch' : 'search';\n                var url = this.buildURL(null, endpoint, null, params);\n\n                return this.call(method, url, data, callbacks, options);\n            },\n\n            /**\n             * Performs login.\n             *\n             * Credentials:\n             * <pre>\n             *     username: user's login name or email,\n             *     password: user's password in clear text\n             * </pre>\n             *\n             * @param {Object} credentials user credentials.\n             * @param {Object} [data] extra data to be passed in login request\n             *   such as client user agent, etc.\n             * @param {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            login: function(credentials, data, callbacks) {\n                var payload, success, error, method, url, self = this;\n\n                credentials = credentials || {};\n                callbacks = callbacks || {};\n\n                success = function(data) {\n                    _resetAuth(data);\n                    if (_externalLogin) {\n                        self.setRefreshingToken(false);\n                        _refreshTokenSuccess(\n                            function() {\n                                // Repeat original requests\n                                var r = _rqueue.shift();\n                                while (r) {\n                                    r._dequeuing = true;\n                                    r.execute(self.getOAuthToken());\n                                    r = _rqueue.shift();\n                                }\n                            }\n                        );\n                    }\n                    if (callbacks.success) callbacks.success(data);\n                };\n\n                error = function(error) {\n                    _resetAuth();\n                    if (callbacks.error) callbacks.error(error);\n                };\n\n                if (data && data.refresh) {\n                    payload = _.extend({\n                        grant_type: 'refresh_token',\n                        client_id: this.clientID,\n                        client_secret: '',\n                        refresh_token: this.getRefreshToken(),\n                        platform: _platform ? _platform : 'base'\n                    }, data);\n                } else {\n                    payload = _.extend({\n                        grant_type: 'password',\n                        username: credentials.username,\n                        password: credentials.password,\n                        client_id: this.clientID,\n                        platform: _platform ? _platform : 'base',\n                        client_secret: ''\n                    }, data);\n                    payload.client_info = data;\n                }\n\n                method = 'create';\n                url = this.buildURL('oauth2', 'token', payload, {\n                    platform: _platform\n                });\n                return this.call(method, url, payload, {\n                    success: success,\n                    error: error,\n                    complete: callbacks.complete\n                });\n            },\n\n            /**\n             * Executes CRUD on user profile.\n             *\n             * @param {String} method operation type: read or update (reserved for the future use).\n             * @param {Object} [data] user profile object.\n             * @param {Object} [params] URL parameters.\n             * @param {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            me: function(method, data, params, callbacks) {\n                var url = this.buildURL('me', method, data, params);\n                return this.call(method, url, data, callbacks);\n            },\n\n            /**\n             * Makes a call to the CSS Api\n             *\n             * @param {String} platform\n             * @param {Object} themeName\n             * @param {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             */\n            css: function(platform, themeName, callbacks) {\n                var params = {\n                    platform: platform,\n                    themeName: themeName\n                };\n                var url = this.buildURL('css', 'read', {}, params);\n                return this.call('read', url, {}, callbacks);\n            },\n\n            /**\n             * Performs logout.\n             *\n             * @param {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            logout: function (callbacks, options) {\n\n                callbacks = callbacks || {};\n\n                var payload = {\n                    token: this.getOAuthToken(),\n                    refresh_token: this.getRefreshToken(),\n                };\n\n                // Stock sidecar sends refresh token on logout\n                // 6.7.x doesn't support it. See [NOMAD-2891]/[SI 72054]\n                // TODO remove this once we drop support on 6.x on Nomad\n                if (this._serverInfo && this._serverInfo.version.charAt(0) === '6') {\n                    delete payload.refresh_token;\n                }\n\n                var url = this.buildURL('oauth2', 'logout', payload);\n\n                var originalComplete = callbacks.complete;\n                callbacks.complete = function () {\n                    _resetAuth();\n                    if (originalComplete) originalComplete();\n                };\n\n                return this.call('create', url, payload, callbacks, options);\n            },\n\n            /**\n             * Pings the server.\n             *\n             * The request doesn't send metadata hash by default.\n             * Pass `false` for \"skipMetadataHash\" option to override this behavior.\n             * @param {string} [action] Optional ping operation.\n             *   Currently, Sugar REST API supports \"whattimeisit\" only.\n             * @param {Object} [callbacks] callback object.\n             * @param {Object} [options] request options.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            ping: function(action, callbacks, options) {\n                return this.call(\n                    'read',\n                    this.buildURL('ping', action, null, {\n                        platform: _platform\n                    }),\n                    null,\n                    callbacks,\n                    _.extend({\n                        skipMetadataHash: true\n                    }, options || {})\n                );\n            },\n\n            /**\n             * Performs signup.\n             *\n             * TODO: The signup action needs another endpoint to allow a guest to signup\n             *\n             * @param  {Object} contactData user profile.\n             * @param  {Object} [data] extra data to be passed in login request\n             *   such as client user agent, etc.\n             * @param  {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            signup: function(contactData, data, callbacks) {\n                var payload = contactData;\n                payload.client_info = data;\n\n                var method = 'create';\n                var url = this.buildURL('Leads', 'register', payload);\n                return this.call(method, url, payload, callbacks);\n            },\n\n\n            /**\n             * Verify password\n             *\n             * @param  {Object} password the password to verify\n             * @param  {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            verifyPassword: function(password, callbacks) {\n                var payload = {\n                    password_to_verify: password\n                };\n                var method = 'create'; //POST so we don't require query params\n                var url = this.buildURL('me/password', method);\n                return this.call(method, url, payload, callbacks);\n            },\n\n            /**\n             * Update password\n             *\n             * @param  {Object} password the new password\n             * @param  {Object} password the new password\n             * @param  {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            updatePassword: function(oldPassword, newPasword, callbacks) {\n                var payload = {\n                    new_password: newPasword,\n                    old_password: oldPassword\n                };\n                var method = 'update';\n                var url = this.buildURL('me/password', method);\n                return this.call(method, url, payload, callbacks);\n            },\n\n            /**\n             * Fetches server information.\n             * @param {Object} [callbacks] callback object.\n             * @return {SUGAR.HttpRequest} AJAX request.\n             * @member SUGAR.Api\n             */\n            info: function(callbacks) {\n                var url = this.buildURL('ServerInfo');\n                return this.call('read', url, null, callbacks);\n            },\n\n            /**\n             * Checks if API instance is currently authenticated.\n             *\n             * @return {boolean} `true` if authenticated, `false` otherwise.\n             * @member SUGAR.Api\n             */\n            isAuthenticated: function() {\n                return typeof(this.getOAuthToken()) === 'string' && this.getOAuthToken().length > 0;\n            },\n\n            /**\n             * Clears authentication tokens.\n             */\n            resetAuth: function() {\n                _resetAuth();\n            },\n\n            /**\n             * Checks if authentication token can and needs to be refreshed.\n             * @param {string} url URL of the failed request.\n             * @param {string} errorCode Failure code.\n             * @return {boolean} `true` if the OAuth2 access token can be refreshed, `false` otherwise.\n             * @member SUGAR.Api\n             * @private\n             */\n            needRefreshAuthToken: function(url, errorCode) {\n                return (!_refreshingToken) &&\n                    (typeof(this.getRefreshToken()) === 'string' && this.getRefreshToken().length > 0) &&\n                    (!this.isAuthRequest(url)) &&    // must not be auth request\n                    (errorCode === 'invalid_grant');    // means access token got expired or invalid\n            },\n\n            /**\n             * Checks if we need to queue a request while token refresh is in progress\n             * @param {string} url\n             * @return {boolean} `true` if we need to queue the request\n             * @private\n             */\n            needQueue: function(url) {\n                return _refreshingToken && !this.isAuthRequest(url);    // must not be auth request\n            },\n\n            /**\n             * Checks if the request is authentication request.\n             *\n             * It could be either login (including token refresh) our logout request.\n             * @param {string} url\n             * @return `true` if this is an authentication request\n             */\n            isAuthRequest: function(url) {\n                return new RegExp('\\/oauth2\\/').test(url);\n            },\n\n            /**\n             * Checks if request is a login request.\n             * @param {string} url\n             * @return `true` if this is a login request, `false` otherwise\n             */\n            isLoginRequest: function(url) {\n                return new RegExp('\\/oauth2\\/token').test(url);\n            },\n\n            /**\n             * Checks if the request is the refresh token request\n             * @param {string} url url of the request to check\n             * @return `true` if the request is the refresh token request,\n             *   `false` otherwise\n             * @private\n             */\n            refreshingToken: function(url) {\n                return _refreshingToken && this.isAuthRequest(url);    // must be auth request\n            },\n\n            /**\n             * Sets a flag indicating that this API instance is in the process\n             * of authentication token refresh.\n             *\n             * @param {boolean} flag Flag indicating if token refresh is in\n             * progress (`true`).\n             * @member SUGAR.Api\n             * @private\n             */\n            setRefreshingToken: function(flag) {\n                _refreshingToken = flag;\n            },\n\n            /**\n             * Handles login with an external provider.\n             *\n             * @param {SUGAR.HttpRequest} request The request to trigger.\n             * @param {Object} error The error object with at least the\n             *   `payload` property.\n             * @param {Function} onError The function to call in case of Error\n             *   during the login request.\n             */\n            handleExternalLogin: function(request, error, onError) {\n                var self = this;\n\n                if (!self.isLoginRequest(request.params.url)) {\n                    _rqueue.push(request);\n                }\n                // don't try to reauth again from here\n                self.setRefreshingToken(true);\n\n                $(window).on('message', function(event) {\n                    if (!event.originalEvent.origin || event.originalEvent.origin !== window.location.origin) {\n                        // this is not our message, ignore it\n                        return;\n                    }\n                    $(window).on('message', null);\n                    authData = $.parseJSON(event.originalEvent.data);\n                    if (!authData || !authData.access_token) {\n                        onError();\n                    }\n                    self.setRefreshingToken(false);\n                    _resetAuth(authData);\n                    _refreshTokenSuccess(\n                        function() {\n                            // Repeat original requests\n                            var r = _rqueue.shift();\n                            while (r) {\n                                r.execute(self.getOAuthToken());\n                                r = _rqueue.shift();\n                            }\n                        }\n                    );\n                });\n                if (_.isFunction(_externalLoginUICallback)) {\n                    _externalLoginUICallback(error.payload.url, '_blank',\n                        'width=600,height=400,centerscreen=1,resizable=1');\n                }\n            },\n\n            /**\n             * Returns `true` when using an external login provider.\n             *\n             * @return {boolean} `true` when we are using an external\n             *   login provider, `false` otherwise.\n             */\n            isExternalLogin: function() {\n                return _externalLogin;\n            },\n\n            /**\n             * Sets a flag indicating that external login prodecure is used.\n             * This means that 401 errors would contain external URL that we should use for authentication.\n             * @param {Boolean} flag Flag indicating if external login is in effect\n             * @member SUGAR.Api\n             */\n            setExternalLogin: function(flag) {\n                _externalLogin = flag;\n            },\n\n            /**\n             * Sets a function as external login UI callback\n             * @param {Function} callback\n             * @member SUGAR.Api\n             */\n            setExternalLoginUICallback: function(callback) {\n                if (_.isFunction(callback)) {\n                    _externalLoginUICallback = callback;\n                }\n            },\n\n            /**\n             * Retrieve a property from the current state.\n             *\n             * @param {String} key\n             * @return {Mixed}\n             */\n            getStateProperty: function(key) {\n                return _state[key];\n            },\n\n            /**\n             * Set a property of the current state. The current state will be attached to all\n             * api request objects when they are sent. Modifications to the state after the request is sent\n             * but before the request completes will not affect that requests state.\n             *\n             * States should be used to track conditions or parameters that should be applied to all requests made\n             * regardless of their source.\n             *\n             * @param {String} key\n             * @param {Mixed} value\n             */\n            setStateProperty: function(key, value) {\n                _state[key] = value;\n            },\n\n            /**\n             * Removes the given key from the current state\n             * @param {string} key\n             */\n            clearStateProperty: function(key) {\n                delete _state[key];\n            },\n\n            /**\n             * Clears the current API request state object.\n             */\n            resetState: function() {\n                _state = {};\n            }\n        };\n    }\n\n    return {\n        /**\n         * Gets an instance of Sugar API class.\n         * @param args\n         * @return {SUGAR.Api} an instance of Sugar API class.\n         * @member SUGAR.Api\n         * @static\n         */\n        getInstance: function(args) {\n            return _instance || this.createInstance(args);\n        },\n\n        /**\n         * Creates a new instance of Sugar API class.\n         * @param args\n         * @return {SUGAR.Api} a new instance of Sugar API class.\n         * @member SUGAR.Api\n         * @static\n         */\n        createInstance: function(args) {\n            _instance = new SugarApi(args);\n\n            if (!('crosstab' in window) || !crosstab.supported) {\n                return _instance;\n            }\n\n            // this event should only be triggered on master tab and if\n            // crosstab library is loaded\n            crosstab(function() {\n                crosstab.on('auth:refresh', _.bind(function() {\n\n                    // prevents concurrent events from multiple tabs asking for a\n                    // refresh token\n                    if (this._runningRefreshToken) {\n                        return;\n                    }\n                    this._runningRefreshToken = true;\n\n                    var self = this;\n\n                    this.login(null, { refresh: true }, {\n                        complete: function() {\n                            crosstab.broadcast('auth:refresh:complete', 'complete');\n                        },\n                        success: function() {\n                            delete self._runningRefreshToken;\n                            crosstab.broadcast('auth:refresh:complete', 'success');\n                        },\n                        error: function() {\n                            delete self._runningRefreshToken;\n                            crosstab.broadcast('auth:refresh:complete', 'error');\n                        }\n                    });\n                }, _instance));\n            });\n\n            return _instance;\n        },\n\n        /**\n         * Return the number of API calls currently in progress\n         * @return {number} Number of calls in progress\n         * @member SUGAR.Api\n         * @static\n         */\n        getCallsInProgressCount: function() {\n            return _numCallsInProgress;\n        },\n\n        HttpError: HttpError,\n        HttpRequest: HttpRequest\n    };\n\n})();\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/imports-loader?SUGAR=>window.SUGAR!./lib/sugarapi/sugarapi.js\n// module id = 31\n// module chunks = 0","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    var _doWhenStack = [],\n        _doWhenLocked = false,\n        _doWhenInterval = false,\n        _doWhenretryCount = 0,\n\n        _startDoWhenInterval = function () {\n            if (!_doWhenInterval) {\n                _doWhenInterval = window.setInterval(app.utils._doWhenCheck, 50);\n            }\n        };\n\n    /**\n     * Utils module provides several utility methods used throughout the app such as number formatting.\n     *\n     * @class Utils.Utils\n     * @alias SUGAR.App.utils\n     * @singleton\n     */\n    app.augment('utils', {\n\n        /**\n         * Capitalizes a string.\n         * @param {String} s The string to capitalize.\n         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n         */\n        capitalize: s => s ? (s.charAt(0).toUpperCase() + (s.length > 1 ? s.substr(1) : \"\")) : \"\",\n\n        /**\n         * Capitalizes a hyphenated string.\n         *\n         * `\"my-string\"` becomes `\"MyString\"`.\n         * @param {String} s The string to capitalize.\n         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n         */\n        capitalizeHyphenated: function(s) {\n            return this._classify(s, '-');\n        },\n\n        /**\n         * Capitalizes an underscored string.\n         *\n         * `\"my_string\"` becomes `\"MyString\"`.\n         * @param {String} s The string to capitalize.\n         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n         */\n        classify: function(s) {\n            return this._classify(s, '_');\n        },\n\n        /**\n         * Capitalizes a delimited string.\n         *\n         * `\"my_string\"` becomes `\"MyString\"`.\n         * @param {String} s The string to capitalize.\n         * @param {String} delimiter(optional) Delimiter string. Defaults to `'_'`.\n         * @return {String} Capitalized string or an empty string if `s` is undefined or null.\n         */\n        _classify: function(s, delimiter) {\n            var self = this, result = '';\n            delimiter = delimiter || '_';\n\n            if (!s || s.lastIndexOf(delimiter) === -1) {\n                result = self.capitalize(s);\n            } else {\n                var words = s.split(delimiter);\n                _.each(words, function(word) {\n                    result += self.capitalize(word);\n                });\n            }\n            return result;\n        },\n\n        /**\n         * Extends a Class based on the given controller.\n         *\n         * If the controller has an `extendsFrom` property, it will be used to\n         * define its parent class. It should be defined as a string in order\n         * for the system to detect if there is any customization on that\n         * parent (normally prefixed with `Custom` like `Custom<ClassName>`).\n         *\n         * If the parent class defined in the `extendsFrom` property doesn't\n         * exist or the controller isn't specifying one, it will fallback to\n         * the supplied `defaultBase` param which has it's own set of fallback\n         * strategy defined by the components that call this method. See\n         * {@link View.ViewManager} and {@link Data.DataManager}.\n         *\n         * @param {Object} cache Object cache to add controller to.\n         * @param {Object} defaultBase Class to be extended from if no override\n         *   (`extendsFrom`) is defined in the controller.\n         * @param {string} className Class name to be used for new Class.\n         * @param {Object|undefined} controller Properties for new Class.\n         * @param {string} platformNamespace Platform name.\n         * @return {Object} the new extended class.\n         */\n        extendClass: function(cache, defaultBase, className, controller, platformNamespace) {\n            var klass;\n\n            if (!_.isObject(controller)) {\n                // nothing to extend from, use default\n                klass = cache[className] = defaultBase;\n                return klass;\n            }\n\n            if (_.isObject(controller.extendsFrom)) {\n                //should be avoided due to chain breakage - aka custom fallback\n                klass = cache[className] = controller.extendsFrom.extend(controller);\n                return klass;\n            }\n\n            if (!controller.extendsFrom) {\n                // follow the default fallback flow\n                klass = cache[className] = defaultBase.extend(controller);\n                return klass;\n            }\n\n            // try to find the base using the name and following the fallback flow\n            var base = cache[platformNamespace + 'Custom' + controller.extendsFrom] ||\n                cache[platformNamespace + controller.extendsFrom] ||\n                cache['Custom' + controller.extendsFrom] ||\n                cache[controller.extendsFrom];\n\n            if (!base) {\n                app.logger.warn('The \"' + controller.extendsFrom + '\" component was not found to be used as ' +\n                    'the \"' + className + '\"\\'s parent. Please update your code to point to an existing class.');\n                base = defaultBase;\n            }\n\n            klass = cache[className] = base.extend(controller);\n            return klass;\n        },\n\n        /**\n         * Formats Numbers\n         *\n         * @param {Number} value number to be formatted eg 2.134\n         * @param {Number} round number of digits to right of decimal to round at\n         * @param {Number} precision number of digits to right of decimal to take precision at\n         * @param {String} numberGroupSeparator character separator for number groups of 3 digits to the left of the decimal to add\n         * @param {String} decimalSeparator character to replace decimal in arg number with\n         * @return {String} formatted number string OR original value if it is not a number\n         */\n        formatNumber: function(value, round, precision, numberGroupSeparator, decimalSeparator) {\n            round = round || precision;\n            var original = value;\n            if (_.isNaN(value) || !_.isFinite(value)) {\n                return original;\n            }\n            if (_.isString(value)) {\n                value = parseFloat(value, 10);\n                if(_.isNaN(value)){\n                    return original;\n                }\n            }\n            // Return original value if it is not a number\n            if(!_.isNumber(value)) {\n                if(!_.isNull(value) && !_.isUndefined(value)) {\n                    // invalid variable type\n                    app.logger.warn('formatNumber: invalid variable type ('+typeof(original)+')');\n                }\n                return original;\n            }\n\n            // make sure that the precision variable is an integer and not a string\n            // Big.js doesn't like it as a string\n            if (_.isString(precision)) {\n                precision = parseInt(precision);\n            }\n            \n            value = Big(value).toFixed(precision);\n            return (_.isString(numberGroupSeparator) && _.isString(decimalSeparator)) ?\n                this.addNumberSeparators(value, numberGroupSeparator, decimalSeparator) : value;\n        },\n\n        /**\n         * Format number to current user locale\n         * @param {Number}  value\n         * @return {String} formatted number\n         */\n        formatNumberLocale:function (value) {\n            // use user locale, or decent defaults otherwise\n            return this.formatNumber(\n                value,\n                app.user.getPreference('decimal_precision') || 2,\n                app.user.getPreference('decimal_precision') || 2,\n                app.user.getPreference('number_grouping_separator') || ',',\n                app.user.getPreference('decimal_separator') || '.');\n        },\n\n        /**\n         * Format full name with the provided locale format.\n         * @param {Object} params Name property values.\n         *        - first_name: first name.\n         *        - last_name: last name.\n         *        - salutation: salutation.\n         * @param {String} format Locale format (i.e. [f l s], [s l, f]).\n         * @return {String} formatted string.\n         */\n        formatName: function(params, format) {\n            return format.replace(/(f)|(l)|(s)/g, function(str, firstName, lastName, salutation) {\n                if (firstName) {\n                    return params.first_name || '';\n                }\n                if (lastName) {\n                    return params.last_name || '';\n                }\n                if (salutation && (params.last_name || params.first_name)) {\n                    return params.salutation || '';\n                }\n                return '';\n            })\n                //Remove comma when last name is empty\n                .replace(/^( )?,/g, '')\n                //Remove comma when last name is provided but first name is empty\n                .replace(/, $/g, '')\n                //Remove extra spaces when middle part is missing\n                .replace(/  /g, ' ')\n                //trim spaces\n                .trim();\n        },\n\n        /**\n         * Format a record's name (ie. full name) according to the name format\n         * passed in parameters or defined in the user preferences.\n         *\n         *     @example Format you can pass:\n         *     'f l s' will output: `FirstName LastName Salutation`,\n         *     's l, f' will output: `Salutation LastName FirstName`.\n         *\n         * The module defines a `nameFormat` object that maps a letter to a\n         * field.\n         *\n         *     @example Name format mapping:\n         *     {\n         *         s: 'salutation',\n         *         f: 'first_name',\n         *         l: 'last_name'\n         *     }\n         *\n         * There is a special case for enum type fields (e.g. `salutation`):\n         * we need to pull the label from the app list strings.\n         *\n         * @param {String} module The module name the record belongs to.\n         * @param {Object} data The record attributes.\n         * @param {String} [format] The format definition.\n         * @return {String} The formatted full name string.\n         */\n        formatNameModel: function(module, data, format) {\n            format = format || app.user.getPreference('default_locale_name_format');\n            data = data || {};\n\n            var metadata = app.metadata.getModule(module) || {fields: {}};\n            var formatMap = metadata.nameFormat || {};\n\n            return _.reduce(format.split(''), function(formattedString, letter) {\n                // only letters a-z may be significant in the format,\n                // everything else is translated verbatim\n                if (letter < 'a' || letter > 'z') {\n                    return formattedString + letter;\n                }\n                if (!formatMap[letter]) {\n                    return formattedString;\n                }\n\n                var enumLabel,\n                    isEnum = metadata.fields[formatMap[letter]] &&\n                        metadata.fields[formatMap[letter]].type === 'enum' &&\n                        !_.isEmpty(metadata.fields[formatMap[letter]].options);\n\n                if (isEnum) {\n                    var list = app.lang.getAppListStrings(metadata.fields[formatMap[letter]].options);\n                    enumLabel = list[data[formatMap[letter]]] || data[formatMap[letter]] || '';\n                }\n\n                return formattedString + (enumLabel || data[formatMap[letter]] || '');\n            }, '')\n                //Remove leading comma - i.e. \", John\"\n                .replace(/^( )?,/g, '')\n                //Remove trailing comma - i.e., \"John, \", \"John,  \", etc.\n                .replace(/, +$/g, '')\n                //Remove extra spaces when middle part is missing\n                .replace(/  /g, ' ')\n                //trim spaces\n                .trim();\n        },\n\n        /**\n         * Format full name following user locale format.\n         * @param {Object} params Name property values.\n         *        - first_name: first name.\n         *        - last_name: last name.\n         *        - salutation: salutation.\n         * @return {String} {String} formatted string.\n         */\n        formatNameLocale: function(params) {\n            return this.formatName(params, app.user.getPreference('default_locale_name_format'));\n        },\n\n        /**\n         * Adds number separators to a number string\n         * @param {String} numberString string of number to be modified of the\n         *   format nn.nnn\n         * @param {String} numberGroupSeparator character separator for number\n         *   groups of 3 digits to the left of the decimal to add\n         * @param {String} decimalSeparator character to replace decimal in arg\n         *   number with\n         * @return {String}\n         */\n        addNumberSeparators: function(numberString, numberGroupSeparator, decimalSeparator) {\n            var numberArray = numberString.split(\".\");\n            var regex = /(\\d+)(\\d{3})/;\n            while (numberGroupSeparator !== '' && regex.test(numberArray[0])) {\n                numberArray[0] = numberArray[0].toString().replace(regex, '$1' + numberGroupSeparator + '$2');\n            }\n            return numberArray[0] + (numberArray.length > 1 &&\n                numberArray[1] !== '' ? decimalSeparator + numberArray[1] : '');\n        },\n\n        /**\n         * Unformats number strings\n         * @param {String} numberString\n         * @param {String} numberGroupSeparator\n         * @param {String} decimalSeparator\n         * @param {Boolean} toFloat\n         * @return {String} formatted number string\n         */\n        unformatNumberString: function(numberString, numberGroupSeparator, decimalSeparator, toFloat) {\n            toFloat = toFloat || false;\n            if (typeof numberGroupSeparator === 'undefined' || typeof decimalSeparator === 'undefined') {\n                return numberString;\n            }\n\n            // if number is not as string, make it a string\n            if (!_.isString(numberString)) {\n                if (_.isFinite(numberString)) {\n                    // valid number, convert to string\n                    numberString.toString();\n                } else {\n                    // invalid value: null, undefined, NaN, etc.\n                    // set to empty string\n                    numberString = '';\n                }\n            }\n\n            // parse out number group separators\n            if (numberGroupSeparator !== '') {\n                var num_grp_sep_re = new RegExp('\\\\' + numberGroupSeparator, 'g');\n                numberString = numberString.replace(num_grp_sep_re, '');\n            }\n\n            // parse out decimal separators\n            numberString = numberString.replace(decimalSeparator, '.');\n\n            // remove any invalid chars\n            //numberString = numberString.replace(/[^0-9\\.\\+\\-\\%]/g, '');\n\n            // convert to float\n            if (numberString.length > 0 && toFloat) {\n                var float = parseFloat(numberString);\n                if (float == numberString) {\n                    return float;\n                }\n            }\n\n            return numberString;\n        },\n\n        /**\n         * Unformat number string with user locale\n         * @param {Number}  value\n         * @param {Boolean} toFloat convert string to float value\n         * @return {String} formatted value\n         */\n        unformatNumberStringLocale:function (value, toFloat) {\n            return this.unformatNumberString(\n                value,\n                app.user.getPreference('number_grouping_separator') || ',',\n                app.user.getPreference('decimal_separator') || '.',\n                toFloat);\n        },\n\n        /**\n         * This function will take a string that has tokens like {0}, {1} and will replace\n         * those tokens with the args provided.\n         * Based on format_string function from utils.php\n         * @param {String} format String to format\n         * @param {String} args Arguments to replace\n         * @return {String} formatted string\n         */\n        formatString: function(format, args){\n            for(var idx in args){\n                format = format.replace('{'+idx+'}',args[idx]);\n            }\n            return format;\n        },\n\n        /**\n         * This function will take a string and escape it for use in javascript regex.\n         * @param {String} string the string to escape\n         * @return {String} string escaped\n         */\n        regexEscape: function regexEscape(string) {\n            if( typeof regexEscape.specialRegExp == 'undefined' ) {\n                var specials = [\n                    '/', '.', '*', '+', '?', '|',\n                    '(', ')', '[', ']', '{', '}', '\\\\',\n                    '-', ',', '^', '$', '#'\n                ];\n                regexEscape.specialRegExp = new RegExp(\n                    '(\\\\' + specials.join('|\\\\') + ')', 'g'\n                );\n            }\n            return string.replace(regexEscape.specialRegExp, '\\\\$1');\n        },\n\n        /**\n         * Generates and returns a UUID\n         * @return {string}\n         */\n        generateUUID: function() {\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n                 /*jshint -W016 */ // \"Unexpected use of '|'.\",\n                 /*jshint -W116 */ // \"Expected '===' and instead saw '=='.\"\n                 var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n                 return v.toString(16);\n            });\n        },\n\n        cookie: {\n            /**\n             * Sets a cookie\n             * @param {String} cName cookie name\n             * @param {String} value\n             * @param {Number} exdays days until expiration\n             * @param {String} path cookie path\n             */\n            setCookie: function(cName, value, exdays, path) {\n                var exdate = new Date(), c_value;\n                exdate.setDate(exdate.getDate() + exdays);\n                c_value = encodeURIComponent(value);\n                if (exdays) {\n                    c_value += \"; expires=\" + exdate.toUTCString();\n                }\n                if (path) {\n                    c_value += \"; path=\" + path;\n                }\n                document.cookie = cName + \"=\" + c_value;\n            },\n\n            /**\n             * Gets a cookie\n             * @param {String} cName\n             * @return {String}\n             */\n            getCookie: function(cName) {\n                var i, x, y, ARRcookies = document.cookie.split(\";\");\n                for (i = 0; i < ARRcookies.length; i++) {\n                    x = ARRcookies[i].substr(0, ARRcookies[i].indexOf(\"=\"));\n                    y = ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\") + 1);\n                    x = x.replace(/^\\s+|\\s+$/g, \"\");\n                    if (x === cName) {\n                        return decodeURIComponent(y);\n                    }\n                }\n            }\n        },\n\n        /**\n         * Checks if an email address is valid\n         *\n         * Only performs a very basic validation because the complexity of the\n         * server-side regular expression is too great to mirror on the client,\n         * both in terms of maintenance and difficulty in porting to a different\n         * engine. Even if the light-weight validation passes, the server-side\n         * validation may fail.\n         * \n         * @param {String} address\n         * @return {Boolean}\n         */\n        isValidEmailAddress: function(address) {\n            return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@\\S+$/.test(address);\n        },\n\n        /**\n         *  Based on YUI onAvailible, but will use any boolean function instead of an ID.\n         *  Once the given condition is met, the callback function will be executed.\n         *\n         * <pre><code>\n         * // Execute a callback once an Object is defined\n         * app.utils.doWhen(\"SUGAR.ObjectToWaitFor\", function(){\n         *     //Use the object here\n         *     console.log(SUGAR.ObjectToWaitFor);\n         * });\n         *\n         * // Use a function for condition and set paramters for the callback\n         * var el = $(\"#myId\");\n         * var cond = function(){return el.hasClass(\"foo\")};\n         * var callback = function(params){this.log(params.msg); el.html(params.html);};\n         * app.utils.doWhen(cond, callback, {msg:\"Hello World\", html:\"&lt;h1&gt;Exists!&lt;/h1&gt;\"}, console);\n         * </code></pre>\n\n\n         * @param {Function|string} condition function/evaluatable string which must return a boolean value.\n         * @param {Function} callback function to execute when condition is met\n         * @param {Object} [params] object to pass to the callback function\n         * @param {Object} [scope] object to use as this when executing the callback\n         */\n        doWhen : function(condition, callback, params, scope){\n            _doWhenStack.push({\n                check:condition,\n                fn:         callback,\n                obj:        params,\n                overrideContext:   scope\n            });\n\n            _doWhenretryCount = 50;\n            _startDoWhenInterval();\n        },\n        /**\n         *  The guts of doWhen. Runs through the stack checking all the conditions and fires the callbacks when the conditions are met.\n         * @private\n         */\n        _doWhenCheck : function () {\n            if (_doWhenStack.length === 0) {\n                _doWhenretryCount = 0;\n                if (_doWhenInterval) {\n                     clearInterval(_doWhenInterval);\n                    _doWhenInterval = null;\n                }\n                return;\n            }\n\n            if (_doWhenLocked) {\n                return;\n            }\n\n            _doWhenLocked = true;\n\n            // keep trying until after the page is loaded.  We need to\n            // check the page load state prior to trying to bind the\n            // elements so that we can be certain all elements have been\n            // tested appropriately\n            var tryAgain = $.isReady;\n            if (!tryAgain) {\n                tryAgain = (_doWhenretryCount > 0 && _doWhenStack.length > 0);\n            }\n\n            // onAvailable\n            var notAvail = [];\n\n            var executeItem = function (context, item) {\n                if (item.overrideContext) {\n                    if (item.overrideContext === true) {\n                        context = item.obj;\n                    } else {\n                        context = item.overrideContext;\n                    }\n                }\n                if (item.fn) {\n                    item.fn.call(context, item.obj);\n                }\n            };\n\n            var i, len, item, test;\n\n            // onAvailable onContentReady\n            for (i = 0, len = _doWhenStack.length; i < len; i = i + 1) {\n                item = _doWhenStack[i];\n                if (item) {\n                    test = item.check;\n                    if ((typeof(test) == 'string' &&\n                         eval(test)) || // jshint ignore:line\n                        (typeof(test) == 'function' && test())\n                    ) {\n                        executeItem(this, item);\n                        _doWhenStack[i] = null;\n                    }\n                    else {\n                        notAvail.push(item);\n                    }\n                }\n            }\n\n            _doWhenretryCount--;\n\n            if (tryAgain) {\n                for (i = _doWhenStack.length - 1; i > -1; i--) {\n                    item = _doWhenStack[i];\n                    if (!item || !item.check) {\n                        _doWhenStack.splice(i, 1);\n                    }\n                }\n                _startDoWhenInterval();\n            } else {\n                if (_doWhenInterval) {\n                    clearInterval(_doWhenInterval);\n                    _doWhenInterval = null;\n                }\n            }\n            _doWhenLocked = false;\n        },\n\n        /**\n         * Compares two version strings.\n         *\n         *     app.utils.versionCompare('8.2.5rc', '8.2.5a') === 1\n         *     app.utils.versionCompare('8.2.50', '8.2.52', '<') === true\n         *     app.utils.versionCompare('5.3.0-dev', '5.3.0') === -1\n         *     app.utils.versionCompare('4.1.0.52','4.01.0.51') === 1\n         *\n         * @param {string} v1 First version.\n         * @param {string} v2 Second version.\n         * @param {string} [operator] Operator argument, if specified, test for\n         *   a particular relationship. The possible operators are:\n         *   `<`, `lt`, `<=`, `le`, `>`, `gt`, `>=`, `ge`, `==`, `=`, `eq`,\n         *   `!=`, `<>`, and `ne`.\n         *   This parameter is case-sensitive, values should be lowercase.\n         *\n         * @return {number|boolean} By default, returns -1 if the first version\n         *   is lower than the second, 0 if they are equal, and 1 if the second\n         *   is lower. When using the optional operator argument, the function\n         *   will return `true` if the relationship is the one specified by the\n         *   operator, `false` otherwise.\n         */\n        versionCompare: function(v1, v2, operator) {\n            // Use php.js implementation\n            // http://phpjs.org/functions/version_compare/\n            return version_compare(v1, v2, operator);\n        },\n\n        extendFrom : function(subc, superc, overrides) {\n            subc.prototype = new superc(); // set the superclass\n            // overrides\n            _.extend(subc.prototype, overrides);\n        },\n\n        /**\n         * Creates a deep clone of an object.\n         * @param {Mixed} obj\n         * @return {Mixed} Returns a value of the same type as the input.\n         */\n        deepCopy: function(obj) {\n            return _.isObject(obj) ? JSON.parse(JSON.stringify(obj)) : obj;\n        },\n\n        /**\n         * Compare field values in the first bean with the second bean and return the field names\n         * that have different values.\n         * @param {Bean} beanA\n         * @param {Bean} beanB\n         * @return {Array}\n         */\n        compareBeans: function(beanA, beanB) {\n            var changedFields;\n\n            if (beanA.module !== beanB.module) {\n                throw Error('Only beans of the same module can be compared.');\n            }\n\n            changedFields = _.reduce(beanA.attributes, function(memo, value, attribute) {\n                // skip id field and all fields that start with an underscore\n                if ((attribute !== 'id') && (attribute.indexOf('_') !== 0)) {\n                    if (\n                        !this.areBeanValuesEqual(value, beanB.get(attribute)) &&\n                            this.hasDefaultValueChanged(attribute, beanA)\n                        ) {\n                        memo.push(attribute);\n                    }\n                }\n\n                return memo;\n            }, [], this);\n\n            return changedFields;\n        },\n\n        /**\n         * Checks to see if values in beans are equal to each other.\n         * @param {Mixed} value1\n         * @param {Mixed} value2\n         * @return {boolean}\n         */\n        areBeanValuesEqual: function(value1, value2) {\n            var getValueToCompare = function(value) {\n                if (_.isObject(value) && _.isEmpty(value)) {\n                    return '';\n                } else if (!_.isObject(value) && (_.isUndefined(value) || _.isNull(value))) {\n                    return '';\n                } else {\n                    return value;\n                }\n            };\n\n            value1 = getValueToCompare(value1);\n            value2 = getValueToCompare(value2);\n\n            return ((_.isObject(value1) && _.isEqual(value1, value2)) || (!_.isObject(value1) && (value1 === value2)));\n        },\n\n        /**\n         * Checks to see if the default value has changed.\n         * @param {string} attribute\n         * @param {Data.Bean} bean\n         * @return {boolean}\n         */\n        hasDefaultValueChanged: function(attribute, bean) {\n            var defaultValue = bean._defaults ? bean._defaults[attribute] : '';\n            return !this.areBeanValuesEqual(defaultValue, bean.get(attribute));\n        },\n\n        /**\n         * Checks if the AJAX error is a network connectivity error: timeout, DNS, etc.\n         *\n         * @param ajaxError AJAX error.\n         * @returns {Boolean} true if the error is a network error.\n         */\n        isConnectivityError: function(ajaxError) {\n            // There can be situations when the status is not zero but the actual request times out.\n            return ((ajaxError.status === 0) ||\n                    (ajaxError.textStatus === \"timeout\"));\n        },\n\n        /**\n         * Returns ISO8601 timestamp in UTC time\n         * @param {String|Number} [dateValue] Date string or raw msec number\n         * @param {Object} [options]\n         * @returns {String} Passed date or current date converted to UTC timezone\n         */\n        getTimestamp: function(dateValue, options) {\n            options = options || {};\n            var date = dateValue ? new Date(dateValue) : new Date(),\n                dateString = date.toISOString();\n\n            if (!options.msecPrecision) {\n                dateString = dateString.replace(/\\.\\d{3}/, '');\n            }\n\n            //Z is replaced with +00:00 for unification with server\n            return dateString.replace(/Z/, '+00:00');\n        },\n\n        /**\n         * Builds a good url based on `siteUrl` from configuration.\n         *\n         * It is ready for the several use cases that `siteUrl` can have:\n         *\n         * - relative path (aka context);\n         * - full path;\n         * - empty path.\n         *\n         * @param {string} url the full url or a relative url without the prepended `/`.\n         * @return {string}\n         */\n        buildUrl: function(url) {\n            // Adjust relative URL: prepend it with site URL\n            if (url.indexOf(\"http\") !== 0 && !_.isEmpty(app.config.siteUrl)) {\n                // Strip trailing forward slashes from site URL just in case\n                url = app.config.siteUrl.replace(/\\/+$/, \"\") + \"/\" + url;\n            }\n            return url;\n        },\n\n        /**\n\n         * Get diff between `data1` and `data2`.\n         * Note: this function is targeted to compare objects with the same properties.\n         * @param {Object} data1 Changed object\n         * @param {Object} data2 Original object\n         * @param {Boolean} [strict=false] By default values are compared property by property via non-strict comparison.\n         * @returns {Object} Hash of fields from `data1` which are different from `data2`\n         */\n        getChangedProps: function (data1, data2, strict) {\n\n            function getType (value) {\n                if (_.isObject(value)) {\n                    if (_.isArray(value)) {\n                        return 'array';\n                    }\n                    return 'object';\n                }\n                return 'other';\n            }\n\n            function isEqualProp (value1, value2) {\n\n                if (strict) return _.isEqual(value1, value2);\n\n                var value1Type = getType(value1),\n                    value2Type = getType(value2);\n\n                if (value1Type === value2Type && _.contains(['object', 'array'], value1Type)) {\n                    if (value1Type === 'array' && value1.length !== value2.length) {\n                        return false;\n                    }\n                    \n                    var keys1 = _.keys(value1),\n                        keys2 = _.keys(value2);\n\n                    if (keys1.length !== keys2.length || !_.isEqual(keys1.sort(), keys2.sort())) {\n                        return false;\n                    }\n\n                    return !_.any(value1, function (val, key) {\n                        return !isEqualProp(value1[key], value2[key]);\n                    });\n                }\n                else {\n                    return strict ? (value1 === value2) : (value1 == value2);\n                }\n            }\n\n\n            var diff = {};\n\n            _.each(data1, function (value, key) {\n                if (!isEqualProp(data1[key], data2[key])) {\n                    diff[key] = value;\n                }\n            });\n\n            return diff;\n        },\n\n        /**\n         * Get the layout container for the given component.\n         * @param {View.Component} component\n         * @return {View.Layout}\n         */\n        getParentLayout: function(component) {\n            var parent;\n\n            if (component.view && component.view.layout) {\n                parent = component.view.layout;\n            } else {\n                parent = component.layout;\n            }\n\n            return parent;\n        },\n\n        isSortable: function(module, fieldViewdef) {\n            var fieldVardef = app.metadata.getModule(module).fields[fieldViewdef.name],\n                isSortable = true;\n\n            if (fieldVardef && !_.isUndefined(fieldVardef.sortable)) {\n                isSortable = fieldVardef.sortable;\n            }\n            if (fieldViewdef && !_.isUndefined(fieldViewdef.sortable)) {\n                isSortable = fieldViewdef.sortable;\n            }\n            return isSortable;\n        },\n\n        /**\n         * Returns url without hypertext http(s):// prefix\n         * @param {String} url - input url\n         * @returns {String} - url without http(s):// prefix\n         */\n        stripHttpPrefix: function (url) {\n            return url.replace(/^https?:\\/\\//, '');\n        },        \n    \n        hardRefresh: function() {\n            window.location.reload(true);\n        },\n\n        /**\n         * Checks if the value should be rendered in RTL.\n         *\n         * @param {string} value The value to check.\n         * @return {boolean} `true` if the string is in a RTL language.\n         */\n        isDirectionRTL: function(value) {\n            var ltrChars = 'A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF' +\n                    '\\u2C00-\\uFB1C\\uFDFE-\\uFE6F\\uFEFD-\\uFFFF',\n                rtlChars = '\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC',\n                isRTL = new RegExp('^[^' + ltrChars + ']*[' + rtlChars + ']');\n\n            return isRTL.test(value);\n        }\n\n    });\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n    /**\n     * This class extends from moment.js and tries to provide a compatibility\n     * layer with old/previous code.\n     *\n     * @class Utils.Date\n     * @alias SUGAR.App.date\n     * @singleton\n     */\n    var date = moment;\n\n    _.extend(date, {\n\n        /**\n         * Exception to be used when an invalid date/time is passed.\n         *\n         * @param {String} message The error message.\n         * @param {String} date The date that is invalid.\n         */\n        InvalidException: function(message, date) {\n            this.name = 'InvalidException';\n            this.message = message;\n            this.date = date;\n        },\n\n        /**\n         * Cached formats of converted date/time formats from server to client.\n         *\n         * This cache is populated by {@link #convertFormat}\n         *\n         * @type {Object}\n         * @private\n         */\n        _cachedFormats: {},\n\n        /**\n         * Server date format according to momentjs.\n         * This is exactly the same as the server is expecting `Y-m-d`.\n         *\n         * @type {String}\n         * @private\n         */\n        _serverDateFormat: 'YYYY-MM-DD',\n\n        /**\n         * Convert PHP date/time format preference to JS.\n         *\n         * Momentjs uses a different formatting tokens:\n         * {@link http://momentjs.com/docs/#/parsing/string-format/}\n         *\n         * Known possible values to convert (out of the box):\n         *\n         * ```\n         * // dates\n         * 'Y-m-d'\n         * 'd-m-Y'\n         * 'm-d-Y'\n         * 'Y/m/d'\n         * 'd/m/Y'\n         * 'm/d/Y'\n         * 'Y.m.d'\n         * 'd.m.Y'\n         * 'm.d.Y'\n         *\n         * // time\n         * 'H:i'\n         * 'h:ia'\n         * 'h:iA'\n         * 'H.i'\n         * 'h.ia'\n         * 'h.iA'\n         * ```\n         *\n         * @param {String} server The server format preference to convert.\n         * @return {String} The converted format that momentjs understands.\n         * @private\n         *\n         */\n        convertFormat: function(server) {\n\n            if (date._cachedFormats[server]) {\n                return date._cachedFormats[server];\n            }\n\n            var convertTable = {\n                // date\n                'd': 'DD',  // day of the month w\\ leading zeros\n                'm': 'MM',  // numeric month w\\ leading zeros\n                'Y': 'YYYY',  // full numeric year\n                // time\n                'H': 'HH', // 24-hour format w\\ leading zeros\n                'h': 'hh', // 12-hour format w\\ leading zeros\n                'i': 'mm' // minutes w\\ leading zeros\n            };\n\n            var client = server;\n            _.each(convertTable, function(to, from) {\n                client = client.replace(from, to);\n            });\n            date._cachedFormats[server] = client;\n            return client;\n        },\n\n        /**\n         * Compares two dates and returns an integer that is great for sorting.\n         *\n         * @param {String} date1 The first date to compare.\n         * @param {String} date2 The second date to compare.\n         * @return {Number} Returns `-1`, `0` or `1` based on:\n         * - `-1` if date1 < date2\n         * - `0` if date1 = date2\n         * - `1` if date1 > date2\n         *\n         * @throws {Error} if any of the given dates are invalid.\n         */\n        compare: function(date1, date2) {\n            var mDate1 = moment(date1),\n                mDate2 = moment(date2);\n\n            if (!mDate1.isValid()) {\n                throw new date.InvalidException('Invalid date passed for comparison.', date1);\n            }\n            if (!mDate2.isValid()) {\n                throw new date.InvalidException('Invalid date passed for comparison.', date2);\n            }\n\n            if (mDate1.isBefore(mDate2)) {\n                return -1;\n            }\n            if (mDate1.isAfter(mDate2)) {\n                return 1;\n            }\n            return 0;\n        },\n\n        /**\n         * Get the date format preference for the given user.\n         * @param {Data.Bean|Object} user\n         * @return {string}\n         */\n        getUserDateFormat: function(user) {\n            user = user || app.user;\n            return this.convertFormat(user.getPreference('datepref'));\n        },\n\n        /**\n         * Get the time format preference for the given user.\n         * @param {Data.Bean|Object} user\n         * @return {string}\n         */\n        getUserTimeFormat: function(user) {\n            user = user || app.user;\n            return this.convertFormat(user.getPreference('timepref'));\n        },\n\n        phpStrToTime: function (text, now) {\n            //  discuss at: http://phpjs.org/functions/strtotime/\n            //     version: 1109.2016\n            // original by: Caio Ariede (http://caioariede.com)\n            // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n            // improved by: Caio Ariede (http://caioariede.com)\n            // improved by: A. Matías Quezada (http://amatiasq.com)\n            // improved by: preuter\n            // improved by: Brett Zamir (http://brett-zamir.me)\n            // improved by: Mirko Faber\n            //    input by: David\n            // bugfixed by: Wagner B. Soares\n            // bugfixed by: Artur Tchernychev\n            // bugfixed by: Stephan Bösch-Plepelits (http://github.com/plepe)\n            //        note: Examples all have a fixed timestamp to prevent tests to fail because of variable time(zones)\n            //   example 1: strtotime('+1 day', 1129633200);\n            //   returns 1: 1129719600\n            //   example 2: strtotime('+1 week 2 days 4 hours 2 seconds', 1129633200);\n            //   returns 2: 1130425202\n            //   example 3: strtotime('last month', 1129633200);\n            //   returns 3: 1127041200\n            //   example 4: strtotime('2009-05-04 08:30:00 GMT');\n            //   returns 4: 1241425800\n            //   example 5: strtotime('2009-05-04 08:30:00+00');\n            //   returns 5: 1241425800\n            //   example 6: strtotime('2009-05-04 08:30:00+02:00');\n            //   returns 6: 1241418600\n            //   example 7: strtotime('2009-05-04T08:30:00Z');\n            //   returns 7: 1241425800\n\n            var parsed, match, today, year, date, days, ranges, len, times, regex, i, fail = false;\n\n            if (!text) {\n                return fail;\n            }\n\n            // Unecessary spaces\n            text = text.replace(/^\\s+|\\s+$/g, '')\n                .replace(/\\s{2,}/g, ' ')\n                .replace(/[\\t\\r\\n]/g, '')\n                .toLowerCase();\n\n            // in contrast to php, js Date.parse function interprets:\n            // dates given as yyyy-mm-dd as in timezone: UTC,\n            // dates with \".\" or \"-\" as MDY instead of DMY\n            // dates with two-digit years differently\n            // etc...etc...\n            // ...therefore we manually parse lots of common date formats\n            match = text.match(\n                /^(\\d{1,4})([\\-\\.\\/\\:])(\\d{1,2})([\\-\\.\\/\\:])(\\d{1,4})(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?(?:\\s([A-Z]+)?)?$/);\n\n            if (match && match[2] === match[4]) {\n                if (match[1] > 1901) {\n                    switch (match[2]) {\n                        case '-': {\n                            // YYYY-M-D\n                            if (match[3] > 12 || match[5] > 31) {\n                                return fail;\n                            }\n\n                            return new Date(match[1], parseInt(match[3], 10) - 1, match[5],\n                                    match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                        }\n                        case '.': {\n                            // YYYY.M.D is not parsed by strtotime()\n                            return fail;\n                        }\n                        case '/': {\n                            // YYYY/M/D\n                            if (match[3] > 12 || match[5] > 31) {\n                                return fail;\n                            }\n\n                            return new Date(match[1], parseInt(match[3], 10) - 1, match[5],\n                                    match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                        }\n                    }\n                } else if (match[5] > 1901) {\n                    switch (match[2]) {\n                        case '-': {\n                            // D-M-YYYY\n                            if (match[3] > 12 || match[1] > 31) {\n                                return fail;\n                            }\n\n                            return new Date(match[5], parseInt(match[3], 10) - 1, match[1],\n                                    match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                        }\n                        case '.': {\n                            // D.M.YYYY\n                            if (match[3] > 12 || match[1] > 31) {\n                                return fail;\n                            }\n\n                            return new Date(match[5], parseInt(match[3], 10) - 1, match[1],\n                                    match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                        }\n                        case '/': {\n                            // M/D/YYYY\n                            if (match[1] > 12 || match[3] > 31) {\n                                return fail;\n                            }\n\n                            return new Date(match[5], parseInt(match[1], 10) - 1, match[3],\n                                    match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                        }\n                    }\n                } else {\n                    switch (match[2]) {\n                        case '-': {\n                            // YY-M-D\n                            if (match[3] > 12 || match[5] > 31 || (match[1] < 70 && match[1] > 38)) {\n                                return fail;\n                            }\n\n                            year = match[1] >= 0 && match[1] <= 38 ? +match[1] + 2000 : match[1];\n                            return new Date(year, parseInt(match[3], 10) - 1, match[5],\n                                    match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                        }\n                        case '.': {\n                            // D.M.YY or H.MM.SS\n                            if (match[5] >= 70) {\n                                // D.M.YY\n                                if (match[3] > 12 || match[1] > 31) {\n                                    return fail;\n                                }\n\n                                return new Date(match[5], parseInt(match[3], 10) - 1, match[1],\n                                        match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                            }\n                            if (match[5] < 60 && !match[6]) {\n                                // H.MM.SS\n                                if (match[1] > 23 || match[3] > 59) {\n                                    return fail;\n                                }\n\n                                today = new Date();\n                                return new Date(today.getFullYear(), today.getMonth(), today.getDate(),\n                                        match[1] || 0, match[3] || 0, match[5] || 0, match[9] || 0) / 1000;\n                            }\n\n                            // invalid format, cannot be parsed\n                            return fail;\n                        }\n                        case '/': {\n                            // M/D/YY\n                            if (match[1] > 12 || match[3] > 31 || (match[5] < 70 && match[5] > 38)) {\n                                return fail;\n                            }\n\n                            year = match[5] >= 0 && match[5] <= 38 ? +match[5] + 2000 : match[5];\n                            return new Date(year, parseInt(match[1], 10) - 1, match[3],\n                                    match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;\n                        }\n                        case ':': {\n                            // HH:MM:SS\n                            if (match[1] > 23 || match[3] > 59 || match[5] > 59) {\n                                return fail;\n                            }\n\n                            today = new Date();\n                            return new Date(today.getFullYear(), today.getMonth(), today.getDate(),\n                                    match[1] || 0, match[3] || 0, match[5] || 0) / 1000;\n                        }\n                    }\n                }\n            }\n\n            // other formats and \"now\" should be parsed by Date.parse()\n            if (text === 'now') {\n                return now === null || isNaN(now) ? new Date()\n                    .getTime() / 1000 | 0 : now | 0;\n            }\n            if (!isNaN(parsed = Date.parse(text))) {\n                return parsed / 1000 | 0;\n            }\n            // Browsers != Chrome have problems parsing ISO 8601 date strings, as they do\n            // not accept lower case characters, space, or shortened time zones.\n            // Therefore, fix these problems and try again.\n            // Examples:\n            //   2015-04-15 20:33:59+02\n            //   2015-04-15 20:33:59z\n            //   2015-04-15t20:33:59+02:00\n            match = text.match(\n                /^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)([\\+-][0-9]{2}(:[0-9]{2})?|z)/);\n            if (match) {\n                // fix time zone information\n                if (match[4] == 'z') {\n                    match[4] = 'Z';\n                } else if (match[4].match(/^([\\+-][0-9]{2})$/)) {\n                    match[4] = match[4] + ':00';\n                }\n\n                if (!isNaN(parsed = Date.parse(match[1] + 'T' + match[2] + match[4]))) {\n                    return parsed / 1000 | 0;\n                }\n            }\n\n            date = now ? new Date(now * 1000) : new Date();\n            days = {\n                'sun' : 0,\n                'mon' : 1,\n                'tue' : 2,\n                'wed' : 3,\n                'thu' : 4,\n                'fri' : 5,\n                'sat' : 6\n            };\n            ranges = {\n                'yea' : 'FullYear',\n                'mon' : 'Month',\n                'day' : 'Date',\n                'hou' : 'Hours',\n                'min' : 'Minutes',\n                'sec' : 'Seconds'\n            };\n\n            function lastNext(type, range, modifier) {\n                var diff, day = days[range];\n\n                if (typeof day !== 'undefined') {\n                    diff = day - date.getDay();\n\n                    if (diff === 0) {\n                        diff = 7 * modifier;\n                    } else if (diff > 0 && type === 'last') {\n                        diff -= 7;\n                    } else if (diff < 0 && type === 'next') {\n                        diff += 7;\n                    }\n\n                    date.setDate(date.getDate() + diff);\n                }\n            }\n\n            function process(val) {\n                var splt = val.split(' '), // Todo: Reconcile this with regex using \\s, taking into account browser issues with split and regexes\n                    type = splt[0],\n                    range = splt[1].substring(0, 3),\n                    typeIsNumber = /\\d+/.test(type),\n                    ago = splt[2] === 'ago',\n                    num = (type === 'last' ? -1 : 1) * (ago ? -1 : 1);\n\n                if (typeIsNumber) {\n                    num *= parseInt(type, 10);\n                }\n\n                if (ranges.hasOwnProperty(range) && !splt[1].match(/^mon(day|\\.)?$/i)) {\n                    return date['set' + ranges[range]](date['get' + ranges[range]]() + num);\n                }\n\n                if (range === 'wee') {\n                    return date.setDate(date.getDate() + (num * 7));\n                }\n\n                if (type === 'next' || type === 'last') {\n                    lastNext(type, range, num);\n                } else if (!typeIsNumber) {\n                    return false;\n                }\n\n                return true;\n            }\n\n            times = '(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec' +\n                '|sunday|sun\\\\.?|monday|mon\\\\.?|tuesday|tue\\\\.?|wednesday|wed\\\\.?' +\n                '|thursday|thu\\\\.?|friday|fri\\\\.?|saturday|sat\\\\.?)';\n            regex = '([+-]?\\\\d+\\\\s' + times + '|' + '(last|next)\\\\s' + times + ')(\\\\sago)?';\n\n            match = text.match(new RegExp(regex, 'gi'));\n            if (!match) {\n                return fail;\n            }\n\n            for (i = 0, len = match.length; i < len; i++) {\n                if (!process(match[i])) {\n                    return fail;\n                }\n            }\n\n            // ECMAScript 5 only\n            // if (!match.every(process))\n            //    return false;\n\n            return (date.getTime() / 1000);\n        }\n\n    });\n\n    /**\n     * @deprecated since 7.2.0. Convert your code to new date functionality.\n     * @private\n     */\n    var _formatStringCache = {}; // hash table of the datetime formats that have already been parsed\n\n    /**\n     * Deprecated functionality will be kept in the old singleton prototype.\n     * @deprecated since 7.2.0. Convert your code to new date functionality.\n     */\n    _.extend(date, {\n        /**\n         * Parses date strings into js Date()s\n         * @param {String} date date string\n         * @param {String} oldFormat date format string. If not specified parse will guess the date format\n         * @return {Date} javascript date object\n         */\n        parse: function(date, oldFormat) {\n            var jsDate     = new Date(\"Jan 1, 1970 00:00:00\"),\n                part       = \"\",\n                dateRemain, j, c, i, v, timeformat;\n\n            //if already a Date return it\n            if (date instanceof Date) return date;\n\n            // TODO add user prefs support\n\n            if (!oldFormat) {\n                oldFormat = this.guessFormat(date);\n            }\n\n            if (oldFormat === false) {\n                //Check if date is a timestamp\n                if (/^\\d+$/.test(date)) {\n                    return new Date(date);\n                }\n\n                //we cant figure out the format so return false\n                return false;\n            }\n\n            dateRemain = $.trim(date);\n            oldFormat = $.trim(oldFormat) + \" \"; // Trailing space to read as last separator.\n            for (j = 0; j < oldFormat.length; j++) {\n                c = oldFormat.charAt(j);\n                if (c === ':' || c === '/' || c === '-' || c === '.' || c === \" \" || c === 'a' || c === \"A\") {\n                    i = dateRemain.indexOf(c);\n                    if (i === -1) i = dateRemain.length;\n                    v = dateRemain.substring(0, i);\n                    dateRemain = dateRemain.substring(i + 1);\n                    switch (part) {\n                        case 'm':\n                            if (!(v > 0 && v < 13)) return false;\n                            jsDate.setMonth(v - 1);\n                            break;\n                        case 'd':\n                            if (!(v > 0 && v < 32)) return false;\n                            jsDate.setDate(v);\n                            break;\n                        case 'Y':\n                            if (v > 0 === false) return false;\n                            jsDate.setYear(v);\n                            break;\n                        case 'h':\n                            //Read time, assume minutes are at end of date string (we do not accept seconds)\n                            timeformat = oldFormat.substring(oldFormat.length - 4);\n                            v = parseInt(v, 10);\n                            var timeFormatString = $.trim(timeformat.toLowerCase());\n                            if (timeFormatString === \"i a\" || timeFormatString === c + \"ia\") {\n                                var postfix = dateRemain.substring(dateRemain.length - 2).toLowerCase();\n                                if (postfix === 'pm') {\n                                    if (v < 12) {\n                                        v += 12;\n                                    }\n                                }\n                                // 12:00am => 00:00:00\n                                else if (postfix === 'am' && v === 12) {\n                                    v = 0;\n                                }\n                            }\n                            jsDate.setHours(v);\n                            break;\n                        case 'H':\n                            jsDate.setHours(v);\n                            break;\n                        case 'i':\n                            v = v.substring(0, 2);\n                            jsDate.setMinutes(v);\n                            break;\n                        case 's':\n                            jsDate.setSeconds(v);\n                            break;\n                    }\n                    part = \"\";\n                } else {\n                    part = c;\n                }\n            }\n            return jsDate;\n        },\n\n        /**\n         * Guesses format of a date string.\n         * @param {String} date Date string\n         * @return {String} Date format.\n         */\n        guessFormat: function(date) {\n            if (typeof date !== \"string\")\n                return false;\n            //Is there a time\n            var time = \"\", dateSep, dateParts, dateFormat, timeFormat, timeParts,\n                timeSep, ampmCase, timeEnd;\n\n            if (date.indexOf(\" \") !== -1) {\n                time = date.substring(date.indexOf(\" \") + 1, date.length);\n                date = date.substring(0, date.indexOf(\" \"));\n            }\n\n            //First detect if the date contains \"-\" or \"/\"\n            dateSep = \"/\";\n            if (date.indexOf(\"/\") !== -1) {\n            }\n            else if (date.indexOf(\"-\") !== -1) {\n                dateSep = \"-\";\n            }\n            else if (date.indexOf(\".\") !== -1) {\n                dateSep = \".\";\n            }\n            else {\n                return false;\n            }\n\n            dateParts = date.split(dateSep);\n            dateFormat = \"\";\n\n            if (dateParts[0].length === 4) {\n                dateFormat = \"Y\" + dateSep + \"m\" + dateSep + \"d\";\n            }\n            else if (dateParts[2].length === 4) {\n                dateFormat = \"m\" + dateSep + \"d\" + dateSep + \"Y\";\n            }\n            else {\n                return false;\n            }\n\n            timeFormat = \"\";\n            timeParts = [];\n\n            // Check for time\n            if (time !== \"\") {\n\n                // start at the i, we always have minutes\n                timeParts.push(\"i\");\n\n                timeSep = \":\";\n\n                if (time.indexOf(\".\") === 2) {\n                    timeSep = \".\";\n                }\n\n                // if its long we have seconds\n                if (time.split(timeSep).length === 3) {\n                    timeParts.push(\"s\");\n                }\n                ampmCase = '';\n\n                // check for am/pm\n                timeEnd = time.substring(time.length - 2, time.length);\n                if (timeEnd.toLowerCase() === \"am\" || timeEnd.toLowerCase() === \"pm\") {\n                    timeParts.unshift(\"h\");\n                    if (timeEnd.toLowerCase() === timeEnd) {\n                        ampmCase = 'lower';\n                    } else {\n                        ampmCase = 'upper';\n                    }\n                } else {\n                    timeParts.unshift(\"H\");\n                }\n\n                timeFormat = timeParts.join(timeSep);\n\n                // check for space between am/pm and time\n                if (time.indexOf(\" \") !== -1) {\n                    timeFormat += \" \";\n                }\n\n                // deal with upper and lowercase am pm\n                if (ampmCase && ampmCase === 'upper') {\n                    timeFormat += \"A\";\n                } else if (ampmCase && ampmCase === 'lower') {\n                    timeFormat += \"a\";\n                }\n\n                dateFormat = dateFormat + \" \" + timeFormat;\n            }\n\n            return dateFormat;\n        },\n\n        /**\n         * Parse a date format string into each of it's individual representations. Supports\n         * only the options that are supported by the date.format function.\n         *\n         * @param {String} format   date format string such as \"Y-m-d H:i:s\"\n         * @return {Object} object with properties representing each piece of a format\n         */\n        parseFormat: function(format) {\n            // if this format has been seen before then don't bother parsing it again\n            if (!(format in _formatStringCache)) {\n                var parts = {},\n                    i,\n                    c;\n\n                for (i = 0; i < format.length; i++) {\n                    c = format.charAt(i);\n                    switch (c) {\n                        case 'm':\n                        case 'n':\n                            parts.month = c;\n                            break;\n                        case 'd':\n                        case 'j':\n                            parts.day = c;\n                            break;\n                        case 'Y':\n                            parts.year = c;\n                            break;\n                        case 'H':\n                        case 'h':\n                        case 'g':\n                            parts.hours = c;\n                            break;\n                        case 'i':\n                            parts.minutes = c;\n                            break;\n                        case 's':\n                            parts.seconds = c;\n                            break;\n                        case 'A':\n                        case 'a':\n                            parts.amPm = c;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n\n                // cache the result so it doesn't have to be parsed again\n                _formatStringCache[format] = parts;\n            }\n\n            return _formatStringCache[format];\n        },\n\n        /**\n         * Formats javascript date objects into date strings\n         * @param {Date} date\n         * @param {String} format date format string such as \"Y-m-d H:i:s\"\n         * @return {String} formatted date string\n         */\n        format: function(date, format) {\n            if (!_.isDate(date)) return \"\";\n            // TODO: add support for userPrefs\n            var out = \"\", i, c, d, h, m, s;\n            for (i = 0; i < format.length; i++) {\n                c = format.charAt(i);\n                switch (c) {\n                    case '\\\\':\n                        out += format.charAt(i+1);\n                        // skip next character\n                        i++;\n                        break;\n                    case 'm':\n                    case 'n':\n                        m = date.getMonth() + 1;\n                        out += (m < 10 && c === \"m\") ? \"0\" + m : m;\n                        break;\n                    case 'd':\n                    case 'j':\n                        d = date.getDate();\n                        out += (d < 10 && c === \"d\") ? \"0\" + d : d;\n                        break;\n                    case 'Y':\n                        out += date.getFullYear();\n                        break;\n                    case 'H':\n                    case 'h':\n                    case 'g':\n                        h = date.getHours();\n                        if (c === \"h\" || c === \"g\") {\n                            h = h > 12 ? h - 12 : h;\n                            //Convert 0 to 12 for 12 hour formats\n                            h = h === 0 ? 12 : h;\n                        }\n                        out += (h < 10 && c !== \"g\") ? \"0\" + h : h;\n                        break;\n                    case 'i':\n                        m = date.getMinutes();\n                        out += m < 10 ? \"0\" + m : m;\n                        break;\n                    case 's':\n                        s = date.getSeconds();\n                        out += s < 10 ? \"0\" + s : s;\n                        break;\n                    case 'a':\n                    case 'A':\n                        if (date.getHours() < 12)\n                            out += (c === \"a\") ? \"am\" : \"AM\";\n                        else\n                            out += (c === \"a\") ? \"pm\" : \"PM\";\n                        break;\n                    default :\n                        out += c;\n                }\n            }\n            return out;\n        },\n\n        /**\n         * Rounds a date to the nearest 15 minutes.\n         * @param {Date} date A date to round.\n         * @return {Date} Rounded date.\n         */\n        roundTime: function(date) {\n            if (!date.getMinutes) return 0;\n            var min = date.getMinutes();\n\n            if (min < 1) {\n                min = 0;\n            }\n            else if (min < 16) {\n                min = 15;\n            }\n            else if (min < 31) {\n                min = 30;\n            }\n            else if (min < 46) {\n                min = 45;\n            }\n            else {\n                min = 0;\n                date.setHours(date.getHours() + 1);\n            }\n\n            date.setMinutes(min);\n\n            return date;\n        },\n\n        /**\n         * Converts a UTC date to a local time date\n         * @param {Date} date a UTC date.\n         * @return {Date} Date converted to local date.\n         * @method\n         */\n        UTCtoLocalTime: function(date) {\n            //if not a Date return it\n            if (!(date instanceof Date)) return date;\n\n            // Push the UTC tag to convert the date into local date\n            return new Date(this.toUTC(date));\n        },\n\n        /**\n         * Converts a UTC date to a date in the timezone represented by the offset.\n         *\n         * @param {Date} date  A UTC date.\n         * @param {Number} offset  The timezone's UTC offset in hours.\n         * @return {Date} Converted date.\n         * @method\n         */\n        UTCtoTimezone: function(date, offset) {\n            // if date is not a Date or there is no offset then return date\n            if (!(date instanceof Date) || undefined === offset || null === offset) {\n                return date;\n            }\n\n            // convert the offset to milliseconds\n            // parseFloat is used to guarantee that offset is numerical before converting it\n            offset = parseFloat(offset) * 60 * 60 * 1000;\n\n            // the offset really needs to be the difference between the local time offset and the user's\n            // preferred offset since javascript always represents dates in local time\n            // javascript uses +7 hours while the api uses -7 hours to represent the same timezone offset,\n            // so the javascript offset must be negated\n            offset -= date.getTimezoneOffset() * 60 * 1000 * -1;\n\n            return new Date(this.toUTC(date) + offset);\n        },\n\n        /**\n         * Converts the date from local to UTC. Even though the date on the server is UTC,\n         * JavaScript represents the date according to the local timezone. Use this function\n         * to get the time value of the real UTC date, ignoring the timezone JavaScript\n         * imposes on the date object.\n         *\n         * @param {Date} date a UTC date\n         * @return {Number}  the number of milliseconds between universal time and date\n         */\n        toUTC: function(date) {\n            //if not a Date return it\n            if (!(date instanceof Date)) {\n                return date;\n            }\n\n            var year = date.getFullYear(),\n                month = date.getMonth(),\n                day = date.getDate(),\n                hours = date.getHours(),\n                minutes = date.getMinutes(),\n                seconds = date.getSeconds(),\n                milliseconds = date.getMilliseconds();\n\n            return Date.UTC(year, month, day, hours, minutes, seconds, milliseconds);\n        },\n\n        /**\n         * Converts a date object into a relative time.\n         * @param {Date} date\n         * @return {Object} object containing relative time key string and value to push to the template\n         */\n        getRelativeTimeLabel: function(date) {\n            var rightNow = new Date();\n            var isFuture = rightNow.getTime() < date.getTime();\n            //If incoming date is future we want to flip the calculation\n            var diff = isFuture ? date - rightNow : rightNow - date;\n            var second = 1000,\n                minute = second * 60,\n                hour = minute * 60,\n                day = hour * 24,\n                ctx = { str : \"\", value: undefined};\n\n            if (isNaN(diff) || diff < 0) {\n                return ctx; // return blank string if unknown\n            }\n            if (diff < second * 2) {\n                // within 2 seconds\n                ctx.str = 'LBL_TIME_AGO_NOW';\n                return ctx;\n            }\n\n            if (diff < minute) {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_SECONDS' : 'LBL_TIME_AGO_SECONDS';\n                ctx.value = Math.floor(diff / second);\n                return ctx;\n            }\n            if (diff < minute * 2) {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_MINUTE' : 'LBL_TIME_AGO_MINUTE';\n                return ctx;\n            }\n            if (diff < hour) {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_MINUTES' : 'LBL_TIME_AGO_MINUTES';\n                ctx.value = Math.floor(diff / minute);\n                return ctx;\n            }\n            if (diff < hour * 2) {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_HOUR' : 'LBL_TIME_AGO_HOUR';\n                return ctx;\n            }\n            if (diff < day) {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_HOURS' : 'LBL_TIME_AGO_HOURS';\n                ctx.value = Math.floor(diff / hour);\n                return ctx;\n            }\n            if (diff > day && diff < day * 2) {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_DAY' : 'LBL_TIME_AGO_DAY';\n                return ctx;\n            }\n            if (diff < day * 365) {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_DAYS' : 'LBL_TIME_AGO_DAYS';\n                ctx.value = Math.floor(diff / day);\n                return ctx;\n            }\n            else {\n                ctx.str = isFuture ? 'LBL_TIME_UNTIL_YEAR' : 'LBL_TIME_AGO_YEAR';\n                return ctx;\n            }\n        },\n\n        /**\n         * Parses display_default property which server returns for datetimecombo meta, etc. (for example,\n         * if the user sets the default in Studio). The following are possibilities:\n         * +1 day&06:00pm\n         * -1 day&06:00pm\n         * +1 week&06:00pm\n         * +1 month&06:00pm\n         * +1 year&06:00pm\n         * now&06:00pm\n         * next monday&06:00pm\n         * next friday&06:00pm\n         * first of next month@06:00pm\n         *\n         * @param {String} displayDefault\n         * @param {Date} now An optional date to use as a point of reference (since we essentially convert\n         * \"+1 day\", etc., to an adjusted date). This is mainly for testing odd dates like adding a month\n         * specifically to January 31, etc. If not passed, current date will be used.\n         * @return {String} String rep which can subsequently be used by later used for date.parse\n         * e.g. \"2012-08-09 00:30am\"\n         */\n        parseDisplayDefault: function(displayDefault, now) {\n            var dateMap, d, dt, humanDate, defaultTime, addMonths, next, setTimePart;\n            var dateObj = now ? now : new Date(), op, timeAway, parts;\n\n            if(!displayDefault) return displayDefault;\n\n            // This adds months from 'd' date passed in. 'n' is the number of months to add.\n            // Of course, you can use a negative sign to subtract months.\n            addMonths = function(d, n) {\n                var day = d.getDate();\n                d.setMonth(d.getMonth()+n);\n                if (d.getDate() < day) {\n                    d.setDate(1);\n                    d.setDate(d.getDate()-1);\n                }\n                return d;\n            };\n\n            // Helper to return the number of days from now to 'day' (see dateObj initialization above)\n            next = function(day) {\n                var days, todayDay, daysUntilNext;\n                days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n                todayDay = dateObj.getDay();\n                day = day.toLowerCase();\n\n                for (var i = 7; i--;) {\n                    if (day === days[i]) {\n                        day = (i <= todayDay) ? (i + 7) : i;\n                        break;\n                    }\n                }\n                daysUntilNext = day - todayDay;\n                return daysUntilNext;\n            };\n\n            // Maps keys with functions that converts human date as appropriate per key (e.g. +1 day, etc.)\n            dateMap = {\n                day: function(operator) {\n                    return new Date(dateObj.setDate(dateObj.getDate() + operator));\n                },\n                week: function(operator) {\n                    return new Date(dateObj.setDate(dateObj.getDate() + (operator * 7)));\n                },\n                month: function(operator) {\n                    return addMonths(dateObj, operator);\n                },\n                year: function(operator) {\n                    return addMonths(dateObj, (operator*12));\n                },\n                'now': function() { return dateObj; },\n                'next monday': function() {\n                    return new Date(dateObj.setDate(dateObj.getDate() + next(\"monday\")));\n                },\n                'next friday': function() {\n                    return new Date(dateObj.setDate(dateObj.getDate() + next(\"friday\")));\n                },\n                'first of next month': function() {\n                    // First set date to first day of \"this month\" so we don't have a potential\n                    // date overrun (e.g. today's Oct 31 and we +1 month but no Nov 31 so Dec 1!)\n                    dateObj.setDate(1);\n                    // Now it's safe to add +1 months\n                    var sinceEpoch = dateObj.setMonth(dateObj.getMonth() + 1);\n                    return new Date(sinceEpoch);\n                }\n            };\n\n            // Main entry point - parses displayDefault and calls correspondingly\n            // mapped function to resolve to suitable date string for date.parse\n            if(displayDefault && displayDefault.indexOf('&') >= 0) {\n                dt = displayDefault.split(\"&\"); //e.g. +1 day&06:00pm\n                humanDate = dt[0];\n                defaultTime = dt[1];\n            } else {\n                humanDate = displayDefault; // assume no time part e.g. for type date\n            }\n\n            if(humanDate.match(/\\b(now|day|week|month|year)/g)) {\n                if(humanDate.indexOf('now') === 0) {\n                    timeAway = 'now';\n                } else if(humanDate.indexOf(\"first day of next month\") !== -1) {\n                    timeAway = 'firstnextmonth';\n                } else {\n                    parts = humanDate.split(' ');\n                    op = parts[0];\n                    timeAway = parts[1];\n                }\n                if(timeAway.match('now')) {\n                    d = dateMap.now();\n                }\n                else if(timeAway.match('firstnextmonth')) {\n                    d = dateMap['first of next month']();\n                }\n                else if(timeAway.match('days?')) {\n                    d = dateMap.day(parseInt(op, 10));\n                }\n                else if(timeAway.match('weeks?')) {\n                    d = dateMap.week(parseInt(op, 10));\n                }\n                else if(timeAway.match('months?')) {\n                    d = dateMap.month(parseInt(op, 10));\n                }\n                else if(timeAway.match('years?')) {\n                    d = dateMap.year(parseInt(op, 10));\n                }\n                else {\n                    if (!dateMap[humanDate]) {\n                        return;\n                    }\n                    // TODO Better to log error???\n                    d = dateMap[humanDate]();\n                }\n            } else {\n                if (!dateMap[humanDate]) {\n                    return;\n                }\n                d = dateMap[humanDate]();\n            }\n\n            setTimePart = (function(d) {\n                var timeParts, hours, minutes;\n\n                //Fixes bug SP-1280: Turns out hours in displayDefault can be either of single/double digits\n                timeParts = /^(\\d\\d?).(\\d{2}).?([ap]m)?$/.exec(defaultTime);\n                if (timeParts && timeParts.length > 2) {\n                    hours = timeParts[1];\n\n                    if (hours) {\n\n                        if (timeParts[3] === 'pm') {\n                            if (hours < 12) {\n                                hours = (parseInt(hours, 10) + 12);\n                            }\n                        } else {\n\n                            // Set 12am to 00\n                            if (hours === '12') {\n                                hours = '0';\n                            }\n                        }\n\n                        d.setHours(parseInt(hours, 10));\n                    }\n\n                    minutes = timeParts[2];\n                    if (minutes) {\n                        d.setMinutes(parseInt(minutes, 10));\n                    }\n                }\n            }(d));\n\n            return d;\n        },\n\n        /**\n         * SugarCRM has date formats using Y, m, d format characters. However, given our stylgeguide is now using the bootstrap\n         * datepicker, we need to remap those to it's format. For example: Y==yyyy, m==mm, and d==dd\n         * @param {String} formatSpec The original SugarCRM (PHP) date format.\n         * @return {String} Format spec passed in normalized to that expected by the bootstrap datepicker widget. If falsy,\n         * returns empty string.\n         */\n        toDatepickerFormat: function(formatSpec) {\n            if(_.isUndefined(formatSpec) || !formatSpec) return '';\n            var normalizedFormatSpec,\n                sugarToDatepickerMap = {\n                    'y': 'yy',\n                    'Y': 'yyyy',\n                    'm': 'mm',\n                    'd': 'dd'\n                };\n            normalizedFormatSpec = formatSpec.replace(/[yYmd]/g, function(s) {\n                return sugarToDatepickerMap[s];\n            });\n            return normalizedFormatSpec;\n        },\n        /**\n        * Strips out the 'T' and, either the 'Z' or +00:00 by, essentially, taking just the first 19 characters\n        * @param  {String} value The value\n        * @return {String} stripped value\n        */\n        stripIsoTimeDelimterAndTZ: function(value) {\n            if(!_.isUndefined(value) && value) {\n                // Since s.replace('T', ' ').replace('Z','') assumes we have Z it's better to do:\n                // str.replace('T', ' ').substr(0, 19) ... which works for both of following formats:\n                // '2012-11-07T04:28:52+00:00'.replace('T', ' ').substr(0, 19)\n                // \"2012-11-06 20:00:06.651Z\".replace('T', ' ').substring(0, 19)\n                return value.replace(\"T\", \" \").substr(0, 19);\n            }\n        },\n        /**\n        * Determines if date string is iso 8601'like ;)\n        * @param  {String} val The date string value to check\n        * @return {Boolean} True if is REST API / ISO 8601 compatible formatted date value.\n        */\n        isIso: function(val) {\n            var yyyymmddExact,\n                    yyyymmddLooseMatch;\n\n            // First match most nominal case yyyy-mm-dd\n            yyyymmddExact = val.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])$/);\n            if (yyyymmddExact) {\n                return true;\n            }\n            // If we have any of the iso 8601 chars and still starts with yyyy-mm-dd\n            if (val.match(/[T\\+Z ]/g)) {\n                yyyymmddLooseMatch = val.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])/);\n                if (yyyymmddLooseMatch) return true;\n            }\n            return false;\n        }\n    });\n\n    _.extend(date.fn, {\n\n        /**\n         * Formats a date to a string based on user preferences.\n         *\n         * @param {boolean} [dateOnly=false] Pass `true` to get date only.\n         * @param {Data.Bean|Object} [user=App.user] The user bean or the\n         *   current logged in user object. Defaults to current logged in\n         *   user.\n         * @return {string} The formatted date based on user's preference.\n         */\n        formatUser: function(dateOnly, user) {\n            var format = date.getUserDateFormat(user);\n\n            if (!dateOnly) {\n                format += ' ' + date.getUserTimeFormat(user);\n            }\n            return this.format(format);\n        },\n\n        /**\n         * Formats a date to a string according to server date format.\n         *\n         * @param {boolean} [dateOnly=false] Pass `true` to get date only.\n         * @return {string} The formatted date according to server date format.\n         */\n        formatServer: function(dateOnly) {\n            var format = dateOnly && date._serverDateFormat;\n\n            return this.format(format);\n        },\n\n        /**\n         * Returns `true` if the date is between the given `startDate` and\n         * `endDate`.\n         *\n         * @param {String} startDate The start date of the period to test.\n         * @param {String} endDate The end date of the period to test.\n         * @param {Boolean} [inclusive=true] Include start and end dates in\n         *   comparison.\n         */\n        isBetween: function(startDate, endDate, inclusive) {\n            // inclusive should default to true unless explicitly sent false as the param\n            inclusive = _.isUndefined(inclusive) ? true : inclusive;\n\n            var isInRange = (this.isAfter(startDate) && this.isBefore(endDate));\n\n            // if we're including start and end dates and date1 hasn't been found to be inside the range yet\n            if (inclusive && !isInRange) {\n                // check if date1 is on the start or end dates\n                isInRange = (this.isSame(startDate) || this.isSame(endDate));\n            }\n            return isInRange;\n        }\n\n    });\n\n    _.extend(date.duration.fn, {\n        /**\n         * Get the display string for the duration.\n         * Note: It currently supports days, hours, and minutes, not months and years.\n         * @return {string}\n         */\n        format: function() {\n            var duration = [],\n                minutes = this.minutes(),\n                hours = this.hours(),\n                days = Math.floor(this.asDays());\n\n            if (days > 0) {\n                duration.push(days);\n                duration.push(app.lang.get(days === 1 ? 'LBL_DURATION_DAY' : 'LBL_DURATION_DAYS'));\n            }\n\n            if (hours > 0) {\n                duration.push(hours);\n                duration.push(app.lang.get(hours === 1 ? 'LBL_DURATION_HOUR' : 'LBL_DURATION_HOURS'));\n            }\n\n            if (minutes > 0) {\n                duration.push(minutes);\n                duration.push(app.lang.get(minutes === 1 ? 'LBL_DURATION_MINUTE' : 'LBL_DURATION_MINUTES'));\n            }\n\n            return duration.join(' ');\n        }\n    });\n\n    app.augment('date', date);\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/date.js","\n/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n\n(function(app) {\n    /**\n     * Math module provides utility methods for working with basic calculations\n     * that JS normally fails to do well.\n     *\n     * @class Utils.Math\n     * @alias SUGAR.App.math\n     * @singleton\n     */\n    app.augment('math', {\n\n        /**\n         * Do math calculations in javascript,\n         * sans floating point errors.\n         *\n         * ex. $10.52 is really 1052 cents. Think of currency as\n         * cents and apply math that way (as integers)  and this should\n         * help keep floating point issues out of the picture.\n         *\n         * @param {String} operator\n         * @param {Number} n1\n         * @param {Number|undefined} n2\n         * @param {Number|undefined} (decimals)\n         * @param {boolean|undefined} (fixed) return value as fixed string\n         * @return {Number|String} rounded amount\n         */\n        _math: function(operator, n1, n2, decimals, fixed) {\n            decimals = (_.isFinite(decimals) && decimals >= 0) ? parseInt(decimals) : 6;\n            Big.E_NEG = -1 * (decimals + 1);\n            fixed = fixed || false;\n            var result;\n\n            // if n1 is not a number, just return it, no need to do math on it.\n            if (!_.isFinite(n1)) {\n                return n1;\n            }\n\n            try {\n                switch (operator) {\n                    case 'round':\n                        result = Big(n1).round(decimals);\n                        break;\n                    case 'add':\n                        result = Big(n1).plus(n2);\n                        break;\n                    case 'sub':\n                        result = Big(n1).minus(n2);\n                        break;\n                    case 'mul':\n                        result = Big(n1).times(n2).round(decimals);\n                        break;\n                    case 'div':\n                        result = Big(n1).div(n2).round(decimals);\n                        break;\n                    default:\n\n                        // no valid operator, just return number\n                        return n1;\n                }\n            } catch (error) {\n                if (error.name == 'BigError') {\n                    return n1;\n                }\n            }\n\n            if (fixed && !_.isString(result)) {\n                return result.toFixed(decimals);\n            } else if (!_.isString(result)) {\n                return result.toString();\n            } else {\n                return result;\n            }\n        },\n\n        /**\n         * round a number to specified decimals as integer value.\n         *\n         * @param {Number} number\n         * @param {Number|undefined} decimals\n         * @param {boolean|undefined} fixed return value as fixed string\n         * @return {Number|String} rounded amount\n         */\n        round: function(number, decimals, fixed) {\n            return this._math('round', number, null, decimals, fixed);\n        },\n\n        /**\n         * add two numbers as integer values\n         *\n         * @param {Number} n1\n         * @param {Number} n2\n         * @param {Number|undefined} decimals\n         * @param {boolean|undefined} fixed return value as fixed string\n         * @return {Number|String} rounded amount\n         */\n        add: function(n1, n2, decimals, fixed) {\n            return this._math('add', n1, n2, decimals, fixed);\n        },\n\n        /**\n         * subtract two numbers as integer values\n         *\n         * @param {Number} n1\n         * @param {Number} n2\n         * @param {Number|undefined} decimals\n         * @param {boolean|undefined} fixed return value as fixed string\n         * @return {Number|String} rounded amount\n         */\n        sub: function(n1, n2, decimals, fixed) {\n            return this._math('sub', n1, n2, decimals, fixed);\n        },\n\n        /**\n         * multiply two numbers as integer values\n         *\n         * @param {Number} n1\n         * @param {Number} n2\n         * @param {Number|undefined} decimals\n         * @param {boolean|undefined} fixed return value as fixed string\n         * @return {Number|String} rounded amount\n         */\n        mul: function(n1, n2, decimals, fixed) {\n            return this._math('mul', n1, n2, decimals, fixed);\n        },\n\n        /**\n         * divide two numbers as integer values\n         *\n         * @param {Number} n1\n         * @param {Number} n2\n         * @param {Number|undefined} decimals\n         * @param {boolean|undefined} fixed return value as fixed string\n         * @return {Number|String} rounded amount\n         */\n        div: function(n1, n2, decimals, fixed) {\n            return this._math('div', n1, n2, decimals, fixed);\n        },\n\n        /**\n         * Check to see if two values are different that will compute with a given precision\n         *\n         * This will compute the difference between the newValue and oldValue and figure out if it's changed\n         * by at least 1 rounded out to the decimal precision that the users has set in their preferences\n         *\n         * @param {string|number} newValue      The New Value\n         * @param {string|number} oldValue      The Old Value\n         * @param {number} (precision)          What precision should we use (optional)\n         * @return {boolean}\n         */\n        isDifferentWithPrecision: function(newValue, oldValue, precision) {\n            var config = app.metadata.getConfig();\n            var user_precision = precision || app.user.getPreference('decimal_precision');\n            precision = (_.isFinite(user_precision)) ? user_precision : config.defaultCurrencySignificantDigits || 2;\n            var diff = this._math('round', this.getDifference(newValue, oldValue, true), null, precision);\n            var diffPrecision = (precision === 0) ? '0' : this._math('div', 0.1, Math.pow(10, (precision-1)));\n            \n            // if the diff is 0 (zero) always return false, this should only happen when precision is 0\n            return (diff === '0') ? false : (parseFloat(diff) >= parseFloat(diffPrecision));\n        },\n\n        /**\n         * Get the difference of two number\n         *\n         * @param {Number} newValue\n         * @param {Number} oldValue\n         * @param {Boolean} [absolute=false]\n         */\n        getDifference: function(newValue, oldValue, absolute) {\n            var diff = this._math('sub', newValue, oldValue);\n            absolute = _.isUndefined(absolute) ? false : absolute;\n\n            return (absolute) ? Math.abs(diff) : diff;\n        }\n\n    }, false);\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/math.js","\n/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n\n(function (app) {\n    /**\n     * Currency module provides utility methods for working with currencies.\n     *\n     * @class Utils.Currency\n     * @alias SUGAR.App.currency\n     * @singleton\n     */\n    app.augment('currency', {\n        /**\n         * Get the base currency id.\n         * @return {String} the base currency id.\n         */\n        getBaseCurrencyId: function() {\n            return app.metadata.getBaseCurrencyId();\n        },\n\n        /**\n         * Helper function that returns system's base currency\n         *\n         * @return {Object} The base currency data.\n         */\n        getBaseCurrency: function() {\n            var currId = app.metadata.getBaseCurrencyId(),\n                currencyObj = app.metadata.getCurrency(currId);\n\n            // add currency_id to returned data\n            currencyObj.currency_id = currId;\n\n            return currencyObj;\n        },\n\n        /**\n         * List of all currencies mapped by id and information based on the\n         * template given.\n         *\n         * Example for the `template` param:\n         * <pre><code>\n         *   getCurrenciesSelector(Handlebars.compile('{{symbol}} ({{iso}})'));\n         * </code></pre>\n         *\n         * @param {Function}  template how to format the value returned.\n         * @return {Object} currencies with id and value (template based).\n         */\n        getCurrenciesSelector: function (template) {\n            var currencies = {};\n\n            _.each(app.metadata.getCurrencies(), function(currency, id) {\n                currencies[id] = template(currency);\n            });\n            return currencies;\n        },\n        /**\n         * Get the symbol for the given currency\n         * @param {String}  currencyId\n         * @return {String} currency symbol\n         */\n        getCurrencySymbol:function (currencyId) {\n            var currency = app.metadata.getCurrency(currencyId);\n            return currency ? currency.symbol : '';\n        },\n        /**\n         * Format currency amount\n         * @param {Number}  amount the amount to be formatted\n         * @param {String}  currencyId (optional) the currency id to be used.\n         * If not specified, the system default will be used.\n         * @param {Number}  decimalPrecision (optional) the number of digits for\n         * decimal precision. Defaults to 2.\n         * @param {String}  numberGroupingSeparator (optional) the groups\n         * separator (string between thousands). Defaults to `,`.\n         * @param {String}  decimalSeparator (optional) the decimal separator\n         * (string between number and decimals). Defaults to `.`.\n         * @param {String}  symbolSeparator (optional) string between symbol and\n         * the amount. Defaults to empty (no space).\n         * @return {String} formatted currency amount\n         */\n        formatAmount:function (amount, currencyId, decimalPrecision, numberGroupingSeparator, decimalSeparator, symbolSeparator) {\n            // we don't want to format non-numbers\n            if (!_.isFinite(amount)) {\n                return amount;\n            }\n            var currencySymbol,\n                config = app.metadata.getConfig();\n            // default to base currency\n            currencyId = currencyId || this.getBaseCurrencyId();\n            symbolSeparator = symbolSeparator || '';\n            // use reasonable defaults if none exist\n            if (!_.isFinite(decimalPrecision)) {\n                if (_.isFinite(config.defaultCurrencySignificantDigits)) {\n\t                decimalPrecision = config.defaultCurrencySignificantDigits;\n                }\n                else {\n\t                decimalPrecision = 2;\n                }\n            }\n\n            decimalSeparator = decimalSeparator || config.defaultDecimalSeparator || '.';\n            // if the numberGroupingSeparator is truly undefined we need to get the defaults, if it's an empty string\n            // we need to use the empty string as it's a valid value.\n            numberGroupingSeparator = (!_.isUndefined(numberGroupingSeparator)) ?\n                numberGroupingSeparator : config.defaultNumberGroupingSeparator || ',';\n\n            currencySymbol = this.getCurrencySymbol(currencyId) || this.getCurrencySymbol(this.getBaseCurrencyId());\n            amount = app.utils.formatNumber(\n                amount,\n                decimalPrecision,\n                decimalPrecision,\n                numberGroupingSeparator,\n                decimalSeparator\n            );\n            return currencySymbol + symbolSeparator + amount;\n        },\n        /**\n         * Format currency amount to current user locale\n         * @param {Number}  amount\n         * @param {String}  currencyId (optional) the currency id to be used.\n         * If not specified, the system default will be used.\n         * @param {String}  decimalPrecision (optional) number of digits for\n         * decimal. If not specified, the user preference will be used.\n         * @return {String} formatted currency amount\n         */\n        formatAmountLocale:function (amount, currencyId, decimalPrecision) {\n            // get user preferred formatting\n            var decimalSeparator = app.user.getPreference('decimal_separator');\n            var numberGroupingSeparator = app.user.getPreference('number_grouping_separator');\n            decimalPrecision = (_.isFinite(decimalPrecision)) ? decimalPrecision : app.user.getPreference('decimal_precision');\n            return this.formatAmount(\n                amount,\n                currencyId,\n                decimalPrecision,\n                numberGroupingSeparator,\n                decimalSeparator\n            );\n        },\n        /**\n         * Unformat currency amount\n         * @param {Number}  amount\n         * @param {String}  numberGroupingSeparator string between thousands\n         * @param {String}  decimalSeparator string between number and decimals\n         * @param {Boolean} toFloat convert string to float value\n         * @return {String} formatted currency amount\n         */\n        unformatAmount:function (amount, numberGroupingSeparator, decimalSeparator, toFloat) {\n            toFloat = toFloat || false;\n            // strip off currency symbol, or anything prefixed that is not a digit or separator\n            amount = amount.toString().replace(/^[^\\d\\.\\,-]+/, '');\n            return app.utils.unformatNumberString(\n                amount,\n                numberGroupingSeparator,\n                decimalSeparator,\n                toFloat);\n        },\n        /**\n         * Unformat currency amount with user locale\n         * @param {Number}  amount\n         * @param {Boolean} toFloat convert string to float value\n         * @return {String} formatted currency amount\n         */\n        unformatAmountLocale:function (amount, toFloat) {\n            var decimalSeparator,\n                numberGroupingSeparator,\n                config = app.metadata.getConfig();\n            // use user locale or reasonable defaults\n            decimalSeparator = app.user.getPreference('decimal_separator') || config.defaultDecimalSeparator || '.';\n            numberGroupingSeparator = app.user.getPreference('number_grouping_separator') || config.defaultNumberGroupingSeparator || ',';\n            return this.unformatAmount(\n                amount,\n                numberGroupingSeparator,\n                decimalSeparator,\n                toFloat);\n        },\n        /**\n         * convert a currency from one to another\n         *\n         * @param  {Number|String} amount\n         * @param  {String} fromId source currency id\n         * @param  {String} toId target currency id\n         * @return {String} converted amount\n         */\n        convertAmount: function(amount, fromId, toId) {\n            var currency1;\n            var currency2;\n            if (fromId == toId) {\n                return app.math.round(amount, undefined, true);\n            }\n            currency1 = app.metadata.getCurrency(fromId);\n            currency2 = app.metadata.getCurrency(toId);\n            return this.convertWithRate(amount, currency1.conversion_rate, currency2.conversion_rate);\n        },\n        /**\n         * convert a currency to base currency\n         *\n         * @param  {Number|String} amount\n         * @param  {String} fromId source currency id\n         * @return {String} converted amount\n         */\n        convertToBase:function (amount, fromId) {\n            return this.convertAmount(amount, fromId, this.getBaseCurrencyId());\n        },\n        /**\n         * convert base currency to another currency\n         *\n         * @param  {Number|String} amount\n         * @param  {String} toId target currency id\n         * @return {String} converted amount\n         */\n        convertFromBase:function (amount, toId) {\n            return this.convertAmount(amount, this.getBaseCurrencyId(), toId);\n        },\n        /**\n         * convert a currency with given conversion rate\n         *\n         * @param  {Number|String} amount\n         * @param  {Number} fromRate the origin conversion rate\n         * @param  {Number} toRate the target conversion rate\n         * @return {String} converted amount\n         */\n        convertWithRate: function(amount, fromRate, toRate) {\n            fromRate = fromRate || 1.0;\n            toRate = toRate || 1.0;\n            return app.math.mul(app.math.div(amount, fromRate, undefined, true), toRate, undefined, true);\n        }\n\n    }, false);\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/currency.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n    /**\n     * Regular expression used to split event strings.\n     *\n     * @private\n     * @type {RegExp}\n     */\n    var eventSplitter = /\\s+/;\n\n    /**\n     * Events API used to process various event actions and handle inputs such\n     * as event maps and space-separated event names.\n     *\n     * This is taken from the Backbone.js library to simplify event-handling.\n     *\n     * @private\n     * @type {Function}\n     * @param {Object} obj Scope in which the `action` will be executed.\n     * @param {string} action The function being executed (e.g. 'triggerBefore')\n     * @param {string|Object} name Event(s) to trigger before. Accepts\n     *   multiple space-separated event names, or an event map.\n     * @param {Array} [rest] List of arguments to be passed to the before event.\n     * @return {boolean} `false` if an event map or space-separated event names\n     *   were used, `true` otherwise.\n     */\n    var eventsApi = function(obj, action, name, rest) {\n        if (!name) return true;\n\n        // Handle event maps.\n        if (typeof name === 'object') {\n            for (var key in name) {\n                obj[action].apply(obj, [key, name[key]].concat(rest));\n            }\n            return false;\n        }\n\n        // Handle space separated event names.\n        if (eventSplitter.test(name)) {\n            var names = name.split(eventSplitter);\n            for (var i = 0, l = names.length; i < l; i++) {\n                obj[action].apply(obj, [names[i]].concat(rest));\n            }\n            return false;\n        }\n\n        return true;\n    };\n\n    /**\n     * An optimized event-triggering method used to speed up common event calls\n     * with 1, 2, or 3 arguments. Prevents the event from triggering if any\n     * provided before callback returns `false`.\n     *\n     * This is taken from the Backbone.js library to simplify event-dispatching.\n     *\n     * @private\n     * @type {Function}\n     * @param {Array} events The list of before event listeners.\n     * @param {Array} [args] Arguments passed to the before event callback.\n     * @return {boolean} `true` if the before event should be triggered, `false`\n     *   otherwise.\n     */\n    var triggerEvents = function(events, args) {\n        var stop = false;\n        var ev, i = -1,\n            l = events.length;\n        switch (args.length) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n                while (++i < l) stop = (ev = events[i]).callback.call(ev.ctx, args[0], args[1], args[2]) === false || stop;\n                break;\n            default:\n                while (++i < l) stop = (ev = events[i]).callback.apply(ev.ctx, args) === false || stop;\n        }\n        return !stop;\n    };\n\n    /**\n     * @class Core.BeforeEvent\n     * @alias SUGAR.App.beforeEvent\n     * @singleton\n     */\n    _.extend(app, {\n        'beforeEvent': {\n            /**\n             * Adds a callback/hook to be fired before an action is taken. If\n             * that callback returns false, the action will not be taken. The\n             * only action supported in the base component is `render`.\n             *\n             * The following example binds a callback function and passes\n             * the scope from the view component to use in that callback:\n             *\n             *     model.before('save', this.doSomethingBeforeSave, this);\n             *\n             * Multiple space-separated event names can be bound to a single\n             * callback:\n             *\n             *     view.before('save dispose', this.callback, this);\n             *\n             * This method also supports an event map syntax, as an alternative\n             * to positional arguments:\n             *\n             *     this.before({\n             *         'render': this.doSomethingBeforeRender,\n             *         'dispose': this.doSomethingBeforeDispose\n             *     });\n             *\n             * @chainable\n             * @param {string|Object} name Event(s) to trigger before. Accepts\n             *   multiple space-separated event names, or an event map.\n             * @param {Function} callback Function to be called.\n             * @param {Object} [context] Value to be assigned to `this` when the\n             *   callback is fired.\n             * @return {Core.BeforeEvent} Instance of this class.\n             */\n            before: function(name, callback, context) {\n                if (!eventsApi(this, 'before', name, [callback, context]) || !callback) {\n                    return this;\n                }\n\n                this._before = this._before || {};\n                var events = this._before[name] || (this._before[name] = []);\n\n                events.push({\n                    callback: callback,\n                    context: context,\n                    ctx: context || this\n                });\n                return this;\n            },\n\n            /**\n             * Triggers the before callback for the given event `name` or list\n             * of events.\n             *\n             * The following example triggers the callback bound to the before\n             * 'save' event given:\n             *\n             *     this.triggerBefore('save');\n             *\n             * Multiple events can be triggered as well:\n             *\n             *     this.triggerBefore('save render dispose');\n             *\n             * Custom arguments (e.g. `a`, `b`, `c`) can be passed to the\n             * callback:\n             *\n             *     this.triggerBefore('save', a, b, c);\n             *\n             * @param {string} name The event(s) to trigger before on.\n             * @return {boolean} Returns `true` if the event should be\n             *   triggered, `false` otherwise.\n             */\n            triggerBefore: function(name) {\n                var stop = false;\n                if (!this._before) {\n                    return !stop;\n                }\n                var args = Array.prototype.slice.call(arguments, 1);\n\n                // Handle space separated event names.\n                if (eventSplitter.test(name)) {\n                    var names = name.split(eventSplitter);\n                    for (var i = 0, l = names.length; i < l; i++) {\n                        stop = !this.triggerBefore.apply(this, [names[i]].concat(args)) || stop;\n                    }\n                    return !stop;\n                }\n\n                var events = this._before[name];\n                var allEvents = this._before.all;\n                if (events) {\n                    stop = (triggerEvents(events, args) === false);\n                }\n                if (allEvents) {\n                    stop = (triggerEvents(allEvents, args) === false) || stop;\n                }\n                return !stop;\n            },\n\n            /**\n             * Remove a previously-bound callback function from a before event.\n             *\n             * If no context is given, all of the versions of the callback with\n             * different contexts will be removed:\n             *\n             *     this.offBefore('render', this.onRenderBefore);\n             *\n             * If no callback is given, all callbacks for the before event will\n             * be removed:\n             *\n             *     this.offBefore('render');\n             *\n             * If no event is specified, all callbacks for all before events\n             * will be removed from the object (similar to the Backbone.js `off`\n             * event):\n             *\n             *     this.offBefore();\n             *\n             * This is taken from the Backbone.js library to simplify\n             * event-handling.\n             *\n             * @chainable\n             * @param {string} [name] Event(s) to remove the listeners for.\n             * @param {Function} [callback] Callback to remove specifically for\n             *   a given event.\n             * @param {Object} [context] Context to use when determining which\n             *   callback to remove.\n             * @return {Core.BeforeEvent} Instance of this class.\n             */\n            offBefore: function(name, callback, context) {\n                var retain, ev, events, names, i, l, j, k;\n                if (!this._before || !eventsApi(this, 'offBefore', name, [callback, context])) {\n                    return this;\n                }\n                if (!name && !callback && !context) {\n                    this._before = void 0;\n                    return this;\n                }\n                names = name ? [name] : _.keys(this._before);\n                for (i = 0, l = names.length; i < l; i++) {\n                    name = names[i];\n                    events = this._before[name];\n                    if (events) {\n                        this._before[name] = retain = [];\n                        if (callback || context) {\n                            for (j = 0, k = events.length; j < k; j++) {\n                                ev = events[j];\n                                if ((callback && callback !== ev.callback) || (context && context !== ev.ctx)) {\n                                    retain.push(ev);\n                                }\n                            }\n                        }\n                        if (!retain.length) {\n                            delete this._before[name];\n                        }\n                    }\n                }\n                return this;\n            }\n        }\n    });\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/before-event.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n\n/**\n * Persistent cache manager.\n *\n * By default, cache manager uses store.js to manipulate items in `window.localStorage` object.\n * Use {@link Core.CacheManager#store} property to override the storage provider.\n * The value of the key which is passed as a parameter to `get/set/add` methods is prefixed with\n * `<env>:<appId>:` string to avoid clashes with other environments and applications running off the same domain name and port.\n * You can set environment and application ID in {@link Config} module.\n *\n * @class Core.CacheManager\n * @singleton\n * @alias SUGAR.App.cache\n */\n(function(app) {\n\n    let keyPrefix = '';\n\n    let buildKey = (key) => keyPrefix + key;\n\n    let sugarStore = _.extend({}, store, {\n        // make store compatible with stash\n        cut: store.remove,\n        cutAll: store.clear,\n    });\n\n    /**\n     * Helper method used by migrateOldKeys for removing quotes from previous localStorage library.\n     *\n     * @private\n     */\n    let unquote = (str) => (new Function('return ' + str))(); // jshint ignore:line\n\n    /**\n     * Attempts to migrate values from Stash to Store.\n     *\n     * `stash.js` used to set values with single quotes in the `localStorage`.\n     * `store.js` uses double quotes (standard JSON encode/decode(. Hence, we\n     * need to update current values in localStorage to be complaint with the\n     * new store.\n     *\n     * @param {Object} cache Cache object to work on.\n     * @private\n     */\n    let migrateStorage = function (cache) {\n\n        if (cache.has('uniqueKey')) {\n            return;\n        }\n\n        // We need to clone the local storage to not mess up with it during the\n        // iterations.\n        let store = {};\n        for (let i = 0, len = localStorage.length; i < len; i++) {\n            let key = localStorage.key(i);\n            store[key] = localStorage[key];\n        }\n\n        _.each(store, function (value, key) {\n            try {\n                JSON.parse(value);\n                value = cache.store.deserialize(value);\n            } catch (e) {\n                value = unquote(value);\n            }\n\n            if (value === null) {\n                value = undefined;\n            }\n\n            cache.store.set(key, value);\n        });\n\n        cache.set('uniqueKey', app.config.uniqueKey);\n    };\n\n    let cache = {\n\n        /**\n         * Storage provider.\n         *\n         * Default: store.js\n         *\n         * @cfg {Object}\n         */\n        store: sugarStore,\n\n        /**\n         * Initializes cache manager.\n         */\n        init: function() {\n            keyPrefix = `${app.config.env}:${app.config.appId}:`;\n\n            migrateStorage(this);\n\n            if (this.get('uniqueKey') !== app.config.uniqueKey) {\n                // do not leak information to other instances\n                this.cutAll(true);\n                this.set('uniqueKey', app.config.uniqueKey);\n            }\n\n            app.events.register('cache:clean', this);\n        },\n\n        /**\n         * Checks if the item exists in cache.\n         * @param {String} key Item key.\n         */\n        has: function(key) {\n            return this.store.has(buildKey(key));\n        },\n\n        /**\n         * Gets an item from the cache.\n         * @param {string} key Item key.\n         * @return {number|boolean|string|Array|Object} Item with the given key.\n         */\n        get: function(key) {\n            return this.store.get(buildKey(key));\n        },\n\n        /**\n         * Puts an item into cache.\n         * @param {string} key Item key.\n         * @param {number|boolean|string|Array|Object} value Item to put.\n         */\n        set: function(key, value) {\n            key = buildKey(key);\n\n            try {\n                this.store.set(key, value);\n            } catch(e) {\n                if (e.name.toLowerCase().indexOf('quota') > -1) {\n                    //Localstorage is full, the app needs to handle this.\n                    this.clean();\n                    this.store.set(key, value);\n                }\n            }\n        },\n\n        /**\n         * Remove non-critical values to free up space. Should be called whenever local storage quota is exceeded.\n         * Listen for the clean event (passes callback as argument) in order to register keys to preserve after clean.\n         *\n         * Keys that are not vital should not be presvered during a cleanup.\n         * Ex.\n         * <pre><code>\n         * ({\n         *     initialize: function(options) {\n         *         app.events.on('cache:clean', function(callback) {\n         *             callback([\n         *                 'my_important_cache_key',\n         *                 'my_other_important_key',\n         *             ])\n         *         });\n         *     },\n         * });\n         * </code></pre>\n         */\n        clean: function() {\n            var preserveKeys = [],\n                preservedValues = {};\n\n            //First get a list of all keys to keep\n            this.trigger('cache:clean', function(keys) {\n                preserveKeys = _.union(keys, preserveKeys);\n            });\n            //Now get those values\n            _.each(preserveKeys, function(key) {\n                preservedValues[key] = this.get(key);\n            }, this);\n            //nuke all the keys we own\n            this.cutAll();\n\n            //restore any vital values\n            _.each(preservedValues, function(value, key) {\n                if (!_.isUndefined(value)){\n                    this.set(key, value);\n                }\n            }, this);\n        },\n\n        /**\n         * Deletes an item from cache.\n         * @param {String} key Item key.\n         */\n        cut: function(key) {\n            key = buildKey(key);\n            if (this.store.has(key)) {\n                this.store.cut(key);\n            }\n        },\n\n        /**\n         * Deletes all items from cache.\n         *\n         * By default, this method deletes all items for the current app and environment.\n         * Pass `true` to this method to remove all items.\n         * @param {Boolean} all(optional) Flag indicating if all items must be deleted from this cache.\n         */\n        cutAll: function(all) {\n            if (all === true) {\n                return this.store.cutAll();\n            }\n\n            var obj = this.store.getAll();\n            _.each(obj, function (value, key) {\n                if (key.indexOf(keyPrefix) === 0) {\n                    this.store.cut(key);\n                }\n            }, this);\n        }\n    };\n\n    //Use eventing for cache cleaning\n    _.extend(cache, Backbone.Events);\n\n    app.augment('cache', cache);\n\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/cache.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Cookie storage for authentication data.\n *\n * @class Core.CookieManager\n * @singleton\n * @alias SUGAR.App.cookie\n */\n(function(app, location) {\n\n    var path = location.pathname.replace(/\\/[^\\/]*$/, \"/cookie.html\"),\n        getCookie = function() {\n            return {};\n        };\n\n    app.augment(\"cookie\", {\n\n        initAsync: function(callback) {\n            var frame = document.createElement(\"iframe\");\n            frame.style.display = \"none\";\n            frame.src = path;\n            document.body.appendChild(frame);\n\n            frame.contentWindow.onload = function() {\n                getCookie = function() {\n                    return frame.contentWindow.getCookie();\n                };\n                callback();\n            };\n        },\n\n        /**\n         * Checks if the item exists in storage.\n         * @param {String} key Item key.\n         * @return {Boolean} Whether the item exists in storage.\n         */\n        has: function(key) {\n            return key in getCookie();\n        },\n\n        /**\n         * Gets an item from the storage.\n         * @param {String} key Item key.\n         * @return {String} Item with the given key.\n         */\n        get: function(key) {\n            return getCookie()[key];\n        },\n\n        /**\n         * Puts an item into storage.\n         * @param {String} key Item key.\n         * @param {String} value Item to put.\n         */\n        set: function(key, value) {\n            app.utils.cookie.setCookie(key, value, null, path);\n        },\n\n        /**\n         * Deletes an item from storage.\n         * @param {String} key Item key.\n         */\n        cut: function(key) {\n            app.utils.cookie.setCookie(key, \"\", -1, path);\n        }\n    });\n\n})(SUGAR.App, window.location);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/cookie.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    /**\n     * Events proxy object. For inter-component communications, please register your events and please subscribe\n     * your events from the events hub. This allows components to not depend on each other in a tightly coupled capacity.\n     *\n     * <pre><code>\n     * (function(app) {\n     *   var foo = {\n     *     initialize: function() {\n     *         // Register the event with the events hub.\n     *         app.events.register(\"mynamespaced:event\", this);\n     *     },\n     *     action: function() {\n     *         // Broadcast you revent to the events hub.\n     *         // The events hub will then broadcast this event to all its subscribers.\n     *         this.trigger(\"mynamespaced:event\");\n     *     }\n     *   }\n     *\n     *   var bar = {\n     *     initialize: function() {\n     *         // Call a callback when the event is received.\n     *         app.events.on(\"mynamespaced:event\", function() {\n     *             alert(\"Event!\");\n     *         });\n     *     }\n     *   }\n     *\n     * })(SUGAR.App);\n     * </pre></code>\n     *\n     * @class Core.Events\n     * @alias SUGAR.App.events\n     * @singleton\n     */\n    app.augment('events', _.extend({}, Backbone.Events, {\n        /**\n         * List of deprecated events. A warning will be shown in console when a\n         * component is listening to them.\n         *\n         * @property {Object} _deprecated\n         * @property {string} [_deprecated.message] The custom deprecated message.\n         * @private\n         */\n        _deprecated: {},\n\n        /**\n         * Registers an event with the event proxy.\n         *\n         * @param {string} event The name of the event.\n         *   A good practice is to namespace your events with a colon.\n         *   For example: `app:start`.\n         * @param {Object} context The object that will trigger the event.\n         * @param {Object} [options] Optional params.\n         * @param {boolean} [options.deprecated=false] `true` if the event is\n         *   deprecated.\n         * @param {string} [options.message] The deprecated message to log. A\n         *   default message will be triggered if not defined.\n         */\n        register: function (event, context, options) {\n            if (options && options.deprecated) {\n                this._deprecated[event] = _.pick(options, 'message');\n            }\n\n            context.on(event, function() {\n                var args = [].slice.call(arguments, 0);\n                args.unshift(event);\n                this.trigger.apply(this, args);\n            }, this);\n        },\n\n        /**\n         * Unregisters an event from the event proxy.\n         *\n         * @param {Object} context Source to be cleared from.\n         * @param {string} [event] Event name to be cleared.\n         * @method\n         */\n        unregister: function(context, event) {\n            context.off(event);\n        },\n\n        /**\n         * Subscribe to global ajax events.\n         */\n        registerAjaxEvents: function() {\n            var self = this;\n\n            // First unbind then rebind\n            $(document).off(\"ajaxStop\");\n            $(document).off(\"ajaxStart\");\n\n            $(document).on(\"ajaxStart\", function(args) {\n                self.trigger(\"ajaxStart\", args);\n            });\n\n            $(document).on(\"ajaxStop\", function(args) {\n                self.trigger(\"ajaxStop\", args);\n            });\n        },\n\n        /**\n         * Wraps [Backbone.Events#on](http://backbonejs.org/#Events-on) method\n         * to throw a warning if the event listened to is deprecated.\n         */\n        on: _.wrap(Backbone.Events.on, function (fn, name, callback, context) {\n\n            if (_.has(this._deprecated, name)) {\n                var warnMessage;\n                if (this._deprecated[name].message) {\n                    warnMessage = this._deprecated[name].message;\n                } else {\n                    warnMessage = 'The global event `' + name + '` is deprecated.';\n                }\n\n                if (context) {\n                    warnMessage += '\\n' + context + ' should not listen to it anymore.';\n                }\n\n                app.logger.warn(warnMessage);\n            }\n\n            return fn.call(this, name, callback, context);\n        }),\n    }));\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/events.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n     /**\n     * Error handling module.\n      *\n     * @class Core.Error\n     * @singleton\n     */\n    var module = {\n\n        init: function() {\n            this.initialize();\n        },\n\n        /**\n         * Setups the params for error module\n         * @param opts\n         */\n        initialize: function(opts) {\n            opts = opts || {};\n\n            /**\n             * Set to true to enable remote logging to server [NOT IMPLEMENTED]\n             * @cfg {Boolean}\n             */\n            this.remoteLogging = opts.remoteLogging || false;\n\n            /**\n             * Inject a hash of status code handlers to override defaults\n             * @cfg {Object}\n             */\n            this.statusCodes = (opts.statusCodes) ? _.extend(this.statusCodes, opts.statusCodes) : this.statusCodes;\n\n            /**\n             * Set to true to disable onError overloading\n             * @cfg {Boolean} disableOnError\n             */\n            if (!opts.disableOnError) {\n                this.enableOnError();\n            }\n        },\n\n        // This attempts to call function fn (which may not exist), otherwise,\n        // falls back to handleStatusCodesFallback.\n        _callCustomHandler: function(error, fn, params) {\n            if (fn) {\n                fn.apply(this, _.union([error], params || []));\n            } else {\n                this.handleStatusCodesFallback(error);\n            }\n        },\n\n        /**\n         * Authentication error.\n         *\n         * OAuth2 uses 400 as a sort of catch all; see:\n         * http://tools.ietf.org/html/draft-ietf-oauth-v2-20#section-5.2\n         *\n         * Provide the following custom handlers:\n         *\n         * **handleInvalidGrantError**\n         *\n         * The provided authorization grant is invalid, expired, revoked, does\n         * not match the redirection URI used in the authorization request, or\n         * was issued to another client. Note that the server implementation\n         * will override invalid_grant as needs_login as a special case (see below).\n         *\n         * **handleNeedLoginError**\n         *\n         * The server shall use this in place of invalid_grant to tell client to handle\n         * error specifically as caused due to invalid credentials being supplied. The\n         * reason server needs to use this is because an invalid_grant oauth error may\n         * also be caused by invalid or expired token. Using needs_login allows all\n         * clients to provide proper messaging to end user without the need for extra logic.\n         *\n         * **handleInvalidClientError**\n         *\n         * Client authentication failed (e.g. unknown client, no client\n         * authentication included, multiple client authentications included,\n         * or unsupported authentication method).\n         *\n         * **handleInvalidRequestError**\n         *\n         * The request is missing a required parameter, includes an unsupported\n         * parameter or parameter value, repeats a parameter, includes multiple\n         * credentials, utilizes more than one mechanism for authenticating the\n         * client, or is otherwise malformed.\n         *\n         * **handleUnauthorizedClientError**\n         *\n         * The authenticated client is not authorized to use this authorization grant type.\n         *\n         * **handleUnsupportedGrantTypeError**\n         *\n         * The authorization grant type is not supported by the authorization server.\n         *\n         * **handleInvalidScopeError**\n         *\n         * The requested scope is invalid, unknown, malformed, or exceeds the scope granted by the resource owner.\n         *\n         *\n         * @param {SUGAR.HttpError} error HTTP error.\n         * @param {Function} alternativeCallback(optional) If this does not match an expected oauth error than this callback will be\n         * called (if provided).\n         * @method\n         * @private\n         */\n        _handleFineGrainedError: function(error, alternativeCallback) {\n            var handlerName = 'handle' + app.utils.classify(error.code) + 'Error';\n            (this[handlerName] || alternativeCallback || this.handleStatusCodesFallback).call(this, error);\n        },\n\n        /**\n         * An object of status code error handlers. If custom handler is defined by extending\n         * module, corresponding status code handler will attempt to use that, otherwise,\n         * handleStatusCodesFallback is used as a fallback just logging the error.\n         *\n         * @class Core.Error.statusCodes\n         * @member Core.Error\n         * @singleton\n         */\n        statusCodes: {\n            '0': function(error, model, options) {\n                if(error.textStatus === 'timeout') {\n                    this._callCustomHandler(error, this.handleTimeoutError);\n                } else {\n                    // TODO: Need invalid url, and any other possible status: 0 conditions\n                    this.handleStatusCodesFallback(error, model, options);\n                }\n            },\n\n            /**\n             * Authentication or bad request error.\n             *\n             * Since oauth server implementation might throw 401 (as well as 400)\n             * we route this to the {@link Core.Error#_handleFineGrainedError}.\n             * If no match for oauth error then handleOAuthError will try to use\n             * handleInvalidRequestError if supplied.\n             *\n             * Provide custom `handleInvalidRequestError` handler.\n             * @method\n             */\n            '400': function(error) {\n                this._handleFineGrainedError(error, this.handleUnspecified400Error);\n            },\n\n            /**\n             * Unauthorized.\n             *\n             * Since oauth server implementation might throw 401 (as well as 400)\n             * we route this to the {@link Core.Error#_handleFineGrainedError}.\n             * If no match for oauth error then handleOAuthError will try to use\n             * handleUnauthorizedError if supplied.\n             *\n             * Provide custom `handleUnauthorizedError` handler.\n             * @method\n             */\n            '401': function(error) {\n                this._handleFineGrainedError(error, this.handleUnauthorizedError);\n            },\n\n            /**\n             * Forbidden.\n             *\n             * Provide custom `handleForbiddenError` handler.\n             * @method\n             */\n            '403': function(error) {\n                this._callCustomHandler(error, this.handleForbiddenError);\n            },\n\n            /**\n             * Not found.\n             *\n             * Provide custom `handleNotFoundError` handler.\n             * @method\n             */\n            '404': function(error) {\n                this._callCustomHandler(error, this.handleNotFoundError, _.rest(arguments));\n            },\n\n            /**\n             * Method not allowed.\n             *\n             * Provide custom `handleMethodNotAllowedError` handler.\n             * @method\n             */\n            '405': function(error) {\n                this._callCustomHandler(error, this.handleMethodNotAllowedError);\n            },\n\n            /**\n             * Conflict.\n             *\n             * Provide custom `handleMethodConflictError` handler.\n             * @method\n             */\n            '409': function(error) {\n                this._callCustomHandler(error, this.handleMethodConflictError);\n            },\n\n            /**\n             * Precondition failed.\n             *\n             * Provide custom `handleHeaderPreconditionFailed` handler.\n             * @method\n             */\n            '412': function(error) {\n                this._callCustomHandler(error, this.handleHeaderPreconditionFailed);\n            },\n\n            /**\n             * Precondition failure.\n             *\n             * Clients can optionally sniff the error property in JSON for finer grained\n             * determination; the following values may be:\n             * missing_parameter, invalid_parameter\n             *\n             * Provide custom `handleValidationError` handler.\n             * @method\n             */\n            '422': function(error, model) {\n                error.model = model;\n                this._callCustomHandler(error, this.handleValidationError, _.rest(arguments));\n\n            },\n\n            /**\n             * Request Method Failure\n             * Provide custom `handleMethodFailureError` handler.\n             * @method\n             */\n            '424': function(error, model) {\n                error.model = model;\n                this._callCustomHandler(error, this.handleMethodFailureError, _.rest(arguments));\n            },\n\n            /**\n             * Internal server error\n             *\n             * Provide custom `handleServerError` handler.\n             * @method\n             */\n            '500': function(error) {\n                this._callCustomHandler(error, this.handleServerError);\n            },\n\n            /**\n             * Bad Gateway\n             *\n             * Provide custom `handleServerError` handler.\n             * @method\n             */\n            '502': function(error) {\n                this._callCustomHandler(error, this.handleServerError);\n            },\n\n            /**\n             * Service Unavailable\n             *\n             * Provide custom `handleServerError` handler.\n             * @method\n             */\n            '503': function(error) {\n                this._callCustomHandler(error, this.handleServerError);\n            }\n        },\n\n        remoteLogging: false,\n\n        /**\n         * Maps validator names to error labels.\n         * @member Core.Error\n         */\n        errorName2Keys: {\n            'maxValue': 'ERROR_MAXVALUE',\n            'minValue': 'ERROR_MINVALUE',\n            'maxLength': 'ERROR_MAX_FIELD_LENGTH',\n            'minLength': 'ERROR_MIN_FIELD_LENGTH',\n            'datetime': 'ERROR_DATETIME',\n            'required': 'ERROR_FIELD_REQUIRED',\n            'email': 'ERROR_EMAIL',\n            'primaryEmail': 'ERROR_PRIMARY_EMAIL',\n            'duplicateEmail': 'ERROR_DUPLICATE_EMAIL',\n            'number': 'ERROR_NUMBER',\n            'isBefore': 'ERROR_IS_BEFORE',\n            'isAfter': 'ERROR_IS_AFTER',\n            'greaterThan': 'ERROR_IS_GREATER_THAN',\n            'lessThan': 'ERROR_IS_LESS_THAN'\n         },\n\n        /**\n         * Returns error strings given a error key and context\n         * @param errorKey\n         * @param context\n         * @member Core.Error\n         */\n        getErrorString: function(errorKey, context) {\n            var module = context.module || '';\n            return app.lang.get(this.errorName2Keys[errorKey] || errorKey, module, context);\n        },\n\n        /**\n         * Handles validation errors. By default this just pipes the error to the\n         * error logger.\n         * @param {SUGAR.HttpError} error AJAX error.\n         * @member Core.Error\n         */\n        handleValidationError: function(error) {\n            var errors = error.responseText;\n            // TODO: Right now doesn't stringify the error, add it in when we finalize the\n            // structure of the error.\n\n            // TODO: Likely, we'll have a 'Saving...' alert, etc., and so we just dismiss all\n            // since we don't know the alert key. Ostensibly, validation errors will show\n            // field by field; so feedback will be provided as appropriate.\n            app.alert.dismissAll();\n\n            _.each(errors, function(fieldError, key) {\n                var errorMsg = '';\n                if (_.isObject(fieldError)) {\n                    _.each(fieldError, function(result, fieldName) {\n                        errorMsg += '(Message) ' + this.getErrorString(fieldName, result) + '\\n';\n                    }, this);\n                } else {\n                    errorMsg = fieldError;\n                }\n                app.logger.debug(\"validation failed for field `\" + key + \"`:\\n\" + errorMsg);\n            }, this);\n        },\n\n        /**\n         * Handles http errors returned from AJAX calls.\n         * @param {SUGAR.HttpError} error AJAX error.\n         * @param {Backbone.Model} model(optional) Instance of the model for which the request was made.\n         * @member Core.Error\n         */\n        handleHttpError: function(error, model, options) {\n            // If we have a handler defined for this status code\n            // The context may not be correct for the handler so use app.error instead of this.\n            if (app.error.statusCodes[error.status]) {\n                app.error.statusCodes[error.status].call(app.error, error, model, options);\n            } else {\n                // TODO: Default catch all error code handler\n                // Temporarily going to the handleStatusCodesFallback handler but will probably need\n                // to go to a sensible \"all other errors\" type of handler.\n                app.error.handleStatusCodesFallback(error);\n            }\n        },\n\n        /**\n         * Handles unhandled javascript exceptions which are reported via `window.onerror` event.\n         *\n         * The default implementation logs the error with level `FATAL`.\n         * Consider such exceptions as fatal application errors that should never happen :)\n         * @param {String} message Error message\n         * @param {String} url URL of script\n         * @param {String} line Line number of script\n         * @member Core.Error\n         */\n        handleUnhandledError: function(message, url, line) {\n            app.logger.fatal(message + ' at ' + url + ' on line ' + line);\n        },\n\n        /**\n         * This is the fallback error handler if custom status code specific handler\n         * not provided in application specific error handler. To define custom error\n         * handlers, you should include your script from index page and do something like:\n         * <pre><code>\n         * (function(app) {\n         *\n         *     app.error = _.extend(app.error, {\n         *        // put your custom handlers here.\n         *        handleUnauthorizedError: function(error) {\n         *        },\n         *\n         *        ...\n         *     });\n         *\n         * })(SUGAR.App);\n         * </pre></code>\n         *\n         * @param {String} error Ajax error.\n         * @member Core.Error\n         */\n        handleStatusCodesFallback: function(error) {\n            app.logger.error(error.toString());\n        },\n\n        /**\n         * Handles render related errors.\n         * @param {String} component The reference to calling view's this\n         * @param {String} method The method that caught the error e.g. _renderHtml\n         * @param {String} additionalInfo(optional) Any additional information required for the particular method that called. E.g. the field for _renderField.\n         * @member Core.Error\n         */\n        handleRenderError: function(component, method, additionalInfo) {\n            var id = 'render_error_' + component.module + '_' + component.name;\n            var level = 'error'; //Default message level\n            var title, messages;\n            // TODO: Add corresponding language agnostic app strings for title/message and use that instead.\n            switch (method) {\n                case '_renderHtml':\n                    title = app.lang.get('ERR_RENDER_FAILED_TITLE');\n                    messages = [app.lang.get('ERR_RENDER_FAILED_MSG'),\n                                app.lang.get('ERR_CONTACT_TECH_SUPPORT')];\n                    break;\n                case '_renderField':\n                    title = app.lang.get('ERR_RENDER_FIELD_FAILED_TITLE');\n                    messages = [app.utils.formatString(app.lang.get('ERR_RENDER_FIELD_FAILED_MSG'),\n                        [additionalInfo.name]), app.lang.get('ERR_CONTACT_TECH_SUPPORT')];\n                    break;\n                case 'view_render_denied':\n                    title = app.lang.get('ERR_NO_VIEW_ACCESS_TITLE');\n                    level = 'warning';  // This isn't an application error, this is ACL enforcement.\n                    var module = app.lang.getModuleName(component.module, {plural: true});\n                    messages = [app.utils.formatString(app.lang.get('ERR_NO_VIEW_ACCESS_MSG'),[module])];\n                    break;\n                case 'layout_render':\n                    title = app.lang.get('ERR_LAYOUT_RENDER_TITLE');\n                    messages = [app.lang.get('ERR_LAYOUT_RENDER_MSG')];\n                    break;\n                default:\n                    // This shouldn't happen\n                    title = app.lang.get('ERR_GENERIC_TITLE');\n                    messages = [app.lang.get('ERR_INTERNAL_ERR_MSG'),\n                                app.lang.get('ERR_CONTACT_TECH_SUPPORT')];\n                    app.logger.error('handleRenderError called for render error caught in ' + method + ', but we have no corresponding handler!');\n                    break;\n            }\n\n            app.alert.show(id, {\n                level: level,\n                title: title,\n                messages: messages\n            });\n\n        },\n\n        /**\n         * Overloads the window.onerror catch all function. Calls the original if any while\n         * adding the framework's custom error handling logic. Pass in a custom callback to\n         * add additional error handling.\n         * @param {Function} handler Callback function to call on error.\n         * @param {Object} context Scope of the callback\n         * @return {Boolean} False if onerror has already been overloaded.\n         * @member Core.Error\n         */\n        enableOnError: function(handler, context) {\n            var originalHandler;\n            var self = this;\n\n            if (this.overloaded) {\n                return false;\n            }\n\n            originalHandler = window.onerror;\n\n            window.onerror = function(mesg, url, line) {\n                if (handler) {\n                    handler.call(context);\n                } else {\n                    self.handleUnhandledError(mesg, url, line);\n                }\n\n                if (originalHandler) {\n                    originalHandler();\n                }\n            };\n\n            this.overloaded = true;\n\n            return true;\n        },\n\n\n         /**\n          * Inserts call stack string to Error message.\n          * `window.onerror` handler is not provided with Error object\n          * (4th argument) [in Safari][1].\n          *\n          * [1]: https://bugs.webkit.org/show_bug.cgi?id=55092\n          *\n          * @param {string|Error} error Error text or Error object.\n          * @param {boolean} [skipThrow=false] Pass `true` to skip exception\n          *   raising.\n          * @return {Error} Error object with stack trace inserted into\n          *   `Error.message` property.\n          */\n         throwErrorWithCallStack: function(error, skipThrow) {\n             if (_.isString(error)) {\n                 error = new Error(error);\n             }\n             error.message = error.message + '; ' + error.stack;\n\n             if (skipThrow) {\n                 return error;\n             }\n\n             throw error;\n         }\n    };\n\n    // We don't want to initialize error handling immediately,\n    // because the handler may use code that has not been initialized yet\n    app.augment('error', module, false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/error.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    //Pull the precompile header and footer from the node precompile implementation for handlebars\n    var _header = \"(function() {\\n  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\\n\",\n        _footer = '})();',\n        _templates = {},\n        _sources = {},\n        _templateManager;\n\n    /**\n     * Manages Handlebars templates.\n     *\n     * @class View.TemplateManager\n     * @alias SUGAR.App.template\n     * @singleton\n     */\n    _templateManager = {\n\n        /**\n         * Loads templates from local storage and populates `Handlebars.templates` collection.\n         */\n        init: function() {\n            _templates = app.config.cacheMeta ? app.cache.get('templates') || {} : {};\n            var src = '';\n            _.each(_templates, function(t) {\n                src += t;\n            });\n\n            try {\n                eval(_header + src + _footer); // jshint ignore:line\n            }\n            catch (e) {\n                app.logger.error('Failed to eval templates retrieved from local storage:\\n' + e);\n                // TODO: Trigger app:error event\n            }\n        },\n\n        /**\n         * Used to register a template src without compiling the template yet.\n         * The template will be compiled the first time it is used (requested\n         * with getView/getLayout/getField).\n         *\n         * @param {Array} tpl The template as `[key, compiled]` pair.\n         * @param {string} src The template content (.hbs file).\n         * @param {boolean} [force=false] `true` to force recompilation on it.\n         * @private\n         */\n        _add: function(tpl, src, force) {\n            var key = tpl[0],\n                loaded = this.get(key, false);\n            if (loaded && !force) {\n                return;\n            }\n            //If we have already loaded this template but with a different source, we need to mark it for recompilation\n            if (loaded && force && _sources[key] != src) {\n                _templates[key] = Handlebars.templates[key] = null;\n            }\n            _sources[key] = src;\n        },\n\n        /**\n         * Conditionally compiles a template.\n         * @param {Array} tpl First item is template key, the second is\n         *   compiled template.\n         * @param {string} src Template source code.\n         * @param {boolean} [force=false] Flag indicating if the template must\n         *   be re-compiled.\n         * @private\n         */\n        _compile: function(tpl, src, force) {\n            Handlebars.templates = Handlebars.templates || {};\n            _templates[tpl[0]] = Handlebars.templates[tpl[0]] = (force || !tpl[1]) ? this.compile(tpl[0], src) : tpl[1];\n            return _templates[tpl[0]];\n        },\n\n        /**\n         * Compiles a template.\n         *\n         * This method puts the precompiled version of the template in cache\n         * and returns the compiled template. The template can be accessed\n         * directly via `Handlebars.templates[key]` statement.\n         *\n         * @param {string} key Template identifier.\n         * @param {string} src The actual template source to be compiled.\n         * @return {Function} Compiled template.\n         */\n        compile: function(key, src) {\n            try {\n                _templates[key] = \"templates['\" + key + \"'] = template(\" + Handlebars.precompile(src) + \");\\n\";\n                eval(_header + _templates[key] + _footer); // jshint ignore:line\n            } catch (e) {\n                // Invalid templates will cause a JS error when they either pre-compile or compile.\n                app.logger.error(\"Failed to compile or eval template \" + key + \".\\n\" + e);\n            }\n            return this.get(key, false) || this.empty;\n        },\n\n        /**\n         * Retrieves a compiled handlebars template.\n         * @param {string} key Identifier of the template to be retrieved.\n         * @param {boolean} [compile=true] Force the template to compile if we\n         *   have uncompiled source.\n         * @return {Function} Compiled Handlebars template.\n         */\n        get: function(key, compile) {\n            //Undefined should default to true for compiled (not passed means compile)\n            compile = _.isUndefined(compile) || compile;\n            if (compile && !Handlebars.templates[key] && _sources[key]) {\n                this._compile([key], _sources[key]);\n            }\n            return Handlebars.templates ? Handlebars.templates[key] : null;\n        },\n\n        // Convenience private method\n        _getView: function(name, module, compile) {\n            var key = name + (module ? ('.' + module) : '');\n            return [key, this.get(key, compile)];\n        },\n\n        /**\n         * Gets compiled template for a view.\n         * @param {string} name View name.\n         * @param {string} module (optional) Module name.\n         * @return {Function} Compiled template.\n         */\n        getView: function(name, module) {\n            return this._getView(name, module, true)[1];\n        },\n\n        // Convenience private method\n        _getField: function(type, view, module, fallbackTemplate, skipFallbacks, compile) {\n           var foundTemplate,\n               prefix = \"f.\" + type + \".\",\n               key = prefix + (module ? (module + \".\") : \"\") + view;\n\n            module += \".\";\n           \n           // get the module specific one first, then try the base one for this view\n           foundTemplate = this.get(prefix + module + view, compile) || this.get(prefix + view, compile);\n            //skipfallbacks indicates we should only check for the requested field,\n           if (!foundTemplate && !skipFallbacks)\n           {\n               foundTemplate = this.get(prefix + module + fallbackTemplate, compile) || this.get(prefix + fallbackTemplate, compile);\n               // If we got nothing for the requested fallback, use base as the last ditch fallback\n               if (!foundTemplate) {\n                   foundTemplate = this.get('f.base.' + view, compile) || this.get('f.base.' + fallbackTemplate, compile);\n               }\n           }\n           return [key, foundTemplate];\n       },\n\n        /**\n         * Gets compiled template for a field.\n         * @param {string} type Field type.\n         * @param {string} view View name.\n         * @param {string} module The Module where the field is from\n         * @param {boolean} [fallbackTemplate=true] Template name to fallback\n         *   to if template for `view` is not found. If view specific is not\n         *   found.\n         * @return {Function} Compiled template.\n         */\n        getField: function(type, view, module, fallbackTemplate) {\n            return this._getField(type, view, module, fallbackTemplate, false, true)[1];\n        },\n\n        // Convenience private method\n        _getLayout: function(name, moduleName, compile) {\n            var key = 'l.' + (moduleName ? (moduleName + '.') : '') + name;\n            return [key, this.get(key, compile)];\n        },\n\n        /**\n         * Gets compiled template for a layout.\n         * @param {string} [name] Layout name.\n         * @param {string} [moduleName] Module name.\n         * @return {Function} Compiled template.\n         */\n        getLayout: function(name, moduleName) {\n            return this._getLayout(name, moduleName, true)[1];\n        },\n\n        /**\n         * Compiles and puts into local storage a view template.\n         * @param {string} name View name.\n         * @param {string} module Module name.\n         * @param {string} src Template source code.\n         * @param {boolean} [force=false] Flag indicating if the template must\n         *   be re-compiled.\n         * @return {Function} Compiled template.\n         */\n        setView: function(name, module, src, force) {\n            return this._add(this._getView(name, module, false), src, force);\n        },\n\n        /**\n         * Compiles and puts into local storage a field template.\n         * @param {string} type Field type.\n         * @param {string} view View name.\n         * @param {string} module Module where field came from.\n         * @param {string} src Template source code.\n         * @param {boolean} [force=false] Flag indicating if the template must\n         *   be re-compiled.\n         * @return {Function} Compiled template.\n         */\n        setField: function(type, view, module, src, force) {\n            // Don't fall back to default template (false flag)\n            return this._add(this._getField(type, view, module, null, true, false), src, force);\n        },\n\n        /**\n         * Compiles and stores layout templates\n         * @param {string} name Layout Name.\n         * @param {string} [moduleName] Module Name.\n         * @param {string} src Raw template source.\n         * @param {boolean} [force=false] Flag indicating if the template must\n         *   be re-compiled.\n         * @return {Function} Compiled template\n         */\n        setLayout: function(name, moduleName, src, force) {\n            return this._add(this._getLayout(name, moduleName, false), src, force);\n        },\n\n        /**\n         * Registers view, layout, and field templates from metadata payload\n         * for later \"lazy\" on-demand compilation.\n         *\n         * The metadata must contain the following sections:\n         *\n         * <pre>\n         * {\n         *    // This should now be deprecated\n         *    \"view_templates\": {\n         *       \"detail\": HB template source,\n         *       \"list\": HB template source,\n         *       // etc.\n         *    },\n         *\n         *    \"sugarFields\": {\n         *        \"text\": {\n         *            \"templates\": {\n         *               \"default\": HB template source,\n         *               \"detail\": HB template source,\n         *               \"edit\": ...,\n         *               \"list\": ...\n         *            }\n         *        },\n         *        \"bool\": {\n         *           // templates for boolean field\n         *        },\n         *        // etc.\n         *    }\n         *\n         *    \"views\": {\n         *      \"text\": {\n         *          \"templates\" {\n         *              \"view\": HB template source...\n         *              \"view2\": HB template source..\n         *          }.\n         *    }\n         * }\n         * </pre>\n         *\n         * @param {Object} metadata Metadata payload.\n         * @param {boolean} [force=false] Flag indicating if the cache is\n         *   ignored and the templates are to be recompiled.\n         */\n        set: function(metadata, force) {\n            if (metadata.views) {\n                _.each(metadata.views, function(view, name) {\n                    if (name != '_hash') {\n                        _.each(view.templates, function(src, key) {\n                            key = name == key ? key : name + '.' + key;\n                            this.setView(key, null, src, force);\n                        }, this);\n                    }\n                }, this);\n            }\n\n            if (metadata.fields) {\n                _.each(metadata.fields, function(field, type) {\n                    if (type != '_hash') {\n                        _.each(field.templates, function(src, view) {\n                            this.setField(type, view, null, src, force);\n                        }, this);\n                    }\n                }, this);\n            }\n\n            if (metadata.layouts) {\n                _.each(metadata.layouts, function(layout, type) {\n                    if (type != '_hash') {\n                        _.each(layout.templates, function(src, key) {\n                            key = type == key ? key : type + '.' + key;\n                            this.setLayout(key, null, src, force);\n                        }, this);\n                    }\n                }, this);\n            }\n\n        },\n\n        /**\n         * Pre-compiled empty template.\n         *\n         * @property {Function}\n         */\n        empty: function() {\n            return '';\n        }\n    };\n\n    app.augment('template', _templateManager);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/template.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n    /**\n     * The Context object is a state variable to hold the current application state. The context contains various\n     * states of the current {@link View.View View} or {@link View.Layout Layout} -- this includes the current model and collection, as well as the current\n     * module focused and also possibly the url hash that was matched.\n     *\n     * ###Creating a Context Object\n     *\n     * Use the getContext method to get a new instance of a context.\n     * <pre><code>\n     * var myContext = SUGAR.app.context.getContext({\n     *     module: \"Contacts\",\n     *     url: \"contacts/id\"\n     * });\n     * </code></pre>\n     *\n     * ###Retrieving Data from the Context\n     *\n     * <pre><code>\n     * var module = myContext.get(\"module\"); // module = \"Contacts\"\n     * </pre></code>\n     *\n     * ###Global Context Object\n     *\n     * The Application has a global context that applies to top level layer. Contexts used within\n     * nested {@link View.View Views} / {@link View.Layout Layouts} can be derived from the global context\n     * object.\n     *\n     *\n     * The global context object is stored in **`App.controller.context`**.\n     *\n     *\n     * @class Core.Context\n     * @extends Backbone.Model\n     */\n    app.Context = Backbone.Model.extend({\n\n        initialize: function(attributes) {\n            Backbone.Model.prototype.initialize.call(this, attributes);\n            this.id = this.cid;\n            this.parent = null;\n            this.children = [];\n            this._fetchCalled = false;\n        },\n\n        /**\n         * Clears context's attributes. See {@link Core.Context#resetLoadFlag}.\n         *\n         * @param {Object} [options] Standard `Backbone.Model` options.\n         */\n        clear: function(options) {\n            var collection = this.get('collection');\n\n            if (collection) {\n                collection.abortFetchRequest();\n            }\n\n            _.each(this.children, function(child) {\n                child.clear(options);\n            });\n\n            this.children = [];\n            this.parent = null;\n\n            // Remove event listeners attached to models and collections in the context\n            // before clearing them.\n            _.each(this.attributes, function(value) {\n                if (value && (value.off === Backbone.Events.off)) {\n                    value.off();\n                    value.stopListening();\n                    if (_.isFunction(value.dispose)) {\n                        value.dispose();\n                    }\n                }\n            }, this);\n\n            this.off();\n            Backbone.Model.prototype.clear.call(this, options);\n\n            this.resetLoadFlag();\n        },\n\n        /**\n         * Resets \"load-data\" state for this context and its child contexts.\n         *\n         * The {@link Core.Context#loadData} method sets an internal boolean flag\n         * to prevent multiple identical requests to the server. This method resets this flag.\n         *\n         * @param {Object} [options] A hash of options.\n         * @param {boolean} [options.recursive = true] `true` to reset the child contexts\n         *   too.\n         * @param {boolean} [options.resetModel = true] `true` to reset the flag on the\n         *   model.\n         * @param {boolean} [options.resetCollection = true] `true` to reset the flag on\n         * the collection.\n         */\n        resetLoadFlag: function (options) {\n            if (_.isBoolean(options)) {\n                app.logger.warn('`Core.Context#resetLoadFlag` has changed signature since 7.8 ' +\n                    'and will drop support for old signature in 7.9. Please update your code.');\n                options = { recursive: options };\n            }\n\n            options = options || {};\n            var recursive = _.isUndefined(options.recursive) ? true : options.recursive;\n            var resetModel = _.isUndefined(options.resetModel) ? true : options.resetModel;\n            var resetCollection = _.isUndefined(options.resetCollection) ? true : options.resetCollection;\n\n            this._fetchCalled = false;\n\n            if (this.get('model') && resetModel) {\n                this.get('model').dataFetched = false;\n            }\n\n            if (this.get('collection') && resetCollection) {\n                this.get('collection').dataFetched = false;\n            }\n\n            if (recursive) {\n                _.each(this.children, function(child) {\n                    child.resetLoadFlag();\n                });\n            }\n        },\n\n        /**\n         * Checks if a context is used for a create view.\n         * @return {Boolean} `true` if this context has `create` flag set.\n         */\n        isCreate: function() {\n            return this.get(\"create\") === true;\n        },\n\n        /**\n         * Gets a related context.\n         * @param {Object} [def] Related context definition.\n         * <pre>\n         * {\n         *    module: module name,\n         *    link: link name\n         * }\n         * </pre>\n         * @return {Core.Context} New instance of the child context.\n         */\n        getChildContext: function(def) {\n            def = def || {};\n            var context;\n            var force = def.forceNew || false;\n\n            delete def.forceNew;\n\n            // Re-use a child context if it already exists\n            // We search by either link name or module name\n            // Consider refactoring the way we store children: hash v.s. array\n            var name = def.cid || def.name || def.link || def.module;\n            if (name && !force) {\n                context = _.find(this.children, function(child) {\n                    return ((child.cid == name) || (child.get(\"link\") == name) || (child.get(\"module\") == name));\n                });\n            }\n\n            if (!context) {\n                def = _.extend({ fetch: this.get('fetch') }, def);\n                context = app.context.getContext(def);\n                this.children.push(context);\n                context.parent = this;\n            }\n\n            if (def.link) {\n                var parentModel = this.get(\"model\");\n                context.set({\n                    parentModel: parentModel,\n                    parentModule: parentModel ? parentModel.module : null\n                });\n            } else if(!def.module){\n                context.set({module:this.get(\"module\")});\n            }\n\n            this.trigger(\"context:child:add\", context);\n\n            return context;\n        },\n\n        /**\n         * Prepares instances of model and collection.\n         *\n         * This method does nothing if this context already contains an instance of a model or a collection.\n         * Pass `true` to re-create model and collection.\n         *\n         * @param {boolean} force(optional) Flag indicating if data instances must be re-created.\n         */\n        prepare: function (force, prepareRelated) {\n            var link;\n            if (force || (!this.get('model') && !this.get('collection'))) {\n                var modelId = this.get('modelId');\n                var create = this.get('create');\n                link = this.get('link');\n\n                this.set(link ?\n                    this._prepareRelated(link, modelId, create) :\n                    this._prepare(modelId, create)\n                );\n            }\n\n            if ((force || !this._relatedCollectionsPopulated) && (!link || prepareRelated)) {\n                this._populateRelatedContexts();\n            }\n\n            return this;\n        },\n\n        /**\n         * Sets the `fetch` attribute recursively on the context and its children.\n         *\n         * A context with `fetch` set to `false` won't load the data.\n         *\n         * @param {boolean} fetch `true` to recursively set `fetch` to `true`\n         *   in this context and its children.\n         * @param {Object} [options] A hash of options.\n         * @param {boolean} [options.recursive] `true` to recursively set the\n         *   `fetch` boolean on the children.\n         */\n        setFetch: function (fetch, options) {\n            options = options || {};\n            this.set('fetch', fetch);\n            var recursive = options.recursive === void 0 ? true : options.recursive;\n            if (recursive) {\n                _.each(this.children, (child) => { child.setFetch(fetch); });\n            }\n        },\n\n        /**\n         * Prepares instances of model and collection.\n         *\n         * This method assumes that the module name (`module`) is set on the context.\n         * If not, instances of standard Backbone.Model and Backbone.Collection are created.\n         *\n         * @param {String} modelId Bean ID.\n         * @param {Boolean} create Create flag.\n         * @return {Object} State to set on this context.\n         * @private\n         */\n        _prepare: function(modelId, create) {\n            var model, collection,\n                module = this.get(\"module\"),\n                mixed = this.get(\"mixed\"),\n                models;\n\n            if (modelId) {\n                model = app.data.createBean(module, { id: modelId });\n                models = [model];\n            } else if (create === true) {\n                model = app.data.createBean(module);\n                models = [model];\n            } else {\n                model = app.data.createBean(module);\n            }\n\n            collection = mixed === true ?\n                app.data.createMixedBeanCollection(models) :\n                app.data.createBeanCollection(module, models);\n\n            return {\n                collection: collection,\n                model: model\n            };\n        },\n\n        /**\n         * Prepares instances of related model and collection.\n         *\n         * This method assumes that either a parent model (`parentModel`) or\n         * parent model ID (`parentModelId`) and parent model module name (`parentModule`) are set on this context.\n         *\n         * @param {String} link Relationship link name.\n         * @param {String} modelId Related bean ID.\n         * @param {Boolean} create Create flag.\n         * @return {Object} State to set on this context.\n         * @private\n         */\n        _prepareRelated: function(link, modelId, create) {\n            var model, collection,\n                parentModel = this.get(\"parentModel\");\n\n            parentModel = parentModel || app.data.createBean(this.get(\"parentModule\"), { id: this.get(\"parentModelId\") });\n            if (modelId) {\n                model = app.data.createRelatedBean(parentModel, modelId, link);\n                collection = app.data.createRelatedCollection(parentModel, link, [model]);\n            } else if (create === true) {\n                model = app.data.createRelatedBean(parentModel, null, link);\n                collection = app.data.createRelatedCollection(parentModel, link, [model]);\n            } else {\n                model = app.data.createRelatedBean(parentModel, null, link);\n                collection = app.data.createRelatedCollection(parentModel, link);\n            }\n\n            if (!this.has(\"parentModule\")) {\n                this.set({ \"parentModule\": parentModel.module }, { silent: true });\n            }\n\n            if (!this.has(\"module\")) {\n                this.set({ \"module\": model.module }, { silent: true });\n            }\n\n            return {\n                parentModel: parentModel,\n                collection: collection,\n                model: model\n            };\n        },\n\n        /**\n         * Sets the `fields` attribute on this context by extending the current\n         * `fields` attribute with the passed-in `fieldsArray`.\n         *\n         * @chainable\n         * @param {string[]} fieldsArray The list of field names.\n         * @return {Core.Context} Instance of this model.\n         */\n        addFields: function(fieldsArray) {\n           if (!fieldsArray) {\n               return;\n           }\n           var fields = _.union(fieldsArray, this.get('fields') || []);\n           return this.set('fields', fields);\n        },\n\n        /**\n         * Loads data (calls fetch on either model or collection).\n         *\n         * This method sets an internal boolean flag to prevent consecutive fetch operations.\n         * Call {@link Core.Context#resetLoadFlag} to reset the context's state.\n         *\n         * @param {Object} [options] A hash of options passed to\n         *   collection/model's fetch method.\n         * @param {boolean} [options.fetch] `true` to always fetch the data.\n         */\n        loadData: function(options) {\n            options = options || {};\n            if (!options.forceFetch && !this._shouldFetch()) {\n                return;\n            }\n\n            delete options.forceFetch;\n\n            var objectToFetch,\n                modelId = this.get(\"modelId\"),\n                module = this.get(\"module\"),\n                defaultOrdering = (app.config.orderByDefaults && module) ? app.config.orderByDefaults[module] : null;\n\n            objectToFetch = modelId ? this.get(\"model\") : this.get(\"collection\");\n\n            // If we have an orderByDefaults in the config, and this is a bean collection,\n            // try to use ordering from there (only if orderBy is not already set.)\n            if (defaultOrdering &&\n                objectToFetch instanceof app.BeanCollection &&\n                !objectToFetch.orderBy)\n            {\n                objectToFetch.orderBy = defaultOrdering;\n            }\n\n            // TODO: Figure out what to do when models are not\n            // instances of Bean or BeanCollection. No way to fetch.\n            if (objectToFetch && (objectToFetch instanceof app.Bean ||\n                objectToFetch instanceof app.BeanCollection)) {\n\n                if (this.get('dataView') && _.isString(this.get('dataView'))) {\n                    objectToFetch.setOption('view', this.get('dataView'));\n                }\n\n                if (this.get('fields')) {\n                    objectToFetch.setOption('fields', this.get('fields'));\n                }\n\n                if (this.get('limit')) {\n                    objectToFetch.setOption('limit', this.get('limit'));\n                }\n\n                if (this.get('module_list')) {\n                    objectToFetch.setOption('module_list', this.get('module_list'));\n                }\n\n                // Track models that user is actively viewing\n                if(this.get('viewed')){\n                    objectToFetch.setOption('viewed', this.get('viewed'));\n                }\n\n                options.context = this;\n\n                if (this.get(\"skipFetch\") !== true) {\n                    objectToFetch.fetch(options);\n                }\n\n                this._fetchCalled = true;\n            } else {\n                app.logger.warn(\"Skipping fetch because model is not Bean, Bean Collection, or it is not defined, module: \" + this.get(\"module\"));\n            }\n        },\n\n        /**\n         * Creates child context for each `link` of each `collection` field\n         * present on the bean.\n         *\n         * @private\n         */\n        _populateRelatedContexts: function () {\n            if (!this.get('collection')) {\n                return;\n            }\n\n            this.get('collection').each(function(bean) {\n                var collectionFields = bean.fieldsOfType('collection');\n                if (!_.isEmpty(collectionFields)) {\n                    _.each(collectionFields, function (field) {\n                        var links = field.links;\n                        if (_.isString(links)) {\n                            links = [links];\n                        }\n\n                        var linkCollections = {};\n                        _.each(links, function (link) {\n                            var rc = this.getChildContext({ link:link });\n                            rc.prepare();\n                            linkCollections[link] = rc.get('collection');\n                        }, this);\n\n                        bean.set(field.name, app.data.createMixedBeanCollection([], { links:linkCollections }));\n                    }, this);\n                }\n            }, this);\n\n            this._relatedCollectionsPopulated = true;\n        },\n\n        /**\n         * Helper function to determine if {@link #loadData} can be called on\n         * this context.\n         *\n         * @protected\n         * @return {boolean} `true` if {@link #loadData} can be called. `false`\n         *   otherwise.\n         */\n        _shouldFetch: function () {\n            return (this.get('fetch') === void 0 || this.get('fetch')) &&\n                !this.isDataFetched() && !this.get('create');\n        },\n\n        /**\n         * Refreshes the context's data and refetches the new data if\n         * {@link #skipFetch} is `true`.\n         *\n         * @param {Object} [options] Options for {@link #loadData} and the\n         *   `reload` event.\n         */\n        reloadData: function(options) {\n            options = options || {};\n\n            this.resetLoadFlag(options);\n            this.loadData(options);\n\n            /**\n             * @event reload\n             * Triggered before and after the context is reloaded.\n             * @param {Core.Context} this The context where the event was triggered.\n             * @param {Object} [options] The options passed during\n             *   {@link #reloadData} call.\n             */\n            this.trigger('reload', this, options);\n        },\n\n        /**\n         * Indicator to know if data has been successfully loaded\n         *\n         * @return {boolean} `true` if data has been fetched, `false` otherwise.\n         */\n        isDataFetched: function() {\n            var objectToFetch = this.get('modelId') ? this.get('model') : this.get('collection');\n            return this._fetchCalled || (objectToFetch && !!objectToFetch.dataFetched);\n        },\n    });\n\n    app.augment('context', {\n\n        /**\n         * Returns a new instance of the context object.\n         * @param {Object} [attributes] Any parameters and state properties to\n         *   attach to the context.\n         * @return {Core.Context} New context instance.\n         * @member Core.Context\n         */\n        getContext: function (attributes) {\n            return new app.Context(attributes);\n        },\n    });\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/context.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    /**\n     * Controller manages the loading and unloading of layouts within the app.\n     *\n     * **Extending controller**\n     *\n     * Application may choose to extend the controller to provide custom implementation.\n     * Your custom controller class name should be capiltalized {@link Config#appId} followed by `Controller` word.\n     * <pre><code>\n     * (function(app) {\n     *\n     *     app.PortalController = app.Controller.extend({\n     *\n     *         loadView: function(params) {\n     *            // Custom implementation of loadView\n     *\n     *            // Should you need to call super method:\n     *            app.Controller.prototype.loadView.call(this, params);\n     *         }\n     *\n     *     });\n     *\n     * })(SUGAR.App);\n     * </code></pre>\n     *\n     * @class Core.Controller\n     * @alias SUGAR.App.controller\n     * @singleton\n     */\n    var Controller = Backbone.View.extend({\n        /**\n         * Initializes this controller.\n         * @private\n         * @ignore\n         */\n        initialize: function() {\n            /**\n             * The primary context of the app.\n             * This context is associated with the root layout.\n             * @property {Core.Context}\n             */\n            this.context = app.context.getContext();\n\n            app.events.on(\"app:sync:complete\", function() {\n                app.api.setStateProperty(\"loadingAfterSync\", true);\n                _.each(app.additionalComponents, function(component) {\n                    if (component && _.isFunction(component._setLabels)) {\n                        component._setLabels();\n                    }\n                    component.render();\n                });\n                app.router.reset();\n                app.api.clearStateProperty(\"loadingAfterSync\");\n            });\n\n            app.events.on(\"app:login:success\", function() {\n                app.sync();\n            });\n        },\n\n        /**\n         * Loads a view (layout).\n         *\n         * This method is called by the router when the route is changed.\n         *\n         * @param {Object} params Options that determine the current context and the view to load.\n\n         * - id: ID of the record to load (optional)\n         * - module: module name\n         * - layout: Name of the layout to load\n         */\n        loadView: function(params) {\n\n            var oldLayout = this.layout;\n\n            //FIXME SC-5124 will remove 'app:view:load', to use 'app:view:change' instead.\n            if (!app.triggerBefore('app:view:change') || !app.triggerBefore('app:view:load')) {\n                return;\n            }\n\n            // Reset context and initialize it with new params\n            this.context.clear({silent: true});\n            this.context.set(params);\n\n            // Prepare model and collection\n            this.context.prepare();\n            // Create an instance of the layout and bind it to the data instance\n            this.layout = app.view.createLayout({\n                name: params.layout,\n                module: params.module,\n                context: this.context\n            });\n\n            if (oldLayout) {\n                // Take out the previous layout element from the content container,\n                // and then keep it in the document fragment\n                // in order to destroy jQuery plugin safe.\n                var oldLayoutEl = document.createDocumentFragment();\n                oldLayoutEl.appendChild(oldLayout.el);\n            }\n\n            // Render the layout to the main element\n            // Since the previous element is already gone,\n            // .append is better way because .html requires\n            // additional cost for .empty().\n            app.$contentEl.append(this.layout.$el);\n\n            //initialize subcomponents in the layout\n            this.layout.initComponents();\n\n            // Fetch the data, the layout will be rendered when fetch completes\n            if(!params || (params && !params.skipFetch)) {\n                this.layout.loadData();\n            }\n\n            // Render the layout with empty data\n            this.layout.render();\n\n            if (oldLayout) {\n                oldLayout.dispose();\n            }\n\n            app.trigger(\"app:view:change\", params.layout, params);\n        },\n\n        /**\n         * Creates, renders, and registers within the app additional components.\n         */\n        loadAdditionalComponents: function(components) {\n            if (!_.isEmpty(app.additionalComponents)) {\n                app.logger.error('`app.controller.loadAdditionalComponents` has already been called. It can not be called twice.');\n                return;\n            }\n\n            app.additionalComponents = {};\n            _.each(components, function(component, name) {\n                if(component.target) {\n                    var $el = this.$(component.target);\n                    if (!$el.get(0)) {\n                        app.logger.error('Unable to place additional component \"' + name + '\": the target specified does not exist.');\n                        return;\n                    }\n                    if(component.layout) {\n                        app.additionalComponents[name] = app.view.createLayout({\n                            context: this.context,\n                            type: component.layout,\n                            el: $el,\n                        });\n                        app.additionalComponents[name].initComponents();\n                    } else {\n                        app.additionalComponents[name] = app.view.createView({\n                            type: component.view || name,\n                            context: this.context,\n                            el: $el,\n                        });\n                    }\n                    app.additionalComponents[name].render();\n                } else {\n                    app.logger.error('Unable to place additional component \"' + name + '\": no target specified.');\n                }\n            }, this);\n        }\n    });\n\n    app.augment(\"Controller\", Controller, false);\n\n    app.events.on(\"app:init\", function(app) {\n        app.controller.setElement(app.$rootEl);\n    }, app.controller).on(\"app:start\", function(app) {\n        app.controller.loadAdditionalComponents(app.config.additionalComponents);\n    });\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/controller.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    // Can be set by routing.start().\n    var _routes;\n\n    /**\n     * Manages routing behavior.\n     *\n     * The default implementation provides `before` and `after` callbacks that are executed\n     * before and after a route gets triggered.\n     *\n     * @class Core.Routing\n     * @alias SUGAR.App.routing\n     * @singleton\n     */\n    app.augment(\"routing\", {\n\n        /**\n         * Checks if a user is authenticated before triggering a route.\n         * @param {String} route Route name.\n         * @param args(optional) Route parameters.\n         * @return {Boolean} Flag indicating if the route should be triggered (`true`).\n         */\n        beforeRoute: function(route, args) {\n            if (!this.triggerBefore(\"route\", {route:route, args:args}))\n                return false;\n\n            // skip this check for all white-listed routes (app.config.unsecureRoutes)]\n            if (_.indexOf(app.config.unsecureRoutes, route) >= 0) return true;\n\n            // Check if a user is un-authenticated and redirect him to login\n            if (!app.api.isAuthenticated()) {\n                app.router.login();\n                return false;\n            }\n            else if (!app.isSynced) {\n                Backbone.history.stop();\n                app.sync();\n                return false;\n            }\n            return true;\n        },\n\n        /**\n         * Gets called after a route gets triggered.\n         *\n         * The default implementation does nothing.\n         * @param {String} route Route name.\n         * @param args(optional) Route parameters.\n         */\n        after: function(route, args) {\n            // Do nothing\n        },\n\n        /**\n         * If default routes are not desired, overwrite defaults with an array\n         * of custom routes with their handlers.\n         *\n         * @param {Array} customRoutes List of routes to replace sidecar routes\n         * with. In the format:\n         *\n         *     { route: 'route', name: 'routename', callback: function() {} }\n         */\n        setRoutes: function(customRoutes) {\n            app.logger.warn(\n                'Core.Routing#setRoutes is deprecated since 7.8 and will be removed in 7.9. ' +\n                'Please use Core.Router#addRoutes.'\n            );\n            _routes = customRoutes;\n        },\n\n        /**\n         * Should be called when app has finished loading all the necessary files.\n         * This will create an instance of Backbone router.\n         */\n        start: function() {\n            var opts = {};\n\n            if (_routes) {\n                opts.customRoutes = _routes;\n            }\n\n            app.augment(\"router\", new app.Router(opts), false);\n            app.events.trigger(\"router:start\", app.router);\n            app.router.init();\n            app.router.start();\n        },\n\n        /**\n         * Internal use only - for unit testing Routers.\n         *\n         * Disable `Backbone.history` temporarily.\n         */\n        stop: function () {\n            app.router.stop();\n            _routes = [];\n        }\n    });\n\n    //Mix in the beforeEvents\n    _.extend(app.routing, app.beforeEvent);\n\n    /**\n     * Router manages the watching of the address hash and routes to the correct handler.\n     *\n     * **Note:** The default router has no routes, routes will need to be provided via a custom route object\n     * from the `platform.js` file. Custom routes can use predefined route handlers on the default router.\n     *\n     * Deprecated Routes:\n     *\n     * - \"\": \"index\",\n     * - \"logout\": \"logout\",\n     * - \"logout/?clear=:clear\": \"logout\",\n     * - \":module\": \"list\",\n     * - \":module/layout/:view\": \"layout\",\n     * - \":module/create\": \"create\",\n     * - \":module/:id/:action\": \"record\",\n     * - \":module/:id\": \"record\"\n     *\n     * ## Events:\n     * ### router:init\n     * Triggered after {@link Core.Routing#start} has been initialized but before it has started.\n     * Should be used to register additional custom routes:\n     *\n     *     app.events.on('router:init', function(router) {\n     *         var routes = [\n     *             {\n     *                 route: 'MyModule/my_custom_route',\n     *                 name: 'MyModule',\n     *                 callback: MyModule\n     *             }\n     *         ];\n     *         app.router.addRoutes(routes);\n     *     });\n     *\n     *\n     *\n     * @class Core.Router\n     * @alias SUGAR.App.router\n     * @extends Backbone.Router\n     * @singleton\n     */\n    app.Router = Backbone.Router.extend({\n\n        /**\n         * Sets custom routes and binds them if available.\n         * @param {Object} [opts] options to initialize the router.\n         * @param {Object} [opts.customRoutes] customRoutes to override the\n         * default sidecar ones.\n         */\n        initialize: function(opts) {\n            opts = opts || {};\n\n            /**\n             * The previous fragment.\n             *\n             * @property {string}\n             * @private\n             */\n            this._previousFragment = '';\n\n            /**\n             * The current fragment.\n             *\n             * @property {string}\n             * @private\n             */\n            this._currentFragment = '';\n\n            if (opts.customRoutes) {\n                app.logger.warn(\n                    'Core.Router\\'s option \"customRoutes\", is deprecated since 7.8 and will be removed in 7.9. ' +\n                    'Please use addRoutes.'\n                );\n                this._initRoutes = opts.customRoutes;\n            }\n        },\n\n        /**\n         * Calls {@link Core.Routing#before} before invoking a route handler\n         * and {@link Core.Routing#after} after the handler is invoked.\n         *\n         * @param {Function} handler Route callback handler.\n         * @private\n         */\n        _routeHandler: function(handler) {\n            var args = Array.prototype.slice.call(arguments, 1),\n                route = handler.route;\n\n            if (app.routing.beforeRoute(route, args)) {\n                this._previousFragment = this._currentFragment;\n                this._currentFragment = this.getFragment();\n                handler.apply(this, args);\n                app.routing.after(route, args);\n            }\n        },\n\n        /**\n         * Checks if module exists and displays 404 error screen if it does not\n         * @param module\n         * @return {boolean} `true` if module exists, `false` otherwise.\n         * @private\n         */\n        _moduleExists: function(module) {\n            if (module && _.isUndefined(app.metadata.getModule(module))) {\n                app.error.handleHttpError({status: 404});\n                return false;\n            }\n            return true;\n        },\n\n        _addDefaultRoutes: function() {\n            var defaultRoutes = [\n                {\n                    name: 'notFound',\n                    route: /^.*$/,\n                    callback: function () {\n                        // no matching routes (e.g.: '#//' or '#unkown/path/route)\n                        app.error.handleHttpError({status: 404});\n                    }\n                }\n            ];\n            this.addRoutes(defaultRoutes);\n        },\n\n        /**\n         * Registers a handler for a named route.\n         *\n         * This method wraps the handler into {@link Core.Router#_routeHandler}\n         * method.\n         *\n         * @param {string} route Route expression.\n         * @param {string} name Route name.\n         * @param {Function} [callback] Route handler. If not supplied, will\n         *   use the method name that matches the `name` param.\n         */\n        route: function (route, name, callback) {\n            if (!name) {\n                app.logger.warn('Route names will be required in 7.9.');\n            } else if (!_.isEmpty(this._routes[name])) {\n                app.logger.error('Route \"' + name + '\" is being overridden. This is highly NOT advisable.');\n            }\n\n            this._routes[name] = callback;\n\n            if (!callback) {\n                callback = this[name];\n            }\n\n            callback.route = name;\n            callback = _.wrap(callback, this._routeHandler);\n            Backbone.Router.prototype.route.call(this, route, name, callback);\n        },\n\n        /**\n         * Gets the current backbone fragment.\n         *\n         * @return {string}\n         */\n        getFragment: function() {\n            return Backbone.history.getFragment();\n        },\n\n        /**\n         * Updates the URL with the given fragment.\n         *\n         * @param {string} fragment The fragment to navigate to.\n         * @param {Object} [options] The options hash.\n         * @param {boolean} [options.trigger] `true` to fire the route callback.\n         * @param {boolean} [options.replace] `true` to modify the current URL\n         *   without adding an entry to the window.history object.\n         */\n        navigate: function(fragment, options) {\n            Backbone.Router.prototype.navigate.apply(this, arguments);\n            if (!(options && options.trigger)) {\n                this._previousFragment = this._currentFragment;\n                this._currentFragment = this.getFragment();\n            }\n            return this;\n        },\n\n        /**\n         * Gets the previous fragment.\n         *\n         * @return {string}\n         */\n        getPreviousFragment: function() {\n            return this._previousFragment;\n        },\n\n        /**\n         * Navigates to the previous route in history.\n         *\n         * This method triggers route change event.\n         */\n        goBack: function() {\n            app.logger.debug(\"Navigating back...\");\n            window.history.back();\n        },\n\n        /**\n         * Navigates the window history.\n         *\n         * @param {Number} steps Number of steps to navigate (can be negative).\n         */\n        go: function(steps) {\n            window.history.go(steps);\n        },\n\n        /**\n         * Initializes the router.\n         */\n        init: function() {\n            /**\n             * Routes' hashmap by name. See {@link#get} for more info.\n             *\n             * @type {Object}\n             * @private\n             */\n            this._routes = {};\n            this._addDefaultRoutes();\n            if (this._initRoutes) {\n                this.addRoutes(this._initRoutes);\n            }\n\n            if (this.customRoutes) {\n                app.logger.warn(\n                    'Core.Router\\'s option \"customRoutes\", is deprecated since 7.8 and will be removed in 7.9. ' +\n                    'Please use addRoutes.'\n                );\n                this.addRoutes(this.customRoutes);\n            }\n\n            app.events.trigger('router:init');\n        },\n\n        /**\n         * Starts Backbone history which in turn starts routing the hashtag.\n         *\n         * See Backbone.history documentation for details.\n         */\n        start: function() {\n            if (!Backbone.History.started) {\n                Backbone.history.start();\n            }\n        },\n\n        stop: function() {\n            Backbone.history.stop();\n        },\n\n        /**\n         * Reset router.\n         * Stop Backbone.history and clean up routes.\n         * Re-initialize and start routing again.\n         */\n        reset: function() {\n            app.router.stop();\n            _routes = [];\n            Backbone.history.handlers = [];\n            app.router.init();\n            app.router.start();\n        },\n\n        /**\n         * Add routes into router.\n         *\n         * **Note:** Currently, Backbone stops after the first matching route.\n         * Therefore, the order of how custom routes are added is important.\n         *\n         * In general, the developer should add the more specific route first,\n         * so that the intended route gets called.\n         *\n         * For example, the route `MyRoute/create` will call `myRouteCreate` in\n         * the following code snippet:\n         *\n         *     var routes = [\n         *         {\n         *             name: 'myRouteCreate',\n         *             route: 'MyRoute/create',\n         *             callback: myRouteCreate\n         *         },\n         *         {\n         *             name: 'myRoute',\n         *             route: \"MyRoute(/:my_custom_route)\",\n         *             callback: myRoute\n         *         }\n         *     ];\n         *\n         * If the order of `myRouteCreate` and `myRoute` is reversed, triggering\n         * `MyRoute/create` will call `myRoute` with `:my_custom_route` set to\n         * `create`, which may not be intended.\n         *\n         * @param {Array} routes The ordered list of routes.\n         */\n        addRoutes: function(routes) {\n            if (!routes) return;\n            var newRoutes = routes.reverse();\n            _.each(newRoutes, function(route) {\n                this.route(route.route, route.name, route.callback);\n            }, this);\n        },\n\n        /**\n         * Retrieves the callback associated with the given name.\n         *\n         * @param {string} name The route to get the callback function.\n         * @returns {Function} The callback associated with this route name.\n         */\n        get: function (name) {\n            return this._routes[name];\n        },\n\n        /**\n         * Re-trigger the current route.\n         * Used to refresh the current layout/page without doing a hard refresh.\n         */\n        refresh: function(){\n            Backbone.history.loadUrl(Backbone.history.fragment);\n        },\n\n        /**\n         * Builds a route.\n         *\n         * This is a convenience function.\n         * If you need to override this, define a customBuildRoute function on\n         * `app.utils` and return empty string if you want to fallback to this\n         * definition of build route.\n         *\n         * @param {Core.Context|string} moduleOrContext The name of the module\n         * or a context object to extract the module from.\n         * @param {string} id The model's ID.\n         * @param {string} [action] Action name.\n         * @return {string} route The built route.\n         */\n        buildRoute: function(moduleOrContext, id, action) {\n            var route;\n\n            if (app.utils && _.isFunction(app.utils.customBuildRoute)) {\n                route = app.utils.customBuildRoute.apply(this, arguments);\n                if (!_.isEmpty(route)) {\n                    return route;\n                }\n            }\n\n            if (moduleOrContext) {\n                // If module is a context object, then extract module from it\n                route = (_.isString(moduleOrContext)) ? moduleOrContext : moduleOrContext.get(\"module\");\n\n                if (id) {\n                    route += \"/\" + id;\n                }\n\n                if (action) {\n                    route += \"/\" + action;\n                }\n            } else {\n                route = action;\n            }\n\n            return route;\n        },\n\n        // ----------------------------------------------------\n        // Route handlers\n        // ----------------------------------------------------\n\n        /**\n         * Handles `index` route.\n         *\n         * Loads `home` layout for `Home` module or `list` route with default module defined in app.config\n         */\n        index: function() {\n            app.logger.debug(\"Route changed to index\");\n            if (app.config.defaultModule) {\n                this.navigate(app.config.defaultModule, {trigger:true});\n            }\n            else if (app.acl.hasAccess('read', 'Home')) {\n                this.navigate('Home', {trigger:true});\n            }\n        },\n\n        /**\n         * Handles `list` route.\n         * @param module Module name.\n         */\n        list: function(module) {\n            if (!this._moduleExists(module)) {\n                return;\n            }\n            app.logger.debug(\"Route changed to list of \" + module);\n            app.controller.loadView({\n                module: module,\n                layout: \"records\"\n            });\n        },\n\n        /**\n         * Handles arbitrary layout for a module that doesn't have a record associated with the layout.\n         * @param module Module name.\n         * @param layout Layout name.\n         */\n        layout: function(module, layout) {\n            if (!this._moduleExists(module)) {\n                return;\n            }\n            app.logger.debug(\"Route changed to layout: \" + layout + \" for \" + module);\n            app.controller.loadView({\n                module: module,\n                layout: layout\n            });\n        },\n\n        /**\n         * Handles `create` route.\n         * @param module Module name.\n         */\n        create: function(module) {\n            if (!this._moduleExists(module)) {\n                return;\n            }\n            app.logger.debug(\"Route changed: create \" + module);\n            app.controller.loadView({\n                module: module,\n                create: true,\n                layout: \"edit\"\n            });\n        },\n\n        /**\n         * Handles `login` route.\n         */\n        login: function() {\n            app.logger.debug(\"Logging in\");\n            app.controller.loadView({\n                module: \"Login\",\n                layout: \"login\",\n                create: true\n            });\n\n            // Need to hide the megamenu here otherwise we get a login screen\n            // with a megamenu. This is done AFTER the login view loading since\n            // loadView fires a _render call on login.js, which rerenders the\n            // header in refreshAdditionalComponents().\n            app.events.trigger('app:login');\n\n            if(app.config.externalLogin) {\n                // This will attempt reauth\n                app.api.ping(null, {\n                    success: function() {\n                        // If we have success then show the megamenu again\n                        app.events.trigger('app:login:success');\n                        app.router.refresh();\n                    },\n                    error: function() {\n                        app.alert.show('needs_login_error', {\n                            level: 'error',\n                            messages: app.lang.getAppString('LBL_PORTAL_INVALID_CREDS_TITLE'),\n                            title: app.lang.get('LBL_PORTAL_INVALID_CREDS_TITLE')\n                        });\n                    }\n                });\n            }\n        },\n\n        /**\n         * Handles `logout` route.\n         */\n        logout: function(clear) {\n            if (!app.api.isAuthenticated()) {\n                // We don't want to store the #logout fragment in the URL\n                // history. This will re-direct to the root defined in the\n                // Backbone router, and replace the URL.\n                this.redirect('/');\n                return;\n            }\n\n            clear = (clear === \"1\");\n            app.logger.debug(\"Logging out: \" + clear);\n            app.logout({\n                complete() {\n                    app.router.navigate(\"#\");\n                    if (clear) {\n                        //We have to reload to clear any sensitive data from browser tab memory.\n                        window.location.reload();\n                    } else {\n                        if (app.config.externalLogin) {\n                            app.controller.loadView({\n                                module: \"Login\",\n                                layout: \"logout\",\n                                skipFetch: true,\n                                create: true\n                            });\n                        } else {\n                            app.router.login();\n                        }\n                    }\n                },\n                success(data) {\n                    app.events.trigger('app:logout:success', data);\n                },\n            }, clear);\n        },\n\n        /**\n         * Handles `record` route.\n         * @param {string} module Module name.\n         * @param {string} id Record ID. If `id` is `create`, it will load the create view.\n         * @param {string} [action] Action name (`edit`, etc.). Defaults to `detail` if not specified.\n         * @param {string} [layout] The layout to use for this route. Defaults to `record` if not specified.\n         */\n        record: function(module, id, action, layout) {\n            if (!this._moduleExists(module)) {\n                return;\n            }\n            var oldCollection = app.controller.context.get('collection'),\n                oldListCollection = app.controller.context.get('listCollection'),\n                opts = {\n                    module: module,\n                    layout: layout || \"record\",\n                    action: (action || \"detail\")\n                };\n\n            if (id !== \"create\") {\n                _.extend(opts, {modelId: id});\n            } else {\n                _.extend(opts, {create: true});\n                opts.layout = \"create\";\n            }\n\n            //If we come from a list view, we get the current collection\n            if (oldCollection && oldCollection.module === module && oldCollection.get(id)) {\n                opts.listCollection = oldCollection;\n            }\n\n            //If we come from a detail view, we need to get the cached collection\n            if (oldListCollection && oldListCollection.module === module && oldListCollection.get(id)) {\n                opts.listCollection = oldListCollection;\n            }\n\n            app.controller.loadView(opts);\n        },\n\n        redirect : function(route, options){\n            this.navigate(route, _.extend({trigger:true, replace:true}, options));\n        }\n    });\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/router.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    /**\n     * Language Helper.\n     *\n     * Provides interface to pull language strings out of a language label\n     * cache.\n     *\n     * @class Core.Language\n     * @alias SUGAR.App.lang\n     * @singleton\n     */\n    app.augment('lang', {\n\n        /**\n         * The display direction for the current language.\n         *\n         * @property {string}\n         */\n        direction: 'ltr',\n\n        /**\n         * Retrieves a string for a given key.\n         *\n         * This function searches the module strings first and falls back to the\n         * app strings.\n         *\n         * If the label is a template, it will be compiled and executed with the\n         * given `context`.\n         *\n         * @param {string} key Key of the string to retrieve.\n         * @param {string|Array} [module] Module the label belongs to. If an\n         *   array is passed, it will look through each module by the given\n         *   order, returning the first string whose key is found in the\n         *   module's language strings.\n         * @param {string|boolean|number|Array|Object} [context] The template context to pass to the\n         *   string/template in case you want to populate some values.\n         * @return {string} String for the given key or the `key` parameter if\n         *   the key is not found in language pack.\n         */\n        get: function(key, module, context) {\n            var str = this.getModString(key, module, context) ||\n                this.getAppString(key, context) ||\n                key;\n\n            return str;\n        },\n\n        /**\n         * Searches the module strings for a given key.\n         *\n         * @param {string} key Key of the string to retrieve.\n         * @param {string|Array} [module] Module the label belongs to. If an\n         *   array is passed, it will look through each module by the given\n         *   order, returning the first string whose key is found in the\n         *   module's language strings.\n         * @param {string|boolean|number|Array|Object} [context] The template context to pass to the\n         *   string/template in case you want to populate some values.\n         * @return {string|undefined} String for the given key from the module\n         *   language strings. `undefined` if not found.\n         */\n        getModString: function(key, module, context) {\n            var moduleString;\n\n            if (_.isArray(module)) {\n                _.find(module, function(moduleName) {\n                    moduleString = this._get('mod_strings', key, moduleName, context);\n                    return !_.isEmpty(moduleString);\n                }, this);\n            } else {\n                moduleString = this._get('mod_strings', key, module, context);\n            }\n\n            return moduleString;\n        },\n\n        /**\n         * Retrieves an application string for a given key.\n         *\n         * @param {string} key Key of the string to retrieve.\n         * @param {string|boolean|number|Array|Object} [context] The template\n         *   context to pass to the string/template in case you want to\n         *   populate some values.\n         * @return {string|undefined} String for the given key from language\n         *   strings. `undefined` if not found.\n         */\n        getAppString: function(key, context) {\n            return this._get('app_strings', key, null, context);\n        },\n\n        /**\n         * Retrieves an application list string or object.\n         *\n         * @param {string} key Key of the string to retrieve.\n         * @return {string|Object} String or object for the given key. If key\n         *   is not found, an empty object is returned.\n         */\n        getAppListStrings: function(key) {\n            var list = app.metadata.getStrings('app_list_strings')[key] || {};\n            if (_.isArray(list)) {\n                var obj = {};\n                _.each(list, function(tuple) {\n                    if (_.isString(tuple)) {\n                        obj[tuple] = tuple;\n                    }\n                    else if (_.isArray(tuple) && tuple.length === 2) {\n                        obj[tuple[0]] = tuple[1];\n                    }\n                });\n                list = obj;\n            }\n            return list;\n        },\n\n        /**\n         * Gets the translated module name (by default, in singular form).\n         *\n         * Falls back to the plural form if the singular form is not found, and\n         * eventually falls back to the `module` passed in.\n         *\n         * @param {string} module The module.\n         * @param {Object} [options] Options object for `getModuleName`.\n         * @param {boolean} [options.plural] Returns the plural form if `true`,\n         *   singular otherwise.\n         * @param {string} [options.defaultValue] Value to be returned if the\n         *   module language string is not found.\n         * @return {string} The module name.\n         */\n        getModuleName: function(module, options) {\n            options = options || {};\n            var name = !options.plural &&\n                this.getModString('LBL_MODULE_NAME_SINGULAR', module) ||\n                this.getModString('LBL_MODULE_NAME', module);\n\n            if (!name && !_.isUndefined(options.defaultValue)) {\n                name = this.get(options.defaultValue);\n            }\n\n            return name || module;\n        },\n\n        /**\n         * Returns the correct ordered array of keys for a given list.\n         * @param {string} key Key of the string to retrieve.\n         * @return {Array}\n         */\n        getAppListKeys: function(key) {\n            var keys = [],\n                list = app.metadata.getStrings('app_list_strings')[key] || {};\n            if (_.isArray(list)) {\n                _.each(list, function(tuple) {\n                    if (tuple.length === 2) {\n                        keys.push(tuple[0]);\n                    }\n                });\n            } else if (_.isObject(list)) {\n                keys = _.keys(list);\n            }\n            return keys;\n        },\n\n        /**\n         * Retrieves a string of a given type.\n         *\n         * If the label is a template, it will be compiled and executed with the given `context`.\n         * @param {string} type Type of string pack: `app_strings`, `app_list_strings`, `mod_strings`.\n         * @param {string} key Key of the string to retrieve.\n         * @param {string} [module] Module the label belongs to.\n         * @param {string|boolean|number|Array|Object} [context] Template context.\n         * @return {string|undefined} String for the given key.\n         * @private\n         */\n        _get: function(type, key, module, context) {\n            var str,\n                bundle = app.metadata.getStrings(type);\n\n            bundle = module ? bundle[module] : bundle;\n            if (!bundle || !_.isString(bundle[key])) {\n                return;\n            }\n\n            str = this._sanitize(bundle[key]);\n\n            if (!_.isUndefined(context) && (str.indexOf('{{') > -1)) {\n                key = 'lang.' + (module ? key + '.' + module : key);\n                var tpl = Handlebars.templates[key];\n                str = tpl ? tpl(context) : app.template.compile(key, str)(context);\n            }\n            return str;\n        },\n\n        /**\n         * Sanitizes a string.\n         *\n         * This function strips trailing colon.\n         *\n         * @param {string} str String to sanitize.\n         * @return {string} Sanitized string or `str` parameter if it's not a\n         *   string.\n         * @private\n         */\n        _sanitize: function(str) {\n            return (str.slice(-1) === ':') ? str.slice(0, -1) : str;\n        },\n\n        /**\n         * Gets the Sugar language code for the current app language.\n         *\n         * @return {string} The current app language code as defined in Sugar.\n         * (e.g. `en_us`, `pt_PT`)\n         */\n        getLanguage: function() {\n            return this._currentLanguage;\n        },\n\n        /**\n         * Sets app language code and syncs it with the server.\n         * @param {string} language language code such as `en_us`.\n         * @param {Function} [callback] Callback function to be called on\n         *   language set completes.\n         * @param {Object} [options] Extra options.\n         * @param {boolean} [options.noSync]\n         * - noSync: true if you don't need to fetch /metadata.\n         * - noUserUpdate: true if you don't need to update /me.\n         */\n        setLanguage: function(language, callback, options) {\n            var self = this;\n            options = options || {};\n            _.each(Handlebars.templates, function(value, key) {\n                if (key.indexOf('lang.') === 0) {\n                    delete Handlebars.templates[key];\n                }\n            });\n            if (options.noSync === true) {\n                this.updateLanguage(language);\n                return;\n            }\n\n            app.sync({\n                callback: function(err) {\n                    var langHasChanged = false;\n                    if (!err) {\n                        self.updateLanguage(language);\n                        langHasChanged = !app.api.isAuthenticated() && !options.noUserUpdate;\n                        app.cache.set('langHasChanged', langHasChanged);//persist even after reloads\n                    }\n                    if (callback) callback(err);\n                },\n                getPublic: !app.api.isAuthenticated(),\n                noUserUpdate: options.noUserUpdate || false,\n                language: language,\n                forceRefresh: true,  // Needed to make sure new labels are injected\n                metadataTypes: ['labels']\n            });\n        },\n\n        /**\n         * Updates language code and the display direction.\n         *\n         * @param {string} language Language code as defined in Sugar.\n         * (e.g. `en_us`, `pt_PT`)\n         */\n        updateLanguage: function(language) {\n            app.cache.set('lang', language);\n            app.user.setPreference('language', language);\n            this.setCurrentLanguage(language);\n            app.trigger('app:locale:change', language);\n        },\n\n        /**\n         * Sets the app default language to the language specified.\n         *\n         * See {@link #_defaultLanguage} for more information\n         *\n         * @param {string} language The Sugar language code to set the default\n         * language to. (e.g. `en_us`, `pt_PT`)\n         */\n        setDefaultLanguage: function(language) {\n            /**\n             * The default language of the app defined by\n             * {@link #setDefaultLanguage}. Use {@link #getDefaultLanguage} to\n             * retrieve this setting.\n             *\n             * @property {string}\n             * @member Core.Language\n             * @private\n             */\n            this._defaultLanguage = language;\n        },\n\n        /**\n         * Gets the default language set in the system.\n         *\n         * @return {string} The Sugar language code of the default language.\n         * (e.g. `en_us`, `pt_PT`)\n         */\n        getDefaultLanguage: function() {\n            return this._defaultLanguage;\n        },\n\n        /**\n         * Sets the current language to the language specified.\n         * Calls {@link #setDirection} with the new language code.\n         *\n         * See {@link #_currentLanguage} for more information.\n         *\n         * @param {string} language The language to set the current language to.\n         */\n        setCurrentLanguage: function(language) {\n            /**\n             * The language that is loaded by the app and defined by\n             * {@link #setCurrentLanguage}. Use {@link #getLanguage} to retrieve\n             * this setting.\n             *\n             * @property {string}\n             * @member Core.Language\n             * @private\n             */\n            this._currentLanguage = language;\n            this.setDirection(language);\n        },\n\n        /**\n         * Sets the {@link #direction} to the desired direction according to\n         * the language code specified.\n         *\n         * @fires `lang:direction:change` if the language direction has\n         * changed.\n         *\n         * @param {string} lang Language code that the direction is based on.\n         */\n        setDirection: function(lang) {\n            //FIXME: SC-3358 Should be getting the RTL languages from metadata.\n            var rtlLanguages = ['he_IL', 'ar_SA'],\n                isRTL = _.contains(rtlLanguages, lang),\n                prevDirection = this.direction;\n\n            this.direction = isRTL ? 'rtl' : 'ltr';\n\n            if (this.direction !== prevDirection) {\n                app.trigger('lang:direction:change');\n            }\n        }\n    });\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/language.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    // Key prefix used to identify metadata in the local storage.\n    var _keyPrefix = 'meta:';\n\n    // Metadata memory cache\n    var _metadata = {};\n\n    //History of md types we have loaded\n    var _mdLoaded = {};\n\n    //Used to keep track if we are currently updating the metadata and prevent premature metadata validation from\n    //interval functions.\n    var _syncing = false;\n\n    function _setHash(data, isPublic) {\n        var pKey = isPublic ? 'public:' : '';\n        app.cache.set(_keyPrefix + pKey + 'hash', data._hash);\n    }\n\n    function _cacheMeta(data) {\n        app.cache.set(_keyPrefix + 'data', data);\n    }\n\n    function _getCachedMeta() {\n        return app.cache.get(_keyPrefix + 'data');\n    }\n\n    // Adds the language strings to the server metadata object.\n    // - serverMetadata Metadata from /metadata GET (public or not).\n    // ** Note we take advantage of pass be reference thus no return\n    // - labels Object which contains our language strings.\n    function _injectLabels(serverMetadata, labels) {\n        _.each(labels, function(value, key) {\n            if (key !== '_hash') {\n                serverMetadata[key] = labels[key];\n            }\n        });\n        // meta.labels longer needed; don't want it in _metadata or cache!\n        delete serverMetadata.labels;\n    }\n\n    // Parses the labels property of metadata which contains\n    // URL to a JSON file with our language strings.\n    // - metadata Metadata returned from /metadata GET\n    function _fetchLabels(metadata, options) {\n        var labels, currentLanguage, langStringsUrl,\n            userLang = app.user.getLanguage();\n\n        // Grab the lang strings\n        labels = metadata.ordered_labels || metadata.labels;\n\n        // Set the default language\n        app.lang.setDefaultLanguage(labels['default']);\n\n        // Since, at this stage, we may or may not have obtained our language yet,\n        // the labels property contains a 'default' property which we can use as a fallback.\n        if (options.language && labels[options.language]) {\n            currentLanguage = options.language;\n        } else if (labels[userLang]) {\n            currentLanguage = userLang;\n        } else {\n            currentLanguage = app.lang.getDefaultLanguage();\n            // since the user's preferred language does not exist, update it to the default language\n            if (app.user.id) {\n                app.user.updateLanguage(currentLanguage);\n            }\n        }\n        app.lang.setCurrentLanguage(currentLanguage);\n\n        langStringsUrl = app.utils.buildUrl(labels[currentLanguage]);\n\n        app.api.call('read', langStringsUrl, null, {\n            success: function(labelsData) {\n                // In case server is not set up to serve mime-type correctly on .json files,\n                // e.g. honey-b seems to be misconfigured (probably a \"popular misconfiguration\")\n                try {\n                    labelsData = _.isString(labelsData) ? JSON.parse(labelsData) : labelsData;\n                }\n                catch (ex) {\n                    app.logger.fatal('Failed to parse labels data: ' + ex);\n                    options.error({\n                        code: 'sync_failed',\n                        label: 'ERR_SYNC_FAILED'\n                    });\n                    return;\n                }\n\n                options.success(labelsData);\n            },\n            error: function(err) {\n                //Force a sync fail to prevent possible infinite loops\n                err.code = 'sync_failed';\n                err.label = 'ERR_SYNC_FAILED';\n                options.error(err);\n            }\n        });\n    }\n\n    // Initializes custom layouts/views templates and controllers\n    function _initCustomComponents(module, moduleName) {\n        var self = this,\n            platforms = (app.config.platform !== 'base') ? ['base', app.config.platform] : ['base'];\n\n        _.each({'layout': 'layout', 'view': 'view', 'fieldTemplate': 'field', 'data': 'data'}, function(type, key) {\n\n            // Order and initialize controllers. If this metadata is separated by platform, we need to\n            // sort each extended type, but, also take in to consideration the \"platform weighting\" of\n            // said type (hence, 'base' is always first platform!). Controllers are now only sent via jssource.\n            if (self._metaTypeIsSeparatedByPlatform(module, key, platforms)) {\n                _.each(platforms, function(platform) {\n                    var components = module[key + 's'][platform];\n                    self._sortAndDeclareComponents(components, type, moduleName, platform);\n                });\n            }\n\n            // Next pull any templates\n            _.each(module[key + 's'], function(def, name) {\n                if (type === 'view' && def.templates) {\n                    _.each(def.templates, function(tplSource, tplName) {\n                        var force = (name === tplName);\n                        tplName = force ? tplName : name + '.' + tplName;\n                        app.template.setView(tplName, moduleName, tplSource, true);\n                    });\n                }\n                if (type === 'layout' && def.templates) {\n                    _.each(def.templates, function(tplSource, key) {\n                        key = (name === key) ? key : name + '.' + key;\n                        app.template.setLayout(key, moduleName, tplSource, true);\n                    });\n                }\n                if (type === 'field' && def.templates) {\n                    _.each(def.templates, function(template, view) {\n                        app.template.setField(name, view, moduleName, template, true);\n                    });\n                }\n            });\n        }, this);\n    }\n\n    /**\n     * The metadata manager is responsible for parsing and returning various\n     * metadata to components that request it.\n     *\n     * @class Core.MetadataManager\n     * @alias SUGAR.App.metadata\n     * @singleton\n     */\n    app.augment('metadata', {\n\n        /**\n         * Map of fields types.\n         *\n         * Specifies correspondence between field types and field widget types.\n         */\n        fieldTypeMap: {\n            varchar: 'text',\n            datetime: 'datetimecombo',\n            multienum: 'enum',\n            text: 'textarea',\n            decimal: 'float'\n        },\n\n        /**\n         * Patches view fields' definitions.\n         * @param moduleName Module name\n         * @param module Module definition\n         * @private\n         */\n        _patchMetadata: function(moduleName, module) {\n\n            if (!module || module._patched === true) {\n                return module;\n            }\n\n            _.each(module.views, function(view) {\n                if (view.meta) {\n                    _.each(view.meta.panels, function(panel) {\n                        panel.fields = this._patchFields(moduleName, module, panel.fields);\n                    }, this);\n                }\n            }, this);\n\n            module._patched = true;\n            return module;\n        },\n\n        _patchFields: function(moduleName, module, fields) {\n            var self = this;\n            _.each(fields, function(field, fieldIndex) {\n                var name = _.isString(field) ? field : field.name;\n                var fieldDef = module.fields[name];\n\n                if (field.fields) {\n                    field.fields = self._patchFields(moduleName, module, field.fields);\n                    return;\n                }\n\n                if (!_.isEmpty(fieldDef)) {\n                    // Create a definition if it doesn't exist\n                    if (_.isString(field)) {\n                        field = { name: field };\n                    }\n\n                    // Flatten out the viewdef, i.e. put 'displayParams' onto the viewdef\n                    // TODO: This should be done on the server-side on my opinion\n\n                    if (_.isObject(field.displayParams)) {\n                        _.extend(field, field.displayParams);\n                        delete field.displayParams;\n                    }\n\n                    // Assign type\n                    field.type = field.type || fieldDef.custom_type || fieldDef.type || 'base';\n                    // Patch type\n                    field.type = self.fieldTypeMap[field.type] || field.type;\n                    // Patch label\n                    field.label = field.label || fieldDef.vname || field.name;\n\n                    fields[fieldIndex] = field;\n                }\n                else {\n                    // patch filler string fields to empty base fields of detail view\n                    if (field === '') {\n                        field = {\n                            view: 'detail'\n                        };\n                        fields[fieldIndex] = field;\n                    }\n                    // Ignore view fields that don't have module field definition\n                }\n\n            }, this);\n            return fields;\n        },\n\n        /**\n         * Sorts components in the order they should be declared as classes. This is required since a parent\n         * widget class must likewise be declared before a child that depends on it.\n         * @param {String} type Metadata type e.g. field, view. layout\n         * @param  {Array} components List of modules\n         * @param  {String} module Module name\n         * @return {Array} Sorted components\n         */\n        _sortControllers: function(type, components, module) {\n            var updated = {}, nameMap = {}, entries = {},\n                updateWeights = function(entry) {\n                    var controller = entry.controller;\n\n                    // `base` will always be first\n                    if (entry.type === 'base') {\n                        entries['Base' + app.utils.capitalize(type)].weight = -99999;\n                    }\n\n                    // Here we decrement the weight of any extended components. Note, that if sorting platform\n                    // specific components (e.g. portal), and one \"extends from\" a base component, that parent\n                    // will have already been declared since _sortControllers first gets called with base components\n                    if (_.isObject(controller) && _.isString(controller.extendsFrom) &&\n                        entries[controller.extendsFrom] && !updated[controller.extendsFrom]) {\n                        // Negative weights as we want to load those first\n                        entries[controller.extendsFrom].weight--;\n                        updated[controller.extendsFrom] = true;\n                        updateWeights(entries[controller.extendsFrom]);\n                    }\n                };\n\n            // Start by creating a mapping from short name to final class name\n            // and precompiling all the controllers that are strings\n            _.each(components, function(entry, name) {\n                if (entry.controller) {\n                    var controller = entry.controller,\n                        className = (module || '') + app.utils.capitalizeHyphenated(name) + app.utils.capitalize(type);\n\n                    nameMap[className] = name;\n\n                    if (_.isString(controller)) {\n                        try {\n                            controller = eval(\"[\" + controller + \"][0]\"); // jshint ignore:line\n                        } catch (e) {\n                            app.logger.error('Failed to eval view controller for ' + className + ': ' + e + ':\\n' + entry.controller);\n                        }\n                    } else {\n                        /**\n                         * To create a layout or a view in a layout definition metadata file, the rules are:\n                         *     the name defines which metadata to use\n                         *     the type defines which js controller to use\n                         */\n                        // Log warnings when controllers for layouts/views have nothing else but \"extendsFrom\"\n                        var emptyController = type !== 'field' &&\n                            Object.getOwnPropertyNames(controller).length === 1 &&\n                            controller.hasOwnProperty('extendsFrom');\n                        if (emptyController) {\n                            app.logger.warn('Instead of creating an empty js controller `' + className +\n                                '` and specify the parent with extendsFrom, please use `type` property in the metadata `' + name +\n                                '`, to specify controller to use. It will allow you to delete your empty controllers and save memory.');\n                        }\n                    }\n\n                    entries[className] = {\n                        type: name,\n                        controller: controller,\n                        weight: 0\n                    };\n                }\n            });\n\n            // Replace standard base class with custom one if it exists\n            _.each(entries, function(entry, className) {\n                var controller = entry.controller,\n                    customExtendsFrom;\n                if (_.isObject(controller) && _.isString(controller.extendsFrom)) {\n                    customExtendsFrom = 'Custom' + controller.extendsFrom;\n                    if (customExtendsFrom in entries && className != customExtendsFrom) {\n                        controller.extendsFrom = customExtendsFrom;\n                    }\n                }\n            });\n\n            //Next calculate all the weights\n            _.each(entries, function(entry) {\n                updated = {};\n                updateWeights(entry);\n            });\n\n            return _.sortBy(entries, 'weight');\n        },\n\n        /**\n         * Helper to sort and declare components.\n         * @param  {Array} components\n         * @param  {String} type Type of component e.g. view, field, etc.\n         * @param  {String} moduleName Name of module\n         * @param  {String} platform Platform\n         */\n        _sortAndDeclareComponents: function(components, type, moduleName, platform) {\n            var entries, self = this;\n\n            if (!_.isUndefined(components) && components) {\n                entries = self._sortControllers(type, components, moduleName);\n                if (type === 'data') {\n                    var model, collection;\n                    _.each(entries, function(entry) {\n                        if (entry.type === 'model') {\n                            model = entry.controller;\n                        } else if (entry.type === 'collection') {\n                            collection = entry.controller;\n                        }\n\n                    });\n                    app.data.declareModelClass(moduleName, null, platform, model);\n                    app.data.declareCollectionClass(moduleName, platform, collection);\n                }\n                else {\n                    _.each(entries, function(entry) {\n                        app.view.declareComponent(type, entry.type, moduleName, entry.controller, true, platform);\n                    });\n                }\n            }\n        },\n        /**\n         * Helper to determine if the metadata type is separated by platforms\n         * e.g. <DATAOBJ>.views.portal.record.controller\n         * @param  {Object} data The object to check.\n         * @param  {String} type 'view', 'field', 'layout', etc.; will be pluralized internally\n         * @param  {Array} platforms List of currently loaded platforms e.g. ['base','portal']\n         * @return {Boolean} Indicating whether or not this meta type is separated by platform type\n         */\n        _metaTypeIsSeparatedByPlatform: function(data, type, platforms) {\n            if (!_.isUndefined(data[type + 's'])) {\n                // Iterate all possible platforms searching if meta type has a platform key\n                for (var i = 0; i < platforms.length; i++) {\n                    if (!_.isUndefined(data[type + 's'][platforms[i]])) {\n                        // Edge case: we have a field.base and might eventually have view.base etc.\n                        // (the field is actually named 'base'!) we're instead looking for: fields.base.x.controller\n                        if (_.isUndefined(data[type + 's'][platforms[i]].controller)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        },\n        /**\n         *\n         * @param data\n         * @private\n         */\n        _declareClasses: function(data) {\n            // Base components are always loaded first (so ordering of the following array matters!).\n            var self = this,\n                platforms = (app.config.platform !== 'base') ? ['base', app.config.platform] : ['base'];\n\n            // Our root level metadata views/fields/layouts do not have separate platforms (whereas our\n            // generated jssource controllers are separated by platform). Today, only jssource has controllers.\n            // Declare field, view, layout classes that have custom controllers\n            _.each(['field', 'view', 'layout', 'data'], function(type) {\n                var components;\n\n                // Our root level metadata views/fields/layouts are not separated by platforms (whereas the\n                // \"generated jssource controllers\" are). Today, only jssource has controllers.\n                if (self._metaTypeIsSeparatedByPlatform(data, type, platforms)) {\n                    // Components of each platform are sorted amongst themselves. Base MUST be first (as defined in\n                    // our platforms list above). This way, all base components are guaranteed to be initialized first.\n                    _.each(platforms, function(platform) {\n                        components = data[type + 's'][platform];\n                        self._sortAndDeclareComponents(components, type, null, platform);\n                    }, this);\n                }\n            }, this);\n\n            // Patch module metadata, compile templates, and declare components for custom layouts and views\n            _.each(data.modules, function(entry, module) {\n                _initCustomComponents.call(this, entry, module);\n            }, this);\n        },\n\n        /**\n         * Gets metadata for all modules.\n         * @return {Object} Metadata for all modules.\n         */\n        getModules: function() {\n            return _metadata.modules;\n        },\n\n        /**\n         * Gets list of module names that need to be hidden in subpanels\n         * @return {Object} Collection of module names that are hidden in subpanels\n         */\n        getHiddenSubpanels: function() {\n            return _metadata.hidden_subpanels;\n        },\n\n        /**\n         * Gets module metadata.\n         * @param {String} module Module name.\n         * @param {String} type (optional) Metadata type.\n         * @return {Object} Module metadata of specific type if type is specified. Otherwise, module's overall metadata.\n         */\n        getModule: function(module, type) {\n            var metadata = this.getModules();\n            if (metadata) metadata = metadata[module];\n            if (metadata && type) metadata = metadata[type];\n            return metadata;\n        },\n\n        /**\n         * Gets a relationship definition.\n         * @param {String} name Relationship name.\n         * @return {Object} Relationship metadata or nothing if not found.\n         */\n        getRelationship: function(name) {\n            return _metadata.relationships ? _metadata.relationships[name] : null;\n        },\n\n        /**\n         * Gets the field def for a given Module's field (or all fields if none\n         * is supplied).\n         *\n         * @param {Object} options.\n         * @param {string} options.module The module that we want to get the\n         *   vardefs.\n         * @param {string} [options.name] The field name to get the field def.\n         * @return {Object|undefined} Field def for the given Module, or all\n         *   fields if no `options.name` is supplied.\n         */\n        getField: function (options) {\n            if (_.isString(options) || options === void 0) {\n                var type = options;\n                app.logger.warn('`Core.Metadata#getField` signature is deprecated since 7.8 ' +\n                    'and will be removed in 7.9. Please update your code.');\n                var metadata = _metadata.fields ? (_metadata.fields[type] || _metadata.base) : null;\n                return metadata ? app.metadata.copy(metadata, { field: type }) : metadata;\n            }\n\n            if (!options.module) {\n                throw new Error('Cannot get vardefs without a module');\n            }\n\n            var fields = this.getModule(options.module, 'fields');\n            if (fields && options.name) {\n                return fields[options.name];\n            }\n\n            return fields;\n        },\n\n        /**\n         * Gets view metadata.\n         * @param {string} module Module name.\n         * @param {string} [view] View name.\n         * @param {string} [loadModule] The module that should be considered base. Defaults to core metadata.\n         * @return {Object|null} View metadata if `view name` is specified.\n         *   Otherwise, metadata for all views of the given `module`.\n         *   If the optional view parameter is provided we instead return `null`\n         *   if view for module not found.\n         */\n        getView: function (module, view, loadModule) {\n\n            if (!module && !view) {\n                return _metadata.views;\n            }\n\n            var meta = this.getModule(module, 'views');\n\n            if (view) {\n                if (meta && meta[view] && meta[view].meta !== void 0) {\n                    meta = meta[view].meta;\n                } else if (loadModule) {\n                    meta = this.getModule(loadModule, 'views');\n                    meta = meta && meta[view] ? meta[view].meta : null;\n                } else if (_metadata.views && _metadata.views[view]) {\n                    meta = _metadata.views[view].meta;\n                } else {\n                    meta = null;\n                }\n            }\n\n            return meta ? app.metadata.copy(meta, { module: module, view: view }) : meta;\n        },\n\n        /**\n         * Gets layout metadata.\n         * @param {String} module Module name.\n         * @param {string} [layout] Layout name.\n         * @param {string} [loadModule] The module that should be considered base. Defaults to core metadata.\n         * @return {Object|null} Layout metadata if `layout` name is specified. Otherwise, metadata for all layouts of the given module.\n         * If the optional `layout` parameter is provided we instead return `null` if layout for module not found.\n         */\n        getLayout: function (module, layout, loadModule) {\n\n            if (!module && !layout) {\n                return _metadata.layouts;\n            }\n\n            var meta = this.getModule(module, 'layouts');\n\n            if (layout) {\n                if (meta && meta[layout] && meta[layout].meta !== void 0) {\n                    meta = meta[layout].meta;\n                } else if (loadModule) {\n                    meta = this.getModule(loadModule, 'layouts');\n                    meta = meta && meta[layout] ? meta[layout].meta : null;\n                } else if (_metadata.layouts && _metadata.layouts[layout]) {\n                    meta = _metadata.layouts[layout].meta;\n                } else {\n                    meta = null;\n                }\n            }\n\n            return meta ? app.metadata.copy(meta, { module: module, layout: layout }) : meta;\n        },\n\n        /**\n         * Gets an array of module names.\n         *\n         * The method signature changed.\n         * It used to accept a `visible` and `access` params, params are now\n         * contained into a single `options` object. The old signature is still\n         * supported for backward compatibility but is deprecated.\n         *\n         * @param {Object} [options] Additional options.\n         * @param {string} [options.filter] Returns only modules\n         *   that have this property enabled.\n         * @param {string} [options.access] Returns only modules\n         *   the user has permission to perform this action on.\n         *\n         * @return {Array} List of module names sorted by user settings.\n         */\n        getModuleNames: function(options) {\n\n            // List of available filters (and opposite filters)\n            var filters = [\n                'enabled', '!enabled',\n                'visible', '!visible',\n                'display_tab', '!display_tab',\n                'show_subpanels', '!show_subpanels',\n                'quick_create', '!quick_create'\n            ];\n\n            options = options || {};\n            var moduleList = [];\n\n            // Clients may call an old version of the API that do not return\n            // _metadata.modules_info\n            var oldClient = _.isUndefined(_metadata.modules_info);\n            if (oldClient) {\n                moduleList = _.clone(app.user.get('module_list'));\n                if (options.access) {\n                    moduleList = _.filter(moduleList, function(module) {\n                        return app.acl.hasAccess(options.access, module);\n                    });\n                }\n                return moduleList || [];\n            }\n\n            var filter,\n                displayTabFilter = false;\n            if (options.filter) {\n                if (!_.isArray(options.filter)) {\n                    options.filter = [options.filter];\n                }\n                filter = [];\n                _.each(options.filter, function(f) {\n                    if (f && _.indexOf(filters, f) > -1) {\n                        filter.push(f);\n                        displayTabFilter = (f === 'display_tab');\n                    } else if (f) {\n                        app.logger.warn('Can\\'t filter getModuleNames by ' + f);\n                    }\n                });\n                if (_.isEmpty(filter)) {\n                    filter = undefined;\n                }\n            }\n\n            moduleList = _.chain(_metadata.modules_info)\n                .keys()\n                .without('_hash')\n                .value();\n\n            if (filter) {\n                _.each(filter, function(f) {\n                    var opposite = f.charAt(0) === '!';\n                    if (opposite) {\n                        // Get the opposite list and take the difference.\n                        var oppositeList = app.metadata.getModuleNames({\n                            filter: f.substring(1),\n                            access: options.access\n                        });\n                        moduleList = _.difference(moduleList, oppositeList);\n                    } else {\n                        // Filter the list\n                        moduleList = _.filter(moduleList, function(module) {\n                            return _metadata.modules_info[module][f];\n                        });\n                    }\n                });\n            }\n\n            if (!_.isEmpty(app.user.get('module_list'))) {\n                if (displayTabFilter) {\n                    moduleList = _.intersection(app.user.get('module_list'), moduleList);\n                } else if (!filter) {\n                    // Preserve order of user list\n                    moduleList = _.union(app.user.get('module_list'), moduleList);\n                }\n            }\n\n            if (options.access) {\n                moduleList = _.filter(moduleList, function(module) {\n                    return app.acl.hasAccess(options.access, module);\n                });\n            }\n\n            return moduleList;\n        },\n\n        /**\n         * Gets language strings for a given type.\n         * @param {String} type Type of string pack: `app_strings`, `app_list_strings`, `mod_strings`.\n         * @return Dictionary of strings.\n         */\n        getStrings: function(type) {\n            return _metadata[type] || {};\n        },\n\n        /**\n         * Gets FullModuleList\n         * @return Full module list.\n         */\n        getFullModuleList: function() {\n            return _metadata.full_module_list || {};\n        },\n\n        /**\n         * Gets Config.\n         *\n         * @return Dictionary of Configs.\n         */\n        getConfig: function() {\n            return _metadata.config || {};\n        },\n\n        /**\n         * Gets the\n         * @return {String}\n         */\n        getBaseCurrencyId: function() {\n            // TODO this should be set on the _metadata\n            return '-99';\n        },\n\n        /**\n         * Gets a currency\n         *\n         * @param {String} currencyId\n         * @return {Object} currency object\n         */\n        getCurrency: function(currencyId) {\n            return this.getCurrencies()[currencyId];\n        },\n\n        /**\n         * Gets currencies.\n         * @return {Object} Currency dictionary.\n         */\n        getCurrencies: function() {\n            return _metadata.currencies || {};\n        },\n\n        /**\n         * Gets company logo url\n         * @return {string} logo url\n         */\n        getLogoUrl: function() {\n            return _metadata.logo_url;\n        },\n\n        /**\n         * Gets server information.\n         * @return {Object} Server information.\n         */\n        getServerInfo: function() {\n            return _metadata.server_info || {};\n        },\n\n        /**\n         * Gets the module tab mapping for megamenu\n         * @return {Object} Mapping of module: mappedModule\n         */\n        getModuleTabMap: function() {\n            return _metadata.module_tab_map || {};\n        },\n\n        /**\n         * Gets the mapped module name for a menu item if one exists. Otherwise\n         * gets the module that was passed in.\n         * @param  {String} module The module to get the mapped module for\n         * @return {String}\n         */\n        getTabMappedModule: function(module) {\n            var map = this.getModuleTabMap();\n            return map[module] || module;\n        },\n\n        /**\n         * Gets the list of filter operators.\n         *\n         * If any filter operators of a certain field type are defined at module\n         * level, these will take precedence over the ones available on core,\n         * thus completely overriding the latter.\n         *\n         * @param {string} [module] The module to get the filters for.\n         * @return {Object} The list of filter operators.\n         */\n        getFilterOperators: function(module) {\n            var filters = _metadata.filters && _metadata.filters.operators && _metadata.filters.operators.meta || {};\n            var moduleData = module && this.getModule(module, 'filters');\n            var moduleFilters = moduleData && moduleData.operators && moduleData.operators.meta;\n\n            if (moduleFilters) {\n                return _.extend({}, filters, moduleFilters);\n            }\n\n            return filters;\n        },\n\n        /**\n         * Gets metadata object\n         *\n         * @return {Object}\n         */\n        get: function() {\n            return _metadata;\n        },\n\n        /**\n         * Gets the list of dropdown keys that can be used when modifying a record\n         * @param  {String} dropdown The dropdown field to get the filter for\n         * @return {Object}\n         */\n        getEditableDropdownFilter: function(dropdown) {\n            var filters = _metadata.editable_dropdown_filters;\n            if (filters && filters[dropdown]) {\n                return app.metadata.copy(filters[dropdown]);\n            }\n\n            return {};\n        },\n\n        /**\n         * Copies a metadata fragment.\n         *\n         * The default implementation performs deep copy. Client apps may override this behavior.\n         * @param {Object} meta Metadata object to be copied.\n         * @param {Object} options(optional) Options that describe the type of metadata to copy.\n         * The default implementation does not use them as it always performs deep copy regardless of metadata type.\n         * @return {Object} Deep copy of metadata.\n         */\n        copy: function(meta, options) {\n            return app.utils.deepCopy(meta);\n        },\n\n        /**\n         * Sets the metadata.\n         *\n         * By default this function is used by MetadataManager to translate server responses into metadata\n         * usable internally. The currently set metadata is preserved and extended by new metadata unless\n         * `reset` parameter equals to `true`.\n         * @param {Object} data Metadata payload returned by the server.\n         * @param {Boolean} isPublic Flag indicating if the public metadata must be fetched.\n         * @param {Boolean} reset Flag indicating if the the current metadata must be deleted.\n         */\n        set: function(data, isPublic, reset) {\n\n            // Patch module metadata, compile templates, and declare components for custom layouts and views\n            _.each(data.modules, function(entry, module) {\n                this._patchMetadata(module, entry);\n            }, this);\n\n            this._declareClasses(data);\n\n            // Update application configuration\n            app.config = _.extend(app.config || {}, data.config);\n\n            // Compile templates if metadata has been changed\n            app.template.set(data, (data._hash && data._hash != this.getHash(isPublic)));\n\n            if (!_.isEmpty(data._hash))\n                _setHash(data, isPublic);\n\n            if (!reset) {\n                var overrideKeys = data._override_values || [];\n                delete(data._override_values);\n                // Keep whatever we have and extend it with new stuff\n                _.each(data, function(value, key) {\n                    _metadata[key] = (_.isObject(value) && !_.contains(overrideKeys, key)) ?\n                        _.extend(_metadata[key] || {}, value) :\n                        value;\n                });\n            }\n            else {\n                _metadata = data;\n            }\n\n            if (app.config.cacheMeta && !isPublic) {\n                _cacheMeta(_metadata);\n            }\n\n            if (app.config.env != 'prod') {\n                this._dev_data = _metadata;\n            }\n        },\n\n        /**\n         * Gets metadata hash.\n         * @param {Boolean} isPublic Flag indicating if the hash public metadata is requested (`true`).\n         * @return {String} Metadata hash tag.\n         */\n        getHash: function(isPublic) {\n            var key = isPublic ? (_keyPrefix + 'public:hash') : (_keyPrefix + 'hash');\n            return app.cache.get(key) || _metadata._hash || '';\n        },\n\n        /**\n         * Syncs metadata from the server. Saves the metadata to the local cache.\n         * @param {Function} callback (optional) Callback function to be executed after sync completes.\n         * @param {Object} options (optional) Sync call options currently supports public:true to get public metadata.\n         */\n        sync: function(callback, options) {\n            _syncing = true;\n            options = options || {};\n            options.params = options.params || {};\n\n            var self = this,\n                metadataTypes = options.metadataTypes || (options.getPublic ? app.config.publicMetadataTypes : app.config.metadataTypes) || [],\n                errorCallback = function(error) {\n                    app.logger.debug('Failed fetching metadata');\n                    if (!options.getPublic) {\n                        app.error.handleHttpError(error);\n                    }\n                    callback.call(self, error);\n                },\n                cb = callback;\n\n            // Force _syncing to be false no matter how we exit this function\n            callback = function(p) {\n                _syncing = false;\n                if (_.isFunction(cb)) cb(p);\n            };\n\n            app.api.getMetadata({types: metadataTypes, callbacks: {\n                success: function(metadata) {\n                    var compatible;\n                    options = options || {};\n\n                    if (!_.isEmpty(metadata)) {\n                        app.logger.debug('Updating metadata');\n                        if (_mdLoaded[options.getPublic ? 'public:md' : 'md'] &&\n                            self.getHash(options.getPublic) == metadata._hash && !options.forceRefresh\n                        ) {\n                            app.logger.debug('Skipping update as metadata hash matches');\n                            return callback.call(self);\n                        }\n\n                        //If the response contains server_info, we need to run a compatibility check\n                        if (_.isEmpty(metadataTypes) || _.include(metadataTypes, 'server_info') && !options.getPublic) {\n                            compatible = app.isServerCompatible(metadata.server_info);\n                            //If compatible wasn't true, it will be set to an error string and we need to bomb out\n                            if (compatible !== true) {\n                                return callback(compatible);\n                            }\n                        }\n\n                        _mdLoaded[options.getPublic ? 'public:md' : 'md'] = true;\n\n                        if (metadata.jssource) {\n                           self._loadJSSource(metadata, options, callback, errorCallback, self);\n                        } else {\n                            // Some clients may not want jssource (e.g. Nomad)\n                            if (metadata.labels || metadata.ordered_labels) {\n                                _fetchLabels(metadata, {\n                                    language: options.language,\n                                    success: function(labelsData) {\n                                        _injectLabels(metadata, labelsData);\n                                        self.set(metadata, options.getPublic);\n                                        callback.call(self);\n                                    },\n                                    error: errorCallback\n                                });\n                            } else {\n                                callback.call(self);\n                            }\n                        }\n                    } else {\n                        callback.call(self, {\n                            code: 'sync_failed',\n                            label: 'ERR_SYNC_FAILED'\n                        });\n                    }\n                },\n                error: errorCallback\n            }, public: options.getPublic, params: options.params});\n        },\n\n        /**\n         * Used to check if a metadata sync is currently in progress.\n         * @return {Boolean} true if a sync is in progress.\n         */\n        isSyncing: function() {\n            return _syncing;\n        },\n\n        _loadJSSource: function(metadata, options, callback, errorCallback, self) {\n            var scriptEl,\n               loadJS = this._checkJSSourceUpdated(metadata, !!options.getPublic);\n\n            //In the event of a hard reload, we can just stop the metadata sync\n            if (loadJS === 'reload') {\n                return app.utils.hardRefresh();\n            }\n            else if (loadJS) {\n                SUGAR.jssource = false;\n                scriptEl = document.createElement(\"script\");\n                scriptEl.src = app.utils.buildUrl(metadata.jssource);\n\n                document.head.appendChild(scriptEl);\n            }\n\n            async.parallel([\n                function(cb) {\n                    if (loadJS) {\n                        app.utils.doWhen('SUGAR.jssource', function() {\n                            self._declareClasses(SUGAR.jssource);\n                            cb();\n                        });\n                    } else {\n                        cb();\n                    }\n                },\n                function(cb) {\n                    _fetchLabels(metadata, {\n                        language: options.language,\n                        success: function(labelsData) {\n                            // Injects lang strings in server metadata. Must do this before the call to self.set in\n                            // case it's overridden by a client (bad!) which expects all meta properties in metadata.\n                            _injectLabels(metadata, labelsData);\n                            self.set(metadata, options.getPublic);\n                            cb();\n                        },\n                        error: function() {\n                            errorCallback.apply(self, arguments);\n                            cb();\n                        }\n                    });\n                }\n            ], () => {\n                if (callback) {\n                    callback.call(self);\n                }\n            });\n        },\n\n        /**\n         * Verifies that the jssource URL is new. If js was already loaded, 'reload' is returned to ensure the page\n         * loads the new javascript classes correctly.\n         * @param {object} metadata\n         * @param {boolean} isPublic\n         * @return {bool|String} true if the jssource shoudl be loaded, false if the jssource was already loaded,\n         *  and 'reload' if jssource was previously loaded from another URL\n         * @private\n         */\n        _checkJSSourceUpdated: function(metadata, isPublic) {\n            if (isPublic) {\n                //If we already loaded a JS source, we either need to clear memory for the new one,\n                //or we don't need to load the js file because it hasn't changed\n                if (this._publicJSSourceFile) {\n                    if (this._publicJSSourceFile != metadata.jssource) {\n                        return 'reload';\n                    }\n                    return false;\n                } else {\n                    this._publicJSSourceFile = metadata.jssource;\n                    return true;\n                }\n            }\n            //In private reload, if public changed, we still need a refresh\n            if (metadata.jssource_public && this._publicJSSourceFile &&\n                metadata.jssource_public != this._publicJSSourceFile\n            ) {\n                app.utils.hardRefresh();\n                return 'reload';\n            }\n            //Finally verify the private jssource file\n            if (this._jsSourceFile) {\n                if (this._jsSourceFile != metadata.jssource) {\n                    return 'reload';\n                }\n                return false;\n            }\n            // Update the private jssource file so that we don't reload it again\n            this._jsSourceFile = metadata.jssource;\n            return true;\n        },\n\n        init: function() {\n            _.bindAll(this, 'storageHandler');\n\n            // For more information about the `storage` event, see\n            // https://developer.mozilla.org/en-US/docs/Web/Events/storage\n            window.addEventListener('storage', this.storageHandler);\n\n            // Load metadata from local storage upon app initialization\n            if (app.config.cacheMeta) {\n                var data = _getCachedMeta();\n                if (data) this.set(data, false);\n            }\n            app.events.on('cache:clean', function(cb) {\n                cb([\n                    _keyPrefix + 'public:hash',\n                    _keyPrefix + 'hash',\n                    _keyPrefix + 'data'\n                ]);\n            });\n        },\n\n        /**\n         * Checks to see if the metadata needs to sync with the server.\n         */\n        storageHandler: function() {\n\n            if (!_syncing && ((this.getHash() != _metadata._hash && _mdLoaded.md) ||\n                (\n                    app.api.getUserprefHash() && app.user.get('_hash') &&\n                    app.api.getUserprefHash() != app.user.get('_hash')\n                )\n            )) {\n                _syncing = true;\n                _mdLoaded.md = false;\n                app.sync({\n                    getPublic: !app.api.isAuthenticated()\n                });\n            }\n        },\n\n        /**\n         * Purges metadata from the persistent cache.\n         */\n        clearCache: function() {\n            app.cache.cut(_keyPrefix + 'public:hash');\n            app.cache.cut(_keyPrefix + 'hash');\n            app.cache.cut(_keyPrefix + 'data');\n        },\n\n        /**\n         * Resets internal memory cache and clears persistent storage.\n         */\n        reset: function() {\n            _metadata = {};\n            this.clearCache();\n        }\n\n    }, false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/metadata-manager.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    /**\n     * Checks ACL for modules and fields.\n     *\n     * @class Core.Acl\n     * @alias SUGAR.App.acl\n     * @singleton\n     */\n    app.augment('acl', {\n\n        /**\n         * Cache for {@link Core.Acl#hasAccessToAny} function.\n         * @property {Object} _accessToAny\n         * @private\n         */\n        _accessToAny: {},\n\n        /**\n         * Dictionary that maps actions to permissions.\n         * @property {Object}\n         */\n        action2permission: {\n            'view': 'read',\n            'readonly': 'read',\n            'edit': 'write',\n            'detail': 'read',\n            'list': 'read',\n            'disabled': 'read',\n        },\n\n        /**\n         * Initialization\n         *\n         * Setup handler on `app:sync:complete` event to clear cache.\n         * @param {App} app\n         */\n        init: function(app) {\n            if (app) {\n                app.events.on('app:sync:complete', this.clearCache, this);\n            }\n        },\n\n        /**\n         * Clear cached variables for acl.\n         */\n        clearCache: function() {\n            this._accessToAny = {};\n        },\n\n        /**\n         * ACL helper to convert ACLs data into booleans.\n         *\n         * @param {string} action Action name.\n         * @param {Object} acls ACL hash.\n         * @return {boolean} Flag indicating if the current user has access.\n         */\n        _hasAccess: function (action, acls) {\n            var access;\n\n            if (acls.access === 'no') {\n                access = 'no';\n            } else {\n                access = acls[action];\n            }\n\n            return access !== 'no';\n        },\n\n        /**\n         * ACL helper to convert ACLs data on fields into booleans.\n         *\n         * @param {string} action Action name.\n         * @param {Object} acls ACL hash.\n         * @param {string} field Name of the Module's field.\n         * @return {boolean} Flag indicating if the current user has access.\n         */\n        _hasAccessToField: function (action, acls, field) {\n            var access;\n\n            action = this.action2permission[action] || action;\n            if (acls.fields[field] && acls.fields[field][action]) {\n                access = acls.fields[field][action];\n            }\n\n            return access !== 'no';\n        },\n\n        /**\n         * Checks ACLs to see if the current user has access to action on a\n         * given module or record.\n         *\n         * @param {string} action Action name.\n         * @param {string} module Module name.\n         * @param {Object} [options] Options.\n         * @param {string} [options.field] Name of the field to check access.\n         * @param {string} [options.acls] Record's ACLs that take precedence\n         *   over the module's ACLs. These are normally supplied by the server\n         *   as part of the data response in `_acl`.\n         * @return {boolean} Flag indicating if the current user has access.\n         */\n        hasAccess: function (action, module, options) {\n            var field;\n            var recordAcls;\n\n            if (!_.isObject(options)) {\n                // TODO: Throw deprecation warning and remove this code.\n                field = arguments[3];\n                recordAcls = arguments[4];\n            } else {\n                field = options.field;\n                recordAcls = options.acls;\n            }\n\n            var acls = app.user.getAcls()[module];\n            if (!acls && !recordAcls) {\n                return true;\n            }\n\n            acls = acls || {};\n            if (recordAcls) {\n                var fieldAcls = _.extend({}, acls.fields, recordAcls.fields);\n                acls = _.extend({}, acls, recordAcls);\n                acls.fields = fieldAcls;\n            }\n\n            var access = this._hasAccess(action, acls);\n            if (access && field && acls.fields) {\n                access = this._hasAccessToField(action, acls, field);\n\n                // if the field is in a group, see if we have access to the group\n                var moduleMeta = app.metadata.getModule(module);\n                var fieldMeta = (moduleMeta && moduleMeta.fields) ? moduleMeta.fields[field] : null;\n                if (access && fieldMeta && fieldMeta.group) {\n                    access = this._hasAccessToField(action, acls, fieldMeta.group);\n                }\n            }\n\n            return access;\n        },\n\n        /**\n         * Checks ACLs to see if the current user has access to action on a given model's field.\n         *\n         * @param {String} action Action name.\n         * @param {Object} model(optional) Model instance.\n         * @param {String} field(optional) Name of the model field.\n         * @return {Boolean} Flag indicating if the current user has access to the given action.\n         */\n        hasAccessToModel: function(action, model, field) {\n            var id;\n            var module;\n            var assignedUserId;\n            var acls;\n\n            if (model) {\n                id = model.id;\n                module = model.module;\n                assignedUserId = model.original_assigned_user_id || model.get(\"assigned_user_id\");\n                acls = model.get('_acl') || { fields: {} };\n            }\n\n            if (action == 'edit' && !id) {\n                action = 'create';\n            }\n\n            return this.hasAccess(action, module, assignedUserId, field, acls);\n        },\n\n        /**\n         * Checks ACLs to see if the current user has access to any module with defined action.\n         *\n         * @param {String} action Action name.\n         * @return {Boolean} Flag indicating if the current user has access to the given action.\n         *\n         *     // Check whether user has `admin` access for any module.\n         *     app.acl.hasAccessToAny('admin');\n         *\n         *     // Check whether user has `developer` access for any module.\n         *     app.acl.hasAccessToAny('developer');\n         */\n        hasAccessToAny: function(action) {\n            if (_.isUndefined(this._accessToAny[action])) {\n                this._accessToAny[action] = _.some(app.user.getAcls(), function(obj, module) {\n                    return this.hasAccess(action, module);\n                }, this);\n            }\n            return this._accessToAny[action];\n        }\n    }, true);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/acl.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n    /**\n     * Represents application's current user object.\n     *\n     * The user object contains settings that are fetched from the server\n     * and whatever settings application wants to store.\n     *\n     * <pre><code>\n     * // Sample user object that is fetched from the server:\n     * {\n     *      id: \"1\",\n     *      full_name: \"Administrator\",\n     *      user_name: \"admin\",\n     *      preferences: {\n     *          timezone: \"America\\/Los_Angeles\",\n     *          datepref: \"m\\/d\\/Y\",\n     *          timepref: \"h:ia\"\n     *      }\n     * }\n     *\n     * // Use it like this:\n     * var userId = SUGAR.App.user.get('id');\n     * // Set app specific settings\n     * SUGAR.App.user.set(\"sortBy:Cases\", \"case_number\");\n     *\n     * // Bind event handlers if necessary\n     * SUGAR.App.user.on(\"change\", function() {\n     *     // Do your thing\n     * });\n     *\n     * </code></pre>\n     *\n     * @class Core.User\n     * @alias SUGAR.App.user\n     * @singleton\n     */\n    var User = Backbone.Model.extend({\n\n        /**\n         * Retrieves and sets the user preferences\n         *\n         * @param {Function} callback(optional) Callback called when update completes.\n         */\n        load: function(callback) {\n            app.api.me('read', null, null, {\n                success: function(data) {\n                    if (data && data.current_user) {\n                        // Set the user pref hash into the cache for use in\n                        // checking user pref state change\n                        if (data.current_user._hash) {\n                            app.cache.set('userpref:hash', data.current_user._hash);\n                        }\n                        app.user.set(data.current_user);\n                        var language = app.user.getPreference('language');\n                        if (app.lang.getLanguage() !== language) {\n                            app.lang.setLanguage(language, null, {\n                                noUserUpdate: true,\n                                noSync: app.isSynced || app.metadata.isSyncing()\n                            });\n                        }\n                    }\n                    if (callback) callback();\n                },\n                error: function(err) {\n                    app.error.handleHttpError(err);\n                    if (callback) callback(err);\n                }\n            });\n        },\n        // Fixme This doesn't belong in user. See TY-526.\n        loadLocale: function(callback) {\n            app.api.call('read', app.api.buildURL('locale'), null, {\n                success: function(data) {\n                    if (callback) callback(data);\n                },\n                error: function(err) {\n                    app.error.handleHttpError(err);\n                    if (callback) callback(err);\n                }\n            });\n        },\n        /**\n         * Updates the preferred language of the user.\n         *\n         * @param {String} language language Key\n         * @param {Function} callback(optional) Callback called when update completes.\n         */\n        getLanguage: function() {\n            return app.user.getPreference('language') || app.cache.get(\"lang\");\n        },\n\n        /**\n         * Updates the preferred language of the user.\n         *\n         * @param {String} language language Key\n         * @param {Function} callback(optional) Callback called when update completes.\n         */\n        updateLanguage: function(language, callback) {\n            //Note that `err` is only relevant here when called for error case\n            var done = function(err) {\n                if (!err) app.lang.updateLanguage(language);\n                if (callback) callback(err);\n            };\n            this.update(\"update\", {preferred_language: language}, done);\n        },\n\n        /**\n         * Updates the user's profile.\n         *\n         * @param {Object} attributes The model attributes to update for user.\n         * @param {Function} callback(optional) Callback called when update completes.\n         */\n        updateProfile: function(attributes, callback) {\n            //Note that `err` is only relevant here when called for error case\n            var done = function(err) {\n                if (callback) callback(err);\n            };\n            this.update(\"update\", attributes, done);\n        },\n        /**\n         * Updates the user's preferences.\n         *\n         * @param {Object} attributes The attributes to update for user.\n         * @param {Function} callback(optional) Callback called when update completes.\n         */\n        updatePreferences: function(attributes, callback) {\n            var self = this;\n            if (app.api.isAuthenticated()) {\n                app.api.call(\"update\", app.api.buildURL('me/preferences'), attributes, {\n                    success: function(data) {\n                        if (data._hash) {\n                            app.cache.set(\"userpref:hash\", data._hash);\n                            app.user.set({\"_hash\":data._hash});\n                        }\n                        //Immediately update our user's preferences to reflect latest changes\n                        _.each(attributes, function(val, key) {\n                            if (data[key]) {\n                                self.setPreference(key, data[key]);\n                            }\n                        });\n                        if (callback) callback();\n                    },\n                    error: function(err) {\n                        app.error.handleHttpError(err);\n                        if (callback) callback(err);\n                    }\n                });\n            } else {\n                if (callback) callback();\n            }\n        },\n\n        /**\n         * Updates the user\n         *\n         * @param {String} method operation type: read, update, create, delete {@see SUGAR.Api#me}\n         * @param {Object} payload An object literal with payload\n         * @param {Object} done Callback called when update completes. In case of\n         * error, app.error.handleHttpError will already be handled here.\n         */\n        update: function(method, payload, callback) {\n            if (app.api.isAuthenticated()) {\n                app.api.me(method, payload, null, {\n                    success: function(data) {\n                        if (data.current_user) {\n                            if (data.current_user._hash) {\n                                app.cache.set(\"userpref:hash\", data.current_user._hash);\n                            }\n                            app.user.set(data.current_user);\n                        }\n                        if (callback) callback();\n                    },\n                    error: function(err) {\n                        app.error.handleHttpError(err);\n                        if (callback) callback(err);\n                    }\n                });\n            } else {\n                callback();\n            }\n        },\n\n        /**\n         * Gets ACLs.\n         *\n         * @return Dictionary of ACLs. Precondition - user's logged in or a _reset call has set the user manually.\n         */\n        getAcls: function() {\n            return app.user.get('acl') || {};\n        },\n\n        /**\n         * Get preference by name.\n         *\n         * TODO support category parameter for preferences.\n         *\n         * @param {string} name The preference name.\n         * @return {Array|Object|string|number|boolean} The value of the user\n         *   preference.\n         */\n        getPreference: function(name) {\n\n            var preferences = app.user.get('preferences') || {};\n            return preferences[name];\n        },\n\n        /**\n         * Set preference by name, will only be stored locally.\n         *\n         * TODO support category parameter for preferences.\n         * TODO support save preferences on server.\n         *\n         * @param {String} name The preference name.\n         * @param {Array/Object/String/Number/Boolean} value The new value of the user preference.\n         * @return {Object} the instance of this user.\n         */\n        setPreference: function(name, value) {\n            var preferences = app.user.get('preferences') || {};\n            preferences[name] = value;\n            return app.user.set('preferences', preferences);\n        },\n\n        /**\n         * Returns an object with all the user's currency preferences\n         * If the user hasn't specified any preferences, these default to system currency preferences\n         *\n         * @return {Object} The currency preferences of the user\n         */\n        getCurrency: function() {\n            var preferences = app.user.get('preferences'),\n                currencyObj = {};\n\n            if (preferences) {\n                currencyObj.currency_id = preferences.currency_id;\n                currencyObj.currency_iso = preferences.currency_iso;\n                currencyObj.currency_name = preferences.currency_name;\n                currencyObj.currency_rate = preferences.currency_rate;\n                currencyObj.currency_show_preferred = preferences.currency_show_preferred;\n                currencyObj.currency_symbol = preferences.currency_symbol;\n            }\n\n            return currencyObj;\n        },\n\n        /**\n         * Allows interactions with the last state values, which are used to implement last application\n         * states or the \"stickiness\" of the application.\n         */\n        lastState: (function() {\n            var keySeparator = ':',\n                keyPrefix = 'last-state',\n                lastStates = {},\n                preservedKeys = [ ];\n\n            var buildLastStateKeyForStorage = function(key) {\n                var keyParts = key.split(keySeparator),\n                    storedKey = [app.user.id, keyPrefix];\n\n                storedKey = storedKey.concat(keyParts);\n\n                return storedKey.join(keySeparator);\n            };\n\n            var getLastStateId = function(component) {\n                var lastStateId;\n\n                if (component.meta && component.meta.last_state) {\n                    lastStateId = component.meta.last_state.id;\n                }\n\n                return lastStateId;\n            };\n\n            return {\n                /**\n                 * Get the last state value given a key. If doesn't exist,\n                 * return the default value as specified in the component\n                 * metadata.\n                 *\n                 * @param {string} key\n                 * @return {number|boolean|string|Array|Object} The last state\n                 *   value.\n                 */\n                get: function(key) {\n                    var result, storedKey;\n\n                    if (!_.isUndefined(key)) {\n                        storedKey = buildLastStateKeyForStorage(key);\n                        result = app.cache.get(storedKey);\n                        result = result === void 0 ? this.defaults(key) : result;\n                    }\n\n                    return result;\n                },\n\n                /**\n                 * Save the last state in local storage.\n                 *\n                 * @param {string} key\n                 * @param {string} value\n                 */\n                set: function(key, value) {\n                    if (!_.isUndefined(key) && !_.isUndefined(value)) {\n                        var storedKey = buildLastStateKeyForStorage(key);\n                        app.cache.set(storedKey, value);\n                    }\n                },\n\n                /**\n                 * Register a state as important (should survive a cache clean)\n                 *\n                 * @param {string} key\n                 * @param {string} value\n                 */\n                preserve: function(key) {\n                    if (!_.isUndefined(key)) {\n                        preservedKeys.push(key);\n                    }\n                },\n\n                /**\n                 * Get the key for a given component, which is used as a key for CRUD operations on\n                 * last state values.\n                 *\n                 * @param {string} name\n                 * @param {Object} component\n                 * @return {string}\n                 */\n                key: function(name, component) {\n                    var lastStateId = getLastStateId(component);\n                    return this.buildKey(name, lastStateId, component.module);\n                },\n\n                /**\n                 * Build the key for a given name, lastStateId, and (optionally) module,\n                 * which is used as a key for CRUD operations on last state values.\n                 *\n                 * @param {string} name\n                 * @param {string} lastStateId\n                 * @param {string} [module]\n                 * @return {string}\n                 */\n                buildKey: function(name, lastStateId, module) {\n                    var keyString, keyParts = [];\n\n                    if (lastStateId) {\n                        if (module) {\n                            keyParts.push(module);\n                        }\n                        keyParts.push(lastStateId, name);\n                        keyString = keyParts.join(keySeparator);\n                    }\n\n                    return keyString;\n                },\n\n                /**\n                 * Get the default last state for a key.\n                 *\n                 * @param {string} key\n                 * @return {string}\n                 */\n                defaults: function(key) {\n                    return lastStates[key];\n                },\n\n                /**\n                 * Register last states default values given a component.\n                 * The default value is specified in the component metadata.\n                 *\n                 * @param {Object} component\n                 */\n                register: function(component) {\n                    var lastStateId = getLastStateId(component);\n                    if (lastStateId){\n                        _.each(component.meta.last_state.defaults, function(defaultState, key) {\n                            lastStates[this.key(key, component)] = defaultState;\n                        }, this);\n                    }\n                },\n\n                /**\n                 * Delete last state from local storage\n                 *\n                 * @param {String} key\n                 */\n                remove: function(key) {\n                    var storedKey;\n                    if (!_.isUndefined(key)) {\n                        storedKey = buildLastStateKeyForStorage(key);\n                        app.cache.cut(storedKey);\n                    }\n                },\n                /**\n                 * @return {Array} list of high value keys in cache\n                 * @private\n                 */\n                _getPreservedKeys: function() {\n                    var ret = [];\n                    _.each(preservedKeys, function(key) {\n                        ret.push(buildLastStateKeyForStorage(key));\n                    });\n                    return ret;\n                }\n            };\n        })()\n    });\n\n    //FIXME Have a unit test to test the function in logout in TY-615\n    app.events.on('app:logout', function(clear) {\n        app.cache.cut('userpref:hash');\n        if (clear === true) {\n            app.user.clear({silent: true});\n        }\n    });\n\n    app.events.on(\"cache:clean\", function(cb) {\n        cb(app.user.lastState._getPreservedKeys());\n    });\n\n    app.augment(\"user\", new User(), false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/user.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n\n/**\n * Manages plugins\n *\n * This code shows how to define plugin.\n *\n * <pre><code>\n * (function(app) {\n *\n *      app.plugins.register('fast-click-highlight', ['view', 'field'], {\n *          color : \"red\",\n *\n *          events: {\n *              'click .fast-click-highlighted': 'onClickItem'\n *          },\n *\n *          onClickItem: function(e) {\n *              alert(1)\n *          },\n *\n *\n *          //The onAttach function will be called every time the plugin is attached to a new\n *          //component. It will be executed from the scope of the component being attached to.\n *          //Applied after the plugin has been mixed into the component\n *          onAttach: function(component, plugin) {\n *              this.on('render', function(){\n *                  this.$el.css('color', this.color); //same as plugin.color and component.$el.css\n *              });\n *          }\n *      });\n *\n * })(SUGAR.App);\n * </code></pre>\n *\n * If you want to use current plugin for view, you have to declare plugin in it.\n *\n * <pre><code>\n *    var MyView = app.view.View.extend({\n *\n *      initialize: function(options) {},\n *\n *      plugins: ['fast-click-highlight'],\n *      ...\n *\n *      or\n *\n *      $plugins: [{\n *          'fast-click-highlight': {\n *              events:{\n *                  'click article' : 'onClickItem'\n *              }\n *          }\n *      }],\n *\n *      onClickItem : function() {\n *          alert(2)\n *      }\n * </code></pre>\n *\n *\n * If you want to disable plugin, you have to use disabledPlugins property as in following example:\n *\n * <pre><code>\n *    var MyView = app.view.View.extend({\n *\n *      initialize: function(options) {},\n *\n *      disabledPlugins: ['fast-click-highlight'],\n *\n *      ...\n * </code></pre>\n *\n * @class Core.PluginManager\n * @alias SUGAR.App.metadata\n * @singleton\n */\n(function(app) {\n\n    var _pluginManager = {\n\n        plugins: {\n            view : {},\n            field : {},\n            layout : {},\n            model : {},\n            collection: {}\n        },\n\n        /**\n         * Get plugin by name.\n         * @param name String Plugin name\n         * @param type String component type. (view, layout, or field, model, collection)\n         * @private\n         */\n        _get: function(name, type) {\n            if (this.plugins[type] && this.plugins[type][name]) {\n                return this.plugins[type][name];\n            }\n        },\n\n        /**\n         * Attaches plugin to view.\n         *\n         * @param {View.Component|Data.Bean|Data.BeanCollection} component The\n         *   component object ({@link View.View View},\n         *   {@link View.Field Field}, {@link View.Layout Layout},\n         *   {@link Data.Bean Bean}, {@link Data.BeanCollection Collection}).\n         * @param {string} type The component type (view, layout, or field,\n         *   model, collection).\n         */\n        attach: function(component, type) {\n            _.each(component.plugins, function(pluginName) {\n                var prop = null;\n                if (_.isObject(pluginName)) {\n                    var n = _.keys(pluginName)[0];\n                    prop = pluginName[n];\n                    pluginName = n;\n                }\n\n                var p = this._get(pluginName, type);\n                if (p && !this._isPluginDisabled(component, pluginName)) {\n                    var events = _.extend({}, (_.isFunction(component.events)) ? component.events() : component.events, p.events);\n\n                    _.extend(component, p);\n\n                    if (prop) {\n                        _.extend(component, prop);\n\n                        if (prop.events) {\n                            _.extend(events, prop.events);\n                        }\n                    }\n\n                    component.events = events;\n\n                    //If a plugin has an onAttach function, call it now so that the plugin can initialize\n                    if (_.isFunction(p.onAttach)){\n                        p.onAttach.call(component, component, p);\n                    }\n                }\n\n            }, this);\n        },\n\n        /**\n         * Detaches plugins and call `onDetach` method.\n         *\n         * @param {View.Component|Data.Bean|Data.BeanCollection} component The\n         *   component object ({@link View.View View},\n         *   {@link View.Field Field}, {@link View.Layout Layout},\n         *   {@link Data.Bean Bean}, {@link Data.BeanCollection Collection}).\n         * @param {string} type The component type (view, layout, or field,\n         *   model, collection).\n         */\n        detach: function(component, type) {\n            _.each(component.plugins, function(name) {\n                var plugin = this._get(name, type);\n                if (plugin && _.isFunction(plugin.onDetach)) {\n                    plugin.onDetach.call(component, component, plugin);\n                }\n            }, this);\n        },\n\n        /**\n         * Check plugin is disabled.\n         * @param component Component object\n         * @param pluginName Plugin name\n         * @private\n         */\n        _isPluginDisabled: function(component, pluginName) {\n            return !!_.find(component.disabledPlugins, function(name) {\n                return name === pluginName;\n            });\n        },\n\n        /**\n         * Register plugin.\n         * @param {string} name The plugin name.\n         * @param {string|Array} validTypes The list of component types this\n         *   plugin can be applied to (view, field, layout, model, collection).\n         * @param {Object} plugin The plugin object.\n         */\n        register: function(name, validTypes, plugin) {\n            if (!_.isArray(validTypes)) {\n                validTypes = [validTypes];\n            }\n\n            _.each(validTypes , function(type){\n                this.plugins[type] = this.plugins[type] || {};\n                this.plugins[type][name] = plugin;\n            }, this);\n        }\n    };\n\n    app.augment(\"plugins\", _pluginManager, false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/plugin-manager.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Application logger.\n *\n * ```\n * // Log a string message\n * SUGAR.App.logger.debug(\"Some debug message\");\n *\n * // Log an object\n * var obj = { foo: \"bar\" };\n * SUGAR.App.logger.info(obj);\n *\n * // Log a closure.\n * var a = 1;\n * SUGAR.App.logger.error(function() { return a; });\n * ```\n *\n * @class Utils.Logger\n * @alias SUGAR.App.logger\n * @singleton\n */\n(function(app) {\n\n    app.augment('logger', {\n\n        /**\n         * Logging levels.\n         *\n         * @class Utils.Logger.levels\n         * @singleton\n         */\n        levels: {\n            /**\n             * Trace log level\n             * @property {Utils.Logger.levels}\n             */\n            TRACE: {\n                value: 1,\n                name: 'TRACE'\n            },\n            /**\n             * Debug log level\n             * @property {Utils.Logger.levels}\n             */\n            DEBUG: {\n                value: 2,\n                name: 'DEBUG'\n            },\n            /**\n             * Info log level\n             * @property {Utils.Logger.levels}\n             */\n            INFO: {\n                value: 3,\n                name: 'INFO'\n            },\n            /**\n             * Warn log level\n             * @property {Utils.Logger.levels}\n             */\n            WARN: {\n                value: 4,\n                name: 'WARN'\n            },\n            /**\n             * Error log level\n             * @property {Utils.Logger.levels}\n             */\n            ERROR: {\n                value: 5,\n                name: 'ERROR'\n            },\n            /**\n             * Fatal log level\n             * @property {Utils.Logger.levels}\n             */\n            FATAL: {\n                value: 6,\n                name: 'FATAL'\n            }\n        },\n\n        /**\n         * Turns on the warnings regarding usage of jQuery deprecated methods.\n         */\n        init: function() {\n            // TODO this will be removed by SC-5256.\n            if (!window.jQuery) {\n                return;\n            }\n            app.on('app:sync:complete', function() {\n                jQuery.migrateMute = this.getLevel().value > this.levels.WARN.value;\n            }, this);\n        },\n\n        /**\n         * Outputs messages onto browser's console object.\n         *\n         * @class Utils.Logger.ConsoleWriter\n         * @member Utils.Logger\n         * @singleton\n         */\n        ConsoleWriter: {\n            /**\n             * Outputs a message with the specified log level onto the browser's console.\n             * The writer uses:\n             *\n             *  - `console.info`: `TRACE`, `DEBUG` and `INFO`.\n             *  - `console.warn`: `WARN`.\n             *  - `console.error`: `ERROR` and `FATAL`.\n             *\n             * @param {Utils.Logger.levels} level A logger level from logger.levels\n             * @param {String} message\n             * @method\n             */\n            write: function(level, message) {\n                // work around for browsers without console\n                if (!window.console) window.console = {};\n                if (!window.console.log) window.console.log = function() { };\n                if (level.value <= app.logger.levels.INFO.value) {\n                    console.log(message);\n                }\n                else if (level.value == app.logger.levels.WARN.value) {\n                    console.warn(message);\n                }\n                else {\n                    console.error(message);\n                }\n            }\n        },\n\n        /**\n         * Writes log messages onto server.\n         *\n         * @class Utils.Logger.ServerWriter\n         * @member Utils.Logger\n         * @singleton\n         */\n        ServerWriter: {\n            /**\n             * Writes a log message with a given {@link Utils.Logger.levels}\n             * level onto the server.\n             *\n             * @param {Utils.Logger.levels} level Logger level.\n             * @param {String} message Log message.\n             * @throws {String} Exceptions are thrown whether the returned\n             *    status is `false` or an error occurred while processing the request.\n             */\n            write: function(level, message) {\n                // FIXME: add support for other logger levels (SC-5483).\n                if (level.value < app.logger.levels.WARN.value) {\n                    return;\n                }\n\n                if (!app.api.isAuthenticated()) {\n                    return;\n                }\n\n                var write = app.config.logger && app.config.logger.writeToServer || false;\n                if (!write || !message.trim().length) {\n                    return;\n                }\n\n                var url = app.api.buildURL(undefined, 'logger');\n                var params = {\n                    level: level.name.toLowerCase(),\n                    message: message\n                };\n\n                app.api.call('create', url, params, {\n                    success: function(data) {\n                        if (!data.status) {\n                            throw 'Failed to write log message {' + message + '} onto server';\n                        }\n                    },\n                    error: function(e) {\n                        throw e;\n                    }\n                });\n            }\n        },\n\n        /**\n         * Formats a log message as a string with log level and UTC timestamp.\n         * <pre><code>\n         * // Log a trace message\n         * SUGAR.App.logger.trace(\"Blah-blah\");\n         *\n         * // Output\n         * // TRACE[2012-1-26 2:38:23]: Blah-blah\n         * </code></pre>\n         *\n         * @class Utils.Logger.SimpleFormatter\n         * @member Utils.Logger\n         * @singleton\n         */\n        SimpleFormatter: {\n            /**\n             * Formats a log message by adding log level name and UTC timestamp.\n             * @param {Object} level logging level\n             * @param {String} message log message\n             * @param {Date} date logging timestamp\n             * @return {String} formatted log message\n             * @method\n             */\n            format: function(level, message, date) {\n                var dateString = date.getUTCFullYear() + '-' + (date.getUTCMonth() + 1) + '-' + date.getUTCDate() +\n                    ' ' + date.getUTCHours() + ':' + date.getUTCMinutes() + ':' + date.getUTCSeconds();\n                return level.name + '[' + dateString + ']: ' + message;\n            }\n        },\n\n        /**\n         * Logs a message with a TRACE log level.\n         * @param {string|Object|Function} message log message\n         * @member Utils.Logger\n         */\n        trace: function(message) {\n            this.log(this.levels.TRACE, message);\n        },\n\n        /**\n         * Logs a message with DEBUG log level.\n         * @param {string|Object|Function} message log message\n         * @member Utils.Logger\n         */\n        debug: function(message) {\n            this.log(this.levels.DEBUG, message);\n        },\n\n        /**\n         * Logs a message with INFO log level.\n         * @param {string|Object|Function} message log message\n         * @member Utils.Logger\n         */\n        info: function(message) {\n            this.log(this.levels.INFO, message);\n        },\n\n        /**\n         * Logs a message with WARN log level.\n         * @param {string|Object|Function} message log message\n         * @member Utils.Logger\n         */\n        warn: function(message) {\n            this.log(this.levels.WARN, message);\n        },\n\n        /**\n         * Logs a message with ERROR log level.\n         * @param {string|Object|Function} message log message\n         * @member Utils.Logger\n         */\n        error: function(message) {\n            this.log(this.levels.ERROR, message);\n        },\n\n        /**\n         * Logs a message with FATAL log level.\n         * @param {string|Object|Function} message log message\n         * @member Utils.Logger\n         */\n        fatal: function(message) {\n            this.log(this.levels.FATAL, message);\n        },\n\n        /**\n         * Retrieve logger level based on system settings.\n         *\n         * @member Utils.Logger\n         * @return {Object} Logger level or `this.levels.ERROR` if none defined.\n         */\n        getLevel: function() {\n            var level = app.config.logger && app.config.logger.level;\n\n            /**\n             * @deprecated 7.7 It will be removed in 7.9.\n             *   Use `app.config.logger.level` instead.\n             * @property logLevel\n             * @member SUGAR.App.config\n             * FIXME: SC-5469 Remove deprecatedLevel.\n             */\n            var deprecatedLevel = app.config.logLevel;\n            if (!level && deprecatedLevel) {\n                level = deprecatedLevel;\n                console.warn('The property `app.config.logLevel` has been ' +\n                    'deprecated since 7.7.0.0 and will be removed in 7.9.0.0.' +\n                    ' Use `app.config.logger.level` instead.');\n            }\n\n            if (!level) {\n                return this.levels.ERROR;\n            }\n            level = level.toUpperCase();\n\n            // FIXME this needs to be done after SC-5483 is implemented\n            /*\n            if (!this.levels[level]) {\n\n                console.error('Your logger level is set to an invalid value. ' +\n                    'Please redefine it in Administration > System Settings. ' +\n                    'If you continue to see this warning, please ' +\n                    'contact your Admin.');\n            }\n            */\n\n            return this.levels[level] || this.levels.ERROR;\n        },\n\n        // TODO: We may want to add support for format strings like \"Some message %s %d\", params\n        /**\n         * Logs a message with a given {@link Utils.Logger.levels} level.\n         * If the message is an object, it will be serialized into a JSON string.\n         * If the message is a function, it will evaluated in the logger's scope.\n         * @param {Utils.Logger.levels} level log level\n         * @param {string|Object|Function} message log message\n         * @member Utils.Logger\n         */\n        log: function(level, message) {\n            try {\n                var currentLevel = this.getLevel();\n                if (level.value < currentLevel.value) {\n                    return;\n                }\n\n                message = message || '<none>';\n\n                if (_.isFunction(message)) message = message.call(this);\n                if (_.isObject(message)) {\n                    // Try to json-ify the object. It'll fail if it has circular\n                    // dependency\n                    try {\n                        message = JSON.stringify(message);\n                    } catch (e) {\n                        message = message.toString();\n                    }\n                }\n\n                // @deprecated Use `app.config.logger.formatter` instead, old\n                // property should be removed on 7.9 (SC-5469)\n                // FIXME: SC-5478 Add deprecation warning and change order of operations.\n                var logger = app.config.logger,\n                    formatter = this[app.config.logFormatter];\n                if (!formatter) {\n                    formatter = (logger && this[logger.formatter]) || this.SimpleFormatter;\n                }\n\n                message = formatter.format(level, message, new Date());\n\n                // @deprecated Use `app.config.logger.consoleWriter` instead, old\n                // property should be removed on 7.9 (SC-5469)\n                // FIXME: SC-5479 Add deprecation warning and change order of operations.\n                var consoleWriter = this[app.config.logWriter];\n                if (!consoleWriter) {\n                    consoleWriter = (logger && this[logger.consoleWriter]) || this.ConsoleWriter;\n                }\n\n                var serverWriter = (logger && this[logger.serverWriter]) || this.ServerWriter;\n\n                consoleWriter.write(level, message);\n                serverWriter.write(level, message);\n\n            } catch (e) {\n                console.log('Failed to log message {' + message + '} due to exception: ' + e);\n            }\n        }\n    }, false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/logger.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Base bean class. Use {@link Data.DataManager} to create instances of beans.\n *\n * **CRUD**\n *\n * Use standard Backbone's `fetch`, `save`, and `destroy`\n * methods to perform CRUD operations on beans. See {@link Data.DataManager} class for details.\n *\n * **Validation**\n *\n * This class does not override Backbone.Model's `validate` method.\n * The validation is done in `save` method. If the bean is invalid the save is rejected.\n * Use {@link Data.Bean#isValid} method to check if the bean is valid in other situations.\n * Failed validations trigger an `\"app:error:validation:<field-name>\"` event.\n *\n * @class Data.Bean\n * @alias SUGAR.App.Bean\n * @extends Backbone.Model\n */\n(function(app) {\n\n    /**\n     * Add doValidate method to Backbone.Model so it won't fail when calling doValidate\n     * @param {Array|Object} fields A hash of field definitions or array of field names to validate.\n     * @param {Function} callback Function called with isValid flag once the validation is complete\n     */\n    Backbone.Model.prototype.doValidate = function(fields, callback) {\n        callback(this.isValid());\n    };\n    app.augment('Bean', Backbone.Model.extend({\n        /**\n         * Model plugins are attached in the constructor to allow initialize()\n         * to be overridden.\n         *\n         * @inheritdoc\n         * @param {Object} attributes\n         * @param {Object} options\n         */\n        constructor: function(attributes, options) {\n            app.plugins.attach(this, 'model');\n            Backbone.Model.prototype.constructor.call(this, attributes, options);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initialize: function(attributes) {\n            Backbone.Model.prototype.initialize.call(this, attributes);\n\n            // assume our attributes from creation are synced\n            this.setSyncedAttributes(this.attributes);\n\n            this._bindEvents();\n            this._relatedCollections = this._relatedCollections || null;\n\n            /**\n             * The request object that is currently syncing against the server.\n             *\n             * This object is needed to determine if a fetch request should be\n             * aborted for the collection (e.g. if a new fetch request returns a\n             * response prior to a previous fetch request).\n             *\n             * @private\n             * @member Data.Bean\n             * @property {SUGAR.Api.HttpRequest}\n             */\n            this._activeFetchRequest = null;\n\n            // Populate with default values only if the model is new and has not yet been populated\n            if (this.isNew() && this._defaults) {\n                _.each(this._defaults, function(value, key) {\n                    if (!this.has(key)) {\n                        this.set(key, value, { silent: true });\n                    }\n                }, this);\n            }\n\n            //Clone the fields to allow dynamic changes to vardefs per bean instance\n            if (this.fields) {\n                this.fields = app.utils.deepCopy(this.fields);\n            }\n\n            this.addValidationTask('sidecar', _.bind(this._doValidate, this));\n        },\n\n        /**\n         * Fetches the bean.\n         *\n         * Only one fetch request can be executed at a time - previous fetch\n         * requests will be aborted.\n         *\n         * @param {Object} [options] Fetch options.\n         * @param {Function} [options.success] The success callback to execute.\n         * @param {Function} [options.error] The error callback to execute.\n         */\n        fetch: function(options) {\n            options = _.extend({}, this.getOption(), options);\n            this.abortFetchRequest();\n            this._activeFetchRequest = Backbone.Model.prototype.fetch.call(this, options);\n            return this._activeFetchRequest;\n        },\n\n        /**\n         * Getter for {@link #_activeFetchRequest}.\n         *\n         * @return {SUGAR.Api.HttpRequest} The active fetch request.\n         */\n        getFetchRequest: function() {\n            return this._activeFetchRequest;\n        },\n\n        /**\n         * Aborts the {@link #_activeFetchRequest current fetch request}.\n         */\n        abortFetchRequest: function() {\n            var req = this.getFetchRequest();\n            if (req) {\n                app.api.abortRequest(req.uid);\n            }\n        },\n\n        /**\n         * Overrides Backbone method to add specific logic for `collection`\n         * fields.\n         *\n         * @param {string|Object} key The key. Can also be an object with the\n         * key/value pair.\n         * @param {string} val The value to set.\n         * @param {Object} options A hash of options\n         */\n        set: function (key, val, options) {\n            if (_.isUndefined(key) || _.isNull(key)) {\n                return this;\n            }\n\n            var attrs;\n            if (typeof key === 'object') {\n                attrs = key;\n                options = val;\n            } else {\n                (attrs = {})[key] = val;\n            }\n\n            options = options || {};\n\n            var collections = this.getCollectionFields(attrs);\n            attrs = _.omit(attrs, _.keys(collections));\n            Backbone.Model.prototype.set.call(this, attrs, options);\n            this._handleCollectionFieldValues(collections, options);\n\n            return this;\n        },\n\n        /**\n         * Adds `collection` fields records to the mixed bean collection. If\n         * a mixed bean collection does not exist yet, it will be created.\n         *\n         * @private\n         * @param {Object} collections Object containing collections fields\n         * attributes.\n         * @param {Object} options A hash of options.\n         */\n        _handleCollectionFieldValues: function (collections, options) {\n            _.each(collections, function (records, key) {\n                //If a collection field is being set to a collection, we should just accept it.\n                if (records instanceof app.MixedBeanCollection) {\n                    if (this.get(key) !== records) {\n                        this.stopListening(this.get(key));\n                        Backbone.Model.prototype.set.call(this, _.object([key], [records]), options);\n                        this.listenTo(records, 'update reset', function (collection, options) {\n                            this.trigger('change:' + key, this, collection, options);\n                        });\n\n                        this.off('sync', records.resetDelta, records);\n                        this.on('sync', records.resetDelta, records);\n                    }\n                } else {\n                    var colOptions = {};\n                    var collection = this.get(key);\n                    collection.reset();\n\n                    //Record list populated from a `collection` field response\n                    if (_.isObject(records) && records.records) {\n                        colOptions = _.extend(colOptions, _.omit(records, 'records'));\n                        records = records.records;\n                    }\n\n                    //We need a collection to add the models to.\n                    _.each(colOptions, function (v, k) {\n                        collection[k] = v;\n                    });\n\n                    collection.add(records, options);\n                }\n            }, this);\n        },\n\n        /**\n         * Creates a mixed bean collection for `collection` fields if there is\n         * none yet.\n         *\n         * @param {string} attr The attribute name.\n         */\n        get: function (attr) {\n            var value = Backbone.Model.prototype.get.call(this, attr);\n\n            // If the field is not a `collection` field\n            if (!this.fields || !this.fields[attr] || this.fields[attr].type !== 'collection' ||\n                value instanceof app.MixedBeanCollection) {\n                return value;\n            }\n\n            // If the field is a `collection` field and has not been initialized.\n            value = this._createMixedBeanCollectionField(attr);\n            Backbone.Model.prototype.set.call(this, _.object([attr], [value]), {silent: true});\n\n            return value;\n        },\n\n        /**\n         * Creates a mixed bean collection passing the related link bean\n         * collections of this `collection` field.\n         *\n         * @private\n         * @param {string} field  A `collection` type field.\n         * @param {Object[]|Data.Bean[]} models The models to add to the collection.\n         * @return {Data.MixedBeanCollection} The newly created mixed bean\n         * collection.\n         */\n        _createMixedBeanCollectionField: function (field, models) {\n            var fieldDef = this.fields[field];\n            if (fieldDef && fieldDef.links) {\n                var links = fieldDef.links;\n                if (_.isString(links)) {\n                    links = [links];\n                }\n\n                var linkCollections = {};\n                _.each(links, function (link) {\n                    linkCollections[link] = this.getRelatedCollection(link);\n                }, this);\n                var collection = app.data.createMixedBeanCollection(models || [], {links: linkCollections});\n\n                this.listenTo(collection, 'update reset', function(collection, options) {\n                    this.trigger('change:' + field, this, collection, options);\n                });\n\n                this.off('sync', collection.resetDelta, collection);\n                this.on('sync', collection.resetDelta, collection);\n\n                return collection;\n            }\n        },\n\n        /**\n         * Binds events on {@link Data.Bean the model}.\n         *\n         * @protected\n         */\n        _bindEvents: function() {\n            this.on('sync', function() {\n                this._checkAcl();\n                this.setSyncedAttributes(this.attributes);\n            }, this);\n        },\n\n        /**\n         * Checks if the `_acl` attribute has changed from its synced value on\n         * {@link Data.Bean the model}, and triggers the `acl:change` event if\n         * one field had ACL changes. All events are triggered on\n         * {@link Data.Bean the model}.\n         *\n         * @private\n         */\n        _checkAcl: function() {\n            var changedFieldAcls = this._checkFieldAcls();\n\n            if (_.size(changedFieldAcls) || !_.isEqual(\n                _.omit(this.get('_acl'), 'fields'),\n                _.omit(this.getSynced('_acl'), 'fields')\n            )) {\n                this.trigger('acl:change', changedFieldAcls);\n            }\n        },\n\n        /**\n         * Triggers the `acl:change:<fieldname>` event on all the fields whose\n         * ACLs have changed. All events are triggered on\n         * {@link Data.Bean the model}.\n         *\n         * @private\n         * @return {Object} The hash of fields that had ACL changes.\n         */\n        _checkFieldAcls: function () {\n            var changedFieldAcls = {};\n            var fieldsProp = _.property('fields');\n            var syncedFieldAcls = fieldsProp(this.getSynced('_acl')) || {};\n            var fieldAcls = fieldsProp(this.get('_acl')) || {};\n            var fields = _.extend({}, syncedFieldAcls, fieldAcls);\n\n            _.each(fields, function (field, fieldName) {\n                if (!_.isEqual(syncedFieldAcls[fieldName], fieldAcls[fieldName])) {\n                    this.trigger('acl:change:' + fieldName);\n                    changedFieldAcls[fieldName] = true;\n                }\n            }, this);\n\n            return changedFieldAcls;\n        },\n\n        /**\n         * Disposes a bean.\n         */\n        dispose: function() {\n            app.plugins.detach(this, \"model\");\n        },\n\n        /**\n         * Caches a collection of related beans in this bean instance.\n         * @param {string} link Relationship link name.\n         * @param collection A collection of related beans to cache.\n         * @private\n         */\n        _setRelatedCollection: function(link, collection) {\n            if (!this._relatedCollections) this._relatedCollections = {};\n            this._relatedCollections[link] = collection;\n        },\n\n        /**\n         * Gets a collection of related beans.\n         *\n         * This method returns a cached in memory instance of the collection. If the collection doesn't exist in the cache,\n         * it will be created using {@link Data.DataManager#createRelatedCollection} method.\n         * Use {@link Data.DataManager#createRelatedCollection} method to get a new instance of a related collection.\n         *\n         * <pre><code>\n         * // Get a cached copy or create contacts collection for an existing opportunity.\n         * var contacts = opportunity.getRelatedCollection(\"contacts\");\n         * contacts.fetch({ relate: true });\n         * </code></pre>\n         *\n         * @param {string} link Relationship link name.\n         * @return {Data.BeanCollection} Previously created collection or a new collection of related beans.\n         */\n        getRelatedCollection: function(link) {\n            if (this._relatedCollections && this._relatedCollections[link]) {\n                return this._relatedCollections[link];\n            }\n\n            return app.data.createRelatedCollection(this, link);\n        },\n\n        /**\n         * Validates a bean asynchronously.\n         *\n         * This method simply runs validation on the bean and calls the callback\n         * with the result - it does not fire any events or display any alerts.\n         * If you need events and alerts, use {@link Data.Bean#doValidate}.\n         * Note: This method is different from the standard Backbone `isValid`\n         * method which does not support the async validation we require.\n         *\n         * @param {Array|Object} [fields] A hash of field definitions or array\n         *   of field names to validate. If not specified, all fields will be\n         *   validated. View-agnostic validation will be run. Keys are field\n         *   names, values are field definitions (combination of view defs and\n         *   vardefs).\n         * @param {Function} [callback] Function called with isValid flag and\n         *   any errors once the validation is complete.\n         */\n        isValidAsync: function(fields, callback) {\n            fields = fields || this.fields;\n\n            async.waterfall(\n                // run all validation tasks\n                _.flatten([\n                    function(waterfallCallback) {\n                        waterfallCallback(null, fields, {});\n                    },\n                    _.sortBy(this._validationTasks)\n                ]),\n                // waterfall callback\n                function(didWaterfallFail, fields, errors) {\n                    if (!didWaterfallFail) {\n                        var isValid = _.isEmpty(errors);\n                        if (_.isFunction(callback)) {\n                            callback(isValid, errors);\n                        }\n                    }\n                }\n            );\n        },\n\n        /**\n         * Validates a bean asynchronously - firing events on start, complete,\n         * and failure.\n         *\n         * This method is called before {@link Data.Bean#save}.\n         *\n         * Triggers:\n         * - `validation:success` if validation passes,\n         * - `error:validation` if validation fails,\n         * - `error:validation:<field-name>` for each invalid field,\n         * - `validation:complete` when validation completes.\n         *\n         * @param {Array|Object} [fields] A hash of field definitions or array\n         *   of field names to validate. If not specified, all fields will be\n         *   validated. View-agnostic validation will be run. Keys are field\n         *   names, values are field definitions (combination of view defs and\n         *   vardefs).\n         * @param {Function} [callback] Function called with isValid flag once\n         *   the validation is complete.\n         */\n        doValidate: function(fields, callback) {\n            var self = this;\n\n            this.trigger('validation:start');\n\n            this.isValidAsync(fields, function(isValid, errors) {\n                if (isValid) {\n                    self.trigger('validation:success');\n                }\n                self.trigger('validation:complete', self._processValidationErrors(errors));\n\n                if (_.isFunction(callback)) {\n                    callback(isValid);\n                }\n            });\n        },\n\n        /**\n         * Runs sidecar validation on fields.\n         *\n         * @param {Array|Object} fields A hash of field definitions or array of field names to validate.\n         * @param {Object} errors validation errors object.\n         * @param {Function} callback Async.js waterfall callback\n         *\n         * - keys: field names, values: errors hash\n         * - errors hash is a collection of error definitions\n         * - error definition can be a primitive type or an object. It depends on validator.\n         *\n         * Example:\n         * <pre><code>\n         * {\n         *    first_name: {\n         *       maxLength: 20,\n         *       someOtherValidatorName: { some complex error definition... }\n         *    },\n         *    last_name: {\n         *       required: true\n         *    }\n         * }\n         * </code></pre>\n         *\n         * @private\n         */\n        _doValidate: function(fields, errors, callback) {\n            var value;\n\n            // fields can be either array or object\n            _.each(fields, function(field, fieldName) {\n                if (_.isString(field)) {\n                    fieldName = field;\n                    field = this.fields[fieldName];\n                }\n\n                value = this.get(fieldName);\n\n                if (field) { // Safeguard against missing field definitions\n                    _addValidationError(errors,\n                        app.validation.requiredValidator(field, field.name, this, value), fieldName, \"required\");\n\n                    if (value || value === 0) { // \"0\" must have validation\n                        _.each(app.validation.validators, function(validator, validatorName) {\n                            _addValidationError(errors, validator(field, value, this), fieldName, validatorName);\n                        }, this);\n                    }\n                }\n            }, this);\n\n            callback(null, fields, errors);\n        },\n\n        /**\n         * Adds a validation task to the validation waterfall\n         * @param {string} taskName The name of the task.\n         * @param {Function} validate The validation task\n         */\n        addValidationTask: function(taskName, validate) {\n            this._validationTasks = this._validationTasks || {};\n\n            this._validationTasks[taskName] = validate;\n        },\n\n        /**\n         * Remove a specified validation task from the bean.\n         * @param {string} taskName The name of the task\n         */\n        removeValidationTask: function(taskName) {\n            if (this._validationTasks) {\n                this._validationTasks = _.omit(this._validationTasks, taskName);\n            }\n        },\n\n        /**\n         * Processes validation errors and triggers validation error events.\n         * @param {Object} errors validation errors.\n         * @return {Boolean} `true` if `errors` parameter is empty, otherwise `false`.\n         * @private\n         */\n        _processValidationErrors: function(errors) {\n            var isValid = true;\n            if (!_.isEmpty(errors)) {\n                app.error.handleValidationError(this, errors);\n                _.each(errors, function(fieldErrors, fieldName) {\n                    this.trigger(\"error:validation:\" + fieldName, fieldErrors);\n                }, this);\n                this.trigger(\"error:validation\", errors);\n                isValid = false;\n            }\n\n            return isValid;\n        },\n\n        /**\n         * Overrides [Backbone.Model#save](http://backbonejs.org/#Model-save)\n         * so we can run async validation outside of the\n         * [standard validation loop](http://backbonejs.org/#Model-validate).\n         *\n         * This method checks if this bean is valid only if `options` hash\n         * contains `fieldsToValidate` parameter.\n         *\n         * @param {Object} [attributes] The model attributes.\n         * @param {Object} [options] standard save options as described by\n         *   Backbone docs.\n         * @param {Array} [options.fieldsToValidate] List of field names to\n         *   validate.\n         * @return {SUGAR.HttpRequest} Returns a {@link SUGAR.HttpRequest} if\n         *   There are no fields to validate, `undefined` if validation needs\n         *   to happen first.\n         */\n        save: function(attributes, options) {\n            if (!options || !options.fieldsToValidate) {\n                return Backbone.Model.prototype.save.call(this, attributes, options);\n            }\n\n            this.doValidate(options.fieldsToValidate, (isValid) => {\n                if (isValid) {\n                    return Backbone.Model.prototype.save.call(this, attributes, options);\n                }\n            });\n        },\n\n        /**\n         * Checks if a bean can have attachments.\n         *\n         * REST API introduced a convenience field called `attachment_list` which is an array\n         * with attachment information. Modules such as `Documents` and `KBDocuments` use this field\n         * to simplify access to file revisions.\n         * @return {Boolean} `true` if bean's field definition has `attachment_list` field.\n         */\n        canHaveAttachments: function() {\n            return _.has(this.fields, 'attachment_list');\n        },\n\n        /**\n         * Fetches a list of files (attachments).\n         *\n         * This method uses REST {@link SUGAR.Api#file} API to retrieve file list.\n         * @param callbacks(optional) Hash with success, error, and complete callbacks.\n         * @param options(optional) Request options. See {@link SUGAR.Api#file} for details.\n         */\n        getFiles: function(callbacks, options) {\n            options = options || {};\n            // The token will be passed in the header\n            options.passOAuthToken = false;\n            return app.api.file(\"read\", {\n                module: this.module,\n                id: this.id\n            }, null, callbacks, options);\n        },\n\n        /**\n         * Copies fields from a given bean into this bean.\n         *\n         * This method does not copy `id` field, `link`-type fields, and fields whose values are auto-incremented\n         * (metadata field definition has `auto_increment === true`).\n         * @param {Data.Bean} source The bean to copy the fields from.\n         * @param {Array} fields(optional) The fields to copy. All fields are copied if not specified.\n         * @param options(optional) Standard Backbone options that should be passed to `Backbone.Model#set` method.\n         */\n        copy: function(source, fields, options) {\n            var attrs = {};\n            var vardefs = app.metadata.getModule(this.module).fields;\n            fields = fields || _.pluck(vardefs, \"name\");\n\n            // Iterate over fields and copy everything except auto_increment fields, links, ID,\n            // or any field with an explicit duplicate_on_record_copy set to 'no'\n            _.each(fields, function(name) {\n                    var def = vardefs[name],\n                        permitCopy;\n\n                    if (!def || def.duplicate_on_record_copy === 'no') {\n                        return;\n                    }\n\n                    permitCopy = (def.duplicate_on_record_copy === 'always') ||\n                        (name !== 'id' && def.type !== 'link' &&\n                            !def.auto_increment);\n\n                    if (permitCopy && source.has(name)) {\n\n                        var value = source.get(name);\n                        // Perform deep copy in case the value is not a primitive type\n                        if (_.isObject(value)) {\n                            value = app.utils.deepCopy(value);\n                        }\n                        attrs[name] = value;\n                    }\n                }\n            );\n\n            this.set(attrs, options);\n            this.isCopied = true;\n        },\n\n        /**\n         * Returns whether the bean was populated as a result of a copy.\n         *\n         * @return {boolean} `true` if the bean was populated as a result of a\n         *   copy, `false` otherwise.\n         */\n        isCopy: function() {\n            return (this.isCopied === true);\n        },\n\n        /**\n         * Uploads a file.\n         * @param {string} fieldName Name of the file field.\n         * @param {Array} $files List of DOM elements that contain file inputs.\n         * @param {Object} [callbacks] Callback hash.\n         * @param {Object} [options] Upload options. See {@link SUGAR.Api#file}\n         *   method for details.\n         * @return {Object} XHR object.\n         */\n        uploadFile: function(fieldName, $files, callbacks, options) {\n            callbacks = callbacks || {};\n            options = options || {};\n\n            return app.api.file(\n                'create',\n                {\n                    //Set id to temp if we save a temporary file to reach correct API\n                    id: (options.temp !== true) ? this.id : 'temp',\n                    module: this.module,\n                    field: fieldName\n                },\n                $files,\n                callbacks,\n                options\n            );\n        },\n\n        /**\n         * Favorites or un-favorites a record.\n         * @param {boolean} flag Flag indicating if the record must be marked as favorite (`true`).\n         * @param {Object} options(optional) Standard Backbone options for Backbone.Model#save operation.\n         */\n        favorite: function(flag, options) {\n            options = options || {};\n            options.favorite = true;\n            return this.save({ my_favorite: !!flag }, options);\n        },\n\n        /**\n         * Subscribe/unsubscribe a record changes.\n         * @param {Boolean} flag Flag indicating subscribe (`true`) or unsubscribe (`false`)\n         * the record changes.\n         * @param {Object} options Options for {@link Backbone.Model#save} operation.\n         * @return {Object} `jqXHR` object or `false` if error occurs.\n         */\n        follow: function (flag, options) {\n            options = options || {};\n            flag = flag || false;\n            options.following = true;\n            return this.save({ following: flag }, options);\n        },\n\n        /**\n         * Retruns a flag indicating if a record is marked as favorite.\n         * @return {Boolean} `true` if the record is marked as favorite, `false` otherwise.\n         */\n        isFavorite: function() {\n            var flag = this.get(\"my_favorite\");\n            return (flag === \"1\" || flag === true);\n        },\n\n        /**\n         * Calculates difference between backup and changed model for restoring model.\n         * @param {Object} original Hash of original (backed up) values.\n         * @param {Array} exclude List of fields to exclude from comparison.\n         * @return {Object} Difference between original and the current model attributes.\n         */\n        getChangeDiff: function(original, exclude) {\n            var diff = {};\n            original = original || {};\n            exclude = exclude || [];\n\n            _.each(this.attributes, function(value, key) {\n                if (_.contains(exclude, key)) return;\n                var previousValue = original[key];\n                if (!_.isEqual(previousValue, value)) {\n                    diff[key] = previousValue;\n                }\n            });\n\n            return diff;\n        },\n\n        /**\n         * @inheritdoc\n         *\n         * Checks if the bean has changed\n         * @param {string} [attr] The attribute to check. if none is passed,\n         * checks all attributes and returne `true` if at least one has changed.\n         */\n        hasChanged: function(attr) {\n            if (_.isUndefined(attr)) {\n                let collections = this.getCollectionFields(this.attributes);\n                let hasChanged = _.some(collections, (coll, key) => {\n                    return !_.isEmpty(coll.getDelta());\n                }, this);\n\n                return hasChanged || Backbone.Model.prototype.hasChanged.call(this);\n            }\n\n            if (this.get(attr) instanceof app.MixedBeanCollection) {\n                return !_.isEmpty(this.get(attr).getDelta());\n            }\n\n            return Backbone.Model.prototype.hasChanged.call(this, attr);\n        },\n\n        /**\n         * Returns an object of attributes, containing what needs to be sent to\n         * the server when saving the bean . This method is called when\n         * JSON.stringify() is called on the bean.\n         *\n         * @inheritdoc\n         *\n         * @param {Object} [options]\n         * @param {Object} [options.fields] List of field names to be included\n         *   in the object of attributes. It retrieves all fields by default.\n         * @return {Object}\n         */\n        toJSON: function(options) {\n            var fields = (options && options.fields) ? options.fields : _.keys(this.attributes),\n                json = {};\n\n            _.each(fields, function(fieldName) {\n                let val = this.get(fieldName);\n                if (val instanceof app.MixedBeanCollection && !_.isEmpty(val.getDelta())) {\n                    _.each(val.getDelta(), (val, linkName) => {\n                        json[linkName] = val;\n                    });\n                } else {\n                    if (_.isObject(val) && _.isFunction(val.toJSON)) {\n                        app.logger.warn('Calling `toJSON` on object attributes is deprecated in 7.9 and will be ' +\n                            'removed in 7.10');\n                        val = val.toJSON(options);\n                    }\n\n                    json[fieldName] = val;\n                }\n            }, this);\n\n            return json;\n        },\n\n        /**\n         * Returns string representation useful for debugging:\n         * <code>bean:[module-name]/[id]</code>\n         * @return {string} string representation of this bean\n         */\n        toString: function() {\n            return \"bean:\" + this.module + \"/\" + (this.id ? this.id : \"<no-id>\");\n        },\n\n        /**\n         * Reverts model attributes to the last values from last sync or values on creation.\n         *\n         * @fires attributes:revert if `options.silent` is falsy.\n         *\n         * @param options Options are passed onto set such as `silent:true`.\n         */\n        revertAttributes: function(options) {\n            options = options || {};\n            options.revert = true;\n            var changedAttr = this.changedAttributes(this.getSynced());\n            this.set(app.utils.deepCopy(changedAttr) || {}, options);\n            if (!options.silent) {\n                this.trigger('attributes:revert');\n            }\n        },\n\n        /**\n         * Gets changed attributes.\n         *\n         * @param {Object} [attrs] A hash of attributes to compare the current\n         * bean attributes against\n         * @return {Object|boolean} `false` if nothing has changed. An object\n         * containing the attributes passed in parameters that are different\n         * from the bean ones.\n         */\n        changedAttributes: function (attrs) {\n            let collections = this.getCollectionFields(attrs);\n            if (!_.isUndefined(attrs)) {\n                attrs = _.omit(attrs, _.keys(collections));\n            }\n\n            let changed = Backbone.Model.prototype.changedAttributes.call(this, attrs);\n\n            _.each(collections, (val, key) => {\n                if (!_.isEmpty(this.get(key).getDelta())) {\n                    changed = changed || {};\n                    changed[key] = val;\n                }\n            }, this);\n\n            return changed;\n        },\n\n        /**\n         * Sets internal synced attribute hash that's used in revertAttributes.\n         *\n         * @param {Object} attributes Attributes of model to setup.\n         */\n        setSyncedAttributes: function(attributes) {\n            this._syncedAttributes = attributes ? app.utils.deepCopy(attributes) : {};\n        },\n\n        /**\n         * Gets the value of the synced attribute for the given key. If no key\n         * is passed, {@link #_syncedAttributes all synced attributes} are\n         * returned\n         *\n         * @param {string} [key] The attribute name.\n         * @return {Mixed} The synced attribute's value.\n         */\n        getSynced: function(key) {\n            return key ? this._syncedAttributes[key] : this._syncedAttributes;\n        },\n\n        /**\n         * Gets the default values (one or many).\n         *\n         * @param {string} [key] The name of the attribute.\n         * @return {Mixed} The default value if you passed a `key`, or the hash of\n         * default values.\n         */\n        getDefault: function(key) {\n            var defaults = _.clone(this._defaults) || {};\n            if (_.isUndefined(key)) {\n                return defaults;\n            }\n            return defaults[key];\n        },\n\n        /**\n         * Sets the default values (one or many) on the model, and fill in\n         * undefined attributes with the default values.\n         *\n         * @param {string|Object} key The name of the attribute, or an hash of\n         * attributes.\n         * @param {Mixed} [val] The default value for the `key` argument.\n         *\n         * @chainable\n         */\n        setDefault: function(key, val) {\n            var attrs;\n            if (_.isObject(key)) {\n                attrs = key;\n            } else {\n                (attrs = {})[key] = val;\n            }\n            this._defaults = _.extend({}, this._defaults, attrs);\n            this.attributes = _.defaults(this.attributes, attrs);\n            return this;\n        },\n\n        /**\n         * Sets the default fetch options (one or many) on the model.\n         *\n         * @param {string|Object} key The name of the option, or an hash of\n         * options.\n         * @param {Mixed} [val] The value for the `key` option.\n         *\n         * @chainable\n         */\n        setOption: function(key, val) {\n            var attrs;\n            if (_.isObject(key)) {\n                attrs = key;\n            } else {\n                (attrs = {})[key] = val;\n            }\n\n            /**\n             * List of persistent fetch options.\n             *\n             * @type {Object}\n             * @private\n             */\n            this._persistentOptions = _.extend({}, this._persistentOptions, attrs);\n            return this;\n        },\n\n        /**\n         * Unsets a default fetch option (or all).\n         *\n         * @param {string|Object} [key] The name of the option to unset, or\n         * nothing to unset all options.\n         *\n         * @chainable\n         */\n        unsetOption: function(key) {\n            if (key) {\n                this.setOption(key, void 0);\n            } else {\n                this._persistentOptions = {};\n            }\n            return this;\n        },\n\n        /**\n         * Gets one or all persistent fetch options.\n         *\n         * @param {string|Object} [key] The name of the option to retrieve, or\n         * nothing to retrieve all options.\n         * @return {Mixed} A specific option, or the list of options.\n         */\n        getOption: function(key) {\n            if (key) {\n                return this._persistentOptions[key];\n            }\n            return this._persistentOptions;\n        },\n\n        /**\n         * Return all fields of a given type.\n         *\n         * @param {string} type The type of the field to search for.\n         * @return {Array} List of fields filtered by the given type.\n         */\n        fieldsOfType: function(type) {\n            return _.where(this.fields, {type: type});\n        },\n\n        /**\n         * Gets a hash of collection fields attributes.\n         * @param {Object} [attrs] The hash of attributes to get the collection\n         * fields from. If empty, we use `this.attributes`.\n         * @return {Object} A hash of collection fields attributes.\n         */\n        getCollectionFields: function(attrs) {\n            return _.pick(attrs, _.pluck(this.fieldsOfType('collection'), 'name'));\n        },\n\n        /**\n         * A helper that merges changes into a bean attributes.\n         *\n         * The default implementation overrides attributes with changes.\n         * @param attributes Bean attributes.\n         * @param changes Object hash with changed attributes.\n         * @param module(optional) Module name.\n         * @returns {Object} Merged attributes.\n         */\n        merge: function(attributes, changes, module) {\n            return _.extend(attributes, changes);\n        }\n\n    }), false);\n\n    /**\n     * Adds validation error to the passed in error object.\n     * @param {Object} errors\n     * @param {Object} result\n     * @param {string} fieldName\n     * @param {string} validatorName\n     * @private\n     * @ignore\n     */\n    function _addValidationError(errors, result, fieldName, validatorName) {\n        if (_.isUndefined(result)) return;\n\n        if (_.isUndefined(errors[fieldName])) {\n            errors[fieldName] = {};\n        }\n        errors[fieldName][validatorName] = result;\n    }\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/bean.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Base bean collection class.\n *\n * **Filtering and searching**\n *\n * The collection's {@link Data.BeanCollection#fetch} method supports filter and seach options.\n * For example, to search favorite accounts that have `\"Acme\"` string in their name:\n * <pre><code>\n * (function(app) {\n *\n *     var accounts = app.data.createBeanCollection(\"Accounts\");\n *     accounts.fetch({\n *         favorites: true,\n *         query: \"Acme\"\n *     });\n *\n * })(SUGAR.App);\n * </code></pre>\n *\n *\n * @class Data.BeanCollection\n * @alias SUGAR.App.BeanCollection\n * @extends Backbone.Collection\n */\n(function(app) {\n\n    app.augment('BeanCollection', Backbone.Collection.extend({\n\n        /**\n         * The request object that is currently syncing against the server.\n         *\n         * This object is needed to determine if a fetch request should be\n         * aborted for the collection (e.g. if a new fetch request returns a\n         * response prior to a previous fetch request).\n         *\n         * @private\n         * @member Data.BeanCollection\n         * @property {SUGAR.Api.HttpRequest}\n         */\n        _activeFetchRequest: null,\n\n        /**\n         * The default model of a bean collection is a {@link Data.Bean}.\n         *\n         * **Note:** Please do not manipulate this property directly.\n         * This property should never be modified directly.\n         *\n         * @property {Data.Bean}\n         * @override\n         */\n        model: app.Bean,\n\n        /**\n         * Prepare related bean collections and attach collection plugins.\n         *\n         * @override\n         *\n         * @param {Array} models initial array of models.\n         * @param {Object} [options]\n         */\n        constructor: function(models, options) {\n            app.plugins.attach(this, 'collection');\n            if (options && options.link) {\n                this.link = options.link;\n                delete options.link;\n            }\n            Backbone.Collection.prototype.constructor.call(this, models, options);\n        },\n\n        /**\n         * Saves a private copy of initial options for reset\n         *\n         * @param {Array} models initial array of models\n         * @param {Object} options\n         */\n        initialize: function(models, options) {\n\n            /**\n             * List of persistent fetch options.\n             *\n             * @type {Object}\n             * @private\n             */\n            this._persistentOptions = {};\n\n            /**\n             * Object keeping track of created models added into the collection\n             * that are not synced yet.\n             *\n             * @type {Array}\n             */\n            this._create = [];\n\n            /**\n             * Initial fetch options.\n             *\n             * @deprecated 7.7 will be removed in 7.8. Please use {@link #setOption}\n             *   if you want to set persistent options.\n             *\n             * @type {Object}\n             * @private\n             */\n            if (!_.isEmpty(options)) {\n                options = app.utils.deepCopy(options);\n                this.setOption(options);\n                app.logger.warn('You should not pass persistent fetch options in initialize ' +\n                '(The options hash is supposed to be Backbone.js options hash, allowing you ' +\n                'to pass Backbone options used when setting the models into the collection).' +\n                ' Please use setOption() instead.');\n            }\n            this._initOptions = options;\n\n            this._bindCollectionEvents();\n\n            Backbone.Collection.prototype.initialize.call(this, models, options);\n\n            /**\n             * Readonly property for the total records in server.\n             *\n             * Use {@link #fetchTotal} to get the current total.\n             * @type {number}\n             */\n            this.total = null;\n        },\n\n        /**\n         * Bind collection events to activeRequest.\n         *\n         * @private\n         */\n        _bindCollectionEvents: function() {\n\n            this.on('data:sync:complete', function() {\n                var activeFetchRequest = this.getFetchRequest();\n                if (activeFetchRequest) {\n                    this._activeFetchRequest = null;\n                }\n            }, this);\n\n            this.on('remove', this._decrementTotal, this);\n        },\n\n        /**\n         * Decrements the {@link #total collection total}.\n         *\n         * @protected\n         */\n        _decrementTotal: function() {\n            if (this.total) {\n                this.total--;\n            }\n        },\n\n        /**\n         * @inheritdoc\n         *\n         * Keeps track of the added models.\n         *\n         * @param {Object|Object[]|Data.Bean|Data.Bean[]} models The models to add.\n         * @param {Object} options A hash of options.\n         */\n        add: function (models, options) {\n            models = Backbone.Collection.prototype.add.call(this, models, options);\n\n            if (_.isUndefined(models)) {\n                return models;\n            }\n\n            models = _.isArray(models) ? models : [models];\n\n            _.each(models, (model) => {\n                if (model instanceof this.model ? model.isNew() : !model.id) {\n                    this._create.push(model);\n                }\n            }, this);\n\n            return models.length === 1 ? models[0] : models;\n        },\n\n        /**\n         * @inheritdoc\n         *\n         * Keeps track of the removed models.\n         *\n         * @param {Object|Object[]|Data.Bean|Data.Bean[]} models The models to remove\n         * @param {Object} options A hash of options.\n         */\n        remove: function (models, options) {\n            models = Backbone.Collection.prototype.remove.call(this, models, options);\n\n            if (_.isUndefined(models)) {\n                return models;\n            }\n\n            models = _.isArray(models) ? models : [models];\n\n            _.each(models, (model) => {\n                if (model instanceof this.model ? model.isNew() : !model.id) {\n                    this._create = _.without(this._create, model);\n                }\n            }, this);\n\n            return models.length === 1 ? models[0] : models;\n        },\n\n        /**\n         * @inheritdoc\n         *\n         * Keeps track of the unsync changes on the collection.\n         *\n         * @param {Object|Object[]|Data.Bean|Data.Bean[]} models The models to\n         * reset the collection with.\n         * @param {Object} options A hash of options.\n         */\n        reset: function (models, options) {\n            this.resetDelta();\n            return Backbone.Collection.prototype.reset.call(this, models, options);\n        },\n\n        /**\n         * Gets a hash of unsynced changes operated on the collection.\n         *\n         * @return {Object} A hash representing the unsynced changes.\n         */\n        getDelta: function () {\n            if (_.isEmpty(this._create)) {\n                return {};\n            }\n\n            return {\n                create: _.invoke(this._create, 'toJSON'),\n            };\n        },\n\n        /**\n         * Resets the delta object representing the unsaved collection changes\n         */\n        resetDelta: function() {\n            this._create = [];\n        },\n\n        /**\n         * Disposes a collection.\n         *\n         */\n        dispose: function() {\n            app.plugins.detach(this, \"collection\");\n        },\n\n        /**\n         * Prepare the model to be added to the collection\n         *\n         * @param {Data.Bean} model to be added.\n         * @param {Object} [options] to be passed to\n         *   {@link Backbone.Collection#_prepareModel} method.\n         * @return {Data.Bean} prepared model.\n         * @private\n         */\n        _prepareModel: function(model, options) {\n            var searchInfo = model._search;\n            delete model._search;\n\n            model = Backbone.Collection.prototype._prepareModel.call(this, model, options);\n            if (model && !model.link) model.link = this.link;\n            if (searchInfo) {\n                /**\n                 * FTS search results.\n                 * @member Data.Bean\n                 * @property {Object}\n                 *\n                 * Example:\n                 * <pre>\n                 * {\n                 *   highlighted: {\n                 *      account_name: {\n                 *        label: \"LBL_ACCOUNT_NAME\",\n                 *        module: \"Leads\",\n                 *        text: \"Kings Royalty &lt;span class=\"highlight\"&gt;Trust&lt;/span&gt;\"\n                 *      }\n                 *    },\n                 *    score: 1\n                 * }\n                 * </pre>\n                 */\n                model.searchInfo = searchInfo;\n            }\n            return model;\n        },\n\n        /**\n         * Fetches beans. See {@link Data.BeanCollection#paginate} for details\n         * about pagination options.\n         *\n         * Only one fetch request can be executed at a time - previous fetch\n         * requests will be aborted.\n         *\n         * @param {Object} [options] Fetch options.\n         * @param {boolean} [options.relate] `true` if relationships should be\n         *   fetched. `false` otherwise.\n         * @param {boolean} [options.myItems] `true` if only records assigned to\n         *   the current user should be fetched. `false` otherwise.\n         * @param {boolean} [options.favorites] `true` if favorited records should\n         *   be fetched. `false` otherwise.\n         * @param {boolean} [options.add] `true` if new records should be appended\n         *   to the collection. `false` otherwise.\n         * @param {string} [options.query] Search query string.\n         * @param {Function} [options.success] The success callback to execute.\n         * @param {Function} [options.error] The error callback to execute.\n         */\n        fetch: function(options) {\n            options = _.extend({}, this.getOption(), options);\n\n            this.abortFetchRequest();\n            /**\n             * Field names.\n             *\n             * A list of fields that are populated on collection members.\n             * This property is used to build `fields` URL parameter when\n             * fetching beans.\n             *\n             * @member Data.BeanCollection\n             * @property {Array}\n             */\n            options.fields = this.fields = options.fields || this.fields || null;\n            options.myItems = _.isUndefined(options.myItems) ? this.myItems : options.myItems;\n            options.favorites = _.isUndefined(options.favorites) ? this.favorites : options.favorites;\n            options.query = _.isUndefined(options.query) ? this.query : options.query;\n\n            // FIXME SC-5596: This option is temporary, and was added as part of\n            // SC-2703. It will be removed when we update our sidecar components\n            // to listen on `update` instead of reset.\n            options.reset = _.isUndefined(options.reset) ? true : options.reset;\n\n            this._activeFetchRequest = Backbone.Collection.prototype.fetch.call(this, options);\n            return this.getFetchRequest();\n        },\n\n        /**\n         * Returns currently active fetch request\n         * @returns {SUGAR.Api.HttpRequest} - active http fetch request\n         */\n        getFetchRequest: function () {\n            if (_.isFunction(this._activeFetchRequest)) {\n                return this._activeFetchRequest();\n            } else {\n                return this._activeFetchRequest;\n            }\n        },\n\n        /**\n         * Aborts currently active fetch request\n         */\n        abortFetchRequest: function () {\n            var activeFetchRequest = this.getFetchRequest();\n            if (activeFetchRequest) {\n                app.api.abortRequest(activeFetchRequest.uid);\n                this._activeFetchRequest = null;\n            }\n        },\n\n        /**\n         * Resets pagination properties on a collection to initial options,\n         * otherwise defaults to first page\n         */\n        resetPagination:function(){\n            var paginationDefaults = {offset: 0, next_offset: 0, page: 1};\n            var optKeys = _.keys(paginationDefaults);\n            this.resetOptions(optKeys);\n            var options = this.getOption();\n            _.each(optKeys, function(optKey) {\n                this[optKey] = options[optKey] || paginationDefaults[optKey];\n            }, this);\n        },\n        /**\n         * Resets optionsList to original values from init, clears them if no optionsList specified\n         *\n         * @deprecated 7.7 will be removed in 7.8. Please use {@link #setOption}/{@link #unsetOption}\n         *   if you want to set persistent options.\n         *\n         * @param {Array} optionsList(optional) array of option keys to reset\n         */\n        resetOptions: function (optionsList) {\n            if (_.isEmpty(this._initOptions) && _.isEmpty(this.getOption())) {\n                // clear options if none existed when we started\n                this.unsetOption();\n            } else {\n                // reset specific options if specified\n                _.each(optionsList, function (option) {\n                    if (!_.isUndefined(this._initOptions[option])) {\n                        this.setOption(option, this._initOptions[option]);\n                    } else if (!_.isEmpty(this.options) && _.has(this.options, option)) {\n                        this.unsetOption(option);\n                    }\n                }, this);\n            }\n        },\n\n        /**\n         * Paginates a collection.\n         *\n         * @param options(optional) fetch options\n         *\n         * - page: page index (integer) from the current page to paginate to.\n         *\n         * For other options see {@link Data.BeanCollection#fetch} method.\n         */\n        paginate: function(options) {\n            options = options || {};\n            var maxSize = options.limit || app.config.maxQueryResult;\n            options.page = options.page || 1;\n\n            // Since we're paginating, we want the Collection.set method to be\n            // invoked instead of `reset`.\n            options.reset = _.isUndefined(options.reset) ? false : options.reset;\n\n            // fix page number since our offset is already at the end of the collection subset\n            options.page--;\n\n            if (maxSize) {\n                options.offset = this.offset + (options.page * maxSize);\n            }\n\n            if (options.add){\n                options = _.extend({update:true, remove:false}, options);\n            }\n\n            this.fetch(options);\n        },\n\n        /**\n         * Fetches the total amount of records on the bean collection, and sets\n         * it on the {@link #total} property.\n         *\n         * Returns the total amount of filtered records if a `filterDef`\n         * property is set on the collection.\n         *\n         * @param {Object} [options] Fetch total options.\n         * @param {Function} [options.success] Success callback.\n         * @param {Function} [options.complete] Complete callback.\n         * @param {Function} [options.error] Error callback.\n         * @return {SUGAR.HttpRequest} Result of {@link SUGAR.Api#call}.\n         */\n        fetchTotal: function(options) {\n            options = options || {};\n\n            if (!_.isNull(this.total) && _.isFunction(options.success)) {\n                options.success.call(this, this.total);\n                return;\n            }\n\n            options.success = _.wrap(options.success, _.bind(function(orig, data) {\n                this.total = parseInt(data.record_count, 10);\n                if (orig && _.isFunction(orig)) {\n                    orig(this.total);\n                }\n            }, this));\n\n            var module = this.module;\n            var data = null;\n            options.filter = options.filterDef || this.filterDef;\n\n            if (this.link) {\n                data = {\n                    id: this.link.bean.id,\n                    link: this.link.name\n                };\n                module = this.link.bean.module;\n            }\n\n            var callbacks = _.pick(options, 'success', 'complete', 'error');\n            options = _.omit(options, 'success', 'complete', 'error');\n\n            return app.api.count(module, data, callbacks, options);\n        },\n\n        /**\n         * A convenience method that checks to see if there are at least the\n         * amount of records passed in `amount`. Also passes to a provided\n         * success callback the length of records up to `amount`, and if there\n         * are more records to be fetched (`hasMore`).\n         *\n         * Fetches the partial amount of filtered records if a `filterDef`\n         * property is set on the collection.\n         *\n         * @param {number} amount The number of records to check if there are a\n         *   minimum of.\n         * @param {Object} [options] Fetch partial total options.\n         * @param {Object} [options.filterDef] Filter definition to be applied.\n         * @param {Function} [options.success] Success callback.\n         * @param {Function} [options.complete] Complete callback.\n         * @param {Function} [options.error] Error callback.\n         * @return {SUGAR.HttpRequest} Result of {@link SUGAR.Api#call}.\n         */\n        hasAtLeast: function(amount, options) {\n            options = options || {};\n            var method = 'read';\n            options.fields = ['id'];\n            delete options.view;\n            options.silent = true;\n            options.success = _.wrap(options.success, _.bind(function(orig, data) {\n                var length = data.records.length;\n                var hasAtLeastAmount = length >= amount;\n                var properties = {\n                    length: length,\n                    hasMore: data.next_offset !== -1\n                };\n\n                if (_.isFunction(orig)) {\n                    orig(hasAtLeastAmount, properties);\n                }\n\n                this.reset(null, {silent: true});\n            }, this));\n\n            var module = this.module;\n            var data = null;\n            var endpoint = 'records';\n            options.filter = options.filterDef || this.filterDef;\n            options.limit = options.limit || amount;\n\n            if (this.link) {\n                data = {\n                    id: this.link.bean.id,\n                    link: this.link.name\n                };\n                module = this.link.bean.module;\n                endpoint = 'relationships';\n            }\n\n            var callbacks = _.pick(options, 'success', 'complete', 'error');\n            options = _.omit(options, 'success', 'complete', 'error');\n            options = app.data.parseOptionsForSync(method, this, options);\n\n            return app.api[endpoint](method, module, data, options.params, callbacks, options.apiOptions);\n        },\n\n        /**\n         * Gets the current page of collection being displayed depending on the offset.\n         *\n         * @param options(Optional) fetch options used when paginating\n         *\n         * - limit: When set, it is the size of each page otherwise we use app.config.maxQueryResult\n         *\n         * @return {Number} current page number.\n         */\n        getPageNumber: function(options) {\n            var pageNumber = 1;\n            var maxSize = app.config.maxQueryResult;\n            if(options){\n                maxSize = options.limit || maxSize;\n            }\n            if (this.offset && maxSize) {\n                pageNumber = Math.ceil(this.offset / maxSize);\n            }\n            return pageNumber;\n        },\n\n        /**\n         * Returns string representation useful for debugging:\n         * <code>coll:[module-name]-[length]</code>  or\n         * <code>coll:[related-module-name]/[id]/[module-name]-[length]</code> if it's a collection of related beans.\n         * @return {String} string representation of this collection.\n         */\n        toString: function() {\n            return \"coll:\" + (this.link ?\n                (this.link.bean.module + \"/\" + this.link.bean.id + \"/\") : \"\") +\n                this.module + \"-\" + this.length;\n        },\n\n        /**\n         * Returns the next model in a collection, paginating if needed.\n         * @param {Object} current Current model or id of a model.\n         * @param {Object} callback Callback for success call.\n         * @return {Object} Next model in collection or ``null``\n         * if current model is last item in collection.\n         */\n        getNext: function(current, callback) {\n            var ind = -1;\n            var nextFn = () => { callback.apply(this, [this.at(ind + 1), 'next']); };\n\n            if (this.hasNextModel(current)) {\n                ind = this.getModelIndex(current);\n                if (ind + 1 >= this.length) {\n                    this.paginate({\n                        add: true,\n                        success: nextFn,\n                    });\n                } else {\n                    nextFn();\n                }\n            }\n        },\n\n        /**\n         * Returns the previous model in a collection.\n         * @param {Object} current Current model or id of a model.\n         * @param {Object} callback Callback for success call.\n         * @return {Object} Previous model in collection or ``null``\n         * if current model is first item in collection.\n         */\n        getPrev: function (current, callback) {\n            var ind = -1,\n                result = null,\n                self = this;\n            if (this.hasPreviousModel(current)) {\n                ind = this.getModelIndex(current);\n                result = this.at(ind - 1);\n            }\n            callback.apply(self, [result, 'prev']);\n        },\n\n        /**\n         * Check whether is there next model in collection.\n         * @param  {Object} current Current model or id of a model.\n         * @return {Boolean} ``true`` if has next model, ``false`` otherwise.\n         */\n        hasNextModel: function(current) {\n            var index = this.getModelIndex(current),\n                offset = !_.isUndefined(this.next_offset) ? parseInt(this.next_offset, 10) : -1;\n            return index >= 0 && ((this.length > index + 1 ) || offset !== -1);\n        },\n\n        /**\n         * Check whether is there previous model in collection.\n         * @param  {Object} current Current model or id of a model.\n         * @return {Boolean} ``true`` if has previous model, ``false`` otherwise.\n         */\n        hasPreviousModel: function (current) {\n            return this.getModelIndex(current) > 0;\n        },\n\n        /**\n         * Return index of the model in collection.\n         * @param  {Object} model Current model.\n         * @return {Number}\n         */\n        getModelIndex: function (model) {\n            return this.indexOf(this.get(model.id));\n        },\n\n        /**\n         * Sets the default fetch options (one or many) on the model.\n         *\n         * @param {string|Object} key The name of the attribute, or an hash of\n         * attributes.\n         * @param {Mixed} [val] The default value for the `key` argument.\n         *\n         * @chainable\n         */\n        setOption: function(key, val) {\n            var attrs;\n            if (_.isObject(key)) {\n                attrs = key;\n            } else {\n                (attrs = {})[key] = val;\n            }\n\n            _.extend(this._persistentOptions, attrs);\n            return this;\n        },\n\n        /**\n         * Unsets a default fetch option (or all).\n         *\n         * @param {string|Object} [key] The name of the option to unset, or\n         * nothing to unset all options.\n         *\n         * @chainable\n         */\n        unsetOption: function(key) {\n            if (key) {\n                this.setOption(key, void 0);\n            } else {\n                this._persistentOptions = {};\n            }\n            return this;\n        },\n\n        /**\n         * Gets one or all persistent fetch options.\n         *\n         * @param {string|Object} [key] The name of the option to retrieve, or\n         * nothing to retrieve all options.\n         * @return {Mixed} A specific option, or the list of options.\n         */\n        getOption: function(key) {\n            if (key) {\n                return this._persistentOptions[key];\n            }\n            return this._persistentOptions;\n        },\n\n        /**\n         * Clones the {@link #link} and all the persistent options of the\n         * Collection.\n         *\n         * @return {Data.BeanCollection} The new collection with an identical\n         * list of models as this one.\n         *\n         * @override\n         */\n        clone: function() {\n            var newCol = Backbone.Collection.prototype.clone.call(this);\n            newCol.link = _.clone(this.link);\n            newCol.setOption(_.clone(this.getOption()));\n            return newCol;\n        }\n    }), false);\n}(SUGAR.App));\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/bean-collection.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Mixed collection class.\n *\n * Supports wrapping multiple related collections by link to allow aggregated interactions across\n * multiple relationships. Does not support direct fetch at this time except in search mode.\n *\n * **Filtering and searching**\n *\n * The collection's {@link Data.BeanCollection#fetch} method supports filter and search options.\n * For example, to search across accounts, opportunities, and contacts for favorite records\n * that have `\"Acme\"` string in their searchable fields:\n * <pre><code>\n * (function(app) {\n *\n *     var records = app.data.getMixedBeanCollection();\n *     records.fetch({\n *         favorites: true,\n *         query: \"Acme\",\n *         module_list: \"Accounts,Opportunities,Contacts\"\n *     });\n *\n * })(SUGAR.App);\n * </code></pre>\n *\n *\n * @class Data.MixedBeanCollection\n * @alias SUGAR.App.MixedBeanCollection\n * @extends Data.BeanCollection\n */\n(function(app) {\n\n    app.augment(\"MixedBeanCollection\", app.BeanCollection.extend({\n\n        /**\n         * Creates collections for each one of the links passed in the options.\n         * The mixed bean collection will keep those collection in sync with\n         * the mixed bean collection.\n         *\n         * @param {Array} models The initial models of the mixed bean collection.\n         * @param {Object} options A hash of options.\n         * @param {Array} options.links The links related to the mixed bean\n         *   collection. A link is a collection of a particular module. A mixed\n         *   bean collection will handle synchronization between its records and\n         *   the ones in its link collections.\n         */\n        initialize: function (models, options) {\n            this._linkedCollections = {};\n\n            options = options || {};\n            if (options.links) {\n                _.each(options.links, function(collection, link) {\n                    //Check if collection is a module name rather than an existing collection\n                    if (_.isString(collection)) {\n                        this._linkedCollections[link] = app.data.createBeanCollection(collection);\n                    } else {\n                        this._linkedCollections[link] = collection;\n                    }\n\n                    this.listenTo(this._linkedCollections[link], 'add', this._onLinkAdd);\n                    this.listenTo(this._linkedCollections[link], 'remove', this._onLinkRemove);\n                    this.listenTo(this._linkedCollections[link], 'reset', this._onLinkReset);\n                }, this);\n\n                delete options.links;\n            }\n\n            app.BeanCollection.prototype.initialize.call(this, models, options);\n        },\n\n        /**\n         * Sets the `model` class to match the given model.\n         * @param {Data.Bean} model The bean to be added to the collection.\n         * @param {Object} options A hash of options.\n         * @return {Data.Bean} The prepared bean.\n         */\n        _prepareModel: function (model, options) {\n            var module = model instanceof app.Bean ? model.module : model._module;\n            this.model = app.data.getBeanClass(module);\n            return app.BeanCollection.prototype._prepareModel.call(this, model, options);\n        },\n\n        /**\n         * Callback to add a bean to the collection when it got added to a\n         * linked collection.\n         * @param {Data.Bean} model The bean to add.\n         * @param {Data.BeanCollection} collection The collection where the\n         * bean got added.\n         * @param {Object} [options] A hash of options.\n         */\n        _onLinkAdd: function(model, collection, options) {\n            if (this._updating) {\n                return;\n            }\n\n            app.BeanCollection.prototype.add.call(this, model);\n        },\n\n        /**\n         * Callback to remove a bean from the collection when it got removed\n         * from a linked collection.\n         *\n         * @param {Data.Bean} model The bean to remove.\n         * @param {Data.BeanCollection} collection The collection from which the\n         * bean got removed.\n         * @param {Object} [options] A hash of options.\n         */\n        _onLinkRemove: function (model, collection, options) {\n            if (this._updating) {\n                return;\n            }\n\n            app.BeanCollection.prototype.remove.call(this, model);\n        },\n\n        /**\n         * Callback to update the collection when a linked collection got reset.\n         *\n         * @param {Data.BeanCollection} collection The linked collection that\n         * got reset.\n         */\n        _onLinkReset: function (collection) {\n            var groupedBeans = _.groupBy(this.models, function (model) {\n                return model instanceof app.Bean ? model.get('_link') : model._link;\n            });\n\n            var linkName = _.findKey(this._linkedCollections, val => val === collection);\n\n            app.BeanCollection.prototype.remove.call(this, groupedBeans[linkName]);\n            app.BeanCollection.prototype.add.call(this, collection.models);\n        },\n\n        /**\n         * Adds models to the matching linked collections.\n         */\n        add: function (models, options) {\n            // We don't call the BeanCollection method because a mixed bean\n            // collection does not need to track it's own deltas.\n            models = Backbone.Collection.prototype.add.call(this, models, options);\n            if (_.isEmpty(this._linkedCollections)) {\n                return models;\n            }\n\n            this._updating = true;\n            options = options || {};\n\n            if (!_.isUndefined(models) && !_.isArray(models)) {\n                models = [models];\n            }\n\n            _.each(models, function (model) {\n                var link = model.get('_link');\n                if (!link) {\n                    return;\n                }\n\n                if (this._linkedCollections[link]) {\n                    this._linkedCollections[link].add(model, options);\n                }\n            }, this);\n\n            this._updating = false;\n\n            return models;\n        },\n\n        /**\n         * Removes models from the matching linked collections.\n         */\n        remove: function (models, options) {\n            // We don't call the BeanCollection method because a mixed bean\n            // collection does not need to track it's own deltas.\n            models = Backbone.Collection.prototype.remove.call(this, models, options);\n            if (_.isEmpty(this._linkedCollections)) {\n                return models;\n            }\n\n            this._updating = true;\n            options = options || {};\n\n            if (!_.isUndefined(models) && !_.isArray(models)) {\n                models = [models];\n            }\n\n            _.each(models, function (model) {\n                var link = model.get('_link');\n                if (!link) {\n                    return;\n                }\n\n                if (this._linkedCollections[link]) {\n                    this._linkedCollections[link].remove(model, options);\n                }\n            }, this);\n\n            this._updating = false;\n\n            return models;\n        },\n\n        /**\n         * Resets linked collection\n         */\n        reset: function (models, options) {\n            if (_.isEmpty(this._linkedCollections)) {\n                // We don't call the BeanCollection method because a mixed bean\n                // collection does not need to track it's own deltas.\n                return Backbone.Collection.prototype.reset.call(this, models, options);\n            }\n\n            var sortedBeans = _.groupBy(models, function (model) {\n                return model instanceof app.Bean ? model.get('_link') : model._link;\n            });\n\n            _.each(this._linkedCollections, function (collection, link) {\n                collection.reset(sortedBeans[link], options);\n            }, this);\n        },\n\n        /**\n         * Gets changes made on the linked collections.\n         *\n         * @return {Object} The object representing the changes made on the\n         * linked collections since the last sync.\n         *\n         * TODO: SC-6145 will add `add` and `delete` arrays.\n         */\n        getDelta: function() {\n            var result = {};\n            _.each(this._linkedCollections, (val, linkName) => {\n                let delta = val.getDelta();\n                if (_.isEmpty(delta)) {\n                    return;\n                }\n\n                result[linkName] = delta;\n            }, this);\n\n            return result;\n        },\n\n        /**\n         * Resets the delta object on each linked collection.\n         */\n        resetDelta: function() {\n            _.each(this._linkedCollections, (val, linkName) => {\n                val.resetDelta();\n            });\n        },\n\n        /**\n         * Fetches records.\n         *\n         * This method performs global search across multiple modules.\n         * @param options(optional) Fetch options.\n         *\n         * - module_list: comma-delimited list of modules to search across. The default is a list of all displayable modules.\n         *\n         * See {@link Data.BeanCollection#fetch} method for details about the reset of the options.\n         *\n         */\n        fetch: function(options) {\n            options = options || {};\n            // We set a list of all modules by default\n            options.module_list = this.module_list = options.module_list || this.module_list || app.metadata.getModuleNames({filter: 'visible'});\n            return app.BeanCollection.prototype.fetch.call(this, options);\n        },\n\n        /**\n         * Groups models by module name.\n         * @return {Object} Sets of models. Key is module name, value is array of models.\n         */\n        groupByModule: function() {\n            return _.groupBy(this.models, function(model) {\n                return model.module;\n            });\n        },\n\n        /**\n         * Returns string representation of this collection:\n         * <code>mcoll:[length]</code>\n         * @return {String} string representation of this collection.\n         */\n        toString: function() {\n            return \"mcoll:\" + this.length;\n        }\n\n    }), false);\n\n}(SUGAR.App));\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/mixed-bean-collection.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Manages bean model and collection classes.\n *\n * **Data manager provides:**\n *\n * - Interface to declare bean model and collection classes from metadata.\n * - Factory methods for creating instances of beans and bean collections.\n * - Factory methods for creating instances of bean relations and relation collections.\n * - Custom implementation of <code>Backbone.sync</code> pattern.\n *\n * **Data model metadata**\n *\n * Metadata that describes the data model contains information about module fields and its relationships.\n * From the following sample metadata, data manager would declare two classes: Opportunities and Contacts.\n * <pre><code>\n * var metadata =\n * {\n *   \"modules\": {\n *     \"Opportunities\": {\n *        \"fields\": {\n *            \"name\": { ... },\n *            ...\n *        }\n *      },\n *      \"Contacts\": { ... }\n *    }\n *    \"relationships\": {\n *        \"opportunities_contacts\": { ... },\n *         ...\n *    }\n *\n * }\n * </code></pre>\n *\n * **Working with beans**\n *\n * <pre><code>\n * (function(app) {\n *\n * // Declare bean classes from metadata payload.\n * // This method should be called at application start-up and whenever the metadata changes.\n * app.data.declareModels(metadata);\n * // You may now create bean instances using factory methods.\n * var opportunity = app.data.createBean(\"Opportunities\", { name: \"Cool opportunity\" });\n * // You can save a bean using standard Backbone.Model.save method.\n * // The save method will use data manager's sync method to communicate changes to the remote server.\n * opportunity.save();\n *\n * // Create an empty collection of contacts.\n * var contacts = app.data.createBeanCollection(\"Contacts\");\n * // Fetch a list of contacts\n * contacts.fetch();\n *\n * })(SUGAR.App);\n * </code></pre>\n *\n * **Working with relationships**\n *\n * <pre><code>\n * (function(app) {\n *\n * var attrs = {\n *   firstName: \"John\",\n *   lastName: \"Smith\",\n *   // relationship field\n *   opportunityRole: \"Influencer\"\n * }\n * // Create a new instance of a contact related to an existing opportunity\n * var contact = app.data.createRelatedBean(opportunity, null, \"contacts\", attrs);\n * // This will save the contact and create the relationship\n * contact.save(null, { relate: true });\n *\n * // Create an instance of contact collection related to an existing opportunity\n * var contacts = app.data.createRelatedCollection(opportunity, \"contacts\");\n * // This will fetch related contacts\n * contacts.fetch({ relate: true });\n *\n * })(SUGAR.App);\n * </code></pre>\n *\n * @class Data.DataManager\n * @alias SUGAR.App.data\n * @singleton\n */\n(function(app) {\n\n    // Bean class cache\n    var _models = {};\n    // Bean collection class cache\n    var _collections = {};\n\n    var _dataManager = _.extend({\n\n        /**\n         * Reference to the base bean model class. Defaults to {@link Data.Bean}.\n         * @property {Data.Bean}\n         */\n        beanModel: app.Bean,\n        /**\n         * Reference to the base bean collection class. Defaults to {@link Data.BeanCollection}.\n         * @property {Data.BeanCollection}\n         */\n        beanCollection: app.BeanCollection,\n        /**\n         * Reference to the base mixed bean collection class. Defaults to {@link Data.MixedBeanCollection}.\n         * @property {Data.MixedBeanCollection}\n         */\n        mixedBeanCollection: app.MixedBeanCollection,\n\n        /**\n         * Initializes data manager.\n         * @method\n         */\n        init: function() {\n            var sync = _.bind(this.sync, this);\n            app.Bean.prototype.sync = sync;\n            app.BeanCollection.prototype.sync = sync;\n\n            app.events.register(\n                /**\n                 * Fires when the sync operation starts.\n                 *\n                 * Two parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - reference to the model/collection\n                 *  - options\n                 *\n                 * <pre><code>\n                 * (function(app) {\n                 *     app.events.on(\"data:sync:start\", function(method, model, options) {\n                 *         app.logger.debug(\"Started operation \" + method + \" on \" + model);\n                 *     });\n                 * })(SUGAR.App);\n                 * </code></pre>\n                 * @event\n                 */\n                \"data:sync:start\",\n                this\n            );\n\n            app.events.register(\n                /**\n                 * Fires when the sync operation ends.\n                 *\n                 * Three parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - reference to the model/collection\n                 *  - options\n                 *  - request (SUGAR.Api.HttpRequest)\n                 *\n                 * <pre><code>\n                 * (function(app) {\n                 *     app.events.on(\"data:sync:complete\", function(method, model, options, request) {\n                 *         app.logger.debug(\"Finished operation \" + method + \" on \" + model);\n                 *     });\n                 * })(SUGAR.App);\n                 * </code></pre>\n                 * @event\n                 */\n                \"data:sync:complete\",\n                this\n            );\n\n            app.events.register(\n                /**\n                 * Fires when the sync operation ends successfully.\n                 *\n                 * Four parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - reference to the model/collection\n                 *  - options\n                 *  - request (SUGAR.Api.HttpRequest)\n                 *\n                 * <pre><code>\n                 * (function(app) {\n                 *     app.events.on(\"data:sync:success\", function(method, model, options, request) {\n                 *         app.logger.debug(\"Finished operation \" + method + \" on \" + model);\n                 *     });\n                 * })(SUGAR.App);\n                 * </code></pre>\n                 * @event\n                 */\n                \"data:sync:success\",\n                this\n            );\n\n            app.events.register(\n                /**\n                 * Fires when the sync operation ends unsuccessfully.\n                 *\n                 * Four parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - reference to the model/collection\n                 *  - options\n                 *  - error (SUGAR.Api.HttpError)\n                 *\n                 * <pre><code>\n                 * (function(app) {\n                 *     app.events.on(\"data:sync:error\", function(method, model, options, error) {\n                 *         app.logger.debug(\"Operation failed \" + method + \" on \" + model);\n                 *     });\n                 * })(SUGAR.App);\n                 * </code></pre>\n                 * @event\n                 */\n                \"data:sync:error\",\n                this\n            );\n\n            app.events.register(\n                /**\n                 * Fires when the sync operation was aborted.\n                 *\n                 * Four parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - reference to the model/collection\n                 *  - options\n                 *  - request {@link SUGAR.Api.HttpRequest}\n                 *\n                 *     (function(app) {\n                 *         app.events.on(\"data:sync:abort\", function(method, model, options, request) {\n                 *             app.logger.debug(\"Operation aborted \" + method + \" on \" + model);\n                 *         });\n                 *     })(SUGAR.App);\n                 *\n                 * @event\n                 */\n                'data:sync:abort',\n                this\n            );\n\n        },\n\n        /**\n         * Resets class declarations.\n         * @param {String} module(optional) module name. If not specified, resets models of all modules.\n         * @method\n         */\n        reset: function(module) {\n            this.resetModel(module);\n            this.resetCollection(module);\n        },\n\n        /**\n         * Resets model class declarations.\n         * @param {String} module(optional) module name. If not specified, resets models of all modules.\n         * @method\n         */\n        resetModel: function(module) {\n            if (module) {\n                delete _models[module];\n            }\n            else {\n                _models = {};\n            }\n        },\n\n        /**\n         * Resets collection class declarations.\n         * @param {String} module(optional) module name. If not specified, resets collections of all modules.\n         * @method\n         */\n        resetCollection: function(module) {\n            if (module) {\n                delete _collections[module];\n            }\n            else {\n                _collections = {};\n            }\n        },\n\n        /**\n         * Declares bean model and collection classes for a given module.\n         * @param {String} moduleName module name.\n         * @param module module metadata object.\n         * @method\n         */\n        declareModel: function(moduleName, module, platform, modelController, collectionController) {\n            // Bug 54814 init fields to something sane if module metadata is empty\n            platform = platform || app.config.platform || 'base';\n\n            this.declareModelClass(moduleName, module, platform, modelController);\n            this.declareCollectionClass(moduleName, platform, collectionController);\n        },\n\n        /**\n         * Declares the bean model class for a given module.\n         *\n         * @param {String} moduleName The module name.\n         * @param {String} module The module metadata.\n         * @param {String} platform The platform name.\n         * @param {Object} [modelController] The model controller.\n         */\n        declareModelClass: function(moduleName, module, platform, modelController) {\n            var platformNamespace = app.utils.capitalize(platform);\n            moduleName = moduleName || platformNamespace + 'Model';\n\n            this.resetModel(moduleName);\n\n            var fields = module ? module.fields : {};\n            var defaults = null;\n\n            _.each(_.values(fields), function(field) {\n                if (!_.isUndefined(field['default'])) {\n                    if (defaults === null) {\n                        defaults = {};\n                    }\n                    defaults[field.name] = field['default'];\n                }\n            });\n\n            var baseProperties = {\n                /**\n                 * The hash of field names and default values.\n                 *\n                 * This hash should be used instead of\n                 * [Backbone.Model#default](http://backbonejs.org/#Model-defaults)\n                 * property. Setting default values is done in {@link Bean#initialize}\n                 * only if the given model is new.\n                 *\n                 * @member Data.Bean\n                 * @property {Object}\n                 */\n                _defaults: defaults,\n\n                /**\n                 * The module name.\n                 *\n                 * **Note:** Please do not manipulate this property directly. This\n                 * property is set by {@link Data.DataManager} and is available for\n                 * reading but should never be modified directly.\n                 *\n                 * @member Data.Bean\n                 * @property {String}\n                 */\n                module: moduleName,\n\n                /**\n                 * The list of fields and their vardefs.\n                 *\n                 * **Note:** Please do not manipulate this property directly. This\n                 * property is set by {@link Data.DataManager} and is available for\n                 * reading but should never be modified directly, like\n                 * [Backbone.Model#attributes](http://backbonejs.org/#Model-attributes).\n                 *\n                 * @member Data.Bean\n                 * @property {Object}\n                 */\n                fields: fields\n            };\n\n            var superModel = _models[platformNamespace + 'Model'] ||\n                _models.BaseModel ||\n                this.beanModel;\n\n            modelController = _.extend(modelController || {}, baseProperties);\n\n            return app.utils.extendClass(_models, superModel, moduleName, modelController, platformNamespace);\n        },\n\n        /**\n         * Declares bean collection class for a given module.\n         *\n         * @param {String} moduleName The module name.\n         * @param {String} platform The platform name.\n         * @param {Object} [collectionController] The controller.\n         */\n        declareCollectionClass: function(moduleName, platform, collectionController) {\n            var platformNamespace = app.utils.capitalize(platform);\n            var modelName = moduleName || platformNamespace + 'Model';\n            var model = _models[modelName];\n\n            moduleName = moduleName || platformNamespace + 'Collection';\n\n            if (!model) {\n                return;\n            }\n            this.resetCollection(moduleName);\n\n            var baseCollectionProperties = {\n                model: model,\n\n                /**\n                 * The module name.\n                 *\n                 * **Note:** Please do not manipulate this property directly.\n                 * This property is available for reading but should never be\n                 * modified directly.\n                 *\n                 * @member Data.BeanCollection\n                 * @property {String}\n                 */\n                module: moduleName,\n\n\n                /**\n                 * Current collection offset for pagination.\n                 *\n                 * This property is set by {@link #paginate} or {@link #resetPagination}\n                 * and should never be modified directly.\n                 *\n                 * @member Data.BeanCollection\n                 * @property {Number}\n                 */\n                offset: 0\n            };\n\n            var superCollection = _collections[platformNamespace + 'Collection'] ||\n                _collections.BaseCollection ||\n                this.beanCollection;\n\n            collectionController = _.extend(collectionController || {}, baseCollectionProperties);\n\n            return app.utils.extendClass(\n                _collections,\n                superCollection,\n                moduleName,\n                collectionController,\n                platformNamespace\n            );\n        },\n\n        /**\n         * Merges a model with its metadata.\n         *\n         * @param {String} name The module name.\n         * @param {Object} [module] The module metadata.\n         */\n        mergeModel: function(name, module) {\n            var fields = module ? module.fields : {};\n            var defaults = null;\n\n            _.each(_.values(fields), function(field) {\n                if (!_.isUndefined(field['default'])) {\n                    if (defaults === null) {\n                        defaults = {};\n                    }\n                    defaults[field.name] = field['default'];\n                }\n            });\n\n            var baseProperties = {\n                /**\n                 * Same as {@link Data.Bean#_defaults}\n                 * @inheritdoc\n                 */\n                _defaults: defaults,\n\n                /**\n                 * Same as {@link Data.Bean#module}\n                 * @inheritdoc\n                 */\n                module: name,\n\n                /**\n                 * Same as {@link Data.Bean#fields}\n                 * @inheritdoc\n                 */\n                fields: fields\n            };\n\n            _.extend(_models[name].prototype, baseProperties);\n        },\n\n        /**\n         * Accessor for declared models\n         */\n        getModelClasses: function() {\n            return _models;\n        },\n\n        /**\n         * Accessor for declared collections\n         */\n        getCollectionClasses: function() {\n            return _collections;\n        },\n\n        /**\n         * Declares bean models and collections classes for each module definition.\n         * @param modules(optional) metadata hash in which keys are module names and values are module definitions.\n         * Data manager uses {@link Core.MetadataManager#getModules} method to fetch metadata\n         * if `modules` parameter is not specified.\n         */\n        declareModels: function(modules) {\n            modules = modules || app.metadata.getModules();\n            _.each(modules, function(module, name) {\n                if (!_models[name]) {\n                    this.declareModel(name, module);\n                }\n                else {\n                    this.mergeModel(name, module);\n                }\n            }, this);\n        },\n\n        /**\n         * Gets declaration of a bean class.\n         *\n         * This method is for internal use only.\n         * @param {String} module Module name.\n         */\n        getBeanClass: function(module) {\n            return _models[module] || this.beanModel;\n        },\n\n        /**\n         * Creates instance of a bean.\n         *\n         * <pre><code>\n         * (function(app) {\n         *\n         * // Create an account bean. The account's name property will be set to \"Acme\".\n         * var account = app.data.createBean(\"Accounts\", { name: \"Acme\" });\n         *\n         * // Create a team set bean with a given ID\n         * var teamSet = app.data.createBean(\"TeamSets\", { id: \"xyz\" });\n         *\n         * })(SUGAR.App);\n         * </code></pre>\n         * @param {String} module Sugar module name.\n         * @param {Object} [attrs] Initial values of bean attributes, which\n         *   will be set on the model.\n         * @param {Object} [options] Backbone options hash.\n         * @return {Data.Bean} A new instance of bean model.\n         */\n        createBean: function(module, attrs, options) {\n            return _models[module] ? new _models[module](attrs, options) : new app.data.beanModel(attrs, options);\n        },\n\n        /**\n         * Creates instance of a bean collection.\n         *\n         * <pre><code>\n         * (function(app) {\n         * // Create an empty collection of account beans.\n         * var accounts = app.data.createBeanCollection(\"Accounts\");\n         *\n         * })(SUGAR.App);\n         * </code></pre>\n         * @param {String} module Sugar module name.\n         * @param {Data.Bean[]} models(optional) initial array or collection of models.\n         * @param {Object} options(optional) options hash.\n         * @return {Data.BeanCollection} A new instance of bean collection.\n         */\n        createBeanCollection: function(module, models, options) {\n            return _collections[module] ?\n                new _collections[module](models, options) :\n                new app.data.beanCollection(models, options);\n        },\n\n        /**\n         * Creates an instance of related {@link Data.Bean} or updates an\n         * existing bean with link information.\n         *\n         *     (function(app) {\n         *\n         *     // Create a new contact related to the given opportunity.\n         *     var contact = app.data.createRelatedBean(opportunity, '1', 'contacts', {\n         *        'first_name': 'John',\n         *        'last_name': 'Smith',\n         *        'contact_role': 'Decision Maker'\n         *     });\n         *     contact.save(null, { relate: true });\n         *\n         *     })(SUGAR.App);\n         *\n         * @param {Data.Bean} bean1 instance of the first bean\n         * @param {Data.Bean|string} beanOrId2 instance or ID of the second\n         *   bean. A new instance is created if this parameter is `null`.\n         * @param {string} link relationship link name\n         * @param {Object} attrs(optional) bean attributes hash\n         * @return {Data.Bean} a new instance of the related bean or existing\n         *   bean instance updated with relationship link information.\n         */\n        createRelatedBean: function(bean1, beanOrId2, link, attrs) {\n            var relatedModule = this.getRelatedModule(bean1.module, link);\n\n            attrs = attrs || {};\n            if (_.isString(beanOrId2)) {\n                attrs.id = beanOrId2;\n                beanOrId2 = this.createBean(relatedModule, attrs);\n            }\n            else if (_.isNull(beanOrId2)) {\n                beanOrId2 = this.createBean(relatedModule, attrs);\n            }\n            else {\n                beanOrId2.set(attrs);\n            }\n\n            /**\n             * Relationship link information.\n             *\n             * <pre>\n             * {\n             *   name: link name,\n             *   bean: reference to the related bean\n             *   isNew: flag indicating that it is a new relationship\n             * }\n             * </pre>\n             *\n             * The `link.isNew` flag is used to distinguish between an existing relationship and a relationship\n             * that is about to be created. Please, refer to REST API specification for details.\n             * In brief, REST API supports creating a new relationship for two existing records as well as\n             * updating an existing relationship (updating relationship fields).\n             * The `link.isNew` flag equals to `true` by default. The flag is set to `false` by data manager\n             * once a relationship is created and whenever relationships are fetched from the server.\n             *\n             * @member Data.Bean\n             */\n            beanOrId2.link = {\n                name: link,\n                bean: bean1,\n                isNew: true\n            };\n\n            beanOrId2.setOption('relate', true);\n\n            return beanOrId2;\n        },\n\n        /**\n         * Creates a new instance of related beans collection.\n         *\n         * <pre><code>\n         * (function(app) {\n         *\n         * // Create contacts collection for an existing opportunity.\n         * var contacts = app.data.createRelatedCollection(opportunity, \"contacts\");\n         * contacts.fetch({ relate: true });\n         *\n         * })(SUGAR.App);\n         * </code></pre>\n         *\n         * The newly created collection is cached in the given bean instance.\n         *\n         * @param {Data.Bean} bean the related beans are linked to the specified bean\n         * @param {string} link relationship link name\n         * @param {Array|Data.BeanCollection} models(optional) an array of related beans to populate the newly created collection with\n         * @return {Data.BeanCollection} a new instance of the bean collection\n         */\n        createRelatedCollection: function(bean, link, models) {\n            var relatedModule = this.getRelatedModule(bean.module, link);\n            var collection = this.createBeanCollection(relatedModule, models, {\n                /**\n                 * Link information.\n                 *\n                 * <pre>\n                 * {\n                 *   name: link name,\n                 *   bean: reference to the related bean\n                 * }\n                 * </pre>\n                 *\n                 * @member Data.BeanCollection\n                 */\n                link: {\n                    name: link,\n                    bean: bean\n                }\n            });\n\n            collection.setOption('relate', true);\n\n            bean._setRelatedCollection(link, collection);\n            return collection;\n        },\n\n        /**\n         * Creates a collection of beans of different modules.\n         * @param {Array|Data.BeanCollection} [models] A list of models to\n         *   populate the new collection with.\n         * @return {Data.MixedBeanCollection} Collection of mixed module\n         *   collection.\n         */\n        createMixedBeanCollection: function(models, options) {\n            return new app.data.mixedBeanCollection(models, options);\n        },\n\n        /**\n         * Checks if a given module can have multiple relationships via a given link.\n         * @param {String} module Name of the module to do the check for.\n         * @param {String} link Relationship link name.\n         * @return {Boolean} `true` if the module's link is 'many'-type relationship, `false` otherwise.\n         */\n        canHaveMany: function(module, link) {\n            var meta = app.metadata.getModule(module);\n            if (!meta || !meta.fields || !meta.fields[link]) {\n                return false;\n            }\n            if (meta.fields[link].link_type) {\n                return meta.fields[link].link_type === 'many';\n            }\n            var name = meta.fields[link].relationship;\n            var relationship = app.metadata.getRelationship(name);\n            var t = relationship.relationship_type.split('-');\n            var type;\n            if (meta.fields[link].side) {\n                type = meta.fields[link].side === 'left' ? t[0] : t[2];\n            } else if (relationship.lhs_module !== relationship.rhs_module) {\n                type = module === relationship.rhs_module ? t[0] : t[2];\n            } else {\n                type = (t[0] === 'many' || t[2] === 'many') ? 'many' : 'one';\n            }\n            return type === 'many';\n        },\n\n        /**\n         * Gets fields of type `relate` for a link.\n         *\n         * Suppose a module `parentModule` has a link field named `link`.\n         * For example, `Accounts` module has a link field `cases`.\n         * It is one-to-many relationship: an account may have many related cases,\n         * however a case can have only one associated account and this association is\n         * made via a `relate` field called `Cases.account_name`.\n         *\n         * So, for the above example the following call:\n         * <pre><code>\n         * var relateField = app.data.getRelateField(\"Accounts\", \"cases\");\n         * </code></pre>\n         * would return definition of `Cases.account_name` field.\n         *\n         * @param {String} parentModuleName Name of the module that has a link field named `link`.\n         * @param {String} link Link name.\n         * @return {Array} Definitions of the `relate` fields if found or empty array if not found.\n         * The array will contain one item most of the time. However, some modules have multiple\n         * `relate` fields that have the same link.\n         */\n        getRelateFields: function(parentModuleName, link) {\n            //Overridden to provide safeguard against exception filed in NOMAD-2979\n            //We couldn't reproduce the issue or find out exact place where data/metadata is inconsistent\n            var parentModuleDef = app.metadata.getModule(parentModuleName);\n            if (!parentModuleDef.fields[link]) {\n                return [];\n            }\n\n            var relationship = parentModuleDef.fields[link].relationship;\n            var relatedModule = this.getRelatedModule(parentModuleName, link);\n            var fields = app.metadata.getModule(relatedModule).fields;\n\n            // Find the opposite link field on related module\n            var f = _.find(fields, function(field) {\n                return field.type == \"link\" && field.relationship == relationship;\n            });\n\n            if (f) {\n                f = _.filter(fields, function(field) {\n                    return field.type == \"relate\" && field.link == f.name;\n                });\n            }\n\n            return f || [];\n        },\n\n        /**\n         * Gets relationship fields for a complex relationship.\n         *\n         * Some relationships have custom fields.\n         * For example, the `opporutnities_contacts` relationship has a custom field `contact_role`.\n         * The `Contacts` module has a field called `opportunity_role` that corresponds to the `contact_role`\n         * relationship field:\n         * <pre><code>\n         * // ['opportunity_role']\n         * var relationshipFields = app.data.getRelationshipFields(\"Opportunities\", \"contacts\");\n         * </code></pre>\n         *\n         * Use this method to determine a list of relationship fields that should be rendered\n         * on views for related record(s). In the above use case, the edit view for a contact related\n         * to an opportunity should display a drop-down field for the opportunity role.\n         * The list view and detail view should also display this field.\n         *\n         * @param {String} parentModule Name of the module that has a link field called `link`.\n         * @param {String} link Link name.\n         * @return {Array} Relationship fields.\n         */\n        getRelationshipFields: function(parentModule, link) {\n            var ff = null;\n            var linkField = app.metadata.getModule(parentModule).fields[link];\n            if (linkField.rel_fields) {\n                var relationship = linkField.relationship;\n                var relatedModule = this.getRelatedModule(parentModule, link);\n                var fields = app.metadata.getModule(relatedModule).fields;\n\n                // Find the opposite link field on related module\n                var f = _.find(fields, function(field) {\n                    return field.type == \"link\" && field.relationship == relationship;\n                });\n\n                // Find relationship_info field\n                if (f) {\n                    f = _.find(fields, function(field) {\n                        return field.link == f.name && field.link_type == \"relationship_info\";\n                    });\n                }\n\n                // Extract relationship fields\n                if (f && f.relationship_fields) {\n                    var fieldNames = _.keys(linkField.rel_fields);\n                    _.each(f.relationship_fields, function(field, name) {\n                        if (_.include(fieldNames, name)) {\n                            if (!ff) ff = [];\n                            ff.push(field);\n                        }\n                    });\n                }\n            }\n\n            return ff;\n\n        },\n\n        /**\n         * Gets related module name.\n         * @param {String} module Name of the parent module.\n         * @param {String} link Relationship link name.\n         * @return {String} The name of the related module.\n         */\n        getRelatedModule: function(module, link) {\n            var meta = app.metadata.getModule(module);\n            if (!meta || !meta.fields || !meta.fields[link]) {\n                return false;\n            }\n            var name = meta.fields[link] && meta.fields[link].relationship;\n            var relationship = app.metadata.getRelationship(name);\n            if (!relationship) {\n                return meta.fields[link].module || false;\n            }\n\n            return meta.fields[link].module || (module === relationship.rhs_module ?\n                relationship.lhs_module : relationship.rhs_module);\n        },\n\n        /*\n         * Returns field definition of related name field\n         * @param {String} module Name of the field's module\n         * @param {String} idFieldName Name of the id field\n         */\n        getRelatedNameField: function(module, idFieldName) {\n            return _.find(app.metadata.getModule(module).fields, function(field) {\n                if (field.name !== idFieldName && field.id_name === idFieldName) {\n                    return field;\n                }\n            }, this);\n        },\n\n        /**\n         * Gets editable fields.\n         * @param {Data.Bean|Data.BeanCollection} model to get fields from.\n         * @param {Array} [fields] Names to be checked.\n         * @return {Object} Hash of editable fields.\n         */\n        getEditableFields: function(model, fields) {\n            var editableFields = ['id'], //Always have the id included (without the id, the routing will not work correctly)\n                ignoreTypeList = [\"parent\", \"relate\"];\n\n            fields = fields || [];\n\n            // No fields were specified, try the model's attributes instead\n            if (!fields.length) {\n                fields = _.keys(model.attributes);\n            }\n\n            // Editable fields are fields that are either DB fields, such as\n            // name, or related fields that do have a real DB field behind them,\n            // such as opportunity_role (contact_role), that the user has access to edit.\n            // The following code will filter out fields such as assigned_user_name.\n            _.each(fields, function(fieldName) {\n                var fieldValue;\n\n                if(model.has(fieldName) && // Model has that field AND\n                    (model.fields[fieldName] && // Field exists in the model AND\n                        (!model.fields[fieldName].source || // (The field does not have a source specified OR\n                            model.fields[fieldName].source !== 'non-db' || // the field's source is something other than 'non-db' OR\n                            !model.fields[fieldName].type || // The field does not have a field type specified OR\n                            ignoreTypeList.indexOf(model.fields[fieldName].type) === -1)) && // The field's source is 'non-db', but the field's type is not in our ignore list) AND\n                    app.acl.hasAccessToModel(\"edit\", model, fieldName)) { // The user has access to edit the field\n\n                    fieldValue = model.get(fieldName);\n                    //FIXME: This if condition is deprecated. It relies on a\n                    //format created by VirtualCollection Mango plugin which\n                    //sidecar does not know about and needs to be be removed.\n                    if (fieldValue && (model.fields[fieldName].type === 'collection') &&\n                        !_.isEmpty(fieldValue.links)) {\n                        _.each(fieldValue.links, function(link) {\n                            editableFields.push(link.link.name);\n                        });\n                    } else {\n                        editableFields.push(fieldName);\n                    }\n                }\n            });\n\n            return model.toJSON({\n                fields: editableFields\n            });\n        },\n\n        /**\n         * Custom implementation of `Backbone.sync` pattern. Syncs models with\n         * the remote server using {@link SUGAR.Api}.\n         *\n         * @param {string} method The CRUD method: ('create', 'read', 'update',\n         *   or 'delete').\n         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n         *   be synced/read.\n         * @param {Object} [options] Standard Backbone options as well as\n         *   Sugar-specific options.\n         */\n        sync: function(method, model, options) {\n            app.logger.trace('data-sync-' + (options.relate ? 'relate-' : '') + method + \": \" + model);\n            options       = this.parseOptionsForSync(method, model, options);\n            var callbacks = this.getSyncCallbacks(method, model, options),\n                request = null;\n\n            model.dataFetched = false;\n            // trigger global data:sync:start event\n            this.trigger(\"data:sync:start\", method, model, options);\n\n            /**\n             * Fires on model when the sync operation starts.\n             *\n             * Two parameters are passed to the callback:\n             *\n             *  - operation name (`method`)\n             *  - options\n             *\n             * <pre><code>\n             * (function(app) {\n             *     model.on(\"data:sync:start\", function(method, options) {\n             *         app.logger.debug(\"Started operation \" + method + \" on \" + model);\n             *     });\n             * })(SUGAR.App);\n             * </code></pre>\n             * @event\n             */\n            model.trigger(\"data:sync:start\", method, options);\n\n            if (_.isFunction(options.endpoint)) {\n                options.endpoint(\n                    method,\n                    model,\n                    options,\n                    callbacks\n                );\n            }\n            else if (model.link && model.link.bean && options.relate === true) {\n                // Related data is an object should contain:\n                // - related bean (including relationship fields) in case of create method\n                // - just relationship fields in case of update method\n                // - null for read/delete method\n                var relatedData = null;\n                if (method == \"create\" || method == \"update\") {\n                    // Pass all fields: bean fields + relationship fields\n                    relatedData = this.getEditableFields(model, options.fields);\n                    // Change 'update' method to 'create' if the relationship is a new one\n                    if (method == \"update\" && model.link.isNew) {\n                        method = \"create\";\n                    }\n                }\n\n                if (!model.link.bean.id) {\n                    console.error(\"Attempted to load linked context with no id on the linked bean\");\n                    console.log(model.link.bean);\n                    return false;\n                }\n\n                request = app.api.relationships(\n                    method,\n                    model.link.bean.module,\n                    {\n                        id: model.link.bean.id,\n                        link: model.link.name,\n                        relatedId: model.id,\n                        related: relatedData\n                    },\n                    options.params,\n                    callbacks,\n                    options.apiOptions\n                );\n            }\n            else if (options.favorite) {\n\n                request = app.api.favorite(\n                    model.module,\n                    model.id,\n                    model.isFavorite(),\n                    callbacks,\n                    options.apiOptions\n                );\n            } else if (options.following) {\n                request = app.api.follow(\n                    model.module,\n                    model.id,\n                    model.get('following'),\n                    callbacks,\n                    options.apiOptions\n                );\n            } else {\n                // Use global search API whenever a query is specified or a mixed collection is used\n                if (options.query || (model instanceof app.MixedBeanCollection)) {\n                    request = app.api.search(\n                        options.params,\n                        callbacks,\n                        options.apiOptions\n                    );\n                }\n                else if (model.module) {\n                    request = app.api.records(\n                        method,\n                        model.module,\n                        method == \"update\" || method == \"create\" ? this.getEditableFields(model, options.fields) : model.attributes,\n                        options.params,\n                        callbacks,\n                        options.apiOptions\n                    );\n                } else {\n                    app.logger.error(\"Unable to sync model with no module\");\n                }\n            }\n\n            return request;\n        },\n\n        parseOptionsForSync: function(method, model, options) {\n            options = options || {};\n            options.params = _.extend({}, options.params);\n            options.filterDef = options.filter || model.filterDef;\n            options.method = method;\n\n            if (options.view && _.isString(options.view) && method == \"read\") {\n                options.params.view = options.view;\n            }\n\n            if (options.fields && method == \"read\") {\n                options.params.fields = options.fields.join(\",\");\n            }\n\n            // Track as recently viewed\n            if(options.viewed === true){\n                options.params.viewed = \"1\";\n            }\n\n            if ((method == \"read\") && (model instanceof app.BeanCollection)) {\n                if (options.offset && options.offset !== 0) {\n                    options.params.offset = options.offset;\n                }\n\n                if (options.limit || (app.config && app.config.maxQueryResult)) {\n                    options.params.max_num = options.limit || app.config.maxQueryResult;\n                }\n\n                if (model.orderBy && model.orderBy.field) {\n                    options.params.order_by = model.orderBy.field + \":\" + model.orderBy.direction;\n                }\n\n                if (options.myItems === true) {\n                    options.params.my_items = \"1\";\n                }\n\n                if (options.favorites === true) {\n                    options.params.favorites = \"1\";\n                }\n\n                if (!_.isEmpty(options.filterDef)) {\n                    var filterDef = app.utils.deepCopy(options.filterDef);\n\n                    // We want to assign to params.filter the filter definition\n                    // itself (the value assigned to the \"filter\" key).\n                    if (_.has(filterDef, \"filter\")) {\n                        filterDef = filterDef.filter;\n                    }\n\n                    if (!_.isArray(filterDef)) {\n                        filterDef = [filterDef];\n                    }\n                    options.params.filter = filterDef;\n                }\n\n                if (!_.isEmpty(options.query)) {\n                    options.params.q = options.query;\n                    if (_.isEmpty(options.module_list) && model.module) {\n                        // Set module list to be the collection's module\n                        options.module_list = [model.module];\n                    }\n                }\n\n                if (options.module_list) {\n                    options.params.module_list = options.module_list.join(\",\");\n                }\n            }\n\n            if ((method === 'update') && (options.lastModified)) {\n                options.apiOptions = options.apiOptions || {};\n                options.apiOptions.headers = options.apiOptions.headers || {};\n                options.apiOptions.headers['X-TIMESTAMP'] = options.lastModified;\n            }\n\n            return options;\n        },\n\n        getSyncCallbacks: function(method, model, options) {\n            return {\n                success: this.getSyncSuccessCallback(method, model, options),\n                error: this.getSyncErrorCallback(method, model, options),\n                complete: this.getSyncCompleteCallback(method, model, options),\n                abort: this.getSyncAbortCallback(method, model, options)\n            };\n        },\n\n        getSyncSuccessCallback: function(method, model, options) {\n            var self = this;\n            return function(data, request) {\n                model.inSync = true;\n                model.original_assigned_user_id = model.get(\"assigned_user_id\");\n                if ((method == \"read\") && (model instanceof app.BeanCollection)) {\n                    var offset = options.offset || 0;\n                    data = data || {};\n\n                    if (data.next_offset) {\n                        model.offset = data.next_offset != -1 ? data.next_offset : offset + (data.records || []).length;\n                        model.next_offset = data.next_offset;\n                        model.page = model.getPageNumber(options);\n                    }\n\n                    if (!options.update) {\n                        // We need to invalidate the cached version of the total\n                        // when a reset is fired on the collection from actions\n                        // such as filtering. If however, the total is being\n                        // populated from the server response, that will be\n                        // used instead.\n                        model.total = _.isNumber(data.total) ? data.total : null;\n                    }\n\n                    // We need `xmod_aggs` property which are the facets\n                    // for search.\n                    if (model instanceof app.MixedBeanCollection) {\n                        model.xmod_aggs = data.xmod_aggs || null;\n                        model.tags = data.tags || null;\n                    }\n                    data = data.records || [];\n\n                    // Update collection filter/search properties on success\n                    self._updateCollectionProperties(model, options);\n                }\n\n                if (options.relate === true) {\n                    // Reset the flag to indicate that relationship(s) do exist.\n                    model.link.isNew = false;\n\n                    if (method != \"read\") {\n                        // The response for create/update/delete relationship contains updated beans\n                        if (model.link.bean) {\n                            var syncedAttributes = model.link.bean.getSynced(),\n                                updatedAttributes = _.reduce(data.record, function(memo, val, key) {\n                                    if (!_.isEqual(syncedAttributes[key], val)) {\n                                        memo[key] = val;\n                                    }\n                                    return memo;\n                                }, {});\n                            model.link.bean.set(updatedAttributes);\n                            //Once parent model is reset, reset internal synced attributes as well\n                            model.link.bean.setSyncedAttributes(data.record);\n                        }\n                        data = data.related_record;\n                        // Attributes will be set automatically for create/update but not for delete\n                        // Also, break the link\n                        if (method == \"delete\") {\n                            model.set(data);\n                            delete model.link;\n                        }\n                    }\n                }\n\n                model.dataFetched = true;\n                if (options.success) options.success(data);\n                // trigger global data:sync:success event\n                self.trigger(\"data:sync:success\", method, model, options, request);\n                model.inSync = null;\n            };\n\n        },\n\n        /**\n         * Returns the callback to the sync `error` event.\n         *\n         * Triggers the global `data:sync:complete` event (registered on\n         * {@link Core.Events app.events}), as well as on the `model`.\n         *\n         * Executes the abort callback if we are aborting from a previous\n         * collection fetch request.\n         *\n         * @param {string} method The CRUD method: ('create', 'read', 'update',\n         *   or 'delete').\n         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n         *   be synced/read.\n         * @param {Object} [options] Standard Backbone options as well as\n         *   Sugar-specific options.\n         * @param {Object} [options.error] Custom `error` callback\n         *   function to be executed.\n         * @return {Function} The wrapped `error` callback function.\n         */\n        getSyncErrorCallback: function(method, model, options) {\n            return _.bind(function(error) {\n                if (error.request && error.request.aborted) {\n                    var abortCallback = this.getSyncAbortCallback(method, model, options);\n                    return abortCallback(error.request);\n                }\n                app.error.handleHttpError(error, model, options);\n                this.trigger('data:sync:error', method, model, options, error);\n                /**\n                 * Fires on model when the sync operation ends unsuccessfully.\n                 *\n                 * Three parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - options\n                 *  - error {@link SUGAR.Api.HttpError}\n                 *\n                 *     (function(app) {\n                 *         model.on('data:sync:error', function(method, options, error) {\n                 *             app.logger.debug('Operation failed:' + method + ' on ' + model);\n                 *         });\n                 *     })(SUGAR.App);\n                 *\n                 * @event\n                 */\n                model.trigger('data:sync:error', method, options, error);\n\n                if (_.isFunction(options.error)) {\n                    options.error(error);\n                }\n            }, this);\n        },\n\n        /**\n         * Returns the callback to the `complete` event, which fires after\n         * either `success`, or `error`.\n         *\n         * Triggers the global `data:sync:complete` event (registered on\n         * {@link Core.Events app.events}), as well as on the `model`.\n         *\n         * @param {string} method The CRUD method: ('create', 'read', 'update',\n         *   or 'delete').\n         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n         *   be synced/read.\n         * @param {Object} [options] Standard Backbone options as well as\n         *   Sugar-specific options.\n         * @param {Object} [options.complete] Custom `complete` callback\n         *   function to be executed.\n         * @return {Function} The wrapped `complete` callback function.\n         */\n        getSyncCompleteCallback: function(method, model, options) {\n            return _.bind(function(request) {\n                this.trigger('data:sync:complete', method, model, options, request);\n                /**\n                 * Fires on model when the sync operation ends.\n                 *\n                 * Three parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - options\n                 *  - request {@link SUGAR.Api.HttpRequest}\n                 *\n                 *     (function(app) {\n                 *         model.on('data:sync:complete', function(method, options, request) {\n                 *             app.logger.debug('Finished operation ' + method + ' on ' + model);\n                 *         });\n                 *     })(SUGAR.App);\n                 *\n                 * @event\n                 */\n                model.trigger('data:sync:complete', method, options, request);\n\n                if (_.isFunction(options.complete)) {\n                    options.complete(request);\n                }\n\n                // Prevent memory leaking\n                options.previousModels = null;\n                options = {};\n            }, this);\n        },\n\n        /**\n         * Returns the callback to the `abort` event, which fires after\n         * either `success`, or `error`.\n         *\n         * Triggers the global `data:sync:abort` event (registered on\n         * {@link Core.Events app.events}), as well as on the `model`.\n         *\n         * @param {string} method The CRUD method: ('create', 'read', 'update',\n         *   or 'delete').\n         * @param {Data.Bean|Data.BeanCollection} model The model/collection to\n         *   be synced/read.\n         * @param {Object} [options] Standard Backbone options as well as\n         *   Sugar-specific options.\n         * @param {Object} [options.abort] Custom `abort` callback\n         *   function to be executed.\n         * @return {Function} The wrapped `abort` callback function.\n         */\n        getSyncAbortCallback: function(method, model, options) {\n            return _.bind(function(request) {\n                this._updateCollectionProperties(model, options);\n                this.trigger('data:sync:abort', method, model, options, request);\n                /**\n                 * Fires on model when the sync operation ends.\n                 *\n                 * Three parameters are passed to the callback:\n                 *\n                 *  - operation name (`method`)\n                 *  - options\n                 *  - request {@link SUGAR.Api.HttpRequest}\n                 *\n                 *     (function(app) {\n                 *         model.on('data:sync:abort', function(method, options, request) {\n                 *             app.logger.debug(\"Operation aborted \" + method + \" on \" + model);\n                 *         });\n                 *     })(SUGAR.App);\n                 *\n                 * @event\n                 */\n                model.trigger('data:sync:abort', method, options, request);\n            }, this);\n        },\n\n        /**\n         * Updates various properties on the bean collection passed.\n         *\n         * @private\n         * @param {Data.BeanCollection} model The collection.\n         * @param {Object} [options] Standard Backbone options as well as\n         *   Sugar-specific options.\n         */\n        _updateCollectionProperties: function (model, options) {\n            options = options || {};\n\n            /**\n             * Flag indicating if a collection contains items assigned to the\n             * current user (read-only).\n             *\n             * @member Data.BeanCollection\n             * @property {boolean}\n             */\n            model.myItems = options.myItems;\n            /**\n             * Flag indicating if a collection contains current user's favorite\n             * items (read-only).\n             *\n             * @member Data.BeanCollection\n             * @property {boolean}\n             */\n            model.favorites = options.favorites;\n            /**\n             * Search query (read-only).\n             *\n             * @member Data.BeanCollection\n             * @property {string}\n             */\n            model.query = options.query;\n            /**\n             * List of modules searched (read-only).\n             *\n             * @member Data.MixedBeanCollection\n             * @property {string}\n             */\n            model.modelList = options.modelList;\n            /**\n             * Filter definition to filter the collection by.\n             *\n             * @member Data.BeanCollection\n             * @property {Array}\n             */\n            model.filterDef = options.filterDef;\n        }\n\n    }, Backbone.Events);\n\n    app.augment(\"data\", _dataManager, false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/data-manager.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Validation module.\n *\n * The validation module is used by {@link Data.Bean#validate} method.\n * Each bean field is validated by each of the validators specified in the {@link Data.Validation.validators} hash.\n *\n * The bean is also checked for required fields by {@link Data.Validation#requiredValidator} method.\n *\n * @class Data.Validation\n * @alias SUGAR.App.validation\n * @singleton\n */\n(function(app) {\n\n    // IMPORTANT: Validators must return nothing (undefined) if validation passes\n\n    app.augment(\"validation\", {\n\n        /**\n         * A hash of validators. Each validator function must return error definition or nothing otherwise.\n         * Error definition could be a primitive value such as max length or an array, e.g. range's lower and upper limits.\n         * Validator function accepts field metadata and the value to be validated.\n         *\n         * @class Data.Validation.validators\n         * @member Data.Validation\n         * @singleton\n         */\n        validators: (function() {\n            // Helper that validates either min or max\n            var _minMaxValue = function(field, value, type) {\n                var limit = _.isUndefined(field[type]) ?\n                    (field.validation ? field.validation[type] : null) : field[type];\n                if (_.contains(['int', 'float', 'decimal', 'currency'], field.type) && _.isFinite(limit)) {\n                    if (field.type == 'int') {\n                        value = parseInt(value);\n                    } else {\n                        value = parseFloat(value);\n                    }\n                    if (type == 'max') {\n                        if (value > limit) return limit;\n                    } else if (type == 'min') {\n                        if (value < limit) return limit;\n                    } else if (type == 'greaterthan') {\n                        if (value <= limit) return limit;\n                    } else if (type == 'lessthan') {\n                        if (value >= limit) return limit;\n                    }\n                }\n            };\n\n            // Helper that validates the given date is before/after the date of another field\n            var _isBeforeAfter = function(field, value, type, model) {\n                if(_.indexOf(['date', 'datetimecombo'], field.type) !== -1 && field.validation && field.validation.type === type) {\n                    var compareTo = model.fields[field.validation.compareto];\n                    if(!_.isUndefined(compareTo) && _.indexOf(['date', 'datetimecombo'], compareTo.type) != -1) {\n                        var compareToValue = Date.parse(model.get(compareTo.name));\n                        value = Date.parse(value.toString());\n                        if(!_.isNaN(compareToValue) && !_.isNaN(value)) {\n                            var compareToLabel = app.lang.get(compareTo.label || compareTo.vname || compareTo.name, model.module);\n                            if(type == \"isbefore\") {\n                                return compareToValue < value ? compareToLabel : undefined;\n                            }\n                            if(type == \"isafter\") {\n                                return compareToValue > value ? compareToLabel : undefined;\n                            }\n                        }\n                    }\n                }\n            };\n\n            return {\n\n                /**\n                 * Validates the max length of a given value.\n                 * @param {String} field bean field metadata\n                 * @param {String|Number} value bean field value\n                 * @return {Number} max length or nothing if the field is valid.\n                 * @method\n                 */\n                maxLength: function(field, value) {\n                    if(_.isNumber(value)){\n                        value = value.toString();\n                    }\n                    if (_.isNumber(field.len)  && _.isString(value)) {\n                        var maxLength = field.len;\n                        value = value || \"\";\n                        value = value.toString();\n                        if (value.length > maxLength) {\n                            return maxLength;\n                        }\n                    }\n                },\n\n                /**\n                 * Validates the min length of a given value.\n                 * @param {String} field bean field metadata\n                 * @param {String} value bean field value\n                 * @return {Number} min length or nothing if the field is valid.\n                 * @method\n                 */\n                minLength: function(field, value) {\n                    if (_.isNumber(field.minlen)) { // TODO: Not sure what the proper property is if there is one\n                        var minLength = field.minlen;\n                        value = value || \"\";\n                        value = value.toString();\n\n                        if (value.length < minLength) {\n                            return minLength;\n                        }\n                    }\n                },\n\n                /**\n                 * Validates that a given value is a valid URL.\n                 * NOTE: Should be noted we can't do full validation of urls w/ javascript as that is impossible.\n                 * @param {String} field bean field metadata\n                 * @param {String} value bean field value\n                 * @return {Boolean} `true` if the field is not valid\n                 */\n                url: function(field, value) {\n                    // TODO: we should probably remove the requirement for http/https prefix\n//                if ((field.type == \"url\") && (!(/^(https?|http):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/.test(value)))) {\n//                    return true;\n//                }\n                },\n\n                /**\n                 * Validates that a given value is a valid email address.\n                 *\n                 * NOTE: Should be noted that we can't do full email validation w/ javascript.\n                 * @param {String} field bean field metadata\n                 * @param {String} emails bean field value which is an array of email objects\n                 * @return {Array} Array of invalid email addresses.\n                 */\n                email: function(field, emails) {\n                    var results;\n                    if (field.type == 'email' || field.type === 'email-text') {\n                        if (emails.length > 0) {\n                            _.each(emails, function(email) {\n                                // if email is blank but not required, let it go\n                                if (email.email_address === '' && (_.isUndefined(field.required) || !field.required)) {\n                                    return;\n                                }\n                                if (!app.utils.isValidEmailAddress(email.email_address)) {\n                                    if (!results) results = [];\n                                    results.push(email.email_address);\n                                }\n                            });\n                        }\n                        if (results && results.length > 0) {\n                            return results;\n                        }\n                    }\n                },\n\n                /**\n                 * Validates that a given email array has at least one email set as the primary email.\n                 *\n                 * @param {String} field bean field metadata\n                 * @param {String} emails bean field value which is an array of email objects\n                 * @return {Array} Array of invalid email addresses.\n                 */\n                primaryEmail: function(field, emails) {\n                    if (field.type == \"email\") {\n                        if (emails.length > 0 &&\n                            !_.find(emails, function(email) { return email.primary_address == \"1\"; })) {\n                            return true;\n                        }\n                    }\n                },\n\n                /**\n                 * Validates that a given email array has no duplicate email addresses.\n                 *\n                 * @param {String} field bean field metadata\n                 * @param {String} emails bean field value which is an array of email objects\n                 * @return {Array} Array of invalid email addresses.\n                 */\n                duplicateEmail: function(field, emails) {\n                    if (field.type == \"email\") {\n                        var values = _.pluck(emails, \"email_address\"),\n                            duplicates = [],\n                            n = values.length,\n                            i, j;\n                        // to ensure the fewest possible comparisons\n                        for (i = 0; i < n; i++) {                      // outer loop uses each item i at 0 through n\n                            for (j = i + 1; j < n; j++) {              // inner loop only compares items j at i+1 to n\n                                if (values[i] == values[j]) duplicates.push(values[i]);\n                            }\n                        }\n                        if (duplicates && duplicates.length > 0) {\n                            return duplicates;\n                        }\n                    }\n                },\n\n                /**\n                 * Validates that a given value is a real date or datetime\n                 *\n                 * @param {Object} field metadata\n                 * @param {String} Date or Datetime value as String\n                 * @return {String} The invalid date / datetime\n                 */\n                datetime: function(field, value){\n                    var val, invalidNumberOfDigits, format, sep, formatParts, parts, i, len;\n\n                    function inRange(val, min, max) {\n                        var value = parseInt(val, 10);\n                        return (!isNaN(value) && value >= min && value <= max);\n                    }\n\n                    if(field.type === \"date\" || field.type === \"datetimecombo\") {\n                        // First check will short circuit (falsy) if the value is a valid server ISO date string.\n                        // For datepicker values, however, we need the second check since Safari chokes on '.', '-'\n                        if(_.isNaN(Date.parse(value)) && _.isNaN(Date.parse(value.replace(/[\\.\\-]/g, '/')))) {\n                            return value;\n                        } else {\n\n                            // Check for valid date parts for non ISO dates as IE and FF both successfully parse \n                            // 2014/13/22 simply wrapping extra months around to following year (so previous example\n                            // becomes 2015/01/22).\n                            if (!app.date.isIso(value)) {\n                                // The first set of Date.parse conditionals will negate three digit days or months\n                                // but 3 digit years are valid for JavaScript dates so they'll slip through. The reason \n                                // we explicitly invalidate 3 digit years is datepicker auto corrects 1 and 2 digit years\n                                // in yyyy but cannot do anything sensible with 3 digit years. Moreover, it was decided \n                                // that it's much more likely a 3 digit years is a user entry error; they don't really\n                                // intend to enter a date year (e.g. 100-999 A.D.). Also any part > 4 digits is considered\n                                // invalid as well since we only support:\n                                // 2010-12-23, Y-m-d\n                                // 12-23-2010, m-d-Y\n                                // 23-12-2010, d-m-Y\n                                // 2010/12/23, Y/m/d\n                                // 12/23/2010, m/d/Y\n                                // 23/12/2010, d/m/Y\n                                // 2010.12.23, Y.m.d\n                                // 23.12.2010, d.m.Y\n                                // 12.23.2010, m.d.Y\n                                parts = value.replace(/[\\.\\-]/g, '/').split('/');\n                                invalidNumberOfDigits = _.filter(parts,\n                                    (part) => part.length === 3 || part.length > 4\n                                );\n\n                                if (invalidNumberOfDigits.length) {\n                                    return value;\n                                }\n\n                                // Invalidate consecutive separators e.g. 12--23--2013\n                                if (/([\\.\\/\\-])\\1/.test(value) === true) {\n                                    return value;\n                                }\n\n                                // Lastly, validate month and day ranges\n                                format = app.user.getPreference('datepref');\n                                sep = format.match(/[.\\/\\-\\s].*?/);\n                                formatParts = format.split(sep);\n                                for(i=0, len=formatParts.length; i<len; i++) {\n                                    val = parts[i];\n                                    switch(formatParts[i].toLowerCase().charAt(0)) {\n                                        case 'm':\n                                            if (!inRange(val, 1, 12)) {\n                                                return value;\n                                            }\n                                            break;\n                                        case 'd':\n                                            if (!inRange(val, 1, 31)) {\n                                                return value;\n                                            }\n                                            break;\n                                    }\n                                } \n                            } else {\n                                // The datepicker plugin will leave 3 digit years and this validation is supposed to\n                                // invalidate; but to iso date will turn that to something like: 0201-01-31T08:00:00.000Z\n                                // We have to reject 100-999 to be consistent with the rest of our date year validation.\n                                if (value.charAt(0) === '0') return value;\n                            }\n                        }\n                    }\n                },\n\n                /**\n                 * Validates min integer values\n                 *\n                 * @param {String} field bean field metadata\n                 * @param {String} value field value which is a number\n                 * @return {Array} value of actual min\n                 */\n                minValue: function(field, value) {\n                    return _minMaxValue(field, value, \"min\");\n                },\n\n                /**\n                 * Validates max integer values\n                 *\n                 * @param {String} field bean field metadata\n                 * @param {String} value field value which is a number\n                 * @return {Array} value of actual max\n                 */\n                maxValue: function(field, value) {\n                    return _minMaxValue(field, value, \"max\");\n                },\n\n                /**\n                 * Validates a value to make sure it's larger than a given value\n                 *\n                 * @param {String} field bean field metadata\n                 * @param {String} value field value which is a number\n                 * @param {String|Undefined} String is returned when validation fails, and it's what number the value\n                 *                           needs to be greater than\n                 */\n                greaterThan: function(field, value) {\n                    return _minMaxValue(field, value, 'greaterthan');\n                },\n\n                /**\n                 * Validates a value to make sure it's less than a given value\n                 *\n                 * @param {String} field bean field metadata\n                 * @param {String} value field value which is a number\n                 * @param {String|Undefined} String is returned when validation fails, and it's what number the value\n                 *                           needs to be less than\n                 */\n                lessThan: function(field, value) {\n                    return _minMaxValue(field, value, 'lessthan');\n                },\n\n                /**\n                 * Validates numeric values\n                 *\n                 * @param {String} field bean field metadata\n                 * @param {String} value field value which is an integer\n                 * @return {Boolean} true if value is invalid, undefined otherwise\n                 */\n                number: function(field, value) {\n                    if (_.indexOf(['int', 'float', 'decimal', 'currency'], field.type) != -1) {\n                        return (_.isBoolean(value) || (_.isString(value) && !value.trim().length) ||\n                            isNaN(parseFloat(value)) || !_.isFinite(value)) ?\n                            true : undefined;\n                    }\n                },\n\n                /**\n                 * Validates that the given date is before the date of another field\n                 *\n                 * @param {Object} field metadata\n                 * @param {String} value field value which is an integer\n                 * @param {Object} model model\n                 * @return {String} compare field label if is invalid, undefined otherwise\n                 */\n                isBefore: function(field, value, model) {\n                    return _isBeforeAfter(field, value, 'isbefore', model);\n                },\n\n                /**\n                 * Validates that the given date is after the date of another field\n                 *\n                 * @param {Object} field metadata\n                 * @param {String} value field value which is an integer\n                 * @param {Object} model model\n                 * @return {String} compare field label if is invalid, undefined otherwise\n                 */\n                isAfter: function(field, value, model) {\n                    return _isBeforeAfter(field, value, 'isafter', model);\n                }\n            };\n        })(),\n\n        /**\n         * Validates if the required field is set on a bean or about to be set.\n         *\n         * @member Data.Validation\n         * @param field field metadata\n         * @param {String} fieldName bean field name\n         * @param {Data.Bean} model bean instance\n         * @param {String} value value to be set\n         * @return {Boolean} `true` if the validation fails, `undefined` otherwise\n         * @method\n         */\n        requiredValidator: function(field, fieldName, model, value) {\n            // Image type fields have their own requiredValidator\n            if ((field.required === true) && (fieldName !== 'id') &&\n                (field.type !== 'image') &&\n                _.isUndefined(field.auto_increment)\n            ) {\n                var currentValue = model.get(fieldName);\n                var currentUndefined = _.isUndefined(currentValue);\n                var valueEmpty = _.isNull(value) ||\n                    value === '' ||\n                    value === false ||\n                    (_.isArray(value) && this._isArrayEmpty(value)) ||\n                    (value instanceof Backbone.Collection && !value.length);\n                if ((currentUndefined && _.isUndefined(value)) || valueEmpty) {\n                    return true;\n                }\n            }\n        },\n\n        /**\n          * Check if the given array contains only empty values.\n          * \n          * @member Data.Validation\n          * @param {Array} value array to be check.\n          * @return {boolean} `true` if all array elements are empty, `false` otherwise.\n          */\n        _isArrayEmpty: function(value) {\n            return _.every(value, _.isEmpty);\n        }\n\n    }, false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/validation.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Handlebars helpers.\n *\n * These functions are to be used in handlebars templates.\n *\n * @class View.Handlebars.helpers\n */\n(function(app) {\n\n    /**\n     * Creates a field widget.\n     *\n     * Example:\n     * <pre><code>\n     * {{field view model=mymodel template=edit parent=fieldset}}\n     * </code></pre>\n     *\n     * @method field\n     * @param {View.View} view Parent view\n     * @param {Object} [options] Optional params to pass to the field.\n     * @param {Backbone.Model} [options.model] The model associated with the field.\n     * @param {string} [options.template] The name of the template to be used.\n     * @param {Field} [options.parent] The parent field of this field.\n     * @return {Object} HTML placeholder for the widget as handlebars safe string.\n     */\n    Handlebars.registerHelper('field', function(view, options) {\n        var field = app.view.createField({\n            def: this,\n            viewDefs: this,\n            view: view,\n            model: options.hash.model,\n            viewName: options.hash.template\n        });\n\n        if (options.hash.parent && _.isArray(options.hash.parent.fields)) {\n            options.hash.parent.fields.push(field);\n        }\n\n        return field.getPlaceholder();\n    });\n\n    /**\n     * Creates a field widget.\n     *\n     * This helper is used for fields that don't have view definition.\n     *\n     * @method fieldOfType\n     * @param {String} type Field type\n     * @param {String} label Label key\n     * @return {Object} HTML placeholder for the widget as handlebars safe string.\n     */\n    Handlebars.registerHelper('fieldOfType', function(type, label) {\n        var def = {\n            type: type,\n            name: type,\n            label: label\n        };\n\n        var field = app.view.createField({\n            def: def,\n            view: this\n        });\n\n        return field.getPlaceholder();\n    });\n\n    /**\n     * Create a layout or a view in a given layout.\n     * @method component\n     * @param {View.Layout} layout Layout that the new layout should be created in\n     * @param {string} name Name of the component to be created\n     */\n    Handlebars.registerHelper('component', function(layout, name) {\n        var viewDef,\n            newComponent,\n            placeholder = '';\n\n        viewDef = _.find(layout.meta.components, function(defs) {\n            var componentName,\n                componentDef;\n\n            componentDef = defs.layout || defs.view;\n\n            if (_.isString(componentDef)) {\n                componentName = componentDef;\n            } else {\n                componentName = componentDef.name || componentDef.type;\n            }\n\n            return componentName === name;\n        });\n\n        if (_.isObject(viewDef) && !_.isEmpty(viewDef)) {\n            newComponent = layout.initComponents([viewDef])[0];\n            viewDef.initializedInTemplate = true;\n            placeholder = newComponent.getPlaceholder();\n        }\n\n        return placeholder;\n    });\n\n    /**\n     * Iterates through options specified by a key.\n     *\n     * The options collection is retrieved from the language helper.\n     * @method eachOptions\n     * @param {String} key Options key.\n     * @param {Function} hbsOptions HBS options.\n     * @return {String} HTML string.\n     */\n    Handlebars.registerHelper('eachOptions', function(key, hbsOptions) {\n        var options,\n            ret = \"\",\n            iterator;\n\n        // Retrieve app list strings\n        options = _.isString(key) ? app.lang.getAppListStrings(key) : key;\n\n        if (_.isArray(options)) {\n            iterator = function(element, index) {\n                ret = ret + hbsOptions.fn({key: index, value: element});\n            };\n        } else if (_.isObject(options)) { // Is object evaluates arrays to true, so put it second\n            iterator = function(value, key) {\n                ret = ret + hbsOptions.fn({key: key, value: value});\n            };\n        }\n        else {\n            options = null;\n        }\n\n        // Don't iterate if options is not iteratable\n        if (options) _.each(options, iterator, this);\n\n        return ret;\n    });\n\n    /**\n     * @method buildRoute\n     * Builds a route based on hashes sent on handlebars helper.\n     *\n     * Example:\n     * <pre><code>\n     * {{buildRoute context=this.context}}\n     * {{buildRoute model=myModel action=\"create\"}}\n     * {{buildRoute module=\"Employees\" action=\"edit\"}}\n     * </code></pre>\n     *\n     * If both `module` and `model` are sent, `module` will take precedence\n     * over `model.module`.\n     * Same applies for `id` (`id` will take precedence over `model.id`).\n     *\n     * @param {Object} options Handlebars options hash.\n     * @param {Object} options.hash More parameters to be used by this helper.\n     *   It needs at least one of `options.hash.module`, `options.hash.model`\n     *   or `options.hash.context`.\n     * @param {String} [options.hash.module=options.hash.model.module]\n     *   The name of the module.\n     * @param {Data.Bean} [options.hash.model=options.hash.context.get('model')]\n     *   The model to extract the module and/or id.\n     * @param {Core.Context} [options.hash.context]\n     *   A context to extract the module from.\n     * @param {String} [options.hash.id=options.hash.model.id]\n     *   The id of the bean record.\n     * @param {String} [options.hash.action]\n     *   The action name.\n     * @return {String}\n     *   The built route.\n     */\n    Handlebars.registerHelper('buildRoute', function(options) {\n        var ctx = options.hash.context,\n            model = options.hash.model || ((ctx && ctx.get('model')) ? ctx.get('model') : {}),\n            module = options.hash.module || model.module || ((ctx && ctx.get('module')) ? ctx.get('module') : null),\n            id = options.hash.id || model.id,\n            action = options.hash.action;\n\n        return app.router.buildRoute(module, id, action);\n    });\n\n    /**\n     * @method fieldValue\n     *\n     * Extracts bean field value.\n     *\n     * @param {Data.Bean} bean Bean instance.\n     * @param {String} field Field name.\n     * @param {String} [defaultValue=''] Default value to return if field\n     *   is not set on a bean.\n     *\n     * @return {String} Field value of the given bean. If field is not set the\n     *   default value or empty string.\n     */\n    Handlebars.registerHelper('fieldValue', function(bean, field, options) {\n        return bean.get(field) || options.hash.defaultValue || '';\n    });\n\n    /**\n     * Executes a given block if a given array has a value.\n     * @method has\n     * @param {string|Object} val value\n     * @param {Object|Array} array or hash object\n     * @return {string} Result of the `block` execution if the `array` contains `val` or the result of the inverse block.\n     */\n    Handlebars.registerHelper('has', function(val, array, options) {\n        // Since we need to check both just val = val 2 and also if val is in an array, we cast\n        // non arrays into arrays\n        if (!_.isArray(array) && !_.isObject(array)) {\n            array = [array];\n        }\n\n        return _.include(array, val) ? options.fn(this) : options.inverse(this);\n    });\n\n    /**\n     * Executes a given block if a given array doesn't have a value.\n     * @method notHas\n     * @param {string|Object} val value\n     * @param {Object|Array} array or hash object\n     * @return {string} Result of the `block` execution if the `array` doesn't contain `val` or the result of the inverse block.\n     */\n    Handlebars.registerHelper('notHas', function(val, array, options) {\n        var fn = options.fn, inverse = options.inverse;\n        options.fn = inverse;\n        options.inverse = fn;\n\n        return Handlebars.helpers.has.call(this, val, array, options);\n    });\n\n    /**\n     * We require sortable to be the default if not defined in either field viewdef or vardefs. Otherwise,\n     * we use whatever is provided in either field vardefs or field's viewdefs where the view def has more\n     * specificity.\n     * @method has\n     * @param {String} module name\n     * @param {Object} the field view defintion (e.g. looping through meta.panels.field it will be 'this')\n     * @return {String} Result of the `block` execution if sortable, otherwise empty string.\n     */\n    Handlebars.registerHelper('isSortable', function(module, fieldViewdef, options) {\n        if (app.utils.isSortable(module, fieldViewdef)) {\n            return options.fn(this);\n        } else {\n            return '';\n        }\n    });\n\n    /**\n     * Executes a given block if a given values are equal.\n     * @method eq\n     * @param {String} val1 first value to compare\n     * @param {String} val2 second value to compare.\n     * @return {String} Result of the `block` execution if the given values are equal or the result of the inverse block.\n     */\n    Handlebars.registerHelper('eq', function(val1, val2, options) {\n        return val1 == val2 ? options.fn(this) : options.inverse(this);\n    });\n\n    /**\n     * Opposite of `eq` helper.\n     * @method notEq\n     * @param {String} val1 first value to compare\n     * @param {String} val2 second value to compare.\n     * @return {String} Result of the `block` execution if the given values are not equal or the result of the inverse block.\n     */\n    Handlebars.registerHelper('notEq', function(val1, val2, options) {\n        return val1 != val2 ? options.fn(this) : options.inverse(this);\n    });\n\n    /**\n     * Same as eq helper but second value is a {String} regex expression. Unfortunately, we have to do this because the\n     * Handlebar's parser gets confused by regex literals like /foo/\n     * @method match\n     * @param {String} val1 first value to compare\n     * @param {String} val2 A String representing a RegExp constructor argument. So if RegExp('foo.*') is the desired regex,\n     * val2 would contain \"foo.*\". No support for modifiers.\n     * @return {String} Result of the `block` execution if the given values are equal or the result of the inverse block.\n     */\n    Handlebars.registerHelper('match', function(val1, val2, options) {\n        var re = new RegExp(val2);\n        if (re.test(val1)) {\n            return options.fn(this);\n        } else {\n            return options.inverse(this);\n        }\n    });\n\n    /**\n     * Same as notEq helper but second value is a {String} regex expression.\n     * @method notMatch\n     * @param {String} val1 first value to compare\n     * @param {String} val2 A String representing a RegExp constructor argument. So if RegExp('foo.*') is the desired regex,\n     * val2 would contain \"foo.*\". No support for modifiers.\n     * @return {String} Result of the `block` execution if the given values are not equal or the result of the inverse block.\n     */\n    Handlebars.registerHelper('notMatch', function(val1, val2, options) {\n        var re = new RegExp(val2);\n        if (!re.test(val1)) {\n            return options.fn(this);\n        } else {\n            return options.inverse(this);\n        }\n    });\n\n    /**\n     * Logs a value.\n     * @method log\n     * @param value\n     */\n    Handlebars.registerHelper(\"log\", function(value) {\n        app.logger.debug(\"*****HBS: Current Context*****\");\n        app.logger.debug(this);\n        app.logger.debug(\"*****HBS: Current Value*****\");\n        app.logger.debug(value);\n        console.log(value);\n        app.logger.debug(\"***********************\");\n    });\n\n    /**\n     * Retrives a string by key.\n     *\n     * The helper queries {@link Core.Language} module to retrieve an i18n-ed string.\n     * @method str\n     * @param {String} key Key of the label.\n     * @param {String} module(optional) Module name.\n     * @param {String} content(optional) Template content.\n     * @return {String} The string for the given label key.\n     */\n    Handlebars.registerHelper(\"str\", function(key, module, content) {\n        module = _.isString(module) ? module : null;\n        return app.lang.get(key, module, content);\n    });\n\n    /**\n     * Creates a relative time element to display the human readable related\n     * time.\n     *\n     * To provide an automatic update of this relative time, use a plugin like\n     * {@link sugar.liverelativetime.js}.\n     *\n     * @method relativeTime\n     * @param {String} iso8601 The ISO-8601 date string to be used for a new\n     *   date.\n     * @param {Object} [options] Handlebars options hash.\n     * @param {Object} [options.hash] More parameters to be used by this helper.\n     * @param {String} [options.hash.title] The title attribute. Defaults to\n     *   current user date/time preference format.\n     * @param {boolean} [options.hash.dateOnly] Setting this to `true` will\n     *   format the `title` attribute with the user-formatted date only.\n     * @return {string} The relative time like `10 minutes ago`.\n     */\n    Handlebars.registerHelper('relativeTime', function(iso8601, options) {\n\n        var date = app.date(iso8601),\n            attrs, html;\n\n        options.hash.title = options.hash.title || date.formatUser(options.hash.dateOnly);\n\n        attrs = _.map(options.hash, function(attr, key) {\n            return key + '=\"' + Handlebars.Utils.escapeExpression(attr) + '\"';\n        }).join(' ');\n\n        // TODO we need to support dateOnly on formatNow().\n        html = '<time datetime=\"' + date.format() + '\" ' + attrs + '>' + date.fromNow() + '</time>';\n\n        return new Handlebars.SafeString(html);\n    });\n\n    /**\n     * Joins an arrays elements by a glue string\n     * @method field\n     * @param {Array} array Array of strings\n     * @param {String} glue string glue\n     * @return {String} String\n     */\n    Handlebars.registerHelper('arrayJoin', function(array, glue) {\n        return array.join(glue);\n    });\n\n    /**\n     * Converts `\\r\\n`, `\\n\\r`, `\\r`, `\\n` to `<br>`.\n     * @method nl2br\n     * @param {String} s Raw string to filter\n     * @return {String} String\n     */\n    Handlebars.registerHelper('nl2br', function(s) {\n        s = Handlebars.Utils.escapeExpression(s);\n        var nl2br = s.replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1' + '<br>');\n        return new Handlebars.SafeString(nl2br);\n    });\n\n    /**\n     * Formats given currency to users preferences\n     * @method formatCurrency\n     * @param {Number} number      The number to format.\n     * @param {String|Object} currencyId  The currency id.\n     * @return {String} The formatted number.\n     */\n    Handlebars.registerHelper('formatCurrency', function(number, currencyId) {\n        if (_.isObject(currencyId)) {\n            currencyId = currencyId.hash.currencyId || undefined;\n        }\n        return app.currency.formatAmountLocale(number, currencyId);\n    });\n\n    /**\n     * Formats a given string by returning the first n characters.\n      */\n    Handlebars.registerHelper('firstChars', function(text, n) {\n        return text.substring(0, n);\n    });\n\n    /**\n     * Formats given date to users preferences\n     * @method formatDate\n     * @param {Date|string} date The date to format.\n     * @param {Object} [options] More attributes to be used on this element for\n     *   reuse.\n     * @param {Object} [options.hash] More parameters to be used by this helper.\n     * @param {boolean} [options.hash.dateOnly] Flag to determine whether to\n     *   return just date current user date/time preference format.\n     * @return {string} The formatted date.\n     */\n    Handlebars.registerHelper('formatDate', function(date, options) {\n        date = app.date(date);\n        return date.formatUser(options.hash.dateOnly);\n    });\n\n    /**\n     * Gets the translated module name (plural or singular).\n     *\n     * For instance, to get the singular version of the module name (make sure\n     * `LBL_MODULE_NAME_SINGULAR` is defined in the module language strings of\n     * your module):\n     *\n     *     {{getModuleName 'Accounts'}}\n     *\n     * To get the plural version, set `plural` to true and make sure\n     * `LBL_MODULE_NAME` is defined in the module language strings of your\n     * module:\n     *\n     *     {{getModuleName 'Accounts' plural=true}}\n     *\n     * You can pass a default value that will be returned in case the module\n     * language string of your module is not found. The following example will\n     * return 'Module' (since `LBL_MODULE` is defined in the module strings or\n     * the app strings):\n     *\n     *     {{getModuleName 'undefinedModule' defaultValue='LBL_MODULE'}}\n     *\n     * In the worst case scenario (the module language string is not found and\n     * no default value is specified), the module key name is returned. The\n     * following example will return 'undefinedModule':\n     *\n     *     {{getModuleName 'undefinedModule'}}\n     *\n     * @param {string} module The module defined in the language strings.\n     * @param {Object} [options] Optional params to pass to the helper.\n     * @param {Object} [options.hash] More parameters to be used by this helper.\n     * @param {boolean} [options.hash.plural] Returns the plural form if `true`,\n     *   singular otherwise.\n     * @param {string} [options.hash.defaultValue] Value to be returned if the\n     *   module language string is not found.\n     * @return {string} The module name.\n     */\n    Handlebars.registerHelper('getModuleName', function(module, options) {\n        var opts = {\n            plural: options.hash.plural,\n            defaultValue: options.hash.defaultValue\n        };\n        return app.lang.getModuleName(module, opts);\n    });\n\n    /**\n     * @method partial\n     * Helper for rendering a partial template. This helper can load a partial from the templateOptions\n     * or from the same relative location as the current template.\n     *\n     *     {{partial 'partial-name' componentFrom defaultProperties dynamicProperty=value}}\n     *\n     * The data supplied to the partial with be an object with the list of\n     * `dynamicProperty`s merged into `defaultProperties` object (defaults to\n     * empty object if not explicitly passed).\n     *\n     *\n     * For fields\n     *\n     *     {{partial 'edit' this properties fallbackTemplate='detail'}}\n     *\n     * For layouts\n     *\n     *     {{partial 'ActivityStream' this properties}}\n     *\n     * For views\n     *\n     *     {{partial 'record' this properties}}\n     *\n     * @param {string} name Name of the partial.\n     * @param {view.View|view.Field|view.Layout} component The view component.\n     * @param {Object} [properties] Data supplied to the partial. `options.hash`\n     *   is merged into this before it is used for the template. This allows the\n     *   partial to provide dynamic parameters on top of the default properties.\n     *   The original component is kept as `templateComponent` in these\n     *   properties.\n     * @param {Object} [options] Optional params.\n     * @param {Object} [options.hash] The hash of the optional params.\n     * @param {Object} [options.hash.module=component.module] Module to use.\n     * @param {Object} [options.hash.fallbackTemplate] Fallback template for\n     *   field partials.\n     * @return {string} The handlebars safestring for the partial template.\n     */\n    Handlebars.registerHelper('partial', function(name, component, properties, options) {\n        var module, template, data;\n\n        // `properties` is optional, so `options` is `properties` is no `properties` is passed.\n        if (!options && properties.hash) {\n            options = properties;\n            properties = {};\n        }\n\n        // Data supplied to the partial\n        data = _.extend({templateComponent: component}, properties, options.hash);\n\n        module = options.hash.module || component.module;\n        if (component && component.options.templateOptions && component.options.templateOptions.partials) {\n            template = component.options.templateOptions.partials[name];\n        }\n        // TODO: need to do recursive walk up the tree if template is not found, until we find it. see _super in component.js for an example\n        else if (component instanceof app.view.Field) {\n            var fallbackTemplate = options.hash.fallbackTemplate;\n            template = app.template.getField(\n                component.type, // field type\n                name || 'detail', // template name\n                module,\n                fallbackTemplate);\n        }\n        else if (component instanceof app.view.View) {\n            var templateName = component.tplName;\n\n            //FIXME SC-3363 use the real inheritance chain when loading partial templates\n            //Try the current component first in case the template was overriden.\n            template = app.template.getView(component.name + '.' + name, module) ||\n                app.template.getView(component.name + '.' + name);\n\n            if (!template && templateName) {\n                template = app.template.getView(templateName + '.' + name, module) ||\n                    app.template.getView(templateName + '.' + name);\n            }\n        }\n        else if (component instanceof app.view.Layout) {\n            template = app.template.getLayout(component.name + '.' + name, module) || app.template.getLayout(component.name + '.' + name);\n        }\n        return new Handlebars.SafeString(template ? template(data) : '');\n    });\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/hbs-helpers.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * View manager is used to create views, layouts, and fields based on optional\n * metadata inputs.\n *\n * The view manager's factory methods (`createView`, `createLayout`, and\n * `createField`) first check `views`, `layouts`, and `fields` hashes\n * respectively for custom class declaration before falling back the base class.\n *\n * Note the following is deprecated in favor of putting these controllers in the\n * `sugarcrm/clients/<platform>` directory, or using one of the appropriate\n * factory methods like `createView`, `createField`, or `createLayout`. Using\n * either of these idioms, your components will be internally namespaced by\n * platform for you. If you do choose to use the following idiom of defining\n * your controller directly on `app.view.<type>`, please be forewarned that you\n * will lose any automatic namespacing benefits and possibly encounter naming\n * collisions if your controller names are not unique. If you must define\n * directly, you may choose to prefix your controller name by your application\n * or platform e.g. `MyappMyCustom<Type>` where 'Myapp' is the platform prefix.\n *\n * Put declarations of your custom views, layouts, fields in the corresponding\n * hash (see note above; this is deprecated):\n * <pre><code>\n * app.view.views.MyappMyCustomView = app.view.View.extend({\n *  // Put your custom logic here\n * });\n *\n * app.view.layouts.MyappMyCustomLayout = app.view.Layout.extend({\n *  // Put your custom logic here\n * });\n *\n * app.view.fields.MyappMyCustomField = app.view.Field.extend({\n *  // Put your custom logic here\n * });\n *\n * </code></pre>\n *\n *\n * @class View.ViewManager\n * @alias SUGAR.App.view\n * @singleton\n */\n(function(app) {\n\n    // Ever incrementing field ID\n    var _sfId = 0;\n\n    var _viewManager = {\n\n        /**\n         * Resets class declarations of custom components.\n         */\n        reset: function() {\n            _.each(this.layouts, function(layout, name) {\n                delete this.layouts[name];\n            }, this);\n            _.each(this.views, function(view, name) {\n                delete this.views[name];\n            }, this);\n            _.each(this.fields, function(field, name) {\n                delete this.fields[name];\n            }, this);\n        },\n\n        /**\n         * Gets ID of the last created field.\n         * @return {number} ID of the last created field.\n         */\n        getFieldId: function() {\n            return _sfId;\n        },\n\n        /**\n         * Hash of view classes.\n         */\n        views: {},\n\n        /**\n         * Hash of layout classes.\n         */\n        layouts: {},\n\n        /**\n         * Hash of field classes.\n         */\n        fields: {},\n\n        /**\n         * Creates an instance of a component and binds data changes to it.\n         *\n         * @param {string} type Component type (`layout`, `view`, `field`).\n         * @param {string} name Component name.\n         * @param {Object} params Parameters to pass to the Component's class\n         *   constructor.\n         * @param {string} params.type The component type.\n         * @param {string} params.module The component's module.\n         * @param {string} [params.loadModule=params.module] The module to\n         *   create the component from.\n         * @return {View.Component} New instance of a component.\n         * @private\n         */\n        _createComponent: function(type, name, params) {\n            var Klass = this.declareComponent(type, params.type || name, params.loadModule || params.module,\n                params.controller, false, this._getPlatform(params));\n            var component = new Klass(params);\n            component.trigger(\"init\");\n            component.bindDataChange();\n            return component;\n        },\n\n        /**\n         * Creates an instance of a view.\n         *\n         * Examples:\n         *\n         * Create a list view. The view manager will use metadata for the view\n         * named 'list' defined in Contacts module.\n         * The controller's current context will be set on the new view instance.\n         *\n         *     var listView = app.view.createView({\n         *         type: 'list',\n         *         module: 'Contacts'\n         *     });\n         *\n         * Create a custom view class. Note the following is deprecated in favor\n         * of putting these controllers in the `sugarcrm/clients/<platform>`\n         * directory, or using one of the appropriate factory methods like\n         * `createView`, `createField`, or `createLayout`. Using that idiom, the\n         * metadata manager will declare these components and take care of\n         * namespacing by platform for you. If you do choose to use the\n         * following idiom please be forwarned that you will lose any\n         * namespacing benefits and possibly encounter naming collisions!\n         *\n         *     // Declare your custom view class.\n         *     // might cause collisions if another MyCustomView!\n         *     app.view.views.MyCustomView = app.view.View.extend({\n         *         // Put your custom logic here\n         *     });\n         *     // if you must define directly on app.view.views, you may instead\n         *     // prefer to do:\n         *     `app.view.views.<YOUR_PLATFORM>MyCustomView` = app.view.View.extend({\n         *          // Put your custom logic here\n         *     });\n         *\n         *     var myCustomView = app.view.createView({\n         *         type: 'myCustom'\n         *     });\n         *\n         * Create a view with custom metadata payload.\n         *\n         *     var view = app.view.createView({\n         *         type: 'detail',\n         *         meta: { ... your custom metadata ... }\n         *     });\n         *\n         * Look at {@link View.View}, particularly\n         * {@link View.View#_loadTemplate} for more information on how the\n         * `meta.template` property can be used.\n         *\n         * @param {Object} params View parameters.\n         * @param {string} params.type The view identifier (`default`, `base`,\n         *   etc.). Matches the controller to be used.\n         * @param {string} [params.name=params.type] View name that\n         *   distinguishes between multiple instances of the same view type.This\n         *   matches the metadata to read from {@link Core.MetadataManager} and\n         *   it is the easier way to reuse view types with different\n         *   configurations.\n         * @param {Object} [params.context=app.controller.context] Context to\n         * associate the newly created view with.\n         * @param {string} [params.module] Module name.\n         * @param {string} [params.loadModule] The module that should be\n         *   considered the base.\n         * @param {Object} [params.meta] Custom metadata.\n         * @return {View.View} New instance of view.\n         */\n        createView: function(params) {\n            // context is always defined on the controller\n            params.context = params.context || app.controller.context;\n            params.module = params.module || params.context.get('module');\n            // name defines which metadata to load\n            params.name = params.name || params.type;\n            params.meta = params.meta || app.metadata.getView(params.module, params.name, params.loadModule);\n\n            if (params.def && params.def.xmeta) {\n                params.meta = _.extend({}, params.meta, params.def.xmeta);\n            }\n\n            // type defines which controller to use\n            var meta = params.meta || {};\n            params.type = params.type || meta.type || params.name;\n\n            return this._createComponent('view', params.type, params);\n        },\n\n        /**\n         * Creates an instance of a layout.\n         *\n         * Parameters define creation rules as well as layout properties.\n         * The factory needs either layout name or type. Also, the layout type\n         * must be specified. The layout type is retrieved either from the\n         * `params` hash or layout metadata.\n         *\n         * Examples:\n         *\n         * Create a list layout. The view manager will use metadata for the\n         * `list` layout defined in the Contacts module.\n         * The controller's current context will be set on the new layout\n         * instance.\n         *\n         *     var listLayout = app.view.createLayout({\n         *         type: 'list',\n         *         module: 'Contacts'\n         *     });\n         *\n         *\n         * Create a custom layout class. Note that following is deprecated in\n         * favor of using the `createLayout` factory or placing controller in\n         * `sugarcrm/clients/<platform>/layouts` in which case the metadata\n         * manager will take care of namespacing your controller by platform\n         * name for you (e.g. MyCustomLayout becomes\n         * `app.view.layouts.MyappMyCustomLayout`).\n         *\n         *     // Declare your custom layout class.\n         *     // might cause collisions if already a MyCustomLayout!\n         *     app.view.layouts.MyCustomLayout = app.view.Layout.extend({\n         *         // Put your custom logic here\n         *     });\n         *     // if you must define directly on app.view.layouts,\n         *     // you may instead prefer to do:\n         *     `app.view.layouts.<YOUR_PLATFORM>MyCustomLayout` = app.view.Layout.extend({\n         *         // Put your custom logic here\n         *     });\n         *\n         *     var myCustomLayout = app.view.createLayout({\n         *         type: 'myCustom'\n         *     });\n         *\n         * Create a layout with custom metadata payload.\n         *\n         *     var layout = app.view.createLayout({\n         *         type: 'detail',\n         *         meta: { ... your custom metadata ... }\n         *     });\n         *\n         * @param {Object} params layout parameters.\n         * @param {string} [params.type] Layout identifier (`default`, `base`,\n         *   etc.).\n         * @param {string} [params.name=params.type] Layout name that\n         *   distinguishes between multiple instances of the same layout type.\n         * @param {Object} [params.context=app.controller.context]\n         *   Context to associate the newly created layout with.\n         * @param {string} params.module Module name.\n         * @param {string} [params.loadModule] The module to load the Layout\n         *   from. Defaults to `params.module` or the context's module, in that\n         *   order.\n         * @param {Object} [params.meta] Custom metadata.\n         * @return {View.Layout} New instance of the layout.\n         */\n        createLayout: function(params) {\n            params.context = params.context || app.controller.context;\n            params.module = params.module || params.context.get('module');\n            // name defines which metadata to load\n            params.name = params.name || params.type;\n            params.meta = params.meta || app.metadata.getLayout(params.module, params.name, params.loadModule);\n\n            if (params.def && params.def.xmeta) {\n                params.meta = _.extend({}, params.meta, params.def.xmeta);\n            }\n\n            // type defines which controller to use\n            var meta = params.meta || {};\n            params.type = params.type || meta.type || params.name;\n\n            return this._createComponent('layout', params.type, params);\n        },\n\n        /**\n         * Creates an instance of a field and registers it with the parent view\n         * (`params.view`).\n         *\n         * The parameters define creation rules as well as field properties.\n         *\n         * For example,\n         *\n         *     var params = {\n         *         view: new Backbone.View,\n         *         def: {\n         *             type: 'text',\n         *             name: 'first_name',\n         *             label: 'LBL_FIRST_NAME'\n         *         },\n         *         context: optional context,\n         *         model: optional model,\n         *         meta: optional custom metadata,\n         *         viewName: optional\n         *     }\n         *\n         *\n         * The view manager queries the metadata manager for field type specific\n         * metadata (templates and JS controller) unless custom metadata is\n         * passed in the `params` hash.\n         *\n         * Note the following is deprecated in favor of placing custom field\n         * controllers in `sugarcrm/clients/<platform>/fields` or using the\n         * `createField` factory.\n         *\n         * To create instances of custom fields, first declare its class in the\n         * `app.view.fields` hash:\n         *\n         *     // might cause collision if MyCustomField already exists!\n         *     app.view.fields.MyCustomField = app.view.Field.extend({\n         *         // Put your custom logic here\n         *     });\n         *     // if you must define directly on app.view.fields\n         *     // you may instead prefer to do:\n         *     app.view.fields.<YOUR_PLATFORM>MyCustomField = app.view.Field.extend({ ...\n         *\n         *     var myCustomField = app.view.createField({\n         *         view: someView,\n         *         def: {\n         *             type: 'myCustom',\n         *             name: 'my_custom'\n         *         }\n         *     });\n         *\n         * @param {Object} params Field parameters.\n         * @param {Backbone.View} params.view Backbone View object.\n         * @param {Object} params.def Field definition.\n         * @param {Object} [params.context=`SUGAR.App.controller.context`] The\n         *   context.\n         * @param {Object} [params.model] The model to use. If not specified,\n         *   the model which is set on the context is used.\n         * @param {Object} [params.meta] Custom metadata.\n         * @param {string} [params.viewName=params.view.name] View name to\n         *   determine the field template.\n         * @return {View.Field} a new instance of field.\n         */\n        createField: function(params) {\n            var type = params.viewDefs ? params.viewDefs.type : params.def.type;\n            params.context = params.context || params.view.context || app.controller.context;\n            params.model = params.model || params.context.get(\"model\");\n            params.module = params.module || (params.model && params.model.module ? params.model.module : params.context.get('module')) || \"\";\n            if (params.meta) {\n                app.logger.warn('`params.meta` is deprecated in `View.ViewManager#createField` since 7.8 and will be removed in 7.9.');\n            }\n\n            if (params.meta && params.meta.controller) params.controller = params.meta.controller;\n            params.sfId = ++_sfId;\n\n            var field = this._createComponent(\"field\", type, params);\n            // Register new field within its parent view.\n            params.view.fields[field.sfId] = field;\n\n            return field;\n        },\n\n        /**\n         * Returns the platform from the given params, falling back to\n         * `app.config.platform` or else 'base'.\n         *\n         * @param {Object} params Parameters.\n         * @param [params.platform] The platform (`base`, `portal`, etc.).\n         * @return {string} The platform.\n         * @private\n         */\n        _getPlatform: function(params) {\n            return params.platform || (app.config && app.config.platform ? app.config.platform : 'base');\n        },\n\n        /**\n         * Gets a controller of type field, layout, or view.\n         * @param {Object} params Parameters for the controller.\n         * @param {string} params.type The controller type.\n         * @param {string} params.name the filename of the controller\n         *   (e.g. 'flex-list', 'record', etc.).\n         * @param {string} [params.platform] The platform, e.g. 'portal'.\n         *   Will first attempt to fall back to app.config.platform, then 'base'.\n         * @param {string} [params.module] The module name.\n         * @return {Object|null} The controller or `null` if not found.\n         * @private\n         */\n        _getController: function(params) {\n            var c = this._getBaseComponent(params.type, params.name, params.module, params.platform);\n            //Check to see if we have the module specific class; if so return that\n            if (c.cache[c.moduleBasedClassName]) {\n                return c.cache[c.moduleBasedClassName];\n            }\n            return c.baseClass;\n        },\n\n        /**\n         * This function is used to verify if a component has a certain plugin.\n         *\n         * @param {Object} params Set of parameters passed to function.\n         * @param {string} params.type Type of component to check.\n         * @param {string} params.name Name of component to check.\n         * @param {string} params.plugin Name of plugin to check.\n         * @param {string} [params.module=''] Name of module to check for custom\n         *   components in.\n         *\n         * @return {boolean|null} `true` if the specified component exists and\n         *   has that plugin, `false` if the component does not exist or lacks\n         *   that plugin, and `null` if incorrect arguments were passed.\n         */\n        componentHasPlugin: function(params) {\n            var controller;\n            if (!params.type || !params.name || !params.plugin) {\n                app.logger.error(\"componentHasPlugin requires type, name, and plugin parameters\");\n                return null;\n            }\n            controller = this._getController(params);\n            return controller && controller.prototype &&\n                _.contains(controller.prototype.plugins, params.plugin);\n        },\n\n        /**\n         * Retrieves class declaration for a component or creates a new\n         * component class.\n         *\n         * This method creates a subclass of the base class if controller\n         * parameter is not null and such subclass hasn't been created yet.\n         * Otherwise, the method tries to retrieve the most appropriate class by\n         * searching in the following order:\n         *\n         * - Custom class name: `<module><component-name><component-type>`.\n         * For example, for Contacts module one could have:\n         * `ContactsDetailLayout`, `ContactsFluidLayout`, `ContactsListView`.\n         *\n         * - Class name: `<component-name><component-type>`.\n         * For example: `ListLayout`, `ColumnsLayout`, `DetailView`, `IntField`.\n         *\n         * - Custom base class: `<capitalized-appId><component-type>`\n         * For example, if `app.config.appId == 'portal'`, custom base classes\n         * would be:\n         * `PortalLayout`, `PortalView`, `PortalField`.\n         *\n         * Declarations of such classes must be in the `app.view` namespace.\n         * There are use cases when an app has some common component code.\n         * In such cases, using custom base classes is beneficial. For example,\n         * any app may need to override validation error handling for fields:\n         *\n         *     // Assuming app.config.appId === 'portal':\n         *     app.view.PortalField = app.view.Field.extend({\n         *         initialize: function(options) {\n         *             // Call super\n         *             app.view.Field.prototype.initialize.call(this, options);\n         *             // Custom initialization code...\n         *         },\n         *\n         *        handleValidationError: function(errors) {\n         *            // Custom validation logic\n         *        }\n         *     });\n         *\n         * The above declaration will make all field controllers extend\n         * `app.view.PortalField` instead of `app.view.Field`.\n         *\n         * - Base class: `<component-type>` - `Layout`, `View`, `Field`.\n         *\n         * Note 1. Although the view manager supports module specific fields\n         * like `ContactsIntField`, the server does not provide such\n         * customization.\n         *\n         * Note 2. The layouts is a special case because their class name is\n         * built both from layout name and layout type. One could have\n         * `ListLayout` or `ColumnsLayout` including their module specific\n         * counterparts like `ContactsListView` and `ContactsColumnsLayout`.\n         * The \"named\" class name is checked first.\n         *\n         * @param {string} type Lower-cased component type: `layout`, `view`, or\n         *   `field`.\n         * @param {string} name Lower-cased component name. For example, 'list'\n         *   (layout or view), or 'bool' (field).\n         * @param {string} [module] Module name.\n         * @param {string} [controller] Controller source code string.\n         * @param {boolean} [overwrite] Will overwrite if duplicate\n         *   custom class or layout is cached. Note that if no controller is\n         *   passed, overwrite is ignored since we can't create a meaningful\n         *   component without a controller.\n         * @param {string} [platform] The platform e.g. 'base', 'portal', etc.\n         * @return {Function} Component class.\n         */\n        declareComponent: function(type, name, module, controller, overwrite, platform) {\n            var c = this._getBaseComponent(type, name, module, platform, overwrite && controller);\n            if (overwrite && controller) {\n                if (c.cache[c.moduleBasedClassName]) delete c.cache[c.moduleBasedClassName];\n            }\n            return  c.cache[c.moduleBasedClassName] ||\n                app.utils.extendClass(c.cache, c.baseClass, c.moduleBasedClassName, controller, c.platformNamespace) ||\n                c.baseClass;\n        },\n\n        /**\n         * Internal helper function for getting a component (controller). Do not\n         * call directly and instead use `declareComponent`, etc.\n         * depending on your needs.\n         * @param {string} type Lower-cased component type: `layout`, `view`, or\n         *   `field`.\n         * @param {string} name Lower-cased component name. For example, `list`\n         *   (layout or view), or `bool` (field).\n         * @param {string} [module] Module name.\n         * @param {string} [platform] The platform e.g. 'base', 'portal', etc.\n         * @param {boolean} [overwrite=true] When `true`, custom controller\n         *   overrides will be ignored and only components that exactly match\n         *   the name will be returned. The base class returned is `base`.\n         * @return {Object} The base component information.\n         * @return {Object} return.cache The collection of controllers of the\n         *   given component type.\n         * @return {string} return.platformNamespace The platform prefix.\n         * @return {string} return.moduleBasedClassName The prefixed class name.\n         * @return {Object} return.baseClass The class for the base component.\n         * @private\n         */\n        _getBaseComponent: function(type, name, module, platform, overwrite) {\n            platform = this._getPlatform({platform: platform});\n            // The type e.g. View, Field, Layout\n            var ucType = app.utils.capitalize(type),\n            // The platform e.g. Base, Portal, etc.\n                platformNamespace = app.utils.capitalize(platform),\n            // The component name and type concatenated e.g. ListView\n                className = app.utils.capitalizeHyphenated(name) + ucType,\n            // The combination of platform, optional module, and className e.g. BaseAccountsListView\n                moduleBasedClassName = platformNamespace + (module || \"\") + className,\n                customModuleBasedClassName = platformNamespace + (module || \"\") + \"Custom\" + className,\n                cache = app.view[type + \"s\"],\n            // App id and type fallback\n                customBaseClassName = app.utils.capitalize(app.config.appId) + ucType,\n            // Components are now namespaced by <platform> so we must prefix className to find in cache\n            // if we don't find platform-specific, than we next look in Base<className> and so on\n                baseClass = cache[platformNamespace + \"Custom\" + className] ||\n                    cache[platformNamespace + className] ||\n                    cache[\"BaseCustom\" + className] ||\n                    cache[\"Base\" + className] ||\n                    // For backwards compatibility, if they define app.view.views.MyView we should still find\n                    cache[className] ||\n                    cache[\"BaseBase\" + ucType] ||\n                    app.view[\"Custom\" + customBaseClassName] ||\n                    app.view[customBaseClassName] ||\n                    app.view[ucType];\n            // Override to use the custom class instead of the standard one if it exists.\n            if (cache[customModuleBasedClassName] && !overwrite) {\n                moduleBasedClassName = customModuleBasedClassName;\n            }\n            return {\n                cache: cache,\n                platformNamespace: platformNamespace,\n                moduleBasedClassName: moduleBasedClassName,\n                baseClass: baseClass\n            };\n        }\n    };\n\n    app.augment(\"view\", _viewManager, false);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/view-manager.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Represents base view class for layouts, views, and fields.\n *\n * This is an abstract class.\n *\n * @class View.Component\n * @alias SUGAR.app.view.Component\n * @extends Backbone.View\n */\n(function(app) {\n\n    app.view.Component = Backbone.View.extend({\n\n        /**\n         * Internal flag used to prevent {@link #events} from being delegated\n         * prior to {@link #initialize}, in {@link #delegateEvents}. Do not use\n         * this flag!\n         *\n         * FIXME SC-5690: This property will be removed when we have mixin\n         * support with an ES6-style super method.\n         *\n         * @private\n         * @deprecated Deprecated in 7.8.0 and will be removed in 7.9.0.\n         * @type {boolean}\n         */\n        _isInitialized: false,\n\n        /**\n         * Constructor for sidecar components, currently used to define the\n         * order of event delegation on {@link #events this component's events},\n         * after Backbone changed the order in which events are delegated from\n         * 0.9.10 to 1.2.0. Also temporarily defines {@link #options} on the\n         * component, as Backbone no longer does this by default.\n         *\n         * @constructor\n         * @param {Object} options The Backbone.View initialization options.\n         */\n        constructor: function(options) {\n            /**\n             * Attaches the `options` passed into the constructor to this\n             * component.\n             *\n             * FIXME SC-5597: Since this is no longer supported by Backbone, it\n             * will be removed from Sidecar components as well.\n             *\n             * @deprecated Deprecated since 7.8.0. Will be removed in 7.10.0.\n             * @property {Object}\n             */\n            this.options = options || {};\n\n            this._wrapInitialize(options);\n\n            return Backbone.View.apply(this, arguments);\n        },\n\n        /**\n         * Wraps the initialize method to delegate the events on the element,\n         * after it initializes.\n         *\n         * @protected\n         * @param {Object} options The Backbone.View initialization options.\n         */\n        _wrapInitialize: function (options) {\n            this.initialize = _.wrap(this.initialize, _.bind(function (init) {\n                init.call(this, options);\n                this.initialize = init;\n                this._isInitialized = true;\n                this.delegateEvents();\n            }, this));\n        },\n\n        /**\n         * Initializes a component.\n         *\n         * @param {Object} options The Backbone.View initialization options.\n         *\n         * - context\n         * - meta\n         * - module\n         * - model\n         * - collection\n         *\n         * `context` is the only required option.\n         */\n        initialize: function(options) {\n\n            /**\n             * Reference to the context (required).\n             * @property {Core.Context}\n             */\n            this.context = options.context || app.controller && app.controller.context || new Backbone.Model();\n\n            /**\n             * Component metadata (optional).\n             * @property {Object}\n             */\n            this.meta = options.meta;\n\n            /**\n             * Module name (optional).\n             * @property {String}\n             */\n            this.module = options.module || this.context.get('module');\n\n            /**\n             * Reference to the model this component is bound to.\n             * @property {Data.Bean}\n             */\n            this.model = options.model || this.context.get('model');\n\n            /**\n             * Reference to the collection this component is bound to.\n             * @property {Data.BeanCollection}\n             */\n            this.collection = options.collection || this.context.get('collection');\n\n            // Adds classes to the component based on the metadata.\n            if (this.meta && this.meta.css_class) {\n                this.$el.addClass(this.meta.css_class);\n            }\n\n            this.updateVisibleState(true);\n\n            // Register last state defaults\n            app.user.lastState.register(this);\n        },\n\n        /**\n         * Renders a component.\n         *\n         * Override this method to provide custom logic.\n         * The default implementation does nothing.\n         * See [Backbone.View](http://backbonejs.org/#View-render)\n         * documentation for details.\n         * The convention is for {@link #_render} to always return `this`.\n         *\n         * @return {View.Component} Instance of this component.\n         *\n         * @template\n         * @protected\n         */\n        _render: function() {\n            return this;\n        },\n\n        /**\n         * Renders a component.\n         *\n         * IMPORTANT: Do not override this method.\n         * Instead, override {@link View.Component#_render} to provide render logic.\n         * @return {View.Component} Instance of this component.\n         */\n        render: function() {\n            if (this.disposed === true) {\n                app.logger.error(\"Unable to render component because it's disposed \" + this + '\\n');\n                return false;\n            }\n            if (!this.triggerBefore('render'))\n                return false;\n            this._render();\n\n            this.trigger('render');\n\n            return this;\n        },\n\n        /**\n         * Proxies the parent method on `Backbone.View`, but only called after\n         * {@link #initialize this view instance initializes}.\n         *\n         * @return {View.Component} Returns {@link View.Component this instance}.\n         */\n        delegateEvents: function () {\n            if (!this._isInitialized) {\n                return this;\n            }\n\n            // FIXME SC-5680: We can't call `_super` from View.Component - it\n            // would just call this method again. SC-5680 will address fixing\n            // the `_super` method.\n            return Backbone.View.prototype.delegateEvents.apply(this, arguments);\n        },\n\n        /**\n         * Sets template option.\n         *\n         * If the given option already exists it is augmented by the value of the given `option` parameter.\n         * See Handlebars.js documentation for details.\n         * @param {String} key Option key.\n         * @param {Object} option Option value.\n         */\n        setTemplateOption: function(key, option) {\n            this.options.templateOptions = this.options.templateOptions || {};\n            this.options.templateOptions[key] = _.extend({}, this.options.templateOptions[key], option);\n        },\n\n        /**\n         * Binds data changes to this component.\n         *\n         * This method should be overridden by derived views.\n         */\n        bindDataChange: function() {\n            // Override this method to wire up model/collection events\n        },\n\n        /**\n         * Removes this component's event handlers from model and collection.\n         *\n         * Performs the opposite of what {@link View.Component#bindDataChange} method does.\n         * Override this method to provide custom logic.\n         */\n        unbindData: function() {\n            if (this.model) this.model.off(null, null, this);\n            if (this.collection) this.collection.off(null, null, this);\n        },\n\n        /**\n         * Removes all event callbacks registered within this component\n         * and undelegates Backbone events.\n         *\n         * Override this method to provide custom logic.\n         */\n        unbind: function() {\n            this.off();\n            this.offBefore();\n            this.undelegateEvents();\n            app.events.off(null, null, this);\n            app.events.unregister(this);\n            if (this.context) this.context.off(null, null, this);\n            if (this.layout) this.layout.off(null, null, this);\n        },\n\n        /**\n         * Fetches data for layout's model or collection.\n         *\n         * The default implementation does nothing.\n         * See {@link View.Layout#loadData} and {@link View.View#loadData} methods.\n         */\n        loadData: _.noop,\n\n        /**\n         * Disposes a component.\n         *\n         * This method:\n         *\n         * - unbinds the component from model and collection.\n         * - removes all event callbacks registered within this component.\n         * - removes the component from the DOM.\n         *\n         * Override this method to provide custom logic:\n         * <pre><code>\n         * app.view.views.MyView = app.view.View.extend({\n         *      _dispose: function() {\n         *          // Perform custom clean-up. For example, clear timeout handlers, etc.\n         *          ...\n         *          // Call super\n         *          app.view.View.prototype._dispose.call(this);\n         *      }\n         * });\n         * </code></pre>\n         * @protected\n         */\n        _dispose: function() {\n            this.unbindData();\n            this.unbind();\n            this.remove();\n            this.model = null;\n            this.collection = null;\n            this.context = null;\n            this.$el = null;\n            this.el = null;\n        },\n\n        /**\n         * Disposes a component.\n         *\n         * Once the component gets disposed it can not be rendered.\n         * Do not override this method. Instead override {@link View.Component#_dispose} method\n         * if you need custom disposal logic.\n         */\n        dispose: function() {\n            if (this.disposed === true) return;\n            this._dispose();\n            this.disposed = true;\n        },\n\n        /**\n         * Gets a string representation of this component.\n         * @return {String} String representation of this component.\n         */\n        toString: function() {\n            return this.cid +\n                '-' + (this.$el && this.$el.id ? this.$el.id : '<no-id>') +\n                '/' + this.module +\n                '/' + this.model +\n                '/' + this.collection;\n        },\n\n        /**\n         * Traverse upwards from the current component to find the first\n         * component that matches the name.\n         *\n         * The default implementation does nothing.\n         * See {@link View.Layout#closestComponent},\n         * {@link View.View#closestComponent} and\n         * {@link View.Field#closestComponent} methods.\n         *\n         * @param {String} name The name of the component to find.\n         * @return {View.Component} The component or `undefined` if not found.\n         */\n        closestComponent: _.noop,\n\n        /**\n         * Pass through function to jQuery's show to show view.\n         */\n        show: function() {\n            if (!this.isVisible()) {\n                if (!this.triggerBefore('show')) {\n                    return false;\n                }\n\n                this._show();\n                this.trigger('show');\n            }\n        },\n\n        /**\n         * Pass through function to jQuery's hide to hide view.\n         */\n        hide: function() {\n            if (this.isVisible()) {\n                if (!this.triggerBefore('hide')) {\n                    return false;\n                }\n\n                this._hide();\n                this.trigger('hide');\n            }\n        },\n\n        /**\n         * Checks if the component is visible on the page.\n         */\n        isVisible: function() {\n            return this._isVisible;\n        },\n\n        /**\n         * Updates the visible property.\n         *\n         * **Note:** This does not show/hide the component. Please use\n         * {@link #show} and {@link #hide} for this use case.\n         */\n        updateVisibleState: function(visible) {\n            /**\n             * Flag to indicate the visible state of the component.\n             *\n             * @type {boolean}\n             * @private\n             */\n            this._isVisible = !!visible;\n        },\n\n        /**\n         * @protected\n         */\n        _show: function() {\n            this.$el.removeClass('hide').show();\n            this.updateVisibleState(true);\n        },\n\n        /**\n         * @protected\n         */\n        _hide: function() {\n            this.$el.addClass('hide').hide();\n            this.updateVisibleState(false);\n        },\n\n        /**\n         *  _super is used to retrieve and invoke parent prototype functions.\n         *  Requires a method paramter to function. The method called should be named the same as the function\n         *  being called from.\n         *\n         * Examples:\n         *\n         * * Good:\n         * <pre><code>\n         * ({\n         *     initialize: function(options) {\n         *         //extend the base meta with some custom meta\n         *         options.meta = _.extend({}, myMeta, options.meta || {});\n         *         //Only call parent initialize from initialize\n         *         this._super('initialize', [options]);\n         *         this.buildFoo(options);\n         *     }\n         * });\n         * </code></pre>\n         *\n         * * Bad:\n         * <pre><code>\n         * ({\n         *     initialize: function(options) {\n         *         //extend the base meta with some custom meta\n         *         options.meta = _.extend({}, myMeta, options.meta || {});\n         *         //Calling a function like buildFoo from initialize is incorrect. Should call directly on this\n         *         this._super('buildFoo',[options]);\n         *     }\n         * });\n         * </code></pre>\n         *\n         * @param {string} method The name of the method to call (e.g.\n         *   `initialize`, `_renderHtml`).\n         * @param {Array} [args] Arguments to pass to the parent method.\n         * @return {Mixed}\n         * @protected\n         */\n        _super: function(method, args) {\n            //Must be used to invoke parent methods\n            if (!method || !_.isString(method)) {\n                return app.logger.error('tried to call _super without specifying a parent method in ' + this.name);\n            }\n\n            var parent, thisProto = Object.getPrototypeOf(this);\n            args = args || [];\n\n            //_lastSuperClass is used to walk the prototype chain\n            this._superStack = this._superStack || {};\n            this._superStack[method] = this._superStack[method] || [];\n            if (this._superStack[method].length > 0) {\n                parent = Object.getPrototypeOf(_.last(this._superStack[method]));\n                if (_.contains(this._superStack[method], parent)) {\n                    return app.logger.error('Loop detected calling ' + method + ' from ' + this.name);\n                }\n            } else {\n                parent = Object.getPrototypeOf(thisProto);\n            }\n\n            //First verify that the method exists on the current object\n            if (!thisProto[method]) {\n                return app.logger.error('Unable to find method ' + method + ' on class ' + this.name);\n            }\n\n            //Walk up the chain until we find a parent that implements the method.\n            while (!parent.hasOwnProperty(method) && parent !== app.view.Component.prototype) {\n                parent = Object.getPrototypeOf(parent);\n            }\n\n            //Walk up the chain until we find a parent that overrode the method.\n            while (thisProto[method] === parent[method] && parent !== app.view.Component.prototype) {\n                thisProto = parent;\n                parent = Object.getPrototypeOf(parent);\n            }\n            this._superStack[method].push(parent);\n\n            //Verify that we found a valid parent that implements this method\n            if (!parent) {\n                return app.logger.error('Unable to find parent of component ' + this.name);\n            }\n            if (!parent[method]) {\n                return app.logger.error('Unable to find method ' + method + ' on parent class of ' + this.name);\n            }\n\n            //Finally make the parent call\n            var ret = parent[method].apply(this, args);\n\n            //Reset the last parent to step down the prototype chain\n            this._superStack[method].pop();\n            //When we reach the end of the chain, also remove the method name requirement\n            if (_.isEmpty(this._superStack[method])) {\n                this._superStack[method] = null;\n            }\n\n            return ret;\n        },\n\n        /**\n         * Gets HTML placeholder for a component.\n         * @return {string} HTML placeholder to be used in a handlebars template.\n         */\n        getPlaceholder: function() {\n            return new Handlebars.SafeString('<span cid=\"' + this.cid + '\"></span>');\n        }\n    });\n\n    //Mix in the beforeEvents\n    _.extend(app.view.Component.prototype, app.beforeEvent);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/component.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n    /**\n     * Base View class. Use {@link View.ViewManager} to create instances of views.\n     *\n     * @class View.View\n     * @alias SUGAR.App.view.View\n     * @extends View.Component\n     */\n    app.view.View = app.view.Component.extend({\n\n        /**\n         * TODO: add docs (describe options parameter, see Component class for an example).\n         * @param options\n         */\n        initialize: function(options) {\n            app.plugins.attach(this, \"view\");\n            app.view.Component.prototype.initialize.call(this, options);\n\n            /**\n             * View type\n             * @cfg {string}\n             */\n            this.type = options.type;\n\n            /**\n             * Name of the view.\n             * @cfg {string}\n             */\n            this.name = options.name || this.type;\n\n            /**\n             * Name of the action (optional).\n             *\n             * Used in acl checks for user permissions. By default, set to the view name.\n             * @cfg {String}\n             */\n            this.action = options.meta && options.meta.action ? options.meta.action : this.name;\n\n            this._loadTemplate(options);\n\n            /**\n             * Dictionary of field widgets.\n             *\n             * - keys: field IDs (sfuuid)\n             * - value: instances of `app.view.Field` class\n             */\n            this.fields = {};\n\n            /**\n             * A template to use for view fields if a field does not have a template defined for its parent view.\n             * Defaults to `\"default\"`.\n             *\n             * For example, if you have a subview and don't want to define subview template for all field types,\n             * you may choose to use existing templates like `detail` if your subview is in fact a detail view.\n             *\n             * @property {String}\n             */\n            this.fallbackFieldTemplate = this.fallbackFieldTemplate || \"detail\";\n\n            /**\n             * Reference to the parent layout instance.\n             * @property {View.Layout}\n             */\n            this.layout = this.options.layout;\n\n            /**\n             * Flag indicating whether a view is primary or not.\n             *\n             * If the primary view is not rendered due to the access control,\n             * a warning message will be displayed.\n             *\n             * @property {Boolean}\n             */\n            this.primary = options.primary;\n\n            this._setLabels();\n\n            /**\n             * The view name that contains the list of fields to use when\n             * fetching the model/collection from the server.\n             *\n             * List, record or detail views might have too many fields defined\n             * in the metadata. This property avoids having to list all these\n             * fields in the request params.\n             *\n             * @property {string} dataView\n             */\n            if (this.dataView) {\n                this.context.set('dataView', this.dataView);\n            } else {\n                this.context.addFields(this.getFieldNames());\n            }\n\n            app.events.on('app:locale:change', function() {\n                this._setLabels();\n            }, this);\n        },\n\n        /**\n         * Gets the template falling back using `loadModule` property when\n         * specified.\n         *\n         * @param {string} name The template's name to get.\n         * @param {string} [fallbackModule] The module to fallback to if the\n         *   template does not exist in this view's module. If undefined, the\n         *   template is grabbed in `base`.\n         * @private\n         */\n        _getTemplate: function(name, fallbackModule) {\n            return app.template.getView(name, this.module) || app.template.getView(name, fallbackModule);\n        },\n\n        /**\n         * Sets the appropriate template for this view to {@link #template}.\n         * Sets the name of the template to {@link #tplName}.\n         *\n         * @param {Object} [options] The options that may specify the template to\n         *   load.\n         * @param {Object} [options] A hash of options.\n         * @param {Function} [options.template] The compiled template.\n         * @param {string} [options.loadModule] The fallback module to get the\n         *   template from.\n         * @private\n         */\n        _loadTemplate: function(options) {\n            var template, templateName;\n            options = options || {};\n\n            if (options.template) {\n                template = options.template;\n                templateName = null;\n            } else if (this.meta && this.meta.template) {\n                template = this._getTemplate(this.meta.template, options.loadModule);\n                templateName = this.meta.template;\n            } else {\n                template = this._getTemplate(this.name, options.loadModule);\n                templateName = this.name;\n            }\n\n            if (!template) {\n                if (this.meta && this.meta.type) {\n                    template = this._getTemplate(this.meta.type, options.loadModule);\n                    templateName = this.meta.type;\n                } else {\n                    template = app.template.empty;\n                    templateName = '';\n                }\n            }\n\n            /**\n             * The name of the template that is loaded.\n             * This is a public read-only property. This property should not be\n             * modified directly.\n             *\n             * @property {string|null} tplName\n             * @member View.View\n             */\n            this.tplName = templateName;\n\n            /**\n             * The template for this view.\n             *\n             * @property {Function} template\n             * @member View.View\n             */\n            this.template = template;\n        },\n\n        /**\n         * Renders a view onto the page.\n         *\n         * This method uses `ctx` parameter as the context for the view's Handlebars {@link View.View#template}\n         * and view's `options.templateOptions` property as template options.\n         *\n         * If no `ctx` parameter is specified, `this` is passed as the context for the template.\n         * If no `options` parameter is specified, `this.options.templateOptions` is used.\n         *\n         * You can override this method if you have custom rendering logic and don't use Handlebars templating\n         * or if you need to pass different context object for the template.\n         *\n         * Note the following use of app.view.View.extend is deprecated in favor of putting these controllers in the\n         * sugarcrm/clients/<platform> directory. Using that idiom, the metadata manager will declare these components\n         * and take care of namespacing by platform for you (so MyCustomView will be stored internally as MyappMyCustomView).\n         * If you do choose to use the following idiom please be forwarned that you will lose any namespacing benefits and\n         * possibly encounter naming collisions!\n         *\n         * Example:\n         * <pre><code>\n         * // Note that using the following technique of defining custom views directly on the app.view.views object\n         * // can result in naming collisions unless you ensure your name is unique. See note above.\n         * app.view.views.CustomView = app.view.View.extend({\n         *    _renderHtml: function() {\n         *       var ctx = {\n         *         // Your custom context for this view template\n         *       };\n         *       app.view.View.prototype._renderHtml.call(this, ctx);\n         *    }\n         * });\n         *\n         * // Or totally different logic that doesn't use this.template\n         * app.view.views.AnotherCustomView = app.view.View.extend({\n         *    _renderHtml: function() {\n         *       // Never do this :)\n         *       return \"&lt;div&gt;Hello, world!&lt;/div&gt;\";\n         *    }\n         * });\n         *\n         *\n         * </code></pre>\n         *\n         * This method uses this view's {@link View.View#template} property to render itself.\n         * @param {Data.Context} [ctx] Template context.\n         * @param {Object} [options] Template options.\n         * <pre><code>\n         * {\n         *    helpers: helpers,\n         *    partials: partials,\n         *    data: data\n         * }\n         * </code></pre>\n         * See Handlebars.js documentation for details.\n         * @protected\n         */\n        _renderHtml: function(ctx, options) {\n            if (this.template) {\n                try {\n                    this.$el.html(this.template(ctx || this, options || this.options.templateOptions));\n                } catch (e) {\n                    app.logger.error(\"Failed to render \" + this + \"\\n\" + e);\n                    app.error.handleRenderError(this, '_renderHtml');\n                }\n            }\n        },\n\n        /**\n         * Renders all the fields.\n         *\n         * @protected\n         */\n        _renderFields: function() {\n            var self = this;\n\n            // In terms of performance it is better to search the DOM once for\n            // all the fields, than to search the DOM for each field. That's why\n            // we cache placeholders locally and pass them to\n            // {@link View.Field#_renderField}.\n            var fieldElems = {};\n\n            this.$('span[sfuuid]').each(function() {\n                var $this = $(this),\n                    sfId = $this.attr('sfuuid');\n                fieldElems[sfId] = $this;\n            });\n\n            _.each(this.fields, function(field) {\n                self._renderField(field, fieldElems[field.sfId]);\n            });\n        },\n\n        /**\n         * Sets field's view element and invokes render on the given field.\n         *\n         * @param {View.Field} field The field to render.\n         * @param {jQuery} $fieldEl The field placeholder.\n         * @protected\n         */\n        _renderField: function(field, $fieldEl) {\n            field.setElement($fieldEl || this.$(\"span[sfuuid='\" + field.sfId + \"']\"));\n            try {\n                field.render();\n            } catch (e) {\n                app.logger.error(\"Failed to render \" + field + \" on \" + this + \"\\n\" + e);\n                app.error.handleRenderError(this, '_renderField', field);\n            }\n        },\n\n        /**\n         * Renders a view onto the page.\n         *\n         * The method first renders this view by calling {@link View.View#_renderHtml}\n         * and then for each field invokes {@link View.View#_renderField}.\n         *\n         * NOTE: Do not override this method, otherwise you will loose ACL check.\n         * Consider overriding {@link View.View#_renderHtml} instead.\n         *\n         * @return {View.View} The instance of this view.\n         * @protected\n         */\n        _render: function() {\n            if (app.acl.hasAccessToModel(this.action, this.model)) {\n                this._disposeFields();\n                this._renderHtml();\n                this._renderFields();\n\n            } else {\n\n                app.logger.info(\"Current user does not have access to this module view. name: \" + this.name + \" module:\"+this.module);\n                // See Bug56941.\n                // We suppress this warning from being presented to user in situations where we're trying\n                // to display a view for a Linked module where the user does not have access.  If you clicked on\n                // a Bug and you shouldn't get warnings about Notes, etc, if you didn't have access to those other modules.\n                if(this.primary){\n                    app.error.handleRenderError(this, 'view_render_denied');\n                }\n            }\n\n            return this;\n        },\n\n        _setLabels: function() {\n            /**\n             * Pluralized i18n-ed module name.\n             * @property {String}\n             * @member View.View\n             */\n            this.modulePlural = app.lang.getAppListStrings(\"moduleList\")[this.module] || this.module;\n\n            /**\n             * Singular i18n-ed module name.\n             * @property {String}\n             * @member View.View\n             */\n            this.moduleSingular = app.lang.getAppListStrings(\"moduleListSingular\")[this.module] || this.modulePlural;\n        },\n\n        /**\n         * Fetches data for view's model or collection.\n         *\n         * This method calls view's context {@link Core.Context#loadData} method.\n         *\n         * Override this method to provide custom fetch algorithm.\n         * @param {Object} [options] Options that are passed to\n         *   collection/model's fetch method.\n         */\n        loadData: function(options) {\n            // FIXME This should be removed by 7.9.\n            if (arguments.length === 2) {\n                app.logger.warn('The `setFields` argument is no longer supported. Views and Layouts must ' +\n                    'add the fields they need without affecting other Views and Layouts');\n            }\n\n            // See Bug56941.\n            // Lets only load the data for views where user has read access.\n            // Otherwise we generate REST API errors.\n            if (app.acl.hasAccess(\"read\", this.module)) {\n                this.context.loadData(options);\n            }\n        },\n\n        /**\n         * Extracts the field names from the metadata for directly related views/panels.\n         *\n         * @param {string} [module] Module name. Defaults to the Context module.\n         * @return {Array} List of fields used on this view\n         */\n        getFieldNames: function(module) {\n            var fields = [];\n            module = module || this.context.get('module');\n\n            if (this.meta && this.meta.panels) {\n                fields = _.reduce(_.map(this.meta.panels, function(panel) {\n                    var nestedFields = _.flatten(_.compact(_.pluck(panel.fields, \"fields\")));\n                    return _.pluck(panel.fields, 'name').concat(\n                        _.pluck(nestedFields, 'name')).concat(\n                        _.flatten(_.compact(_.pluck(panel.fields, 'related_fields'))));\n                }), function(memo, field) {\n                    return memo.concat(field);\n                }, []);\n            }\n\n            fields = _.compact(_.uniq(fields));\n\n            var fieldMetadata = app.metadata.getModule(module, 'fields');\n            if (fieldMetadata) {\n                // Filter out all fields that are not actual bean fields\n                fields = _.reject(fields, function(name) {\n                    return _.isUndefined(fieldMetadata[name]);\n                });\n\n                // we need to find the relates and add the actual id fields\n                var relates = [];\n                _.each(fields, function(name) {\n                    if (fieldMetadata[name].type == 'relate') {\n                        relates.push(fieldMetadata[name].id_name);\n                    }\n                    else if (fieldMetadata[name].type == 'parent') {\n                        relates.push(fieldMetadata[name].id_name);\n                        relates.push(fieldMetadata[name].type_name);\n                    }\n                    if (_.isArray(fieldMetadata[name].fields)) {\n                        relates = relates.concat(fieldMetadata[name].fields);\n                    }\n                });\n\n                fields = _.union(fields, relates);\n            }\n\n            return fields;\n        },\n\n\n        /**\n         * Gets a hash of fields that are currently displayed on this view.\n         *\n         * The hash has field names as keys and field definitions as values.\n         * @param {String} module(optional) Module name.\n         * @param {Bean} model(optional) model to match fields against. Only fields the correspond with the given model will be returned.\n         * @return {Object} The currently displayed fields.\n         */\n        getFields: function(module, model) {\n            var fields = {};\n            var fieldNames = this.getFieldNames(module);\n            _.each(fieldNames, function(name) {\n                var field = this.getField(name, model);\n                if (field) {\n                    fields[name] = field.def;\n                }\n            }, this);\n            return fields;\n        },\n\n        /**\n         * Returns a field by name.\n         * @param {String} name Field name.\n         * @param {Bean=} optional model to find the field for.\n         * @return {View.Field} Instance of the field widget.\n         */\n        getField: function(name, model) {\n            return _.find(this.fields, function(field) {\n                return field.name == name && (!model || field.model == model);\n            });\n        },\n\n        /**\n         * @inheritdoc\n         */\n        closestComponent: function(name) {\n            if (!this.layout) {\n                return;\n            }\n            if (this.layout.name === name) {\n                return this.layout;\n            }\n            return this.layout.closestComponent(name);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        _show: function() {\n            app.view.Component.prototype._show.call(this);\n            _.each(this.fields, function(component) {\n                component.updateVisibleState(true);\n            });\n        },\n\n        /**\n         * @inheritdoc\n         */\n        _hide: function() {\n            app.view.Component.prototype._hide.call(this);\n            _.each(this.fields, function(component) {\n                component.updateVisibleState(true);\n            });\n        },\n\n        /**\n         * Disposes a view.\n         *\n         * This method disposes view fields and calls\n         * {@link View.Component#_dispose} method of the base class.\n         * @protected\n         */\n        _dispose: function() {\n            app.plugins.detach(this, \"view\");\n            this._disposeFields();\n            app.view.Component.prototype._dispose.call(this);\n        },\n\n        /**\n         * Disposes all the fields.\n         *\n         * @protected\n         */\n        _disposeFields: function() {\n            _.each(this.fields, function(field) {\n                field.dispose();\n            });\n            this.fields = {};\n        },\n\n        /**\n         * Gets a string representation of this view.\n         * @return {String} String representation of this view.\n         */\n        toString: function() {\n            return \"view-\" + this.name + \"-\" + app.view.Component.prototype.toString.call(this);\n        },\n\n        /**\n         * Gets a field's metadata.\n         * @param {String} name Field name.\n         * @param {Boolean} includeChild optional flag indicating that we should check if this is a child field when true.\n         * @return {Object} field metadata.\n         */\n        getFieldMeta : function(field, includeChild) {\n            var fields = _.flatten(_.pluck(this.meta.panels, \"fields\")),\n                ret = _.find(fields, function(def) {\n                    return def.name === field;\n                });\n\n            if (!ret && includeChild) {\n                ret = _.find(_.flatten(_.pluck(fields, \"fields\")), function(def) {\n                    return def && def.name === field;\n                });\n\n                if (ret) {\n                    ret._isChild = true;\n                }\n            }\n\n            return ret;\n        },\n\n        /**\n         * Sets a field's metadata.\n         * @param {String} name Field name.\n         * @param {Object} meta Field metadata\n         */\n        setFieldMeta : function(field, meta) {\n            _.each(this.meta.panels, function(panel) {\n                _.each(panel.fields, function(def, i) {\n                    if (def.name === field) {\n                        panel.fields[i] = _.extend(def, meta);\n                    } else if (_.isArray(def.fields)) {\n                        _.each(def.fields, function(childDef, j) {\n                            if (childDef.name === field) {\n                                def.fields[j] = _.extend(childDef, meta);\n                            }\n                        });\n                    }\n                });\n            });\n        }\n    });\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/view.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n    /**\n     * SugarField widget. A field widget is a low level field widget. Some examples of fields are\n     * text boxes, date pickers, drop down menus.\n     *\n     * ##Creating a SugarField\n     * SugarCRM allows for customized \"fields\" which are visual representations of a type of data (e.g. url would\n     * be displayed as a hyperlink).\n     *\n     * ###Anatomy of a SugarField\n     * Field files reside in the **`sugarcrm/clients/base/fields/{field_type}`** folder.\n     *\n     * Inside the {field_type} directory is a set of files that define templates for different views and field controller.\n     * A typical directory structure will look like the following:\n     * <pre>\n     * clients\n     * |- base\n     *    |- bool\n     *       |- bool.js\n     *       |- detail.hbs\n     *       |- edit.hbs\n     *       |- list.hbs\n     *    |- int\n     *       ...\n     *    |- text\n     *       ...\n     * |- portal\n     *    |- portal specific overrides\n     * |- mobile\n     *    |- mobile specific overrides\n     * </pre>\n     * **`[sugarFieldType].js`** files are optional.\n     * Sometimes a SugarField needs to do more than just display a simple input element, other times input elements\n     * need additional data such as drop down menu choices. To support advanced functionality, just add your additional\n     * controller logic to **`[sugarFieldType].js`** javascript file where sugarFieldType is the type of the SugarField.\n     * Example for `bool.js` controller:\n     * <pre><code>\n     * ({\n     *    events: {\n     *         handler: function() {\n     *             // Actions\n     *         }\n     *    },\n     *\n     *    initialize: function(options) {\n     *       app.view.Field.prototype.initialize(options);\n     *       // Your constructor code here follows...\n     *    },\n     *\n     *    unformat: function(value) {\n     *        value = this.el.children[0].children[1].checked ? \"1\" : \"0\";\n     *        return value;\n     *    },\n     *    format: function(value) {\n     *        value = (value == \"1\") ? true : false;\n     *        return value;\n     *    }\n     * })\n     * </code></pre>\n     *\n     * **`.hbs`** files contain your templates corresponding to the type of {@link View.View} the field is to be displayed on.\n     * Sugar uses Handlebars.js as its client side template of choice. At this time no other templating engines are\n     * supported. Sample:\n     * <pre><code>\n     * &lt;span name=\"{{name}}\"&gt;{{value}}&lt;/span&gt;\n     * </code></pre>\n     *\n     * These files will be used by the metadata manager to generate metadata for your SugarFields and pass them onto the\n     * Sugar JavaScript client.\n     *\n     * </pre></code>\n     *\n     * ####SugarField Template Values\n     * TODO:\n     *\n     *\n     * @class View.Field\n     * @alias SUGAR.App.view.Field\n     * @extends View.Component\n     */\n    app.view.Field = app.view.Component.extend({\n\n        /**\n         * HTML tag of the field.\n         * @property {String}\n         */\n        fieldTag: \"input\",\n\n        /**\n         * TODO: add docs (describe options, see Component class for details)\n         * @param options\n         */\n        initialize: function(options) {\n            app.plugins.attach(this, \"field\");\n            app.view.Component.prototype.initialize.call(this, options);\n\n            /**\n             * ID of the field (autogenerated).\n             * @property {Number}\n             * @member View.Field\n             */\n            this.sfId = options.sfId;\n\n            /**\n             * Reference to the view this field is attached to.\n             * @property {View.View}\n             * @member View.Field\n             */\n            this.view = options.view;\n\n            /**\n             * View definitions for the field (doesn't include vardefs).\n             *\n             * The view definitions are the properties used for field rendering.\n             * Exple: A `link` property can specify if the field should be\n             * displayed as a link.\n             *\n             * @property {Object} viewDefs\n             * @property {Object} [viewDefs.defs] A hash of properties that\n             *   will override the field definitions (vardefs).\n             */\n            this.viewDefs = options.viewDefs || {};\n\n            /**\n             * Field name.\n             * @property {string}\n             * @member View.Field\n             */\n            this.name = this.viewDefs.name || options.def && options.def.name;\n\n            var fieldDefs = this.model && this.model.fields ? this.model.fields[this.name] : null;\n            /**\n             * Field definitions (vardefs).\n             *\n             * Field definitions are properties that define the field and its\n             * internal behavior.\n             *\n             * @property {Object}\n             */\n            this.fieldDefs = _.extend({}, fieldDefs, this.viewDefs.defs);\n\n            /**\n             * Field metadata definition (fieldDefs + viewdefs).\n             *\n             * Viewdef are copied over vardef.\n             * @property {Object}\n             * @member View.Field\n             * @deprecated\n             */\n            this.def = _.extend({}, fieldDefs, options.def);\n\n            /**\n             * Widget type (text, bool, int, etc.).\n             * @property {String}\n             * @member View.Field\n             */\n            this.type = this.viewDefs.type || this.def.type || this.fieldDefs.type;\n\n            // TODO deprecate this fallback, since label vs vname is already patched in metadata\n            var oldLabel = this.def.label || this.def.vname || this.name;\n            /**\n             * i18n-ed field label.\n             * @property {String}\n             * @member View.Field\n             */\n            this.label = app.lang.get(this.viewDefs.label || oldLabel, this.module);\n\n            /**\n             * Compiled template.\n             * @property {Function}\n             * @member View.Field\n             */\n            this.template = app.template.empty;\n\n            // Bind validation error event\n            // Note we bind it regardless of which view we on (only need for edit type views)\n            if (this.model) {\n                this.model.on('error:validation:' + this.name, this.handleValidationError, this);\n                this.model.on('validation:start attributes:revert', this.removeValidationErrors, this);\n                this.model.on('acl:change:' + this.name, this.handleAclChange, this);\n            }\n        },\n\n        /**\n         * Defines fallback rules for ACL checking.\n         *\n         * For example, if a user doesn't have `edit` permission for the given field\n         * the template falls back to `detail` view template.\n         */\n        viewFallbackMap: {\n            'edit': 'detail'\n        },\n\n        /**\n         * Handler for when an ACL changes at the field-level.\n         *\n         * FIXME SC-3363: The previous action needs to be cleared in order to\n         * load the correct template when the user potentially loses access to a\n         * field. SC-3363 will address this.\n         */\n        handleAclChange: function() {\n            this._resetAction();\n            this.render();\n        },\n\n        /**\n         * Set field's action to undefined\n         * @protected\n         */\n        _resetAction: function () {\n            this.action = void 0;\n        },\n\n        /**\n         * Checks ACLs to see if the current user has access to action.\n         *\n         * @param {String} action Action name.\n         * @return {Boolean} Flag indicating if the current user has access to the given action.\n         * see {@link View.Field#_loadTemplate}\n         */\n        _checkAccessToAction: function(action) {\n            return app.acl.hasAccessToModel(action, this.model, this.name);\n        },\n        /**\n         * Returns fallback template for view\n         *\n         * @param {string} viewName\n         * @return {string}\n         * @protected\n         */\n        _getFallbackTemplate: function(viewName) {\n            return (this.isDisabled() && viewName === 'disabled') ? 'edit' :\n                (this.view.fallbackFieldTemplate || 'detail');\n        },\n        /**\n         * Loads template for this field.\n         * @private\n         */\n        _loadTemplate: function() {\n            var fallbackFieldTemplate;\n\n            // options.viewName or view metadata type is used to override the template\n            var viewName = this.options.viewName || this.options.def.view ||\n                (this.view.meta && this.view.meta.type ? this.view.meta.type : this.view.name);\n\n            var actionName = this.action;\n            if (this.isDisabled() && viewName === 'edit') {\n                viewName = this.action;\n            } else {\n                actionName = this.action || (this.view.action && this.view.name != this.view.action ? this.view.action : viewName);\n            }\n\n            while (viewName) {\n\n                if (this._checkAccessToAction(actionName)) break;\n                viewName = this.viewFallbackMap[viewName];\n                actionName = viewName;\n            }\n\n            if (viewName) {\n                // Set fallback template to base/view or default.\n                var moduleName = this.module || this.context.get('module');\n\n                fallbackFieldTemplate = this._getFallbackTemplate(viewName);\n                this.template = app.template.getField(this.type, viewName, moduleName, fallbackFieldTemplate) ||\n                                // Fallback to text field if template is not defined for this type\n                                app.template.getField(\"base\", viewName, moduleName, fallbackFieldTemplate) ||\n                                // Safeguard with an empty template\n                                app.template.empty;\n            } else {\n                // Safeguard with an empty template\n                this.template = app.template.empty;\n            }\n\n            // Update template name and action.\n            // These properties are useful for a client app to make decisions when formatting values, rendering, etc.\n            /**\n             * Template (view) name.\n             *\n             * The view name can be different from the one the field belongs to.\n             * The template is selected based on ACLs. It may also be overridden by field's metadata definition.\n             * @property {String}\n             * @member View.Field\n             */\n            this.tplName = viewName;\n            /**\n             * Action name.\n             *\n             * The action the field is rendered for. Usually, the action name equals to {@link View.Field#tplName}.\n             * @property {String}\n             * @member View.Field\n             */\n            this.action = actionName;\n        },\n\n        /**\n         * Override default Backbone.Events to also use custom handlers.\n         *\n         * The events hash is similar to Backbone.View events hash.\n         * You can specify event handler as method of field or as name of event\n         * that should be triggered. You cannot use javascript code in metadata.\n         * The framework stores the event handlers as anonimous function binded\n         * to this field as part of the field instance with the `\"callback_\"`\n         * prefix. When event is fired it calls `triggerMetadataEvent` method\n         * if it exists in field. The default behavior of `triggerMetadataEvent`\n         * is implemented in {@link app.plugins.MetadataEventDriven} plugin.\n         *\n         * <pre><code>\n         * events: {\n         *     handler: triggerSomeEvent;\n         * }\n         * </code></pre>\n         *\n         * triggerSomeEvent should be method of certain field.\n         *\n         * OR\n         *\n         * <pre><code>\n         * events: {\n         *     handler: \"fire:some:event\";\n         * }\n         * </code></pre>\n         *\n         * @private\n         * @param {Object} events Hash of events and their handlers\n         */\n        delegateEvents: function(events) {\n            // We may have:\n            // this.events -- comes from custom .js controllers\n            // this.def.events -- comes from metadata. See, for example, buttons section in portal.js file\n            // FIXME SC-5676: The metadata events should typically be extended\n            // or mixed-in to the events, not OR'ed with `this.events`. SC-5676\n            // should address refactoring this method.\n            events = events || _.result(this, 'events') || (this.def ? this.def.events : null);\n            if (!events) return;\n\n            events = _.clone(events);\n\n            _.each(events, function(eventHandler, handlerName) {\n                var callback = this[eventHandler];\n\n                // If our callbacks / events have not been registered in field,\n                // go ahead and registered it as method.\n                if (!callback && _.isString(eventHandler)) {\n                    callback = _.bind(function(event) {\n                        if (_.isFunction(this.triggerMetadataEvent)) {\n                            this.triggerMetadataEvent(event, eventHandler);\n                        }\n                    }, this);\n                    this['callback_' + handlerName] = callback;\n                    events[handlerName] = 'callback_' + handlerName;\n                }\n\n                if (!_.isFunction(eventHandler) && !callback) {\n                    delete events[handlerName];\n                }\n            }, this);\n\n            Backbone.View.prototype.delegateEvents.call(this, events);\n        },\n\n        /**\n         * Renders a field widget.\n         *\n         * This method checks ACLs to choose the correct template.\n         * Once the template is rendered, DOM changes are bound to the model.\n         * @return {View.Field} The instance of this field.\n         *\n         * @protected\n         */\n        _render: function() {\n            this._loadTemplate();\n            if (this.model instanceof Backbone.Model) {\n                /**\n                 * Model property value.\n                 * @property {String}\n                 * @member View.Field\n                 */\n                this.value = this.getFormattedValue();\n            }\n\n            /**\n             * The direction of the field. The default value `undefined` means\n             * that the field would use the inherited direction from the DOM.\n             *\n             * Override this property with a specific direction string if the\n             * field has a set direction that it always follows.\n             *\n             * Override this property with a function if logic is needed to\n             * determine the direction of the field. The function should return\n             * either a `string` indicating the direction of the field or\n             * `undefined`. This function is only called after the value is set\n             * so that we can base the direction on the value.\n             *\n             * Example using a function\n             *\n             *      direction: function() {\n             *          return this.isRTL ? 'rtl' : 'ltr';\n             *      }\n             *\n             * @property {string|Function|undefined} direction\n             * @return {string|undefined}\n             * @member View.Field\n             */\n            /**\n             * The direction attribute for the field to be used in the template.\n             *\n             * @property {string|undefined} dir\n             * @member View.Field\n             */\n            this.dir = _.result(this, 'direction');\n            if (app.lang.direction === this.dir) {\n                delete this.dir;\n            }\n\n            this.unbindDom();\n            this.$el.html(this.template(this) || '');\n\n            // Adds classes to the component based on the metadata.\n            if(this.def && this.def.css_class) {\n                this.getFieldElement().addClass(this.def.css_class);\n            }\n\n            this.$(this.fieldTag).attr('dir', this.dir);\n\n            this.bindDomChange();\n            return this;\n        },\n\n        /**\n         * Get the correspond field DOM element\n         *\n         * This method will return the placeholder element.\n         * Override this method in the subclass to point the specified field element\n         *\n         * @return {Object} DOM Element\n         */\n        getFieldElement: function() {\n            return this.$el;\n        },\n\n        /**\n         * Binds DOM changes to a model.\n         *\n         * The default implementation of this method binds value changes of {@link View.Field#fieldTag} element\n         * to model's `Backbone.Model#set` method. Override this method if you need custom binding.\n         */\n        bindDomChange: function() {\n\n            if (!(this.model instanceof Backbone.Model)) return;\n\n            var self = this;\n            var el = this.$el.find(this.fieldTag);\n            el.on(\"change\", function() {\n                self.model.set(self.name, self.unformat(el.val()));\n            });\n        },\n\n        /**\n         * Binds model changes to this field.\n         *\n         * The default implementation makes sure this field gets re-rendered\n         * whenever the corresponding model attribute changes.\n         */\n        bindDataChange: function() {\n            if (this.model) {\n                this.model.on(\"change:\" + this.name, function(model, value) {\n                    // FIXME: we need to track the `options` send by\n                    // `model.set()` and only call `this.render()` if it didn't\n                    // came from `bindDomChange`\n                    if (this.action === 'edit') {\n                        // Should directly set the value in edit instead of re-rendering the whole field (see MAR-1617).\n                        this.$(this.fieldTag).val(this.format(value));\n                    } else {\n                        this.render();\n                    }\n                }, this);\n            }\n        },\n\n        /**\n         * Checks to see if the field's value has been changed from the saved model\n         * This is not the same as {@link Backbone.Model#hasChanged} which checks if the model\n         * has changed from the last time it was set whereas this function checks if what is\n         * currently in the input field is the same as what is synced on the model\n         *\n         * @return {boolean} `true` if the value is different, `false` if field is synced with the\n         * saved model\n         */\n        hasChanged: function() {\n            return !_.isEqual(this.format(this.model.getSynced(this.name)), this.format(this.model.get(this.name)));\n        },\n\n        /**\n         * Formats the value to be used in handlebars template and displayed on\n         * screen.\n         *\n         * The default implementation returns `value` without modifying it.\n         * Override this method to provide custom formatting in field\n         * controller (`[type].js` file).\n         *\n         * @param {Array|Object|string|number|boolean} value The value to format.\n         * @return {Array|Object|string|number|boolean} Formatted value.\n         */\n        format: function(value) {\n            return value;\n        },\n\n        /**\n         * Unformats the value for storing in a model. This should do the\n         * inverse of {@link #format}.\n         *\n         * The default implementation returns `value` without modifying it.\n         * Override this method to provide custom unformatting in field\n         * controller (`[type].js` file).\n         *\n         * @param {string} value The value to unformat.\n         * @return {Array|Object|string|number|boolean} Unformatted value.\n         */\n        unformat: function(value) {\n            return value;\n        },\n\n        /**\n         * Returns the value of this field in the associated model.\n         *\n         * If you need to override the formatted value please override\n         * {@link #format}.\n         *\n         * @return {Array|Object|string|number|boolean} The formatted data as\n         *   provided by {@link #format}.\n         */\n        getFormattedValue: function() {\n            return this.format(this.model.has(this.name) ? this.model.get(this.name) : null);\n        },\n\n        /**\n         * Handles validation errors.\n         *\n         * The default implementation does nothing.\n         * Override this method to provide custom display logic.\n         * <pre><code>\n         * app.view.Field = app.view.Field.extend({\n         *     handleValidationError: function(errors) {\n         *       // Your custom logic goes here\n         *     }\n         * });\n         * </code></pre>\n         *\n         * @param {Object} errors hash of validation errors\n         * @template\n         */\n        handleValidationError: function(errors) {\n            // Override this method\n        },\n\n        /**\n         * Removes the validation error properties on the field that were set by\n         * {@link #handleValidationError}.\n         *\n         * The default implementation does nothing.\n         *\n         * Override this method to provide custom logic:\n         *\n         *      @example\n         *      app.view.Field = app.view.Field.extend({\n         *          removeValidationErrors: function(errors) {\n         *              // Your custom logic goes here\n         *          }\n         *      });\n         *\n         * @template\n         */\n        removeValidationErrors: function() {\n            // Override this method\n        },\n\n        /**\n         * Gets HTML placeholder for a field.\n         * @return {String} HTML placeholder for the field as Handlebars safe string.\n         */\n        getPlaceholder: function() {\n            return new Handlebars.SafeString('<span sfuuid=\"' + this.sfId + '\"></span>');\n        },\n\n        /**\n         * Disables the edit mode by switching the element as detail mode\n         * @param {Boolean} true or undefined to disable the edit mode\n         *               otherwise, it will restore back to the previous mode\n         */\n        setDisabled: function(disable) {\n            disable = _.isUndefined(disable) ? true : disable;\n\n            if(disable && this.isDisabled() === false) {\n                //Set disabled\n                this._previousAction = this.action;\n                this.action = 'disabled';\n                this.render();\n            } else if(disable === false && this.isDisabled()) {\n                //disabled release\n                this.action = this._previousAction;\n                delete this._previousAction;\n                this.render();\n            }\n        },\n\n        /**\n         * Is the field disabled?\n         * @return {Boolean} true if the field is disabled, false otherwise.\n         */\n        isDisabled: function() {\n            return (this.action === 'disabled');\n        },\n\n        /**\n         * Set view name of this field.\n         * This only switches the template reference.\n         * @param {String} view name.\n         */\n        setViewName: function(view) {\n            this.options.viewName = view;\n        },\n\n        /**\n         * Set action name of this field.\n         * This switches action name as well as the template reference.\n         *\n         * @param name {String} action name\n         **/\n        setMode: function(name) {\n            if(this.isDisabled()) {\n                this._previousAction = name;\n            } else {\n                this.action = name;\n            }\n            this.setViewName(name);\n            this.render();\n        },\n\n        /**\n         * Unbinds DOM changes from field's element.\n         *\n         * This method performs the opposite of what {@link View.Field#bindDomChange} method does.\n         * Override this method if you need custom logic.\n         */\n        unbindDom: function() {\n            this.$el.find(this.fieldTag).off();\n        },\n\n        /**\n         * Disposes a field.\n         *\n         * Calls {@link View.Field#unbindDom} and {@link View.Component#_dispose} method of the base class.\n         * @protected\n         */\n        _dispose: function() {\n            app.plugins.detach(this, \"field\");\n            this.unbindDom();\n            app.view.Component.prototype._dispose.call(this);\n        },\n\n        /**\n         * Gets a string representation of this field.\n         * @return {String} String representation of this field.\n         */\n        toString: function() {\n            return \"field-\" + this.name + \"-\" + this.sfId + \"-\" +\n                app.view.Component.prototype.toString.call(this);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        _show: function() {\n            this.getFieldElement().removeClass('hide').show();\n            this.updateVisibleState(true);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        _hide: function() {\n            this.getFieldElement().addClass('hide').hide();\n            this.updateVisibleState(false);\n        },\n\n        /**\n         * Compare formatted values for equality.\n         *\n         * @param {Field} other Other field component.\n         * @return {Boolean} It returns `true` for equal value.\n         */\n        equals: function(other) {\n            return this.type === other.type && _.isEqual(this.getFormattedValue(), other.getFormattedValue());\n        },\n\n        /**\n         * @inheritdoc\n         */\n        closestComponent: function(name) {\n            if (!this.view) {\n                return;\n            }\n            if (this.view.name === name) {\n                return this.view;\n            }\n            return this.view.closestComponent(name);\n        }\n    });\n\n\n})(SUGAR.App);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/field.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n\n    /**\n     * The Layout Object is a definition of views and their placement on a certain 'page'.\n     *\n     * Use {@link View.ViewManager} to create instances of layouts.\n     *\n     * ###A Quick Guide for Creating a Layout Definition###\n     *\n     * Creating Layouts is easy, all it takes is adding the appropriate metadata file. Let's create a\n     * layout called **`SampleLayout`**.\n     *\n     * ####The Layout File and Directory Structure####\n     * Layouts are located in the **`modules/MODULE/metadata/layouts`** folder. Add a file\n     * called **`SampleLayout.php`** in the folder and it should be picked up in the next\n     * metadata sync call.\n     *\n     * ####The Metadata####\n     * <pre><code>\n     * $viewdefs['MODULE']['PLATFORM (portal / mobile / base)']['layout']['samplelayout'] = array(\n     *     'type' => 'columns',\n     *     'components' => array(\n     *         0 => array(\n     *             'layout' => array(\n     *             'type' => 'column',\n     *             'components' => array(\n     *                 array(\n     *                     'view' => 'list',\n     *                 ),\n     *                 array(\n     *                     'view' => 'list',\n     *                     'context' => array(\n     *                         'module' => 'Leads',\n     *                     ),\n     *                 ),\n     *             ),\n     *         ),\n     *     ),\n     * );\n     * </code></pre>\n     *\n     * As you can see we are defining a column style layout with two subcomponents: A normal list view\n     * of the MODULE, and also a list view of Leads.\n     *\n     * ####Accessing the New Layout####\n     * The last step is to add a route in the Router to display the new layout. // TODO: Custom routes?\n     *\n     *\n     * @class View.Layout\n     * @alias SUGAR.App.view.Layout\n     * @extends View.Component\n     */\n    app.view.Layout = app.view.Component.extend({\n\n        /**\n         * TODO docs (describe constructor options, see Component class for an example).\n         *\n         * @param options\n         */\n        initialize: function(options) {\n            app.plugins.attach(this, \"layout\");\n            app.view.Component.prototype.initialize.call(this, options);\n\n            this._components = [];\n\n            this.meta = this.meta || {};\n\n            this.type = this.meta.type || this.options.type;\n            /**\n             * Layout Name.\n             * @type {*|string}\n             */\n            this.name = this.meta.name || this.options.name || this.type || \"\";\n\n            /**\n             * Layout Label.\n             * @type {*|string}\n             */\n            if (this.meta.label) {\n                this.label = this.meta.label;\n            } else if (this.options.def && this.options.def.label) {\n                this.label = this.options.def.label;\n            } else if (this.options.label) {\n                this.label = this.options.label;\n            } else {\n                this.label = '';\n            }\n\n            /**\n             * Reference to the parent layout instance.\n             * @property {View.Layout}\n             */\n            this.layout = this.options.layout;\n\n            this._loadTemplate(options);\n\n            if (this.template) {\n                // Need to do .append() rather than .html() because we create new components\n                // in templates. By performing .html(), we remove that component from the document.\n                this.$el.append(this.template(this, options));\n                this.placeComponentsFromTemplate();\n            }\n\n            if (this.meta.lazy_loaded) {\n                /**\n                 * Holds the components metadata in case if it is a lazy loaded\n                 * layout. This property should be used to to initialize\n                 * components manually.\n                 *\n                 * @property {Array} The array of components.\n                 * @protected\n                 */\n                this._componentsMeta = this.meta.components;\n                this.meta.components = [];\n            }\n\n            app.events.on('app:locale:change', function() {\n                this.render();\n            }, this);\n        },\n\n        /**\n         * Sets the appropriate template for this layout to {@link #template}.\n         *\n         * Gets the template from this layout's module, or falls back to the\n         * module specified in the `loadModule` meta property, or falls back to\n         * base.\n         *\n         * @param {Object} [options] A hash of options.\n         * @param {string} [options.loadModule] The fallback module to get the\n         *   template from.\n         * @private\n         */\n        _loadTemplate: function (options) {\n            options = options || {};\n            if (this.meta.template) {\n                this.template = app.template.getLayout(this.meta.template, this.module) ||\n                    app.template.getLayout(this.meta.template, options.loadModule);\n                return;\n            }\n\n            var tpl = app.template.getLayout(this.name, this.module) ||\n                app.template.getLayout(this.type, this.module);\n            if (!tpl) {\n                if (options.loadModule) {\n                    tpl = app.template.getLayout(this.name, options.loadModule) ||\n                        app.template.getLayout(this.type, options.loadModule);\n                } else {\n                    tpl = app.template.getLayout(this.name) ||\n                        app.template.getLayout(this.type);\n                }\n            }\n\n            this.template = tpl;\n        },\n\n        /**\n         * Move components created in templates to their appropriate placeholders.\n         */\n        placeComponentsFromTemplate: function() {\n            var componentElems = {};\n\n            if (_.isEmpty(this._components)) {\n                return;\n            }\n\n            this.$('span[cid]').each(function() {\n                var $this = $(this),\n                    cid = $this.attr('cid');\n\n                componentElems[cid] = $this;\n            });\n\n            _.each(this._components, function(component) {\n                var $placeholder = componentElems[component.cid];\n                if ($placeholder) {\n                    $placeholder.replaceWith(component.el);\n                }\n            }, this);\n        },\n\n        /**\n         * Creates subcomponents in the layout and appends them to the layout's\n         * {@link #_components}. It recursively initializes all components\n         * within the specified subcomponents.\n         *\n         * Calls {@link #_addComponentsFromDef} to help add components.\n         * Triggers `init` on this layout once all subcomponent initializes.\n         *\n         * Immediate subcomponent will default to the passed in context and\n         * module.\n         *\n         * Subsequent subcomponents will default to their parents' context and\n         * module.\n         *\n         * @param {Array} [components=this.meta.components] The definitions of\n         *   the subcomponents.\n         * @param {Object} [context] Context to pass to the new components.\n         * @param {string} [module] Module to create the components from.\n         * @return {Array} initialized components\n         */\n        initComponents: function(components, context, module) {\n            if (this.disposed) {\n                return;\n            }\n\n            var newSubComponents, initialLength;\n            components = components || this.meta.components;\n\n            initialLength = this._components.length;\n            this._addComponentsFromDef(components, context, module);\n            newSubComponents = this._components.slice(initialLength);\n\n            _.each(newSubComponents, function(comp) {\n                if (_.isFunction(comp.initComponents)) {\n                    comp.initComponents();\n                }\n            });\n\n            this.trigger('init');\n\n            return newSubComponents;\n        },\n\n        /**\n         *\n         * @param {Object} def Metadata defining this component.\n         * @param {Core.Context} context Default context to pass to the new\n         *   component. (Will be overridden by the context in 'def' param, if\n         *   defined).\n         * @param {string} module The module to pass to the component.\n         *   (Will be overridden by the context's module in 'def' param, if\n         *   defined).\n         * @return {Mixed}\n         */\n        createComponentFromDef: function(def, context, module){\n            context = context || this.context;\n            module = module || this.module;\n\n            // Switch context if necessary\n            if (def.context) {\n                if (def.context instanceof app.Context){\n                    context = def.context;\n                }\n                else {\n                    context = context.getChildContext(def.context);\n                    context.prepare();\n                }\n                module = context.get('module');\n            }\n\n            // Layouts/Views can either by referenced by name or have metadata defined inline\n            if (def.view) {\n                if (_.isString(def.view)) {\n                    return app.view.createView({\n                        context:context,\n                        name:def.view,\n                        def: def,\n                        module:module,\n                        loadModule: def.loadModule,\n                        primary:def.primary,\n                        layout:this\n                    });\n                } else if (_.isObject(def.view)) {\n                    if (def.view.meta) {\n                        app.logger.warn('`meta` property in metadata layout definitions is deprecated since 7.8 and ' +\n                            'will be removed in 7.9. Please use `xmeta` instead.');\n                    }\n\n                    //Inline definition of a sublayout\n                    return app.view.createView({\n                        context: context,\n                        module: module,\n                        loadModule: def.loadModule,\n                        meta: def.view.meta || def.view,\n                        type:def.view.type,\n                        name:def.view.name,\n                        primary: def.view.primary,\n                        layout: this\n                    });\n                }\n            }\n            else if (def.layout) {\n                if (_.isString(def.layout)) {\n                    return app.view.createLayout({\n                        context: context,\n                        name: def.layout,\n                        def: def,\n                        module: module,\n                        loadModule: def.loadModule,\n                        layout: this\n                    });\n                } else if (_.isObject(def.layout)) {\n                    if (def.layout.meta) {\n                        app.logger.warn('`meta` property in metadata layout definitions is deprecated since 7.8 and ' +\n                            'will be removed in 7.9. Please use `xmeta` instead.');\n                    }\n\n                    //Inline definition of a sublayout\n                    return app.view.createLayout({\n                        context: context,\n                        module: module,\n                        loadModule: def.loadModule,\n                        meta: def.layout.meta || def.layout,\n                        type: def.layout.type,\n                        name: def.layout.name,\n                        def: def,\n                        layout: this\n                    });\n                }\n            }\n            else {\n                app.logger.warn(\"Invalid layout definition:\\n\" + def.layout);\n            }\n        },\n\n        /**\n         * Creates and adds components to the current layout.\n         *\n         * Calls {@link #addComponent} to help add components.\n         * Calls {@link #createComponentFromDef} to help create components.\n         *\n         * @param {Array} [components=[]] The components to be created.\n         * @param {Object} [context] Context to pass to the new components.\n         * @param {string} [module] Module to create the components from.\n         * @protected\n         */\n        _addComponentsFromDef: function(components, context, module) {\n            components = components || [];\n            _.each(components, function(def) {\n                // If component has already been initialized by the template, do\n                // not initialize again.\n                if (def.initializedInTemplate) {\n                    delete def.initializedInTemplate;\n                    return;\n                }\n\n                if (def.view || def.layout) {\n                    this.addComponent(this.createComponentFromDef(def, context, module), def);\n                }\n            }, this);\n        },\n\n        /**\n         * Adds a component to this layout.\n         * @param {View.Layout|View.View} component Component (view or layout) to add\n         * @param {Object} def Metadata definition\n         */\n        addComponent: function(component, def) {\n            if (!component.layout) component.layout = this;\n            this._components.push(component);\n            this._placeComponent(component, def); // Some implementations of placeComponent require a def\n        },\n\n        /**\n         * Places layout component in the DOM.\n         *\n         * Default implementation just appends all the components to itself.\n         * Override this method to support custom placement of components.\n         *\n         * @param {View.View|View.Layout} component View or layout component.\n         * @protected\n         */\n        _placeComponent: function(component) {\n            this.$el.append(component.el);\n        },\n\n        /**\n         * Removes a component from this layout.\n\n         * If component is an index, remove the component at that index. Otherwise see if component is in the array.\n         * @param {View.Layout|View.View|number} component The layout or view to remove.\n         */\n        removeComponent: function(component) {\n            var i = _.isNumber(component) ? component : this._components.indexOf(component);\n\n            if (i > -1) {\n                var removed = this._components.splice(i, 1);\n                removed[0].layout = null;\n            }\n        },\n\n        /**\n         * Gets a component by name.\n         * @param {String} name Component name.\n         * @return {View.View|View.Layout} Component with the given name.\n         */\n        getComponent: function (name) {\n            return _.find(this._components, function(component) {\n                return component.name === name;\n            });\n        },\n\n        /**\n         * Renders all the components.\n         *\n         * @return {View.Layout} The instance of this layout.\n         *\n         * @protected\n         */\n        _render: function() {\n            if (this._components && this._components.length > 0) {\n                //default layout will pass render container divs and pass down to all its views.\n                _.each(this._components, function(component) {\n                    component.render();\n                }, this);\n            } else {\n                app.logger.info(\"Can't render anything because the layout has no components: \" + this.toString() + \"\\n\" +\n                    \"Either supply metadata or override Layout.render method\");\n            }\n            return this;\n        },\n\n        /**\n         * Fetches data for layout's model or collection.\n         *\n         * The default implementation first calls the {@link Core.Context#loadData} method for the layout's context\n         * and then iterates through the components and calls their {@link View.Component#loadData} method,\n         * setting their contexts' `fields` property beforehand.\n         *\n         * Override this method to provide custom fetch algorithm.\n         *\n         * @param {Object} [options] Options that are passed to\n         *   collection/model's fetch method.\n         */\n        loadData: function (options) {\n            // FIXME This should be removed by 7.9.\n            if (arguments.length === 2) {\n                app.logger.warn('The `setFields` argument is no longer supported. Views and Layouts must ' +\n                    'add the fields they need without affecting other Views and Layouts');\n            }\n\n            if (this.disposed) {\n                return;\n            }\n\n            this.context.loadData(options);\n\n            _.each(this._components, function(component) {\n                component.loadData(options);\n            }, this);\n        },\n\n        /**\n         * Gets a list of all fields used on this layout and its sub layouts/views.\n         *\n         * @param {String} module(optional) Module name.\n         * @return {Array} The list of fields used by this layout.\n         */\n        getFieldNames: function(module) {\n            var fields = [];\n            module = module || this.module;\n            _.each(this._components, function(component) {\n                if (component.module == module) {\n                    fields = _.union(fields, component.getFieldNames(null, true));\n                }\n            }, this);\n\n            return fields;\n        },\n\n        /**\n         * Gets a hash of fields that are currently displayed on this layout.\n         *\n         * The hash has field names as keys and field definitions as values.\n         * @param {String} module(optional) Module name.\n         * @return {Object} The currently displayed fields.\n         */\n        getFields: function(module) {\n            var fields = {};\n            _.each(this._components, function(component) {\n                _.extend(fields, component.getFields(module));\n            });\n            return fields;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        closestComponent: function(name) {\n            if (!this.layout) {\n                return;\n            }\n            if (this.layout.name === name) {\n                return this.layout;\n            }\n            return this.layout.closestComponent(name);\n        },\n\n\n        /**\n         * @inheritdoc\n         */\n        _show: function() {\n            app.view.Component.prototype._show.call(this);\n            _.each(this._components, function(component) {\n                component.updateVisibleState(true);\n            });\n        },\n\n        /**\n         * @inheritdoc\n         */\n        _hide: function() {\n            app.view.Component.prototype._hide.call(this);\n            _.each(this._components, function(component) {\n                component.updateVisibleState(true);\n            });\n        },\n\n        /**\n         * Disposes a layout.\n         *\n         * Disposes each of this layout's components and calls\n         * {@link View.Component#_dispose} method of the base class.\n         *\n         * @protected\n         */\n        _dispose: function() {\n            app.plugins.detach(this, \"layout\");\n            this._disposeComponents();\n            app.view.Component.prototype._dispose.call(this);\n        },\n\n        /**\n         * Disposes the layout's components and empties the `_components`\n         * property.\n         *\n         * @private\n         */\n        _disposeComponents: function() {\n            _.each(this._components, function(component) {\n                component.dispose();\n            });\n            this._components = [];\n        },\n\n        /**\n         * Gets a string representation of this layout.\n         *\n         * @return {String} String representation of this layout.\n         */\n        toString: function() {\n            return \"layout-\" + (this.options.type || this.options.name) + \"-\" +\n                app.view.Component.prototype.toString.call(this);\n        }\n    });\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/layout.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * Alert View.\n *\n * Interface for creating alerts via show and dismiss. Also, this module\n * keeps an internal dictionary of alerts created which can later be accessed\n * by key. This is useful so that client code can dismiss a particular alert.\n *\n * Note that the client application may provide custom implementation of {@link View.AlertView} class.\n * This implementation will be in charge of rendering the alert to its UI.\n *\n * At minimum, a client app's must provide:\n *\n * 1. `#alerts` element in its `index.html`.\n * 2. Pre-compiled template called `alert`. The template can be compiled at application start-up:\n * <code>app.template.compile(\"alert\", \"template body...\");</code>\n */\n(function(app) {\n\n    // Dictionary of alerts\n    var _alerts = {};\n\n    var _alert = {\n\n        //When this flag is set to true, it prevents any new alert to be shown.\n        //This is useful for `confirmation` type alerts because you want the\n        //user to focus and confirm/cancel the action and don't bother him with\n        //anything else.\n        preventAnyAlert: false,\n\n        /**\n         * Initializes alert module at application start-up.\n         */\n        init: function() {\n            /**\n             * Alert element selector.\n             *\n             * The default value is `$('#alerts')`. Override using {@link Config#alertsEl} setting.\n             * @property {Object}\n             */\n            this.$alerts = $('#alerts');\n\n            /**\n             * Alert view class.\n             *\n             * The default value is {@link View.AlertView}.\n             * However, if `app.view.[Capitalized-appId]AlertView` or `app.view.[Capitalized-platform]AlertView` class\n             * exists, it will be used instead.\n             * @property {Function}\n             */\n            this.klass = app.view.AlertView;\n\n            if (app.config) {\n                this.$alerts = $(app.config.alertsEl).length ? $(app.config.alertsEl) : this.$alerts;\n\n                this.klass = app.view[app.utils.capitalize(app.config.appId) + \"AlertView\"] ||\n                app.view.views[app.utils.capitalize(app.config.platform) + 'AlertView'] ||\n                app.view.views.BaseAlertView ||\n                app.view[app.utils.capitalize(app.config.platform) + \"AlertView\"] ||\n                this.klass;\n            }\n\n            // Check for existing alerts and convert them into AlertView.\n            _.each(this.$alerts.find('.alert-wrapper'), function(el, i) {\n                var key = 'init-' + i;\n                _alerts[key] = this._create(key, { el: el });\n            }, this);\n        },\n\n        /**\n         * Displays an alert message and adds to internal dictionary of alerts.\n         * Use supplied key later to dismiss the alert. Caller is responsible for using language translation\n         * before calling!\n         *\n         * To create and close alerts, this function uses private factory method {@link View.Alert#_create}\n         * which instantiates alert view class specified by the {@link View.Alert#klass} property and places the alert\n         * instance in the DOM as the first element in the {@link View.Alert#$alerts} element.\n         *\n         * The {@link View.AlertView} class provides boilerplate implementation for a typical single alert view.\n         * You can customize alert behavior by extending {@link View.AlertView} class.\n         * At minimum, you have to make sure that a pre-compiled template named `\"alert\"` exists.\n         *\n         * In case we are showing a `confirmation` alert, we want to dismiss all other\n         * existing alerts and prevent any other alerts\n         *\n         * </code></pre>\n         *\n         * Examples:\n         * <pre><code>\n         * var a1 = app.alert.show('delete_warning', {\n         *     level: 'warning',\n         *     title: 'Warning',\n         *     messages: 'Are you sure you want to delete this record?',\n         *     autoclose: true\n         * });\n         *\n         * var a2 = app.alert.show('internal_error', {\n         *     level: 'error',\n         *     messages: ['Internal Error', 'Response code: 500']\n         * })\n         *\n         * </code></pre>\n         *\n         * @param {Object} [options] The options specified here are handled by\n         *   the framework. The base application\n         *   {@link View.Views.Base.AlertView#initialize AlertView}\n         *   defines more options for specific behaviors.\n         * @param {string} [options.level] Alert level. `alert-[level]` class\n         *   will be added to the alert view.\n         * @param {boolean} [options.autoClose] Boolean flag indicating if the\n         *   alert must be closed after dismiss delay: See\n         *   {@link Config#alertAutoCloseDelay} setting.\n         * @param {string|string[]} [options.messages] Messages.\n         * @param {string} [options.title] The title of the alert.\n         *   It's displayed in bold.\n         * @return {View.AlertView} Alert instance.\n         */\n        show: function(key, options) {\n            if (!this.$alerts || !this.$alerts.length) {\n                return null;\n            }\n\n            if (this.preventAnyAlert) return null;\n\n            options = _.extend({\n                level: 'info',\n                autoClose: false\n            }, options || {});\n\n            if (options.level === 'confirmation') {\n                this.dismissAll();\n                this.preventAnyAlert = true;\n            }\n\n            if (options.messages) {\n                options.messages = _.isString(options.messages) ? [options.messages] : options.messages;\n            }\n\n            var alert = _alerts[key];\n            // Create a new alert view if it doesn't exist\n            if (!alert) {\n                alert = this._create(key, options);\n                _alerts[key] = alert;\n            }\n\n            alert.level = options.level;\n\n            // Initialize autoclose timer\n            if (!!options.autoClose) this._setAutoCloseTimer(alert, options.onAutoClose, options.autoCloseDelay);\n\n            alert.render();\n\n            return alert;\n        },\n\n        /**\n         * Creates an instance of alert view class and places view in the DOM.\n         * @param {String} key Alert ID.\n         * @param {Object} options Options.\n         * @return {View.AlertView} Instance of alert view class.\n         * @private\n         */\n        _create: function(key, options) {\n            var alert = new this.klass(options);\n            alert.key = key;\n            alert.$el.prependTo(this.$alerts);\n            return alert;\n        },\n\n        /**\n         * Sets the timeout to dismiss the alert view after either the alertAutoCloseDelay configured or 9 seconds\n         * @param {Object} alert the alert to auto close\n         * @param {Function} onAutoClose callback function to call on the autoclose\n         * @private\n         */\n        _setAutoCloseTimer: function(alert, onAutoClose, autoCloseDelay) {\n            if (alert.timerId) clearTimeout(alert.timerId);\n            alert.timerId = setTimeout(_.bind(function() {\n                if(_.isFunction(onAutoClose)) {\n                    onAutoClose(alert.key); //callback for when the timeout occurs and the alert is closing\n                }\n                this.dismiss(alert.key);\n\n            }, this), autoCloseDelay || app.config.alertAutoCloseDelay || 5000);\n        },\n\n        /**\n         * Removes an alert message by key.\n         * @param {String} key The key provided when previously calling show.\n         * @param {Object} options(optional) Options.\n         * @method\n         */\n        dismiss: function(key, options) {\n            this.preventAnyAlert = false;\n            var alert = _alerts[key];\n            if (!alert) return;\n            if (alert.timerId) clearTimeout(alert.timerId);\n            alert.close(options);\n            delete _alerts[key];\n        },\n\n        /**\n         * Removes all alert messages with a given level.\n         * @param {String} level(optional) Level of alerts to dismiss.\n         * @param {Object} options(optional) Options.\n         * Dismisses all alerts if the level is not specified.\n         * @method\n         */\n        dismissAll: function(level, options) {\n            _.each(_alerts, function(alert, key) {\n                if (!level || alert.level == level) {\n                    this.dismiss(key, options);\n                }\n            }, this);\n        },\n\n        /**\n         * Gets an alert with a given key.\n         * @param {String} key The key of the alert to retrieve.\n         * @return {View.AlertView} Alert view with the specified key.\n         */\n        get: function(key) {\n            return _alerts[key];\n        },\n\n        /**\n         * Gets alerts that are currently displayed.\n         * @return {Object} All alerts.\n         */\n        getAll: function() {\n            return _alerts;\n        }\n    };\n\n    /**\n     * Base class for alerts.\n     *\n     * Extend this class to provide custom alert behavior:\n     * <pre><code>\n     * var PortalAlertView = app.view.AlertView.extend({\n     *\n     *    initialize: function(options) {\n     *       app.view.AlertView.prototype.initialize.call(this, options);\n     *\n     *       // You may override and/or pre-compile alert template\n     *       this.tpl = 'my-alert';\n     *       app.template.compile('my-alert', 'handlebars code...');     *\n     *    },\n     *\n     *    render: function(options) {\n     *        // Provide your custom rendering logic.\n     *        // For example, switch between different templates\n     *        this.tpl = \"alert2\";\n     *        app.view.AlertView.prototype.render.call(this, options);\n     *    },\n     *\n     *    close: function() {\n     *        // Provide your custom dismiss logic: animation, fade effects, etc.\n     *    }\n     * });\n     * </code></pre>\n     *\n     * @class View.AlertView\n     * @alias SUGAR.App.view.AlertView\n     */\n    app.view.AlertView = app.view.Component.extend({\n\n        /**\n         * Name of the default template.\n         */\n        tpl: '<div class=\"alert alert-block\">{{#if title}}<strong>{{title}}</strong>{{/if}}{{#each messages}}{{./this}}{{/each}}</div>',\n\n        /**\n         * Closes an alert.\n         *\n         * @deprecated since 7.7 please use {@link #dispose}.\n         */\n        close: function() {\n            this.remove();\n        },\n\n        /**\n         * Renders an alert.\n         *\n         * The method executes a pre-compiled template and replaces the inner\n         * HTML of this view root DOM element.\n         * Additionally, `alert-[level]` class is added to the root element.\n         */\n        render: function() {\n            var tpl = Handlebars.compile(this.tpl);\n            this.$el.html(tpl(this.options));\n            this.$('.alert').addClass('alert-' + this.options.level);\n        }\n\n    });\n\n    app.augment(\"alert\", _alert, true);\n\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/alert.js","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n\n/**\n * SugarCRM Analytics API allows user actions to be tracked via an analytics engine.\n *\n * The application event \"app:analytics:init\" will fire on app.start(). It is recommended that applications use a\n * universal handler to handle pave view changes. Please see the Page Tracking section below for an example of this.\n *\n * Connectors:\n *\n * Analytics connectors are loaded from SUGAR.App.analytics.connectors.\n *\n * Connectors implement the following functions:\n *\n * initialize()\n *\n * - called on app:init, load the analytics api.\n *\n * start(id, options)\n *\n * - called on app:start, prepare or open the connection to the analytics system.\n *\n * @param  {String}id, tracking id of for analytics system\n * @param  {Object}options, SUGAR.App.config.analytics configuration.\n *\n * trackPageView(pageURI)\n *\n * - track a change of page.\n *\n * @param  {String} pageURI.\n *\n * trackEvent()\n *\n * - track an event on the page.\n *\n * @param  {Object} event, with the following attributes: category, action, label, value. Label is always set as the current route the user is on.\n *\n * Below is a sample connector.\n * <pre>\n * (function(app) {\n * SUGAR.App.analytics = SUGAR.App.analytics || {};\n * SUGAR.App.analytics.connectors = SUGAR.App.analytics.connectors || {};\n * SUGAR.App.analytics.connectors[\"FakeConnector\"]  = {\n *     initialized: false,\n *     connectorId: null,\n *       pageLog: [],\n *       eventLog: [],\n *       initialize: function() {\n *           this.initialized = true;\n *       },\n *       start: function(id, options) {\n *           this.connectorId = id;\n *       },\n *       trackPageView: function(pageUri) {\n *           this.pageLog.push(pageUri);\n *       },\n *       trackEvent: function(event) {\n *           this.eventLog.push(event);\n *       }\n *   };\n * })(SUGAR.App);\n * </pre>\n *\n *\n * Configuration:\n *\n * Set the following in SUGAR.App.config.analytics. The entire config is passed to the connector start method as options.\n *\n * <pre>\n * {\n *     enabled: true,\n *     connector: \"GoogleAnalytics\",\n *     id: 'UA-XXXXXXXX-X'\n * }\n * </pre>\n *\n *\n * Page Tracking:\n *\n * Use SUGAR.App.analytics.trackPageView(uri); to track page views. An example of a universal way of handling page\n * tracking would be the following.\n *\n * <pre>\n * app.on(\"app:analytics:init\", function() {\n *     app.routing.before('route', function(options){\n *          options = options || {};\n *          var args = options.args || [];\n *          var subroute;\n *          if (args[0]) {\n *              var qpos = args[0].indexOf('?');\n *              subroute = qpos > -1 ? args[0].substring(0, args[0].indexOf('?')) : args[0];\n *          }\n *          var viewId = options.route + (subroute ? '/' + subroute : '');\n *\n *          app.analytics.currentViewId = viewId;\n *          app.analytics.trackPageView(app.analytics.currentViewId);\n *      }, this);\n * });\n * app.start();\n * </pre>\n *\n *\n * Event Tracking:\n *\n * Use SUGAR.App.analytics.trackEvent(category, action, event, value); to track events.\n *\n * The label will always be the app.analytics.currentViewId for any event.\n *\n * In JavaScript, this method can be called directly to track any event.\n *\n * In Templates, the analytics engine plugs into all views to look for elements with a track attribute on them.\n * The value of the attribute will contain the event data <category>:<action>.<css class to check>.\n * The event value is sent as 1 or 0 depending on if that css class is present on the element.\n *\n * <pre>\n *    <a href=\"#\" class=\"trackedClass\" track=\"click:home.trackedClass\">Home</a>\n * </pre>\n *\n * @class SUGAR.analytics\n */\n(function(app) {\n\n    var _analytics = {\n\n        eventSplitter: /\\s{2,}/,\n        currentViewId: '',\n\n        /**\n         * Object containing the list of events to track, mapped to their\n         * respective DOM selector.\n         *\n         * @protected\n         * @type {Object}\n         */\n        _eventsHash: {\n            click: '[track^=click]',\n            swipeleft: '[track^=swipeleft]',\n            swiperight: '[track^=swiperight]'\n        },\n\n        init: function() {\n            if (!app.config.analytics || !app.config.analytics.enabled ||\n                !app.config.analytics.connector || !app.analytics.connectors[app.config.analytics.connector]\n            ) {\n                this.trackPageView = function() {};\n                this.trackEvent = function() {};\n                return;\n            }\n\n            var self = this;\n            app.on('app:init', function() {\n                app.events.register('app:analytics:init', this);\n                app.analytics.connector = app.analytics.connectors[app.config.analytics.connector];\n                app.analytics.connector.initialize();\n\n                _.each(self._eventsHash, function(val, key) {\n                    $('html').on(key, val, function(e) {\n                        var data = self._parseTrackTag($(this).attr('track'));\n                        app.analytics.trackEvent(key, data.action, e, data.value);\n                    });\n                });\n            }).on('app:start', function() {\n\n                // Apps should do their initialization of page tracking based on the following event.\n                app.trigger('app:analytics:init');\n\n                var id = app.config.analytics.id;\n                // Keep backwards compatible with nomad\n                if (_.isObject(id)) {\n                    app.logger.warn('Analytics config id needs to be a valid tracking ID.');\n                    id = app.isNative ? id.native : id.web;\n                }\n\n                app.analytics.connector.start(id, app.config.analytics);\n\n            }).on('app:sync:complete', function() {\n\n                var serverInfo = app.metadata.getServerInfo();\n\n                app.analytics.connector.set('appName',\n                    'SugarCRM:' + app.config.platform + ':' + (serverInfo.flavor || '').toLowerCase()\n                );\n                app.analytics.connector.set('appVersion', serverInfo.version + ':' + serverInfo.build);\n\n            }).on('app:locale:change', function() {\n\n                app.analytics.connector.set('language', app.user.getLanguage());\n            }).on('app:view:change', function(layout, params){\n                app.analytics.currentViewId = layout + (params.module ? '/' + params.module : '');\n                app.analytics.trackPageView(app.analytics.currentViewId);\n            });\n        },\n\n        /**\n         * Track a page view.\n         *\n         * @param {string} page URI.\n         * @member SUGAR.analytics\n         */\n        trackPageView: function(page) {\n            app.logger.debug(\"GAN-page: \" + page);\n            app.analytics.connector.trackPageView(page);\n        },\n\n        /**\n         * Track an event.\n         *\n         * @param {string} category Category of the event.\n         * @param {string} action Action of the event.\n         * @param {Object} event Event to track.\n         * @param {number} [value] Value associated with the event.\n         * @member SUGAR.analytics\n         */\n        trackEvent: function(category, action, event, value) {\n            action = (_.isEmpty(action) && event ? event.currentTarget.id : action) || '[unknown]';\n            app.logger.debug('GAN-event: ' + category + ':' + action  + '(' + value + ')' + ' on ' + this.currentViewId);\n            app.analytics.connector.trackEvent({\n                category: category,\n                action: action,\n                label: this.currentViewId,\n                value: value\n            });\n        },\n\n        /**\n         * Parses the `track` attribute.\n         *\n         * @param {String} track The value of the `track` attribute.\n         * @return {Object} The hash containing the data to pass to\n         *   {@link SUGAR.analytics#trackEvent}\n         * @return {string} return.action The action (example: 'mass_delete').\n         * @return {number|null} return.value The value corresponding to the action.\n         * @private\n         */\n        _parseTrackTag: function(track) {\n            var result = {action: '', value: null};\n            var pieces = track.split(':');\n            if (!pieces[1]) {\n                return result;\n            }\n            var actionValue = pieces[1].split('.');\n            result.action = actionValue[0];\n            if (actionValue[1]) {\n                result.value = actionValue[1];\n            }\n\n            return result;\n        },\n\n        /**\n         * @private\n         * @member SUGAR.analytics\n         */\n        _attachEvents: function(events, action, css, $el) {\n            if (events) {\n                $el.off(events);\n                $el.on(events, function (e) {\n                    app.analytics.trackEvent(e.type, action, e, (css && $(this).hasClass(css) ? 1 : 0));\n                });\n            }\n        },\n\n        dispose: function() {\n            app.off(null, null, this);\n        }\n    };\n\n    app.augment('analytics', _analytics);\n\n})(SUGAR.App);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/sugaranalytics/sugaranalytics.js\n// module id = 63\n// module chunks = 0","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    var optOut;\n\n    app.analytics = app.analytics || {};\n    app.analytics.connectors = app.analytics.connectors || {};\n\n    // Use with newer Universal GA clients\n    app.analytics.connectors.GoogleAnalytics  = {\n\n        /* initialize()\n         *\n         * - called on app:init, load the analytics api.\n         *\n         * @member SUGAR.analytics.connectors.GoogleAnalytics\n         */\n        initialize: function() {\n            // this code is taken directly from Google's analytics.js API\n            // https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced\n            /* jshint ignore:start */\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n            /* jshint ignore:end */\n        },\n\n        /* start(id, options)\n         *\n         * - called on app:start, prepare or open the connection to the analytics system.\n         *\n         * @param {string} id Tracking id for the analytics system.\n         * @param {Object} options SUGAR.App.config.analytics configuration.\n         * @member SUGAR.analytics.connectors.GoogleAnalytics\n         */\n        start: function (id, options) {\n            options.gaOptions = options.gaOptions || {};\n            _.defaults(options.gaOptions, {\n                cookieDomain: 'none',\n                forceSSL: true,\n            });\n            ga('create', id, options.gaOptions);\n            optOut = options.optOut;\n            if (optOut) {\n                window['ga-disable-' + id] = true;\n            }\n        },\n        /* trackPageView(pageURI)\n         *\n         * - track a change of page.\n         *\n         * @param {string} pageURI URI of the page viewed.\n         * @member SUGAR.analytics.connectors.GoogleAnalytics\n         */\n        trackPageView: function(pageUri) {\n            ga('send', 'pageview', pageUri);\n        },\n        /* trackEvent()\n         *\n         * - track an event on the page.\n         *\n         * @param {Object} event Google Analytics event to track.\n         * @param {string} event.category Category of the event.\n         * @param {string} event.action Action of the event.\n         * @param {string} event.label Always set to the route the user is on.\n         * @param {int} [event.value] Value of the event.\n         * @member SUGAR.analytics.connectors.GoogleAnalytics\n         */\n        trackEvent: function(event) {\n            ga('send', 'event', event.category, event.action, event.label, event.value);\n        },\n\n        /**\n         * Set tracker params.\n         * @param {string} key The param name.\n         * @param {Mixed} value The value to send to the tracker.\n         */\n        set: function(key, value) {\n            ga('set', key, value);\n        }\n    };\n})(SUGAR.App);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/sugaranalytics/googleanalyticsconnector.js\n// module id = 64\n// module chunks = 0","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/**\n * LiveRelativeDate plugin is a jQuery/Zepto plugin for sidecar that converts a\n * date into a relative time with a timer to keep it relative to current time.\n *\n * To use it is simple, just run:\n *\n * ```\n * $('[data-relative-to]').liverelativedate();\n * ```\n *\n * To define the attribute where the ISO-8601 date can be found (defaults to\n * `datetime` attribute of used by `<time>` tag):\n *\n * ```\n * $('[data-my-iso-8601]').liverelativedate({\n *     'attr': 'data-my-iso-8601'\n * });\n * ```\n *\n * To get the current update interval configured:\n *\n * ```\n * $.liverelativedate('interval');\n * ```\n *\n * To change the current update interval, do:\n *\n * ```\n * $.liverelativedate('interval', 10e3);\n * ```\n *\n * This plugin has a hard dependency with {@link Utils.Date} functions\n * available in Sidecar library. If you wish to override that behavior,\n * provide the override on those utility functions.\n *\n */\n(function(plugin) {\n    plugin(window.jQuery || window.Zepto, SUGAR.App.date);\n}(function($, date) {\n\n    var updateInterval = 6e4, // every minute\n        $liveDates = $([]),\n        timeout;\n\n    /**\n     * This is the running cycle. It will automatically stop if we don't have\n     * dates to listen to.\n     */\n    var run = function() {\n        if (!$liveDates.length) {\n            return;\n        }\n        timeout = setTimeout(run, updateInterval);\n        liveRelativeDateGlobal.update();\n    };\n\n    /**\n     * List of methods available from the plugin directly. These are the global\n     * methods.\n     */\n    var liveRelativeDateGlobal = {\n\n        /**\n         * Updates provided Elements or all stored elements if none provided.\n         *\n         * On each update of an element, we check if the new date is different\n         * from the old (to minimize the DOM changes) and trigger an event\n         * `change.liveRelativeDate` if it is, to check if any subscribed\n         * listeners want to stop the DOM update.\n         *\n         * This method also keeps the `$liveDates` array clean from lost\n         * elements that weren't properly destroyed.\n         *\n         * @param {jQuery} [$el] The jQuery elements to update. If empty, will\n         *   update all stored elements.\n         */\n        update: function($el) {\n            $el = $el || $liveDates;\n\n            $el.each(function(i, el) {\n                var $this = $(el),\n                    options = $this.data('liveRelativeDate'),\n                    value;\n\n                if (!options) {\n                    // auto clean up in case some one forgot to destroy it.\n                    $liveDates = $liveDates.not(el);\n                    return;\n                }\n\n                value = options.date ? $this.data(options.date) : $this.attr('datetime');\n\n                var from = $this.html(),\n                    // TODO we need to support dateOnly which would show \"today\" if there is no time available\n                    to = date(value).fromNow();\n\n                if (from === to) {\n                    return;\n                }\n\n                var e = $.Event('change.liveRelativeDate');\n                $this.trigger(e, [from, to]);\n\n                if (!e.isDefaultPrevented()) {\n                    $this.html(to);\n                }\n            });\n        },\n\n        /**\n         * Pauses the relative date time update.\n         */\n        pause: function() {\n            clearTimeout(timeout);\n            timeout = null;\n        },\n\n        /**\n         * Resumes the live relative date auto update if it isn't already\n         * running.\n         */\n        resume: function() {\n            if (!timeout) {\n                run();\n            }\n        },\n\n        /**\n         * Sets the interval if the param is provided, returns the current\n         * configured interval if no param is given.\n         *\n         * @param {number} [interval] The interval to set. Pass `undefined` to\n         *   get the current value.\n         *\n         * @return {number|undefined} The current interval or `undefined` if\n         *   setting the value.\n         */\n        interval: function(interval) {\n            if (interval === undefined) {\n                return updateInterval;\n            }\n            updateInterval = interval;\n        }\n    };\n\n    /**\n     * List of methods that are available based on the provided jQuery\n     * elements.\n     */\n    var liveRelativeDateLocal = {\n\n        /**\n         * Adds a set of Elements to the current live relative dates list.\n         *\n         * Accepts options that will be stored in the element itself to be used\n         * during the update of its content.\n         * This might **not** trigger an update to the added elements\n         * automatically, but will make sure the timer is running for the new\n         * elements.\n         *\n         * @param {jQuery} $el The set of elements to add to the updater.\n         * @param {Object} options The list of options to use in the\n         *   {@link #update} method.\n         * @return {jQuery} The elements being added.\n         */\n        add: function($el, options) {\n\n            if (!$el || $el.length === 0) {\n                return $el;\n            }\n            options = options || {};\n\n            $el.data('liveRelativeDate', JSON.stringify(options));\n            $liveDates = $liveDates.add($el);\n\n            liveRelativeDateGlobal.resume();\n\n            return $el;\n        },\n\n        /**\n         * Clears a set of Elements from the list of live dates to update.\n         *\n         * Clears the data `live-relative-date` from the element.\n         * Doesn't restore the original value of the element when this plugin\n         * was applied.\n         *\n         * @param {jQuery} $el The jQuery elements to remove from the listener.\n         * @return {jQuery} The elements removed from the list of updates.\n         */\n        destroy: function($el) {\n\n            $liveDates = $liveDates.not($el);\n            $el.removeAttr('data-live-relative-date');\n            return $el;\n        },\n\n        /**\n         * Returns `true` if the passed Elements are being tracked/updated by\n         * this plugin.\n         *\n         * @param {jQuery} $els The elements to check.\n         * @return {Boolean} Returns `true` if all elements are being tracked\n         *   by the plugin, `false` otherwise.\n         */\n        isLiveRelativeDate: function($els) {\n\n            var tracked = true;\n            $.each($els, function(el) {\n                if ($(el).data('liveRelativeDate') === undefined) {\n                    tracked = false;\n                    return true;\n                }\n            });\n            return tracked;\n        }\n    };\n\n    $.liverelativedate = liveRelativeDateGlobal;\n\n    $.fn.liverelativedate = function(method, options) {\n\n        if (!liveRelativeDateLocal[method]) {\n            options = method;\n            method = 'add';\n        }\n\n        return liveRelativeDateLocal[method](this, options);\n    };\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/sugar/sugar.liverelativedate.js\n// module id = 65\n// module chunks = 0","/*\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n(function(app) {\n    app.events.on('app:init', function() {\n\n        _.mixin({\n            /**\n             * Check to see if a value is empty.\n             *\n             * Returns true if:\n             *\n             * - value is undefined or null\n             * - value is an empty string\n             * - value is an empty object\n             * - value is an empty array\n             *\n             * All other values return false.\n             *\n             * @param value\n             * @return {boolean}\n             */\n            isEmptyValue: function(value) {\n                return !_.isNumber(value) && !_.isBoolean(value) && !_.isDate(value) && _.isEmpty(value);\n            },\n\n            /**\n             * Performs a deep-diff comparison between two javascript objects,\n             * and returns a hash of key-values of keys merged between `obj1`\n             * and `obj2`, and `true` if there were changes, `false` if not.\n             *\n             * It does not matter which order you pass the parameters, the\n             * return object will remain the same.\n             *\n             * Example:\n             *\n             *     var newModelAttributes = {\n             *         a: 1,\n             *         b: {create: true, edit: false},\n             *         c: 'test',\n             *         d: {a: 'b', c: {d: true}}\n             *     };\n             *\n             *     var oldModelAttributes = {\n             *         a: 1,\n             *         b: {create: true},\n             *         c: undefined,\n             *         e: [1, 2]\n             *     };\n             *\n             *     _.changed(newModelAttributes, oldModelAttributes);\n             *     >> {a: false, b: true, c: true, d: true, e: true}\n             *\n             * @param {Object} obj1 The first of two objects to diff between.\n             * @param {Object} obj2 The second of two objects to diff between.\n             * @return {Object|undefined} The hash of differences between `obj1`\n             *   and `obj2`. Returns `undefined` if `obj1` and `obj2` are empty.\n             */\n            changed: function(obj1, obj2) {\n                if (_.isEmpty(obj1) && _.isEmpty(obj2)) {\n                    return;\n                }\n\n                var result = {};\n                var allKeys = _.keys(_.extend(result, obj2, obj1));\n\n                _.each(allKeys, function(key) {\n                    var changed = false;\n                    if (!_.has(obj1, key) ||\n                        !_.has(obj2, key) ||\n                        !_.isEqual(obj1[key], obj2[key])\n                    ) {\n                        changed = true;\n                    }\n                    result[key] = changed;\n                });\n\n                return result;\n            }\n        });\n\n    });\n})(SUGAR.App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/underscore-mixins.js"],"sourceRoot":""}