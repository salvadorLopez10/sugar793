/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
/*
 * Includes TraceKit
 * https://github.com/getsentry/TraceKit
 * MIT License
 *
 * Copyright 2014 Matt Robenolt and other contributors
 * Released under the BSD license
 * https://github.com/getsentry/raven-js/blob/master/LICENSE
 *
Copyright (c) 2014 Matt Robenolt and other contributors
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice,
  this list of conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation and/or other materials
  provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/*------------------------------
https://github.com/caolan/async
MIT License
Copyright (c) 2010 Caolan McMahon
*/

/*------------------------------
http://backbonejs.org/
MIT License
Copyright (c) 2010-2012 Jeremy Ashkenas, DocumentCloud
*/

/*------------------------------
http://underscorejs.org/
MIT License
Copyright (c) 2009-2012 Jeremy Ashkenas, DocumentCloud
*/

/*------------------------------
http://handlebarsjs.com/
MIT License
Copyright (C) 2011 by Yehuda Katz
*/

/*------------------------------
https://github.com/marcuswestin/store.js/

Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

The MIT License (MIT)
Copyright (c) 2010-2013 Marcus Westin
*/

/*------------------------------
Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

http://zeptojs.com
MIT License
Copyright (c) 2010-2012 Thomas Fuchs
*/

/*------------------------------
fastclick
Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software.
 
MIT License
The Financial Times Limited [All Rights Reserved]
*/

/*------------------------------
sugarapi.js
pull-to-refresh.js
(c) SugarCRM Inc.
*/

/*------------------------------
MIT License
Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/

/**
 * ScrollFix v0.1
 * http://www.joelambert.co.uk
 *
 * Copyright 2011, Joe Lambert.
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */

/*------------------------------
https://code.google.com/p/jsjpegmeta/
MIT License
Copyright (c) 2009 Ben Leslie
*/

/*------------------------------
https://github.com/stomita/ios-imagefile-megapixel
MIT License
Copyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>
*/

/*********************************************************************************
Zynga Scroller
https://github.com/zynga/scroller

Copyright (c) 2011 Zynga Inc., http://zynga.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
********************************************************************************/

/*------------------------------
 moment.js
 Copyright (c) 2011-2013 Tim Wood, Iskren Chernev, Moment.js contributors
 MIT License
*/

/* https://github.com/jasny/jquery.smartbanner

Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

Copyright (c) Arnold Daniels <arnold@jasny.net>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is furnished
to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/


/*
##nvd3.js License

Copyright (c) 2011, 2012 [Novus Partners, Inc.][novus]

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

[novus]: https://www.novus.com/



##d3.js License

Copyright (c) 2012, Michael Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* The name Michael Bostock may not be used to endorse or promote products
  derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*------------------------------
http://www.idangero.us/swiper
MIT License
Copyright (c) 2014 Vladimir Kharlampidi
*/

/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */

/*Copyright (c) 2008, ZETETIC LLC
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of the ZETETIC LLC nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY ZETETIC LLC ''AS IS'' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL ZETETIC LLC BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

(function(e){var t={};function n(i){if(t[i]){return t[i].exports}var r=t[i]={i:i,l:false,exports:{}};e[i].call(r.exports,r,r.exports,n);r.l=true;return r.exports}n.m=e;n.c=t;n.i=function(e){return e};n.d=function(e,t,i){if(!n.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:i})}};n.n=function(e){var t=e&&e.__esModule?function i(){return e["default"]}:function r(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=565)})([function(e,t){e.exports=Handlebars},function(e,t,n){"use strict";var i=n(37);var r=n(223);var a=SUGAR.App;var s;var o;var l;var u;var c;var d;var f;var h=document.getElementById("viewport-meta");var p={"default":h?h.getAttribute("content"):null};var m;var g;var v=n(31);var b=n(6);a.lang.DIRECTION_RTL="rtl";a.lang.DIRECTION_LTR="ltr";var y=e.exports={timePaused:0,globalEvents:["app:orientation:changed","nativeMessage","app:upgraded","app:dashboards:changed"],SETTINGS_CACHE_KEY:"settings",LAST_STATE_CACHE_KEY:"lastState",DEFAULT_ROUTE:"Search",_requireDependencies:function x(){s=n(3);o=n(230);l=n(62);u=n(5);d=n(20);m=n(27);g=n(23);c=n(16)},_syncedAppStart:function S(){var e=function t(){_.delay(function(){a.overlay.hide("app:sync",true)},300);a.cache.set("app:synced","1");a.nomad.setHTMLDirection();if(a.supportedFeatures.dashboards&&!a.nomad.dashboards.isStarted()){a.nomad.dashboards.start();a.nomad.dashboards.fetchDashboards({notifyIfChanged:true})}a.nomad.startApp()};v.start().finally(function(){return e()})},startApp:function w(){var e=this;this.initMainMenu();if(!a.started){a.start()}else{a.navigation.history.clear();a.router.refresh()}if(a.isSynced){if(this.nativeFileImportInfo){this.navigateFileImport(this.nativeFileImportInfo);this.nativeFileImportInfo=null}else{u.getImportedFileInfo(function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.onFileImportEvent(t)})}}},deviceReady:function L(){this._requireDependencies();var e=this;window.App=SUGAR.App;a.isNative=!_.isUndefined(window.cordova);a.isTouchCapable="ontouchstart"in window;a.nomad.utils.augmentZeptoDetect(a.isNative);if(_.isFunction(this.overrideConfig)){this.overrideConfig(a.config)}this.initNavigation();if(!this._isPlatformSupported()){a.error.handleNotSupportedPlatform();return}if(a.config.nativeRedirectEnabled){u.redirectToNativeApp()}this._computeMode();a.clientInfo={app:{name:a.config.appId,rebrandName:a.config.appName,version:this.getNomadVersion(),sdkVersion:this.getSdkVersion(),isNative:a.isNative},device:null,browser:_.extend($.browser,{userAgent:navigator.userAgent})};a.nomad.initSupportedFeatures();async.waterfall([function(e){var t={name:"store-"+a.config.appId+"-"+a.config.env,"native":a.isNative,encrypt:a.config.keyValueStoreEncryptionEnabled,forceEncryption:a.config.keyValueStoreEncryptionEnabled};var n={name:"ac",async:false};var i=a.config.keyValueStore==="sqlKeyValueStore"?"localStorageKeyValueStore":"sqlKeyValueStore";a.nomad.stores={};a.keyValueStore=a[a.config.keyValueStore];a.keyValueStore.open(t);a[i].open(t);async.parallel([function r(e){async.parallel({oldBucket:function t(e){a[i].initBucket(n,e)},newBucket:function r(e){a.keyValueStore.initBucket(n,e)}},function(t,n){if(!t){a.nomad.utils.migrateKeyValueStore(n.newBucket,n.oldBucket);a.cache.store=n.newBucket}e(t)})},function s(e){a.keyValueStore.initBucket({name:"dashlet_data",async:true},function(t,n){if(!t){a.nomad.stores.dashlets=n}e(t)})},function o(e){a.keyValueStore.initBucket({name:"filters",async:false},function t(n,i){if(!n){a.nomad.stores.filters=i}e(n)})}],function(t){e(t)})},function(t){e.preInit(a.clientInfo,t)},function(t){e.start()}],function(e){if(e){a.logger.fatal("Failed to init the app: "+e);s.showAlert(a.lang.get("ERR_INTERNAL_ERR_MSG"),{title:a.lang.get("ERR_GENERIC_TITLE")})}});if(!a.isNative&&$.os.android&&$.smartbanner){$.smartbanner({layer:true})}},_computeMode:function E(){a.isTablet=a.config.deviceMode.type==="tablet"||a.config.deviceMode.type==="auto"&&(document.body.clientWidth>=768||document.body.clientHeight>=768);a.isNarrowTabletMode=a.isTablet&&(document.body.clientWidth<602||document.body.clientHeight<602);if(a.isTablet){$(document.body).removeClass("mobile");$(document.body).addClass("tablet");if(a.isNarrowTabletMode)$(document.body).addClass("narrow-tablet-mode")}else{$(document.body).removeClass("tablet narrow-tablet-mode");$(document.body).addClass("mobile")}if($.os.desktop){$(document.body).addClass("desktop")}},_checkTrial:function k(){if(!a.config.trialUntil||new Date<new Date(a.config.trialUntil)){return}var e=function r(e){var t=[a.lang.get("LBL_TRIAL_PERIOD_EXPIRED")];if(e){t.push({callback:e})}s.showAlert.apply(s,t)};var t=_.bind(e,null,null);var i=n(86);i.prototype.login=t;i.prototype.externalLogin=t;this._checkTrial=_.noop;e(function(){var e=a.controller.layoutManager.getRootLayout();var t=e&&e.options.baseType==="login";if(!t){a.loginManager.logout({clear:true})}})},start:function A(){this.computeOrientation();a.logger.debug("Client: "+JSON.stringify(a.clientInfo));$.__swipeHelper.init();if(a.config.keyValueStore==="localStorageKeyValueStore"){try{var e=a.config.env+":"+a.config.appId+":settings";var t=window.localStorage.getItem(e);if(t&&t[1]==="'"){window.localStorage.setItem(e,t.replace(/'/g,'"'))}}catch(n){}}a.init({el:"#nomad"});a.loginManager.handleAuthTokens();a.api.debug=a.config.debugSugarApi;a.api.setRefreshTokenSuccessCallback(function(e){e()});a.telephony.clearCallLog();u.removeCachedDoc();this.setFontSize(a.loginManager.getSetting("fontSize"));_.each(this.globalEvents,function(e){a.events.register(e,a)});a.logger.debug("App started in "+(a.isNative?"native shell":"browser"));document.addEventListener("pause",_.bind(this.onPause,this),false);document.addEventListener("resume",_.bind(this.onResume,this),false);document.addEventListener("memoryWarning",_.bind(this.onMemoryWarning,this),false);document.addEventListener("backbutton",_.bind(this.onBackButtonClicked,this),false);document.addEventListener("onFileImportEvent",_.bind(this.onFileImportEvent,this),false);window.addEventListener("orientationchange",_.bind(this.onOrientationChange,this),false);if(a.isSynced){this._syncedAppStart()}else{a.start()}this._checkTrial()},initSupportedFeatures:function M(){a.supportedFeatures={fileUpload:function e(){var e=$.os.version;if($.os&&$.os.version){if($.os.ios){return a.utils.versionCompare(e,"6",">=")}else if($.os.android){return a.utils.versionCompare(e,"4.0.3",">=")}}return true}(),menuAnimation:function t(){if($.os&&$.os.version){return!($.os.android&&a.utils.versionCompare($.os.version,"4.0.3","<"))}return true}(),canvasJpegEncoding:function n(){var e=document.createElement("canvas");var t=e.toDataURL("image/jpeg");return t.indexOf("image/jpeg")!==-1}(),bulkApi:false,recents:false,offline:false,fileUploadForDocs:false,fts:false,productsModule:false,dashboards:false,configurableSavedReportsChart:false,settingsDefaultView:false,enumViaActionSheet:false,filters:false,populateList:false,localSecurityServerSupport:false,createRelatedRLIWarn:false,leadConversion:false}},updateSupportedFeatures:function T(e){var t=!_.isEmpty(a.metadata.getServerInfo())?a.metadata.getServerInfo():e?e.server_info:{};a.supportedFeatures.offline=a.offline&&a.offline.isSupported(t);a.supportedFeatures.fts=t.fts&&t.fts.enabled;a.supportedFeatures.productsModule=a.nomad.isSevenUp(t);a.supportedFeatures.dashboards=a.config.dashboards.enabled&&a.utils.versionCompare(t.version,a.config.dashboards.minServerVersion,">=");a.supportedFeatures.shareableDashboards=a.supportedFeatures.dashboards&&a.utils.versionCompare(t.version,"7.10",">=");var n=a.config.dashboards.dashlets["activitystream-dashlet"];a.supportedFeatures.activities=!!n&&a.utils.versionCompare(t.version,n.minServerVersion,">=");if(a.utils.versionCompare(t.version,"7.1.5",">=")){a.supportedFeatures.settingsDefaultView=true}if(a.utils.versionCompare(t.version,"7.2",">=")){a.supportedFeatures.recents=true;a.supportedFeatures.filters=true;a.supportedFeatures.populateList=true}if(a.utils.versionCompare(t.version,"7.2.1",">=")){a.supportedFeatures.bulkApi=true;a.supportedFeatures.fileUploadForDocs=true}if(a.utils.versionCompare(t.version,"7.6.0.0RC1",">=")){a.supportedFeatures.configurableSavedReportsChart=true}a.supportedFeatures.leadConversion=a.config.leadConversion.enabled&&a.utils.versionCompare(t.version,a.config.leadConversion.minServerVersion,">=");if(a.isNative&&$.os.tablet&&$.os.ipad&&a.utils.versionCompare($.os.version,"8",">=")){a.supportedFeatures.enumViaActionSheet=true}if(a.utils.versionCompare(t.version,a.config.localSecurity.minServerVersion,">=")){a.supportedFeatures.localSecurityServerSupport=true}if(a.utils.versionCompare(t.version,a.config.teamBasedAcl.minServerVersion,">=")){a.supportedFeatures.teamBasedAclServerSupport=true}if(_.contains(["ENT","ULT"],t.flavor)){a.supportedFeatures.createRelatedRLIWarn=_.contains(a.metadata.getModuleNames({filter:["enabled","visible"],access:"edit"}),"RevenueLineItems")}this._patchConfig()},updateServerInfo:function C(){a.serverInfo=a.metadata.getServerInfo();this.updateSupportedFeatures()},_patchConfig:function R(){if(a.supportedFeatures.productsModule){a.config.modules.unsupportedModules=_.without(a.config.modules.unsupportedModules,"Products")}else if(!_.contains(a.config.modules.unsupportedModules,"Products")){a.config.modules.unsupportedModules.push("Products")}if(a.supportedFeatures.fileUploadForDocs){a.config.modules.nonCreatableModules=_.without(a.config.modules.nonCreatableModules,"Documents")}else if(!_.contains(a.config.modules.nonCreatableModules,"Documents")){a.config.modules.nonCreatableModules.push("Documents")}},isSevenUp:function D(e){return e?a.utils.versionCompare(e.version,"7.0RC",">="):false},resetMeta:function I(e,t){var n=a.cache.get("app:build")!==a.config.appBuild;var i=e||!a.config.cacheMeta||n;var r=a.metadata.getHash();if(i){a.logger.debug("Resetting meta");a.metadata.clearCache();a.cache.cut("user");var s=JSON.parse(JSON.stringify(a.baseMetadata));if(!e&&r&&!n)s._hash=r;a.metadata.set(s,false,true);a.cache.set("app:build",a.config.appBuild);a.events.trigger("app:upgraded");a.loginManager.handleAppUpgrade()}if(i||t){a.cache.set("app:synced","0")}a.isSynced=!t&&!i&&a.config.cacheMeta&&a.cache.get("app:synced")==="1";a.logger.debug("App is synced: "+a.isSynced)},resetAuth:function O(){a[a.config.authStore].cut("AuthAccessToken");a[a.config.authStore].cut("AuthRefreshToken")},saveUser:function N(){a.cache.set("user",a.user.toJSON())},restoreUser:function F(){a.user.set(a.cache.get("user")||{})},cleanStores:function B(e){var t=[];e=e||function(){};_.each(a.nomad.stores,function n(e){t.push(_.bind(e.cutAll,e))});async.parallel(t,e)},getSetting:function U(e){return this._fetchCacheItem(this.SETTINGS_CACHE_KEY)[e]},setSetting:function P(e,t){this._setCacheItem(this.SETTINGS_CACHE_KEY,e,t)},removeSetting:function Y(e){if(e){this._removeCacheItem(this.SETTINGS_CACHE_KEY,e)}},getLastState:function H(e){return this._fetchCacheItem(this.LAST_STATE_CACHE_KEY)[e]},setLastState:function G(e,t){this._setCacheItem(this.LAST_STATE_CACHE_KEY,e,t)},removeLastState:function V(e){this._removeCacheItem(this.LAST_STATE_CACHE_KEY,e)},_fetchCacheItem:function j(e){return a.cache.get(e)?a.cache.get(e):{}},_saveCacheItem:function z(e,t){a.cache.set(e,t)},_setCacheItem:function q(e,t,n){var i=this._fetchCacheItem(e);if(_.isObject(t)){i=_.extend(i,t)}else{i[t]=n}this._saveCacheItem(e,i)},_removeCacheItem:function W(e,t){if(t){var n=this._fetchCacheItem(e);delete n[t];this._saveCacheItem(e,n)}else{a.cache.cut(e)}},resetBulkLoader:function K(){g.reset()},enableOffline:function J(e){a.offline.userEnabled=_.isUndefined(a.nomad.getSetting("offlineEnabled"))?true:!e&&Boolean(a.nomad.getSetting("offlineEnabled"))},getRelationshipLink:function X(e,t){var n=a.metadata.getModule(e);var i=_.find(n.fields,function(e){if(e.type==="link"){var n=a.metadata.getRelationship(e.relationship);return n&&(n.lhs_module===t||n.rhs_module===t)}});return i?i.name:null},getRelationship:function Z(e,t){var n=a.metadata.getModule(e);var i=n.fields[t].relationship;return a.metadata.getRelationship(i)},onPause:function Q(e){a.logger.debug("App was paused");a.logger.debug(e);this.timePaused=(new Date).getTime();_.each(a.modules,function(e){if(_.isFunction(e.onAppPause)){e.onAppPause()}});a.controller.layoutManager.onAppPause()},onResume:function ee(e){var t=((new Date).getTime()-(this.timePaused||0))/1e3;a.logger.debug("App resumed: "+t);a.logger.debug(e);_.each(a.modules,function(e){if(_.isFunction(e.onAppResume)){e.onAppResume()}});if(a.isSynced&&m.isActive()){m.show(function(){a.nomad._syncedAppStart()})}a.controller.layoutManager.onAppResume();_.delay(function(){var e=f;if(e!==a.nomad.computeOrientation()){a.trigger("app:orientation:changed",window.orientation)}},1e3);this._checkTrial()},onMemoryWarning:function te(){a.controller.clean();a.logger.warn("App received memory warning");a.analytics.trackEvent({category:"device",action:"low-memory"})},onBackButtonClicked:function ne(){a.analytics.trackEvent({category:"device",action:"back"});if(a.overlay.isActive()){return}a.nomad.dismissAlerts();if(document.activeElement){document.activeElement.blur()}a.controller.handleBackButton()},onOrientationChange:function ie(){var e=this;var t=$("body");if(a.isTablet&&document.activeElement)document.activeElement.blur();t.addClass("rotate");_.delay(function(){t.removeClass("rotate");if($.os.ios&&a.utils.versionCompare($.os.version,"7",">=")){window.scrollTo(0,window.scrollY)}e.computeOrientation();a.analytics.trackEvent({category:"orientation",action:window.orientation});a.trigger("app:orientation:changed",window.orientation)},1e3)},computeOrientation:function re(){if(a.isTablet&&(a.config.deviceMode.landscape||a.config.deviceMode.portrait)){if(a.config.deviceMode.landscape){f="landscape"}if(a.config.deviceMode.portrait){f="portrait"}}else{if($.os.ios){f=window.orientation===90||window.orientation===-90?"landscape":"portrait"}else{f=document.body.clientWidth>document.body.clientHeight?"landscape":"portrait"}}var e=$.os.ios?f==="portrait"?screen.height-window.innerHeight:screen.width-window.innerHeight:0;p.landscape=", height="+(screen.width-e);p.portrait=", height="+(screen.height-e);if(f==="landscape"){if($.os.ios&&a.isTablet){h.setAttribute("content",p.default+p.landscape)}$("html").removeClass("portrait").addClass("landscape")}else{if($.os.ios&&a.isTablet){h.setAttribute("content",p.default+p.portrait)}$("html").removeClass("landscape").addClass("portrait")}return f},getOrientation:function ae(){return f},dismissAlerts:function se(){a.alert.dismissAll("success");a.alert.dismissAll("error")},supportsFavs:function oe(e){var t=a.metadata.getModule(e);return t?t.favoritesEnabled:false},supportsMyItems:function le(e){var t=a.metadata.getModule(e);return t?!_.isUndefined(t.fields.assigned_user_id):false},buildLinkRoute:function ue(e,t,n,i,r){var a=_.isString(e)?e:e.get("module");a+="/"+t+"/link/"+n;if(i){a+="/"+i}if(r){a+="/"+r}return a},contextMetaViews:{list:{numberOfItems:2},detail:{numberOfItems:999},all:{numberOfItems:999,customModsOnly:true,useVarDef:true}},contextMeta:{},initializeContextMeta:function ce(){var e=this;_.each(e.contextMetaViews,function(t,n){e.contextMeta[n]=e.contextMeta[n]||{};var i=t.type||n;var r=_.keys(a.metadata.getModules());if(t.customModsOnly){r=_.reject(r,function(e){return a.nomad.isStandardModule(e)})}_.each(r,function(t){if(a.metadata.getModule(t)){var r=a.data.createBean(t);e.contextMeta[n][t]=e.calculateContextMeta(r,t,i)}})})},calculateContextMeta:function de(e,t,n){var i=this.contextMetaViews[n].numberOfItems||999;var r=a.metadata.getView(t,n);var s=[];var o;if(this.contextMetaViews[n].useVarDef){s=[a.metadata.getModule(t)]}else if(r){s=r.panels}_.each(s,function(t,n){o=e.getContextMetaData(t.fields,i)});return o},getContextMeta:function fe(e,t){var n=this.contextMeta[e]||{};return t?n[t]:n},isStandardModule:function he(e){return _.contains(a.config.modules.knownModules,e)},initSubpanels:function pe(){var e=a.metadata.getModuleNames({filter:"visible"});e.push("Users");_.each(e,function(t){var n=a.metadata.getModule(t,"layouts");var i=n?n.subpanels:null;if(!i||!i.meta||!_.isArray(i.meta.components))return;var r=[];_.each(i.meta.components,function(n,i){var s;var o;try{s=a.data.getRelatedModule(t,n.context.link);o=a.nomad.getRelationship(t,n.context.link)}catch(l){s=null;o=null}if(!_.contains(e,s))s=null;if(s&&o){n.module=s;n.creatable=(_.isUndefined(n.canCreate)&&_.isUndefined(n.creatable)?true:n.canCreate||n.creatable)&&!_.contains(a.config.modules.nonCreatableModules,s);n.linkable=(_.isUndefined(n.canLink)&&_.isUndefined(n.linkable)?true:n.canLink||n.linkable)&&!_.contains(a.config.modules.nonLinkableModules,s)&&!(_.contains(["Meetings","Calls","Notes","Tasks"],s)&&o.via_parent_id);n.unlinkable=_.isUndefined(n.unlinkable)?true:n.unlinkable}else{r.push(i)}});for(var s=0;s<r.length;++s){i.meta.components.splice(r[s]-s,1)}})},hasLinkableSubpanels:function me(e){return _.any(e,function(e){return e.linkable&&a.acl.hasAccess("list",e.module)})},hasCreatableSubpanels:function _e(e){return _.any(e,function(e){return e.creatable&&a.acl.hasAccess("create",e.module)})},getSubpanels:function ge(e){var t=a.metadata.getModule(e,"layouts").subpanels;return t&&t.meta?t.meta.components:[]},canCreateModule:function ve(e){var t=a.metadata.getModuleNames({filter:["visible"],access:"create"});return _.contains(t,e)&&!_.include(a.config.modules.nonCreatableModules,e)},hasAccessToReqFields:function be(e,t){var n=t||"edit";var i="edit";if(!a.metadata.getView(e,i)){return false}var r=a.metadata.getModule(e).fields;var s=r.assigned_user_name;var o=["team_name"];if(s&&s.type==="relate"){o.push(s.name,s.id_name)}return!_.chain(a.metadata.getView(e,i).panels[0].fields).filter(function(e){if(_.contains(o,e.name)){return false}return r[e.name]&&r[e.name].required}).find(function(t){return!a.acl.hasAccess(n,e,{field:t.name})}).value()},canCreateRelated:function ye(e,t,n){return this.canCreateModule(e)&&this._getSubpanel(t,n).creatable},canLinkRelated:function xe(e,t){return this._getSubpanel(e,t).linkable},canUnlinkRelated:function Se(e,t){return this._getSubpanel(e,t).unlinkable},canDisplay:function we(e,t){var n=e.context.get("link");var i=e.context.get("parentModule");var r=n&&i?_.pluck(a.data.getRelateFields(i,n),"name"):[];return!(n&&(t.type==="parent"||t.type==="relate"&&_.include(r,t.name)))},_getSubpanel:function Le(e,t){return _.find(this.getSubpanels(e),function(e){return e.context.link===t})||{}},getSingularModuleName:function Ee(e){return a.lang.getModuleName(e)},getPluralModuleName:function ke(e){return a.lang.getModuleName(e,{plural:true})},isEmptyValue:function Ae(e){return _.isNull(e)||_.isUndefined(e)||!_.isNumber(e)&&_.isEmpty(e)||_.isNumber(e)&&!_.isFinite(e)},redraw:function Me(e){var t=$(document.body);var n=$("<style> body {opacity: 0.99;}</style>");function i(){t.append(n);_.delay(function(){n.remove()},e)}if(!e){i()}else{_.delay(i,e)}},configure:function Te(e){var t=e.serverUrl;var n=e.pageUrl;if(t){a.analytics.trackEvent({category:"deeplink",action:"server",value:null,label:null})}if(n){a.analytics.trackEvent({category:"deeplink",action:"page",value:null,label:null})}function i(){var e=n.replace("#","")||a.nomad.DEFAULT_ROUTE;a.controller.navigate({url:e,initiator:d.CONFIGURE})}if(a.isNative&&_.isEmpty(t)||_.isEmpty(t)&&!_.isEmpty(n)){i();return}a.loginManager.reconfigure(e,function r(){i()})},updateAuthStore:function Ce(){if(a.isNative){a.keychain.oauth["meta:hash"]=a.metadata.getHash();a.keychain.oauth["userpref:hash"]=a.user.get("_hash")}},isDownloadTokenSupported:function Re(){return!_.isEmpty(a.api.getDownloadToken())},getFileOptions:function De(){var e=a.nomad.isDownloadTokenSupported();return{htmlJsonFormat:false,iframe:false,passOAuthToken:!e,passDownloadToken:e}},getProductVersion:function Ie(){return a.clientInfo.app.productVersion+"."+a.clientInfo.app.productBuild+(a.config.env!=="prod"?" ("+a.config.env+")":"")+(_.isEmpty(a.config.buildTag)?"":" "+a.config.buildTag)},getNomadVersion:function Oe(){var e=this.getSdkVersion();e=e.slice(0,e.indexOf("-"));return e.slice(0,e.lastIndexOf("."))},getNomadBuild:function Ne(){var e=this.getSdkVersion();e=e.slice(0,e.indexOf("-"));return e.slice(e.lastIndexOf(".")+1)},getToolsVersion:function Fe(){var e=this.getSdkVersion();return e.slice(e.indexOf("-")+1,e.lastIndexOf("-"))},getApiLevel:function Be(){var e=this.getSdkVersion();return e.slice(e.lastIndexOf("-")+1)},getSdkVersion:function Ue(){return a.config.sdkVersion},getServerVersion:function Pe(){return a.serverInfo&&a.api.isAuthenticated()?a.serverInfo.version+" "+a.serverInfo.flavor:"N/A"},getServerUrl:function Ye(){return a.config.siteUrl+"/rest/v"+a.config.restVersion},getDesktopUrl:function He(){return a.config.siteUrl+"?mobile=0"},canFollow:function Ge(e){var t=e.module;return a.serverInfo.isSevenUp&&_.contains(a.config.modules.followableModules,t)&&a.acl.hasAccessToModel("view",e)},getModuleRelationships:function Ve(e){var t=a.metadata.getModule(e);if(_.isEmpty(t.layouts.subpanels)){return}var n=t.layouts.subpanels.meta.components;var i=_.map(n,function(e){return e.context.link});var r=_.select(t.fields,function(e){return _.contains(i,e.name)&&e.type==="link"});return _.chain(r).pluck("name").map(function(t){return a.nomad.getRelationship(e,t)}).select(function(e){return!_.isEmpty(e)}).map(function(e,t){e.label=_.find(n,function(e){return e.context.link===r[t].name}).label;return e}).value()},configureSugarLogic:function je(){var e=n(19);var t=n(40);var i=n(51);var r=n(11);if(a.isSynced){var s=[e,t,r,i];_.each(s,function(e){var t=e.prototype.plugins;var n=t.indexOf("SugarLogic");var i=n!==-1;if(a.config.sugarLogic.enabled&&!i){t.push("SugarLogic")}else if(!a.config.sugarLogic.enabled&&i){t.splice(n,1)}})}},setFontSize:function ze(e){e||(e=a.config.ui.defaultFontSize);document.documentElement.style.fontSize=a.config.ui.fontSizes[e]+"px"},setHTMLDirection:function $e(){var e=a.user.getPreference("language")||a.cache.get("lang");var t=["ar_SA","he_IL"];var n=_.contains(t,e)||a.config.ui.rtl||false;$("html").toggleClass("rtl",n);a.lang.direction=n?a.lang.DIRECTION_RTL:a.lang.DIRECTION_LTR;if(a.nomad.mainMenu){a.nomad.mainMenu.toggleMenu(false,true)}},buildBulkRequest:function qe(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t;var n="/v"+a.config.restVersion;var i=e.params;if(e.limit){e.params=e.params||{};i.max_num=e.limit}t=a.api.buildURL.call({serverUrl:n},e.module,null,e.attributes,e.params);return{url:t,method:e.method||"GET",headers:e.headers,data:e.data}},syncApp:function We(){$("html").addClass("syncApp");a.sync({callback:function e(t){var n=function i(){m.show(function(){g.setupBulkLoad(a.nomad._syncedAppStart)});a.overlay.hide("app:sync",true);$("html").removeClass("syncApp")};if(!t){v.start({migrate:true}).finally(function(){a.nomad.updateServerInfo();if(a.supportedFeatures.dashboards){a.nomad.dashboards.reset();a.nomad.dashboards.start();a.nomad.dashboards.fetchDashboards({notifyIfChanged:false},function(e){if(e){a.logger.error("Couldn't preload dashboards. Error: "+e);s.showAlert(a.lang.get("ERR_MOBILE_DASHBOARDS_FETCHING"))}n()})}else{n()}})}}})},getFtsEnabledModules:function Ke(){if(a.supportedFeatures.fts){var e=[];_.each(a.metadata.getModules(),function(t,n){if(t.ftsEnabled){e.push(n)}},this);return e}else{return null}},redirectToNativeApp:function Je(){a.nomad._redirectToNativeApp()},initNavigation:function Xe(){a.navigation={manager:l,history:new o};Backbone.history=a.navigation.history;a.navigation.manager.init()},isTeamBasedAclEnabledForModule:function Ze(e){return a.config.teamBasedAcl.enabled&&a.supportedFeatures.teamBasedAclServerSupport&&!_.contains(a.config.teamBasedAcl.unsupportedModules,e)&&a.metadata.getModule(e,"isTBAEnabled")},utils:i,initMainMenu:function Qe(){if(!this.mainMenu){var e=n(87);this.mainMenu=a.view.createView({name:e,el:$("#menu-left")})}else{this.mainMenu.unbindGlobalEvents()}this.mainMenu.bindGlobalEvents();this.mainMenu.start()},deactivateMainMenu:function et(){if(this.mainMenu){this.mainMenu.unbindGlobalEvents()}},onFileImportEvent:function tt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};a.analytics.trackEvent({category:"device",action:"onFileImportEvent"});if(e&&e.fileUrl){if(!a.isSynced||!a.api.isAuthenticated()){this.nativeFileImportInfo=e}else{this.navigateFileImport(e)}}},navigateFileImport:function nt(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t="Notes";if(!(a.metadata.getModule(t)&&a.acl.hasAccess("create",t))){a.alert.show("access_error",{level:"error",messages:a.lang.get("ERR_ACCESS_SPECIFIC_MODULE",null,{module:y.getPluralModuleName(t)}),autoClose:true});if(e.filename){u.removeCachedDoc([{filename:e.filename}])}}else{var n=a.router.buildRoute(t,"create");a.controller.navigate({url:n,data:e,initiator:d.LIST})}}};_.extend(y,r)},function(e,t,n){(function(e){(function(t,n){true?e.exports=n():typeof define==="function"&&define.amd?define(n):t.moment=n()})(this,function(){"use strict";var t;function i(){return t.apply(null,arguments)}function r(e){t=e}function a(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function s(e){return Object.prototype.toString.call(e)==="[object Object]"}function o(e){var t;for(t in e){return false}return true}function l(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function u(e,t){var n=[],i;for(i=0;i<e.length;++i){n.push(t(e[i],i))}return n}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t){if(c(t,n)){e[n]=t[n]}}if(c(t,"toString")){e.toString=t.toString}if(c(t,"valueOf")){e.valueOf=t.valueOf}return e}function f(e,t,n,i){return Fn(e,t,n,i,true).utc()}function h(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null}}function p(e){if(e._pf==null){e._pf=h()}return e._pf}var m;if(Array.prototype.some){m=Array.prototype.some}else{m=function(e){var t=Object(this);var n=t.length>>>0;for(var i=0;i<n;i++){if(i in t&&e.call(this,t[i],i,t)){return true}}return false}}function _(e){if(e._isValid==null){var t=p(e);var n=m.call(t.parsedDateParts,function(e){return e!=null});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict){e._isValid=e._isValid&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}}return e._isValid}function g(e){var t=f(NaN);if(e!=null){d(p(t),e)}else{p(t).userInvalidated=true}return t}function v(e){return e===void 0}var b=i.momentProperties=[];function y(e,t){var n,i,r;if(!v(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!v(t._i)){e._i=t._i}if(!v(t._f)){e._f=t._f}if(!v(t._l)){e._l=t._l}if(!v(t._strict)){e._strict=t._strict}if(!v(t._tzm)){e._tzm=t._tzm}if(!v(t._isUTC)){e._isUTC=t._isUTC}if(!v(t._offset)){e._offset=t._offset}if(!v(t._pf)){e._pf=p(t)}if(!v(t._locale)){e._locale=t._locale}if(b.length>0){for(n in b){i=b[n];r=t[i];if(!v(r)){e[i]=r}}}return e}var x=false;function S(e){y(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(x===false){x=true;i.updateOffset(this);x=false}}function w(e){return e instanceof S||e!=null&&e._isAMomentObject!=null}function L(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function E(e){var t=+e,n=0;if(t!==0&&isFinite(t)){n=L(t)}return n}function k(e,t,n){var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0,s;for(s=0;s<i;s++){if(n&&e[s]!==t[s]||!n&&E(e[s])!==E(t[s])){a++}}return a+r}function A(e){if(i.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function M(e,t){var n=true;return d(function(){if(i.deprecationHandler!=null){i.deprecationHandler(null,e)}if(n){A(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack);n=false}return t.apply(this,arguments)},t)}var T={};function C(e,t){if(i.deprecationHandler!=null){i.deprecationHandler(e,t)}if(!T[e]){A(t);T[e]=true}}i.suppressDeprecationWarnings=false;i.deprecationHandler=null;function R(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function D(e){var t,n;for(n in e){t=e[n];if(R(t)){this[n]=t}else{this["_"+n]=t}}this._config=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function I(e,t){var n=d({},e),i;for(i in t){if(c(t,i)){if(s(e[i])&&s(t[i])){n[i]={};d(n[i],e[i]);d(n[i],t[i])}else if(t[i]!=null){n[i]=t[i]}else{delete n[i]}}}for(i in e){if(c(e,i)&&!c(t,i)&&s(e[i])){n[i]=d({},n[i])}}return n}function O(e){if(e!=null){this.set(e)}}var N;if(Object.keys){N=Object.keys}else{N=function(e){var t,n=[];for(t in e){if(c(e,t)){n.push(t)}}return n}}var F={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B(e,t,n){var i=this._calendar[e]||this._calendar["sameElse"];return R(i)?i.call(t,n):i}var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];if(t||!n){return t}this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var Y="Invalid date";function H(){return this._invalidDate}var G="%d";var V=/\d{1,2}/;function j(e){return this._ordinal.replace("%d",e)}var z={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,i){var r=this._relativeTime[n];return R(r)?r(e,t,n,i):r.replace(/%d/i,e)}function q(e,t){var n=this._relativeTime[e>0?"future":"past"];return R(n)?n(t):n.replace(/%s/i,t)}var W={};function K(e,t){var n=e.toLowerCase();W[n]=W[n+"s"]=W[t]=e}function J(e){return typeof e==="string"?W[e]||W[e.toLowerCase()]:undefined}function X(e){var t={},n,i;for(i in e){if(c(e,i)){n=J(i);if(n){t[n]=e[i]}}}return t}var Z={};function Q(e,t){Z[e]=t}function ee(e){var t=[];for(var n in e){t.push({unit:n,priority:Z[n]})}t.sort(function(e,t){return e.priority-t.priority});return t}function te(e,t){return function(n){if(n!=null){ie(this,e,n);i.updateOffset(this,t);return this}else{return ne(this,e)}}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){if(e.isValid()){e._d["set"+(e._isUTC?"UTC":"")+t](n)}}function re(e){e=J(e);if(R(this[e])){return this[e]()}return this}function ae(e,t){if(typeof e==="object"){e=X(e);var n=ee(e);for(var i=0;i<n.length;i++){this[n[i].unit](e[n[i].unit])}}else{e=J(e);if(R(this[e])){return this[e](t)}}return this}function se(e,t,n){var i=""+Math.abs(e),r=t-i.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var oe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var ue={};var ce={};function de(e,t,n,i){var r=i;if(typeof i==="string"){r=function(){return this[i]()}}if(e){ce[e]=r}if(t){ce[t[0]]=function(){return se(r.apply(this,arguments),t[1],t[2])}}if(n){ce[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)}}}function fe(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function he(e){var t=e.match(oe),n,i;for(n=0,i=t.length;n<i;n++){if(ce[t[n]]){t[n]=ce[t[n]]}else{t[n]=fe(t[n])}}return function(n){var r="",a;for(a=0;a<i;a++){
r+=t[a]instanceof Function?t[a].call(n,e):t[a]}return r}}function pe(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=me(t,e.localeData());ue[t]=ue[t]||he(t);return ue[t](e)}function me(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}le.lastIndex=0;while(n>=0&&le.test(e)){e=e.replace(le,i);le.lastIndex=0;n-=1}return e}var _e=/\d/;var ge=/\d\d/;var ve=/\d{3}/;var be=/\d{4}/;var ye=/[+-]?\d{6}/;var xe=/\d\d?/;var Se=/\d\d\d\d?/;var we=/\d\d\d\d\d\d?/;var Le=/\d{1,3}/;var Ee=/\d{1,4}/;var ke=/[+-]?\d{1,6}/;var Ae=/\d+/;var Me=/[+-]?\d+/;var Te=/Z|[+-]\d\d:?\d\d/gi;var Ce=/Z|[+-]\d\d(?::?\d\d)?/gi;var Re=/[+-]?\d+(\.\d{1,3})?/;var De=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var Ie={};function Oe(e,t,n){Ie[e]=R(t)?t:function(e,i){return e&&n?n:t}}function Ne(e,t){if(!c(Ie,e)){return new RegExp(Fe(e))}return Ie[e](t._strict,t._locale)}function Fe(e){return Be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function Be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ue={};function Pe(e,t){var n,i=t;if(typeof e==="string"){e=[e]}if(typeof t==="number"){i=function(e,n){n[t]=E(e)}}for(n=0;n<e.length;n++){Ue[e[n]]=i}}function Ye(e,t){Pe(e,function(e,n,i,r){i._w=i._w||{};t(e,i._w,i,r)})}function He(e,t,n){if(t!=null&&c(Ue,e)){Ue[e](t,n._a,n,e)}}var Ge=0;var Ve=1;var je=2;var ze=3;var $e=4;var qe=5;var We=6;var Ke=7;var Je=8;var Xe;if(Array.prototype.indexOf){Xe=Array.prototype.indexOf}else{Xe=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}function Ze(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}de("M",["MM",2],"Mo",function(){return this.month()+1});de("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});de("MMMM",0,0,function(e){return this.localeData().months(this,e)});K("month","M");Q("month",8);Oe("M",xe);Oe("MM",xe,ge);Oe("MMM",function(e,t){return t.monthsShortRegex(e)});Oe("MMMM",function(e,t){return t.monthsRegex(e)});Pe(["M","MM"],function(e,t){t[Ve]=E(e)-1});Pe(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);if(r!=null){t[Ve]=r}else{p(n).invalidMonth=e}});var Qe=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function tt(e,t){return a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Qe).test(t)?"format":"standalone"][e.month()]}var nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function it(e,t){return a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Qe.test(t)?"format":"standalone"][e.month()]}function rt(e,t,n){var i,r,a,s=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){a=f([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase()}}if(n){if(t==="MMM"){r=Xe.call(this._shortMonthsParse,s);return r!==-1?r:null}else{r=Xe.call(this._longMonthsParse,s);return r!==-1?r:null}}else{if(t==="MMM"){r=Xe.call(this._shortMonthsParse,s);if(r!==-1){return r}r=Xe.call(this._longMonthsParse,s);return r!==-1?r:null}else{r=Xe.call(this._longMonthsParse,s);if(r!==-1){return r}r=Xe.call(this._shortMonthsParse,s);return r!==-1?r:null}}}function at(e,t,n){var i,r,a;if(this._monthsParseExact){return rt.call(this,e,t,n)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){r=f([2e3,i]);if(n&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!n&&!this._monthsParse[i]){a="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[i]=new RegExp(a.replace(".",""),"i")}if(n&&t==="MMMM"&&this._longMonthsParse[i].test(e)){return i}else if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e)){return i}else if(!n&&this._monthsParse[i].test(e)){return i}}}function st(e,t){var n;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=E(t)}else{t=e.localeData().monthsParse(t);if(typeof t!=="number"){return e}}}n=Math.min(e.date(),Ze(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n);return e}function ot(e){if(e!=null){st(this,e);i.updateOffset(this,true);return this}else{return ne(this,"Month")}}function lt(){return Ze(this.year(),this.month())}var ut=De;function ct(e){if(this._monthsParseExact){if(!c(this,"_monthsRegex")){ht.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!c(this,"_monthsShortRegex")){this._monthsShortRegex=ut}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var dt=De;function ft(e){if(this._monthsParseExact){if(!c(this,"_monthsRegex")){ht.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!c(this,"_monthsRegex")){this._monthsRegex=dt}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function ht(){function e(e,t){return t.length-e.length}var t=[],n=[],i=[],r,a;for(r=0;r<12;r++){a=f([2e3,r]);t.push(this.monthsShort(a,""));n.push(this.months(a,""));i.push(this.months(a,""));i.push(this.monthsShort(a,""))}t.sort(e);n.sort(e);i.sort(e);for(r=0;r<12;r++){t[r]=Be(t[r]);n[r]=Be(n[r])}for(r=0;r<24;r++){i[r]=Be(i[r])}this._monthsRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}de("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e});de(0,["YY",2],0,function(){return this.year()%100});de(0,["YYYY",4],0,"year");de(0,["YYYYY",5],0,"year");de(0,["YYYYYY",6,true],0,"year");K("year","y");Q("year",1);Oe("Y",Me);Oe("YY",xe,ge);Oe("YYYY",Ee,be);Oe("YYYYY",ke,ye);Oe("YYYYYY",ke,ye);Pe(["YYYYY","YYYYYY"],Ge);Pe("YYYY",function(e,t){t[Ge]=e.length===2?i.parseTwoDigitYear(e):E(e)});Pe("YY",function(e,t){t[Ge]=i.parseTwoDigitYear(e)});Pe("Y",function(e,t){t[Ge]=parseInt(e,10)});function pt(e){return mt(e)?366:365}function mt(e){return e%4===0&&e%100!==0||e%400===0}i.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var _t=te("FullYear",true);function gt(){return mt(this.year())}function vt(e,t,n,i,r,a,s){var o=new Date(e,t,n,i,r,a,s);if(e<100&&e>=0&&isFinite(o.getFullYear())){o.setFullYear(e)}return o}function bt(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}return t}function yt(e,t,n){var i=7+t-n,r=(7+bt(e,0,i).getUTCDay()-t)%7;return-r+i-1}function xt(e,t,n,i,r){var a=(7+n-i)%7,s=yt(e,i,r),o=1+7*(t-1)+a+s,l,u;if(o<=0){l=e-1;u=pt(l)+o}else if(o>pt(e)){l=e+1;u=o-pt(e)}else{l=e;u=o}return{year:l,dayOfYear:u}}function St(e,t,n){var i=yt(e.year(),t,n),r=Math.floor((e.dayOfYear()-i-1)/7)+1,a,s;if(r<1){s=e.year()-1;a=r+wt(s,t,n)}else if(r>wt(e.year(),t,n)){a=r-wt(e.year(),t,n);s=e.year()+1}else{s=e.year();a=r}return{week:a,year:s}}function wt(e,t,n){var i=yt(e,t,n),r=yt(e+1,t,n);return(pt(e)-i+r)/7}de("w",["ww",2],"wo","week");de("W",["WW",2],"Wo","isoWeek");K("week","w");K("isoWeek","W");Q("week",5);Q("isoWeek",5);Oe("w",xe);Oe("ww",xe,ge);Oe("W",xe);Oe("WW",xe,ge);Ye(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=E(e)});function Lt(e){return St(e,this._week.dow,this._week.doy).week}var Et={dow:0,doy:6};function kt(){return this._week.dow}function At(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Tt(e){var t=St(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}de("d",0,"do","day");de("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});de("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});de("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});de("e",0,0,"weekday");de("E",0,0,"isoWeekday");K("day","d");K("weekday","e");K("isoWeekday","E");Q("day",11);Q("weekday",11);Q("isoWeekday",11);Oe("d",xe);Oe("e",xe);Oe("E",xe);Oe("dd",function(e,t){return t.weekdaysMinRegex(e)});Oe("ddd",function(e,t){return t.weekdaysShortRegex(e)});Oe("dddd",function(e,t){return t.weekdaysRegex(e)});Ye(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);if(r!=null){t.d=r}else{p(n).invalidWeekday=e}});Ye(["d","e","E"],function(e,t,n,i){t[i]=E(e)});function Ct(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function Rt(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function It(e,t){return a(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Nt(e){return this._weekdaysShort[e.day()]}var Ft="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Bt(e){return this._weekdaysMin[e.day()]}function Ut(e,t,n){var i,r,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){a=f([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase()}}if(n){if(t==="dddd"){r=Xe.call(this._weekdaysParse,s);return r!==-1?r:null}else if(t==="ddd"){r=Xe.call(this._shortWeekdaysParse,s);return r!==-1?r:null}else{r=Xe.call(this._minWeekdaysParse,s);return r!==-1?r:null}}else{if(t==="dddd"){r=Xe.call(this._weekdaysParse,s);if(r!==-1){return r}r=Xe.call(this._shortWeekdaysParse,s);if(r!==-1){return r}r=Xe.call(this._minWeekdaysParse,s);return r!==-1?r:null}else if(t==="ddd"){r=Xe.call(this._shortWeekdaysParse,s);if(r!==-1){return r}r=Xe.call(this._weekdaysParse,s);if(r!==-1){return r}r=Xe.call(this._minWeekdaysParse,s);return r!==-1?r:null}else{r=Xe.call(this._minWeekdaysParse,s);if(r!==-1){return r}r=Xe.call(this._weekdaysParse,s);if(r!==-1){return r}r=Xe.call(this._shortWeekdaysParse,s);return r!==-1?r:null}}}function Pt(e,t,n){var i,r,a;if(this._weekdaysParseExact){return Ut.call(this,e,t,n)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){r=f([2e3,1]).day(i);if(n&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[i]){a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")}if(n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e)){return i}else if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e)){return i}else if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e)){return i}else if(!n&&this._weekdaysParse[i].test(e)){return i}}}function Yt(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=Ct(e,this.localeData());return this.add(e-t,"d")}else{return t}}function Ht(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=Rt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var Vt=De;function jt(e){if(this._weekdaysParseExact){if(!c(this,"_weekdaysRegex")){Kt.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!c(this,"_weekdaysRegex")){this._weekdaysRegex=Vt}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var zt=De;function $t(e){if(this._weekdaysParseExact){if(!c(this,"_weekdaysRegex")){Kt.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!c(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=zt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var qt=De;function Wt(e){if(this._weekdaysParseExact){if(!c(this,"_weekdaysRegex")){Kt.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!c(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=qt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Kt(){function e(e,t){return t.length-e.length}var t=[],n=[],i=[],r=[],a,s,o,l,u;for(a=0;a<7;a++){s=f([2e3,1]).day(a);o=this.weekdaysMin(s,"");l=this.weekdaysShort(s,"");u=this.weekdays(s,"");t.push(o);n.push(l);i.push(u);r.push(o);r.push(l);r.push(u)}t.sort(e);n.sort(e);i.sort(e);r.sort(e);for(a=0;a<7;a++){n[a]=Be(n[a]);i[a]=Be(i[a]);r[a]=Be(r[a])}this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(){return this.hours()||24}de("H",["HH",2],0,"hour");de("h",["hh",2],0,Jt);de("k",["kk",2],0,Xt);de("hmm",0,0,function(){return""+Jt.apply(this)+se(this.minutes(),2)});de("hmmss",0,0,function(){return""+Jt.apply(this)+se(this.minutes(),2)+se(this.seconds(),2)});de("Hmm",0,0,function(){return""+this.hours()+se(this.minutes(),2)});de("Hmmss",0,0,function(){return""+this.hours()+se(this.minutes(),2)+se(this.seconds(),2)});function Zt(e,t){de(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Zt("a",true);Zt("A",false);K("hour","h");Q("hour",13);function Qt(e,t){return t._meridiemParse}Oe("a",Qt);Oe("A",Qt);Oe("H",xe);Oe("h",xe);Oe("HH",xe,ge);Oe("hh",xe,ge);Oe("hmm",Se);Oe("hmmss",we);Oe("Hmm",Se);Oe("Hmmss",we);Pe(["H","HH"],ze);Pe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e);n._meridiem=e});Pe(["h","hh"],function(e,t,n){t[ze]=E(e);p(n).bigHour=true});Pe("hmm",function(e,t,n){var i=e.length-2;t[ze]=E(e.substr(0,i));t[$e]=E(e.substr(i));p(n).bigHour=true});Pe("hmmss",function(e,t,n){var i=e.length-4;var r=e.length-2;t[ze]=E(e.substr(0,i));t[$e]=E(e.substr(i,2));t[qe]=E(e.substr(r));p(n).bigHour=true});Pe("Hmm",function(e,t,n){var i=e.length-2;t[ze]=E(e.substr(0,i));t[$e]=E(e.substr(i))});Pe("Hmmss",function(e,t,n){var i=e.length-4;var r=e.length-2;t[ze]=E(e.substr(0,i));t[$e]=E(e.substr(i,2));t[qe]=E(e.substr(r))});function en(e){return(e+"").toLowerCase().charAt(0)==="p"}var tn=/[ap]\.?m?\.?/i;function nn(e,t,n){if(e>11){return n?"pm":"PM"}else{return n?"am":"AM"}}var rn=te("Hours",true);var an={calendar:F,longDateFormat:U,invalidDate:Y,ordinal:G,ordinalParse:V,relativeTime:z,months:et,monthsShort:nt,week:Et,weekdays:Dt,weekdaysMin:Ft,weekdaysShort:Ot,meridiemParse:tn};var sn={};var on;function ln(e){return e?e.toLowerCase().replace("_","-"):e}function un(e){var t=0,n,i,r,a;while(t<e.length){a=ln(e[t]).split("-");n=a.length;i=ln(e[t+1]);i=i?i.split("-"):null;while(n>0){r=cn(a.slice(0,n).join("-"));if(r){return r}if(i&&i.length>=n&&k(a,i,true)>=n-1){break}n--}t++}return null}function cn(t){var i=null;if(!sn[t]&&typeof e!=="undefined"&&e&&e.exports){try{i=on._abbr;n(546)("./"+t);dn(i)}catch(r){}}return sn[t]}function dn(e,t){var n;if(e){if(v(t)){n=pn(e)}else{n=fn(e,t)}if(n){on=n}}return on._abbr}function fn(e,t){if(t!==null){var n=an;t.abbr=e;if(sn[e]!=null){C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");n=sn[e]._config}else if(t.parentLocale!=null){if(sn[t.parentLocale]!=null){n=sn[t.parentLocale]._config}else{C("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")}}sn[e]=new O(I(n,t));dn(e);return sn[e]}else{delete sn[e];return null}}function hn(e,t){if(t!=null){var n,i=an;if(sn[e]!=null){i=sn[e]._config}t=I(i,t);n=new O(t);n.parentLocale=sn[e];sn[e]=n;dn(e)}else{if(sn[e]!=null){if(sn[e].parentLocale!=null){sn[e]=sn[e].parentLocale}else if(sn[e]!=null){delete sn[e]}}}return sn[e]}function pn(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return on}if(!a(e)){t=cn(e);if(t){return t}e=[e]}return un(e)}function mn(){return N(sn)}function _n(e){var t;var n=e._a;if(n&&p(e).overflow===-2){t=n[Ve]<0||n[Ve]>11?Ve:n[je]<1||n[je]>Ze(n[Ge],n[Ve])?je:n[ze]<0||n[ze]>24||n[ze]===24&&(n[$e]!==0||n[qe]!==0||n[We]!==0)?ze:n[$e]<0||n[$e]>59?$e:n[qe]<0||n[qe]>59?qe:n[We]<0||n[We]>999?We:-1;if(p(e)._overflowDayOfYear&&(t<Ge||t>je)){t=je}if(p(e)._overflowWeeks&&t===-1){t=Ke}if(p(e)._overflowWeekday&&t===-1){t=Je}p(e).overflow=t}return e}var gn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var vn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var bn=/Z|[+-]\d\d(?::?\d\d)?/;var yn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var xn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var Sn=/^\/?Date\((\-?\d+)/i;function wn(e){var t,n,i=e._i,r=gn.exec(i)||vn.exec(i),a,s,o,l;if(r){p(e).iso=true;for(t=0,n=yn.length;t<n;t++){if(yn[t][1].exec(r[1])){s=yn[t][0];a=yn[t][2]!==false;break}}if(s==null){e._isValid=false;return}if(r[3]){for(t=0,n=xn.length;t<n;t++){if(xn[t][1].exec(r[3])){o=(r[2]||" ")+xn[t][0];break}}if(o==null){e._isValid=false;return}}if(!a&&o!=null){e._isValid=false;return}if(r[4]){if(bn.exec(r[4])){l="Z"}else{e._isValid=false;return}}e._f=s+(o||"")+(l||"");Tn(e)}else{e._isValid=false}}function Ln(e){var t=Sn.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}wn(e);if(e._isValid===false){delete e._isValid;i.createFromInputFallback(e)}}i.createFromInputFallback=M("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function En(e,t,n){if(e!=null){return e}if(t!=null){return t}return n}function kn(e){var t=new Date(i.now());if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}return[t.getFullYear(),t.getMonth(),t.getDate()]}function An(e){var t,n,i=[],r,a;if(e._d){return}r=kn(e);if(e._w&&e._a[je]==null&&e._a[Ve]==null){Mn(e)}if(e._dayOfYear){a=En(e._a[Ge],r[Ge]);if(e._dayOfYear>pt(a)){p(e)._overflowDayOfYear=true}n=bt(a,0,e._dayOfYear);e._a[Ve]=n.getUTCMonth();e._a[je]=n.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=i[t]=r[t]}for(;t<7;t++){e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[ze]===24&&e._a[$e]===0&&e._a[qe]===0&&e._a[We]===0){e._nextDay=true;e._a[ze]=0}e._d=(e._useUTC?bt:vt).apply(null,i);if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[ze]=24}}function Mn(e){var t,n,i,r,a,s,o,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){a=1;s=4;n=En(t.GG,e._a[Ge],St(Bn(),1,4).year);i=En(t.W,1);r=En(t.E,1);if(r<1||r>7){l=true}}else{a=e._locale._week.dow;s=e._locale._week.doy;n=En(t.gg,e._a[Ge],St(Bn(),a,s).year);i=En(t.w,1);if(t.d!=null){r=t.d;if(r<0||r>6){l=true}}else if(t.e!=null){r=t.e+a;if(t.e<0||t.e>6){l=true}}else{r=a}}if(i<1||i>wt(n,a,s)){p(e)._overflowWeeks=true}else if(l!=null){p(e)._overflowWeekday=true}else{o=xt(n,i,r,a,s);e._a[Ge]=o.year;e._dayOfYear=o.dayOfYear}}i.ISO_8601=function(){};function Tn(e){if(e._f===i.ISO_8601){wn(e);return}e._a=[];p(e).empty=true;var t=""+e._i,n,r,a,s,o,l=t.length,u=0;a=me(e._f,e._locale).match(oe)||[];for(n=0;n<a.length;n++){s=a[n];r=(t.match(Ne(s,e))||[])[0];if(r){o=t.substr(0,t.indexOf(r));if(o.length>0){p(e).unusedInput.push(o)}t=t.slice(t.indexOf(r)+r.length);u+=r.length}if(ce[s]){if(r){p(e).empty=false}else{p(e).unusedTokens.push(s)}He(s,r,e)}else if(e._strict&&!r){p(e).unusedTokens.push(s)}}p(e).charsLeftOver=l-u;if(t.length>0){p(e).unusedInput.push(t)}if(e._a[ze]<=12&&p(e).bigHour===true&&e._a[ze]>0){p(e).bigHour=undefined}p(e).parsedDateParts=e._a.slice(0);p(e).meridiem=e._meridiem;e._a[ze]=Cn(e._locale,e._a[ze],e._meridiem);An(e);_n(e)}function Cn(e,t,n){var i;if(n==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,n)}else if(e.isPM!=null){i=e.isPM(n);if(i&&t<12){t+=12}if(!i&&t===12){t=0}return t}else{return t}}function Rn(e){var t,n,i,r,a;if(e._f.length===0){p(e).invalidFormat=true;e._d=new Date(NaN);return}for(r=0;r<e._f.length;r++){a=0;t=y({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[r];Tn(t);if(!_(t)){continue}a+=p(t).charsLeftOver;a+=p(t).unusedTokens.length*10;p(t).score=a;if(i==null||a<i){i=a;n=t}}d(e,n||t)}function Dn(e){if(e._d){return}var t=X(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});An(e)}function In(e){var t=new S(_n(On(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function On(e){var t=e._i,n=e._f;e._locale=e._locale||pn(e._l);if(t===null||n===undefined&&t===""){return g({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(w(t)){return new S(_n(t))}else if(a(n)){Rn(e)}else if(l(t)){e._d=t}else if(n){Tn(e)}else{Nn(e)}if(!_(e)){e._d=null}return e}function Nn(e){var t=e._i;if(t===undefined){e._d=new Date(i.now())}else if(l(t)){e._d=new Date(t.valueOf())}else if(typeof t==="string"){Ln(e)}else if(a(t)){e._a=u(t.slice(0),function(e){return parseInt(e,10)});An(e)}else if(typeof t==="object"){Dn(e)}else if(typeof t==="number"){e._d=new Date(t)}else{i.createFromInputFallback(e)}}function Fn(e,t,n,i,r){var l={};if(typeof n==="boolean"){i=n;n=undefined}if(s(e)&&o(e)||a(e)&&e.length===0){e=undefined}l._isAMomentObject=true;l._useUTC=l._isUTC=r;l._l=n;l._i=e;l._f=t;l._strict=i;return In(l)}function Bn(e,t,n,i){return Fn(e,t,n,i,false)}var Un=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return g()}});var Pn=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return g()}});function Yn(e,t){var n,i;if(t.length===1&&a(t[0])){t=t[0]}if(!t.length){return Bn()}n=t[0];for(i=1;i<t.length;++i){if(!t[i].isValid()||t[i][e](n)){n=t[i]}}return n}function Hn(){var e=[].slice.call(arguments,0);return Yn("isBefore",e)}function Gn(){var e=[].slice.call(arguments,0);return Yn("isAfter",e)}var Vn=function(){return Date.now?Date.now():+new Date};function jn(e){var t=X(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+u*1e3+l*6e4+o*1e3*60*60;this._days=+s+a*7;this._months=+r+i*3+n*12;this._data={};this._locale=pn();this._bubble()}function zn(e){return e instanceof jn}function $n(e,t){de(e,0,0,function(){var e=this.utcOffset();var n="+";if(e<0){e=-e;n="-"}return n+se(~~(e/60),2)+t+se(~~e%60,2)})}$n("Z",":");$n("ZZ","");Oe("Z",Ce);Oe("ZZ",Ce);Pe(["Z","ZZ"],function(e,t,n){n._useUTC=true;n._tzm=Wn(Ce,e)});var qn=/([\+\-]|\d\d)/gi;function Wn(e,t){var n=(t||"").match(e)||[];var i=n[n.length-1]||[];var r=(i+"").match(qn)||["-",0,0];var a=+(r[1]*60)+E(r[2]);return r[0]==="+"?a:-a}function Kn(e,t){var n,r;if(t._isUTC){n=t.clone();r=(w(e)||l(e)?e.valueOf():Bn(e).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+r);i.updateOffset(n,false);return n}else{return Bn(e).local()}}function Jn(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}i.updateOffset=function(){};function Xn(e,t){var n=this._offset||0,r;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=Wn(Ce,e)}else if(Math.abs(e)<16){e=e*60}if(!this._isUTC&&t){r=Jn(this)}this._offset=e;this._isUTC=true;if(r!=null){this.add(r,"m")}if(n!==e){if(!t||this._changeInProgress){_i(this,ci(e-n,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;i.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?n:Jn(this)}}function Zn(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function Qn(e){return this.utcOffset(0,e)}function ei(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(Jn(this),"m")}}return this}function ti(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(Wn(Te,this._i))}return this}function ni(e){if(!this.isValid()){return false}e=e?Bn(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function ii(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ri(){if(!v(this._isDSTShifted)){return this._isDSTShifted}var e={};y(e,this);e=On(e);if(e._a){var t=e._isUTC?f(e._a):Bn(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function ai(){return this.isValid()?!this._isUTC:false}function si(){return this.isValid()?this._isUTC:false}function oi(){return this.isValid()?this._isUTC&&this._offset===0:false}var li=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/;var ui=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function ci(e,t){var n=e,i=null,r,a,s;if(zn(e)){n={ms:e._milliseconds,d:e._days,M:e._months}}else if(typeof e==="number"){n={};if(t){n[t]=e}else{n.milliseconds=e}}else if(!!(i=li.exec(e))){r=i[1]==="-"?-1:1;n={y:0,d:E(i[je])*r,h:E(i[ze])*r,m:E(i[$e])*r,s:E(i[qe])*r,ms:E(i[We])*r}}else if(!!(i=ui.exec(e))){r=i[1]==="-"?-1:1;n={y:di(i[2],r),M:di(i[3],r),w:di(i[4],r),d:di(i[5],r),h:di(i[6],r),m:di(i[7],r),s:di(i[8],r)}}else if(n==null){n={}}else if(typeof n==="object"&&("from"in n||"to"in n)){s=hi(Bn(n.from),Bn(n.to));n={};n.ms=s.milliseconds;n.M=s.months}a=new jn(n);if(zn(e)&&c(e,"_locale")){a._locale=e._locale}return a}ci.fn=jn.prototype;function di(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function fi(e,t){var n={milliseconds:0,months:0};n.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(n.months,"M").isAfter(t)){--n.months}n.milliseconds=+t-+e.clone().add(n.months,"M");return n}function hi(e,t){var n;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=Kn(t,e);if(e.isBefore(t)){n=fi(e,t)}else{n=fi(t,e);n.milliseconds=-n.milliseconds;n.months=-n.months}return n}function pi(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function mi(e,t){return function(n,i){var r,a;if(i!==null&&!isNaN(+i)){C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");a=n;n=i;i=a}n=typeof n==="string"?+n:n;r=ci(n,i);_i(this,r,e);return this}}function _i(e,t,n,r){var a=t._milliseconds,s=pi(t._days),o=pi(t._months);if(!e.isValid()){return}r=r==null?true:r;if(a){e._d.setTime(e._d.valueOf()+a*n)}if(s){ie(e,"Date",ne(e,"Date")+s*n)}if(o){st(e,ne(e,"Month")+o*n)}if(r){i.updateOffset(e,s||o)}}var gi=mi(1,"add");var vi=mi(-1,"subtract");function bi(e,t){var n=e.diff(t,"days",true);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function yi(e,t){var n=e||Bn(),r=Kn(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse";var s=t&&(R(t[a])?t[a].call(this,n):t[a]);return this.format(s||this.localeData().calendar(a,this,Bn(n)))}function xi(){return new S(this)}function Si(e,t){var n=w(e)?e:Bn(e);if(!(this.isValid()&&n.isValid())){return false}t=J(!v(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()>n.valueOf()}else{return n.valueOf()<this.clone().startOf(t).valueOf()}}function wi(e,t){var n=w(e)?e:Bn(e);if(!(this.isValid()&&n.isValid())){return false}t=J(!v(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()<n.valueOf()}else{return this.clone().endOf(t).valueOf()<n.valueOf()}}function Li(e,t,n,i){i=i||"()";return(i[0]==="("?this.isAfter(e,n):!this.isBefore(e,n))&&(i[1]===")"?this.isBefore(t,n):!this.isAfter(t,n))}function Ei(e,t){var n=w(e)?e:Bn(e),i;if(!(this.isValid()&&n.isValid())){return false}t=J(t||"millisecond");if(t==="millisecond"){return this.valueOf()===n.valueOf()}else{i=n.valueOf();return this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()}}function ki(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ai(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Mi(e,t,n){var i,r,a,s;if(!this.isValid()){return NaN}i=Kn(e,this);if(!i.isValid()){return NaN}r=(i.utcOffset()-this.utcOffset())*6e4;t=J(t);if(t==="year"||t==="month"||t==="quarter"){s=Ti(this,i);if(t==="quarter"){s=s/3}else if(t==="year"){s=s/12}}else{a=this-i;s=t==="second"?a/1e3:t==="minute"?a/6e4:t==="hour"?a/36e5:t==="day"?(a-r)/864e5:t==="week"?(a-r)/6048e5:a}return n?s:L(s)}function Ti(e,t){var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),r,a;if(t-i<0){r=e.clone().add(n-1,"months");a=(t-i)/(i-r)}else{r=e.clone().add(n+1,"months");a=(t-i)/(r-i)}return-(n+a)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ci(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ri(){var e=this.clone().utc();if(0<e.year()&&e.year()<=9999){if(R(Date.prototype.toISOString)){return this.toDate().toISOString()}else{return pe(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return pe(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function Di(e){if(!e){e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat}var t=pe(this,e);return this.localeData().postformat(t)}function Ii(e,t){if(this.isValid()&&(w(e)&&e.isValid()||Bn(e).isValid())){return ci({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Oi(e){return this.from(Bn(),e)}function Ni(e,t){if(this.isValid()&&(w(e)&&e.isValid()||Bn(e).isValid())){return ci({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Fi(e){return this.to(Bn(),e)}function Bi(e){var t;if(e===undefined){return this._locale._abbr}else{t=pn(e);if(t!=null){this._locale=t}return this}}var Ui=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function Pi(){return this._locale}function Yi(e){e=J(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":
this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function Hi(e){e=J(e);if(e===undefined||e==="millisecond"){return this}if(e==="date"){e="day"}return this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function Gi(){return this._d.valueOf()-(this._offset||0)*6e4}function Vi(){return Math.floor(this.valueOf()/1e3)}function ji(){return new Date(this.valueOf())}function zi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function qi(){return this.isValid()?this.toISOString():null}function Wi(){return _(this)}function Ki(){return d({},p(this))}function Ji(){return p(this).overflow}function Xi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}de(0,["gg",2],0,function(){return this.weekYear()%100});de(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Zi(e,t){de(0,[e,e.length],0,t)}Zi("gggg","weekYear");Zi("ggggg","weekYear");Zi("GGGG","isoWeekYear");Zi("GGGGG","isoWeekYear");K("weekYear","gg");K("isoWeekYear","GG");Q("weekYear",1);Q("isoWeekYear",1);Oe("G",Me);Oe("g",Me);Oe("GG",xe,ge);Oe("gg",xe,ge);Oe("GGGG",Ee,be);Oe("gggg",Ee,be);Oe("GGGGG",ke,ye);Oe("ggggg",ke,ye);Ye(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=E(e)});Ye(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)});function Qi(e){return ir.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function er(e){return ir.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function tr(){return wt(this.year(),1,4)}function nr(){var e=this.localeData()._week;return wt(this.year(),e.dow,e.doy)}function ir(e,t,n,i,r){var a;if(e==null){return St(this,i,r).year}else{a=wt(e,i,r);if(t>a){t=a}return rr.call(this,e,t,n,i,r)}}function rr(e,t,n,i,r){var a=xt(e,t,n,i,r),s=bt(a.year,0,a.dayOfYear);this.year(s.getUTCFullYear());this.month(s.getUTCMonth());this.date(s.getUTCDate());return this}de("Q",0,"Qo","quarter");K("quarter","Q");Q("quarter",7);Oe("Q",_e);Pe("Q",function(e,t){t[Ve]=(E(e)-1)*3});function ar(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}de("D",["DD",2],"Do","date");K("date","D");Q("date",9);Oe("D",xe);Oe("DD",xe,ge);Oe("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient});Pe(["D","DD"],je);Pe("Do",function(e,t){t[je]=E(e.match(xe)[0],10)});var sr=te("Date",true);de("DDD",["DDDD",3],"DDDo","dayOfYear");K("dayOfYear","DDD");Q("dayOfYear",4);Oe("DDD",Le);Oe("DDDD",ve);Pe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=E(e)});function or(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}de("m",["mm",2],0,"minute");K("minute","m");Q("minute",14);Oe("m",xe);Oe("mm",xe,ge);Pe(["m","mm"],$e);var lr=te("Minutes",false);de("s",["ss",2],0,"second");K("second","s");Q("second",15);Oe("s",xe);Oe("ss",xe,ge);Pe(["s","ss"],qe);var ur=te("Seconds",false);de("S",0,0,function(){return~~(this.millisecond()/100)});de(0,["SS",2],0,function(){return~~(this.millisecond()/10)});de(0,["SSS",3],0,"millisecond");de(0,["SSSS",4],0,function(){return this.millisecond()*10});de(0,["SSSSS",5],0,function(){return this.millisecond()*100});de(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});de(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});de(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});de(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});K("millisecond","ms");Q("millisecond",16);Oe("S",Le,_e);Oe("SS",Le,ge);Oe("SSS",Le,ve);var cr;for(cr="SSSS";cr.length<=9;cr+="S"){Oe(cr,Ae)}function dr(e,t){t[We]=E(("0."+e)*1e3)}for(cr="S";cr.length<=9;cr+="S"){Pe(cr,dr)}var fr=te("Milliseconds",false);de("z",0,0,"zoneAbbr");de("zz",0,0,"zoneName");function hr(){return this._isUTC?"UTC":""}function pr(){return this._isUTC?"Coordinated Universal Time":""}var mr=S.prototype;mr.add=gi;mr.calendar=yi;mr.clone=xi;mr.diff=Mi;mr.endOf=Hi;mr.format=Di;mr.from=Ii;mr.fromNow=Oi;mr.to=Ni;mr.toNow=Fi;mr.get=re;mr.invalidAt=Ji;mr.isAfter=Si;mr.isBefore=wi;mr.isBetween=Li;mr.isSame=Ei;mr.isSameOrAfter=ki;mr.isSameOrBefore=Ai;mr.isValid=Wi;mr.lang=Ui;mr.locale=Bi;mr.localeData=Pi;mr.max=Pn;mr.min=Un;mr.parsingFlags=Ki;mr.set=ae;mr.startOf=Yi;mr.subtract=vi;mr.toArray=zi;mr.toObject=$i;mr.toDate=ji;mr.toISOString=Ri;mr.toJSON=qi;mr.toString=Ci;mr.unix=Vi;mr.valueOf=Gi;mr.creationData=Xi;mr.year=_t;mr.isLeapYear=gt;mr.weekYear=Qi;mr.isoWeekYear=er;mr.quarter=mr.quarters=ar;mr.month=ot;mr.daysInMonth=lt;mr.week=mr.weeks=Mt;mr.isoWeek=mr.isoWeeks=Tt;mr.weeksInYear=nr;mr.isoWeeksInYear=tr;mr.date=sr;mr.day=mr.days=Yt;mr.weekday=Ht;mr.isoWeekday=Gt;mr.dayOfYear=or;mr.hour=mr.hours=rn;mr.minute=mr.minutes=lr;mr.second=mr.seconds=ur;mr.millisecond=mr.milliseconds=fr;mr.utcOffset=Xn;mr.utc=Qn;mr.local=ei;mr.parseZone=ti;mr.hasAlignedHourOffset=ni;mr.isDST=ii;mr.isLocal=ai;mr.isUtcOffset=si;mr.isUtc=oi;mr.isUTC=oi;mr.zoneAbbr=hr;mr.zoneName=pr;mr.dates=M("dates accessor is deprecated. Use date instead.",sr);mr.months=M("months accessor is deprecated. Use month instead",ot);mr.years=M("years accessor is deprecated. Use year instead",_t);mr.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Zn);mr.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ri);var _r=mr;function gr(e){return Bn(e*1e3)}function vr(){return Bn.apply(null,arguments).parseZone()}function br(e){return e}var yr=O.prototype;yr.calendar=B;yr.longDateFormat=P;yr.invalidDate=H;yr.ordinal=j;yr.preparse=br;yr.postformat=br;yr.relativeTime=$;yr.pastFuture=q;yr.set=D;yr.months=tt;yr.monthsShort=it;yr.monthsParse=at;yr.monthsRegex=ft;yr.monthsShortRegex=ct;yr.week=Lt;yr.firstDayOfYear=At;yr.firstDayOfWeek=kt;yr.weekdays=It;yr.weekdaysMin=Bt;yr.weekdaysShort=Nt;yr.weekdaysParse=Pt;yr.weekdaysRegex=jt;yr.weekdaysShortRegex=$t;yr.weekdaysMinRegex=Wt;yr.isPM=en;yr.meridiem=nn;function xr(e,t,n,i){var r=pn();var a=f().set(i,t);return r[n](a,e)}function Sr(e,t,n){if(typeof e==="number"){t=e;e=undefined}e=e||"";if(t!=null){return xr(e,t,n,"month")}var i;var r=[];for(i=0;i<12;i++){r[i]=xr(e,i,n,"month")}return r}function wr(e,t,n,i){if(typeof e==="boolean"){if(typeof t==="number"){n=t;t=undefined}t=t||""}else{t=e;n=t;e=false;if(typeof t==="number"){n=t;t=undefined}t=t||""}var r=pn(),a=e?r._week.dow:0;if(n!=null){return xr(t,(n+a)%7,i,"day")}var s;var o=[];for(s=0;s<7;s++){o[s]=xr(t,(s+a)%7,i,"day")}return o}function Lr(e,t){return Sr(e,t,"months")}function Er(e,t){return Sr(e,t,"monthsShort")}function kr(e,t,n){return wr(e,t,n,"weekdays")}function Ar(e,t,n){return wr(e,t,n,"weekdaysShort")}function Mr(e,t,n){return wr(e,t,n,"weekdaysMin")}dn("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=E(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});i.lang=M("moment.lang is deprecated. Use moment.locale instead.",dn);i.langData=M("moment.langData is deprecated. Use moment.localeData instead.",pn);var Tr=Math.abs;function Cr(){var e=this._data;this._milliseconds=Tr(this._milliseconds);this._days=Tr(this._days);this._months=Tr(this._months);e.milliseconds=Tr(e.milliseconds);e.seconds=Tr(e.seconds);e.minutes=Tr(e.minutes);e.hours=Tr(e.hours);e.months=Tr(e.months);e.years=Tr(e.years);return this}function Rr(e,t,n,i){var r=ci(t,n);e._milliseconds+=i*r._milliseconds;e._days+=i*r._days;e._months+=i*r._months;return e._bubble()}function Dr(e,t){return Rr(this,e,t,1)}function Ir(e,t){return Rr(this,e,t,-1)}function Or(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function Nr(){var e=this._milliseconds;var t=this._days;var n=this._months;var i=this._data;var r,a,s,o,l;if(!(e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0)){e+=Or(Br(n)+t)*864e5;t=0;n=0}i.milliseconds=e%1e3;r=L(e/1e3);i.seconds=r%60;a=L(r/60);i.minutes=a%60;s=L(a/60);i.hours=s%24;t+=L(s/24);l=L(Fr(t));n+=l;t-=Or(Br(l));o=L(n/12);n%=12;i.days=t;i.months=n;i.years=o;return this}function Fr(e){return e*4800/146097}function Br(e){return e*146097/4800}function Ur(e){var t;var n;var i=this._milliseconds;e=J(e);if(e==="month"||e==="year"){t=this._days+i/864e5;n=this._months+Fr(t);return e==="month"?n:n/12}else{t=this._days+Math.round(Br(this._months));switch(e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}}function Pr(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+E(this._months/12)*31536e6}function Yr(e){return function(){return this.as(e)}}var Hr=Yr("ms");var Gr=Yr("s");var Vr=Yr("m");var jr=Yr("h");var zr=Yr("d");var $r=Yr("w");var qr=Yr("M");var Wr=Yr("y");function Kr(e){e=J(e);return this[e+"s"]()}function Jr(e){return function(){return this._data[e]}}var Xr=Jr("milliseconds");var Zr=Jr("seconds");var Qr=Jr("minutes");var ea=Jr("hours");var ta=Jr("days");var na=Jr("months");var ia=Jr("years");function ra(){return L(this.days()/7)}var aa=Math.round;var sa={s:45,m:45,h:22,d:26,M:11};function oa(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function la(e,t,n){var i=ci(e).abs();var r=aa(i.as("s"));var a=aa(i.as("m"));var s=aa(i.as("h"));var o=aa(i.as("d"));var l=aa(i.as("M"));var u=aa(i.as("y"));var c=r<sa.s&&["s",r]||a<=1&&["m"]||a<sa.m&&["mm",a]||s<=1&&["h"]||s<sa.h&&["hh",s]||o<=1&&["d"]||o<sa.d&&["dd",o]||l<=1&&["M"]||l<sa.M&&["MM",l]||u<=1&&["y"]||["yy",u];c[2]=t;c[3]=+e>0;c[4]=n;return oa.apply(null,c)}function ua(e){if(e===undefined){return aa}if(typeof e==="function"){aa=e;return true}return false}function ca(e,t){if(sa[e]===undefined){return false}if(t===undefined){return sa[e]}sa[e]=t;return true}function da(e){var t=this.localeData();var n=la(this,!e,t);if(e){n=t.pastFuture(+this,n)}return t.postformat(n)}var fa=Math.abs;function ha(){var e=fa(this._milliseconds)/1e3;var t=fa(this._days);var n=fa(this._months);var i,r,a;i=L(e/60);r=L(i/60);e%=60;i%=60;a=L(n/12);n%=12;var s=a;var o=n;var l=t;var u=r;var c=i;var d=e;var f=this.asSeconds();if(!f){return"P0D"}return(f<0?"-":"")+"P"+(s?s+"Y":"")+(o?o+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":"")}var pa=jn.prototype;pa.abs=Cr;pa.add=Dr;pa.subtract=Ir;pa.as=Ur;pa.asMilliseconds=Hr;pa.asSeconds=Gr;pa.asMinutes=Vr;pa.asHours=jr;pa.asDays=zr;pa.asWeeks=$r;pa.asMonths=qr;pa.asYears=Wr;pa.valueOf=Pr;pa._bubble=Nr;pa.get=Kr;pa.milliseconds=Xr;pa.seconds=Zr;pa.minutes=Qr;pa.hours=ea;pa.days=ta;pa.weeks=ra;pa.months=na;pa.years=ia;pa.humanize=da;pa.toISOString=ha;pa.toString=ha;pa.toJSON=ha;pa.locale=Bi;pa.localeData=Pi;pa.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ha);pa.lang=Ui;de("X",0,0,"unix");de("x",0,0,"valueOf");Oe("x",Me);Oe("X",Re);Pe("X",function(e,t,n){n._d=new Date(parseFloat(e,10)*1e3)});Pe("x",function(e,t,n){n._d=new Date(E(e))});i.version="2.14.1";r(Bn);i.fn=_r;i.min=Hn;i.max=Gn;i.now=Vn;i.utc=f;i.unix=gr;i.months=Lr;i.isDate=l;i.locale=dn;i.invalid=g;i.duration=ci;i.isMoment=w;i.weekdays=kr;i.parseZone=vr;i.localeData=pn;i.isDuration=zn;i.monthsShort=Er;i.weekdaysMin=Mr;i.defineLocale=fn;i.updateLocale=hn;i.locales=mn;i.weekdaysShort=Ar;i.normalizeUnits=J;i.relativeTimeRounding=ua;i.relativeTimeThreshold=ca;i.calendarFormat=bi;i.prototype=_r;var ma=i;return ma})}).call(t,n(46)(e))},function(e,t,n){"use strict";var i=SUGAR.App;var r;r=e.exports={showAlert:function a(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.title,r=n===undefined?i.lang.get("LBL_WARNING"):n,a=t.buttonLabels,s=a===undefined?i.lang.get("LBL_OK"):a,o=t.callback;this._showAlert(e,o,r,s)},showConfirm:function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.title,r=n===undefined?i.lang.get("LBL_CONFIRM"):n,a=t.buttonLabels,s=a===undefined?[i.lang.get("LBL_NO"),i.lang.get("LBL_YES")]:a,o=t.callback;this._showConfirm(e,o,r,s)},showActionSheet:function o(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_.defaults(t,{title:""});this._showActionSheet(e,t)},_showGATrackedActionSheet:function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=_.pluck(e,"googleAnalyticsName");var r=_.pluck(e,"name");var a=t.gaParams||{category:"click",value:0};t.onSelectCb=_.wrap(t.onSelectCb,function(e,t){i.analytics.trackEvent(_.extend({},a,{action:n[t]}));return e(t)});this.showActionSheet(r,_.omit(t,"gaParams"))},showPrompt:function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_.defaults(t,{title:i.lang.get("LBL_CONFIRM"),defaultText:"",inputStyle:1,buttonLabels:[i.lang.get("LBL_CANCEL_BUTTON_LABEL"),i.lang.get("LBL_OK")],callback:function n(){}});this._showPrompt(e,t)}};if(true){_.extend(r,n(346))}else{_.extend(r,require("%app.js%/native/dialog"))}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=i.view.NomadField=r.declareComponent(i.view.Field,{events:{"focusin.base-field input":"_onFocus","touchstart.base-field select":"_onFocus"},viewFallbackMap:{view:"disabled",edit:"disabled",about:"disabled",settings:"edit"},initialize:function s(e){this._super(e);if(e.view.name==="edit"&&(Boolean(this.def.calculated)&&Boolean(this.def.enforced)||Boolean(this.def.readonly))){this.action="disabled"}},_onFocus:function o(){var e={animate:false};i.alert.dismissAll(false,e)},delegateEvents:function l(e){if(_.isFunction(e||this.events)){Backbone.View.prototype.delegateEvents.call(this,e)}else{this._super(e)}},handleValidationError:function u(e){this._displayValidationMessage(e)},_displayValidationMessage:function c(e){var t;var n=[];var r=this.$(".field");r.children(".field__error-message").remove();r.removeClass("error");if(e){this.$(".field").addClass("error");_.each(e,function(e,t){n.push(i.error.getErrorString(t,e))});t=i.template.get("edit-field-error");r.append(t(n))}i.analytics.trackEvent({category:"validation",action:this.name})},_render:function d(){this.onBeforeRender();i.view.Field.prototype._render.call(this);this.onAfterRender();this.hasAccess=this.getAccess();return this},_getFallbackTemplate:function f(e){if(e==="disabled"){return"readonly"}else{return i.view.Field.prototype._getFallbackTemplate.apply(this,arguments)}},getAccess:function h(){var e=this.options.def.view||this.options.viewName||(this.view.meta&&this.view.meta.type?this.view.meta.type:this.view.name);var t=e!==this.view.action?this.view.action:e;return i.acl.hasAccessToModel(t,this.model,this.name)},onBeforeRender:function p(){if(this.view.name==="edit"&&this.getAccess()&&!this.isDisabled()){this.action="edit"}},onAfterRender:function m(){},format:function g(e){return this._super(e)},unformat:function v(e){return _.isString(e)?e.trim():e},bindDomChange:function b(){if(!(this.model instanceof Backbone.Model))return;var e=this.$el.find(this.fieldTag);e.on("change",_.bind(this.onFieldChange,this));this._$fieldEl=e},onFieldChange:function y(){this.model.set(this.name,this.unformat(this._$fieldEl.val()))},bindDataChange:function x(){if(this.model){this.model.on("change:"+this.name,function(e,t,n){if(n&&n.disableRenderForContext===this.view){return false}this.render()},this)}},setRequired:function S(e){this.def=i.utils.deepCopy(this.def);this.def.required=e;this.render()},isRequired:function w(){return this.def.required}});i.nomad.registerComponent({cmp:a,baseType:"text"});e.exports=a},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s;s=e.exports={scanBarcode:function o(e,t,n){window.cordova.plugins.barcodeScanner.scan(e,t,n)},encodeBarcode:function l(e,t,n,i){window.cordova.plugins.barcodeScanner.encode(e.toUpperCase()+"_TYPE",t,n,i)},sendEmail:function u(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.subject,s=r===undefined?"":r,o=n.body,l=o===undefined?"":o;if(e.length>1){a.showActionSheet(e,{title:i.lang.get("LBL_MOBILE_CHOOSE_RECIPIENT"),onSelectCb:function u(n){return t._showEmailComposer(e[n],s,l)}})}else{this._showEmailComposer(e[0],s,l)}},sendConsoleLog:function c(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.email,r=n===undefined?i.config.about.supportEmail:n,a=t.subject,s=a===undefined?"":a,o=t.body,l=o===undefined?"":o;this._getConsoleLogFilename(function(t){e._showEmailComposer(r,s,l,t)})},shareRecord:function d(e){var t=i.nomad.utils.resolveUrl(i.config.siteUrl,window.location.href)+"#"+i.router.buildRoute(e.get("_module"),e.get("id"));var n={url:t,appId:i.config.brandName,module:r.getSingularModuleName(e.module),name:e.get("name")};n.subject=i.lang.get("TPL_RECORD_SHARE_SUBJECT",null,n);n.body=i.lang.get("TPL_RECORD_SHARE_BODY",null,n);this._share(n)},shareUrl:function f(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t.url=e;t.shareLabel=i.lang.get("LBL_RECORD_SHARE_BUTTON");this._share(t)},sendSms:function h(e,t){var n=this;if(_.isArray(e)&&e.length>1){var r=i.lang.get("LBL_MOBILE_CHOOSE_PHONE");var s=this._buildNamedList(e);a.showActionSheet(s,{title:r,onSelectCb:function o(i){return n._showSmsComposer(n._extractValue(e,i),t)}})}else{this._showSmsComposer(this._extractValue(e),t)}},callPhone:function p(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(n.model){_.extend(n,{module:n.model.module,recordId:n.model.id,recordName:n.model.get("name")})}if(_.isArray(e)&&e.length>1){var r=this._buildNamedList(e);a.showActionSheet(r,{title:i.lang.get("LBL_MOBILE_CHOOSE_PHONE"),onSelectCb:function s(r){i.telephony.callPhone(t._extractValue(e,r),n)}})}else{i.telephony.callPhone(this._extractValue(e),n)}},openUrl:function m(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},s=n.encode,o=s===undefined?false:s;if(_.isArray(e)&&e.length>1){var l=_.map(e,function(e){return _.keys(e)[0]});a.showActionSheet(l,{title:i.lang.get("LBL_MOBILE_CHOOSE_URL"),onSelectCb:function u(n){return t._browseUrl(r.utils._normalizeUrl(t._extractValue(e,n),o))}})}else{this._browseUrl(r.utils._normalizeUrl(this._extractValue(e),o))}},openWebPage:function g(e){this._browseWebPage(e)},showDateTimePicker:function v(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.mode,i=n===undefined?"showDatePicker":n,r=t.callback;this._showDateTimePicker(e,i,r)},openDoc:function b(e){var t=this;if(_.isArray(e)&&e.length>1){var n=_.map(e,function(e,t,n){return i.nomad.utils.replaceGuid(_.keys(e)[0],i.lang.get("LBL_MOBILE_DOC")+" "+(t+1))});a.showActionSheet(n,{title:i.lang.get("LBL_MOBILE_CHOOSE_DOC"),onSelectCb:function r(n){return t._openDocWorker(e,n)}})}else{this._openDocWorker(e)}},removeCachedDoc:function y(e){this._removeCachedDoc(e)},openAddress:function x(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=i.clientInfo.device;var r=!n.ios||n.ios&&!i.isNative?"g":"a";var s=t.showDirections;if(t.addresses){if(_.isArray(t.addresses)&&t.addresses.length>1){var o=_.map(t.addresses,function(e){return _.keys(e)[0]});a.showActionSheet(o,{title:i.lang.get("LBL_MOBILE_CHOOSE_LOCATION"),onSelectCb:function l(n){e._openMap(e._extractValue(t.addresses,n),r)}})}else{this._openMap(this._extractValue(t.addresses),r,s)}}else{this._openMapWithGeoLocation(t.location,r,s)}},registerForPushNotifications:function S(){this._registerForPushNotifications()},sendLocalNotification:function w(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.title=e.title||i.config.brandName;this._sendLocalNotification(e)},startMobileDeviceManagement:function L(e){this._startMobileDeviceManagement(e)},getManagedConfig:function E(e){this._getManagedConfig(e)},getImportedFileInfo:function k(e){this._getImportedFileInfo(e)},_openDocWorker:function A(e,t){var n=_.clone(this._extractValue(e,t));var a=r.utils._normalizeUrl(n.url);n.url=a.replace("{download_token}",i.api.getDownloadToken()).replace("{oauth_token}",i.api.getOAuthToken());this._flushCacheUrl(n);n.openExternally?this._browseUrl(n.url):this._browseDoc(n)},_flushCacheUrl:function M(e){if(_.has(e,"noCache")&&!e.noCache){return}var t=e.url.split("#")[0];var n=[t,t.indexOf("?")!==-1?"&":"?","__ts=",+new Date];e.noCache=false;e.url=n.join("")},_openMap:function T(e,t,n){var r="";var a=t==="a"?"maps.apple.com":"maps.google.com";if(!e){e=""}else{var s="";if(e.country&&_.isString(e.country)){s=e.country.replace(/\s?\,\s?/g,",");if(/ of$/.test(s)||/ of the$/.test(s)){var o=s.split(",");s=o[o.length-1];for(var l=0;l<o.length-1;l++){s=s.concat(" "+o[l])}}else{s=e.country.replace(/\,/g,"")}}e=_.compact([e.street,e.city,e.state,e.postalcode,s]).join(",")}if(n){r="http://"+a+"/?saddr="+encodeURI("Current Location")+"&daddr="+encodeURI(e)}else{r="http://"+a+"/maps?q="+encodeURI(e)}i.logger.debug("Opening map: "+r);this._browseUrl(r)},_openMapWithGeoLocation:function C(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var r="";var s=t==="a"?"maps.apple.com":"maps.google.com";var o=new RegExp("^[-+]?([1-8]?\\d(.\\d+)?|90(\\.0+)?)$");var l=new RegExp("^[-+]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)$");if(!o.test(e.latitude)||!l.test(e.longitude)){a.showAlert(i.lang.get("ERR_GEOLOCATION_INVALID_COORDINATES_MSG"));return}e=_.compact([e.latitude,e.longitude]).join(",");if(n){r="http://"+s+"/?saddr="+encodeURI("Current Location")+"&daddr="+encodeURI(e)}else{r="http://"+s+"/maps?q="+encodeURI(e)}i.logger.debug("Opening map: "+r);this._browseUrl(r)},_extractValue:function R(e,t){t=t||0;return _.isString(e)?e:_.values(e[t])[0]||e[t].value||e[t]},_buildNamedList:function D(e){return _.map(e,function(e){return _.keys(e)[0]+" - "+_.values(e)[0]})},redirectToNativeApp:function I(){s._redirectToNativeApp()}};if(true){_.extend(s,n(345))}else{_.extend(s,require("%app.js%/native/device"))}if(window.JASMINE){_.extend(r,s)}},function(e,t,n){"use strict";var i=n(32);var r=n(43);var a=n(44);function s(){return(this.get("fetch")===void 0||this.get("fetch"))&&!this.isDataFetched()&&!this.get("create")}var o=Backbone.Model.extend({initialize:function l(e){Backbone.Model.prototype.initialize.call(this,e);this.id=this.cid;this.parent=null;this.children=[];this._fetchCalled=false},clear:function u(e){var t=this.get("collection");if(t){t.abortFetchRequest()}_.each(this.children,function(t){t.clear(e)});this.children=[];this.parent=null;_.each(this.attributes,function(e){if(e&&e.off===Backbone.Events.off){e.off();e.stopListening();if(_.isFunction(e.dispose)){e.dispose()}}},this);this.off();Backbone.Model.prototype.clear.call(this,e);this.resetLoadFlag()},resetLoadFlag:function c(e){if(_.isBoolean(e)){SUGAR.App.logger.warn("`Core.Context#resetLoadFlag` has changed signature since 7.8 "+"and will drop support for old signature in 7.9. Please update your code.");e={recursive:e}}e=e||{};var t=_.isUndefined(e.recursive)?true:e.recursive;var n=_.isUndefined(e.resetModel)?true:e.resetModel;var i=_.isUndefined(e.resetCollection)?true:e.resetCollection;this._fetchCalled=false;if(this.get("model")&&n){this.get("model").dataFetched=false}if(this.get("collection")&&i){this.get("collection").dataFetched=false}if(t){_.each(this.children,function(e){e.resetLoadFlag()})}},isCreate:function d(){return this.get("create")===true},getChildContext:function f(e){e=e||{};var t;var n=e.forceNew||false;delete e.forceNew;var i=e.cid||e.name||e.link||e.module;if(i&&!n){t=_.find(this.children,function(e){return e.cid==i||e.get("link")==i||e.get("module")==i})}if(!t){e=_.extend({fetch:this.get("fetch")},e);t=new o(e);this.children.push(t);t.parent=this}if(e.link){var r=this.get("model");t.set({parentModel:r,parentModule:r?r.module:null})}else if(!e.module){t.set({module:this.get("module")})}this.trigger("context:child:add",t);return t},prepare:function h(e,t){var n;if(e||!this.get("model")&&!this.get("collection")){var i=this.get("modelId");var r=this.get("create");n=this.get("link");this.set(n?this._prepareRelated(n,i,r):this._prepare(i,r))}if((e||!this._relatedCollectionsPopulated)&&(!n||t)){this._populateRelatedContexts()}return this},setFetch:function p(e,t){t=t||{};this.set("fetch",e);var n=t.recursive===void 0?true:t.recursive;if(n){_.each(this.children,function(t){t.setFetch(e)})}},_prepare:function m(e,t){var n,i,r=this.get("module"),s=this.get("mixed"),o;if(e){n=a.createBean(r,{id:e});o=[n]}else if(t===true){n=a.createBean(r);o=[n]}else{n=a.createBean(r)}i=s===true?a.createMixedBeanCollection(o):a.createBeanCollection(r,o);return{collection:i,model:n}},_prepareRelated:function g(e,t,n){var i,r,s=this.get("parentModel");s=s||a.createBean(this.get("parentModule"),{id:this.get("parentModelId")});if(t){i=a.createRelatedBean(s,t,e);r=a.createRelatedCollection(s,e,[i])}else if(n===true){i=a.createRelatedBean(s,null,e);r=a.createRelatedCollection(s,e,[i])}else{i=a.createRelatedBean(s,null,e);r=a.createRelatedCollection(s,e)}if(!this.has("parentModule")){this.set({parentModule:s.module},{silent:true})}if(!this.has("module")){this.set({module:i.module},{silent:true})}return{parentModel:s,collection:r,model:i}},addFields:function v(e){if(!e){return}var t=_.union(e,this.get("fields")||[]);return this.set("fields",t)},loadData:function b(e){e=e||{};if(!e.forceFetch&&!s.call(this)){return}delete e.forceFetch;var t,n=this.get("modelId"),a=this.get("module"),o=SUGAR.App.config.orderByDefaults&&a?SUGAR.App.config.orderByDefaults[a]:null;t=n?this.get("model"):this.get("collection");if(o&&t instanceof r&&!t.orderBy){t.orderBy=o}if(t&&(t instanceof i||t instanceof r)){if(this.get("dataView")&&_.isString(this.get("dataView"))){t.setOption("view",this.get("dataView"))}if(this.get("fields")){t.setOption("fields",this.get("fields"))}if(this.get("limit")){t.setOption("limit",this.get("limit"))}if(this.get("module_list")){t.setOption("module_list",this.get("module_list"))}if(this.get("viewed")){t.setOption("viewed",this.get("viewed"))}e.context=this;if(this.get("skipFetch")!==true){t.fetch(e)}this._fetchCalled=true}else{SUGAR.App.logger.warn("Skipping fetch because model is not Bean, Bean Collection, or it is not defined, module: "+this.get("module"))}},_populateRelatedContexts:function y(){if(!this.get("collection")){return}this.get("collection").each(function(e){var t=e.fieldsOfType("collection");if(!_.isEmpty(t)){_.each(t,function(t){var n=t.links;if(_.isString(n)){n=[n]}var i={};_.each(n,function(e){var t=this.getChildContext({link:e});t.prepare();i[e]=t.get("collection")},this);e.set(t.name,a.createMixedBeanCollection([],{links:i}))},this)}},this);this._relatedCollectionsPopulated=true},_shouldFetch:function x(){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Context#_shouldFetch is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Context#_shouldFetch is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s.call(this)},reloadData:function S(e){e=e||{};this.resetLoadFlag(e);this.loadData(e);this.trigger("reload",this,e)},isDataFetched:function w(){var e=this.get("modelId")?this.get("model"):this.get("collection");return this._fetchCalled||e&&!!e.dataFetched}});e.exports=o},function(e,t,n){"use strict";var i=n(15);var r=SUGAR.App;var a=n(1);var s=n(5);var o=n(48);var l=r.view.NomadView=a.declareComponent(r.view.View,{_stringType:"base",ACTION_NAME:"component:action",events:function u(e){var t={};if(_.isObject(e)){_.extend(t,e)}return t},constructor:function c(e){var t=e.def&&e.def.data;if(!_.isUndefined(t)&&_.isUndefined(e.data)){e.data=t}if(_.isFunction(e.name)){e.name=e.type=this._stringType;if(e.def){e.def.view={name:this._stringType}}e.meta=e.meta||r.metadata.getView(e.module,this._stringType)}return this._super(e)},initialize:function d(e){e=e||{};var t=_.isUndefined(e.sugarLogicEnabled)||e.sugarLogicEnabled;if(!t){this.plugins=_.without(this.plugins,"SugarLogic")}if(e.globalEvents){this.globalEvents=e.globalEvents}this.config=r.config;var n=e.template||this.template;if(n){n=_.isString(n)?r.template.get(n):n;e.template=n}this._super(e);if(e.onPullDownToRefresh){this.onPullDownToRefresh=function(){return e.onPullDownToRefresh()}}this.displayFields=this.getDisplayFields()},getDisplayFields:function f(){var e=_.getNested(this,"meta.panels.0.fields")||[];var f=this.options.getDisplayFields;if(_.isFunction(f)){e=f(e)}return e},onHeaderClick:function h(){},onAppPause:function p(){},onAppResume:function m(){},delegateEvents:function g(e){if(!(e||(e=_.result(this,"events"))))return;_.extend(e,{"click a[href]":"handleLinkClick"});this._super(e)},loadData:function v(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new i(function(n,i){t.success=_.wrap(t.success,function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++){i[r-1]=arguments[r]}e=e||_.noop;n(i);e.apply(undefined,i)});t.error=_.wrap(t.error,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}e=e||_.noop;var a=n[1]?n[1].message:"";var s=new Error(a);i(s);e.apply(undefined,n)});r.view.View.prototype.loadData.call(e,t)})},_render:function b(){this.onBeforeRender();this._super();this.onAfterRender();this._rendered=true;this.trigger("view:after:render");return this},bindGlobalEvents:function y(){var e=this._populateGlobalEvents(this);_.each(e,function(e,t){e=_.isFunction(e)?e:this[e];r.events.on(t,e,this)},this);_.each(this.fields,function(e){_.each(e.globalEvents,function(e,t){e=_.isFunction(e)?e:this[e];r.events.on(t,e,this)},e)})},unbindGlobalEvents:function x(){var e=this._populateGlobalEvents(this);_.each(e,function(e,t){r.events.off(t,null,this)},this);_.each(this.fields,function(e){_.each(e.globalEvents,function(e,t){r.events.off(t,null,this)},e)})},_populateGlobalEvents:function S(e){var t=[];var n={};var i=function r(e,t){if(e){t.push(e.constructor.prototype.globalEvents);r(e.constructor.__super__,t)}};if(this.hasOwnProperty("globalEvents")){t.push(this.globalEvents)}i(e,t);_.each(t.reverse(),function(e){n=_.extend(n,e)});return n},_getRelationshipFields:function w(){var e=this;var t=this.context.get("parentModule");var n=this.context.get("link");var i=[];if(t&&n){i=r.data.getRelationshipFields(t,n)}return _.map(i,function(t){return r.metadata.getModule(e.module).fields[t]})},getFieldNames:function L(e){if(!this.module)return[];var t=r.metadata.getModule(this.module,"mergedFields")||[];var n=this._getRelationshipFields();if(this.model instanceof r.Bean){if(this.model.canHaveAttachments()){t.push("attachment_list")}}t=_.union(t,_.pluck(n,"name"));if(e){t=_.filter(t,function(e){var t=this._getFieldViewDef(e);if(_.isEmpty(t)){return false}return t.type!=="fieldset"&&a.canDisplay(this,t)},this)}return t},_getFieldViewDef:function E(e){var t;_.find(this.meta.panels[0].fields,function(n){if(n.name===e){t=n}else if(!_.isEmpty(n.fields)){t=_.find(n.fields,function(t){return t.name===e})}return t});return t},isEditView:function k(){return false},onAfterRender:function A(){},onAfterShow:function M(){if(this.collection){o.hideSyncAlert()}},onBeforeRender:function T(){},handleLinkClick:function C(e){if(e.defaultPrevented){return}var t=e.target.tagName.toLowerCase()==="a"?e.target:e.currentTarget;var n=t.getAttribute("href");if(/^#.*/.test(n)){e.preventDefault();e.stopPropagation();r.controller.navigate(n,{initiator:this.navigationName
})}else if(a.utils.urlHasProtocolRegExp.test(n)){e.preventDefault();s.openUrl(n)}},abortActiveRequests:function R(){return false},onDetachFromDom:function D(){},propagateComponentAction:function I(e){this.trigger(this.ACTION_NAME,e)},handleComponentAction:function O(e,t){var n=this[e];if(_.isFunction(n)){n.call(this,t)}}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=r.declareComponent(a,{_stringType:"static",loadData:function o(e){}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(47);var s=n(62);var o=n(29);var l=n(7);var u=n(4);var c=n(83);var d=[];var f=[];var h=[];e.exports={registerRecordAction:function p(e){e.custom=true;f.push(e)},registerRoutes:function m(e,t){if(s.started){a.addRoutes(e)}else{i.events.once("app:init",function(){a.addRoutes(e,t)})}},getCustomActions:function g(){return f},getCustomFields:function v(){return d},registerMainMenuItem:function b(e){if(!e.route){e.route=i.utils.generateUUID()}h.push(e)},getCustomMainMenuItems:function y(){return _.select(h,function(e){return _.isFunction(e.isVisible)?e.isVisible():true})},registerListItemDataProvider:function x(e){c.add(e)},setConfigOverrideFn:function S(e){if(r.overrideConfig){throw new Error("overrideConfig function is already set.")}else{r.overrideConfig=e}},extend:function w(e,t,n){return r.declareComponent({parent:e},t,n)},register:function L(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=i.nomad.utils.isComponentChildOf;if(n(o,e)){r.dashboards.registerDashlet(t.metadataType,e);r.registerComponent(_.extend({cmp:e,baseType:t.metadataType},t))}else if(n(u,e)){r.registerComponent({baseType:t.metadataType,module:t.module,cmp:e});d.push(t.metadataType)}else{r.registerComponent(_.extend({cmp:e},t))}}}},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var User=__webpack_require__(14);var Language=__webpack_require__(13);var _doWhenStack=[];var _doWhenLocked=false;var _doWhenInterval=false;var _doWhenretryCount=0;var _startDoWhenInterval=function e(){if(!_doWhenInterval){_doWhenInterval=window.setInterval(Utils._doWhenCheck,50)}};var Cookie={setCookie:function t(e,n,i,r){var a=new Date,s;a.setDate(a.getDate()+i);s=encodeURIComponent(n);if(i){s+="; expires="+a.toUTCString()}if(r){s+="; path="+r}document.cookie=e+"="+s},getCookie:function n(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++){n=r[t].substr(0,r[t].indexOf("="));i=r[t].substr(r[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n===e){return decodeURIComponent(i)}}}};var Utils={capitalize:function i(e){return e?e.charAt(0).toUpperCase()+(e.length>1?e.substr(1):""):""},capitalizeHyphenated:function r(e){return this._classify(e,"-")},classify:function a(e){return this._classify(e,"_")},_classify:function s(e,t){var n=this,i="";t=t||"_";if(!e||e.lastIndexOf(t)===-1){i=n.capitalize(e)}else{var r=e.split(t);_.each(r,function(e){i+=n.capitalize(e)})}return i},extendClass:function o(e,t,n,i,r){var a;if(!_.isObject(i)){a=e[n]=t;return a}if(_.isObject(i.extendsFrom)){a=e[n]=i.extendsFrom.extend(i);return a}if(!i.extendsFrom){a=e[n]=t.extend(i);return a}var s=e[r+"Custom"+i.extendsFrom]||e[r+i.extendsFrom]||e["Custom"+i.extendsFrom]||e[i.extendsFrom];if(!s){SUGAR.App.logger.warn('The "'+i.extendsFrom+'" component was not found to be used as '+'the "'+n+"\"'s parent. Please update your code to point to an existing class.");s=t}a=e[n]=s.extend(i);return a},formatNumber:function l(e,t,n,i,r){t=t||n;var a=e;if(_.isNaN(e)||!_.isFinite(e)){return a}if(_.isString(e)){e=parseFloat(e,10);if(_.isNaN(e)){return a}}if(!_.isNumber(e)){if(!_.isNull(e)&&!_.isUndefined(e)){SUGAR.App.logger.warn("formatNumber: invalid variable type ("+(typeof a==="undefined"?"undefined":_typeof(a))+")")}return a}if(_.isString(n)){n=parseInt(n)}e=Big(e).toFixed(n);return _.isString(i)&&_.isString(r)?this.addNumberSeparators(e,i,r):e},formatNumberLocale:function u(e){return this.formatNumber(e,User.getPreference("decimal_precision")||2,User.getPreference("decimal_precision")||2,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".")},formatName:function c(e,t){return t.replace(/(f)|(l)|(s)/g,function(t,n,i,r){if(n){return e.first_name||""}if(i){return e.last_name||""}if(r&&(e.last_name||e.first_name)){return e.salutation||""}return""}).replace(/^( )?,/g,"").replace(/, $/g,"").replace(/  /g," ").trim()},formatNameModel:function d(e,t,n){n=n||User.getPreference("default_locale_name_format");t=t||{};var i=SUGAR.App.metadata.getModule(e)||{fields:{}};var r=i.nameFormat||{};return _.reduce(n.split(""),function(e,n){if(n<"a"||n>"z"){return e+n}if(!r[n]){return e}var a,s=i.fields[r[n]]&&i.fields[r[n]].type==="enum"&&!_.isEmpty(i.fields[r[n]].options);if(s){var o=Language.getAppListStrings(i.fields[r[n]].options);a=o[t[r[n]]]||t[r[n]]||""}return e+(a||t[r[n]]||"")},"").replace(/^( )?,/g,"").replace(/, +$/g,"").replace(/  /g," ").trim()},formatNameLocale:function f(e){return this.formatName(e,User.getPreference("default_locale_name_format"))},addNumberSeparators:function h(e,t,n){var i=e.split(".");var r=/(\d+)(\d{3})/;while(t!==""&&r.test(i[0])){i[0]=i[0].toString().replace(r,"$1"+t+"$2")}return i[0]+(i.length>1&&i[1]!==""?n+i[1]:"")},unformatNumberString:function p(e,t,n,i){i=i||false;if(typeof t==="undefined"||typeof n==="undefined"){return e}if(!_.isString(e)){if(_.isFinite(e)){e=e.toString()}else{e=""}}if(t!==""){var r=new RegExp("\\"+t,"g");e=e.replace(r,"")}e=e.replace(n,".");if(e.length>0&&i){var a=parseFloat(e);if(a==e){return a}}return e},unformatNumberStringLocale:function m(e,t){return this.unformatNumberString(e,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".",t)},formatString:function g(e,t){for(var n in t){e=e.replace("{"+n+"}",t[n])}return e},regexEscape:function v(e){if(typeof v.specialRegExp=="undefined"){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","-",",","^","$","#"];v.specialRegExp=new RegExp("(\\"+t.join("|\\")+")","g")}return e.replace(v.specialRegExp,"\\$1")},generateUUID:function b(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},cookie:Cookie,isValidEmailAddress:function y(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@\S+$/.test(e)},doWhen:function x(e,t,n,i){_doWhenStack.push({check:e,fn:t,obj:n,overrideContext:i});_doWhenretryCount=50;_startDoWhenInterval()},_doWhenCheck:function _doWhenCheck(){if(_doWhenStack.length===0){_doWhenretryCount=0;if(_doWhenInterval){clearInterval(_doWhenInterval);_doWhenInterval=null}return}if(_doWhenLocked){return}_doWhenLocked=true;var tryAgain=$.isReady;if(!tryAgain){tryAgain=_doWhenretryCount>0&&_doWhenStack.length>0}var notAvail=[];var executeItem=function e(t,n){if(n.overrideContext){if(n.overrideContext===true){t=n.obj}else{t=n.overrideContext}}if(n.fn){n.fn.call(t,n.obj)}};var i,len,item,test;for(i=0,len=_doWhenStack.length;i<len;i=i+1){item=_doWhenStack[i];if(item){test=item.check;if(typeof test=="string"&&eval(test)||typeof test=="function"&&test()){executeItem(this,item);_doWhenStack[i]=null}else{notAvail.push(item)}}}_doWhenretryCount--;if(tryAgain){for(i=_doWhenStack.length-1;i>-1;i--){item=_doWhenStack[i];if(!item||!item.check){_doWhenStack.splice(i,1)}}_startDoWhenInterval()}else{if(_doWhenInterval){clearInterval(_doWhenInterval);_doWhenInterval=null}}_doWhenLocked=false},versionCompare:function S(e,t,n){return version_compare(e,t,n)},extendFrom:function w(e,t,n){e.prototype=new t;_.extend(e.prototype,n)},deepCopy:function L(e){return _.isObject(e)?JSON.parse(JSON.stringify(e)):e},compareBeans:function E(e,t){var n;if(e.module!==t.module){throw Error("Only beans of the same module can be compared.")}n=_.reduce(e.attributes,function(n,i,r){if(r!=="id"&&r.indexOf("_")!==0){if(!this.areBeanValuesEqual(i,t.get(r))&&this.hasDefaultValueChanged(r,e)){n.push(r)}}return n},[],this);return n},areBeanValuesEqual:function k(e,t){var n=function i(e){if(_.isObject(e)&&_.isEmpty(e)){return""}else if(!_.isObject(e)&&(_.isUndefined(e)||_.isNull(e))){return""}else{return e}};e=n(e);t=n(t);return _.isObject(e)&&_.isEqual(e,t)||!_.isObject(e)&&e===t},hasDefaultValueChanged:function A(e,t){var n=t._defaults?t._defaults[e]:"";return!this.areBeanValuesEqual(n,t.get(e))},isConnectivityError:function M(e){return e.status===0||e.textStatus==="timeout"},getTimestamp:function T(e,t){t=t||{};var n=e?new Date(e):new Date,i=n.toISOString();if(!t.msecPrecision){i=i.replace(/\.\d{3}/,"")}return i.replace(/Z/,"+00:00")},buildUrl:function C(e){if(e.indexOf("http")!==0&&!_.isEmpty(SUGAR.App.config.siteUrl)){e=SUGAR.App.config.siteUrl.replace(/\/+$/,"")+"/"+e}return e},getChangedProps:function R(e,t,n){function i(e){if(_.isObject(e)){if(_.isArray(e)){return"array"}return"object"}return"other"}function r(e,t){if(n)return _.isEqual(e,t);var a=i(e),s=i(t);if(a===s&&_.contains(["object","array"],a)){if(a==="array"&&e.length!==t.length){return false}var o=_.keys(e),l=_.keys(t);if(o.length!==l.length||!_.isEqual(o.sort(),l.sort())){return false}return!_.any(e,function(n,i){return!r(e[i],t[i])})}else{return n?e===t:e==t}}var a={};_.each(e,function(n,i){if(!r(e[i],t[i])){a[i]=n}});return a},getParentLayout:function D(e){var t;if(e.view&&e.view.layout){t=e.view.layout}else{t=e.layout}return t},isSortable:function I(e,t){var n=SUGAR.App.metadata.getModule(e).fields[t.name],I=true;if(n&&!_.isUndefined(n.sortable)){I=n.sortable}if(t&&!_.isUndefined(t.sortable)){I=t.sortable}return I},stripHttpPrefix:function O(e){return e.replace(/^https?:\/\//,"")},hardRefresh:function N(){window.location.reload(true)},isDirectionRTL:function F(e){var t="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿"+"Ⰰ-﬜﷾-﹯﻽-￿",n="֑-߿יִ-﷽ﹰ-ﻼ",i=new RegExp("^[^"+t+"]*["+n+"]");return i.test(e)}};module.exports=Utils},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(20);var s=n(3);var o=n(54);var l=n(309);var u=n(88);var c=n(83);function d(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments);if(this._currentRecordId){this.selectCurrentRecord({modelId:this._currentRecordId})}}}var f=r.declareComponent(o,{_stringType:"list",template:"list",events:function h(){return{"click article .grip":"onGripClick","click .menu-container":"onContextMenuClick","click article":"onItemElementClick","swipeLeft article":"onItemSwipe","swipeRight article":"onItemSwipe","longTap article":"onItemLongTap","click.pagination .show-more-top-btn":"paginateTop","click.pagination .show-more-bottom-btn":"paginateBottom"}},plugins:[],listItemDataProvider:"list-item",listItemTpl:"list-item",contextMenuDisabled:false,multiselect:false,navigationName:a.LIST,isPaginationEnabled:true,isPtrEnabled:true,_offlineDisabled:false,_currentState:null,_isFetchRunning:false,globalEvents:{"offline:data:updated":"_offlineRefetch"},_offlineRefetch:function p(e,t){var n=this.getCurrentState();var r={};_.extend(r,n,{skipServerSync:true,serverNextOffset:e.serverNextOffset});if(this.collection.query){return}if(this.isCurrentListUpdated(e)){t=_.extend({add:true,reset:!this.collection.getOption("update"),params:r,offset:e.requestParams&&e.requestParams.offset?e.requestParams.offset:0,limit:e.requestParams&&e.requestParams.max_num?e.requestParams.max_num:i.config.maxQueryResult},t);this.collection.fetch(t)}},initialize:function m(e){this._super(e);this._currentState={};this.listViewId=e.listViewId||"listing-"+this.module;this.unlinkVisible=false;var t=this.context.get("link");if(t){var n=this.context.get("parentModule");var a=i.metadata.getModule(n,"fields")[t];this.relationship=i.metadata.getRelationship(a.relationship);this.relateFields=i.data.getRelateFields(n,t);this.unlinkVisible=r.canUnlinkRelated(n,t)&&_.reduce(this.relateFields,function(e,t){return e&&!t.required},true)}this.modContextData=r.getContextMeta("list");this.bindCollectionEvents();this.initLabels();this._initNoRecFoundLabelBehavior();this._createItemsConfig(e);this.initCurrentRecordHighlighting();this.isListItemSwippable=this.module!=="Activities"&&!this.options.contextMenuOnSwipeDisabled||this.module==="Search"||this.module==="Recents";this.initContextMenu(e);this.initPagination(e);if(this.isPtrEnabled){u({view:this})}else{this.reflowScroller=_.noop}},initContextMenu:function g(e){this.contextMenuOnSwipeDisabled=this.contextMenuDisabled||e.contextMenuOnSwipeDisabled||!i.isNative&&$.os.ios;if(this.contextMenuDisabled){return}this.contextMenu=i.view.createView({name:l,parentView:this})},initCurrentRecordHighlighting:function v(){if(!i.isTablet){return}this._currentRecordId=null;this.listenTo(i,"app:view:change",function(e){if(e.isDynamic){return}this.selectCurrentRecord(e)});d(this,"onAfterRender")},selectCurrentRecord:function b(e){var t=e.modelId||e.parentModelId;var n=t&&this.options.isRootScreen;this.$el.find(".current").removeClass("current");this._currentRecordId=t;if(n){this.getListItemEl(t).addClass("current")}},_createItemsConfig:function y(e){if(e.itemsConfig){this.itemsConfig=_.extend(this.itemsConfig||{},e.itemsConfig)}this.setListItemDataProvider(e.listItemDataProvider);this.setListItemTpl(e.listItemTpl||(e.meta?e.meta.listItemTpl:null))},setListItemTpl:function x(e){if(e){this.listItemTpl=e}},getListItemTpl:function S(){return this.listItemTpl},setListItemDataProvider:function w(e){if(e){this.listItemDataProvider=e}},getListItemDataProvider:function L(){return this.listItemDataProvider},initLabels:function E(){this.labelNoRecords=i.lang.get("LBL_MOBILE_NO_RECORDS");this.labelShowMoreTop=i.lang.get("LBL_SHOW_MORE");this.labelShowMoreBottom=i.lang.get("LBL_SHOW_MORE")},onBeforeRender:function k(){},getViewContainer:function A(){return this.isPtrEnabled?this.$easyScrollerParent:this.$el},setCurrentState:function M(e){this._currentState=e},getCurrentState:function T(){if(this._currentState.q){this._currentState.filter=null;this._currentState.order_by=null}return this._currentState},_applyCurrentStateParams:function C(e){e=e||{};e.params=e.params||{};_.extend(e.params,this.getCurrentState());return e},onHeaderClick:function R(){if(this.scroll){this.scroll.scroller.scrollTo(0,0,true)}},onItemAdded:function D(e,t,n){this.$el.find(".no-records-found").hideElement();var r=i.view.getFieldId();var a=Handlebars.helpers.listItems([e],this,{hash:{}});if(n.addTop){this.$(".items").prepend(a.toString())}else{this.$(".items").append(a.toString())}for(var s=r+1;s<=i.view.getFieldId();++s){this._renderField(this.fields[s])}},onItemRemoved:function I(e){this.getListItemEl(e).remove()},getMaxPageSize:function O(){return Math.max(i.config.fetchLimit.maxPageSize,i.config.maxQueryResult)},onDataSyncStart:function N(e,t,n){if(!i.offlineEnabled){this.$(".no-records-found").hideElement()}},onDataSyncSuccess:function F(e,t,n){if(!i.offlineEnabled&&n.method!=="update"&&this.collection.length===0){this.$(".no-records-found").showElement()}if(this.isPaginationEnabled){this._updatePaginationElements()}this.onDataSyncComplete(n.method,n,null,e)},onDataSyncError:function B(e,t,n){this.onDataSyncComplete(e,t,n)},onDataSyncComplete:function U(e,t,n){this.hideContextMenu();if(e==="update"){return}if(n&&n.status===403){var r=i.template.get("list-not-authorized");this.$el.html(r(n))}},onContextMenuClick:function P(e){return false},onGripClick:function Y(e){e.preventDefault();e.stopPropagation();var t=this.getModel($(e.currentTarget).closest("article").attr("data-id"));if(this.contextMenu){this.contextMenu.onGripClick(e,t)}},onItemElementClick:function H(e){if(e.isDefaultPrevented()||e.isPropagationStopped()){return}var t=this.getModel($(e.currentTarget).attr("data-id"));this.hideContextMenu();this.trigger("list:item:clicked");this.onItemClick(t,e)},onItemSwipe:function G(e){var t=i.controller.layoutManager.getRecordLayout();if(this.contextMenuOnSwipeDisabled||!i.isTablet||t){return}var n=r.utils.isDirectionLTR();var a=this.getModel($(e.currentTarget).attr("data-id"));if(e.type==="swipeLeft"&&n||e.type==="swipeRight"&&!n){this.contextMenu.onItemSwipeLeft(e,a)}else{this.contextMenu.onItemSwipeRight(e,a)}},onItemLongTap:function V(e){if(this.contextMenuDisabled||this.contextMenu.isItemHasContextMenuOpened(e.currentTarget)||$.__swipeHelper.swipeOrientation!==""||r.isSwiping){return}var t=this.getModel($(e.currentTarget).attr("data-id"));this.contextMenu.onItemLongTap(e,t)},onItemClick:function j(e,t){if(this.options.onItemClick){return this.options.onItemClick(e,t)}if(e&&i.acl.hasAccessToModel("view",e)){var n=this._buildRecordRoute({model:e,hash:{link:this.context.get("link"),appendRoot:true}});if(n){i.controller.navigate(n,{initiator:this.navigationName})}}},getModel:function z(e){var t=f.listItemDataProviders[this.getListItemDataProvider()];e=t.extractId(e);return this.collection.get(e)},loadData:function q(e){e=this._applyCurrentStateParams(e);return this._super(e).catchReturn()},bindViewSyncListener:function W(){this.listenTo(this.collection,"sync",this.publishCollectionSyncData)},unbindViewSyncListener:function K(){this.stopListening(this.collection,"sync",this.publishCollectionSyncData)},publishCollectionSyncData:function J(e,t,n){this.publishSyncData(e.toJSON(),null,n)},getAllSyncableCollections:function X(){return[this.collection]},receiveSyncData:function Z(e,t,n){if(e&&e.id){_.each(this.getAllSyncableCollections(),function(i){this.processCollection(i,e,t,n)},this)}},processCollection:function Q(e,t,n,a){var s=e.get(t.id);if(s){if(n&&n.status===404||!n&&a.method==="delete"){e.remove(s)}else if(!n&&!r.utils.isModelSynchronized(s,t)){s.set(t);if(!i.acl.hasAccessToModel("list",s)){e.remove(s)}}}},bindCollectionEvents:function ee(){this.listenTo(this.collection,"data:sync:start",function(e,t){this.onDataSyncStart(e,this.collection,t)});this.listenTo(this.collection,"sync",this.onDataSyncSuccess).listenTo(this.collection,"data:sync:error",this.onDataSyncError).listenTo(this.collection,"reset",this.render).listenTo(this.collection,"add",this.onItemAdded).listenTo(this.collection,"remove",this.onItemRemoved);this.unbindViewSyncListener();this.bindViewSyncListener()},unbindCollectionEvents:function te(){this.stopListening(this.collection)},_dispose:function ne(){var e=this.getViewContainer();if(e){e.remove()}if(this.contextMenu){this.contextMenu.dispose()}this._super()},isCurrentListUpdated:function ie(e){var t=this.context.get("parentModule");var n=this.context.get("link");if(!(this.collection instanceof i.BeanCollection)){return false}return this.collection.cid===e.cid},setOfflineEnabled:function re(e){this.collection.offlineReadDisabled=!e},_initNoRecFoundLabelBehavior:function ae(){var e=this;var t=".no-records-found";if(i.offlineEnabled){this.listenTo(i.events,"offline:collection:read",function(n){if(e.isCurrentListUpdated(n.apiOptions)){var r=n.status===i.offline.api.ReadCollectionStatus.FINISH&&!n.isDataUpdated?!e.collection.length:false;e.$(t).toggleElement(r)}})}},setSortByField:function se(){var e=this.getCurrentState();var t=e.order_by?e.order_by.split(":")[0]:null;this.sortBy=null;if(t&&t!=="name"&&t!=="date_modified"){var n=this.modContextData[this.module].additionalListFields;if(_.isEmpty(_.findWhere(n,{name:t}))){var r=i.metadata.getModule(this.module).fields[t];this.sortBy={name:t,type:r.type,label:r.vname}}}},abortActiveRequests:function oe(){var e=this.collection;var t=false;if(e.getFetchRequest()){this.context.resetLoadFlag();e.abortFetchRequest();t=true}return t},_buildRecordRoute:function le(e){return r.utils.buildRoute(e.model,{hash:e.hash})},getListItemEl:function ue(e){var t;var n;if(!_.isObject(e)){e=this.collection.get(e)}if(e){t=f.listItemDataProviders[this.getListItemDataProvider()].buildId(e);n=i.utils.formatString('article[data-id="{0}"]',[t])}return $(this.$(n))},_deleteRecord:function ce(e,t){var n=i.lang.get(t?"LBL_MOBILE_UNLINK_CONFIRM":"LBL_MOBILE_DELETE_CONFIRM");this.hideContextMenu();s.showConfirm(n,{callback:function r(n){if(n===2){e.destroy({relate:t,wait:true})}}});return false},onToggleFieldValue:function de(e,t,n){var i=e.get(n);e[t](!i,{error:_.bind(function(){e.set(n,i);this.hideContextMenu()},this)});this.hideContextMenu()},hideContextMenu:function fe(){if(this.contextMenu&&this.contextMenu.isOpened()){this.contextMenu.hide()}},isActionVisible:function he(e,t){return e.isVisible&&i.acl.hasAccessToModel(e.access||e.name,t)},initPagination:function pe(e){if(e.isPaginationEnabled!==undefined){this.isPaginationEnabled=e.isPaginationEnabled}if(i.offlineEnabled){this.listenTo(i.events,"offline:collection:read",this._onOfflineRead)}},_onOfflineRead:function me(e){this._showFetchingMsg(e);if(e.status===i.offline.api.ReadCollectionStatus.FINISH){this.reflowScroller()}},_showFetchingMsg:function _e(e){if(this.collection.offlineReadDisabled||!this.isCurrentListUpdated(e.apiOptions)){return}e.backgroundFetch=true;var t=this._isFetchRunning;var n=e.status===i.offline.api.ReadCollectionStatus.START;if(n&&!this._isFetchRunning){this._isFetchRunning=true}else if(!n&&e.isSearchRequest||!n&&!e.isDataUpdated){this._isFetchRunning=false}if(t!==this._isFetchRunning){if(this._isFetchRunning){i.syncAlertManager.onSyncStart("read",this.collection,e)}else{i.syncAlertManager.onSyncSuccess("read",this.collection,e)}}},_updatePaginationElements:function ge(){if(!this.collection){return}while(this.collection.length>this.getMaxPageSize()){this.collection.shift()}this.$(".show-more-top-btn").toggleElement(this.needShowMoreTopButton());this.$(".show-more-bottom-btn").toggleElement(this.needShowMoreBottomBtn());this.reflowScroller()},paginateTop:function ve(){if(!this.isPaginationEnabled){return}var e=Math.max(this.collection.offset-this.collection.length-i.config.maxQueryResult,0);var t={offset:e,limit:this.getMaxPageSize()};t=this._applyCurrentStateParams(t);this.collection.fetch(t)},paginateBottom:function be(){if(!this.isPaginationEnabled){return}var e=this._applyCurrentStateParams();this.collection.setOption({update:true,remove:false});this.collection.paginate(e)},needShowMoreTopButton:function ye(){return this.collection.dataFetched&&Math.max(this.collection.next_offset,this.collection.offset)>this.getMaxPageSize()},needShowMoreBottomBtn:function xe(){return this.collection.dataFetched&&this.collection.next_offset!==-1}},{listItemDataProviders:c.storage});i.nomad.registerComponent({cmp:f,baseType:"inner-list"});e.exports=f},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(42);var s=n(82);var o=n(41);var l={selector:a,dupecheck:s};var u=r.declareComponent(o,{_stringType:"selection-list",_presets:{staticItems:{self:{isFilterEnabled:false,isSearchEnabled:false},innerList:{isPtrEnabled:false,template:"list-picker",listItemTpl:"list-item-picker",listItemDataProvider:"list-item-picker",className:"list-picker"}},base:{self:{isFilterEnabled:true,isSearchEnabled:true},innerList:{isPtrEnabled:true}}},initialize:function c(e){if(e.preset){_.extend(e,this._presets[e.preset].self)}else{_.extend(e,this._presets.base.self)}e.subType=e.subType||"selector";this._super(e)},getListViewDef:function d(e){var t=this._super.apply(this,arguments);if(e.preset){_.extend(t,this._presets[e.preset].innerList)}else{_.extend(t,this._presets.base.innerList)}return _.extend({},{multiselect:Boolean(e.multiselect),listItemTpl:e.listItemTpl,listItemDataProvider:e.listItemDataProvider},t)},onAfterRender:function f(){var e=this;this._super();var t=this.getCurrentList();var n=t.collection;this.listenTo(t,"selection:change",function(t){return e.onSelectionChange(t)});if(i.offlineEnabled){this.listenTo(i.events,"offline:collection:read",function(e){if(t.isCurrentListUpdated(e.apiOptions)&&e.status===i.offline.api.ReadCollectionStatus.FINISH&&!e.isDataUpdated){this.changeSaveBtnState()}})}else{this.listenTo(n,"sync",function(){return e.changeSaveBtnState()})}},onSelectionChange:function h(e){var t=this.getCurrentList();this.trigger("selection:change",e);if(this.isFilterEnabled){if(!this.options.multiselect){return}if(!_.isEmpty(t.getSelectedIds())){if(this._searchBox){this._searchBox.hideSearch();this.setHeaderBtnsVisible({search:false})}this.toggleFiltersView()}else{this._searchBox&&this.setHeaderBtnsVisible({search:true});this.toggleFiltersView(true)}}this.changeSaveBtnState()},setHeaderBtnsVisible:function p(e){i.controller.updateHeader(this,function(t){t.setButtonVisible(e)})},changeSaveBtnState:function m(){var e=this;i.controller.updateHeader(this,function(t){t.setSaveBtnState({enabled:!_.isEmpty(e.getCurrentList().getSelectedIds())})})},headerConfig:function g(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=_.extend(e,{save:true,cancel:true,mainMenu:false,saveLabel:"LBL_DONE_BUTTON_LABEL"});return this._super(t)},getListViewClass:function v(e){return l[e.subType]},onToggleSearch:function b(e){if(e){this.toggleFiltersView(true)}this._super(e)},getSelectedModels:function y(){return this.getCurrentList().getSelectedModels()}});i.nomad.registerComponent({cmp:u,baseType:"selection-list"});e.exports=u},function(e,t,n){"use strict";var i=n(22);var r=n(14);function a(e,t,n,r){var a,o=SUGAR.App.metadata.getStrings(e);o=n?o[n]:o;if(!o||!_.isString(o[t])){return}a=s(o[t]);if(!_.isUndefined(r)&&a.indexOf("{{")>-1){t="lang."+(n?t+"."+n:t);var l=Handlebars.templates[t];a=l?l(r):i.compile(t,a)(r)}return a}function s(e){return e.slice(-1)===":"?e.slice(0,-1):e}var o=void 0;var l=void 0;e.exports={direction:"ltr",get:function u(e,t,n){var i=this.getModString(e,t,n)||this.getAppString(e,n)||e;return i},getModString:function c(e,t,n){var i;if(_.isArray(t)){_.find(t,function(t){i=a("mod_strings",e,t,n);return!_.isEmpty(i)},this)}else{i=a("mod_strings",e,t,n)}return i},getAppString:function d(e,t){return a("app_strings",e,null,t)},getAppListStrings:function f(e){var t=SUGAR.App.metadata.getStrings("app_list_strings")[e]||{};if(_.isArray(t)){var n={};_.each(t,function(e){if(_.isString(e)){n[e]=e}else if(_.isArray(e)&&e.length===2){n[e[0]]=e[1]}});t=n}return t},getModuleName:function h(e,t){t=t||{};var n=!t.plural&&this.getModString("LBL_MODULE_NAME_SINGULAR",e)||this.getModString("LBL_MODULE_NAME",e);if(!n&&!_.isUndefined(t.defaultValue)){n=this.get(t.defaultValue)}return n||e},getAppListKeys:function p(e){var t=[],n=SUGAR.App.metadata.getStrings("app_list_strings")[e]||{};if(_.isArray(n)){_.each(n,function(e){if(e.length===2){t.push(e[0])}})}else if(_.isObject(n)){t=_.keys(n)}return t},getLanguage:function m(){return l},setLanguage:function g(e,t,n){var i=this;n=n||{};_.each(Handlebars.templates,function(e,t){if(t.indexOf("lang.")===0){delete Handlebars.templates[t]}});if(n.noSync===true){this.updateLanguage(e);return}SUGAR.App.sync({callback:function r(a){var s=false;if(!a){i.updateLanguage(e);s=!SUGAR.App.api.isAuthenticated()&&!n.noUserUpdate;SUGAR.App.cache.set("langHasChanged",s)}if(t)t(a)},getPublic:!SUGAR.App.api.isAuthenticated(),noUserUpdate:n.noUserUpdate||false,language:e,forceRefresh:true,metadataTypes:["labels"]})},updateLanguage:function v(e){SUGAR.App.cache.set("lang",e);r.setPreference("language",e);this.setCurrentLanguage(e);SUGAR.App.trigger("app:locale:change",e)},setDefaultLanguage:function b(e){o=e},getDefaultLanguage:function y(){return o},setCurrentLanguage:function x(e){l=e;this.setDirection(e)},setDirection:function S(e){var t=["he_IL","ar_SA"],n=_.contains(t,e),i=this.direction;this.direction=n?"rtl":"ltr";if(this.direction!==i){SUGAR.App.trigger("lang:direction:change")}},_get:function w(e,t,n,i){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Language#_get is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Language#_get is a private method that you should not access to. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return a(e,t,n,i)},_sanitize:function L(e){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Language#_sanitize is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Language#_sanitize is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(e)}}},function(e,t,n){"use strict";var i=n(21);function r(){var e=":",t="last-state",n={},i=[];var r=function s(n){var i=n.split(e);var r=[SUGAR.App.user.id,t];r=r.concat(i);return r.join(e)};var a=function o(e){var t;if(e.meta&&e.meta.last_state){t=e.meta.last_state.id}return t};return{get:function l(e){var t,n;if(!_.isUndefined(e)){n=r(e);t=SUGAR.App.cache.get(n);t=t===void 0?this.defaults(e):t}return t},set:function u(e,t){if(!_.isUndefined(e)&&!_.isUndefined(t)){var n=r(e);SUGAR.App.cache.set(n,t)}},preserve:function c(e){if(!_.isUndefined(e)){i.push(e)}},key:function d(e,t){var n=a(t);return this.buildKey(e,n,t.module)},buildKey:function f(t,n,i){var r,a=[];if(n){if(i){a.push(i)}a.push(n,t);r=a.join(e)}return r},defaults:function h(e){return n[e]},register:function p(e){var t=a(e);if(t){_.each(e.meta.last_state.defaults,function(t,i){n[this.key(i,e)]=t},this)}},remove:function m(e){var t;if(!_.isUndefined(e)){t=r(e);SUGAR.App.cache.cut(t)}},_getPreservedKeys:function g(){var e=[];_.each(i,function(t){e.push(r(t))});return e}}}var a=Backbone.Model.extend({load:function o(e){SUGAR.App.api.me("read",null,null,{success:_.bind(function(t){if(t&&t.current_user){if(t.current_user._hash){SUGAR.App.cache.set("userpref:hash",t.current_user._hash)}this.set(t.current_user);var n=this.getPreference("language");if(SUGAR.App.lang.getLanguage()!==n){SUGAR.App.lang.setLanguage(n,null,{noUserUpdate:true,noSync:SUGAR.App.isSynced||SUGAR.App.metadata.isSyncing()})}}if(e)e()},this),error:function t(n){SUGAR.App.error.handleHttpError(n);if(e)e(n)}})},loadLocale:function l(e){SUGAR.App.api.call("read",SUGAR.App.api.buildURL("locale"),null,{success:function t(n){if(e)e(n)},error:function n(t){SUGAR.App.error.handleHttpError(t);if(e)e(t)}})},getLanguage:function u(){return this.getPreference("language")||SUGAR.App.cache.get("lang")},updateLanguage:function c(e,t){var n=function i(n){if(!n)SUGAR.App.lang.updateLanguage(e);if(t)t(n)};this.update("update",{preferred_language:e},n)},updateProfile:function d(e,t){var n=function i(e){if(t)t(e)};this.update("update",e,n)},updatePreferences:function f(e,t){var n=this;if(SUGAR.App.api.isAuthenticated()){SUGAR.App.api.call("update",SUGAR.App.api.buildURL("me/preferences"),e,{success:function i(r){if(r._hash){SUGAR.App.cache.set("userpref:hash",r._hash);n.set({_hash:r._hash})}_.each(e,function(e,t){if(r[t]){n.setPreference(t,r[t])}});if(t)t()},error:function r(e){SUGAR.App.error.handleHttpError(e);if(t)t(e)}})}else{if(t)t()}},update:function h(e,t,n){if(SUGAR.App.api.isAuthenticated()){SUGAR.App.api.me(e,t,null,{success:_.bind(function(e){if(e.current_user){if(e.current_user._hash){SUGAR.App.cache.set("userpref:hash",e.current_user._hash)}this.set(e.current_user)}if(n)n()},this),error:function i(e){SUGAR.App.error.handleHttpError(e);if(n)n(e)}})}else{n()}},getAcls:function p(){return this.get("acl")||{}},getPreference:function m(e){var t=this.get("preferences")||{};return t[e]},setPreference:function g(e,t){var n=this.get("preferences")||{};n[e]=t;return this.set("preferences",n)},getCurrency:function v(){var e=this.get("preferences"),t={};if(e){t.currency_id=e.currency_id;t.currency_iso=e.currency_iso;t.currency_name=e.currency_name;t.currency_rate=e.currency_rate;t.currency_show_preferred=e.currency_show_preferred;t.currency_symbol=e.currency_symbol}return t},lastState:r()});var s=new a;i.on("app:logout",function(e){SUGAR.App.cache.cut("userpref:hash");if(e===true){s.clear({silent:true})}});i.on("cache:clean",function(e){
e(s.lastState._getPreservedKeys())});e.exports=s},function(module,exports,__webpack_require__){(function(process,global,setImmediate){!function(e){if(true)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){var define,module,exports;return function e(t,n,i){function r(s,o){if(!n[s]){if(!t[s]){var l=typeof _dereq_=="function"&&_dereq_;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}var a=typeof _dereq_=="function"&&_dereq_;for(var s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e);var i=n.promise();n.setHowMany(1);n.setUnwrap();n.init();return i}e.any=function(e){return n(e)};e.prototype.any=function(){return n(this)}}},{}],2:[function(e,t,n){"use strict";var i;try{throw new Error}catch(r){i=r}var a=e("./schedule");var s=e("./queue");var o=e("./util");function l(){this._customScheduler=false;this._isTickUsed=false;this._lateQueue=new s(16);this._normalQueue=new s(16);this._haveDrainedQueues=false;this._trampolineEnabled=true;var e=this;this.drainQueues=function(){e._drainQueues()};this._schedule=a}l.prototype.setScheduler=function(e){var t=this._schedule;this._schedule=e;this._customScheduler=true;return t};l.prototype.hasCustomScheduler=function(){return this._customScheduler};l.prototype.enableTrampoline=function(){this._trampolineEnabled=true};l.prototype.disableTrampolineIfNecessary=function(){if(o.hasDevTools){this._trampolineEnabled=false}};l.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};l.prototype.fatalError=function(e,t){if(t){process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n");process.exit(2)}else{this.throwLater(e)}};l.prototype.throwLater=function(e,t){if(arguments.length===1){t=e;e=function(){throw t}}if(typeof setTimeout!=="undefined"){setTimeout(function(){e(t)},0)}else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};function u(e,t,n){this._lateQueue.push(e,t,n);this._queueTick()}function c(e,t,n){this._normalQueue.push(e,t,n);this._queueTick()}function d(e){this._normalQueue._pushOne(e);this._queueTick()}if(!o.hasDevTools){l.prototype.invokeLater=u;l.prototype.invoke=c;l.prototype.settlePromises=d}else{l.prototype.invokeLater=function(e,t,n){if(this._trampolineEnabled){u.call(this,e,t,n)}else{this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})}};l.prototype.invoke=function(e,t,n){if(this._trampolineEnabled){c.call(this,e,t,n)}else{this._schedule(function(){e.call(t,n)})}};l.prototype.settlePromises=function(e){if(this._trampolineEnabled){d.call(this,e)}else{this._schedule(function(){e._settlePromises()})}}}l.prototype._drainQueue=function(e){while(e.length()>0){var t=e.shift();if(typeof t!=="function"){t._settlePromises();continue}var n=e.shift();var i=e.shift();t.call(n,i)}};l.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=true;this._drainQueue(this._lateQueue)};l.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};l.prototype._reset=function(){this._isTickUsed=false};t.exports=l;t.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var r=false;var a=function(e,t){this._reject(t)};var s=function(e,t){t.promiseRejectionQueued=true;t.bindingPromise._then(a,a,null,this,e)};var o=function(e,t){if((this._bitField&50397184)===0){this._resolveCallback(t.target)}};var l=function(e,t){if(!t.promiseRejectionQueued)this._reject(e)};e.prototype.bind=function(a){if(!r){r=true;e.prototype._propagateFrom=i.propagateFromFunction();e.prototype._boundValue=i.boundValueFunction()}var u=n(a);var c=new e(t);c._propagateFrom(this,1);var d=this._target();c._setBoundTo(u);if(u instanceof e){var f={promiseRejectionQueued:false,promise:c,target:d,bindingPromise:u};d._then(t,s,undefined,c,f);u._then(o,l,undefined,c,f);c._setOnCancel(u)}else{c._resolveCallback(d)}return c};e.prototype._setBoundTo=function(e){if(e!==undefined){this._bitField=this._bitField|2097152;this._boundTo=e}else{this._bitField=this._bitField&~2097152}};e.prototype._isBound=function(){return(this._bitField&2097152)===2097152};e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var i;if(typeof Promise!=="undefined")i=Promise;function r(){try{if(Promise===a)Promise=i}catch(e){}return a}var a=e("./promise")();a.noConflict=r;t.exports=a},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var r=i(null);var a=i(null);r[" size"]=a[" size"]=0}t.exports=function(t){var n=e("./util");var i=n.canEvaluate;var s=n.isIdentifier;var o;var l;if(false){var u=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(f)};var c=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))};var d=function(e,t,n){var i=n[e];if(typeof i!=="function"){if(!s(e)){return null}i=t(e);n[e]=i;n[" size"]++;if(n[" size"]>512){var r=Object.keys(n);for(var a=0;a<256;++a)delete n[r[a]];n[" size"]=r.length-256}}return i};o=function(e){return d(e,u,r)};l=function(e){return d(e,c,a)}}function f(e,i){var r;if(e!=null)r=e[i];if(typeof r!=="function"){var a="Object "+n.classString(e)+" has no method '"+n.toString(i)+"'";throw new t.TypeError(a)}return r}function h(e){var t=this.pop();var n=f(e,t);return n.apply(e,this)}t.prototype.call=function(e){var t=[].slice.call(arguments,1);if(false){if(i){var n=o(e);if(n!==null){return this._then(n,undefined,undefined,t,undefined)}}}t.push(e);return this._then(h,undefined,undefined,t,undefined)};function p(e){return e[this]}function m(e){var t=+this;if(t<0)t=Math.max(0,t+e.length);return e[t]}t.prototype.get=function(e){var t=typeof e==="number";var n;if(!t){if(i){var r=l(e);n=r!==null?r:p}else{n=p}}else{n=m}return this._then(n,undefined,undefined,e,undefined)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var a=e("./util");var s=a.tryCatch;var o=a.errorObj;var l=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");var e=this;var t=e;while(e._isCancellable()){if(!e._cancelBy(t)){if(t._isFollowing()){t._followee().cancel()}else{t._cancelBranched()}break}var n=e._cancellationParent;if(n==null||!n._isCancellable()){if(e._isFollowing()){e._followee().cancel()}else{e._cancelBranched()}break}else{if(e._isFollowing())e._followee().cancel();e._setWillBeCancelled();t=e;e=n}}};t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0};t.prototype._cancelBy=function(e){if(e===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return true}else{this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return true}}return false};t.prototype._cancelBranched=function(){if(this._enoughBranchesHaveCancelled()){this._cancel()}};t.prototype._cancel=function(){if(!this._isCancellable())return;this._setCancelled();l.invoke(this._cancelPromises,this,undefined)};t.prototype._cancelPromises=function(){if(this._length()>0)this._settlePromises()};t.prototype._unsetOnCancel=function(){this._onCancelField=undefined};t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};t.prototype._doInvokeOnCancel=function(e,t){if(a.isArray(e)){for(var n=0;n<e.length;++n){this._doInvokeOnCancel(e[n],t)}}else if(e!==undefined){if(typeof e==="function"){if(!t){var i=s(e).call(this._boundValue());if(i===o){this._attachExtraTrace(i.e);l.throwLater(i.e)}}}else{e._resultCancelled(this)}}};t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel();l.invoke(this._doInvokeOnCancel,this,e)};t.prototype._invokeInternalOnCancel=function(){if(this._isCancellable()){this._doInvokeOnCancel(this._onCancel(),true);this._unsetOnCancel()}};t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util");var i=e("./es5").keys;var r=n.tryCatch;var a=n.errorObj;function s(e,s,o){return function(l){var u=o._boundValue();e:for(var c=0;c<e.length;++c){var d=e[c];if(d===Error||d!=null&&d.prototype instanceof Error){if(l instanceof d){return r(s).call(u,l)}}else if(typeof d==="function"){var f=r(d).call(u,l);if(f===a){return f}else if(f){return r(s).call(u,l)}}else if(n.isObject(l)){var h=i(d);for(var p=0;p<h.length;++p){var m=h[p];if(d[m]!=l[m]){continue e}}return r(s).call(u,l)}}return t}}return s}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=false;var n=[];e.prototype._promiseCreated=function(){};e.prototype._pushContext=function(){};e.prototype._popContext=function(){return null};e._peekContext=e.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(a())}i.prototype._pushContext=function(){if(this._trace!==undefined){this._trace._promiseCreated=null;n.push(this._trace)}};i.prototype._popContext=function(){if(this._trace!==undefined){var e=n.pop();var t=e._promiseCreated;e._promiseCreated=null;return t}return null};function r(){if(t)return new i}function a(){var e=n.length-1;if(e>=0){return n[e]}return undefined}i.CapturedTrace=null;i.create=r;i.deactivateLongStackTraces=function(){};i.activateLongStackTraces=function(){var n=e.prototype._pushContext;var r=e.prototype._popContext;var s=e._peekContext;var o=e.prototype._peekContext;var l=e.prototype._promiseCreated;i.deactivateLongStackTraces=function(){e.prototype._pushContext=n;e.prototype._popContext=r;e._peekContext=s;e.prototype._peekContext=o;e.prototype._promiseCreated=l;t=false};t=true;e.prototype._pushContext=i.prototype._pushContext;e.prototype._popContext=i.prototype._popContext;e._peekContext=e.prototype._peekContext=a;e.prototype._promiseCreated=function(){var e=this._peekContext();if(e&&e._promiseCreated==null)e._promiseCreated=this}};return i}},{}],9:[function(e,t,n){"use strict";t.exports=function(t,n){var i=t._getDomain;var r=t._async;var a=e("./errors").Warning;var s=e("./util");var o=s.canAttachTrace;var l;var u;var c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/;var d=/\((?:timers\.js):\d+:\d+\)/;var f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/;var h=null;var p=null;var m=false;var _;var g=!!(s.env("BLUEBIRD_DEBUG")!=0&&(true||s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development"));var v=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(g||s.env("BLUEBIRD_WARNINGS")));var b=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(g||s.env("BLUEBIRD_LONG_STACK_TRACES")));var y=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(v||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&~1048576|524288};t.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&524288)!==0)return;this._setRejectionIsUnhandled();r.invokeLater(this._notifyUnhandledRejection,this,undefined)};t.prototype._notifyUnhandledRejectionIsHandled=function(){K("rejectionHandled",l,undefined,this)};t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456};t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0};t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified();K("unhandledRejection",u,e,this)}};t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144};t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~262144};t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0};t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576};t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~1048576;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0};t.prototype._warn=function(e,t,n){return H(e,t,n||this)};t.onPossiblyUnhandledRejection=function(e){var t=i();u=typeof e==="function"?t===null?e:s.domainBind(t,e):undefined};t.onUnhandledRejectionHandled=function(e){var t=i();l=typeof e==="function"?t===null?e:s.domainBind(t,e):undefined};var x=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!ae.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}if(!ae.longStackTraces&&Z()){var e=t.prototype._captureStackTrace;var i=t.prototype._attachExtraTrace;ae.longStackTraces=true;x=function(){if(r.haveItemsQueued()&&!ae.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}t.prototype._captureStackTrace=e;t.prototype._attachExtraTrace=i;n.deactivateLongStackTraces();r.enableTrampoline();ae.longStackTraces=false};t.prototype._captureStackTrace=B;t.prototype._attachExtraTrace=U;n.activateLongStackTraces();r.disableTrampolineIfNecessary()}};t.hasLongStackTraces=function(){return ae.longStackTraces&&Z()};var S=function(){try{if(typeof CustomEvent==="function"){var e=new CustomEvent("CustomEvent");s.global.dispatchEvent(e);return function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:true});return!s.global.dispatchEvent(n)}}else if(typeof Event==="function"){var e=new Event("CustomEvent");s.global.dispatchEvent(e);return function(e,t){var n=new Event(e.toLowerCase(),{cancelable:true});n.detail=t;return!s.global.dispatchEvent(n)}}else{var e=document.createEvent("CustomEvent");e.initCustomEvent("testingtheevent",false,true,{});s.global.dispatchEvent(e);return function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e.toLowerCase(),false,true,t);return!s.global.dispatchEvent(n)}}}catch(t){}return function(){return false}}();var w=function(){if(s.isNode){return function(){return process.emit.apply(process,arguments)}}else{if(!s.global){return function(){return false}}return function(e){var t="on"+e.toLowerCase();var n=s.global[t];if(!n)return false;n.apply(s.global,[].slice.call(arguments,1));return true}}}();function L(e,t){return{promise:t}}var E={promiseCreated:L,promiseFulfilled:L,promiseRejected:L,promiseResolved:L,promiseCancelled:L,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:L};var k=function(e){var t=false;try{t=w.apply(null,arguments)}catch(n){r.throwLater(n);t=true}var i=false;try{i=S(e,E[e].apply(null,arguments))}catch(n){r.throwLater(n);i=true}return i||t};t.config=function(e){e=Object(e);if("longStackTraces"in e){if(e.longStackTraces){t.longStackTraces()}else if(!e.longStackTraces&&t.hasLongStackTraces()){x()}}if("warnings"in e){var n=e.warnings;ae.warnings=!!n;y=ae.warnings;if(s.isObject(n)){if("wForgottenReturn"in n){y=!!n.wForgottenReturn}}}if("cancellation"in e&&e.cancellation&&!ae.cancellation){if(r.haveItemsQueued()){throw new Error("cannot enable cancellation after promises are in use")}t.prototype._clearCancellationData=D;t.prototype._propagateFrom=I;t.prototype._onCancel=C;t.prototype._setOnCancel=R;t.prototype._attachCancellationCallback=T;t.prototype._execute=M;N=I;ae.cancellation=true}if("monitoring"in e){if(e.monitoring&&!ae.monitoring){ae.monitoring=true;t.prototype._fireEvent=k}else if(!e.monitoring&&ae.monitoring){ae.monitoring=false;t.prototype._fireEvent=A}}return t};function A(){return false}t.prototype._fireEvent=A;t.prototype._execute=function(e,t,n){try{e(t,n)}catch(i){return i}};t.prototype._onCancel=function(){};t.prototype._setOnCancel=function(e){};t.prototype._attachCancellationCallback=function(e){};t.prototype._captureStackTrace=function(){};t.prototype._attachExtraTrace=function(){};t.prototype._clearCancellationData=function(){};t.prototype._propagateFrom=function(e,t){};function M(e,t,n){var i=this;try{e(t,n,function(e){if(typeof e!=="function"){throw new TypeError("onCancel must be a function, got: "+s.toString(e))}i._attachCancellationCallback(e)})}catch(r){return r}}function T(e){if(!this._isCancellable())return this;var t=this._onCancel();if(t!==undefined){if(s.isArray(t)){t.push(e)}else{this._setOnCancel([t,e])}}else{this._setOnCancel(e)}}function C(){return this._onCancelField}function R(e){this._onCancelField=e}function D(){this._cancellationParent=undefined;this._onCancelField=undefined}function I(e,t){if((t&1)!==0){this._cancellationParent=e;var n=e._branchesRemainingToCancel;if(n===undefined){n=0}e._branchesRemainingToCancel=n+1}if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}function O(e,t){if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}var N=O;function F(){var e=this._boundTo;if(e!==undefined){if(e instanceof t){if(e.isFulfilled()){return e.value()}else{return undefined}}}return e}function B(){this._trace=new ie(this._peekContext())}function U(e,t){if(o(e)){var n=this._trace;if(n!==undefined){if(t)n=n._parent}if(n!==undefined){n.attachExtraTrace(e)}else if(!e.__stackCleaned__){var i=q(e);s.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n"));s.notEnumerableProp(e,"__stackCleaned__",true)}}}function P(e,t,n,i,r){if(e===undefined&&t!==null&&y){if(r!==undefined&&r._returnedNonUndefined())return;if((i._bitField&65535)===0)return;if(n)n=n+" ";var a="";var s="";if(t._trace){var o=t._trace.stack.split("\n");var l=z(o);for(var u=l.length-1;u>=0;--u){var c=l[u];if(!d.test(c)){var h=c.match(f);if(h){a="at "+h[1]+":"+h[2]+":"+h[3]+" "}break}}if(l.length>0){var p=l[0];for(var u=0;u<o.length;++u){if(o[u]===p){if(u>0){s="\n"+o[u-1]}break}}}}var m="a promise was created in a "+n+"handler "+a+"but was not returned from it, "+"see http://goo.gl/rRqMUw"+s;i._warn(m,true,t)}}function Y(e,t){var n=e+" is deprecated and will be removed in a future version.";if(t)n+=" Use "+t+" instead.";return H(n)}function H(e,n,i){if(!ae.warnings)return;var r=new a(e);var s;if(n){i._attachExtraTrace(r)}else if(ae.longStackTraces&&(s=t._peekContext())){s.attachExtraTrace(r)}else{var o=q(r);r.stack=o.message+"\n"+o.stack.join("\n")}if(!k("warning",r)){W(r,"",true)}}function G(e,t){for(var n=0;n<t.length-1;++n){t[n].push("From previous event:");t[n]=t[n].join("\n")}if(n<t.length){t[n]=t[n].join("\n")}return e+"\n"+t.join("\n")}function V(e){for(var t=0;t<e.length;++t){if(e[t].length===0||t+1<e.length&&e[t][0]===e[t+1][0]){e.splice(t,1);t--}}}function j(e){var t=e[0];for(var n=1;n<e.length;++n){var i=e[n];var r=t.length-1;var a=t[r];var s=-1;for(var o=i.length-1;o>=0;--o){if(i[o]===a){s=o;break}}for(var o=s;o>=0;--o){var l=i[o];if(t[r]===l){t.pop();r--}else{break}}t=i}}function z(e){var t=[];for(var n=0;n<e.length;++n){var i=e[n];var r="    (No stack trace)"===i||h.test(i);var a=r&&Q(i);if(r&&!a){if(m&&i.charAt(0)!==" "){i="    "+i}t.push(i)}}return t}function $(e){var t=e.stack.replace(/\s+$/g,"").split("\n");for(var n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||h.test(i)){break}}if(n>0&&e.name!="SyntaxError"){t=t.slice(n)}return t}function q(e){var t=e.stack;var n=e.toString();t=typeof t==="string"&&t.length>0?$(e):["    (No stack trace)"];return{message:n,stack:e.name=="SyntaxError"?t:z(t)}}function W(e,t,n){if(typeof console!=="undefined"){var i;if(s.isObject(e)){var r=e.stack;i=t+p(r,e)}else{i=t+String(e)}if(typeof _==="function"){_(i,n)}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(i)}}}function K(e,t,n,i){var a=false;try{if(typeof t==="function"){a=true;if(e==="rejectionHandled"){t(i)}else{t(n,i)}}}catch(s){r.throwLater(s)}if(e==="unhandledRejection"){if(!k(e,n,i)&&!a){W(n,"Unhandled rejection ")}}else{k(e,i)}}function J(e){var t;if(typeof e==="function"){t="[function "+(e.name||"anonymous")+"]"}else{t=e&&typeof e.toString==="function"?e.toString():s.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t)){try{var i=JSON.stringify(e);t=i}catch(r){}}if(t.length===0){t="(empty array)"}}return"(<"+X(t)+">, no stack trace)"}function X(e){var t=41;if(e.length<t){return e}return e.substr(0,t-3)+"..."}function Z(){return typeof re==="function"}var Q=function(){return false};var ee=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function te(e){var t=e.match(ee);if(t){return{fileName:t[1],line:parseInt(t[2],10)}}}function ne(e,t){if(!Z())return;var n=e.stack.split("\n");var i=t.stack.split("\n");var r=-1;var a=-1;var s;var o;for(var l=0;l<n.length;++l){var u=te(n[l]);if(u){s=u.fileName;r=u.line;break}}for(var l=0;l<i.length;++l){var u=te(i[l]);if(u){o=u.fileName;a=u.line;break}}if(r<0||a<0||!s||!o||s!==o||r>=a){return}Q=function(e){if(c.test(e))return true;var t=te(e);if(t){if(t.fileName===s&&(r<=t.line&&t.line<=a)){return true}}return false}}function ie(e){this._parent=e;this._promisesCreated=0;var t=this._length=1+(e===undefined?0:e._length);re(this,ie);if(t>32)this.uncycle()}s.inherits(ie,Error);n.CapturedTrace=ie;ie.prototype.uncycle=function(){var e=this._length;if(e<2)return;var t=[];var n={};for(var i=0,r=this;r!==undefined;++i){t.push(r);r=r._parent}e=this._length=i;for(var i=e-1;i>=0;--i){var a=t[i].stack;if(n[a]===undefined){n[a]=i}}for(var i=0;i<e;++i){var s=t[i].stack;var o=n[s];if(o!==undefined&&o!==i){if(o>0){t[o-1]._parent=undefined;t[o-1]._length=1}t[i]._parent=undefined;t[i]._length=1;var l=i>0?t[i-1]:this;if(o<e-1){l._parent=t[o+1];l._parent.uncycle();l._length=l._parent._length+1}else{l._parent=undefined;l._length=1}var u=l._length+1;for(var c=i-2;c>=0;--c){t[c]._length=u;u++}return}}};ie.prototype.attachExtraTrace=function(e){if(e.__stackCleaned__)return;this.uncycle();var t=q(e);var n=t.message;var i=[t.stack];var r=this;while(r!==undefined){i.push(z(r.stack.split("\n")));r=r._parent}j(i);V(i);s.notEnumerableProp(e,"stack",G(n,i));s.notEnumerableProp(e,"__stackCleaned__",true)};var re=function se(){var e=/^\s*at\s*/;var t=function(e,t){if(typeof e==="string")return e;if(t.name!==undefined&&t.message!==undefined){return t.toString()}return J(t)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit+=6;h=e;p=t;var n=Error.captureStackTrace;Q=function(e){return c.test(e)};return function(e,t){Error.stackTraceLimit+=6;n(e,t);Error.stackTraceLimit-=6}}var i=new Error;if(typeof i.stack==="string"&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0){h=/@/;p=t;m=true;return function s(e){e.stack=(new Error).stack}}var r;try{throw new Error}catch(a){r="stack"in a}if(!("stack"in i)&&r&&typeof Error.stackTraceLimit==="number"){h=e;p=t;return function o(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6}}p=function(e,t){if(typeof e==="string")return e;if((typeof t==="object"||typeof t==="function")&&t.name!==undefined&&t.message!==undefined){return t.toString()}return J(t)};return null}([]);if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){_=function(e){console.warn(e)};if(s.isNode&&process.stderr.isTTY){_=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}}else if(!s.isNode&&typeof(new Error).stack==="string"){_=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}}}var ae={warnings:v,longStackTraces:false,cancellation:false,monitoring:false};if(b)t.longStackTraces();return{longStackTraces:function(){return ae.longStackTraces},warnings:function(){return ae.warnings},cancellation:function(){return ae.cancellation},monitoring:function(){return ae.monitoring},propagateFromFunction:function(){return N},boundValueFunction:function(){return F},checkForgottenReturns:P,setBounds:ne,warn:H,deprecated:Y,CapturedTrace:ie,fireDomEvent:S,fireGlobalEvent:w}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){if(n instanceof e)n.suppressUnhandledRejections();return this._then(t,undefined,undefined,{value:n},undefined)};e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,undefined,undefined,{reason:e},undefined)};e.prototype.catchThrow=function(e){if(arguments.length<=1){return this._then(undefined,n,undefined,{reason:e},undefined)}else{var t=arguments[1];var i=function(){throw t};return this.caught(e,i)}};e.prototype.catchReturn=function(n){if(arguments.length<=1){if(n instanceof e)n.suppressUnhandledRejections();return this._then(undefined,t,undefined,{value:n},undefined)}else{var i=arguments[1];if(i instanceof e)i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce;var i=e.all;function r(){return i(this)}function a(e,i){return n(e,i,t,t)}e.prototype.each=function(e){return n(this,e,t,0)._then(r,undefined,undefined,this,undefined)};e.prototype.mapSeries=function(e){return n(this,e,t,t)};e.each=function(e,i){return n(e,i,t,0)._then(r,undefined,undefined,e,undefined)};e.mapSeries=a}},{}],12:[function(e,t,n){"use strict";var i=e("./es5");var r=i.freeze;var a=e("./util");var s=a.inherits;var o=a.notEnumerableProp;function l(e,t){function n(i){if(!(this instanceof n))return new n(i);o(this,"message",typeof i==="string"?i:t);o(this,"name",e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}s(n,Error);return n}var u,c;var d=l("Warning","warning");var f=l("CancellationError","cancellation error");var h=l("TimeoutError","timeout error");var p=l("AggregateError","aggregate error");try{u=TypeError;c=RangeError}catch(m){u=l("TypeError","type error");c=l("RangeError","range error")}var _=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var g=0;g<_.length;++g){if(typeof Array.prototype[_[g]]==="function"){p.prototype[_[g]]=Array.prototype[_[g]]}}i.defineProperty(p.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});p.prototype["isOperational"]=true;var v=0;p.prototype.toString=function(){var e=Array(v*4+1).join(" ");var t="\n"+e+"AggregateError of:"+"\n";v++;e=Array(v*4+1).join(" ");for(var n=0;n<this.length;++n){var i=this[n]===this?"[Circular AggregateError]":this[n]+"";var r=i.split("\n");for(var a=0;a<r.length;++a){r[a]=e+r[a]}i=r.join("\n");t+=i+"\n"}v--;return t};function b(e){if(!(this instanceof b))return new b(e);o(this,"name","OperationalError");o(this,"message",e);this.cause=e;this["isOperational"]=true;if(e instanceof Error){o(this,"message",e.message);o(this,"stack",e.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}s(b,Error);var y=Error["__BluebirdErrorTypes__"];if(!y){y=r({CancellationError:f,TimeoutError:h,OperationalError:b,RejectionError:b,AggregateError:p});i.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:false,enumerable:false,configurable:false})}t.exports={Error:Error,TypeError:u,RangeError:c,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return this===undefined}();if(i){t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!(!n||n.writable||n.set)}}}else{var r={}.hasOwnProperty;var a={}.toString;var s={}.constructor.prototype;var o=function(e){var t=[];for(var n in e){if(r.call(e,n)){t.push(n)}}return t};var l=function(e,t){return{value:e[t]}};var u=function(e,t,n){e[t]=n.value;return e};var c=function(e){return e};var d=function(e){try{return Object(e).constructor.prototype}catch(t){return s}};var f=function(e){try{return a.call(e)==="[object Array]"}catch(t){return false}};t.exports={isArray:f,keys:o,names:o,defineProperty:u,getDescriptor:l,freeze:c,getPrototypeOf:d,isES5:i,propertyIsWritable:function(){return true}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)};e.filter=function(e,i,r){return n(e,i,r,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n){var i=e("./util");var r=t.CancellationError;var a=i.errorObj;function s(e,t,n){this.promise=e;this.type=t;this.handler=n;this.called=false;this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function o(e){this.finallyHandler=e}o.prototype._resultCancelled=function(){l(this.finallyHandler)};function l(e,t){if(e.cancelPromise!=null){if(arguments.length>1){e.cancelPromise._reject(t)}else{e.cancelPromise._cancel()}e.cancelPromise=null;return true}return false}function u(){return d.call(this,this.promise._target()._settledValue())}function c(e){if(l(this,e))return;a.e=e;return a}function d(e){var i=this.promise;var s=this.handler;if(!this.called){this.called=true;var d=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),e);if(d!==undefined){i._setReturnedNonUndefined();var f=n(d,i);if(f instanceof t){if(this.cancelPromise!=null){if(f._isCancelled()){var h=new r("late cancellation observer");i._attachExtraTrace(h);a.e=h;return a}else if(f.isPending()){f._attachCancellationCallback(new o(this))}}return f._then(u,c,undefined,this,undefined)}}}if(i.isRejected()){l(this);a.e=e;return a}else{l(this);return e}}t.prototype._passThrough=function(e,t,n,i){if(typeof e!=="function")return this.then();return this._then(n,i,undefined,new s(this,t,e),undefined)};t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,d,d)};t.prototype.tap=function(e){return this._passThrough(e,1,d)};return s}},{"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,a,s){var o=e("./errors");var l=o.TypeError;

var u=e("./util");var c=u.errorObj;var d=u.tryCatch;var f=[];function h(e,n,i){for(var a=0;a<n.length;++a){i._pushContext();var s=d(n[a])(e);i._popContext();if(s===c){i._pushContext();var o=t.reject(c.e);i._popContext();return o}var l=r(s,i);if(l instanceof t)return l}return null}function p(e,n,r,a){if(s.cancellation()){var o=new t(i);var l=this._finallyPromise=new t(i);this._promise=o.lastly(function(){return l});o._captureStackTrace();o._setOnCancel(this)}else{var u=this._promise=new t(i);u._captureStackTrace()}this._stack=a;this._generatorFunction=e;this._receiver=n;this._generator=undefined;this._yieldHandlers=typeof r==="function"?[r].concat(f):f;this._yieldedPromise=null;this._cancellationPhase=false}u.inherits(p,a);p.prototype._isResolved=function(){return this._promise===null};p.prototype._cleanup=function(){this._promise=this._generator=null;if(s.cancellation()&&this._finallyPromise!==null){this._finallyPromise._fulfill();this._finallyPromise=null}};p.prototype._promiseCancelled=function(){if(this._isResolved())return;var e=typeof this._generator["return"]!=="undefined";var n;if(!e){var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i;this._promise._attachExtraTrace(i);this._promise._pushContext();n=d(this._generator["throw"]).call(this._generator,i);this._promise._popContext()}else{this._promise._pushContext();n=d(this._generator["return"]).call(this._generator,undefined);this._promise._popContext()}this._cancellationPhase=true;this._yieldedPromise=null;this._continue(n)};p.prototype._promiseFulfilled=function(e){this._yieldedPromise=null;this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext();this._continue(t)};p.prototype._promiseRejected=function(e){this._yieldedPromise=null;this._promise._attachExtraTrace(e);this._promise._pushContext();var t=d(this._generator["throw"]).call(this._generator,e);this._promise._popContext();this._continue(t)};p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null;e.cancel()}};p.prototype.promise=function(){return this._promise};p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._promiseFulfilled(undefined)};p.prototype._continue=function(e){var n=this._promise;if(e===c){this._cleanup();if(this._cancellationPhase){return n.cancel()}else{return n._rejectCallback(e.e,false)}}var i=e.value;if(e.done===true){this._cleanup();if(this._cancellationPhase){return n.cancel()}else{return n._resolveCallback(i)}}else{var a=r(i,this._promise);if(!(a instanceof t)){a=h(a,this._yieldHandlers,this._promise);if(a===null){this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",i)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}a=a._target();var s=a._bitField;if((s&50397184)===0){this._yieldedPromise=a;a._proxy(this,null)}else if((s&33554432)!==0){t._async.invoke(this._promiseFulfilled,this,a._value())}else if((s&16777216)!==0){t._async.invoke(this._promiseRejected,this,a._reason())}else{this._promiseCancelled()}}};t.coroutine=function(e,t){if(typeof e!=="function"){throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var n=Object(t).yieldHandler;var i=p;var r=(new Error).stack;return function(){var t=e.apply(this,arguments);var a=new i(undefined,undefined,n,r);var s=a.promise();a._generator=t;a._promiseFulfilled(undefined);return s}};t.coroutine.addYieldHandler=function(e){if(typeof e!=="function"){throw new l("expecting a function but got "+u.classString(e))}f.push(e)};t.spawn=function(e){s.deprecated("Promise.spawn()","Promise.coroutine()");if(typeof e!=="function"){return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var i=new p(e,this);var r=i.promise();i._run(t.spawn);return r}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,a,s){var o=e("./util");var l=o.canEvaluate;var u=o.tryCatch;var c=o.errorObj;var d;if(false){if(l){var f=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))};var h=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))};var p=function(e){var n=new Array(e);for(var i=0;i<n.length;++i){n[i]="this.p"+(i+1)}var r=n.join(" = ")+" = null;";var s="var promise;\n"+n.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n");var o=n.join(", ");var l="Holder$"+e;var d="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";d=d.replace(/\[TheName\]/g,l).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,o).replace(/\[TheProperties\]/g,r).replace(/\[CancellationCode\]/g,s);return new Function("tryCatch","errorObj","Promise","async",d)(u,c,t,a)};var m=[];var _=[];var g=[];for(var v=0;v<8;++v){m.push(p(v+1));_.push(f(v+1));g.push(h(v+1))}d=function(e){this._reject(e)}}}t.join=function(){var e=arguments.length-1;var a;if(e>0&&typeof arguments[e]==="function"){a=arguments[e];if(false){if(e<=8&&l){var u=new t(r);u._captureStackTrace();var c=m[e-1];var f=new c(a);var h=_;for(var p=0;p<e;++p){var v=i(arguments[p],u);if(v instanceof t){v=v._target();var b=v._bitField;if((b&50397184)===0){v._then(h[p],d,undefined,u,f);g[p](v,f);f.asyncNeeded=false}else if((b&33554432)!==0){h[p].call(u,v._value(),f)}else if((b&16777216)!==0){u._reject(v._reason())}else{u._cancel()}}else{h[p].call(u,v,f)}}if(!u._isFateSealed()){if(f.asyncNeeded){var y=s();if(y!==null){f.fn=o.domainBind(y,f.fn)}}u._setAsyncGuaranteed();u._setOnCancel(f)}return u}}}var x=[].slice.call(arguments);if(a)x.pop();var u=new n(x).promise();return a!==undefined?u.spread(a):u}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,a,s){var o=t._getDomain;var l=e("./util");var u=l.tryCatch;var c=l.errorObj;var d=t._async;function f(e,t,n,i){this.constructor$(e);this._promise._captureStackTrace();var r=o();this._callback=r===null?t:l.domainBind(r,t);this._preservedValues=i===a?new Array(this.length()):null;this._limit=n;this._inFlight=0;this._queue=[];d.invoke(this._asyncInit,this,undefined)}l.inherits(f,n);f.prototype._asyncInit=function(){this._init$(undefined,-2)};f.prototype._init=function(){};f.prototype._promiseFulfilled=function(e,n){var i=this._values;var a=this.length();var o=this._preservedValues;var l=this._limit;if(n<0){n=n*-1-1;i[n]=e;if(l>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return true}}else{if(l>=1&&this._inFlight>=l){i[n]=e;this._queue.push(n);return false}if(o!==null)o[n]=e;var d=this._promise;var f=this._callback;var h=d._boundValue();d._pushContext();var p=u(f).call(h,e,n,a);var m=d._popContext();s.checkForgottenReturns(p,m,o!==null?"Promise.filter":"Promise.map",d);if(p===c){this._reject(p.e);return true}var _=r(p,this._promise);if(_ instanceof t){_=_._target();var g=_._bitField;if((g&50397184)===0){if(l>=1)this._inFlight++;i[n]=_;_._proxy(this,(n+1)*-1);return false}else if((g&33554432)!==0){p=_._value()}else if((g&16777216)!==0){this._reject(_._reason());return true}else{this._cancel();return true}}i[n]=p}var v=++this._totalResolved;if(v>=a){if(o!==null){this._filter(i,o)}else{this._resolve(i)}return true}return false};f.prototype._drainQueue=function(){var e=this._queue;var t=this._limit;var n=this._values;while(e.length>0&&this._inFlight<t){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}};f.prototype._filter=function(e,t){var n=t.length;var i=new Array(n);var r=0;for(var a=0;a<n;++a){if(e[a])i[r++]=t[a]}i.length=r;this._resolve(i)};f.prototype.preservedValues=function(){return this._preservedValues};function h(e,n,r,a){if(typeof n!=="function"){return i("expecting a function but got "+l.classString(n))}var s=0;if(r!==undefined){if(typeof r==="object"&&r!==null){if(typeof r.concurrency!=="number"){return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(r.concurrency)))}s=r.concurrency}else{return t.reject(new TypeError("options argument must be an object but it is "+l.classString(r)))}}s=typeof s==="number"&&isFinite(s)&&s>=1?s:0;return new f(e,n,s,a).promise()}t.prototype.map=function(e,t){return h(this,e,t,null)};t.map=function(e,t,n,i){return h(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,a){var s=e("./util");var o=s.tryCatch;t.method=function(e){if(typeof e!=="function"){throw new t.TypeError("expecting a function but got "+s.classString(e))}return function(){var i=new t(n);i._captureStackTrace();i._pushContext();var r=o(e).apply(this,arguments);var s=i._popContext();a.checkForgottenReturns(r,s,"Promise.method",i);i._resolveFromSyncValue(r);return i}};t.attempt=t["try"]=function(e){if(typeof e!=="function"){return r("expecting a function but got "+s.classString(e))}var i=new t(n);i._captureStackTrace();i._pushContext();var l;if(arguments.length>1){a.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1];var c=arguments[2];l=s.isArray(u)?o(e).apply(c,u):o(e).call(c,u)}else{l=o(e)()}var d=i._popContext();a.checkForgottenReturns(l,d,"Promise.try",i);i._resolveFromSyncValue(l);return i};t.prototype._resolveFromSyncValue=function(e){if(e===s.errorObj){this._rejectCallback(e.e,false)}else{this._resolveCallback(e,true)}}}},{"./util":36}],20:[function(e,t,n){"use strict";var i=e("./util");var r=i.maybeWrapAsError;var a=e("./errors");var s=a.OperationalError;var o=e("./es5");function l(e){return e instanceof Error&&o.getPrototypeOf(e)===Error.prototype}var u=/^(?:name|message|stack|cause)$/;function c(e){var t;if(l(e)){t=new s(e);t.name=e.name;t.message=e.message;t.stack=e.stack;var n=o.keys(e);for(var r=0;r<n.length;++r){var a=n[r];if(!u.test(a)){t[a]=e[a]}}return t}i.markAsOriginatingFromRejection(e);return e}function d(e,t){return function(n,i){if(e===null)return;if(n){var a=c(r(n));e._attachExtraTrace(a);e._reject(a)}else if(!t){e._fulfill(i)}else{var s=[].slice.call(arguments,1);e._fulfill(s)}e=null}}t.exports=d},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util");var i=t._async;var r=n.tryCatch;var a=n.errorObj;function s(e,t){var s=this;if(!n.isArray(e))return o.call(s,e,t);var l=r(t).apply(s._boundValue(),[null].concat(e));if(l===a){i.throwLater(l.e)}}function o(e,t){var n=this;var s=n._boundValue();var o=e===undefined?r(t).call(s,null):r(t).call(s,null,e);if(o===a){i.throwLater(o.e)}}function l(e,t){var n=this;if(!e){var s=new Error(e+"");s.cause=e;e=s}var o=r(t).call(n._boundValue(),e);if(o===a){i.throwLater(o.e)}}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if(typeof e=="function"){var n=o;if(t!==undefined&&Object(t).spread){n=s}this._then(n,l,undefined,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){"use strict";t.exports=function(){var n=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")};var i=function(){return new C.PromiseInspection(this._target())};var r=function(e){return C.reject(new h(e))};function a(){}var s={};var o=e("./util");var l;if(o.isNode){l=function(){var e=process.domain;if(e===undefined)e=null;return e}}else{l=function(){return null}}o.notEnumerableProp(C,"_getDomain",l);var u=e("./es5");var c=e("./async");var d=new c;u.defineProperty(C,"_async",{value:d});var f=e("./errors");var h=C.TypeError=f.TypeError;C.RangeError=f.RangeError;var p=C.CancellationError=f.CancellationError;C.TimeoutError=f.TimeoutError;C.OperationalError=f.OperationalError;C.RejectionError=f.OperationalError;C.AggregateError=f.AggregateError;var m=function(){};var _={};var g={};var v=e("./thenables")(C,m);var b=e("./promise_array")(C,m,v,r,a);var y=e("./context")(C);var x=y.create;var S=e("./debuggability")(C,y);var w=S.CapturedTrace;var L=e("./finally")(C,v);var E=e("./catch_filter")(g);var k=e("./nodeback");var A=o.errorObj;var M=o.tryCatch;function T(e,t){if(typeof t!=="function"){throw new h("expecting a function but got "+o.classString(t))}if(e.constructor!==C){throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}}function C(e){this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;if(e!==m){T(this,e);this._resolveFromExecutor(e)}this._promiseCreated();this._fireEvent("promiseCreated",this)}C.prototype.toString=function(){return"[object Promise]"};C.prototype.caught=C.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n=new Array(t-1),i=0,a;for(a=0;a<t-1;++a){var s=arguments[a];if(o.isObject(s)){n[i++]=s}else{return r("expecting an object but got "+"A catch statement predicate "+o.classString(s))}}n.length=i;e=arguments[a];return this.then(undefined,E(n,e,this))}return this.then(undefined,e)};C.prototype.reflect=function(){return this._then(i,i,undefined,this,undefined)};C.prototype.then=function(e,t){if(S.warnings()&&arguments.length>0&&typeof e!=="function"&&typeof t!=="function"){var n=".then() only accepts functions but was passed: "+o.classString(e);if(arguments.length>1){n+=", "+o.classString(t)}this._warn(n)}return this._then(e,t,undefined,undefined,undefined)};C.prototype.done=function(e,t){var n=this._then(e,t,undefined,undefined,undefined);n._setIsFinal()};C.prototype.spread=function(e){if(typeof e!=="function"){return r("expecting a function but got "+o.classString(e))}return this.all()._then(e,undefined,undefined,_,undefined)};C.prototype.toJSON=function(){var e={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){e.fulfillmentValue=this.value();e.isFulfilled=true}else if(this.isRejected()){e.rejectionReason=this.reason();e.isRejected=true}return e};C.prototype.all=function(){if(arguments.length>0){this._warn(".all() was passed arguments but it does not take any")}return new b(this).promise()};C.prototype.error=function(e){return this.caught(o.originatesFromRejection,e)};C.getNewLibraryCopy=t.exports;C.is=function(e){return e instanceof C};C.fromNode=C.fromCallback=function(e){var t=new C(m);t._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:false;var i=M(e)(k(t,n));if(i===A){t._rejectCallback(i.e,true)}if(!t._isFateSealed())t._setAsyncGuaranteed();return t};C.all=function(e){return new b(e).promise()};C.cast=function(e){var t=v(e);if(!(t instanceof C)){t=new C(m);t._captureStackTrace();t._setFulfilled();t._rejectionHandler0=e}return t};C.resolve=C.fulfilled=C.cast;C.reject=C.rejected=function(e){var t=new C(m);t._captureStackTrace();t._rejectCallback(e,true);return t};C.setScheduler=function(e){if(typeof e!=="function"){throw new h("expecting a function but got "+o.classString(e))}return d.setScheduler(e)};C.prototype._then=function(e,t,n,i,r){var a=r!==undefined;var s=a?r:new C(m);var u=this._target();var c=u._bitField;if(!a){s._propagateFrom(this,3);s._captureStackTrace();if(i===undefined&&(this._bitField&2097152)!==0){if(!((c&50397184)===0)){i=this._boundValue()}else{i=u===this?undefined:this._boundTo}}this._fireEvent("promiseChained",this,s)}var f=l();if(!((c&50397184)===0)){var h,_,g=u._settlePromiseCtx;if((c&33554432)!==0){_=u._rejectionHandler0;h=e}else if((c&16777216)!==0){_=u._fulfillmentHandler0;h=t;u._unsetRejectionIsUnhandled()}else{g=u._settlePromiseLateCancellationObserver;_=new p("late cancellation observer");u._attachExtraTrace(_);h=t}d.invoke(g,u,{handler:f===null?h:typeof h==="function"&&o.domainBind(f,h),promise:s,receiver:i,value:_})}else{u._addCallbacks(e,t,s,i,f)}return s};C.prototype._length=function(){return this._bitField&65535};C.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0};C.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864};C.prototype._setLength=function(e){this._bitField=this._bitField&-65536|e&65535};C.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432;this._fireEvent("promiseFulfilled",this)};C.prototype._setRejected=function(){this._bitField=this._bitField|16777216;this._fireEvent("promiseRejected",this)};C.prototype._setFollowing=function(){this._bitField=this._bitField|67108864;this._fireEvent("promiseResolved",this)};C.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304};C.prototype._isFinal=function(){return(this._bitField&4194304)>0};C.prototype._unsetCancelled=function(){this._bitField=this._bitField&~65536};C.prototype._setCancelled=function(){this._bitField=this._bitField|65536;this._fireEvent("promiseCancelled",this)};C.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608};C.prototype._setAsyncGuaranteed=function(){if(d.hasCustomScheduler())return;this._bitField=this._bitField|134217728};C.prototype._receiverAt=function(e){var t=e===0?this._receiver0:this[e*4-4+3];if(t===s){return undefined}else if(t===undefined&&this._isBound()){return this._boundValue()}return t};C.prototype._promiseAt=function(e){return this[e*4-4+2]};C.prototype._fulfillmentHandlerAt=function(e){return this[e*4-4+0]};C.prototype._rejectionHandlerAt=function(e){return this[e*4-4+1]};C.prototype._boundValue=function(){};C.prototype._migrateCallback0=function(e){var t=e._bitField;var n=e._fulfillmentHandler0;var i=e._rejectionHandler0;var r=e._promise0;var a=e._receiverAt(0);if(a===undefined)a=s;this._addCallbacks(n,i,r,a,null)};C.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t);var i=e._rejectionHandlerAt(t);var r=e._promiseAt(t);var a=e._receiverAt(t);if(a===undefined)a=s;this._addCallbacks(n,i,r,a,null)};C.prototype._addCallbacks=function(e,t,n,i,r){var a=this._length();if(a>=65535-4){a=0;this._setLength(0)}if(a===0){this._promise0=n;this._receiver0=i;if(typeof e==="function"){this._fulfillmentHandler0=r===null?e:o.domainBind(r,e)}if(typeof t==="function"){this._rejectionHandler0=r===null?t:o.domainBind(r,t)}}else{var s=a*4-4;this[s+2]=n;this[s+3]=i;if(typeof e==="function"){this[s+0]=r===null?e:o.domainBind(r,e)}if(typeof t==="function"){this[s+1]=r===null?t:o.domainBind(r,t)}}this._setLength(a+1);return a};C.prototype._proxy=function(e,t){this._addCallbacks(undefined,undefined,t,e,null)};C.prototype._resolveCallback=function(e,t){if((this._bitField&117506048)!==0)return;if(e===this)return this._rejectCallback(n(),false);var i=v(e,this);if(!(i instanceof C))return this._fulfill(e);if(t)this._propagateFrom(i,2);var r=i._target();if(r===this){this._reject(n());return}var a=r._bitField;if((a&50397184)===0){var s=this._length();if(s>0)r._migrateCallback0(this);for(var o=1;o<s;++o){r._migrateCallbackAt(this,o)}this._setFollowing();this._setLength(0);this._setFollowee(r)}else if((a&33554432)!==0){this._fulfill(r._value())}else if((a&16777216)!==0){this._reject(r._reason())}else{var l=new p("late cancellation observer");r._attachExtraTrace(l);this._reject(l)}};C.prototype._rejectCallback=function(e,t,n){var i=o.ensureErrorObject(e);var r=i===e;if(!r&&!n&&S.warnings()){var a="a promise was rejected with a non-error: "+o.classString(e);this._warn(a,true)}this._attachExtraTrace(i,t?r:false);this._reject(e)};C.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace();this._pushContext();var n=true;var i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=false;this._popContext();if(i!==undefined){t._rejectCallback(i,true)}};C.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if((r&65536)!==0)return;i._pushContext();var a;if(t===_){if(!n||typeof n.length!=="number"){a=A;a.e=new h("cannot .spread() a non-array: "+o.classString(n))}else{a=M(e).apply(this._boundValue(),n)}}else{a=M(e).call(t,n)}var s=i._popContext();r=i._bitField;if((r&65536)!==0)return;if(a===g){i._reject(n)}else if(a===A){i._rejectCallback(a.e,false)}else{S.checkForgottenReturns(a,s,"",i,this);i._resolveCallback(a)}};C.prototype._target=function(){var e=this;while(e._isFollowing())e=e._followee();return e};C.prototype._followee=function(){return this._rejectionHandler0};C.prototype._setFollowee=function(e){this._rejectionHandler0=e};C.prototype._settlePromise=function(e,t,n,r){var s=e instanceof C;var o=this._bitField;var l=(o&134217728)!==0;if((o&65536)!==0){if(s)e._invokeInternalOnCancel();if(n instanceof L&&n.isFinallyHandler()){n.cancelPromise=e;if(M(t).call(n,r)===A){e._reject(A.e)}}else if(t===i){e._fulfill(i.call(n))}else if(n instanceof a){n._promiseCancelled(e)}else if(s||e instanceof b){e._cancel()}else{n.cancel()}}else if(typeof t==="function"){if(!s){t.call(n,r,e)}else{if(l)e._setAsyncGuaranteed();this._settlePromiseFromHandler(t,n,r,e)}}else if(n instanceof a){if(!n._isResolved()){if((o&33554432)!==0){n._promiseFulfilled(r,e)}else{n._promiseRejected(r,e)}}}else if(s){if(l)e._setAsyncGuaranteed();if((o&33554432)!==0){e._fulfill(r)}else{e._reject(r)}}};C.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler;var n=e.promise;var i=e.receiver;var r=e.value;if(typeof t==="function"){if(!(n instanceof C)){t.call(i,r,n)}else{this._settlePromiseFromHandler(t,i,r,n)}}else if(n instanceof C){n._reject(r)}};C.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)};C.prototype._settlePromise0=function(e,t,n){var i=this._promise0;var r=this._receiverAt(0);this._promise0=undefined;this._receiver0=undefined;this._settlePromise(i,e,r,t)};C.prototype._clearCallbackDataAtIndex=function(e){var t=e*4-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=undefined};C.prototype._fulfill=function(e){var t=this._bitField;if((t&117506048)>>>16)return;if(e===this){var i=n();this._attachExtraTrace(i);return this._reject(i)}this._setFulfilled();this._rejectionHandler0=e;if((t&65535)>0){if((t&134217728)!==0){this._settlePromises()}else{d.settlePromises(this)}}};C.prototype._reject=function(e){var t=this._bitField;if((t&117506048)>>>16)return;this._setRejected();this._fulfillmentHandler0=e;if(this._isFinal()){return d.fatalError(e,o.isNode)}if((t&65535)>0){d.settlePromises(this)}else{this._ensurePossibleRejectionHandled()}};C.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n);var r=this._promiseAt(n);var a=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(r,i,a,t)}};C.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n);var r=this._promiseAt(n);var a=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(r,i,a,t)}};C.prototype._settlePromises=function(){var e=this._bitField;var t=e&65535;if(t>0){if((e&16842752)!==0){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e);this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e);this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()};C.prototype._settledValue=function(){var e=this._bitField;if((e&33554432)!==0){return this._rejectionHandler0}else if((e&16777216)!==0){return this._fulfillmentHandler0}};function R(e){this.promise._resolveCallback(e)}function D(e){this.promise._rejectCallback(e,false)}C.defer=C.pending=function(){S.deprecated("Promise.defer","new Promise");var e=new C(m);return{promise:e,resolve:R,reject:D}};o.notEnumerableProp(C,"_makeSelfResolutionError",n);e("./method")(C,m,v,r,S);e("./bind")(C,m,v,S);e("./cancel")(C,b,r,S);e("./direct_resolve")(C);e("./synchronous_inspection")(C);e("./join")(C,b,v,m,d,l);C.Promise=C;C.version="3.4.7";e("./map.js")(C,b,r,v,m,S);e("./call_get.js")(C);e("./using.js")(C,r,v,x,m,S);e("./timers.js")(C,m,S);e("./generators.js")(C,r,m,v,a,S);e("./nodeify.js")(C);e("./promisify.js")(C,m);e("./props.js")(C,b,v,r);e("./race.js")(C,m,v,r);e("./reduce.js")(C,b,r,v,m,S);e("./settle.js")(C,b,S);e("./some.js")(C,b,r);e("./filter.js")(C,m);e("./each.js")(C,m);e("./any.js")(C);o.toFastProperties(C);o.toFastProperties(C.prototype);function I(e){var t=new C(m);t._fulfillmentHandler0=e;t._rejectionHandler0=e;t._promise0=e;t._receiver0=e}I({a:1});I({b:2});I({c:3});I(1);I(function(){});I(undefined);I(false);I(new C(m));S.setBounds(c.firstLineError,o.lastLineError);return C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,a){var s=e("./util");var o=s.isArray;function l(e){switch(e){case-2:return[];case-3:return{}}}function u(e){var i=this._promise=new t(n);if(e instanceof t){i._propagateFrom(e,3)}i._setOnCancel(this);this._values=e;this._length=0;this._totalResolved=0;this._init(undefined,-2)}s.inherits(u,a);u.prototype.length=function(){return this._length};u.prototype.promise=function(){return this._promise};u.prototype._init=function c(e,n){var a=i(this._values,this._promise);if(a instanceof t){a=a._target();var o=a._bitField;this._values=a;if((o&50397184)===0){this._promise._setAsyncGuaranteed();return a._then(c,this._reject,undefined,this,n)}else if((o&33554432)!==0){a=a._value()}else if((o&16777216)!==0){return this._reject(a._reason())}else{return this._cancel()}}a=s.asArray(a);if(a===null){var u=r("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(u,false);return}if(a.length===0){if(n===-5){this._resolveEmptyArray()}else{this._resolve(l(n))}return}this._iterate(a)};u.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n;this._values=this.shouldCopyValues()?new Array(n):this._values;var r=this._promise;var a=false;var s=null;for(var o=0;o<n;++o){var l=i(e[o],r);if(l instanceof t){l=l._target();s=l._bitField}else{s=null}if(a){if(s!==null){l.suppressUnhandledRejections()}}else if(s!==null){if((s&50397184)===0){l._proxy(this,o);this._values[o]=l}else if((s&33554432)!==0){a=this._promiseFulfilled(l._value(),o)}else if((s&16777216)!==0){a=this._promiseRejected(l._reason(),o)}else{a=this._promiseCancelled(o)}}else{a=this._promiseFulfilled(l,o)}}if(!a)r._setAsyncGuaranteed()};u.prototype._isResolved=function(){return this._values===null};u.prototype._resolve=function(e){this._values=null;this._promise._fulfill(e)};u.prototype._cancel=function(){if(this._isResolved()||!this._promise._isCancellable())return;this._values=null;this._promise._cancel()};u.prototype._reject=function(e){this._values=null;this._promise._rejectCallback(e,false)};u.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};u.prototype._promiseCancelled=function(){this._cancel();return true};u.prototype._promiseRejected=function(e){this._totalResolved++;this._reject(e);return true};u.prototype._resultCancelled=function(){if(this._isResolved())return;var e=this._values;this._cancel();if(e instanceof t){e.cancel()}else{for(var n=0;n<e.length;++n){if(e[n]instanceof t){e[n].cancel()}}}};u.prototype.shouldCopyValues=function(){return true};u.prototype.getActualLength=function(e){return e};return u}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var i={};var r=e("./util");var a=e("./nodeback");var s=r.withAppended;var o=r.maybeWrapAsError;var l=r.canEvaluate;var u=e("./errors").TypeError;var c="Async";var d={__isPromisified__:true};var f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var h=new RegExp("^(?:"+f.join("|")+")$");var p=function(e){return r.isIdentifier(e)&&e.charAt(0)!=="_"&&e!=="constructor"};function m(e){return!h.test(e)}function _(e){try{return e.__isPromisified__===true}catch(t){return false}}function g(e,t,n){var i=r.getDataPropertyOrDefault(e,t+n,d);return i?_(i):false}function v(e,t,n){for(var i=0;i<e.length;i+=2){
var r=e[i];if(n.test(r)){var a=r.replace(n,"");for(var s=0;s<e.length;s+=2){if(e[s]===a){throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}}}}function b(e,t,n,i){var a=r.inheritedDataKeys(e);var s=[];for(var o=0;o<a.length;++o){var l=a[o];var u=e[l];var c=i===p?true:p(l,u,e);if(typeof u==="function"&&!_(u)&&!g(e,l,t)&&i(l,u,e,c)){s.push(l,u)}}v(s,t,n);return s}var y=function(e){return e.replace(/([$])/,"\\$")};var x;if(false){var S=function(e){var t=[e];var n=Math.max(0,e-1-3);for(var i=e-1;i>=n;--i){t.push(i)}for(var i=e+1;i<=3;++i){t.push(i)}return t};var w=function(e){return r.filledRange(e,"_arg","")};var L=function(e){return r.filledRange(Math.max(e,3),"_arg","")};var E=function(e){if(typeof e.length==="number"){return Math.max(Math.min(e.length,1023+1),0)}return 0};x=function(e,l,u,c,d,f){var h=Math.max(0,E(c)-1);var p=S(h);var m=typeof e==="string"||l===i;function _(e){var t=w(e).join(", ");var n=e>0?", ":"";var i;if(m){i="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{i=l===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return i.replace("{{args}}",t).replace(", ",n)}function g(){var e="";for(var t=0;t<p.length;++t){e+="case "+p[t]+":"+_(p[t])}e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",m?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return e}var v=typeof e==="string"?"this != null ? this['"+e+"'] : fn":"fn";var b="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+f+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",g()).replace("[GetFunctionCode]",v);b=b.replace("Parameters",L(h));return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",b)(t,c,l,s,o,a,r.tryCatch,r.errorObj,r.notEnumerableProp,n)}}function k(e,l,u,c,d,f){var h=function(){return this}();var p=e;if(typeof p==="string"){e=c}function m(){var r=l;if(l===i)r=this;var u=new t(n);u._captureStackTrace();var c=typeof p==="string"&&this!==h?this[p]:e;var d=a(u,f);try{c.apply(r,s(arguments,d))}catch(m){u._rejectCallback(o(m),true,true)}if(!u._isFateSealed())u._setAsyncGuaranteed();return u}r.notEnumerableProp(m,"__isPromisified__",true);return m}var A=l?x:k;function M(e,t,n,a,s){var o=new RegExp(y(t)+"$");var l=b(e,t,o,n);for(var u=0,c=l.length;u<c;u+=2){var d=l[u];var f=l[u+1];var h=d+t;if(a===A){e[h]=A(d,i,d,f,t,s)}else{var p=a(f,function(){return A(d,i,d,f,t,s)});r.notEnumerableProp(p,"__isPromisified__",true);e[h]=p}}r.toFastProperties(e);return e}function T(e,t,n){return A(e,t,undefined,e,null,n)}t.promisify=function(e,t){if(typeof e!=="function"){throw new u("expecting a function but got "+r.classString(e))}if(_(e)){return e}t=Object(t);var n=t.context===undefined?i:t.context;var a=!!t.multiArgs;var s=T(e,n,a);r.copyDescriptors(e,s,m);return s};t.promisifyAll=function(e,t){if(typeof e!=="function"&&typeof e!=="object"){throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n")}t=Object(t);var n=!!t.multiArgs;var i=t.suffix;if(typeof i!=="string")i=c;var a=t.filter;if(typeof a!=="function")a=p;var s=t.promisifier;if(typeof s!=="function")s=A;if(!r.isIdentifier(i)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n")}var o=r.inheritedDataKeys(e);for(var l=0;l<o.length;++l){var d=e[o[l]];if(o[l]!=="constructor"&&r.isClass(d)){M(d.prototype,i,a,s,n);M(d,i,a,s,n)}}return M(e,i,a,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var a=e("./util");var s=a.isObject;var o=e("./es5");var l;if(typeof Map==="function")l=Map;var u=function(){var e=0;var t=0;function n(n,i){this[e]=n;this[e+t]=i;e++}return function i(r){t=r.size;e=0;var a=new Array(r.size*2);r.forEach(n,a);return a}}();var c=function(e){var t=new l;var n=e.length/2|0;for(var i=0;i<n;++i){var r=e[n+i];var a=e[i];t.set(r,a)}return t};function d(e){var t=false;var n;if(l!==undefined&&e instanceof l){n=u(e);t=true}else{var i=o.keys(e);var r=i.length;n=new Array(r*2);for(var a=0;a<r;++a){var s=i[a];n[a]=e[s];n[a+r]=s}}this.constructor$(n);this._isMap=t;this._init$(undefined,-3)}a.inherits(d,n);d.prototype._init=function(){};d.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var i;if(this._isMap){i=c(this._values)}else{i={};var r=this.length();for(var a=0,s=this.length();a<s;++a){i[this._values[a+r]]=this._values[a]}}this._resolve(i);return true}return false};d.prototype.shouldCopyValues=function(){return false};d.prototype.getActualLength=function(e){return e>>1};function f(e){var n;var a=i(e);if(!s(a)){return r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}else if(a instanceof t){n=a._then(t.props,undefined,undefined,undefined,undefined)}else{n=new d(a).promise()}if(a instanceof t){n._propagateFrom(a,2)}return n}t.prototype.props=function(){return f(this)};t.props=function(e){return f(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e,t,n,i,r){for(var a=0;a<r;++a){n[a+i]=e[a+t];e[a+t]=void 0}}function r(e){this._capacity=e;this._length=0;this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e};r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e;this._length=t+1};r.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i)){this._pushOne(e);this._pushOne(t);this._pushOne(n);return}var r=this._front+i-3;this._checkCapacity(i);var a=this._capacity-1;this[r+0&a]=e;this[r+1&a]=t;this[r+2&a]=n;this._length=i};r.prototype.shift=function(){var e=this._front,t=this[e];this[e]=undefined;this._front=e+1&this._capacity-1;this._length--;return t};r.prototype.length=function(){return this._length};r.prototype._checkCapacity=function(e){if(this._capacity<e){this._resizeTo(this._capacity<<1)}};r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front;var r=this._length;var a=n+r&t-1;i(this,0,this,t,a)};t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var a=e("./util");var s=function(e){return e.then(function(t){return o(t,e)})};function o(e,o){var l=i(e);if(l instanceof t){return s(l)}else{e=a.asArray(e);if(e===null)return r("expecting an array or an iterable object but got "+a.classString(e))}var u=new t(n);if(o!==undefined){u._propagateFrom(o,3)}var c=u._fulfill;var d=u._reject;for(var f=0,h=e.length;f<h;++f){var p=e[f];if(p===undefined&&!(f in e)){continue}t.cast(p)._then(c,d,undefined,u,null)}return u}t.race=function(e){return o(e,undefined)};t.prototype.race=function(){return o(this,undefined)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,a,s){var o=t._getDomain;var l=e("./util");var u=l.tryCatch;function c(e,n,i,r){this.constructor$(e);var s=o();this._fn=s===null?n:l.domainBind(s,n);if(i!==undefined){i=t.resolve(i);i._attachCancellationCallback(this)}this._initialValue=i;this._currentCancellable=null;if(r===a){this._eachValues=Array(this._length)}else if(r===0){this._eachValues=null}else{this._eachValues=undefined}this._promise._captureStackTrace();this._init$(undefined,-5)}l.inherits(c,n);c.prototype._gotAccum=function(e){if(this._eachValues!==undefined&&this._eachValues!==null&&e!==a){this._eachValues.push(e)}};c.prototype._eachComplete=function(e){if(this._eachValues!==null){this._eachValues.push(e)}return this._eachValues};c.prototype._init=function(){};c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)};c.prototype.shouldCopyValues=function(){return false};c.prototype._resolve=function(e){this._promise._resolveCallback(e);this._values=null};c.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();if(this._isResolved())return;this._resultCancelled$();if(this._currentCancellable instanceof t){this._currentCancellable.cancel()}if(this._initialValue instanceof t){this._initialValue.cancel()}};c.prototype._iterate=function(e){this._values=e;var n;var i;var r=e.length;if(this._initialValue!==undefined){n=this._initialValue;i=0}else{n=t.resolve(e[0]);i=1}this._currentCancellable=n;if(!n.isRejected()){for(;i<r;++i){var a={accum:null,value:e[i],index:i,length:r,array:this};n=n._then(h,undefined,undefined,a,undefined)}}if(this._eachValues!==undefined){n=n._then(this._eachComplete,undefined,undefined,this,undefined)}n._then(d,d,undefined,n,this)};t.prototype.reduce=function(e,t){return f(this,e,t,null)};t.reduce=function(e,t,n,i){return f(e,t,n,i)};function d(e,t){if(this.isFulfilled()){t._resolve(e)}else{t._reject(e)}}function f(e,t,n,r){if(typeof t!=="function"){return i("expecting a function but got "+l.classString(t))}var a=new c(e,t,n,r);return a.promise()}function h(e){this.accum=e;this.array._gotAccum(e);var n=r(this.value,this.array._promise);if(n instanceof t){this.array._currentCancellable=n;return n._then(p,undefined,undefined,this,undefined)}else{return p.call(this,n)}}function p(e){var n=this.array;var i=n._promise;var r=u(n._fn);i._pushContext();var a;if(n._eachValues!==undefined){a=r.call(i._boundValue(),e,this.index,this.length)}else{a=r.call(i._boundValue(),this.accum,e,this.index,this.length)}if(a instanceof t){n._currentCancellable=a}var o=i._popContext();s.checkForgottenReturns(a,o,n._eachValues!==undefined?"Promise.each":"Promise.reduce",i);return a}}},{"./util":36}],29:[function(e,t,n){"use strict";var i=e("./util");var r;var a=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};var s=i.getNativePromise();if(i.isNode&&typeof MutationObserver==="undefined"){var o=global.setImmediate;var l=process.nextTick;r=i.isRecentNode?function(e){o.call(global,e)}:function(e){l.call(process,e)}}else if(typeof s==="function"&&typeof s.resolve==="function"){var u=s.resolve();r=function(e){u.then(e)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova))){r=function(){var e=document.createElement("div");var t={attributes:true};var n=false;var i=document.createElement("div");var r=new MutationObserver(function(){e.classList.toggle("foo");n=false});r.observe(i,t);var a=function(){if(n)return;n=true;i.classList.toggle("foo")};return function s(n){var i=new MutationObserver(function(){i.disconnect();n()});i.observe(e,t);a()}}()}else if(typeof setImmediate!=="undefined"){r=function(e){setImmediate(e)}}else if(typeof setTimeout!=="undefined"){r=function(e){setTimeout(e,0)}}else{r=a}t.exports=r},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){var r=t.PromiseInspection;var a=e("./util");function s(e){this.constructor$(e)}a.inherits(s,n);s.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};s.prototype._promiseFulfilled=function(e,t){var n=new r;n._bitField=33554432;n._settledValueField=e;return this._promiseResolved(t,n)};s.prototype._promiseRejected=function(e,t){var n=new r;n._bitField=16777216;n._settledValueField=e;return this._promiseResolved(t,n)};t.settle=function(e){i.deprecated(".settle()",".reflect()");return new s(e).promise()};t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){var r=e("./util");var a=e("./errors").RangeError;var s=e("./errors").AggregateError;var o=r.isArray;var l={};function u(e){this.constructor$(e);this._howMany=0;this._unwrap=false;this._initialized=false}r.inherits(u,n);u.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var e=o(this._values);if(!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};u.prototype.init=function(){this._initialized=true;this._init()};u.prototype.setUnwrap=function(){this._unwrap=true};u.prototype.howMany=function(){return this._howMany};u.prototype.setHowMany=function(e){this._howMany=e};u.prototype._promiseFulfilled=function(e){this._addFulfilled(e);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}return true}return false};u.prototype._promiseRejected=function(e){this._addRejected(e);return this._checkOutcome()};u.prototype._promiseCancelled=function(){if(this._values instanceof t||this._values==null){return this._cancel()}this._addRejected(l);return this._checkOutcome()};u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){var e=new s;for(var t=this.length();t<this._values.length;++t){if(this._values[t]!==l){e.push(this._values[t])}}if(e.length>0){this._reject(e)}else{this._cancel()}return true}return false};u.prototype._fulfilled=function(){return this._totalResolved};u.prototype._rejected=function(){return this._values.length-this.length()};u.prototype._addRejected=function(e){this._values.push(e)};u.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e};u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};u.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)};u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(e,t){if((t|0)!==t||t<0){return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n")}var n=new u(e);var r=n.promise();n.setHowMany(t);n.init();return r}t.some=function(e,t){return c(e,t)};t.prototype.some=function(e){return c(this,e)};t._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){if(e!==undefined){e=e._target();this._bitField=e._bitField;this._settledValueField=e._isFateSealed()?e._settledValue():undefined}else{this._bitField=0;this._settledValueField=undefined}}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var r=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0};var a=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0};var s=t.prototype.isPending=function(){return(this._bitField&50397184)===0};var o=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0};e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536};e.prototype._isCancelled=function(){return this._target().__isCancelled()};e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0};e.prototype.isPending=function(){return s.call(this._target())};e.prototype.isRejected=function(){return a.call(this._target())};e.prototype.isFulfilled=function(){return r.call(this._target())};e.prototype.isResolved=function(){return o.call(this._target())};e.prototype.value=function(){return n.call(this._target())};e.prototype.reason=function(){var e=this._target();e._unsetRejectionIsUnhandled();return i.call(e)};e.prototype._value=function(){return this._settledValue()};e.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){var i=e("./util");var r=i.errorObj;var a=i.isObject;function s(e,i){if(a(e)){if(e instanceof t)return e;var s=l(e);if(s===r){if(i)i._pushContext();var o=t.reject(s.e);if(i)i._popContext();return o}else if(typeof s==="function"){if(c(e)){var o=new t(n);e._then(o._fulfill,o._reject,undefined,o,null);return o}return d(e,s,i)}}return e}function o(e){return e.then}function l(e){try{return o(e)}catch(t){r.e=t;return r}}var u={}.hasOwnProperty;function c(e){try{return u.call(e,"_promise0")}catch(t){return false}}function d(e,a,s){var o=new t(n);var l=o;if(s)s._pushContext();o._captureStackTrace();if(s)s._popContext();var u=true;var c=i.tryCatch(a).call(e,d,f);u=false;if(o&&c===r){o._rejectCallback(c.e,true,true);o=null}function d(e){if(!o)return;o._resolveCallback(e);o=null}function f(e){if(!o)return;o._rejectCallback(e,u,true);o=null}return l}return s}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){var r=e("./util");var a=t.TimeoutError;function s(e){this.handle=e}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(e){return l(+this).thenReturn(e)};var l=t.delay=function(e,r){var a;var l;if(r!==undefined){a=t.resolve(r)._then(o,null,null,e,undefined);if(i.cancellation()&&r instanceof t){a._setOnCancel(r)}}else{a=new t(n);l=setTimeout(function(){a._fulfill()},+e);if(i.cancellation()){a._setOnCancel(new s(l))}a._captureStackTrace()}a._setAsyncGuaranteed();return a};t.prototype.delay=function(e){return l(e,this)};var u=function(e,t,n){var i;if(typeof t!=="string"){if(t instanceof Error){i=t}else{i=new a("operation timed out")}}else{i=new a(t)}r.markAsOriginatingFromRejection(i);e._attachExtraTrace(i);e._reject(i);if(n!=null){n.cancel()}};function c(e){clearTimeout(this.handle);return e}function d(e){clearTimeout(this.handle);throw e}t.prototype.timeout=function(e,t){e=+e;var n,r;var a=new s(setTimeout(function o(){if(n.isPending()){u(n,t,r)}},e));if(i.cancellation()){r=this.then();n=r._then(c,d,undefined,a,undefined);n._setOnCancel(a)}else{n=this._then(c,d,undefined,a,undefined)}return n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,a,s){var o=e("./util");var l=e("./errors").TypeError;var u=e("./util").inherits;var c=o.errorObj;var d=o.tryCatch;var f={};function h(e){setTimeout(function(){throw e},0)}function p(e){var t=i(e);if(t!==e&&typeof e._isDisposable==="function"&&typeof e._getDisposer==="function"&&e._isDisposable()){t._setDisposable(e._getDisposer())}return t}function m(e,n){var r=0;var s=e.length;var o=new t(a);function l(){if(r>=s)return o._fulfill();var a=p(e[r++]);if(a instanceof t&&a._isDisposable()){try{a=i(a._getDisposer().tryDispose(n),e.promise)}catch(u){return h(u)}if(a instanceof t){return a._then(l,h,null,null,null)}}l()}l();return o}function _(e,t,n){this._data=e;this._promise=t;this._context=n}_.prototype.data=function(){return this._data};_.prototype.promise=function(){return this._promise};_.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return f};_.prototype.tryDispose=function(e){var t=this.resource();var n=this._context;if(n!==undefined)n._pushContext();var i=t!==f?this.doDispose(t,e):null;if(n!==undefined)n._popContext();this._promise._unsetDisposable();this._data=null;return i};_.isDisposer=function(e){return e!=null&&typeof e.resource==="function"&&typeof e.tryDispose==="function"};function g(e,t,n){this.constructor$(e,t,n)}u(g,_);g.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)};function v(e){if(_.isDisposer(e)){this.resources[this.index]._setDisposable(e);return e.promise()}return e}function b(e){this.length=e;this.promise=null;this[e-1]=null}b.prototype._resultCancelled=function(){var e=this.length;for(var n=0;n<e;++n){var i=this[n];if(i instanceof t){i.cancel()}}};t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[e-1];if(typeof r!=="function"){return n("expecting a function but got "+o.classString(r))}var a;var l=true;if(e===2&&Array.isArray(arguments[0])){a=arguments[0];e=a.length;l=false}else{a=arguments;e--}var u=new b(e);for(var f=0;f<e;++f){var h=a[f];if(_.isDisposer(h)){var p=h;h=h.promise();h._setDisposable(p)}else{var g=i(h);if(g instanceof t){h=g._then(v,null,null,{resources:u,index:f},undefined)}}u[f]=h}var y=new Array(u.length);for(var f=0;f<y.length;++f){y[f]=t.resolve(u[f]).reflect()}var x=t.all(y).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected()){c.e=n.error();return c}else if(!n.isFulfilled()){x.cancel();return}e[t]=n.value()}S._pushContext();r=d(r);var i=l?r.apply(undefined,e):r(e);var a=S._popContext();s.checkForgottenReturns(i,a,"Promise.using",S);return i});var S=x.lastly(function(){var e=new t.PromiseInspection(x);return m(u,e)});u.promise=S;S._setOnCancel(u);return S};t.prototype._setDisposable=function(e){this._bitField=this._bitField|131072;this._disposer=e};t.prototype._isDisposable=function(){return(this._bitField&131072)>0};t.prototype._getDisposer=function(){return this._disposer};t.prototype._unsetDisposable=function(){this._bitField=this._bitField&~131072;this._disposer=undefined};t.prototype.disposer=function(e){if(typeof e==="function"){return new g(e,this,r())}throw new l}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5");var canEvaluate=typeof navigator=="undefined";var errorObj={e:{}};var tryCatchTarget;var globalObject=typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:this!==undefined?this:null;function tryCatcher(){try{var e=tryCatchTarget;tryCatchTarget=null;return e.apply(this,arguments)}catch(t){errorObj.e=t;return errorObj}}function tryCatch(e){tryCatchTarget=e;return tryCatcher}var inherits=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e;this.constructor$=t;for(var i in t.prototype){if(n.call(t.prototype,i)&&i.charAt(i.length-1)!=="$"){this[i+"$"]=t.prototype[i]}}}i.prototype=t.prototype;e.prototype=new i;return e.prototype};function isPrimitive(e){return e==null||e===true||e===false||typeof e==="string"||typeof e==="number"}function isObject(e){return typeof e==="function"||typeof e==="object"&&e!==null}function maybeWrapAsError(e){if(!isPrimitive(e))return e;return new Error(safeToString(e))}function withAppended(e,t){var n=e.length;var i=new Array(n+1);var r;for(r=0;r<n;++r){i[r]=e[r]}i[r]=t;return i}function getDataPropertyOrDefault(e,t,n){if(es5.isES5){var i=Object.getOwnPropertyDescriptor(e,t);if(i!=null){return i.get==null&&i.set==null?i.value:n}}else{return{}.hasOwnProperty.call(e,t)?e[t]:undefined}}function notEnumerableProp(e,t,n){if(isPrimitive(e))return e;var i={value:n,configurable:true,enumerable:false,writable:true};es5.defineProperty(e,t,i);return e}function thrower(e){throw e}var inheritedDataKeys=function(){var e=[Array.prototype,Object.prototype,Function.prototype];var t=function(t){for(var n=0;n<e.length;++n){if(e[n]===t){return true}}return false};if(es5.isES5){var n=Object.getOwnPropertyNames;return function(e){var i=[];var r=Object.create(null);while(e!=null&&!t(e)){var a;try{a=n(e)}catch(s){return i}for(var o=0;o<a.length;++o){var l=a[o];if(r[l])continue;r[l]=true;var u=Object.getOwnPropertyDescriptor(e,l);if(u!=null&&u.get==null&&u.set==null){i.push(l)}}e=es5.getPrototypeOf(e)}return i}}else{var i={}.hasOwnProperty;return function(n){if(t(n))return[];var r=[];e:for(var a in n){if(i.call(n,a)){r.push(a)}else{for(var s=0;s<e.length;++s){if(i.call(e[s],a)){continue e}}r.push(a)}}return r}}}();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(e){try{if(typeof e==="function"){var t=es5.names(e.prototype);var n=es5.isES5&&t.length>1;var i=t.length>0&&!(t.length===1&&t[0]==="constructor");var r=thisAssignmentPattern.test(e+"")&&es5.names(e).length>0;if(n||i||r){return true}}return false}catch(a){return false}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var l=8;while(l--)new FakeConstructor;return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(e){return rident.test(e)}function filledRange(e,t,n){var i=new Array(e);for(var r=0;r<e;++r){i[r]=t+r+n}return i}function safeToString(e){try{return e+""}catch(t){return"[no string representation]"}}function isError(e){return e!==null&&typeof e==="object"&&typeof e.message==="string"&&typeof e.name==="string"}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true)}catch(t){}}function originatesFromRejection(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function canAttachTrace(e){return isError(e)&&es5.propertyIsWritable(e,"stack")}var ensureErrorObject=function(){if(!("stack"in new Error)){return function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(t){return t}}}else{return function(e){if(canAttachTrace(e))return e;return new Error(safeToString(e))}}}();function classString(e){return{}.toString.call(e)}function copyDescriptors(e,t,n){var i=es5.names(e);for(var r=0;r<i.length;++r){var a=i[r];if(n(a)){try{es5.defineProperty(t,a,es5.getDescriptor(e,a))}catch(s){}}}}var asArray=function(e){if(es5.isArray(e)){return e}return null};if(typeof Symbol!=="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from==="function"?function(e){return Array.from(e)}:function(e){var t=[];var n=e[Symbol.iterator]();var i;while(!(i=n.next()).done){t.push(i.value)}return t};asArray=function(e){if(es5.isArray(e)){return e}else if(e!=null&&typeof e[Symbol.iterator]==="function"){return ArrayFrom(e)}return null}}var isNode=typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]";var hasEnvVariables=typeof process!=="undefined"&&typeof process.env!=="undefined";function env(e){return hasEnvVariables?process.env[e]:undefined}function getNativePromise(){if(typeof Promise==="function"){try{var e=new Promise(function(){});if({}.toString.call(e)==="[object Promise]"){return Promise}}catch(t){}}}function domainBind(e,t){return e.bind(t)}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind};ret.isRecentNode=ret.isNode&&function(){var e=process.versions.node.split(".").map(Number);return e[0]===0&&e[1]>10||e[0]>0}();if(ret.isNode)ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)});if(typeof window!=="undefined"&&window!==null){window.P=window.Promise}else if(typeof self!=="undefined"&&self!==null){self.P=self.Promise}}).call(exports,__webpack_require__(57),__webpack_require__(58),__webpack_require__(206).setImmediate)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(17);var o=n(27);var l=n(59);var u=n(49);var c=e.exports={_loginConfigs:{},_currentConfigId:null,kLoginConfig:"loginManager:loginConfigs",kCurrentConfig:"loginManager:currentConfigId",kTempConfig:"loginManager:tempConfig",LoginSettingsErrorCode:{OTHER_HTTP_ERROR:1,SSL_AVAILABLE:2,SSL_NOT_SUPPORTED:4,SSO_NOT_SUPPORTED:8},init:function d(){this._fetchLoginConfig();if(!i.isNative){if(this._loginConfigs["default"].siteUrl!==i.config.siteUrl){this._resetLoginSettings();this._fetchLoginConfig()}}this.applyLoginSettings()},_resetLoginSettings:function f(){this.resetTempSetting();this._currentConfigId=null;r.removeSetting(this.kCurrentConfig);this._loginConfigs={};r.removeSetting(this.kLoginConfig)},verifyExternalLogin:function h(e){i.api.handleExternalLogin=this.handleExternalLogin;i.api.ping(null,{complete:e,error:function t(e){if(e.status===401){i.error.handleExternalLoginNotAvailable()}else{i.error.handleHttpError(e)}}})},verifyLoginSettings:function p(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_.noop;var n=i.loginManager.getTempSetting();var r=void 0;i.api.handleExternalLogin=function(i,a){if(/^https:\/\//.test(a.request.xhr.responseURL)!==n.useHttps){r=n.useHttps?e.LoginSettingsErrorCode.SSL_NOT_SUPPORTED:e.LoginSettingsErrorCode.SSL_AVAILABLE}t(r,a)};var a=function s(i){if(i.status===401){r|=n.isSSO?e.LoginSettingsErrorCode.SSO_NOT_SUPPORTED:0;if(/^https:\/\//.test(i.request.xhr.responseURL)!==n.useHttps){r|=n.useHttps?e.LoginSettingsErrorCode.SSL_NOT_SUPPORTED:e.LoginSettingsErrorCode.SSL_AVAILABLE}}else{r|=e.LoginSettingsErrorCode.OTHER_HTTP_ERROR}t(r,i)};i.api.ping(null,{success:function o(){t()},error:a})},handleLoginSuccess:function m(){var e=this.getSetting();this._commitTempSetting();this._resetUserSettings(e)},handleSyncComplete:function g(){this._commitTempSetting();if(i.api.isExternalLogin()){this.setSetting({loginName:i.user.get("user_name")})}},handleAppUpgrade:function v(){var e=this;this._readDefaultConfig();var t=["setupBuddy"];_.each(_.keys(this._loginConfigs),function(n){
e._loginConfigs[n]=_.omit(e._loginConfigs[n],t)});r.setSetting(this.kLoginConfig,this._loginConfigs);this.applyLoginSettings(this.getTempSetting())},logout:function b(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.clear=t.clear=="1";i.activeComponents.closeAll();i.overlay.show("logout",{templateOptions:{spinner:true,tint:true,message:"LBL_MOBILE_WAIT"}});i.logout({success:function n(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(i.api.isExternalLogin()&&t.url){e.handleExternalLogout(t.url)}},complete:function r(){if(t.clear||t.resetRoute){i.controller.navigate("#")}i.router.login()}},t.clear,{timeout:i.config.loginSettings.logoutTimeout})},applyLoginSettings:function y(e){e=e||this.getSetting();i.config.siteUrl=e.siteUrl||"http://localhost:8888";i.api.serverUrl=r.getServerUrl();i.api.setExternalLogin(e.isSSO);i.logger.debug("Applying login config");i.logger.debug("Site URL: "+i.config.siteUrl);i.logger.debug("Server URL: "+i.api.serverUrl)},getSetting:function x(e){var t=this._loginConfigs[this._currentConfigId]||{};return e?t[e]:t},setSetting:function S(e,t){if(_.isObject(e)){_.extend(this._loginConfigs[this._currentConfigId],e)}else{this._loginConfigs[this._currentConfigId][e]=t}r.setSetting(this.kLoginConfig,this._loginConfigs)},removeSetting:function w(e){delete this._loginConfigs[this._currentConfigId][e];r.setSetting(this.kLoginConfig,this._loginConfigs)},getTempSetting:function L(){var e=r.getSetting(this.kTempConfig)||_.clone(this.getSetting());var t=["loginName","loginUrl","isSSO","useHttps","siteUrl"];_.each(e,function(n,i){if(!_.contains(t,i)){delete e[i]}});return this._buildLoginConfig(e)},setTempSetting:function E(e){var t=this.getTempSetting();t=this._buildLoginConfig(_.extend(t,e));t=_.omit(t,function(e){return _.isUndefined(e)||e===""});r.setSetting(this.kTempConfig,t);return t},_commitTempSetting:function k(){var e=r.getSetting(this.kTempConfig);if(e){this.resetTempSetting();e.loginTS=_.now();e=this._buildLoginConfig(e);this._currentConfigId=this._addToSettings(e);r.setSetting(this.kCurrentConfig,this._currentConfigId);this.applyLoginSettings()}},resetTempSetting:function A(){r.removeSetting(this.kTempConfig)},prepareReconfigure:function M(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=this._getOptionValue(e.loginName,"");var n=this._getOptionValue(e.serverUrl,"");var r=this._getOptionBoolValue(e.ssoOption,i.config.loginSettings.externalLoginOnly);var a=this._getOptionBoolValue(e.useHttps,i.config.loginSettings.useHttps);var s={loginName:t,loginUrl:n,isSSO:r,useHttps:a};i.logger.debug("Reconfiguring the client with "+JSON.stringify(s));if(!this._isUrlWhitelisted(n)){i.logger.warn("Configured server URL "+n+" is not whitelisted.");return}s=this._buildLoginConfig(s);return s},reconfigure:function T(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_.noop;this.resetTempSetting();var r=this.getSetting();var s=this.prepareReconfigure(e);if(!s){n();return}var o=this.setTempSetting(s);var l=r.id!==o.id;if(i.api.isAuthenticated()){if(l){a.showActionSheet([i.lang.get("LBL_MOBILE_RELOGIN_BUTTON"),i.lang.get("LBL_LATER")],{title:i.lang.get("LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM"),onSelectCb:function u(e){if(e=="0"){i.logout({complete:function r(){t.runLogin(n)}},true)}else{n()}},onCancelCb:function c(){t.resetTempSetting();n()}})}else{n()}}else{this.runLogin(n);if(l){i.alert.show("login_settings",{level:"info",messages:i.lang.get("LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM"),autoClose:true,closable:true})}}},runLogin:function C(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_.noop;var t=i.controller.layoutManager.getRootLayout();if(t&&t.name==="login"){var n=t.model;if(n){n.set("password","")}t.render();e()}else{i.router.login();_.delay(function(){e()},1e3)}},_readDefaultConfig:function R(){return this._addToSettings(this._buildLoginConfig({id:"default",loginName:"",loginUrl:this._getOptionValue(i.config.loginSettings.defaultServerUrl,""),siteUrl:i.config.siteUrl,isSSO:i.config.loginSettings.externalLoginOnly,useHttps:i.config.loginSettings.useHttps}))},_fetchLoginConfig:function D(){this._currentConfigId=r.getSetting(this.kCurrentConfig);this._loginConfigs=r.getSetting(this.kLoginConfig)||{};if(!this._currentConfigId){this._currentConfigId=this._readDefaultConfig();r.setSetting(this.kCurrentConfig,this._currentConfigId);var e=i.config.loginSettings.useHttps;var t=r.getSetting("siteUrl")||i.config.siteUrl;if(/^https?:\/\//.test(t)){e=/^https:\/\//.test(t)}var n={loginName:r.getSetting("loginName")||"",loginUrl:r.getSetting("loginUrl")||"",siteUrl:i.config.siteUrl,useHttps:e,isSSO:i.config.loginSettings.externalLoginVisible&&r.getSetting("externalLogin"),fontSize:r.getSetting("fontSize")};this.setTempSetting(n);r.removeSetting("loginName");r.removeSetting("loginUrl");r.removeSetting("siteUrl");r.removeSetting("useHttps");r.removeSetting("fontSize");r.removeSetting("externalLogin");r.removeSetting("setupBuddyDone")}},_buildSettingsId:function I(e){var t=e.isSSO,n=e.siteUrl,i=n===undefined?"":n,a=e.loginName,s=a===undefined?"":a;var o=[i,t?"":s];return String(Math.abs(r.utils.getHashCode(o.join(":"))))},_addToSettings:function O(e){this._loginConfigs[e.id]=_.extend(this._loginConfigs[e.id]||{},e);if(_.size(this._loginConfigs)-1>i.config.loginSettings.loginSettingsLimit){this._loginConfigs=_.pick(this._loginConfigs,_.chain(this._loginConfigs).omit("default").sortBy(function(e){return e.loginTS}).last(i.config.loginSettings.loginSettingsLimit).pluck("id").value(),"default")}r.setSetting(this.kLoginConfig,this._loginConfigs);return e.id},_buildLoginConfig:function N(e){var t=this._loginConfigs["default"]||{};var n=_.extend({},t,e);if(e.loginUrl&&i.isNative){n.siteUrl=this._normalizeUrl(n.loginUrl,n.useHttps)}if(!i.isNative){n.loginUrl=""}if(e.id!=="default"){n.id=this._buildSettingsId(n)}return n},_resetUserSettings:function F(e){var t=i.cache.get(r.SETTINGS_CACHE_KEY);var n=this.getSetting();var a=e.id!==n.id||e.loginName!==n.loginName&&n.isSSO;if(a){o.resetPref();r.removeLastState();r.resetBulkLoader();var u=[this.kLoginConfig,this.kCurrentConfig,s.kLocalSecurityConfigKey];_.each(t,function(e,n){if(!_.contains(u,n)){delete t[n]}});i.cache.set(r.SETTINGS_CACHE_KEY,t);i.cache.cut("lang");i.user.clear();r.saveUser();r.cleanStores();r.dashboards.cleanDashboardsCache();l.cleanCache();s.resetCredentials();r.setFontSize(n.fontSize)}r.enableOffline(a);if(t.default_view==="Recents"){r.removeSetting("default_view")}},_getOptionBoolValue:function B(e,t){var n=this._getOptionValue(e,t);return n===t?n:n==="1"?true:n==="0"?false:t},_getOptionValue:function U(e,t){var n=t;if(!_.isUndefined(e)){e=String(e);n=_.isEmpty(e)?t:e}return n},_isUrlWhitelisted:function P(e){var t=i.config.deepLinking.configUrlWhiteList;return _.isEmpty(t)||Boolean(_.find(t,function(t){return new RegExp(t).test(e)}))},_normalizeUrl:function Y(e,t){e=e.trim();var n=/^no-ssl:\/\//.test(e);if(!n&&!/^https?:\/\//.test(e)){e="http://"+e}if(t&&!n&&e.indexOf("http://")===0){e="https:"+e.substr(5)}if(e.indexOf("no-ssl://")===0){e="http://"+e.substr(9)}return e.replace(/\/+$/,"")}};i.augment("loginManager",c,false)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(3);var a=n(1);var s={kLocalSecurityConfigKey:"kLocalSecurityConfigKey",isTouchIdAuthenticationSupported:function l(){var e=i.clientInfo.device;var t=e.touchIdSupported&&i.config.localSecurity.enabled&&!i.loginManager.getSetting("isSSO")&&o.isLocalSecurityEnabled("touchIdForLoginEnabled");if(i.isSynced){t=t&&i.config.localSecurity.touchIdForLoginEnabled&&i.supportedFeatures.localSecurityServerSupport}return t},isPasskeyAuthenticationSupported:function u(){return i.supportedFeatures.localSecurityServerSupport&&i.isNative&&i.config.localSecurity.enabled&&o.isLocalSecurityEnabled("passkeyEnabled")},configureLocalSecurity:function c(e){var t=e.touchIdForLoginEnabled,n=t===undefined?i.config.localSecurity.touchIdForLoginEnabled:t,r=e.passkeyEnabled,s=r===undefined?i.config.localSecurity.passkeyEnabled:r,o=e.touchIdForPasskeyEnabled,l=o===undefined?i.config.localSecurity.touchIdForPasskeyEnabled:o;a.setSetting(this.kLocalSecurityConfigKey,{touchIdForLoginEnabled:n,passkeyEnabled:s,touchIdForPasskeyEnabled:l})},isTouchIdForLoginSetup:function d(){return this.isTouchIdAuthenticationSupported()&&Boolean(a.getSetting(o.kTouchIdEnabledKey))},isTouchIdEnrolled:function f(e){this._isTouchIdEnrolled(e)},storeCredentials:function h(e,t){this._storeCredentials(e,t);a.setSetting(o.kTouchIdEnabledKey,true)},resetCredentials:function p(){this._resetCredentials();i.nomad.setSetting(o.kTouchIdEnabledKey,false)},toggleTouchIdOnLogin:function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this._touchIdDisabledOnLogin=!e},isTouchIdEnabledOnLogin:function g(){return this.isTouchIdForLoginSetup()&&!this._touchIdDisabledOnLogin},performTouchId:function v(e,t){this._performTouchId(e,t)},isStepNeeded:function b(){return!this.isTouchIdForLoginSetup()},canPerformStep:function y(){return Boolean(this.getTempCredential())},cleanupStep:function x(){this.resetTempCredential()},setTempCredential:function S(e){this._tempTouchIdCredential=e},getTempCredential:function w(){return this._tempTouchIdCredential},resetTempCredential:function L(){this._tempTouchIdCredential=null},moveTempCredentialsToStorage:function E(){var e=i.loginManager.getSetting("loginName");this.storeCredentials(e,this._tempTouchIdCredential);this.resetTempCredential()},processConfig:function k(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t={};if(e.mobile&&i.config.localSecurity.enabled&&i.isNative&&$.os.ios){var n=e.mobile.localSecurityMask;if(_.isNumber(n)){var r=i.config.localSecurity;t.localSecurity=_.extend({},r,{touchIdForLoginEnabled:Boolean(n&o.kTouchIdForLogin),passkeyEnabled:Boolean(n&o.kPasskey),touchIdForPasskeyEnabled:Boolean(n&o.kTouchIdForPasskey)});if(r.touchIdForLoginEnabled!==t.localSecurity.touchIdForLoginEnabled){this.resetCredentials()}}}return t},performTouchIdSetup:function A(e){var t=this;async.series([function(e){t.isTouchIdEnrolled(function(t){if(t){var n=i.lang.get("LBL_TOUCH_ID_DISCLAIMER",null,{brandName:i.config.brandName})+i.lang.get("LBL_TOUCH_ID_ENABLE_CONFIRM_MSG");r.showConfirm(n,{callback:function a(t){e(t!==2)},title:i.lang.get("LBL_ENABLE_TOUCHID")})}else{r.showAlert(i.lang.get("LBL_TOUCH_ID_NOT_ENROLLED_MSG",null,{brandName:i.config.brandName}),{title:i.lang.get("LBL_SETUP_TOUCHID")});e(true)}})},function(e){var n={title:"",buttonLabels:[i.lang.get("LBL_CANCEL_BUTTON_LABEL"),i.lang.get("LBL_ENABLE")],defaultText:i.lang.get("LBL_LOGIN_PASSWORD"),inputStyle:3};var a=void 0;var s="wait_to_verify_password";async.retry(i.config.localSecurity.maxAllowedPasswordAttempt,function(e){var l=(a?i.lang.get("ERR_MOBILE_INVALID_PASSWORD")+"\n\n":"")+i.lang.get("LBL_TOUCH_ID_ENTER_PASSWORD_TITLE",null,{brandName:i.config.brandName});i.overlay.show(s);r.showPrompt(l,_.extend({},n,{callback:function u(n){var r=n.buttonIndex;if(r===2){var l=n.input1;i.alert.show(s,{level:"info",messages:i.lang.get("LBL_MOBILE_WAIT"),autoClose:false,closable:false});o.verifyPasswordForTouchId(l,function(n,r){a=!n;var o=void 0;var u=!n;if(n){t.setTempCredential(l)}else if(r){u=false;o=true}i.alert.dismiss(s);i.overlay.hide(s);e(u,o)})}else{i.overlay.hide(s);e(false,true)}}}))},function(t,n){if(t){i.loginManager.logout({clear:true})}e(t||n)})}],function(t){e(!t)})}};if(true){_.extend(s,n(90))}else{_.extend(s,require("%app.js%/native/local-security"))}e.exports=s;var o={kTouchIdForLogin:1,kPasskey:2,kTouchIdForPasskey:4,kTouchIdEnabledKey:"touchIdEnabled",isLocalSecurityEnabled:function M(e){var t=a.getSetting(s.kLocalSecurityConfigKey);return t?t[e]:i.config.localSecurity[e]},verifyPasswordForTouchId:function T(e,t){i.alert.dismissAll("error");i.api.verifyPassword(e,{error:function n(e){i.error.handleHttpError(e,null,{params:{skipOfflineRead:true}});t(false,e)},success:function r(e){if(e.valid){t(true)}else{i.alert.show("auth_error",{level:"error",messages:i.lang.get("ERR_MOBILE_INVALID_PASSWORD"),autoClose:true});t(false)}}})}}},function(e,t,n){"use strict";e.exports={BucketType:{INITIAL:"initial",COMPLETE:"complete"},ProgressEventType:{START:"start",STOP:"stop",PAGE_START:"page_start",PAGE_FINISH:"page_finish",COMPLETE:"complete"},ModuleStatus:{IN_PROGRESS:"in_progress",OFFLINE_ERROR:"offline_error",UNKNOWN_ERROR:"unknown_error"},SettingsKey:{SETUP_SHOWN:"offline:bulkload:driver:setupShown",ALLOW_CELLULAR:"offline:bulkload:driver:allowCellular"},State:{IDLE:"idle",WORKING:"working",PAUSED_BY_CONNECTION:"paused_by_connection",PAUSED_BY_USER:"paused_by_user"}}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(52);var o=r.declareComponent(s,{_stringType:"edit",NOTHING_CHANGED_ERR:"nothing_changed",VALIDATION_ERR:"validation_error",_bodyScroll:true,skipNavigationAfterSave:false,serverSync:true,events:function l(){return{"click .delete":"deleteRecord"}},plugins:[],globalEvents:{"offline:data:updated":function u(e){if(e.isCollection||e.id!==this.model.id)return;if(e.action==="delete"){this.showRecordOverlay(e.data,e.status);return}if(!this._modelBackup||e.date_modified===this._modelBackup.date_modified)return;var t=i.lang.get("LBL_OFFLINE_MERGE_DATA_CONFIRM");var n=_.pick(this.model.attributes,this._getChangedFields());var r=e.complete;if(!_.isEmpty(n)){a.showConfirm(t,{callback:_.bind(function(t){if(t===2){var i=this.model;e.complete=function(){i.set(n);if(r){r.apply(this,arguments)}}}this.model.fetch(_.extend(e,{params:{skipServerSync:true}}))},this)})}else{this.model.fetch({params:{skipServerSync:true}})}}},initialize:function c(e){var t=this;if(e.context&&e.context.get("duplicate")){this._setDuplicateOptions(e)}this._super(e);this._fileUploads={};this._modelBackup=null;this.relateFields=null;this.isCreate=Boolean(this.context)&&this.context.isCreate();if(!_.isUndefined(e.serverSync)){this.serverSync=e.serverSync}var n=this.context.get("link");if(n){var r=this.context.get("parentModule");var a=i.data.getRelateFields(r,n);this.relateFields=_.isEmpty(a)?null:_.pluck(a,"name");this.relationshipFields=this._getRelationshipFields()}if(this.isCreate){var s=i.metadata.getModule(this.module).fields.assigned_user_name;if(s&&s.type==="relate"){var o={};o[s.id_name]=i.user.get("id");o[s.name]=i.user.get("full_name");this.model.set(o)}var l=i.metadata.getModule(this.module).fields.team_name;if(l){var u=this.model.get(l.name)||i.user.getPreference("default_teams")||[];if(!u.length){u.push({id:1,name:"Global",primary:true})}this.model.set(l.name,u)}}this._updateReadOnlyStatus();this.listenTo(this.model,"error:validation",function(e){return t.onValidationError(e)})},onValidationError:function d(e){i.alert.show("validation_error",{level:"error",messages:i.lang.get("ERR_MOBILE_VALIDATION"),autoClose:true})},getDisplayFields:function f(){var e=this;return this._super().filter(function(t){return r.canDisplay(e,t)})},_setDuplicateOptions:function h(e){var t=i.controller.getScreenContext();var n=e.context;var r=void 0;var a=void 0;if(t.link){a=i.data.createBean(t.parentModule,{id:t.parentModelId});r=i.data.createRelatedBean(a,null,t.link)}else{r=i.data.createBean(t.module)}r.copy(n.get("sourceModel"));var s={model:r,parentModel:a,parentModule:t.parentModule,parentModelId:t.parentModelId,link:t.link,create:true,duplicate:true};n.set(s)},isEditView:function p(){return true},_render:function m(){this.action=this.isCreate?"create":"edit";if(this.action==="edit"){this._updateReadOnlyStatus();this.action=this.name=this.isReadOnly?"disabled":"edit"}this._super()},onBeforeRender:function g(){this._super();this.model.off("error:validation");this.model.on("error:validation",function(){i.alert.show("validation_error",{level:"error",messages:i.lang.get("ERR_MOBILE_VALIDATION"),autoClose:true})},this)},onAfterRender:function v(){this._super();var e=i.metadata.getStrings("mod_strings")[this.module];var t=e?e.LBL_RELATED_RECORD_DEFAULT_NAME:null;var n=this.context.get("link");var a=this.context.get("parentModule");var s=this.context.get("parentModel");var o=s&&s.dataFetched;var l=this;var u=t&&this.isCreate&&n&&!this.context.get("duplicate")&&this.model&&_.isEmpty(this.model.get("name"));var c=this.isCreate&&n&&r.isStandardModule(a)&&!s.parentInfoPopulated;function d(e){if(e){t=i.lang.get("LBL_RELATED_RECORD_DEFAULT_NAME",l.module,e);var n=i.metadata.getModule(l.module);var r=n?n.fields.name:null;var a=r?r.len:null;if(a&&a<t.length){t=t.substr(0,a-3)+"..."}l.model.set("name",t)}}if(u&&o){d(s.get("full_name")||s.get("name"))}if(c&&o){this._populateParentInfo(s.toJSON(),a,n)}if(s&&!o){s.fetch({success:function g(){if(!l.model)return;if(u&&_.isEmpty(l.model.get("name"))){d(s.get("full_name")||s.get("name"))}if(c){l._populateParentInfo(s.toJSON(),a,n);s.parentInfoPopulated=true}}})}var f=this.context.get("data");this.context.set("data",null);if(this.isCreate&&f&&f.fileUrl&&f.fileName){var h=_.find(this.displayFields,function(e){return e.type==="file"});if(h){var p={};p[h.name]=f.fileName;this.model.set(p);var m=this.getField(h.name,this.model);m.onImportNativeDocument(f)}}},getField:function b(e,t){var n=this._super(e,t);if(!n){_.each(this.fields,function(t){if(!n&&t.getSubfield){n=t.getSubfield(e)}})}return n},_parsePopulateList:function y(e,t){var n=_.isArray(e);_.each(e,function(e,r){r=n?e:r;if(!_.isUndefined(t[r])&&_.isEmpty(this.model.get(e))&&i.acl.hasAccessToModel("edit",this.model,e)){this.model.set(e,t[r])}},this)},_populateParentInfo:function x(e,t){var n=this.model.fields;var r=this.context.get("link");var a=i.data.getRelateFields(t,r);var s=i.metadata.getModule(t).fields[r];if(i.supportedFeatures.populateList){if(s&&s.populate_list){this._parsePopulateList(s.populate_list,e)}if(!_.isEmpty(a)){_.each(a,function(t){this.model.set(t.name,e[t.rname]);this.model.set(t.id_name,e.id);if(t.populate_list){this._parsePopulateList(t.populate_list,e)}},this)}}else{var o=(t==="Accounts"||e.account_id)&&!(t==="Opportunities"&&this.module==="Contacts")&&n.account_id&&n.account_name&&!(this.model.get("account_id")||this.model.get("account_name"))&&i.acl.hasAccessToModel("edit",this.model,"account_name");if(o){this.model.set({account_id:e.account_id||e.id,account_name:e.account_name||e.name})}}},_updateReadOnlyStatus:function S(){this.isReadOnly=!this.model.hasEditAccess()},onDataSyncSuccess:function w(e,t,n){this._super(e,t,n);this._onDataSyncComplete(n.method,e,n)},onDataSyncError:function L(e,t,n){this._super(e,t,n);var r=this;this._onDataSyncComplete(e,this.model,t,n);if(n.status===409){a.showConfirm(i.lang.get("ERR_MOBILE_CONFLICT"),{callback:function s(e){var t={};var a=r.model;var s=n.payload.record;if(s){if(e===2){_.each(r._getChangedFields(),function(e){t[e]=a.get(e)});r.backupModel(s);s=i.data.beanModel.prototype.merge(s,t,r.module)}else{r.backupModel(s)}a.set(s)}}})}},_onDataSyncComplete:function E(e,t,n,r){if(!this.isCreate&&this.context.isDataFetched()){if(e==="read"){this.backupModel()}if(i.config.modules.nonEditableModules.indexOf(this.model.module)===-1&&this.action!==(i.acl.hasAccessToModel("edit",this.model)?"edit":"view")){this.render()}this.$(".btn.delete").toggleElement(this.model.hasDeleteAccess()&&!(r&&e==="read"))}},deleteRecord:function k(){var e=this;a.showConfirm(i.lang.get("LBL_MOBILE_DELETE_CONFIRM"),{callback:function t(n){if(n===2){e.model.destroy({wait:true})}}})},save:function A(e){var t=this;this._removeErrorMessages();var n=this.model.get("email");if(n){n=_.filter(n,function(e){return!_.isEmpty(e.email_address)});this.model.set("email",n)}async.series(this._getSavingTasks(e),function(e){i.syncAlertManager.hideOverlay();e?t.handleSaveError(e):t.handleSaveSuccess()})},onHeaderSaveClick:function M(){this.save()},onHeaderAdditionalAction:function T(e){e.action(this,this.model)},syncAlert:function C(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.pause,n=t===undefined?false:t,r=e.action,a=r===undefined?"update":r,s=e.err;if(!this.serverSync){return}n?i.syncAlertManager.pause(a,this.model):i.syncAlertManager.resume(a,this.model,s)},handleSaveSuccess:function R(){this._showCreateRelatedRLIWarn();this.trigger(this.ACTION_NAME,{name:"edit:view:save",options:{model:this.model,parentModel:{id:this.context.get("parentModelId"),module:this.context.get("parentModule")},isCreate:this.isCreate,skipNavigation:this.skipNavigationAfterSave}});this.syncAlert()},handleSaveError:function D(e){if(e===this.VALIDATION_ERR){return}if(e===this.NOTHING_CHANGED_ERR){i.controller.goUp();return}if(e.isFileUploadError){i.error.handleHttpError(e)}this.syncAlert({err:e})},_showCreateRelatedRLIWarn:function I(){if(!this.isCreate||!i.supportedFeatures.createRelatedRLIWarn||this.module!=="Opportunities"){return}var e="#Opportunities/"+this.model.id+"/link/revenuelineitems/create";var t=i.lang.get("LBL_CREATE_RELATED_MODULE_WARN",null,{module:i.lang.getModuleName("Opportunities"),relatedModule:i.lang.getModuleName("RevenueLineItems"),createLink:e});i.alert.show("CreateRelatedRLI",{level:"warning",messages:[new Handlebars.SafeString(t)],closeable:true})},getFieldsToSave:function O(){var e=this.getFieldNames(true);return this.context.get("duplicate")?_.keys(this.model.attributes):this._getChangedFields(e)},_getSavingTasks:function N(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=this.getFieldsToSave();if(this._sendParentId||_.include(n,"parent_id")){t.push("parent_id","parent_type","parent_name")}n=_.isEmpty(n)?null:_.union(n,t);var i=[function(t){e.onBeforeValidate();e._validateRecord(t)},function(t){e.syncAlert({pause:true});t()},function(t){e._saveRecord(t,e._omitFileFields(n))}];if(this.serverSync){_.each(this._fileUploads,function(e){i.push(_.bind(e,this))},this)}return i},updateComputedFields:function F(e){e=e||this.getFieldsToSave();var t=i.metadata.getModule(this.module).fields.name;if(_.intersection(e,t.fields).length!==0){if(this._shouldUpdateNameAndFullname(e)){var n=i.utils.formatNameModel(this.model.module,this.model.attributes);this.model.set("full_name",n);this.model.set("name",n);e.push("full_name");e.push("name")}else{var r=t.fields[0];this.model.set("name",this.model.get(r));e.push("name")}}},onBeforeValidate:function B(){i.syncAlertManager.showOverlay()},_validateRecord:function U(e){var t=this.getFieldsToSave();var n=this.getFieldNames(true);var r={};var a=i.metadata.getModule(this.module).fields;var s=_.filter(n,function(e){return a[e]});_.each(s,function(e){var t=a[e];var n=this.getField(e);if(n){t=n.def}if(t.type==="address"){_.each(t.fieldNames,function(e){r[e]=a[e]})}else if(t.required||!(t.calculated&&t.enforced)){r[t.name]=t}},this);if(this.context.get("duplicate")||!this.isCreate){_.each(r,function(e,t){if(!i.acl.hasAccessToModel("edit",this.model,t)){delete r[t]}},this)}var o=this;this.model.doValidate(r,function(n){if(n){if(!_.isEmpty(t)){e(null)}else{e(o.NOTHING_CHANGED_ERR)}}else{e(o.VALIDATION_ERR)}})},_shouldUpdateNameAndFullname:function P(e){var t=i.metadata.getModule(this.model.module).fields;var n=t.name;var r=t.full_name;var a="last_name";if(_.intersection(e,["first_name","last_name","salutation","title"]).length===0){return false}return n&&r&&n.group===a&&r.group===a},_saveRecord:function Y(e,t){if(!this.model){e();return}this.updateComputedFields(t);if(_.isEmpty(t)){e();return}this._saveModel(e,t)},_saveModel:function H(e,t){if(!this.serverSync){e();return}this.model.save(null,{relate:!this._viaParent&&!!this.context.get("link"),fields:t,modelBackup:this._modelBackup,viewed:true,success:function n(){e()},error:function i(t){e(t)}})},_removeErrorMessages:function G(){var e=this.$(".field");e.find(".field__error-message").remove();e.removeClass("error")},backupModel:function V(e){this._modelBackup=i.utils.deepCopy(e||this.model.attributes);this.context.set("_modelBackup",this._modelBackup)},restoreModel:function j(){this.model.set(this.model.getChangeDiff(this._modelBackup))},receiveSyncData:function z(e){},_getChangedFields:function $(){return _.keys(this.model.getChangeDiff(this._modelBackup))||[]},_omitFileFields:function q(e){var t=_.filter(i.metadata.getModule(this.module).fields,function(e){return e.type==="image"||e.type==="file"}).map(function(e){return e.name});return _.difference(e,t)},_onFileFieldChange:function W(e,t,n){this._super(e,t,n);var r=this;if(n==="preparing"){this._showOverlay(e.type)}else if(n==="prepared"){this._hideOverlay();this._enqueueFileHandler("create",e,t);var a=t.fileData.name;this._setFileFieldValue(e,a);r.model.doValidate([e.name],function(t){if(t){e.handleValidationError()}})}else if(n==="error"){this._hideOverlay();i.alert.show("file_upload_error",{level:"error",messages:arguments[1],autoClose:true,closeable:true});this.render()}},_setFileFieldValue:function K(e,t){this.model.set(e.name,t,{silent:true});if(!_.isEmpty(e.def.fields)){_.each(e.def.fields,function(e){this.model.set(e,t,{silent:true})},this)}},_onFileFieldClear:function J(e){this._super(e);this._enqueueFileHandler("delete",e);this._setFileFieldValue(e,"")},_enqueueFileHandler:function X(e,t,n){var i;var r=this;i=function a(i){var a=r.model.get(t.name);var s=n&&n.fileData.name||"";var o={success:function l(e){r.model.trigger("change:attachment_list");r.model.trigger("sync",r.model,e,{fileFieldName:t.name});i()},error:function u(e){delete r._fileUploads[t.name];r.model.set(t.name,a);i(e)}};r.model.set(t.name,s);if(e==="create"){_.defer(function(){r.model.uploadFile(t.name,n,o,{htmlJsonFormat:false,isCreate:r.isCreate})})}else{r.model.deleteFile(t.name,n,o,{htmlJsonFormat:false})}};this._fileUploads[t.name]=i},_showOverlay:function Z(e){var t=e==="image"?"LBL_MOBILE_PROCESSING_IMAGE":"LBL_MOBILE_PROCESSING_FILE";i.overlay.show("preparing_image");i.alert.show("upload_mask",{level:"info",messages:i.lang.get(t),autoClose:false,closeable:false})},_hideOverlay:function Q(){i.alert.dismiss("upload_mask");i.overlay.hide("preparing_image")}});i.nomad.registerComponent({cmp:o,baseType:"edit"});e.exports=o},function(e,t,n){"use strict";var i={GENERIC:{},UP:{},BACK:{},BACK_BUTTON:{},HOME:{},SAVE:{},DELETE:{},RELATE:{},LIST:{},DASHBOARD:{},ACTIVITIES_LIST:{},DASHLET_LIST:{},ERROR_LOAD_SCREEN:{},CONFIGURE:{}};_.each(i,function(e,t){i[t].name=t});e.exports=i},function(e,t,n){"use strict";var i={};var r=_.extend({},Backbone.Events,{register:function a(e,t,n){if(n&&n.deprecated){i[e]=_.pick(n,"message")}t.on(e,function(){var t=[].slice.call(arguments,0);t.unshift(e);this.trigger.apply(this,t)},this)},unregister:function s(e,t){e.off(t)},registerAjaxEvents:function o(){var e=this;$(document).off("ajaxStop");$(document).off("ajaxStart");$(document).on("ajaxStart",function(t){e.trigger("ajaxStart",t)});$(document).on("ajaxStop",function(t){e.trigger("ajaxStop",t)})},on:_.wrap(Backbone.Events.on,function(e,t,n,r){if(_.has(i,t)){var a;if(i[t].message){a=i[t].message}else{a="The global event `"+t+"` is deprecated."}if(r){a+="\n"+r+" should not listen to it anymore."}SUGAR.App.logger.warn(a)}return e.call(this,t,n,r)})});e.exports=r},function(module,exports,__webpack_require__){"use strict";var _header="(function() {\n  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n",_footer="})();",_templates={},_sources={};var TemplateManager={init:function init(){_templates=SUGAR.App.config.cacheMeta?SUGAR.App.cache.get("templates")||{}:{};var src="";_.each(_templates,function(e){src+=e});try{eval(_header+src+_footer)}catch(e){SUGAR.App.logger.error("Failed to eval templates retrieved from local storage:\n"+e)}},_add:function e(t,n,i){var r=t[0],a=this.get(r,false);if(a&&!i){return}if(a&&i&&_sources[r]!=n){_templates[r]=Handlebars.templates[r]=null}_sources[r]=n},_compile:function t(e,n,i){Handlebars.templates=Handlebars.templates||{};_templates[e[0]]=Handlebars.templates[e[0]]=i||!e[1]?this.compile(e[0],n):e[1];return _templates[e[0]]},compile:function compile(key,src){try{_templates[key]="templates['"+key+"'] = template("+Handlebars.precompile(src)+");\n";eval(_header+_templates[key]+_footer)}catch(e){SUGAR.App.logger.error("Failed to compile or eval template "+key+".\n"+e)}return this.get(key,false)||this.empty},get:function n(e,t){t=_.isUndefined(t)||t;if(t&&!Handlebars.templates[e]&&_sources[e]){this._compile([e],_sources[e])}return Handlebars.templates?Handlebars.templates[e]:null},_getView:function i(e,t,n){var i=e+(t?"."+t:"");return[i,this.get(i,n)]},getView:function r(e,t){return this._getView(e,t,true)[1]},_getField:function a(e,t,n,i,r,s){var o,l="f."+e+".",u=l+(n?n+".":"")+t;n+=".";o=this.get(l+n+t,s)||this.get(l+t,s);if(!o&&!r){o=this.get(l+n+i,s)||this.get(l+i,s);if(!o){o=this.get("f.base."+t,s)||this.get("f.base."+i,s)}}return[u,o]},getField:function s(e,t,n,i){return this._getField(e,t,n,i,false,true)[1]},_getLayout:function o(e,t,n){var i="l."+(t?t+".":"")+e;return[i,this.get(i,n)]},getLayout:function l(e,t){return this._getLayout(e,t,true)[1]},setView:function u(e,t,n,i){return this._add(this._getView(e,t,false),n,i)},setField:function c(e,t,n,i,r){return this._add(this._getField(e,t,n,null,true,false),i,r)},setLayout:function d(e,t,n,i){return this._add(this._getLayout(e,t,false),n,i)},set:function f(e,t){if(e.views){_.each(e.views,function(e,n){if(n!="_hash"){_.each(e.templates,function(e,i){i=n==i?i:n+"."+i;this.setView(i,null,e,t)},this)}},this)}if(e.fields){_.each(e.fields,function(e,n){if(n!="_hash"){_.each(e.templates,function(e,i){this.setField(n,i,null,e,t)},this)}},this)}if(e.layouts){_.each(e.layouts,function(e,n){if(n!="_hash"){_.each(e.templates,function(e,i){i=n==i?i:n+"."+i;this.setLayout(i,null,e,t)},this)}},this)}},empty:function h(){return""}};module.exports=TemplateManager},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(6);var a=n(74);var s=n(18);var o=n(1);var l=n(3);var u=n(5);var c=n(16);var d=n(304);var f=e.exports={_initialized:false,_connectionEventsDispatcher:null,init:function h(){var e=this;if(!i.config.offline.bulkLoad.enabled){return}this.processChangingConnection=this.processChangingConnection.bind(this);i.events.on("offline:toggled",function(t){if(t){if(!e._initialized){e._init()}else{e._startIfPossible()}}else{e._uninit()}});i.events.on("offline:storage:migrate",function(t){if(t.storageRebuilt){e.reset()}})},_init:function p(){a.init();i.events.on("app:sync:complete",this._onAppSync,this);i.events.on("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.on("offline:cleanup:completed",this._onOfflineCleanupCompleted,this);this._connectionEventsDispatcher=i.isNative?$(document):$(window);this._connectionEventsDispatcher.on("online",this.processChangingConnection);this._connectionEventsDispatcher.on("offline",this.processChangingConnection);u.registerForPushNotifications();this.onAppPause=this._onAppPause;this.onAppResume=this._onAppResume;if(!this._wasBucketQueued(s.BucketType.INITIAL)){var e=this._getModulesToLoad(s.BucketType.INITIAL);a.queueBuckets({name:s.BucketType.INITIAL,modules:e});a.start()}else{this._startIfPossible()}this._initialized=true},_uninit:function m(){a.uninit();if(!i.offline.storageExists()){this.reset()}i.events.off("app:sync:complete",this._onAppSync,this);i.events.off("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.off("offline:cleanup:completed",this._onOfflineCleanupCompleted,this);this._connectionEventsDispatcher.off("online",this.processChangingConnection);this._connectionEventsDispatcher.off("offline",this.processChangingConnection);this._connectionEventsDispatcher=null;this.onAppPause=null;this.onAppResume=null;this._initialized=false},_bulkLoaderNotificationSent:false,onAppPause:null,_onAppPause:function g(){if(a._status.working){a.stop();if(!this._bulkLoaderNotificationSent&&a._status.bucketName===s.BucketType.COMPLETE){u.sendLocalNotification({message:i.lang.get("LBL_BULK_LOAD_PAUSED_MESSAGE")});this._bulkLoaderNotificationSent=true}}},onAppResume:null,
_onAppResume:function v(){this._startIfPossible()},reset:function b(){c.removeSetting(s.SettingsKey.SETUP_SHOWN);a.clearCache()},getCache:function y(){return _.pick(a.cache,"lastCompletedTs","status")},getState:function x(){if(a._status.working){return{state:s.State.WORKING,module:a._status.module,count:a._status.count}}else{if(!this._initialized||a.cache.queue.length===0){return{state:s.State.IDLE}}else{if(a.cache.pausedByUser){return{state:s.State.PAUSED_BY_USER}}else{return{state:s.State.PAUSED_BY_CONNECTION}}}}},userPause:function S(e){a.stop(e);a.cache.pausedByUser=true;a.cache.save()},userResume:function w(){a.cache.pausedByUser=false;a.cache.save();this._startIfPossible()},setupBulkLoad:function L(e){var t=this;if(i.offlineEnabled&&i.config.offline.bulkLoad.enabled&&!c.getSetting(s.SettingsKey.SETUP_SHOWN)){var n=new r({create:true}).prepare();i.controller._loadScreen({isDynamic:true,headerConfig:{enabled:false},layouts:{className:"no-main-menu layout__bulkload",appendTo:"root",views:[d],context:n,callback:function a(n){c.setSetting(s.SettingsKey.SETUP_SHOWN,true);i.controller.disposeDynamic();if(n){t.queueCompleteDownload()}t.processChangingConnection();e()}}})}else{e()}},queueCompleteDownload:function E(){var e=this;var t=_.sortBy(this._getModulesToLoad(s.BucketType.COMPLETE),function(e){var t=a.cache.status[e.name]&&a.cache.status[e.name].status;if(!t||t===200||t===s.ModuleStatus.IN_PROGRESS){return 1}else return 0});var n=i.offline.storage.getStats({success:function r(n){t=_.filter(t,function(e){var t=e.name;var r=i.config.offline.dbLimits.modules[t]||i.config.offline.dbLimits.default;r=Math.round(r*1.1);var a=r-n.count[t];if(a>0){e.limit=Math.min(e.limit,a);return true}else{return false}});a.queueBuckets({name:s.BucketType.COMPLETE,modules:t});e._startIfPossible()},error:function o(e){i.logger.error("Failed to count records in database while starting bulk loader complete session. "+e)}})},processChangingConnection:function k(){if(this._allowedToStart()){a.start()}else{a.stop()}},_onAppSync:function A(){var e=i.offline.utils.getOfflineModules();var t=this._getProcessedModules();this._processRemovedModules(e,t);if(this._wasBucketQueued(s.BucketType.COMPLETE)){this._processAddedModules(e,t)}},_onOfflineCleanupCompleted:function M(){a.stop(a.resetModulesStatus)},_allowedToStart:function T(){return this._connectionAllows()&&!a.cache.pausedByUser},_startIfPossible:function C(){if(this._allowedToStart()){a.start()}},_processRemovedModules:function R(e,t){var n=[];_.each(t,function(t){if(e.indexOf(t)===-1){n.push(t)}});if(n.length){_.each(a.cache.queue,function(e){e.modules=_.filter(e.modules,function(e){return n.indexOf(e.name)===-1})});_.each(n,function(e){delete a.cache.status[e]});a.cache.save()}},_processAddedModules:function D(e,t){var n=[];_.each(e,function(e){if(t.indexOf(e)===-1){n.push(e)}});if(n.length){var i=_.filter(this._getModulesToLoad(s.BucketType.COMPLETE),function(e){return n.indexOf(e.name)!==-1});var r=_.find(a.cache.queue,function(e){return e.name===s.BucketType.COMPLETE});if(r){Array.prototype.push.apply(r.modules,i);a.cache.save()}}},_getProcessedModules:function I(){var e=[];_.each(a.cache.queue,function(t){_.each(t.modules,function(t){if(e.indexOf(t.name)===-1){e.push(t.name)}})});_.each(a.cache.status,function(t,n){if(e.indexOf(n)===-1){e.push(n)}});return e},_onBulkLoadProgress:function O(e,t){var n=this;if(e===s.ProgressEventType.COMPLETE&&t===s.BucketType.COMPLETE){var r=this.getCache().status;var a=!_.find(r,function(e){return e.status!==200});if(a){l.showAlert(i.lang.get("LBL_BULK_LOAD_COMPLETED_MESSAGE"),{title:i.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS")})}else{i.logger.error("Bulk Loader finished with errors. Status: "+JSON.stringify(r));l.showConfirm(i.lang.get("LBL_BULK_LOAD_ERROR_CONFIRM"),{title:i.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS"),callback:function o(e){if(e===2){n.queueCompleteDownload()}}})}}},_wasBucketQueued:function N(e){return!!_.find(a.cache.queuedBuckets,function(t){return t===e})},_connectionAllows:function F(){if(i.config.scheme==="e2e"){return true}if(!o.isOnline()){return false}if(i.isNative){var e=!!i.loginManager.getSetting(s.SettingsKey.ALLOW_CELLULAR);var t=navigator.connection.type===window.Connection.WIFI;return e||t}else{return true}},_getModuleFilters:function B(e){var t=[];var n=i.data.createBean(e);if(o.canFollow(n)){t.push({$following:"_this"})}if(o.supportsFavs(e)){t.push({$favorite:"_this"})}if(o.supportsMyItems(e)){t.push({$owner:"_this"})}t=_.isEmpty(t)?null:[{$or:t}];return t},_getModulesToLoad:function U(e){var t=this;var n=[];var r=this.getBulkLoadConfig(e);var a=function l(e){_.each(e,function(e){var a={name:e,limit:t._getModuleLimit(e,r),pageSize:r.pageSize};var s=t._getModuleFilters(e);if(s){a.filter=s}if(i.metadata.getModule(e)&&i.acl.hasAccess("list",e)){n.push(a)}else{i.logger.debug("Skipping prefetch of "+e+". Either metadata is missing or no access is given")}})};if(!_.isEmpty(r.modules)){a(r.modules)}if(e===s.BucketType.COMPLETE){var o=i.offline.utils.getOfflineModules({filter:"visible",includeStatic:true,checkAccess:true});a(_.difference(o,_.keys(r.modules)))}return n},getBulkLoadConfig:function P(e){return e===s.BucketType.INITIAL?i.config.offline.bulkLoad.initial:i.config.offline.bulkLoad.complete},_getModuleLimit:function Y(e,t){var n=(t.numPages.modules||{})[e]?t.numPages.modules[e]:t.numPages.default;return n*t.pageSize}};i.augment("bulkLoader",f)},function(e,t,n){"use strict";var i=n(14);var r={view:"read",readonly:"read",edit:"write",detail:"read",list:"read",disabled:"read"};function a(e,t){var n=void 0;if(t.access==="no"){n="no"}else{n=t[e]}return n!=="no"}function s(e,t,n){var i=void 0;e=r[e]||e;if(t.fields[n]&&t.fields[n][e]){i=t.fields[n][e]}return i!=="no"}var o={hasAccess:function u(e,t,n){var r=void 0;var o=void 0;if(!_.isObject(n)){r=arguments[3];o=arguments[4]}else{r=n.field;o=n.acls}var l=i.getAcls()[t];if(!l&&!o){return true}l=l||{};if(o){var u=_.extend({},l.fields,o.fields);l=_.extend({},l,o);l.fields=u}var c=a(e,l);if(c&&r&&l.fields){c=s(e,l,r);var d=SUGAR.App.metadata.getModule(t);var f=d&&d.fields?d.fields[r]:null;if(c&&f&&f.group){c=s(e,l,f.group)}}return c},hasAccessToModel:function c(e,t,n){var i=void 0;var r=void 0;var a=void 0;if(t){i=t.id;r=t.module;a=t.get("_acl")||{fields:{}}}if(e==="edit"&&!i){e="create"}return this.hasAccess(e,r,{field:n,acls:a})},hasAccessToAny:function d(e){return _.some(i.getAcls(),function(t,n){return this.hasAccess(e,n)},this)},_hasAccess:function f(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Acl#_hasAccess is a private method that you are not allowed to access. "+"Please use only the public API.");return}SUGAR.App.logger.warn("Core.Acl#_hasAccess is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the "+"public API only.");return a(e,t)},_hasAccessToField:function h(e,t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Acl#_hasAccessToField is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Acl#_hasAccessToField is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(e,t,n)},clearCache:function p(){SUGAR.App.logger.warn("`Core.Acl#clearCache` is deprecated since 7.10 and will be removed in a future "+"release. This method has no effect. Please do not use it anymore");this._accessToAny={}}};Object.defineProperty(o,"action2permission",{configurable:true,get:function m(){SUGAR.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return r},set:function g(e){SUGAR.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");r=e}});var l={};Object.defineProperty(o,"_accessToAny",{configurable:true,get:function v(){SUGAR.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future "+"release. Please do not use it anymore");return l},set:function b(e){SUGAR.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future "+"release. Please do not use it anymore");l=e}});e.exports=o},function(e,t,n){"use strict";function i(e,t){if(a.plugins[t]&&a.plugins[t][e]){return a.plugins[t][e]}}function r(e,t){return!!_.find(e.disabledPlugins,function(e){return e===t})}var a={plugins:{view:{},field:{},layout:{},model:{},collection:{}},attach:function s(e,t){_.each(e.plugins,function(n){var a=null;if(_.isObject(n)){var s=_.keys(n)[0];a=n[s];n=s}var o=i(n,t);if(o&&!r(e,n)){var l=_.extend({},_.isFunction(e.events)?e.events():e.events,o.events);_.extend(e,o);if(a){_.extend(e,a);if(a.events){_.extend(l,a.events)}}e.events=l;if(_.isFunction(o.onAttach)){o.onAttach.call(e,e,o)}}},this)},detach:function o(e,t){_.each(e.plugins,function(n){var r=i(n,t);if(r&&_.isFunction(r.onDetach)){r.onDetach.call(e,e,r)}},this)},register:function l(e,t,n){if(!_.isArray(t)){t=[t]}_.each(t,function(t){this.plugins[t]=this.plugins[t]||{};this.plugins[t][e]=n},this)},_isPluginDisabled:function u(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.pluginManager#_isPluginDisabled is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.pluginManager#_isPluginDisabled is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return r(e,t)},_get:function c(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.pluginManager#_get is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.pluginManager#_get is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return i(e,t)}};e.exports=a},function(e,t,n){"use strict";var i=n(10);var r=0;var a={reset:function s(){_.each(this.layouts,function(e,t){delete this.layouts[t]},this);_.each(this.views,function(e,t){delete this.views[t]},this);_.each(this.fields,function(e,t){delete this.fields[t]},this)},getFieldId:function o(){return r},views:{},layouts:{},fields:{},_createComponent:function l(e,t,n){var i=this.declareComponent(e,n.type||t,n.loadModule||n.module,n.controller,false,this._getPlatform(n));var r=new i(n);r.trigger("init");r.bindDataChange();return r},createView:function u(e){e.context=e.context||SUGAR.App.controller.context;e.module=e.module||e.context.get("module");e.name=e.name||e.type;e.meta=e.meta||SUGAR.App.metadata.getView(e.module,e.name,e.loadModule);if(e.def&&e.def.xmeta){e.meta=_.extend({},e.meta,e.def.xmeta)}var t=e.meta||{};e.type=e.type||t.type||e.name;return this._createComponent("view",e.type,e)},createLayout:function c(e){e.context=e.context||SUGAR.App.controller.context;e.module=e.module||e.context.get("module");e.name=e.name||e.type;e.meta=e.meta||SUGAR.App.metadata.getLayout(e.module,e.name,e.loadModule);if(e.def&&e.def.xmeta){e.meta=_.extend({},e.meta,e.def.xmeta)}var t=e.meta||{};e.type=e.type||t.type||e.name;return this._createComponent("layout",e.type,e)},createField:function d(e){var t=e.viewDefs?e.viewDefs.type:e.def.type;e.context=e.context||e.view.context||SUGAR.App.controller.context;e.model=e.model||e.context.get("model");e.module=e.module||(e.model&&e.model.module?e.model.module:e.context.get("module"))||"";if(e.meta){SUGAR.App.logger.warn("`params.meta` is deprecated in `View.ViewManager#createField` since 7.8 and will be removed in 7.9.")}if(e.meta&&e.meta.controller)e.controller=e.meta.controller;e.sfId=++r;var n=this._createComponent("field",t,e);e.view.fields[n.sfId]=n;return n},_getPlatform:function f(e){return e.platform||(SUGAR.App.config&&SUGAR.App.config.platform?SUGAR.App.config.platform:"base")},_getController:function h(e){var t=this._getBaseComponent(e.type,e.name,e.module,e.platform);if(t.cache[t.moduleBasedClassName]){return t.cache[t.moduleBasedClassName]}return t.baseClass},componentHasPlugin:function p(e){var t;if(!e.type||!e.name||!e.plugin){SUGAR.App.logger.error("componentHasPlugin requires type, name, and plugin parameters");return null}t=this._getController(e);return t&&t.prototype&&_.contains(t.prototype.plugins,e.plugin)},declareComponent:function m(e,t,n,r,a,s){var o=this._getBaseComponent(e,t,n,s,a&&r);if(a&&r){if(o.cache[o.moduleBasedClassName])delete o.cache[o.moduleBasedClassName]}return o.cache[o.moduleBasedClassName]||i.extendClass(o.cache,o.baseClass,o.moduleBasedClassName,r,o.platformNamespace)||o.baseClass},_getBaseComponent:function g(e,t,n,r,a){r=this._getPlatform({platform:r});var s=i.capitalize(e);var o=i.capitalize(r);var l=i.capitalizeHyphenated(t)+s;var u=o+(n||"")+l,c=o+(n||"")+"Custom"+l;var d=this[e+"s"];var f=i.capitalize(SUGAR.App.config.appId)+s;var h=d[o+"Custom"+l]||d[o+l]||d["BaseCustom"+l]||d["Base"+l]||d[l]||d["BaseBase"+s]||this["Custom"+f]||this[f]||this[s];if(d[c]&&!a){u=c}return{cache:d,platformNamespace:o,moduleBasedClassName:u,baseClass:h}}};e.exports=a},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(6);var a=[];var s=n(341);var o={registerBuddySteps:function l(){var e=new r({create:true}).prepare();a=[{id:"localSecurity",controller:n(17),layoutDef:{className:"layout__loginSettingsNoHeader",appendTo:"root",views:[s],context:e,headerConfig:{title:i.lang.get("LBL_SETUPBUDDY_HEADER_TITLE"),save:false,cancel:false}}}]},isSetupBuddySupported:function u(){return i.config.setupBuddyEnabled},isSetupBuddyItemCompleted:function c(e){return this._isStepCompleted(e)},resetPref:function d(){i.loginManager.removeSetting("setupBuddy");this.currentStepIndex=null},show:function f(e){this.registerBuddySteps();this._setupBuddyCompleteCallback=e;if(this.isSetupBuddySupported()){this._performSetupBuddy();return}this._setupBuddyCompleteCallback()},_performSetupBuddy:function h(){this.currentStepIndex=this.currentStepIndex||0;while(this.currentStepIndex<a.length){var e=a[this.currentStepIndex];if(e&&!this._isStepCompleted(e.id)&&e.controller.isStepNeeded()&&e.controller.canPerformStep()){this._showSetupBuddyView(e);break}if(e&&!e.controller.isStepNeeded()){this._setStepCompleted(e)}this.currentStepIndex++}if(this.currentStepIndex>=a.length){this._setupBuddyCompleteCallback()}},setupStepCompleted:function p(){var e=a[this.currentStepIndex];if(e){this._setStepCompleted(e.id)}this.currentStepIndex++;this._performSetupBuddy()},_showSetupBuddyView:function m(e){var t=i.controller.layoutManager.getRootLayout();var n=t&&t.getComponent(s);if(!n){i.controller._loadScreen({isDynamic:true,layouts:e.layoutDef})}},_cleanUp:function g(){_.each(a,function(e){e.controller.cleanupStep()})},_getPrefs:function v(){var e=i.loginManager.getSetting("setupBuddy")||{};e.viewed=e.viewed||{};return e},_isStepCompleted:function b(e){var t=this._getPrefs()||{};return t.viewed[e]},_setStepCompleted:function y(e){var t=this._getPrefs();t.viewed[e]=true;i.loginManager.setSetting("setupBuddy",t)},isActive:function x(){var e=this.currentStepIndex||0;return e<a.length}};e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(29);var s=n(88);var o=n(15);e.exports=r.declareComponent(a,{className:"chart-wrapper",chart:null,chartData:null,isManager:false,showManagerData:false,loaded:false,responseDataAttr:"data",LATEST_AVAILABLE_WARN_KEY:"LATEST_AVAILABLE_DATA",_chartElSize:null,ERR_NO_DATA_AVAILABLE:"NO_DATA_AVAILABLE",globalEvents:{"app:orientation:changed":function l(){this._updateChartElSize();this._onOrientationChange()}},initialize:function u(e){this._super(e);this.isManager=i.user.get("is_manager");s({view:this})},_updateChartElSize:function c(){this._maxLegendRows=r.getOrientation()==="landscape"&&!i.isTablet?1:4},_onOrientationChange:function d(){if(this.chart){if(this.chart.legend){this.chart.legend.rowsCount(this._maxLegendRows)}this.dispatchChartMethod("tooltipHide");this.rerenderChart()}},onBeforeRender:function f(){this.enableOptionsToolbar();this._updateChartElSize();this._super()},renderChart:function h(){this.$(".nv-chart svg").remove();nv.tooltip.cleanup();return this.chartData.data.length},onAfterRender:function p(){this._super();this.$chartEl=this.$(".nv-chart");this.$dataUnavailableLbl=this.$(".data-unavailable-label");this.listenTo(this.$(".nv-chart"),"click",_.bind(function(e){this.dispatchChartMethod("chartClick")},this))},loadData:function m(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new o(function(n,r){e.abortActiveRequests();if(!t.forceFetch&&e.loaded){if(e.chart){e.dispatchChartMethod("tooltipHide");e.updateChart()}n();return}if(!t.byPtr){e.showPreloader()}var a=[function(t){return e.loadChartData(t)}];if(!e._isChartInitialized&&e.loadInitData){a.unshift(function(t){return e.loadInitData(t)})}async.series(a,function(t,a){e.activeRequests=[];if(t){if(!t.request.aborted){e.loadDataError(t)}r(new Error(t.message))}else{var s=_.last(a);if(e.isDataEmpty(s,a)){e.loadDataError(e.ERR_NO_DATA_AVAILABLE)}else{e.loadDataSuccess(s,function(e){e&&i.logger.error("Couldn't cache chart data: \n"+e)})}n(a)}})}).catchReturn()},showLatestAvailableDataWarn:function g(e){var t=i.date(e.last_fetched).fromNow();i.alert.dismiss(this.LATEST_AVAILABLE_WARN_KEY);i.alert.show(this.LATEST_AVAILABLE_WARN_KEY,{level:"warning",messages:i.lang.get("LBL_SHOWING_CACHED_DATA",null,{lastFetched:t}),autoClose:false,closeable:true})},dismissDashletAlerts:function v(){this._super({alertId:this.LATEST_AVAILABLE_WARN_KEY})},isDataEmpty:function b(e,t){return _.isEmpty(e)||(this.responseDataAttr?_.isEmpty(e[this.responseDataAttr]):false)},showPreloader:function y(){i.alert.show("chart-loading",{level:"load",messages:i.lang.get("LBL_LOADING"),autoClose:false,closeable:false});this.$dataUnavailableLbl.hideElement()},hidePreloader:function x(){i.alert.dismiss("chart-loading")},loadDataSuccess:function S(e,t){if(e.title){this.dataTitle=e.title}this.dispatchCacheStorageMethod("set",this.options.dashletId,{chartData:e,filters:this.viewState.filters,filtersDef:this.viewState.filtersDef,visibility:this.viewState.visibility,last_fetched:i.utils.getTimestamp()},t);this.loaded=true;this.hidePreloader();this.$chartEl.showElement();this.$dataUnavailableLbl.hideElement();this.processData(e)},loadDataError:function w(e){this.hidePreloader();var t=this;if(e===this.ERR_NO_DATA_AVAILABLE){this.$chartEl.hideElement();this.$dataUnavailableLbl.showElement();return}i.error.handleHttpError(e,this.model);if(_.contains([403,412,422],e.status)){return}this.dismissNetworkAlerts();this.dispatchCacheStorageMethod("get",this.options.dashletId,function n(e,i){var r=Boolean(!e&&i);t.$chartEl.toggleElement(r);if(!r){t.$dataUnavailableLbl.showElement();return}t.showLatestAvailableDataWarn(i);t.applyViewState(i);t.hidePreloader();t.processData(i.chartData)})},dispatchCacheStorageMethod:function L(e){if(!this.cacheStorage){if(e==="get"){this.$chartEl.hideElement();this.$dataUnavailableLbl.showElement()}return false}var t=_.toArray(arguments).slice(1);this.cacheStorage[e].apply(this.cacheStorage,t)},processData:function E(e){this.prepareChartObject();this.renderChart();this.toggleDashletSwipe()},applyViewState:function k(e){this._super(e);if(!_.isUndefined(this._isChartInitialized)){this._isChartInitialized=true}},setFilters:function A(e){var t=this.getState(this.options.dashboardId,this.meta.id)||{};var n=_.isEmpty(t.filters)?e:t.filters;this.viewState.filters.set(n,{silent:true})},getViewContainer:function M(){return this.$easyScrollerParent},isSwipable:function T(){return _.isEmpty(this.$chartEl.find(".nv-scroll-wrap").attr("clip-path"))},dispatchChartMethod:function C(e){this.chart&&this.chart.dispatch[e]()},updateChart:function R(){if(_.isFunction(this.chart.update)){this.chart.update()}else{this.renderChart()}this.toggleDashletSwipe()},rerenderChart:function D(){if(_.isFunction(this.chart.render)){this.chart.render()}else if(_.isFunction(this.chart.update)){this.chart.update()}else{this.renderChart()}this.toggleDashletSwipe()},getUserCurrencyFormatter:function I(){var e=i.user.getPreference("currency_id");var t=i.currency.getBaseCurrencyId();return function(n){var r=i.currency.convertAmount(n,t,e);return i.currency.formatAmountLocale(r,e,0)}},getUserCurrencyFormatterSi:function O(){var e=i.currency.getBaseCurrencyId();var t=i.user.getPreference("currency_id");var n=i.currency.getCurrencySymbol(t);var r=i.user.getPreference("decimal_separator");return function(a,s){var o=s||2;var l=parseFloat(i.currency.convertAmount(a,e,t));var u=d3.format(",."+o+"s")(l);return n+u.replace(".",r)}}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(39);e.exports=r.declareComponent(a,{events:{"click .visibility-switcher__btn":"changeVisibility"},initialize:function s(e){var t=e.dashletName||e.meta.view.type;var n=this._getDefaultSettings(t);e.meta=i.utils.deepCopy(e.meta);if(n){e.meta.view=_.defaults(e.meta.view,n)}if(i.offlineEnabled){this.cacheStorage=i.nomad.dashboards.cacheDashletStore}this.dashletParams=i.metadata.getView("Home",t)||{};var r=_.defaults({type:this.name,module:this.module},e.meta.view);this.title=i.nomad.dashboards.getDashletTitle(r);this.activeRequests=[];this._super(e);this.initDashletOptions()},getTitle:function o(e){return e.label},_getDefaultSettings:function l(e){var t={"active-tasks":{visibility:"user"},"inactive-tasks":{visibility:"user"},history:{filter:7,visibility:"user"},"planned-activities":{date:"today",visibility:"user"}};return t[e]},dismissNetworkAlerts:function u(){i.alert.dismiss("network_error",{animate:false})},applyViewState:function c(e){if(!_.isEmpty(e.filters)){this.viewState.filters.set(e.filters,{silent:true})}if(e.visibility){this.viewState.visibility=e.visibility;this.viewState.myItemsOnly=e.visibility==="user";this.previousVisibilityState=this.viewState.visibility}this.viewState.filtersDef=e.filtersDef;this.render()},initDashletOptions:function d(){var e=this.getState(this.options.dashboardId,this.meta.id)||{};this.viewState={visibility:e.visibility||this.meta.view.visibility};this.viewState.myItemsOnly=this.viewState.visibility==="user";this.dashletOptionsTemplate=i.template.get("dashlet-options");this.initFilters(e);this.enableOptionsToolbar()},enableOptionsToolbar:function f(){if(this.dashletOptionsEnabled()){this.$el.addClass("has-dashlet-options")}},abortActiveRequests:function h(){var e=this._super();if(_.isEmpty(this.activeRequests)){return e}_.each(this.activeRequests,function(e){i.api.abortRequest(e.uid)});this.activeRequests=[];this.loaded=false;return true},onBeforeHide:function p(){this.dismissDashletAlerts()},dismissDashletAlerts:function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(e.closeAll){i.alert.dismissAll()}else if(e.alertId){var t=_.isArray(e.alertId)?e.alertId:[e.alertId];t.forEach(function(e){return i.alert.dismiss(e)})}},onInvokedFromDashboard:function g(){},onAfterRender:function v(){this._super();if(this.dashletOptionsEnabled()){this.$el.prepend(this.dashletOptionsTemplate(this));this.$switcher=this.$(".visibility-switcher");this.$switcherBtns=this.$switcher.find(".visibility-switcher__btn");if(!_.isEmpty(this.fields)){this._renderFields()}}},_dispose:function b(){var e=this.getViewContainer();if(e){e.remove()}this.$switcher=this.$switcherBtns=null;this._super()},changeVisibility:function y(e){e.preventDefault();e.stopPropagation();var t=$(e.target);var n=t.hasClass("visibility-switcher__btn")?t:t.parent();var i=n.data("value");var r="active";if(i!==this.viewState.visibility){this.saveState();this.$switcherBtns.removeClass(r);n.addClass(r);this.viewState.visibility=i;this.loadData({forceFetch:true})}},initFilters:function x(e){var t=this;this.viewState.filtersDef={};this.viewState.filters=i.data.createBean("Filters");this.updateFiltersViewState(e);this.listenTo(this.viewState.filters,"change",function(){t.saveState();t.loadData({forceFetch:true})})},updateFiltersViewState:function S(){},dashletOptionsEnabled:function w(){return this.viewState&&(this.viewState.visibility||!_.isEmpty(this.viewState.filtersDef))},saveState:function L(){var e=this.getSettingName();var t=i.nomad.getSetting(e)?JSON.parse(i.nomad.getSetting(e)):[];var n={visibility:this.viewState.visibility,filters:this.viewState.filters.toJSON(),dashboardId:this.options.dashboardId,dashletId:this.meta.id};var r;_.each(t,function(e,i){if(n.dashboardId===e.dashboardId&&n.dashletId===e.dashletId){t[i]=r=n}});if(!r){t.push(n)}i.nomad.setSetting(e,JSON.stringify(t))},getState:function E(e,t){var n=this.getSettingName();var r=i.nomad.getSetting(n);var a=r&&JSON.parse(r);if(_.isEmpty(a)){return}return _.find(a,function(n){return n.dashboardId===e&&n.dashletId===t})},getSettingName:function k(){return"dashlet_states"},apiCall:function A(){this.activeRequests.push(i.api.call.apply(i.api,arguments))},isSwipable:function M(){return true},toggleDashletSwipe:function T(){this.$el.toggleClass("no-swiping",!this.isSwipable())},onDetachFromDom:function C(){this.onBeforeHide();this._super()},getViewContainer:function R(){return this.$el}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(28);var s=r.declareComponent(a,{initialize:function o(e){this.forecastBy=i.nomad.utils.getForecastModule();this._super(e)},buildChartUrl:function l(){}});i.nomad.registerComponent({baseType:"forecastchart",cmp:s});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(49);var a=n(75);var s={enabled:true,prefetch:{},storageSize:5,storageProvider:"sql",storageAdapter:"webSql",syncTimeout:5e3,debug:{render:false,online:true,forceMigrate:false,syncManagerEnabled:true,monitorStatus:true}};var o={start:function l(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.migrate,r=n===undefined?false:n;return Promise.try(function(){var t=i.cache.get("offline:version");var n=r||!t;i.config.offline=_.extend(s,i.config.offline);if(i.config.offline.debug.ignoreEnabled){i.config.offlineEnabled=true}i.offlineEnabled=i.offline.isOfflineEnabled();if(!i.offlineEnabled){if(t){e.onOfflineToggled(false);return e.stop({dropStorage:true})}}else{if(!i.offline.initStorage()){i.logger.error("Storage unavailable");i.trigger("offline:failure",i.offline.Error.StorageUnavailableError)}else{i.offline.registerEvents();if(!i.offline._initialized){i.offline.initialize()}return i.offline.prepareDb(n).then(function(){e.onOfflineStarted();return null}).catch(function(e){i.offline.uninitialize();i.offlineEnabled=false;if(e.code===5){i.logger.error(e);i.trigger("offline:failure",i.offline.Error.StorageUnavailableError)}throw e})}}})},stop:function u(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.dropStorage,r=n===undefined?false:n;var a=Promise.resolve();i.logger.debug("Offline mode disabled");i.offline.syncManager.dispose();i.offline.stopMonitorStatus();if(i.offline.isInitialized()){i.offline.uninitialize()}if(r){a=a.then(function(){return i.offline.dropStorage()})}return a.then(function(){return e.onOfflineToggled(false)})},onAppResume:function c(){if(i.api.isAuthenticated()&&i.offlineEnabled){i.offline.showStateAlert({ignoreAlertUid:true});return this.runDbStatsOperations()}},onOfflineStarted:function d(){i.offline.startSyncManager();i.offline.startMonitorStatus();this.onOfflineToggled(true);i.logger.debug("Offline started");return this.runDbStatsOperations()},onOfflineToggled:function f(e){i.trigger("offline:toggled",e);r.onOfflineToggled(e)},getOfflineDbStats:function h(){return new Promise(function(e,t){i.offline.storage.getStats({success:function n(t){var n=_.reduce(t.count,function(e,t){return e+=t},0);e(_.extend(t,{totalRecords:n}))},error:function r(e){t(new Error(e))}})})},runDbStatsOperations:function p(){var e=n(23);var t=n(18);return this.getOfflineDbStats().then(function(n){var i=e.getState();if(i.state===t.State.IDLE){a.cleanUp(n)}r.processPeriodicAnalytics(n);return null}).catch(function(e){return i.logger.error(e.message)})}};i.augment("offlineProvider",o,false);e.exports=o},function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=n(25);var a=n(10);var s=n(95);Backbone.Model.prototype.doValidate=function(e,t){t(this.isValid())};function o(e,t,n,i){if(_.isUndefined(t))return;if(_.isUndefined(e[n])){e[n]={}}e[n][i]=t}var l=Backbone.Model.extend({constructor:function u(e,t){r.attach(this,"model");Backbone.Model.prototype.constructor.call(this,e,t)},initialize:function c(e){Backbone.Model.prototype.initialize.call(this,e);this.setSyncedAttributes(this.attributes);this._bindEvents();this._relatedCollections=this._relatedCollections||null;this._activeFetchRequest=null;if(this.isNew()&&this._defaults){_.each(this._defaults,function(e,t){if(!this.has(t)){this.set(t,e,{silent:true})}},this)}if(this.fields){this.fields=a.deepCopy(this.fields)}this.addValidationTask("sidecar",_.bind(this._doValidate,this))},fetch:function d(e){e=_.extend({},this.getOption(),e);this.abortFetchRequest();this._activeFetchRequest=Backbone.Model.prototype.fetch.call(this,e);return this._activeFetchRequest},getFetchRequest:function f(){return this._activeFetchRequest},abortFetchRequest:function h(){var e=this.getFetchRequest();if(e){SUGAR.App.api.abortRequest(e.uid)}},set:function p(e,t,n){if(_.isUndefined(e)||_.isNull(e)){return this}var r;if((typeof e==="undefined"?"undefined":i(e))==="object"){r=e;n=t}else{(r={})[e]=t}n=n||{};var a=this.getCollectionFields(r);r=_.omit(r,_.keys(a));Backbone.Model.prototype.set.call(this,r,n);this._handleCollectionFieldValues(a,n);return this},_handleCollectionFieldValues:function m(e,t){_.each(e,function(e,n){if(e instanceof SUGAR.App.MixedBeanCollection){if(this.get(n)!==e){this.stopListening(this.get(n));Backbone.Model.prototype.set.call(this,_.object([n],[e]),t);this.listenTo(e,"update reset",function(e,t){this.trigger("change:"+n,this,e,t)});this.off("sync",e.resetDelta,e);this.on("sync",e.resetDelta,e)}}else{var i={};var r=this.get(n);r.reset();if(_.isObject(e)&&e.records){i=_.extend(i,_.omit(e,"records"));e=e.records}_.each(i,function(e,t){r[t]=e});r.add(e,t)}},this)},get:function g(e){var t=Backbone.Model.prototype.get.call(this,e);if(!_.contains(_.pluck(this.fieldsOfType("collection"),"name"),e)||t instanceof SUGAR.App.MixedBeanCollection){return t}t=this._createMixedBeanCollectionField(e);Backbone.Model.prototype.set.call(this,_.object([e],[t]),{silent:true});return t},_createMixedBeanCollectionField:function v(e,t){var n=this.fields[e];if(n&&n.links){var i=n.links;if(_.isString(i)){i=[i]}var r={};_.each(i,function(e){r[e]=this.getRelatedCollection(e)},this);var a=SUGAR.App.data.createMixedBeanCollection(t||[],{links:r});this.listenTo(a,"update reset",function(t,n){this.trigger("change:"+e,this,t,n)});this.off("sync",a.resetDelta,a);this.on("sync",a.resetDelta,a);return a}},_bindEvents:function b(){this.on("sync",function(){this._checkAcl();this.setSyncedAttributes(this.attributes)},this)},_checkAcl:function y(){var e=this._checkFieldAcls();if(_.size(e)||!_.isEqual(_.omit(this.get("_acl"),"fields"),_.omit(this.getSynced("_acl"),"fields"))){this.trigger("acl:change",e)}},_checkFieldAcls:function x(){var e={};var t=_.property("fields");var n=t(this.getSynced("_acl"))||{};var i=t(this.get("_acl"))||{};var r=_.extend({},n,i);_.each(r,function(t,r){if(!_.isEqual(n[r],i[r])){this.trigger("acl:change:"+r);e[r]=true}},this);return e},dispose:function S(){r.detach(this,"model");

},_setRelatedCollection:function w(e,t){if(!this._relatedCollections)this._relatedCollections={};this._relatedCollections[e]=t},getRelatedCollection:function L(e){if(this._relatedCollections&&this._relatedCollections[e]){return this._relatedCollections[e]}return SUGAR.App.data.createRelatedCollection(this,e)},isValidAsync:function E(e,t){e=e||this.fields;async.waterfall(_.flatten([function(t){t(null,e,{})},_.sortBy(this._validationTasks)]),function(e,n,i){if(!e){var r=_.isEmpty(i);if(_.isFunction(t)){t(r,i)}}})},doValidate:function k(e,t){var n=this;this.trigger("validation:start");this.isValidAsync(e,function(e,i){if(e){n.trigger("validation:success")}n.trigger("validation:complete",n._processValidationErrors(i));if(_.isFunction(t)){t(e)}})},_doValidate:function A(e,t,n){var i;_.each(e,function(e,n){if(_.isString(e)){n=e;e=this.fields[n]}i=this.get(n);if(e){o(t,s.requiredValidator(e,e.name,this,i),n,"required");if(i||i===0){_.each(s.validators,function(r,a){if(a==="url"){return}o(t,r(e,i,this),n,a)},this)}}},this);n(null,e,t)},addValidationTask:function M(e,t){this._validationTasks=this._validationTasks||{};this._validationTasks[e]=t},removeValidationTask:function T(e){if(this._validationTasks){this._validationTasks=_.omit(this._validationTasks,e)}},_processValidationErrors:function C(e){var t=true;if(!_.isEmpty(e)){SUGAR.App.error.handleValidationError(this,e);_.each(e,function(e,t){this.trigger("error:validation:"+t,e)},this);this.trigger("error:validation",e);t=false}return t},save:function R(e,t){var n=this;if(!t||!t.fieldsToValidate){return Backbone.Model.prototype.save.call(this,e,t)}this.doValidate(t.fieldsToValidate,function(i){if(i){return Backbone.Model.prototype.save.call(n,e,t)}})},canHaveAttachments:function D(){return _.has(this.fields,"attachment_list")},getFiles:function I(e,t){t=t||{};t.passOAuthToken=false;return SUGAR.App.api.file("read",{module:this.module,id:this.id},null,e,t)},copy:function O(e,t,n){var i={};var r=SUGAR.App.metadata.getModule(this.module).fields;t=t||_.pluck(r,"name");_.each(t,function(t){var n=r[t],s;if(!n||n.duplicate_on_record_copy==="no"){return}s=n.duplicate_on_record_copy==="always"||t!=="id"&&n.type!=="link"&&!n.auto_increment;if(s&&e.has(t)){var o=e.get(t);if(_.isObject(o)){o=a.deepCopy(o)}i[t]=o}});this.set(i,n);this.isCopied=true},isCopy:function N(){return this.isCopied===true},uploadFile:function F(e,t,n,i){n=n||{};i=i||{};return SUGAR.App.api.file("create",{id:i.temp!==true?this.id:"temp",module:this.module,field:e},t,n,i)},favorite:function B(e,t){t=t||{};t.favorite=true;return this.save({my_favorite:!!e},t)},follow:function U(e,t){t=t||{};e=e||false;t.following=true;return this.save({following:e},t)},isFavorite:function P(){var e=this.get("my_favorite");return e==="1"||e===true},getChangeDiff:function Y(e,t){var n={};e=e||{};t=t||[];_.each(this.attributes,function(i,r){if(_.contains(t,r))return;var a=e[r];if(!_.isEqual(a,i)){n[r]=a}});return n},hasChanged:function H(e){if(_.isUndefined(e)){var t=this.getCollectionFields(this.attributes);var H=_.some(t,function(e,t){return!_.isEmpty(e.getDelta())},this);return H||Backbone.Model.prototype.hasChanged.call(this)}if(this.get(e)instanceof SUGAR.App.MixedBeanCollection){return!_.isEmpty(this.get(e).getDelta())}return Backbone.Model.prototype.hasChanged.call(this,e)},toJSON:function G(e){var t=e&&e.fields?e.fields:_.keys(this.attributes),n={};_.each(t,function(t){var i=this.get(t);if(i instanceof SUGAR.App.MixedBeanCollection&&!_.isEmpty(i.getDelta())){_.each(i.getDelta(),function(e,t){n[t]=e})}else{if(_.isObject(i)&&_.isFunction(i.toJSON)){SUGAR.App.logger.warn("Calling `toJSON` on object attributes is deprecated in 7.9 and will be "+"removed in 7.10");i=i.toJSON(e)}n[t]=i}},this);return n},toString:function V(){return"bean:"+this.module+"/"+(this.id?this.id:"<no-id>")},revertAttributes:function j(e){e=e||{};e.revert=true;var t=this.changedAttributes(this.getSynced());this.set(a.deepCopy(t)||{},e);if(!e.silent){this.trigger("attributes:revert")}},changedAttributes:function z(e){var t=this;var n=this.getCollectionFields(e);if(!_.isUndefined(e)){e=_.omit(e,_.keys(n))}var i=Backbone.Model.prototype.changedAttributes.call(this,e);_.each(n,function(e,n){if(!_.isEmpty(t.get(n).getDelta())){i=i||{};i[n]=e}},this);return i},setSyncedAttributes:function $(e){this._syncedAttributes=e?a.deepCopy(e):{}},getSynced:function q(e){return e?this._syncedAttributes[e]:this._syncedAttributes},getDefault:function W(e){var t=_.clone(this._defaults)||{};if(_.isUndefined(e)){return t}return t[e]},setDefault:function K(e,t){var n;if(_.isObject(e)){n=e}else{(n={})[e]=t}this._defaults=_.extend({},this._defaults,n);this.attributes=_.defaults(this.attributes,n);return this},setOption:function J(e,t){var n;if(_.isObject(e)){n=e}else{(n={})[e]=t}this._persistentOptions=_.extend({},this._persistentOptions,n);return this},unsetOption:function X(e){if(e){this.setOption(e,void 0)}else{this._persistentOptions={}}return this},getOption:function Z(e){if(e){return this._persistentOptions[e]}return this._persistentOptions},fieldsOfType:function Q(e){return _.where(this.fields,{type:e})},getCollectionFields:function ee(e){return _.pick(e,_.pluck(this.fieldsOfType("collection"),"name"))},merge:function te(e,t,n){return _.extend(e,t)}});e.exports=l},function(e,t,n){"use strict";var i=n(55);var r=n(14);var a=Backbone.View.extend({_isInitialized:false,constructor:function s(e){this.options=e||{};this._wrapInitialize(e);return Backbone.View.apply(this,arguments)},_wrapInitialize:function o(e){this.initialize=_.wrap(this.initialize,_.bind(function(t){t.call(this,e);this.initialize=t;this._isInitialized=true;this.delegateEvents()},this))},initialize:function l(e){this.context=e.context||SUGAR.App.controller&&SUGAR.App.controller.context||new Backbone.Model;this.meta=e.meta;this.module=e.module||this.context.get("module");this.model=e.model||this.context.get("model");this.collection=e.collection||this.context.get("collection");if(this.meta&&this.meta.css_class){this.$el.addClass(this.meta.css_class)}this.updateVisibleState(true);r.lastState.register(this)},_render:function u(){return this},render:function c(){if(this.disposed===true){SUGAR.App.logger.error("Unable to render component because it's disposed "+this+"\n");return false}if(!this.triggerBefore("render"))return false;this._render();this.trigger("render");return this},delegateEvents:function d(){if(!this._isInitialized){return this}return Backbone.View.prototype.delegateEvents.apply(this,arguments)},setTemplateOption:function f(e,t){this.options.templateOptions=this.options.templateOptions||{};this.options.templateOptions[e]=_.extend({},this.options.templateOptions[e],t)},bindDataChange:function h(){},unbindData:function p(){if(this.model)this.model.off(null,null,this);if(this.collection)this.collection.off(null,null,this)},unbind:function m(){this.off();this.offBefore();this.undelegateEvents();SUGAR.App.events.off(null,null,this);SUGAR.App.events.unregister(this);if(this.context)this.context.off(null,null,this);if(this.layout)this.layout.off(null,null,this)},loadData:_.noop,_dispose:function g(){this.unbindData();this.unbind();this.remove();this.model=null;this.collection=null;this.context=null;this.$el=null;this.el=null},dispose:function v(){if(this.disposed===true)return;this._dispose();this.disposed=true},toString:function b(){return this.cid+"-"+(this.$el&&this.$el.id?this.$el.id:"<no-id>")+"/"+this.module+"/"+this.model+"/"+this.collection},closestComponent:_.noop,show:function y(){if(!this.isVisible()){if(!this.triggerBefore("show")){return false}this._show();this.trigger("show")}},hide:function x(){if(this.isVisible()){if(!this.triggerBefore("hide")){return false}this._hide();this.trigger("hide")}},isVisible:function S(){return this._isVisible},updateVisibleState:function w(e){this._isVisible=!!e},_show:function L(){this.$el.removeClass("hide").show();this.updateVisibleState(true)},_hide:function E(){this.$el.addClass("hide").hide();this.updateVisibleState(false)},_super:function k(e,t){if(!e||!_.isString(e)){return SUGAR.App.logger.error("tried to call _super without specifying a parent method in "+this.name)}var n,i=Object.getPrototypeOf(this);t=t||[];this._superStack=this._superStack||{};this._superStack[e]=this._superStack[e]||[];if(this._superStack[e].length>0){n=Object.getPrototypeOf(_.last(this._superStack[e]));if(_.contains(this._superStack[e],n)){return SUGAR.App.logger.error("Loop detected calling "+e+" from "+this.name)}}else{n=Object.getPrototypeOf(i)}if(!i[e]){return SUGAR.App.logger.error("Unable to find method "+e+" on class "+this.name)}while(!n.hasOwnProperty(e)&&n!==a.prototype){n=Object.getPrototypeOf(n)}while(i[e]===n[e]&&n!==a.prototype){i=n;n=Object.getPrototypeOf(n)}this._superStack[e].push(n);if(!n){return SUGAR.App.logger.error("Unable to find parent of component "+this.name)}if(!n[e]){return SUGAR.App.logger.error("Unable to find method "+e+" on parent class of "+this.name)}var r=n[e].apply(this,t);this._superStack[e].pop();if(_.isEmpty(this._superStack[e])){this._superStack[e]=null}return r},getPlaceholder:function A(){return new Handlebars.SafeString('<span cid="'+this.cid+'"></span>')}});_.extend(a.prototype,i);e.exports=a},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(242);var a=n(244);var s=n(243);e.exports={getRecordActions:function o(e){var t=e.view,i=e.model,a=e.type,s=e.maxCount;var o=n(9);var l=o.getCustomActions();var u=this._isMetaRelatedView(i,t)&&r({view:t,model:i,type:a});var c=t.contextMenuActions||_.union(u,l);c=_.chain(this.processRecordActions({actions:c,view:t,model:i,type:a})).filter(function(e){return t&&_.isFunction(t.isActionVisible)?t.isActionVisible(e,i):e.isVisible}).value();if(s){c=c.slice(0,s)}return c},getRightMenuActions:function l(e){var t=e.view,i=e.model,r=e.viewType,s=e.viewSubType;var o=r==="list"?"right-menu-list":"right-menu-detail";var l=n(9);var u=this._isMetaRelatedView(i,t)&&a({model:i,viewType:r,viewSubType:s});var c=this.processRecordActions({actions:_.union(u,l.getCustomActions()),view:t,model:i,type:o});return _.where(c,{isVisible:true})},getEditViewActions:function u(e){var t=e.view,i=e.model;var r=n(9);var a=this._isMetaRelatedView(i,t)&&s({view:t,model:i});var o=this.processRecordActions({actions:_.union(a,r.getCustomActions()),view:t,model:i,type:"edit-menu"});return _.where(o,{isVisible:true})},processRecordActions:function c(e){var t=this;var n=e.actions,i=e.view,r=e.model,a=e.type;return _.chain(n).filter(function(e){return _.contains(e.types,a)&&(!e.modules||_.contains(e.modules,r.module))}).reduce(function(e,t,n,i){var r={};var a=t.name;if(_.findWhere(e,{name:a})){return e}if(!t.custom){r=_.find(i,function(e){return e.custom&&a===e.name})}e.push(_.extend({},t,r));return e},[]).each(function(e){t._updateActionState({action:e,view:i,model:r});if(a==="context-menu"){e.googleAnalyticsName="c-"+e.name}}).sortBy("rank").value()},_updateActionState:function d(e){var t=e.action,n=e.view,i=e.model;_.each(t.stateHandlers,function(e,r){var a=t[r];if(_.isUndefined(a)){t[r]=Boolean(e.call(t,n,i))}});_.defaults(t,{isVisible:true,isEnabled:true})},_isMetaRelatedView:function f(e){return e.module&&(e instanceof i.NomadBean||e instanceof i.BeanCollection)}}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(29);var s=n(20);var o=n(11);var l=n(15);var u=r.declareComponent(a,{navigationName:s.DASHLET_LIST,contextMenuOnSwipeDisabled:true,isManager:true,lazyRender:false,lazyLoad:false,getViewDefs:function c(e){return[this.getListViewDef(e.meta.view,e)]},createView:function d(e){var t=this._super(e);t.setOfflineEnabled(false);this.overrideListView(t);this.listenTo(t,this.ACTION_NAME,this.propagateAction);return t},getListViewDef:function f(e,t){var n=["planned-activities","active-tasks","inactive-tasks","history"];var r=_.contains(n,this.options.meta.view.type)?"user-activity-list-item":null;this._updateLinkOption(e,t);var a=_.extend({parentModel:t.parentModel},e,t.listParams);return{name:i.nomad.getViewClass({baseType:"configurable-list",module:e.module}),module:e.module,listParams:a,contextMenuOnSwipeDisabled:this.contextMenuOnSwipeDisabled,listItemTpl:r}},getListView:function h(){return _.find(this._views,function(e){return e instanceof o})},overrideListView:function p(e){_.extend(e,{name:"list",action:"list",_buildRecordRoute:this._getBuildRouteFn(e),navigationName:this.navigationName})},_updateLinkOption:function m(e,t){var n=_.isString(e.linked_fields)&&e.linked_fields;if(e.link||!n){return}var i=Boolean(_.isString(e.intelligent)?+e.intelligent:e.intelligent);if(i){e.link=n}},_getBuildRouteFn:function g(e){function t(t){var n=this.options;var r=t.model;var a=n.parentModel;var s=i.controller.getScreenContext();var l=this.options.isRootScreen;var u;if(s.parentDashboardId&&l){u=[i.controller.getScreenContextRoot(),r.module,r.id].join("/")}else if(n.parentModel){u=[a.module,a.id,"Dashboards",n.dashboardId,n.dashletId,r.module,r.id];if(t.hash.action){u.push(t.hash.action)}u=u.join("/")}else{u=o.prototype._buildRecordRoute.apply(e,arguments)}return u}return _.bind(t,this)},loadData:function v(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return l.map(this._views,function(n){return n.loadData(e._getListLoadParams(n,t))})},_getListLoadParams:function b(e,t){var n=i.metadata.getModule(e.module);var r=this.getFilters();var a=this.getViewIndex(e);return _.extend({},t,{myItems:this.viewState.myItemsOnly,fields:n?n.mergedFields:null,filter:r&&r[a]})},updateFiltersViewState:function y(e){this._super(e);var t=this.dashletParams.filter||[];if(this.meta.view.date){t.push({name:"date",type:"radioenum",options:{today:i.utils.capitalize(i.lang.get("LBL_TODAY")),future:i.utils.capitalize(i.lang.get("LBL_FUTURE"))},gaTrack:{today:"click:today",future:"click:future"}})}_.each(t,function(t){var n=this.meta.view[t.name];if(e.filters&&e.filters[t.name]){n=e.filters[t.name]}if(_.isEmpty(t.options)){t.options=i.lang.getAppListStrings(t.options)}_.extend(t,{view:"edit"});this.viewState.filters.set(t.name,n);this.viewState.filtersDef[t.name]=t},this)},getFilters:function x(){}});i.nomad.registerComponent({baseType:"list-view-dashlet",cmp:u});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{isFloat:false,fieldType:"text",initialize:function o(e){this._super(e);if(i.user.getPreference("decimal_separator")!=="."){return}if($.os.ios){this.fieldType="number";this.events=_.extend({"keypress ._numeric":"onNumericKeyPress"},this.events);this.events=_.extend({"paste ._numeric":"onItemPaste"},this.events)}else if($.os.android){this.fieldType="tel"}},onItemPaste:function l(e){var t=e.target;var n=$(t).val();_.delay(function(){var e=$(t).val();if(_.isEmpty(e)){$(t).val(n)}},1)},onNumericKeyPress:function u(e){var t=e.keyCode||e.which;if(t===46&&this.isFloat){var n=$(e.target).val();if(n===""){$(e.target).val("0")}else if(n.indexOf(".")>-1){e.preventDefault();return false}}else if(t<48||t>57){e.preventDefault();return false}},format:function c(e){if(!e&&e!==0||_.isString(e)&&e.trim().length===0)return"";if(!isNaN(e)){var t="";if(this.action!=="edit"&&this.action!=="create"||this.tplName==="disabled"){t=this.def.disable_num_format?"":this.def.number_group_seperator||i.user.getPreference("number_grouping_separator")}e=i.utils.formatNumber(e,null,this.isFloat?this.def.precision||i.user.getPreference("decimal_precision"):0,t,this.def.decimal_seperator||i.user.getPreference("decimal_separator"));if(this.isFloat){this.model.set(this.name,this.unformat(e),{silent:true})}}return e},unformat:function d(e){var t=i.utils.unformatNumberStringLocale(e.toString(),this.isFloat);return t===""||isNaN(t)?e:t}});i.nomad.registerComponent({cmp:s,baseType:"int"})},function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=SUGAR.App;var a=/(?:(?:(?:(?:(?:(?:https?)|ftp|itms|itms-apps):\/\/)|skype:)[a-z0-9-\._~\:\/?#[\]@!$&'()*+,;=%]+)|(?:[a-z0-9]{1}(?:[a-z0-9-]+\.)+(?:com|net|gov|edu|us)(?:(?:\?|\/)[a-z0-9-\._~\:\/?#[\]@!$&'()*+,;=%]+)?))/gi;var s=/[.?,!]+$/;var o={"<":"&lt;",">":"&gt;","'":"&#x27;","/":"&#x2F;","\n":"<br>"};var l=_.extend({},o,{"&":"&amp;",'"':"&quot;"});$.merge=function(){return _.union.apply(this,arguments)};_.extend(async,{retry:function u(e,t,n){var i=5;var r=[];if(typeof e==="function"){n=t;t=e;e=i}e=parseInt(e,10)||i;var a=function s(i,a){var s=function o(e,t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i})},a)}};while(e){r.push(s(t,!(e-=1)))}async.series(r,function(e,t){t=t[t.length-1];(i||n)(t.err,t.result)})};return n?a():a}});_.extend(moment,{phpStrToTime:function c(e,t){var n,i,r,a,s,o,l,u,c,d,f,h=false;if(!e){return h}e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();i=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/);if(i&&i[2]===i[4]){if(i[1]>1901){switch(i[2]){case"-":{if(i[3]>12||i[5]>31){return h}return new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case".":{return h}case"/":{if(i[3]>12||i[5]>31){return h}return new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}}}else if(i[5]>1901){switch(i[2]){case"-":{if(i[3]>12||i[1]>31){return h}return new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case".":{if(i[3]>12||i[1]>31){return h}return new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case"/":{if(i[1]>12||i[3]>31){return h}return new Date(i[5],parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}}}else{switch(i[2]){case"-":{if(i[3]>12||i[5]>31||i[1]<70&&i[1]>38){return h}a=i[1]>=0&&i[1]<=38?+i[1]+2e3:i[1];return new Date(a,parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case".":{if(i[5]>=70){if(i[3]>12||i[1]>31){return h}return new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}if(i[5]<60&&!i[6]){if(i[1]>23||i[3]>59){return h}r=new Date;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),i[1]||0,i[3]||0,i[5]||0,i[9]||0)/1e3}return h}case"/":{if(i[1]>12||i[3]>31||i[5]<70&&i[5]>38){return h}a=i[5]>=0&&i[5]<=38?+i[5]+2e3:i[5];return new Date(a,parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}case":":{if(i[1]>23||i[3]>59||i[5]>59){return h}r=new Date;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),i[1]||0,i[3]||0,i[5]||0)/1e3}}}}if(e==="now"){return t===null||isNaN(t)?(new Date).getTime()/1e3|0:t|0}if(!isNaN(n=Date.parse(e))){return n/1e3|0}i=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]+)?)([\+-][0-9]{2}(:[0-9]{2})?|z)/);if(i){if(i[4]=="z"){i[4]="Z"}else if(i[4].match(/^([\+-][0-9]{2})$/)){i[4]=i[4]+":00"}if(!isNaN(n=Date.parse(i[1]+"T"+i[2]+i[4]))){return n/1e3|0}}s=t?new Date(t*1e3):new Date;o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};l={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};function p(e,t,n){var i,r=o[t];if(typeof r!=="undefined"){i=r-s.getDay();if(i===0){i=7*n}else if(i>0&&e==="last"){i-=7}else if(i<0&&e==="next"){i+=7}s.setDate(s.getDate()+i)}}function m(e){var t=e.split(" "),n=t[0],i=t[1].substring(0,3),r=/\d+/.test(n),a=t[2]==="ago",o=(n==="last"?-1:1)*(a?-1:1);if(r){o*=parseInt(n,10)}if(l.hasOwnProperty(i)&&!t[1].match(/^mon(day|\.)?$/i)){return s["set"+l[i]](s["get"+l[i]]()+o)}if(i==="wee"){return s.setDate(s.getDate()+o*7)}if(n==="next"||n==="last"){p(n,i,o)}else if(!r){return false}return true}c="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec"+"|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?"+"|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)";d="([+-]?\\d+\\s"+c+"|"+"(last|next)\\s"+c+")(\\sago)?";i=e.match(new RegExp(d,"gi"));if(!i){return h}for(f=0,u=i.length;f<u;f++){if(!m(i[f])){return h}}return s.getTime()/1e3}});e.exports={urlHasProtocolRegExp:/^(?!javascript)[a-z-]+:/i,augmentZeptoDetect:function d(e){var t=$.os;var n=$.browser;t.desktop=!e&&(n.chrome||n.safari)&&!(t.phone||t.tablet||t.ipod||t.silk||t.kindle||t.rimtabletos||t.wp||t.blackberry||t.bb10||t.playbook||t.touchpad);n.chromeMobile=n.chrome&&!e&&!t.desktop&&(t.ios||t.android&&t.phone);n.chromeWeb=n.chrome&&!e},execRegex:function f(e,t,n){var i;while((i=t.exec(e))!==null){if(i.index===t.lastIndex){t.lastIndex++}n(i)}},sizePicture:function h(e){var t=parseInt(e.height,10);var n=parseInt(e.width,10);var i=e.image.naturalHeight;var r=e.image.naturalWidth;if(i<r){e.sizeProp=t/i*r+"px "+t+"px"}else{e.sizeProp=n+"px "+n/r*i+"px"}},stripLastEmptyStrings:function p(e){var t=e.split("\n");while(t.length>0){if(_.isEmpty(_.last(t))){t.pop()}else break}return t.join("\n")},minutesToQuarterHours:function m(e){e=parseInt(e,10);if(e===0)return e;if(e<8)return 15;var t=Math.floor(e/15);var n=e%15;if(n>7)t=t+1;return t*15},pad:function g(e,t,n){n=n||"0";e=String(e);return e.length>=t?e:new Array(t-e.length+1).join(n)+e},getPrimaryEmail:function v(e,t){var n=_.find(e,this.isPrimaryEmail);if(t&&n){return n.email_address}return n},replaceGuid:function b(e,t){var n=/([\w\d]{8}\-[\w\d]{4}-[\w\d]{4}-[\w\d]{4}-[\w\d]{12})/;return e.replace(n,t)},extractAndSortEmails:function y(e){var t=_.flatten(_.map(e,_.values));t=_.reject(t,function(e){return Number(e.invalid_email)||Number(e.opt_out)});t=_.sortBy(t,function(e){return Number(e.primary_address)?0:1});t=_.pluck(t,"email_address");return t},isPrimaryEmail:function x(e){var t=e.primary_address;if(!_.isBoolean(t)){t=!!parseInt(e.primary_address,10)}return t},nl2br:function S(e){var t=e||"";t=String(t);return t.replace(/\n|\r|\r\n/g,"<br />")},iso2sugar:function w(e,t){if($.os.android&&(r.isNative||t.nativeSupport))return e;return e.replace(/\.?\d+?Z/,"+00:00")},getTimeZoneOffsetString:function L(e){var t=e||(new Date).getTimezoneOffset();var n=t>=0?"+":"-";t=Math.abs(t);var i=Math.floor(t/60);var r=t%60;return n+this.pad(i,2)+":"+this.pad(r,2)},getHash:function E(){var e=window.location.hash;if(e){e=e.split("~")[0]}return e||"#"},resolveUrl:function k(e,t){var n=document,i=n.getElementsByTagName("base")[0],r=i&&i.href,a=n.head||n.getElementsByTagName("head")[0],s=i||a.appendChild(n.createElement("base")),o=n.createElement("a"),l;s.href=t;o.href=e;l=o.href;if(i)i.href=r;else a.removeChild(s);return l},merge:function(){function e(e,t){return t}return function t(n,i,r){var a;if(_.isUndefined(n))a=i;else if(_.isUndefined(i))a=n;else{var s=_.first(arguments,2);var o=_.map(s,_.keys);var l=_.intersection.apply(_,o);var u={};_.each(s,function(e,t){_.each(o[t],function(t){u[t]=e[t]})});if(_.isUndefined(r))r=e;_.each(l,function(e){u[e]=r(n[e],i[e])});return u}return _.clone(a)}}(),deepClone:function A(e){var t={};_.each(e,function(e,n){t[n]=_.isObject(e)?A(e):e});return t},getOfflineStatusClass:function M(){var e=r.offline.status;if(e){if(e.state===r.offline.State.ERROR){return"status-error"}else if(e.state===r.offline.State.WARNING){return"status-warning"}}return"status-success"},humanFileSize:function(){var e=" K M G T P E Z Y".split(" ").map(function(e){return e+"B"});function t(t,n){var i=0;var r=1024;var a=n?0:1;while(t>r/10&&++i<e.length-1){t/=r}this.value=(t+.05).toFixed(a);this.units=e[i]}t.prototype._i18nUnits=function(){var e="LBL_FILE_SIZE_UNITS_"+this.units;var t=r.lang.get(e);return t===e?null:t};t.prototype.toString=function(e){var t=e&&this._i18nUnits()||this.units;return this.value+" "+t};return function(e,n){return e!==-1?new t(e,n):null}}(),isErrorEmulationEnabled:function T(){return r.config.errorEmulation.enabled&&r.user.get("user_name")===r.config.errorEmulation.user.toLowerCase()},parseQueryString:function C(e){function t(e,t){var n=String(e).replace(/^&/,"").replace(/&$/,"").split("&"),i=n.length,r,a,s,o,l,u,c,d,f,h,p,m,_,g,v,b=function y(e){return decodeURIComponent(e.replace(/\+/g,"%20"))};if(!t){t=this.window}for(r=0;r<i;r++){h=n[r].split("=");p=b(h[0]);m=h.length<2?"":b(h[1]);while(p.charAt(0)===" "){p=p.slice(1)}if(p.indexOf("\x00")>-1){p=p.slice(0,p.indexOf("\x00"))}if(p&&p.charAt(0)!=="["){g=[];_=0;for(a=0;a<p.length;a++){if(p.charAt(a)==="["&&!_){_=a+1}else if(p.charAt(a)==="]"){if(_){if(!g.length){g.push(p.slice(0,_-1))}g.push(p.substr(_,a-_));_=0;if(p.charAt(a+1)!=="["){break}}}}if(!g.length){g=[p]}for(a=0;a<g[0].length;a++){f=g[0].charAt(a);if(f===" "||f==="."||f==="["){g[0]=g[0].substr(0,a)+"_"+g[0].substr(a+1)}if(f==="["){break}}u=t;for(a=0,v=g.length;a<v;a++){p=g[a].replace(/^['"]/,"").replace(/['"]$/,"");c=a!==g.length-1;l=u;if(p!==""&&p!==" "||a===0){if(u[p]===d){u[p]={}}u=u[p]}else{s=-1;for(o in u){if(u.hasOwnProperty(o)){if(+o>s&&o.match(/^\d+$/g)){s=+o}}}p=s+1}}l[p]=m}}}var n={};t(e,n);return n},docIsAvailable:function R(e){return!_.isEmpty(e)&&(!r.offline||r.offline.isOnline())},isValidDate:function D(e){return _.isDate(e)&&!isNaN(e.getTime())},isModelSynchronized:function I(e,t){var n=["_last_fetched","_client_date_modified"];var i;var a;if(e.get("date_modified")!==t.date_modified){return false}a=_.omit(t,n);i=_.omit(e.toJSON(),n);return _.isEmpty(r.utils.getChangedProps(i,a,false))},getObjectPrimitives:function O(e){var t={};function n(e){return!_.isObject(e)&&!_.isFunction(e)}_.each(e,function(e,i){if(n(e)){t[i]=e}});return t},waitFor:function N(e,t,n){var i=false;var r=new Date-0;var a=false;n=n||2e3;var s=function o(){a=new Date-0-r>n;i=e();if(!i&&!a){window.setTimeout(o,200)}else{t(a?{message:"Max wait timeout"}:null)}};window.setTimeout(s,200)},deepExtend:function F(){var e=this;if(arguments.length<1||i(arguments[0])!=="object"){return false}if(arguments.length<2)return arguments[0];var t=arguments[0];var n=Array.prototype.slice.call(arguments,1);var r;var a;var s;n.forEach(function(n){if((typeof n==="undefined"?"undefined":i(n))!=="object")return;for(var o in n){if(n[o]!==void 0){a=t[o];r=n[o];if(r===t)continue;if((typeof r==="undefined"?"undefined":i(r))!=="object"||r===null){t[o]=r;continue}if((typeof a==="undefined"?"undefined":i(a))!=="object"){s=Array.isArray(r)?[]:{};t[o]=e.deepExtend(s,r);continue}if(Array.isArray(r)){s=Array.isArray(a)?a:[]}else{s=!Array.isArray(a)?a:{}}t[o]=e.deepExtend(s,r)}}});return t},isTabletLandscapeMode:function B(){return r.isTablet&&r.nomad.getOrientation()==="landscape"},isForecastConfigValid:function U(){var e=true;var t=r.metadata.getModule("Forecasts","config");var n=t.sales_stage_won;var i=t.sales_stage_lost;var a=t.sales_stage_won.concat(t.sales_stage_lost);var s=r.lang.getAppListStrings("sales_stage_dom");if(n.length===0||i.length===0||_.isEmpty(s)){e=false}else{e=_.every(a,function(e){return e!==""&&_.has(s,e)},this)}return e},getForecastNotSetUpMessage:function P(e){var t=e?"LBL_DASHLET_FORECAST_NOT_SETUP_ADMIN":"LBL_DASHLET_FORECAST_NOT_SETUP";var n=r.lang.get(t,"Forecasts");var i=r.config.siteUrl.indexOf("?")===-1?"?":"&";if(e){var a=r.lang.get("LBL_DASHLET_FORECAST_CONFIG_LINK_TEXT","Forecasts");n+='  <a class="lnk-non-forecast" href="'+r.config.siteUrl+i+'mobile=0#Forecasts/config">'+a+"</a>"}return n},wrapAsyncCallback:function Y(e){return{success:function t(n){e(null,n)},error:e}},isAccessibleModule:function H(e,t){t=t||"list";return!_.contains(r.config.modules.unsupportedModules,e)&&_.contains(r.metadata.getModuleNames({filter:"visible",access:t}),e)},getClosedStatusValue:function G(e){var t={Calls:"Held",Tasks:"Completed",Meetings:"Held"};return t[e]},isModuleVisible:function V(e){var t=r.metadata.get().modules_info[e];return t&&t.visible},getForecastModule:function j(){return r.metadata.getModule("Forecasts","config").forecast_by||(this.isModuleVisible("RevenueLineItems")?"RevenueLineItems":"Opportunities")},getHashCode:function z(e){var t=0;var n;var i;var r;if(e.length===0)return t;for(n=0,r=e.length;n<r;n++){i=e.charCodeAt(n);t=(t<<5)-t+i;t|=0}return t},charToHtmlEntity:function q(e,t){var n=void 0;var i=t?o:l;return i[e]||e},stringToHtmlEntities:function W(e){var t=this;var n=e.stringToTransform,i=e.allowUrlChars;var r="";_.each(n,function(e){r+=t.charToHtmlEntity(e,i)},this);return r},htmlEntitiesToString:function K(e){var t=e.stringToTransform,n=e.allowUrlChars;var i=n?o:l;var r=t;_.each(i,function(e,t){r=r.replace(new RegExp(e,"g"),t)});return r},escapeRegExp:function J(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},migrateKeyValueStore:function X(e,t){var n=r.config.env+":"+r.config.appId+":";if(e.get(n+"store:version")!==e.version){_.chain(localStorage).keys().filter(function(e){return e.indexOf(n)===0}).each(function(t){e.set(t,r.cache.get(t));localStorage.removeItem(t)}).value();e.set(n+"store:version",e.version)}var i=t.getAll();if(!_.isEmpty(i)){_.each(i,function(t,n){e.set(n,t)});t.cutAll()}},formatLinks:function Z(e){var t="";if(e&&e.length>0){t=e.replace(a,_.bind(function(e){var t=e.match(s)||"";if(t){e=e.replace(s,"")}var n=this.urlHasProtocolRegExp.test(e)?e:"http://"+e;return'<a href="'+n+'">'+e+"</a>"+t},this))}return t},isElVisible:function Q(e){return e&&e.get(0)&&e.get(0).offsetParent!==null},isDirectionLTR:function ee(){return r.lang.direction!==r.lang.DIRECTION_RTL},_normalizeUrl:function te(e,t){if(t){e=encodeURI(e)}if(r.nomad.utils.urlHasProtocolRegExp.test(e))return e;if(/^\.\.\//.test(e)){var n=window.location.href.split("#")[0].split("index.html")[0];e=n+e;return e}return"http://"+e},buildActionHandlerName:function ne(e){return _.reduce(e.split(":"),function(e,t){return e+r.utils.capitalize(t)},"on")},isComponentChildOf:function ie(e,t){var n=t.parentClass;var i=false;while(n){i=n===e;n=!i&&n.parentClass}return i},getRange:function re(e,t){return(Math.floor(e/t)+1)*t},buildRoute:function ae(e,t){var n;var i=r.controller.getScreenContextRoot();var a=t.hash.action;var s=t.hash.link;if(s){n=r.nomad.buildLinkRoute(e.link.bean.module,e.link.bean.id,s,e.id,a)}else{n=r.router.buildRoute(e.module,e.id,a)}if(t.hash.appendRoot&&i){n=i+"/"+n}return new Handlebars.SafeString(n)},sanitizeFileName:function se(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return e.replace(/[^a-z0-9_\-.\s]/gi,"_")}}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=n(15);e.exports=r.declareComponent(a,{_stringType:"base-container",template:null,_viewDefs:null,_views:null,constructor:function o(e){if(!_.isUndefined(e.className)){this.className=e.className}this._super(e)},initialize:function l(e){this._views=[];this._viewDefs=this.getViewDefs(e);_.each(this._viewDefs,function(t){t.viewId=t.viewId||t.name;_.extend(t,_.pick(e,"isRootScreen","isRecordScreen"))});this._super(e)},getViewDefs:function u(e){return e.views||[]},getViews:function c(){return _.compact(this._views)},getViewById:function d(e){return _.find(this.getViews(),function(t){return t.options.viewId===e})},getViewIndex:function f(e){return _.indexOf(this._views,e)},createView:function h(e){var t=_.indexOf(this._viewDefs,e);var n={name:e.view,module:this.module,context:this.getViewContext(e)};var r=i.view.createView(_.extend(n,e));this._views[t]=r;this.listenTo(r,this.ACTION_NAME,this.propagateComponentAction);return r},getViewContext:function p(e){return this.context},createViewById:function m(e){var t=_.findWhere(this._viewDefs,{viewId:e});return this.createView(t)},loadData:function g(e){return s.map(this._views,function(t){return t.loadData(e)})},onBeforeRender:function v(){this._super();if(this.template===i.template.empty){_.each(this._viewDefs,this.createView,this)}},onAfterRender:function b(){var e=this;this._super();this._eachView(function(t){return e.renderView(t)})},renderView:function y(e){var t=this.getViewHolderEl(e);if(t.length){e.setElement(t);e.render()}else{e.render();var n=e.getViewContainer?e.getViewContainer():e.$el;this.$el.append(n)}e.$el.removeClass("view-holder-hide")},getViewHolderEl:function x(e){var t=e.$el[0].tagName;var n=t+'[view-cid="'+e.cid+'"]';return this.$el.find(n)||this.$el},abortActiveRequests:function S(){
var e=false;this._eachView(function(t){e=t.abortActiveRequests()||e;t._dataObsolete=true});return e},bindGlobalEvents:function w(){this._eachView(function(e){return e.bindGlobalEvents()});this._super()},unbindGlobalEvents:function L(){this._eachView(function(e){return e.unbindGlobalEvents()});this._super()},headerConfig:function E(e){return this._views.reduce(function(e,t){var n=_.isFunction(t.headerConfig)?t.headerConfig(e):t.headerConfig||{};return _.extend({},e,n)},e||{})},handleComponentAction:function k(e){this._eachView(function(t){return t.handleComponentAction(e)});this._super(e)},_eachView:function A(e,t){var n=this;_.each(this._views,function(i,r){if(i){e.call(t||n,i,r)}})},_dispose:function M(){this._super();this._disposeChildViews();this.$viewContainer=null},_disposeChildViews:function T(){this._eachView(function(e){return e.dispose()});this._views=[];this._viewDefs=null},onDetachFromDom:function C(){this.unbindGlobalEvents();this.abortActiveRequests();this._eachView(function(e){return e.onDetachFromDom()});this._super()},onAfterShow:function R(){this.triggerAfterShowOnChildViews();this._super()},triggerAfterShowOnChildViews:function D(){this._eachView(function(e){return e.onAfterShow()})},onBeforeLeave:function I(e){var t=_.chain(this._views).filter(function(e){return e&&e.onBeforeLeave}).map(function(e){return function(t){e.onBeforeLeave({callback:function n(e){t(e&&e.cancel,e)}})}}).value();async.parallel(t,function(t){e.callback({cancel:t})})}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(38);var s=n(308);var o=n(306);var l=n(307);var u={TABS:s,DROPDOWN:o,PAGINATION:l};e.exports=r.declareComponent(a,{_stringType:"switch-container",template:"switch-container",activeIndex:0,viewSwitcher:null,omitSwitcherForOneView:true,lazyRender:true,lazyLoad:true,loadViewOnSwitch:false,activeTabStorageKey:"",viewContainerCss:"tabs__container",switcherCss:"views__switcher",hiddenViewCss:"hide-tab",currentView:null,initialize:function c(e){var t=this;this._super(e);var n=["activeIndex","viewSwitcher","lazyRender","lazyLoad","loadViewOnSwitch","activeTabStorageKey","omitSwitcherForOneView"];_.each(n,function(n){if(e[n]!==undefined){t[n]=e[n]}});if(this.activeTabStorageKey){this._restoreState()}},loadData:function d(e){this._eachView(function(e){return e._dataObsolete=true});if(this.currentView){this._loadView(this.currentView,e)}if(!this.lazyLoad){this._eachView(function(t){if(t!==this.currentView){this._loadView(t,e)}})}},onAfterRender:function f(){this.createSwitcher();this._super();this.$viewContainer=this.$el.find("."+this.viewContainerCss).first();this.renderSwitcher();if(!this.currentView&&_.isNumber(this.activeIndex)){this.switchView({index:this.activeIndex,skipLoad:true})}},renderView:function h(e){if(!this.lazyRender||e===this.currentView){this._super(e);var t=this._getViewEl(e);t.addClass(this.hiddenViewCss)}},renderSwitcher:function p(){if(!this.viewSwitcher){return}this.viewSwitcher.render();this.$el.find("."+this.switcherCss).first().append(this.viewSwitcher.$el).addClass(this.viewSwitcher.parentCss)},createSwitcher:function m(){if(_.isEmpty(this._viewDefs)||this.omitSwitcherForOneView&&this._viewDefs.length===1){this.viewSwitcher=null}if(!this.viewSwitcher){return}var e=_.map(this._viewDefs,function(e,t){return{title:e.title,index:t,gaData:e.gaData}});var t=_.isFunction(this.viewSwitcher)?this.viewSwitcher:this.viewSwitcher.switcherType;var n={views:e,activeIndex:this.activeIndex};_.extend(n,this.viewSwitcher.options);this.viewSwitcher=new t(n);this.listenTo(this.viewSwitcher,"view:switch",this.onSwitchView)},onSwitchView:function g(e){this.switchView(e)},switchView:function v(e){var t=e.index;var n=this.currentView;var i=this._views[t];if(!i){return}this.currentView=i;if(!i._rendered){this.renderView(i)}if(n){this._getViewEl(n).addClass(this.hiddenViewCss);n.unbindGlobalEvents();if(n.abortActiveRequests()){n._dataObsolete=true}this.stopListening(n,this.ACTION_NAME)}this.activeIndex=t;this._getViewEl(i).removeClass(this.hiddenViewCss);i.bindGlobalEvents();var r=!e.skipLoad&&(i._dataObsolete||this.loadViewOnSwitch);if(r){this._loadView(i,e.loadParams)}i.onAfterShow();if(this.activeTabStorageKey){this._storeState()}this._syncSwitcher(e);this.listenTo(i,this.ACTION_NAME,this.propagateComponentAction);this.trigger("views:switch",i,t)},triggerAfterShowOnChildViews:_.noop,updateSwitcherSubtitle:function b(e,t){if(this.viewSwitcher){this.viewSwitcher.updateSubtext(e,t)}},_syncSwitcher:function y(e){if(this.viewSwitcher){this.viewSwitcher.syncActive(e)}},getViewParentEl:function x(e){return this.$viewContainer},_currentOrEachView:function S(e,t){if(this.currentView){e.call(t||this,this.currentView)}else if(!this.viewSwitcher){this._eachView(e,t)}},_dispose:function w(){this._disposeSwitcher();this.currentView=null;this._super()},_disposeSwitcher:function L(){if(this.viewSwitcher&&_.isFunction(this.viewSwitcher.dispose)){this.viewSwitcher.dispose();this.viewSwitcher=null}},_storeState:function E(){return i.nomad.setLastState(this.activeTabStorageKey,this.activeIndex)},_restoreState:function k(){var e=i.nomad.getLastState(this.activeTabStorageKey);if(e!==undefined){this.activeIndex=+e}},_getViewEl:function A(e){return e.getViewContainer?e.getViewContainer():e.$el},_loadView:function M(e,t){e.loadData(t);e._dataObsolete=false}},{SwitcherTypes:u})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(34);var s=n(52);var o=r.declareComponent(s,{_stringType:"record-card",className:"view__detail",events:{"click .box__record-actions .context-menu__item:not(.disabled)":"onActionBtnClick","click .box_detail__title":"_openEditView"},plugins:[],globalEvents:{"offline:data:updated":function l(e){if(e.id!==this.model.id)return;if(e.action==="delete"){this.showRecordOverlay(e.data,e.status);return}this.model.fetch({params:{skipServerSync:true}})},"app:orientation:changed":function u(){this._renderActionButtons()}},_afterShowTasks:{},_docsRequestTimestamp:null,initialize:function c(e){e.meta=_.extend({},i.metadata.getView(e.module,"detail"),{action:"detail"});this._super(e);var t;var n=this.context.get("link");this.modContextData=r.getContextMeta("detail");t=this.modContextData[this.model.module];this.headerField=t.headerField;this.avatarField=t.avatarField;this.hasLinkableSubpanels=t.hasLinkableSubpanels;this.hasCreatableSubpanels=t.hasCreatableSubpanels;this.phoneFields=t.phoneFields;this.emailFields=t.emailFields;this.urlFields=t.urlFields;this.docFields=t.docFields;this.emailbodyFields=t.emailbodyFields;this.addressFieldsGroups={};_.each(t.addressFieldsGroups,function(e,t){this.addressFieldsGroups[t]=e[0].fields},this);this.actions=t.actions;if(this.actions.doc){this.actions.file=true}this.model.on("docs:ready",function(e){this.model.docData=e;this._setDocLoading(false)},this)},onDataSyncComplete:function d(e,t,n){this._super("onDataSyncComplete",arguments);this._renderActionButtons();this._requestDocuments()},receiveSyncData:function f(e,t,n){var r;var a;var s;this._super(e);n=n||{};r=n.responseData||{};a=r[n.fileFieldName];if(this._isModelUpdated){if(a){s={};s[n.fileFieldName]=a;this._afterShowTasks.file=_.bind(this._requestDocuments,this,s)}var o=i.controller.layoutManager.getRecordLayout();var l=o&&_.any(o._components,function(e){return e instanceof i.nomad.getViewClass({baseType:"detail"})});if(l){this._renderActionButtons();this._requestDocuments()}}},isActionVisible:function h(e,t){return e.custom?e.isVisible:!!this.actions[e.name]},_getAvailableActions:function p(e){return a.getRecordActions({view:this,model:this.model,type:"toolbar",maxCount:e})},_renderActionButtons:function m(){var e=i.template.get("record-actions");var t=this.$(".box__record-actions");this.actionBtns=this._getAvailableActions();this._setActionItemsWidth(this.actionBtns);t.html(e(this.actionBtns));this.$el.toggleClass("view__detail_noactions",_.isEmpty(this.actionBtns))},_setActionItemsWidth:function g(e){var t=e.length;var n=this.$el.width();var i=75;var r=(n/i).toFixed(1);var a;if(t>r){a=Math.floor(r)+.55}else{a=t}var s=Math.round(n/a);_.each(e,function(e){e.width=s+"px"})},_setDocLoading:function v(e){if(!this.actions.doc)return;this.model.docsLoading=e;this._renderActionButtons()},onActionBtnClick:function b(e){var t=$(e.currentTarget).attr("action");var n=_.findWhere(this.actionBtns,{name:t});if(_.isFunction(n.handler)){n.handler(this,this.model,e)}},onAfterShow:function y(){this._super();this._renderActionButtons();this._performAfterShowTasks();i.tutorial.show(this.name,this.module)},_onFileFieldChange:function x(e,t,n){this._super(e,t,n);if(n==="preparing"){this._showOverlay()}else if(n==="prepared"){this._postFile(e,t)}else if(n==="error"){this._hideOverlay();i.alert.show("file_upload_error",{level:"error",messages:arguments[1],autoClose:true,closeable:true});this.render()}},_showOverlay:function S(){i.overlay.show("uploading_image");i.alert.show("upload_mask",{level:"info",messages:i.lang.get("LBL_MOBILE_UPLOAD_IN_PROGRESS"),autoClose:false,closeable:false})},_hideOverlay:function w(){i.overlay.hide("uploading_image");i.alert.dismiss("upload_mask")},_postFile:function L(e,t){var n={success:_.bind(function(t){i.alert.show("file_upload_success",{level:"success",messages:i.lang.get("LBL_MOBILE_UPLOAD_SUCCESS"),autoClose:true,closeable:true});this.model.set(e.name,t[e.name].name);this._requestDocuments();this._hideOverlay()},this),error:_.bind(function(t){i.error.handleHttpError(t);e.render();this._hideOverlay()},this)};this.model.uploadFile(e.name,t,n,{htmlJsonFormat:false})},_performAfterShowTasks:function E(){_.each(this._afterShowTasks,function(e,t){e.call(this);delete this._afterShowTasks[t]},this)},_requestDocuments:function k(e){var t=this.model.get("date_modified");this._setDocLoading(false);if(e||!this._docsRequestTimestamp||this.model._docsUpdated||this._docsRequestTimestamp<t){this._docsRequestTimestamp=t;this.model._docsUpdated=false;this._setDocLoading(true);this.model.getDocuments(this.docFields,{fileData:e,docData:this.model.docData})}},_openEditView:function A(){var e=r.utils.buildRoute(this.model,{hash:{action:"edit",link:this.context.get("link"),appendRoot:true}});i.controller.navigate(e,{initiator:this.navigationName})}});r.registerComponent({cmp:o,baseType:"record-card"});e.exports=o},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var r=SUGAR.App;var a=n(1);var s=n(38);var o=n(11);var l=n(53);var u=n(78);var c=a.declareComponent(s,{_stringType:"filtered-list",className:"view__list",isFilterEnabled:true,isSearchEnabled:true,initialize:function d(e){this.isSearchEnabled=this.isSearchAvailable(e);this.isFilterEnabled=this.isFiltersAvailable(e);this._super(e)},onAfterRender:function f(){var e=this;this._super();this.stateComponents=[];this._list=this.getViewById("list");this._searchBox=this.getViewById("search");this._filter=this.getViewById("filter");if(this._searchBox){this.stateComponents.push(this._searchBox);this.listenTo(this.collection,"data:sync:complete",function(){return e._searchBox.hideProgress()});this.enableSearch()}if(this._filter){this.stateComponents.push(this._filter);this.listenTo(this._filter,"filter:changed",this.filterChanged);this.listenTo(this._filter,"sort:changed",this.sortingChanged)}},headerConfig:function h(e){var t=_.extend({},e,{search:this.isSearchEnabled});return _.extend({},t,this._super(t))},getListViews:function p(){return _.filter(this.getViews(),function(e){return e instanceof o})},getViewDefs:function m(e){var t=[{view:l,viewId:"search",isEnabled:this.isSearchEnabled,subType:this.options.subType},{view:u,viewId:"filter",isEnabled:this.isFilterEnabled,subType:this.options.subType}];var n=this.getListViewDef(e);if(_.isArray(n)){t.push.apply(t,i(n))}else{t.push(n)}var r=_.chain(t).filter(function(e){return _.isUndefined(e.isEnabled)||e.isEnabled}).map(function(t){return _.extend({},{def:_.getNested(e,"layout.options.def"),module:e.module},t)}).value();return r},getListViewDef:function g(e){return{view:this.getListViewClass(e),viewId:"list",collection:e.collection,def:e.def,sugarLogicEnabled:e.sugarLogicEnabled,listMeta:e.listMeta}},getListViewClass:function v(e){return r.nomad.getViewClass({baseType:"inner-list",module:e.module})},onHeaderSearchClick:function b(){if(this._searchBox){this._searchBox.showSearch()}},onAfterShow:function y(){this._super();r.tutorial.show(this.name,this.module)},filterChanged:function x(){this._unbindFilterEvents();this.getCurrentList().collection.once("data:sync:error",this._onFilterListFailed,this).once("sync",this._onFilterListSuccess,this);this.updateSearchPlaceholder();this.reloadData()},sortingChanged:function S(){this.reloadData()},reloadData:function w(){var e={relate:this.options.subType==="relationships",forceFetch:true};this.updateListViewState();return this.getCurrentList().loadData(e)},loadData:function L(e){var t=this.getCurrentList().collection;var n=r.tutorial.hasStepToShow("list",this.module);e=e||{};e.params=e.params||{};if(t.options){delete t.options.update;t.options.offset=0;t.options.page=0}if(this._filter){_.extend(e.params,this._filter.getPreparedState());this.updateListViewState()}if(n){t.on("sync",this._onTutorialShow,this)}return this.getCurrentList().loadData(e)},_onTutorialShow:function E(){r.tutorial.show("list",this.module)},updateListViewState:function k(){var e={};var t=this.getCurrentList();_.each(this.stateComponents,function(t){_.extend(e,t.getPreparedState())},this);t.setCurrentState(e);t.setSortByField()},enableSearch:function A(){this.listenTo(this._searchBox,"search:toggle",this.onToggleSearch);this.listenTo(this._searchBox,"search:text",this.search)},onToggleSearch:function M(e){this.searchActivated=e;if(this._filter){this._filter.toggleSearchMode(e,this._searchBox._searchText)}this.updateSearchPlaceholder()},updateSearchPlaceholder:function T(){if(this.searchActivated){var e=this._filter?this._filter.getActiveFilter().name:this.getCurrentList().modulePlural;this._searchBox.setPlaceholder(e)}},toggleFiltersView:function C(e){if(!this._filter){return}this._filter.toggle(e);this.getCurrentList().reflowScroller();this.$el.toggleClass("filters-hidden",!e)},search:function R(){this.reloadData();r.analytics.trackEvent({category:"search",action:this.module,value:0})},isSearchAvailable:function D(e){var t=_.isUndefined(e.isSearchEnabled)?this.isSearchEnabled:e.isSearchEnabled;t=t&&!(e.module==="Dashboards"||e.module==="TxLog"||e.subType==="relationships");return t},isFiltersAvailable:function I(e){var t=_.isUndefined(e.isFilterEnabled)?this.isFilterEnabled:e.isFilterEnabled;t=t&&Boolean(!_.contains(["Activities","Teams","TxLog"],e.module)&&!_.contains(r.config.modules.readonlyModules,e.module)&&r.metadata.getView(e.module,"list"));return t},_onFilterListSuccess:function O(){this._unbindFilterEvents()},_onFilterListFailed:function N(e,t,n){this._unbindFilterEvents();if(r.offlineEnabled){if(t.params.skipOfflineRead){r.alert.dismiss("network_error",{animate:false});r.alert.show("network_error",{level:"error",messages:r.lang.get("LBL_MOBILE_FILTER_IS_NOT_AVAILABLE"),autoClose:true,pageHash:n.request.params.pageHash,requestOptions:t});this._filter.resetToPreviousFilter()}}else{this._filter.resetToPreviousFilter()}},resetCollectionEvents:function F(){var e=this.getCurrentList();e.unbindCollectionEvents();e.bindCollectionEvents()},unbindCollectionEvents:function B(){this._unbindFilterEvents();this.getCurrentList().unbindCollectionEvents()},_unbindFilterEvents:function U(){this.getCurrentList().collection.off("data:sync:error",this._onFilterListFailed).off("sync",this._onFilterListSuccess)},getCurrentList:function P(){return this._list},onDetachFromDom:function Y(){this._super();if(!_.isEmpty(this.getViews())){this.getCurrentList().abortActiveRequests();this._unbindFilterEvents()}}});r.nomad.registerComponent({cmp:c,baseType:"list"});e.exports=c},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(11);e.exports=r.declareComponent(s,{globalEvents:{"offline:data:updated":function o(e){this._offlineRefetch(e,{relate:false})}},listItemDataProvider:"list-item-associate",multiselect:false,contextMenuDisabled:true,submitAfterSelect:false,_selections:null,_buttonTypes:{checkbox:{on:i.config.ui.icons.edit.checkboxOn,off:i.config.ui.icons.edit.checkboxOff,additionalClass:"checkbox-icon",listItemSelected:"item-checkbox_checked"},radio:{on:i.config.ui.icons.edit.radioOn,off:i.config.ui.icons.edit.radioOff,additionalClass:"radio-icon",listItemSelected:"list-item-radio--selected"}},_pickFromOptions:["multiselect","listItemTpl","listItemDataProvider","isPtrEnabled"],initialize:function l(e){var t=this;_.each(this._pickFromOptions,function(n){if(!_.isUndefined(e[n])){t[n]=e[n]}});this.submitAfterSelect=_.isBoolean(e.submitAfterSelect)?e.submitAfterSelect:!this.multiselect;this._super(e);this.button=this._buttonTypes[e.buttonType||"checkbox"];this._setSelectedIds(e.selections)},onAfterRender:function u(){this._super();this._syncSelectionUI()},_setSelectedIds:function c(e,t){this._selections=(t?_.union(this.getSelectedIds(),e):e)||[];this._syncSelectionUI()},getSelectedIds:function d(){return this._selections},getSelectedModels:function f(){var e=this.getSelectedIds();var t=[];_.each(e,function(e){var n=this.collection.get(e);if(n){t.push(n)}},this);return t},toggleItemSelected:function h(e,t){var n=this.getSelectedIds();var i=_.indexOf(n,e);var r=i!==-1;if(t===undefined){t=!r}if(t&&!r){if(!this.multiselect&&n[0]!==e){n.pop()}n.push(e)}else if(!t&&r){n.splice(i,1)}this.trigger("selection:change",this.getSelectedModels());this._syncSelectionUI()},onItemElementClick:function p(e){if(e.defaultPrevented||e.cancelBubble){return}var t=$(e.currentTarget).closest("article");var n=t.attr("data-id");this.toggleItemSelected(n)},clearSelection:function m(){this._selections=[];this._syncSelectionUI()},_syncSelectionUI:function g(){if(!this.multiselect&&this.submitAfterSelect){return}var e=[];var t=this.button.on;var n=this.button.off;var i=this.button.listItemSelected;var r=this.button.additionalClass;var a="."+r+"."+t.split(" ").join(".");this.$("."+i).removeClass(i);this.$(a).removeClass(t).addClass(n);_.each(this.getSelectedModels(),function(a){var s=this.getListItemEl(a);s.addClass(i);s.find("."+r).removeClass(n).addClass(t);e.push(a.id||a.cid)},this);this._selections=e}})},function(e,t,n){"use strict";var i=n(32);var r=n(25);var a=Backbone.Collection.extend({_activeFetchRequest:null,model:i,constructor:function s(e,t){r.attach(this,"collection");if(t&&t.link){this.link=t.link;delete t.link}Backbone.Collection.prototype.constructor.call(this,e,t)},initialize:function o(e,t){this._persistentOptions={};this._create=[];this.setOption(t);this._bindCollectionEvents();Backbone.Collection.prototype.initialize.call(this,e,t);this.total=null},_bindCollectionEvents:function l(){this.on("data:sync:complete",function(){var e=this.getFetchRequest();if(e){this._activeFetchRequest=null}},this);this.on("remove",this._decrementTotal,this)},_decrementTotal:function u(){if(this.total){this.total--}},add:function c(e,t){var n=this;e=Backbone.Collection.prototype.add.call(this,e,t);if(_.isUndefined(e)){return e}e=_.isArray(e)?e:[e];_.each(e,function(e){if(e instanceof n.model?e.isNew():!e.id){n._create.push(e)}},this);return e.length===1?e[0]:e},remove:function d(e,t){var n=this;e=Backbone.Collection.prototype.remove.call(this,e,t);if(_.isUndefined(e)){return e}e=_.isArray(e)?e:[e];_.each(e,function(e){if(e instanceof n.model?e.isNew():!e.id){n._create=_.without(n._create,e)}},this);return e.length===1?e[0]:e},reset:function f(e,t){this.resetDelta();return Backbone.Collection.prototype.reset.call(this,e,t)},getDelta:function h(){if(_.isEmpty(this._create)){return{}}return{create:_.invoke(this._create,"toJSON")}},resetDelta:function p(){this._create=[]},dispose:function m(){r.detach(this,"collection")},_prepareModel:function g(e,t){var n=e._search;delete e._search;e=Backbone.Collection.prototype._prepareModel.call(this,e,t);if(e&&!e.link)e.link=this.link;if(n){e.searchInfo=n}return e},fetch:function v(e){e=_.extend({},this.getOption(),e);this.abortFetchRequest();e.fields=this.fields=e.fields||this.fields||null;e.myItems=_.isUndefined(e.myItems)?this.myItems:e.myItems;e.favorites=_.isUndefined(e.favorites)?this.favorites:e.favorites;e.query=_.isUndefined(e.query)?this.query:e.query;e.reset=_.isUndefined(e.reset)?true:e.reset;this._activeFetchRequest=Backbone.Collection.prototype.fetch.call(this,e);return this.getFetchRequest()},getFetchRequest:function b(){if(_.isFunction(this._activeFetchRequest)){return this._activeFetchRequest()}else{return this._activeFetchRequest}},abortFetchRequest:function y(){var e=this.getFetchRequest();if(e){SUGAR.App.api.abortRequest(e.uid);this._activeFetchRequest=null}},resetPagination:function x(){this.offset=this.getOption("offset")||0;this.next_offset=0;this.page=this.getOption("page")||1},paginate:function S(e){e=e||{};var t=e.limit||SUGAR.App.config.maxQueryResult;e.page=e.page||1;e.reset=_.isUndefined(e.reset)?false:e.reset;e.page--;if(t){e.offset=this.offset+e.page*t}if(e.add){e=_.extend({update:true,remove:false},e)}this.fetch(e)},fetchTotal:function w(e){e=e||{};if(!_.isNull(this.total)&&_.isFunction(e.success)){e.success.call(this,this.total);return}e.success=_.wrap(e.success,_.bind(function(e,t){this.total=parseInt(t.record_count,10);if(e&&_.isFunction(e)){e(this.total)}},this));var t=this.module;var n=null;e.filter=e.filterDef||this.filterDef;if(this.link){n={id:this.link.bean.id,link:this.link.name};t=this.link.bean.module}var i=_.pick(e,"success","complete","error");e=_.omit(e,"success","complete","error");return SUGAR.App.api.count(t,n,i,e)},hasAtLeast:function L(e,t){t=t||{};var n="read";t.fields=["id"];delete t.view;t.silent=true;t.success=_.wrap(t.success,_.bind(function(t,n){var i=n.records.length;var r=i>=e;var a={length:i,hasMore:n.next_offset!==-1};if(_.isFunction(t)){t(r,a)}this.reset(null,{silent:true})},this));var i=this.module;var r=null;var a="records";t.filter=t.filterDef||this.filterDef;t.limit=t.limit||e;if(this.link){r={id:this.link.bean.id,link:this.link.name};i=this.link.bean.module;a="relationships"}var s=_.pick(t,"success","complete","error");t=_.omit(t,"success","complete","error");t=SUGAR.App.data.parseOptionsForSync(n,this,t);return SUGAR.App.api[a](n,i,r,t.params,s,t.apiOptions)},getPageNumber:function E(e){var t=1;var n=SUGAR.App.config.maxQueryResult;if(e){n=e.limit||n}if(this.offset&&n){t=Math.ceil(this.offset/n)}return t},toString:function k(){return"coll:"+(this.link?this.link.bean.module+"/"+this.link.bean.id+"/":"")+this.module+"-"+this.length},getNext:function A(e,t){var n=this;var i=-1;var r=function a(){t.apply(n,[n.at(i+1),"next"])};if(this.hasNextModel(e)){i=this.getModelIndex(e);if(i+1>=this.length){this.paginate({add:true,success:r})}else{r()}}},getPrev:function M(e,t){var n=-1,i=null,r=this;if(this.hasPreviousModel(e)){n=this.getModelIndex(e);i=this.at(n-1)}t.apply(r,[i,"prev"])},hasNextModel:function T(e){var t=this.getModelIndex(e),n=!_.isUndefined(this.next_offset)?parseInt(this.next_offset,10):-1;return t>=0&&(this.length>t+1||n!==-1)},hasPreviousModel:function C(e){return this.getModelIndex(e)>0},getModelIndex:function R(e){return this.indexOf(this.get(e.id))},setOption:function D(e,t){var n;if(_.isObject(e)){n=e}else{(n={})[e]=t}_.extend(this._persistentOptions,n);return this},unsetOption:function I(e){if(e){this.setOption(e,void 0)}else{this._persistentOptions={}}return this},getOption:function O(e){if(e){return this._persistentOptions[e]}return this._persistentOptions},clone:function N(){var e=Backbone.Collection.prototype.clone.call(this);e.link=_.clone(this.link);e.setOption(_.clone(this.getOption()));return e}});e.exports=a},function(e,t,n){"use strict";var i=n(24);var r=n(10);var a=n(32);var s=n(43);var o=n(94);var l={};var u={};var c=_.extend({beanModel:a,beanCollection:s,mixedBeanCollection:o,init:function d(){var e=_.bind(this.sync,this);this.beanModel.prototype.sync=e;this.beanCollection.prototype.sync=e;SUGAR.App.events.register("data:sync:start",this);SUGAR.App.events.register("data:sync:complete",this);SUGAR.App.events.register("data:sync:success",this);SUGAR.App.events.register("data:sync:error",this);SUGAR.App.events.register("data:sync:abort",this)},reset:function f(e){this.resetModel(e);this.resetCollection(e)},resetModel:function h(e){if(e){delete l[e]}else{l={}}},resetCollection:function p(e){if(e){delete u[e]}else{u={}}},declareModel:function m(e,t,n,i,r){n=n||SUGAR.App.config.platform||"base";this.declareModelClass(e,t,n,i);this.declareCollectionClass(e,n,r)},declareModelClass:function g(e,t,n,i){var a=r.capitalize(n);e=e||a+"Model";this.resetModel(e);var s=t?t.fields:{};var o=null;_.each(_.values(s),function(e){if(!_.isUndefined(e["default"])){if(o===null){o={}}o[e.name]=e["default"]}});var u={_defaults:o,module:e,fields:s};var c=l[a+"Model"]||l.BaseModel||this.beanModel;i=_.extend(i||{},u);return r.extendClass(l,c,e,i,a)},declareCollectionClass:function v(e,t,n){var i=r.capitalize(t);var a=e||i+"Model";var s=l[a];e=e||i+"Collection";if(!s){return}this.resetCollection(e);var o={model:s,module:e,offset:0};var c=u[i+"Collection"]||u.BaseCollection||this.beanCollection;n=_.extend(n||{},o);return r.extendClass(u,c,e,n,i)},mergeModel:function b(e,t){var n=t?t.fields:{};var i=null;_.each(_.values(n),function(e){if(!_.isUndefined(e["default"])){if(i===null){i={}}i[e.name]=e["default"]}});var r={_defaults:i,module:e,fields:n};_.extend(l[e].prototype,r)},getModelClasses:function y(){return l},getCollectionClasses:function x(){return u},declareModels:function S(e){e=e||SUGAR.App.metadata.getModules();_.each(e,function(e,t){if(!l[t]){this.declareModel(t,e)}else{this.mergeModel(t,e)}},this)},getBeanClass:function w(e){return l[e]||this.beanModel},createBean:function L(e,t,n){return l[e]?new l[e](t,n):new c.beanModel(t,n)},createBeanCollection:function E(e,t,n){return u[e]?new u[e](t,n):new c.beanCollection(t,n)},createRelatedBean:function k(e,t,n,i){var r=this.getRelatedModule(e.module,n);i=i||{};if(_.isString(t)){i.id=t;t=this.createBean(r,i)}else if(_.isNull(t)){t=this.createBean(r,i)}else{t.set(i)}t.link={name:n,bean:e,isNew:true};t.setOption("relate",true);return t},createRelatedCollection:function A(e,t,n){var i=this.getRelatedModule(e.module,t);var r=this.createBeanCollection(i,n,{link:{name:t,bean:e}});r.setOption("relate",true);e._setRelatedCollection(t,r);return r},createMixedBeanCollection:function M(e,t){return new c.mixedBeanCollection(e,t)},canHaveMany:function T(e,t){var n=SUGAR.App.metadata.getModule(e);if(!n||!n.fields||!n.fields[t]){return false}if(n.fields[t].link_type){return n.fields[t].link_type==="many"}var i=n.fields[t].relationship;var r=SUGAR.App.metadata.getRelationship(i);var a=r.relationship_type.split("-");var s;if(n.fields[t].side){s=n.fields[t].side==="left"?a[0]:a[2]}else if(r.lhs_module!==r.rhs_module){s=e===r.rhs_module?a[0]:a[2]}else{s=a[0]==="many"||a[2]==="many"?"many":"one"}return s==="many"},getRelateFields:function C(e,t){var n=SUGAR.App.metadata.getModule(e);if(!n.fields[t]){SUGAR.App.logger.error("Calling 'getRelateFields' on '"+e+"' with link '"+t+"' but no fields"+" have been found. Please fix your metadata.");return[]}var i=n.fields[t].relationship;var r=this.getRelatedModule(e,t);var a=SUGAR.App.metadata.getModule(r).fields;var s=_.find(a,function(e){return e.type=="link"&&e.relationship==i});if(s){s=_.filter(a,function(e){return e.type=="relate"&&e.link==s.name})}return s||[]},getRelationshipFields:function R(e,t){var n=null;var i=SUGAR.App.metadata.getModule(e).fields[t];if(i.rel_fields){var r=i.relationship;var a=this.getRelatedModule(e,t);var s=SUGAR.App.metadata.getModule(a).fields;var o=_.find(s,function(e){return e.type=="link"&&e.relationship==r});if(o){o=_.find(s,function(e){return e.link==o.name&&e.link_type=="relationship_info"})}if(o&&o.relationship_fields){var l=_.keys(i.rel_fields);_.each(o.relationship_fields,function(e,t){if(_.include(l,t)){if(!n)n=[];n.push(e)}})}}return n},getRelatedModule:function D(e,t){var n=SUGAR.App.metadata.getModule(e);if(!n||!n.fields||!n.fields[t]){return false}var i=n.fields[t]&&n.fields[t].relationship;var r=SUGAR.App.metadata.getRelationship(i);if(!r){return n.fields[t].module||false}return n.fields[t].module||(e===r.rhs_module?r.lhs_module:r.rhs_module)},getRelatedNameField:function I(e,t){return _.find(SUGAR.App.metadata.getModule(e).fields,function(e){if(e.name!==t&&e.id_name===t){return e}},this)},getEditableFields:function O(e,t){var n=["id"],r=["parent","relate"];t=t||[];if(!t.length){t=_.keys(e.attributes)}_.each(t,function(t){var a;if(e.has(t)&&e.fields[t]&&(!e.fields[t].source||e.fields[t].source!=="non-db"||!e.fields[t].type||r.indexOf(e.fields[t].type)===-1)&&i.hasAccessToModel("edit",e,t)){a=e.get(t);if(a&&e.fields[t].type==="collection"&&!_.isEmpty(a.links)){_.each(a.links,function(e){n.push(e.link.name)})}else{n.push(t)}}});return e.toJSON({fields:n})},sync:function N(e,t,n){SUGAR.App.logger.trace("data-sync-"+(n.relate?"relate-":"")+e+": "+t);n=this.parseOptionsForSync(e,t,n);var i=this.getSyncCallbacks(e,t,n),r=null;t.dataFetched=false;this.trigger("data:sync:start",e,t,n);t.trigger("data:sync:start",e,n);if(_.isFunction(n.endpoint)){r=n.endpoint(e,t,n,i)}else if(t.link&&t.link.bean&&n.relate===true){var a=null;if(e=="create"||e=="update"){a=this.getEditableFields(t,n.fields);if(e=="update"&&t.link.isNew){e="create"}}if(!t.link.bean.id){SUGAR.App.logger.error("Attempted to load linked context with no id on the linked bean: "+t.link.bean);return false}r=SUGAR.App.api.relationships(e,t.link.bean.module,{id:t.link.bean.id,link:t.link.name,relatedId:t.id,related:a},n.params,i,n.apiOptions)}else if(n.favorite){r=SUGAR.App.api.favorite(t.module,t.id,t.isFavorite(),i,n.apiOptions)}else if(n.following){r=SUGAR.App.api.follow(t.module,t.id,t.get("following"),i,n.apiOptions)}else{if(n.query||t instanceof o){r=SUGAR.App.api.search(n.params,i,n.apiOptions)}else if(t.module){r=SUGAR.App.api.records(e,t.module,e=="update"||e=="create"?this.getEditableFields(t,n.fields):t.attributes,n.params,i,n.apiOptions)}else{SUGAR.App.logger.error("Unable to sync model with no module")}}return r},parseOptionsForSync:function F(e,t,n){n=n||{};n.params=_.extend({},n.params);n.filterDef=n.filter||t.filterDef;n.method=e;if(n.view&&_.isString(n.view)&&e=="read"){n.params.view=n.view}if(n.fields&&e=="read"){n.params.fields=n.fields.join(",")}if(n.viewed===true){n.params.viewed="1"}if(e=="read"&&t instanceof s){if(n.offset&&n.offset!==0){n.params.offset=n.offset}if(n.limit||SUGAR.App.config&&SUGAR.App.config.maxQueryResult){n.params.max_num=n.limit||SUGAR.App.config.maxQueryResult}if(t.orderBy&&t.orderBy.field){n.params.order_by=t.orderBy.field+":"+t.orderBy.direction}if(n.myItems===true){n.params.my_items="1"}if(n.favorites===true){n.params.favorites="1"}if(!_.isEmpty(n.filterDef)){var i=r.deepCopy(n.filterDef);if(_.has(i,"filter")){i=i.filter}if(!_.isArray(i)){i=[i]}n.params.filter=i}if(!_.isEmpty(n.query)){n.params.q=n.query;if(_.isEmpty(n.module_list)&&t.module){n.module_list=[t.module]}}if(n.module_list){n.params.module_list=n.module_list.join(",")}}if(e==="update"&&n.lastModified){n.apiOptions=n.apiOptions||{};n.apiOptions.headers=n.apiOptions.headers||{};n.apiOptions.headers["X-TIMESTAMP"]=n.lastModified}return n},getSyncCallbacks:function B(e,t,n){return{success:this.getSyncSuccessCallback(e,t,n),error:this.getSyncErrorCallback(e,t,n),complete:this.getSyncCompleteCallback(e,t,n),abort:this.getSyncAbortCallback(e,t,n)}},getSyncSuccessCallback:function U(e,t,n){var i=this;return function(r,a){t.inSync=true;t.original_assigned_user_id=t.get("assigned_user_id");if(e=="read"&&t instanceof s){var l=n.offset||0;r=r||{};if(r.next_offset){t.offset=r.next_offset!=-1?r.next_offset:l+(r.records||[]).length;t.next_offset=r.next_offset;

t.page=t.getPageNumber(n)}if(!n.update){t.total=_.isNumber(r.total)?r.total:null}if(t instanceof o){t.xmod_aggs=r.xmod_aggs||null;t.tags=r.tags||null}r=r.records||[];i._updateCollectionProperties(t,n)}if(n.relate===true){t.link.isNew=false;if(e!="read"){if(t.link.bean){var u=t.link.bean.getSynced(),c=_.reduce(r.record,function(e,t,n){if(!_.isEqual(u[n],t)){e[n]=t}return e},{});t.link.bean.set(c);t.link.bean.setSyncedAttributes(r.record)}r=r.related_record;if(e=="delete"){t.set(r);delete t.link}}}t.dataFetched=true;if(n.success)n.success(r);i.trigger("data:sync:success",e,t,n,a);t.inSync=null}},getSyncErrorCallback:function P(e,t,n){return _.bind(function(i){if(i.request&&i.request.aborted){var r=this.getSyncAbortCallback(e,t,n);return r(i.request)}SUGAR.App.error.handleHttpError(i,t,n);this.trigger("data:sync:error",e,t,n,i);t.trigger("data:sync:error",e,n,i);if(_.isFunction(n.error)){n.error(i)}},this)},getSyncCompleteCallback:function Y(e,t,n){return _.bind(function(i){this.trigger("data:sync:complete",e,t,n,i);t.trigger("data:sync:complete",e,n,i);if(_.isFunction(n.complete)){n.complete(i)}n.previousModels=null;n={}},this)},getSyncAbortCallback:function H(e,t,n){return _.bind(function(i){this._updateCollectionProperties(t,n);this.trigger("data:sync:abort",e,t,n,i);t.trigger("data:sync:abort",e,n,i)},this)},_updateCollectionProperties:function G(e,t){t=t||{};e.myItems=t.myItems;e.favorites=t.favorites;e.query=t.query;e.modelList=t.modelList;e.filterDef=t.filterDef}},Backbone.Events);e.exports=c},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[];var i=true;var r=false;var a=undefined;try{for(var s=e[Symbol.iterator](),o;!(i=(o=s.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(l){r=true;a=l}finally{try{if(!i&&s["return"])s["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var r=n(14);var a=n(13);var s=moment;_.extend(s,{InvalidException:function l(e,t){this.name="InvalidException";this.message=e;this.date=t},_cachedFormats:{},_serverDateFormat:"YYYY-MM-DD",convertFormat:function u(e){if(s._cachedFormats[e]){return s._cachedFormats[e]}var t=[["d","DD"],["m","MM"],["Y","YYYY"],["H","HH"],["h","hh"],["G","H"],["g","h"],["i","mm"]];var n=e;_.each(t,function(e){var t=i(e,2),r=t[0],a=t[1];n=n.replace(r,a)});s._cachedFormats[e]=n;return n},compare:function c(e,t){var n=moment(e),i=moment(t);if(!n.isValid()){throw new s.InvalidException("Invalid date passed for comparison.",e)}if(!i.isValid()){throw new s.InvalidException("Invalid date passed for comparison.",t)}if(n.isBefore(i)){return-1}if(n.isAfter(i)){return 1}return 0},getUserDateFormat:function d(e){e=e||r;return this.convertFormat(e.getPreference("datepref"))},getUserTimeFormat:function f(e){e=e||r;return this.convertFormat(e.getPreference("timepref"))}});var o={};_.extend(s,{parse:function h(e,t){var n=new Date("Jan 1, 1970 00:00:00"),i="",r,a,s,o,l,u;if(e instanceof Date)return e;if(!t){t=this.guessFormat(e)}if(t===false){if(/^\d+$/.test(e)){return new Date(e)}return false}r=$.trim(e);t=$.trim(t)+" ";for(a=0;a<t.length;a++){s=t.charAt(a);if(s===":"||s==="/"||s==="-"||s==="."||s===" "||s==="a"||s==="A"){o=r.indexOf(s);if(o===-1)o=r.length;l=r.substring(0,o);r=r.substring(o+1);switch(i){case"m":if(!(l>0&&l<13))return false;n.setMonth(l-1);break;case"d":if(!(l>0&&l<32))return false;n.setDate(l);break;case"Y":if(l>0===false)return false;n.setYear(l);break;case"h":u=t.substring(t.length-4);l=parseInt(l,10);var c=$.trim(u.toLowerCase());if(c==="i a"||c===s+"ia"){var d=r.substring(r.length-2).toLowerCase();if(d==="pm"){if(l<12){l+=12}}else if(d==="am"&&l===12){l=0}}n.setHours(l);break;case"H":n.setHours(l);break;case"i":l=l.substring(0,2);n.setMinutes(l);break;case"s":n.setSeconds(l);break}i=""}else{i=s}}return n},guessFormat:function p(e){if(typeof e!=="string")return false;var t="",n,i,r,a,s,o,l,u;if(e.indexOf(" ")!==-1){t=e.substring(e.indexOf(" ")+1,e.length);e=e.substring(0,e.indexOf(" "))}n="/";if(e.indexOf("/")!==-1){}else if(e.indexOf("-")!==-1){n="-"}else if(e.indexOf(".")!==-1){n="."}else{return false}i=e.split(n);r="";if(i[0].length===4){r="Y"+n+"m"+n+"d"}else if(i[2].length===4){r="m"+n+"d"+n+"Y"}else{return false}a="";s=[];if(t!==""){s.push("i");o=":";if(t.indexOf(".")===2){o="."}if(t.split(o).length===3){s.push("s")}l="";u=t.substring(t.length-2,t.length);if(u.toLowerCase()==="am"||u.toLowerCase()==="pm"){s.unshift("h");if(u.toLowerCase()===u){l="lower"}else{l="upper"}}else{s.unshift("H")}a=s.join(o);if(t.indexOf(" ")!==-1){a+=" "}if(l&&l==="upper"){a+="A"}else if(l&&l==="lower"){a+="a"}r=r+" "+a}return r},parseFormat:function m(e){if(!(e in o)){var t={},n,i;for(n=0;n<e.length;n++){i=e.charAt(n);switch(i){case"m":case"n":t.month=i;break;case"d":case"j":t.day=i;break;case"Y":t.year=i;break;case"H":case"h":case"g":t.hours=i;break;case"i":t.minutes=i;break;case"s":t.seconds=i;break;case"A":case"a":t.amPm=i;break;default:break}}o[e]=t}return o[e]},format:function g(e,t){if(!_.isDate(e))return"";var n="",i,r,a,s,o,l;for(i=0;i<t.length;i++){r=t.charAt(i);switch(r){case"\\":n+=t.charAt(i+1);i++;break;case"m":case"n":o=e.getMonth()+1;n+=o<10&&r==="m"?"0"+o:o;break;case"d":case"j":a=e.getDate();n+=a<10&&r==="d"?"0"+a:a;break;case"Y":n+=e.getFullYear();break;case"H":case"h":case"g":s=e.getHours();if(r==="h"||r==="g"){s=s>12?s-12:s;s=s===0?12:s}n+=s<10&&r!=="g"?"0"+s:s;break;case"i":o=e.getMinutes();n+=o<10?"0"+o:o;break;case"s":l=e.getSeconds();n+=l<10?"0"+l:l;break;case"a":case"A":if(e.getHours()<12)n+=r==="a"?"am":"AM";else n+=r==="a"?"pm":"PM";break;default:n+=r}}return n},roundTime:function v(e){if(!e.getMinutes)return 0;var t=e.getMinutes();if(t<1){t=0}else if(t<16){t=15}else if(t<31){t=30}else if(t<46){t=45}else{t=0;e.setHours(e.getHours()+1)}e.setMinutes(t);return e},UTCtoLocalTime:function b(e){if(!(e instanceof Date))return e;return new Date(this.toUTC(e))},UTCtoTimezone:function y(e,t){if(!(e instanceof Date)||undefined===t||null===t){return e}t=parseFloat(t)*60*60*1e3;t-=e.getTimezoneOffset()*60*1e3*-1;return new Date(this.toUTC(e)+t)},toUTC:function x(e){if(!(e instanceof Date)){return e}var t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),o=e.getMilliseconds();return Date.UTC(t,n,i,r,a,s,o)},getRelativeTimeLabel:function S(e){var t=new Date;var n=t.getTime()<e.getTime();var i=n?e-t:t-e;var r=1e3,a=r*60,s=a*60,o=s*24,l={str:"",value:undefined};if(isNaN(i)||i<0){return l}if(i<r*2){l.str="LBL_TIME_AGO_NOW";return l}if(i<a){l.str=n?"LBL_TIME_UNTIL_SECONDS":"LBL_TIME_AGO_SECONDS";l.value=Math.floor(i/r);return l}if(i<a*2){l.str=n?"LBL_TIME_UNTIL_MINUTE":"LBL_TIME_AGO_MINUTE";return l}if(i<s){l.str=n?"LBL_TIME_UNTIL_MINUTES":"LBL_TIME_AGO_MINUTES";l.value=Math.floor(i/a);return l}if(i<s*2){l.str=n?"LBL_TIME_UNTIL_HOUR":"LBL_TIME_AGO_HOUR";return l}if(i<o){l.str=n?"LBL_TIME_UNTIL_HOURS":"LBL_TIME_AGO_HOURS";l.value=Math.floor(i/s);return l}if(i>o&&i<o*2){l.str=n?"LBL_TIME_UNTIL_DAY":"LBL_TIME_AGO_DAY";return l}if(i<o*365){l.str=n?"LBL_TIME_UNTIL_DAYS":"LBL_TIME_AGO_DAYS";l.value=Math.floor(i/o);return l}else{l.str=n?"LBL_TIME_UNTIL_YEAR":"LBL_TIME_AGO_YEAR";return l}},parseDisplayDefault:function w(e,t){var n,i,r,a,s,o,l,u;var c=t?t:new Date,d,f,h;if(!e)return e;o=function p(e,t){var n=e.getDate();e.setMonth(e.getMonth()+t);if(e.getDate()<n){e.setDate(1);e.setDate(e.getDate()-1)}return e};l=function m(e){var t,n,i;t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];n=c.getDay();e=e.toLowerCase();for(var r=7;r--;){if(e===t[r]){e=r<=n?r+7:r;break}}i=e-n;return i};n={day:function _(e){return new Date(c.setDate(c.getDate()+e))},week:function g(e){return new Date(c.setDate(c.getDate()+e*7))},month:function v(e){return o(c,e)},year:function b(e){return o(c,e*12)},now:function y(){return c},"next monday":function x(){return new Date(c.setDate(c.getDate()+l("monday")))},"next friday":function S(){return new Date(c.setDate(c.getDate()+l("friday")))},"first of next month":function w(){c.setDate(1);var e=c.setMonth(c.getMonth()+1);return new Date(e)}};if(e&&e.indexOf("&")>=0){r=e.split("&");a=r[0];s=r[1]}else{a=e}if(a.match(/\b(now|day|week|month|year)/g)){if(a.indexOf("now")===0){f="now"}else if(a.indexOf("first day of next month")!==-1){f="firstnextmonth"}else{h=a.split(" ");d=h[0];f=h[1]}if(f.match("now")){i=n.now()}else if(f.match("firstnextmonth")){i=n["first of next month"]()}else if(f.match("days?")){i=n.day(parseInt(d,10))}else if(f.match("weeks?")){i=n.week(parseInt(d,10))}else if(f.match("months?")){i=n.month(parseInt(d,10))}else if(f.match("years?")){i=n.year(parseInt(d,10))}else{if(!n[a]){return}i=n[a]()}}else{if(!n[a]){return}i=n[a]()}u=function(e){var t,n,i;t=/^(\d\d?).(\d{2}).?([ap]m)?$/.exec(s);if(t&&t.length>2){n=t[1];if(n){if(t[3]==="pm"){if(n<12){n=parseInt(n,10)+12}}else{if(n==="12"){n="0"}}e.setHours(parseInt(n,10))}i=t[2];if(i){e.setMinutes(parseInt(i,10))}}}(i);return i},toDatepickerFormat:function L(e){if(_.isUndefined(e)||!e)return"";var t,n={y:"yy",Y:"yyyy",m:"mm",d:"dd"};t=e.replace(/[yYmd]/g,function(e){return n[e]});return t},stripIsoTimeDelimterAndTZ:function E(e){if(!_.isUndefined(e)&&e){return e.replace("T"," ").substr(0,19)}},isIso:function k(e){var t,n;t=e.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])$/);if(t){return true}if(e.match(/[T\+Z ]/g)){n=e.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])/);if(n)return true}return false}});_.extend(s.fn,{formatUser:function A(e,t){var n=s.getUserDateFormat(t);if(!e){n+=" "+s.getUserTimeFormat(t)}return this.format(n)},formatServer:function M(e){var t=e&&s._serverDateFormat;return this.format(t)},isBetween:function T(e,t,n){n=_.isUndefined(n)?true:n;var i=this.isAfter(e)&&this.isBefore(t);if(n&&!i){i=this.isSame(e)||this.isSame(t)}return i}});_.extend(s.duration.fn,{format:function C(){var e=[],t=this.minutes(),n=this.hours(),i=Math.floor(this.asDays());if(i>0){e.push(i);e.push(a.get(i===1?"LBL_DURATION_DAY":"LBL_DURATION_DAYS"))}if(n>0){e.push(n);e.push(a.get(n===1?"LBL_DURATION_HOUR":"LBL_DURATION_HOURS"))}if(t>0){e.push(t);e.push(a.get(t===1?"LBL_DURATION_MINUTE":"LBL_DURATION_MINUTES"))}return e.join(" ")}});e.exports=s},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=n(63).routes;var s=n(232);var o=SUGAR.App;var l=void 0;var u=function(){function e(t,n){r(this,e);var i=void 0;_.extend(this,_.pick(t,"name","trackingEnabled","loginRequired","isCustomStep","stepType"));this.getScreenOptions=n.getScreenOptions;i=this._buildUrlTpl(n);this.url={tpl:i,regexp:Backbone.Router.prototype._routeToRegExp(i)}}i(e,[{key:"buildUrlFromTemplate",value:function t(e){var t=this.url.tpl.replace(/[\(\)]/g,"");_.each(e,function(e,n){t=t.replace(":"+n,e)});return t.replace(/^\/*|\/*$/g,"")}},{key:"checkUrlMatch",value:function n(e){return this.url.regexp.test(e)}},{key:"setUpNavigation",value:function a(e,t){if(e){this.up={name:e,mappedOptions:t}}}},{key:"getUpStep",value:function s(){return this.up?l.stepsHash[this.up.name]:null}},{key:"getMappedUpOptions",value:function o(e){var t=this.up&&this.up.mappedOptions;var n=void 0;if(_.isFunction(t)){n=t(e)}else if(t){n=this._mapParams(e,t)}else{n=e}return n}},{key:"_mapParams",value:function u(e,t){var n={};_.each(t,function(t,i){n[t]=e[i]});return n}},{key:"_buildUrlTpl",value:function c(e){var t="";var n=_.indexOf(e.steps,_.findWhere(e.steps,{name:this.name}));_.each(e.steps,function(e,i){var r=i===0;var a=e.url[0]==="(";if(n===-1||i<=n){t+=a||r?e.url:"/"+e.url}});return t}}]);return e}();l={_ready:false,routes:[],steps:[],stepsHash:{},init:function c(){if(this._ready){return}this.addRoutes(a,{upNavigationMap:s,isInternal:true});this._ready=true},findStepByUrl:function d(e){return _.find(this.steps,function(t){return t.checkUrlMatch(e)})},getRoutes:function f(){return this.routes},addRoutes:function h(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=this._unifyRoutes(e);var n=this._createRoutes(e,t);this._storeSteps(n.steps);this._storeRoutes(n.routes);this._prepareUpNavigation(t.upNavigationMap)},_unifyRoutes:function p(e){if(!_.isArray(e)){e=[e]}_.each(e,function(e){if(_.isString(e.steps)){e.steps=[{name:e.name,url:e.steps,trackingEnabled:e.trackingEnabled!==false,loginRequired:e.loginRequired!==false,stepType:e.stepType}];delete e.trackingEnabled}else{_.each(e.steps,function(e){_.defaults(e,{trackingEnabled:true,loginRequired:true})})}});return e},_createRoutes:function m(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=[];var r=[];var a=!n.isInternal;var s=function o(){return{}};_.each(e,function(e){if(!e.getScreenOptions){e.getScreenOptions=s}_.each(e.steps,function(t){t.isCustomStep=a;r.push(new u(t,e))});i.push({name:e.name,getScreenOptions:e.getScreenOptions,callback:t._createRouteCallback(e),route:_.last(r).url.tpl})});return{routes:i,steps:r}},_createRouteCallback:function g(e){var t=this;return function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++){i[r]=arguments[r]}var a=t._buildScreenOptions(e,i);if(e.handler){e.handler(a)}else{o.controller._loadScreen(a)}}},_buildScreenOptions:function v(e,t){var n=e.getScreenOptions.apply(e,t);var i=o.navigation.manager.getCurrentStep();if(!_.isUndefined(i.data)){n.data=n.data||i.data}return n},_storeSteps:function b(e){var t=this;this.steps.unshift.apply(this.steps,e);this._validateSteps(this.steps);_.each(e,function(e){t.stepsHash[e.name]=e})},_storeRoutes:function y(e){var t=e.length-1;if(o.router){_.each(e,function(n,i){n=e[t-i];o.router.route(n.route,n.name,n.callback)})}else{this.routes.unshift.apply(this.routes,e)}},_prepareUpNavigation:function x(e){var t=this;var n=function i(e,n,r){if(n==="mappedOptions"){return}if(n){t.stepsHash[n].setUpNavigation(r,e.mappedOptions)}_.each(e,function(e,t){i(e,t,n)})};n(e,null,null)},_validateSteps:function S(e){var t=_.pluck(e,"name");var n=true;_.each(_.groupBy(t),function(e,t){if(e.length>1){n=false;o.logger.error('duplicate step name "'+t+'"')}});if(!n){throw new Error("Routes config is invalid")}}};e.exports=l},function(e,t,n){"use strict";(function(t){var n={inProgress:{read:"LBL_LOADING",update:"LBL_SAVING",create:"LBL_SAVING","delete":"LBL_DELETING",unlink:"LBL_UNLINKING",backgroundFetch:"LBL_OFFLINE_SERVER_FETCH"},finished:{update:"LBL_SAVED",create:"LBL_SAVED","delete":"LBL_DELETED",unlink:"LBL_UNLINKED"}};var i="DATA_READING";var r="DATA_UPDATING";var a={readInProgress:0,updateInProgress:0,init:function s(){this._subscribeSyncEvents();t.events.on("data:sync:error data:sync:abort",this.onSyncError,this)},_subscribeSyncEvents:function o(){t.events.on("data:sync:start",this.onSyncStart,this).on("data:sync:success",this.onSyncSuccess,this)},_unsubscribeSyncEvents:function l(){t.events.off("data:sync:start data:sync:success",null,this)},_updateCounters:function u(e){var t=e.method,n=e.isFinished;if(t==="read"){this.readInProgress+=n?-1:1;if(this.readInProgress<0){this.readInProgress=0}}else{this.updateInProgress+=n?-1:1;if(this.updateInProgress<0){this.updateInProgress=0}}},onSyncStart:function c(e,t,n){n=n||{};if(!this._shouldShowAlert(e,t,n)){return}this.showSyncAlert(e,t,n);this._updateCounters({method:e,isFinished:false})},onSyncSuccess:function d(e,t,n){n=n||{};if(!this._shouldShowAlert(e,t,n)){return}this._updateCounters({method:e,isFinished:true});if(e==="read"&&!this.readInProgress||e!=="read"&&!this.updateInProgress){n.requestFinished=true;this.showSyncAlert(e,t,n)}},onSyncError:function f(e){this._updateCounters({method:e,isFinished:true});this.hideSyncAlert()},pause:function h(e,t,n){n=n||{};this._unsubscribeSyncEvents();this.onSyncStart(e,t,n)},resume:function p(e,t,n,i){i=i||{};this._subscribeSyncEvents();if(!n){this.onSyncSuccess(e,t,i)}},showSyncAlert:function m(e,i){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=r.requestFinished;var s=a?"finished":"inProgress";var o;if(a){this.hideSyncAlert()}else{if(!this._overlayDisabled(e,i,r)){this.showOverlay()}}if(e==="delete"&&r.relate){e="unlink"}if(r.backgroundFetch){e="backgroundFetch"}o=t.lang.get(n[s][e]);if(o){this._showAlert(e,o,a)}},_shouldShowAlert:function g(e,t,n){return!(n.backgroundSync||this.isOfflineRead(e,t,n))},_showAlert:function v(e,n,a){var s=this.getAlertOptions(n,a);var o=e==="read"?i:r;t.alert.show(o,s)},getAlertOptions:function b(e,t){var n={level:"success",autoClose:true,messages:e};if(!t){_.extend(n,{level:"load",closeable:false,autoClose:false})}return n},hideSyncAlert:function y(){this.hideOverlay();if(!this._isSuccessAlertCurrentlyShowing()){t.alert.dismiss(r)}t.alert.dismiss(i)},_overlayDisabled:function x(e,n,i){return i.backgroundFetch||e==="read"&&n instanceof t.BeanCollection},showOverlay:function S(){t.overlay.show("data:sync")},hideOverlay:function w(){t.overlay.hide("data:sync")},isOfflineRead:function L(e,n,i){return t.offlineEnabled&&e==="read"&&!i.backgroundFetch&&!n.offlineReadDisabled},_isSuccessAlertCurrentlyShowing:function E(){var e=t.alert.get(r)||{};return e.level==="success"}};t.augment("syncAlertManager",a);e.exports=a})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(37);e.exports={LAST_SENT_TIMESTAMP:"offline:db_analytics:last_sent_timestamp",_onBulkLoadProgress:function a(e,t){var r=n(23);var a=n(18);if(e===a.ProgressEventType.COMPLETE&&t===a.BucketType.COMPLETE){var s=[];_.each(r.getCache().status,function(e,t){if(e.status!==200){s.push(_.extend({name:t},e))}});if(s.length===0){i.analytics.trackEvent({category:"bulkload",action:"success",value:null,label:i.clientInfo.device.uuid})}else{i.analytics.trackEvent({category:"bulkload",action:"failure",value:null,label:i.clientInfo.device.uuid});_.each(s,function(e){i.analytics.trackEvent({category:"bulkload-error-"+e.name,action:e.status,value:undefined,label:i.clientInfo.device.uuid})})}}},onOfflineToggled:function s(e){if(!i.config.analytics.enabled){return}if(e){var t=i.nomad.getLastState(this.LAST_SENT_TIMESTAMP);if(!t){i.nomad.setLastState(this.LAST_SENT_TIMESTAMP,(new Date).getTime())}i.events.on("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.on("offline:cleanup:completed",this._trackModulesLimitHit,this)}else{i.events.off("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.off("offline:cleanup:completed",this._trackModulesLimitHit,this);i.nomad.removeLastState(this.LAST_SENT_TIMESTAMP)}},_trackModulesLimitHit:function o(e){_.each(e,function(e){i.analytics.trackEvent({category:"db-limit",action:e.moduleName,value:null,label:i.clientInfo.device.uuid})})},processPeriodicAnalytics:function l(e){if(!i.config.analytics.enabled){return}var t=i.nomad.getLastState(this.LAST_SENT_TIMESTAMP);var n=(new Date).getTime();var r=i.config.analytics.dbAnalyticsInterval*60*60*1e3;var a=n-t;if(a>=r){this._sendRecordsCountAnalytics(e);i.nomad.setLastState(this.LAST_SENT_TIMESTAMP,n)}},_sendRecordsCountAnalytics:function u(e){_.each(e.count,function(e,t){var n=r.getRange(e,1e3);i.analytics.trackEvent({category:"offline-count-"+t,action:n,value:undefined,label:i.clientInfo.device.uuid})});i.analytics.trackEvent({category:"offline-count",action:r.getRange(e.totalRecords,1e3),value:undefined,label:i.clientInfo.device.uuid})}}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(8);var s=r.declareComponent(a,{events:function o(){return{"touchstart .item":"onItemTouchStart","touchmove .item":"onItemTouchMove","click .item":"onSelect","click .cancel":"onCancel"}},name:"actionsheet",template:"actionsheet",initialize:function l(e){var t=this;$(window).on("orientationchange.actionsheet",function(){$(t.popup).addClass("invisible");_.delay(function(){t.position()},1e3)});this.$container=$("#actionsheet-overlay");this.orientationSupport=_.isNumber(window.orientation);_.defaults(e,{title:"",template:this.template,items:[],onSelect:false,onCancel:false,cancelText:i.lang.get("LBL_CANCEL_BUTTON_LABEL")});this._super(e);this.show()},onItemTouchStart:function u(e){this._moved=false},onItemTouchMove:function c(e){this._moved=true},onSelect:function d(e){if(this._moved){this._moved=false;return false}var t=parseInt(e.target.dataset.index,10);var n=true;if(this.options.onSelect){n=this.options.onSelect.call(this,t)}if(n!==false){this.remove()}},onCancel:function f(){this.remove();if(this.options.onCancel){this.options.onCancel.call(this)}},render:function h(){var e=this.options.template(this.options);var t=$(e);this.popup=t;this.$container.empty();this.$el.empty().append(t).appendTo(this.$container);_.delay(_.bind(this.position,this),20)},show:function p(){this.render();this.$container.showElement();i.activeComponents.add(this)},hide:function m(){this.$container.hideElement();if($.os.ios){r.redraw(100)}i.activeComponents.remove(this)},onClose:function g(){this.onCancel()},position:function v(){var e=this.popup;var t=this.orientationSupport&&_.contains([90,-90],window.orientation);e.toggleClass("compact",t);var n=document.documentElement;var i=e.get(0);var r=n.clientWidth;var a=n.clientHeight;var s=i.offsetWidth;var o=i.offsetHeight;var l=a-o;var u=r-s;var c;var d;if(l<=0){c=0}else{c=l/2}if(u<=0){d=0}else{d=u/2}e.css({top:c+"px",left:d+"px"}).removeClass("invisible")},remove:function b(){this._super();this.hide();i.activeComponents.remove(this.name);this.$container.empty();$(window).off("orientationchange.actionsheet")}},{show:function y(e,t,n,i){return new s({title:e,items:t,onSelect:n,onCancel:i})}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=r.declareComponent(a,{_stringType:"record-summary",plugins:[],className:"view__record-summary",template:"record-summary",initialize:function o(e){e.meta=_.extend({},i.metadata.getView(e.module,"detail"),{action:"detail"});this.modContextData=r.getContextMeta("detail");this._super(e)},getDisplayFields:function l(){var e=this.modContextData[this.model.module];return _.chain(this._super()).union(this._getRelationshipFields()).reject(function(t){return t===e.headerField||t===e.avatarField||_.has(e.docFields,t.name)}).value()}});r.registerComponent({cmp:s,baseType:"record-summary"});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(54);var s=r.declareComponent(a,{_stringType:"record",_statusMessageMap:{403:"LBL_NOT_AUTHORIZED",404:"LBL_RECORD_NOT_FOUND",link:"LBL_RELATED_RECORD_NOT_FOUND"},_modelEvents:{sync:"onDataSyncSuccess","data:sync:error":"onDataSyncError","data:sync:complete":"onDataSyncComplete"},_isModelUpdated:false,initialize:function o(e){this._super(e);this.fileFields=_.select(this.displayFields,function(e){return _.contains(["image","file"],e.type)});this._bindModelEvents()},_listenFileFieldEvents:function l(){_.each(this.fileFields,function(e){var t=this.getField(e.name,this.model);if(t){this.listenTo(t,"file:field:change",function(e,n){this._onFileFieldChange(t,e,n)});this.listenTo(t,"file:field:clear",function(){this._onFileFieldClear(t)})}},this)},_onFileFieldChange:_.noop,_onFileFieldClear:_.noop,onBeforeRender:function u(){this._super();this.model.dataFetched=false},onAfterRender:function c(){this._super();this.overlayTarget=this.options.overlayTarget?$(this.options.overlayTarget,this.$el):this.$el},_renderFields:function d(){this._super.apply(this,arguments);if(!_.isEmpty(this.fileFields)){this._listenFileFieldEvents()}},_dispose:function f(){this._super();this._unbindModelEvents()},getOverlayKey:function h(){return this.action+"-"+this.model.id},showRecordOverlay:function p(e,t){if(document.activeElement){document.activeElement.blur()}t=e.link&&t===404?"link":t;var n=i.lang.get(this._statusMessageMap[t]);if(n){this.overlayIsShown=true;i.overlay.show(this.getOverlayKey(),{template:"overlay-record",$appendTo:this.overlayTarget,templateOptions:{message:n}})}},hideRecordOverlay:function m(){this.overlayIsShown=false;i.overlay.hide(this.getOverlayKey())},bindViewSyncListener:function g(){this.listenTo(this.model,"sync",this.publishModelSyncData)},unbindViewSyncListener:function v(){this.stopListening(this.model,"sync",this.publishModelSyncData)},publishModelSyncData:function b(e,t,n){this.publishSyncData(e.toJSON(),null,_.extend({},n,{responseData:t}))},receiveSyncData:function y(e){var t;var n=false;if(_.isArray(e)){t=_.find(e,function(e){return e.id===this.model.id},this)}else if(e&&e.id===this.model.id){t=e}if(t&&!r.utils.isModelSynchronized(this.model,t)){this.model.set(t);n=true}this._isModelUpdated=n},onDataSyncSuccess:function x(e,t,n){if(this.overlayIsShown){this.hideRecordOverlay()}},onDataSyncError:function S(e,t,n){if(e==="read"){this.showRecordOverlay(this.model,n.status);if(i.error.isAccessError(n)){this.publishSyncData(this.model.toJSON(),n);this._clearModel()}}},onDataSyncComplete:function w(e,t,n){},_clearModel:function L(){var e={};_.each(this.model.attributes,function(t,n){if(n!=="id"){e[n]=void 0}});this.model.set(e,{unset:true})},_bindModelEvents:function E(){_.each(this._modelEvents,function(e,t){this.listenTo(this.model,t,this[e])},this)},_unbindModelEvents:function k(){_.each(this._modelEvents,function(e,t){this.stopListening(this.model,t,this[e])},this)}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(8);var s;var o=r.declareComponent(a,{_stringType:"search-box",className:"view__search-box",touchOutsideEventName:"touchstart.outside",_toggleSearchEventName:"search:toggle",events:{"textInput .search-query":"onKeyUp","keyup .search-query":"onKeyUp","cut   .search-query":"onChange","paste .search-query":"onChange","change .search-query":"onChange","focusin .search-query":"onFocusIn","blur .search-query":"onBlur","touchstart .search__cancel-btn":function l(){this.onCancelSearch()},"submit form":"onSubmit"},initialize:function u(e){this._super(e);this.timerId=null;this._searchText="";this.$searchBox=null;if($.os.ios){this.$el.find(".search-query").on("textInput",this.onKeyUp,this)}s=$(document.body)},showSearch:function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.skipAnimation,n=t===undefined?false:t;var i=this.$(".view__search").addClass("show-search");var r=n?"css":"animate";i[r]({opacity:1},200);this.hideProgress();this.$searchBox.focus();this.trigger(this._toggleSearchEventName,true)},onCancelSearch:function d(){document.activeElement.blur();this.$searchBox.val("").trigger("change");this.hideSearch()},hideSearch:function f(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.skipAnimation,n=t===undefined?false:t;var i=n?"css":"animate";this.$(".view__search")[i]({opacity:0},200,function(){$(this).removeClass("show-search")});this.trigger(this._toggleSearchEventName,false)},onAfterRender:function h(){this._super();this.$searchBox=this.$(".search-query")},onAfterShow:function p(){this.hideProgress();if($.os.android){var e=this;_.delay(function(){e.offsetHeight=parseInt(document.body.offsetHeight,10)},600)}},onKeyUp:function m(e){this._clearTimer();var t=this;var n=t.$searchBox.val();var i=e.keyCode===13||e.type==="submit";if(i){document.activeElement.blur()}this.timerId=window.setTimeout(function(){t.search(n);if(n===""&&!i){t.focusSearchBox()}},o.searchDelay)},onChange:function g(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=n.triggeredByClearField,r=i===undefined?false:i;if(r){return}window.setTimeout(function(){return t.onKeyUp(e)},200)},onFocusIn:function v(){this._bindTouchOutside();if(this.$el.parents("#content").length){s.addClass("body--search-onfocus")}if($.os.android){var e=this;_.delay(function(){var t=window.setInterval(function(){e.trigger(e.ACTION_NAME,{name:"app:keyboard:hide"});window.clearInterval(t)},200)},600)}},onBlur:function b(){s.removeClass("body--search-onfocus")},onSubmit:function y(e){e.preventDefault();this.onChange(e)},resetSearch:function x(){this._clearTimer()},focusSearchBox:function S(){this.$searchBox.get(0).focus()},search:function w(e){if(this._searchText===e){return}e=e.trim();this._searchText=e;this.trigger("search:text");this.showProgress()},getPreparedState:function L(){var e={};if(this._searchText){e.q=this._searchText}return e},showProgress:function E(){this.$el.addClass("in-progress")},hideProgress:function k(){this.$el.removeClass("in-progress")},getFieldNames:function A(){return[]},_clearTimer:function M(){if(this.timerId){window.clearTimeout(this.timerId)}},_dispose:function T(){this._clearTimer();this._super()},setPlaceholder:function C(e){var t=i.lang.get("LBL_MOBILE_SEARCH_PLACEHOLDER",null,{searchCriteria:e});this.$searchBox.attr("placeholder",t)},_bindTouchOutside:function R(){var e=this;$(document).one(this.touchOutsideEventName,function(t){var n=$(t.target).parents("."+e.className);if(_.isEmpty(n)){document.activeElement.blur()}})}},{searchDelay:600});e.exports=o},function(e,t,n){"use strict";var i=n(1);var r=n(65);var a=n(7);var s=i.declareComponent(a,{initialize:function o(e){this._super(e);r.registerView(this);this.bindViewSyncListener()},_dispose:function l(){r.unregisterView(this);this.unbindViewSyncListener();this._super()},bindViewSyncListener:function u(){},unbindViewSyncListener:function c(){},publishSyncData:function d(e,t,n){r.triggerViewSync(this,e,t,n)},receiveSyncData:function f(e,t){}});e.exports=s},function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=/\s+/;var a=function o(e,t,n,a){if(!n)return true;if((typeof n==="undefined"?"undefined":i(n))==="object"){for(var s in n){e[t].apply(e,[s,n[s]].concat(a))}return false}if(r.test(n)){var o=n.split(r);for(var l=0,u=o.length;l<u;l++){e[t].apply(e,[o[l]].concat(a))}return false}return true};var s=function l(e,t){var n=false;var i=-1;var r=e.length;var a=void 0;switch(t.length){case 0:case 1:case 2:case 3:while(++i<r){n=(a=e[i]).callback.call(a.ctx,t[0],t[1],t[2])===false||n}break;default:while(++i<r){n=(a=e[i]).callback.apply(a.ctx,t)===false||n}}return!n};e.exports={before:function u(e,t,n){if(!a(this,"before",e,[t,n])||!t){return this}this._before=this._before||{};var i=this._before[e]||(this._before[e]=[]);i.push({callback:t,context:n,ctx:n||this});return this},triggerBefore:function c(e){var t=false;if(!this._before){return!t}var n=Array.prototype.slice.call(arguments,1);if(r.test(e)){var i=e.split(r);for(var a=0,o=i.length;a<o;a++){t=!this.triggerBefore.apply(this,[i[a]].concat(n))||t}return!t}var l=this._before[e];var u=this._before.all;if(l){t=s(l,n)===false}if(u){t=s(u,n)===false||t}return!t},offBefore:function d(e,t,n){var i=void 0;var r=void 0;var s=void 0;var o=void 0;if(!this._before||!a(this,"offBefore",e,[t,n])){return this}if(!e&&!t&&!n){this._before=void 0;return this}o=e?[e]:_.keys(this._before);for(var l=0,u=o.length;l<u;l++){e=o[l];s=this._before[e];if(s){this._before[e]=i=[];if(t||n){for(var c=0,d=s.length;c<d;c++){r=s[c];if(t&&t!==r.callback||n&&n!==r.ctx){i.push(r)}}}if(!i.length){delete this._before[e]}}}return this}}},function(e,t,n){"use strict";var i=n(98);var r=n(10);var a=n(26);var s={};var o={preventAnyAlert:false,init:function l(){this.$alerts=$("#alerts");this.klass=i;if(SUGAR.App.config){this.$alerts=$(SUGAR.App.config.alertsEl).length?$(SUGAR.App.config.alertsEl):this.$alerts;

this.klass=a[r.capitalize(SUGAR.App.config.appId)+"AlertView"]||a.views[r.capitalize(SUGAR.App.config.platform)+"AlertView"]||a.views.BaseAlertView||a[r.capitalize(SUGAR.App.config.platform)+"AlertView"]||this.klass}_.each(this.$alerts.find(".alert-wrapper"),function(e,t){var n="init-"+t;s[n]=this._create(n,{el:e})},this)},show:function u(e,t){if(!this.$alerts||!this.$alerts.length){return null}if(this.preventAnyAlert)return null;t=_.extend({level:"info",autoClose:false},t||{});if(t.level==="confirmation"){this.dismissAll();this.preventAnyAlert=true}if(t.messages){t.messages=_.isString(t.messages)?[t.messages]:t.messages}var n=s[e];if(!n){n=this._create(e,t);s[e]=n}n.level=t.level;if(!!t.autoClose)this._setAutoCloseTimer(n,t.onAutoClose,t.autoCloseDelay);n.render();return n},_create:function c(e,t){var n=new this.klass(t);n.key=e;n.$el.prependTo(this.$alerts);return n},_setAutoCloseTimer:function d(e,t,n){if(e.timerId)clearTimeout(e.timerId);e.timerId=setTimeout(_.bind(function(){if(_.isFunction(t)){t(e.key)}this.dismiss(e.key)},this),n||SUGAR.App.config.alertAutoCloseDelay||5e3)},dismiss:function f(e,t){this.preventAnyAlert=false;var n=s[e];if(!n)return;if(n.timerId)clearTimeout(n.timerId);n.close(t);delete s[e]},dismissAll:function h(e,t){_.each(s,function(n,i){if(!e||n.level==e){this.dismiss(i,t)}},this)},get:function p(e){return s[e]},getAll:function m(){return s}};e.exports=o},function(e,t){var n=e.exports={};var i;var r;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=a}}catch(e){i=a}try{if(typeof clearTimeout==="function"){r=clearTimeout}else{r=s}}catch(e){r=s}})();function o(e){if(i===setTimeout){return setTimeout(e,0)}if((i===a||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(r===clearTimeout){return clearTimeout(e)}if((r===s||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(e)}try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}var u=[];var c=false;var d;var f=-1;function h(){if(!c||!d){return}c=false;if(d.length){u=d.concat(u)}else{f=-1}if(u.length){p()}}function p(){if(c){return}var e=o(h);c=true;var t=u.length;while(t){d=u;u=[];while(++f<t){if(d){d[f].run()}}f=-1;t=u.length}d=null;c=false;l(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}u.push(new m(e,t));if(u.length===1&&!c){o(p)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function _(){}n.on=_;n.addListener=_;n.once=_;n.off=_;n.removeListener=_;n.removeAllListeners=_;n.emit=_;n.prependListener=_;n.prependOnceListener=_;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(i){if(typeof window==="object")n=window}e.exports=n},function(e,t,n){"use strict";var i=SUGAR.App;function r(e,t){var n=void 0;var i=void 0;if(e){n=_.every(t.criteria,function(t){return t==="test_passed"?e.testing_enabled&&e.test_passed:e[t]});e._isValid=n}i=n?t.success:t.error;i(e)}e.exports={_cacheKey:"connectors",checkConnector:function a(e){var t=e.name;var n=i.cache.get(this._cacheKey);var a=n&&n[t];var s=false;if(a){r(a,e);s=a._isValid}if(!s){this.getConnectors(function(n){return r(n[t],e)})}},getConnectorModuleFieldMapping:function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=i.cache.get(this._cacheKey)[t];var n=_.getNested(t,"field_mapping.beans",{})[e]||{};return n},getConnectors:function o(e){var t=this;var n=i.api.buildURL("connectors");i.api.call("GET",n,{},{success:function r(n){var r=_.omit(n.connectors,"_hash")||{};_.each(r,function(e){e.connectorHash=n._hash});i.cache.set(t._cacheKey,r);e(r)}})},cleanCache:function l(){i.cache.cut(this._cacheKey)}}},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={get:function r(e,t){var n=e.baseType;var r=e.module||e.parentModule;var a=e.link;var s=e.create;var o=e.isLoggingCall;var l=void 0;switch(n){case"errorEmulation":l={title:"Error Emulation",save:false,back:true};break;case"offlineSettings":l={title:i.lang.get("LBL_OFFLINE_DEBUG_SETTINGS"),mainMenu:true,back:true};break;case"offlineStats":l={title:i.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS"),mainMenu:true,back:true};break;case"offlineDataGeneration":l={title:"Data Generation",mainMenu:true,back:true};break;case"offline":l={title:i.lang.get("LBL_OFFLINE_MENU_SETTINGS"),mainMenu:true,back:true};break;case"about":l={title:i.lang.get("LNK_ABOUT"),mainMenu:i.api.isAuthenticated()&&i.isSynced,rightMenu:false,back:true};break;case"settings":l={title:i.lang.get("LNK_SETTINGS"),save:true,cancel:true};break;case"detail":if(r==="TxLog"){l={title:i.lang.get("LBL_TX_LOG_DETAIL"),cancel:true}}else{var u=i.lang.getAppListStrings("moduleListSingular")[r]||i.lang.getAppListStrings("moduleList")[r]||r;var c=a?i.lang.get("LBL_RELATED_MODULE",r,u):u;var d=!i.isTablet||i.isTablet&&!a;l={title:c,mainMenu:true,rightMenu:true,back:d}}break;case"edit":var f=Boolean(a);if(f){r=i.data.getRelatedModule(e.parentModule||r,a)}var h=void 0;var p=i.lang.getAppListStrings("moduleListSingular")[r]||i.lang.getAppListStrings("moduleList")[r]||r;l={save:true,cancel:true,mainMenu:false};if(s){var m=o;h=f&&!m?i.lang.get("LBL_CREATE_RELATED",r,p):i.lang.get("LBL_CREATE_MODULE",r,p)}else if(this.isReadOnly){h=f?i.lang.get("LBL_RELATED_MODULE",r,p):p}else{h=f?i.lang.get("LBL_EDIT_RELATED",r,p):i.lang.get("LBL_EDIT",r,p)}l.title=h;break;case"list":case"selection-list":if(r==="Activities"){l={mainMenu:true,title:i.lang.getAppString("LBL_ACTIVITY_STREAM"),offlineEnabled:i.offlineEnabled}}else if(r==="Search"){l={title:i.lang.get("LBL_MOBILE_GLOBAL_SEARCH"),mainMenu:true,rightMenu:true,search:true}}else if(r==="TxLog"){l={title:i.lang.get("LBL_TX_LOG"),mainMenu:true,back:true}}else{var g=i.lang.getAppListStrings("moduleList")[r]||r;var v=false;var b=g||r;if(a){b=i.lang.get("LBL_RELATED_MODULE_PLURAL",r,g);v=true}l={title:b,back:v,mainMenu:true,rightMenu:true};if(r==="Teams"){l.rightMenu=l.save=false}}break}return l&&_.clone(l)}}},function(e,t,n){"use strict";var i=n(73);var r=n(6);var a=SUGAR.App;var s=n(60);e.exports=_.extend({layoutCacheSize:10,_noCacheLayouts:["associate","pickerlist"],_dynamicLayout:null,init:function o(e){this.rootLayout={el:e.rootHolder,layoutRef:null};this.recordLayout={el:e.recordHolder,layoutRef:null};this.layoutCache=new a.nomad.hashmap;return this},_loadScreen:function l(e){var t=this._getLayoutDefs(e);if(!e.isDynamic){this.disposeDynamicLayout({disposeAll:true})}a.activeComponents.closeAll();var n=t.length===2||t[0].appendTo===this.recordLayout;$(document.body).toggleClass("show-content-child",n);this._updateMainMenuVisibility();var i=this._buildLayoutsFromDef(t,e);var r=e.isDynamic&&e.layouts[0]&&e.layouts[0].fullScreen;if(a.isTablet&&this.getRecordLayout()&&!n&&!r){this._disposeLayout(this.getRecordLayout())}this._afterLoad(e);_.invoke(r?[this.getRootLayout()]:this.getLayouts(),"onAfterShow");return i},getLayouts:function u(){var e=[];if(this.getRootLayout()){e.push(this.getRootLayout())}if(this.getRecordLayout()){e.push(this.getRecordLayout())}if(a.isTablet){return e}else{return e.length?[_.last(e)]:[]}},onAppPause:function c(){a.activeComponents.closeAll();_.invoke(this.getLayouts(),"onAppPause")},onAppResume:function d(){var e=(new Date).getTime()-a.nomad.timePaused;_.each(this.getLayouts(),function(t){if(e>a.config.ui.refreshOnResumeTimeout&&t.name!=="edit"){t.context.resetLoadFlag();t.loadData()}t.onAppResume()})},_getRootLayoutDef:function f(e){var t;var n=void 0;if(_.isEmpty(e.layouts)){switch(e.root){case"Recents":case"Search":n="list";t={mixed:true,module:"Search",views:a.nomad.getViewClass({baseType:n,module:"Search"})};break;case"Offline":if(e.module==="TxLog"){n="list";t={module:"TxLog",views:a.nomad.getViewClass({baseType:n,module:"TxLog"})}}else{n=e.module||"offline";t={module:"Offline",create:true,cacheDisabled:true,views:a.nomad.getViewClass({baseType:n})}}break;case"About":case"Settings":case"Login":n=e.root.toLowerCase();t={module:e.root,views:a.nomad.getViewClass({baseType:n}),create:true,cacheDisabled:true};if(e.root==="Login"){t.headerConfig={enabled:false}}else if(e.root==="Error"){t.code=e.errorCode;t.backToSugar=e.backToSugar;t.sugarRoute=e.sugarRoute}break;case"ErrorEmulation":n="errorEmulation";t={views:a.nomad.getViewClass({baseType:n})};break;default:if(e.root==="Dashboards"||e.dashboardId){t=this._getDashboardLayoutParams(e,true);if(!t){return null}n=t.baseType}else if(e.link){var i=a.data.getRelatedModule(e.parentModule,e.link);n="list";t={views:a.nomad.getViewClass({baseType:n,module:i}),link:e.link,module:i,parentModelId:e.parentModelId,parentModule:e.parentModule,subType:"relationships"}}else{n="list";t={module:e.module,views:a.nomad.getViewClass({baseType:n,module:e.module})}}break}}else{t=e.layouts[0]}if(t){t.appendTo=this.rootLayout;t.baseType=n||t.baseType}return t},_getRecordLayoutDef:function h(e){var t;var n=e.action;var i=void 0;if(_.isEmpty(e.layouts)){if(e.module==="Dashboards"||!(e.modelId||e.dashboardId||n==="create"||n==="associate")){return null}if(e.link){if(n==="create"){i="edit",t={link:e.link,parentModule:e.parentModule,parentModelId:e.parentModelId,create:true,views:a.nomad.getViewClass({baseType:i,module:a.data.getRelatedModule(e.parentModule,e.link)})}}else if(n==="associate"){i="selection-list";var s=e.parentModule;var o=a.data.getRelatedModule(s,e.link);var l=a.data.canHaveMany(s,e.link);var u=new r({module:o}).prepare();t={link:e.link,views:a.nomad.getViewClass({baseType:i,module:s}),context:u,headerConfig:{title:a.lang.get("LBL_ASSOC",o,a.lang.getAppListStrings("moduleListSingular")[o]),cancel:true,back:false,save:l,rightMenu:false,search:true},cacheDisabled:true,multiselect:l}}else{i=n?"edit":"detail";t={link:e.link,parentModule:e.parentModule,parentModelId:e.parentModelId,modelId:e.modelId,views:a.nomad.getViewClass({baseType:i,module:e.module})}}}else{if(e.root==="Dashboards"||e.dashboardId){t=this._getDashboardLayoutParams(e,false);if(!t){return null}t.animateRender=false;i=t.baseType}else if(n==="create"){i="edit";t={module:e.module,create:true,views:a.nomad.getViewClass({baseType:i,module:e.module})}}else{i=n?"edit":"detail";t={views:a.nomad.getViewClass({baseType:i,module:e.module}),module:e.module,modelId:e.modelId}}}}else{if(e.layouts.length===2){t=e.layouts[1]}else{return null}}t.baseType=i||t.baseType;t.appendTo=this._getRecordLayoutContainer();if(_.isUndefined(t.animateRender)){t.animateRender=true}return t},_getLayoutDefs:function p(e){if(!_.isEmpty(e.layouts)||!_.isEmpty(e.views)){e.layouts=this._getLayoutDefsFromShortcuts(e)}var t=[];var n=this._getRootLayoutDef(e);if(n){n.isRootScreen=true;t.push(n)}var i=this._getRecordLayoutDef(e);if(i){i.isRecordScreen=true;t.push(i)}if(!a.isTablet){t=[_.last(t)]}if(e.data){_.each(t,function(t){return t.data=t.data||e.data})}return t},_getLayoutDefsFromShortcuts:function m(e){var t=e.views?[{views:e.views}]:e.layouts;if(!_.isArray(t)){t=[t]}var n=_.map(t,function(t){var n=void 0;if(_.isFunction(t)){n={type:t,controller:t}}else{n=_.clone(t);if(_.isEmpty(t.name)&&_.isEmpty(t.type)){n.type=n.controller=i}if(t.baseType&&!t.views){n.views=a.nomad.getViewClass({baseType:t.baseType,module:t.module});n.baseType=t.baseType}}if(e.isDynamic){_.defaults(n,{isDynamic:true,animateRender:true,appendTo:"record"})}return n});if(_.first(n).appendTo==="record"){n.unshift(null)}return n},_afterLoad:function g(e){this._checkAlerts()},_updateMainMenuVisibility:function v(){var e=a.nomad.mainMenu;var t=a.api.isAuthenticated();if(e){e.$el.toggle(t)}},_getLayout:function b(e){var t=this._getLayoutCacheId(e);var n=this.layoutCache.get(t);if(!n){var i=e.context||this._getPreparedContext(e);return a.view.createLayout(_.extend(_.omit(e,"appendTo","controller"),{context:i,def:e}))}else{n.options.def=e;return n}},_attachLayout:function y(e){var t=this;var n=e.options.def;var i=n.appendTo;var r=n.appendTo.layoutRef;function s(){if(r&&!a.isTablet&&$.os.android){r.$el.hideElement()}t._handleLayoutFullScreen(e,r);i.layoutRef=e;e.$el.showElement();$(i.el).append(e.$el);_.each([t.rootLayout,t.recordLayout],function(t){if(t!==e.getDefinition().appendTo&&t.layoutRef===e){t.layoutRef=null}})}if(!r||r&&r!==e){if(e.getDefinition().animateRender){e.getOverlay$El().showElement()}s();this._renderLayout(e)}return r},_renderLayout:function x(e){if(e.cached){e.renderFromCache({animation:{enabled:e.getDefinition().animateRender,preAnimationDelay:0,animationLength:200}})}else{e.render({animation:this._getFreshRenderAnimationOptions(e)})}},_renderHeader:function S(e,t){var n=this;if(t._headerAttached){return}t._headerAttached=true;var i=a.nomad.getViewClass({baseType:e.baseType==="edit"?"headerEdit":"header",module:e.module});var r=this._buildHeaderConfig(t,i);if(!r.enabled){return}var s={name:i,module:e.module,config:r,model:t._components[0].model,context:t._components[0].context};if(r.rightMenu){_.extend(s,{parentView:_.first(t._components),viewSubType:e.subType})}var o=a.view.createView(s);o.render();t._components.unshift(o);t._header=o;t.$el.prepend(o.$el);o.onAfterShow();t.listenTo(o,"component:action",function(e){t.handleComponentAction(o,e)});o.listenTo(t.model,"data:sync:complete",function(){var e=n._buildHeaderConfig(t,i);o.config.title=e.title;o.config.subtitle=e.subtitle;o.$(".header-title").text(o.config.title);o.$(".header-subtitle").text(o.config.subtitle)})},_buildHeaderConfig:function w(e,t){var n=s.get(e.options)||{};_.each(e._components,function(e){if(e.headerConfig){n=_.isFunction(e.headerConfig)?e.headerConfig(n):_.extend(n,e.headerConfig)}});_.extend(n,e.options.headerConfig);n.enabled=_.isUndefined(n.enabled)?true:_.isFunction(n.enabled)?n.enabled():!!n.enabled;if(!n.enabled){return n}n.offlineEnabled=a.offlineEnabled;if(n.buttons){var i=n.buttons;var r={cancelLabel:_.getNested(i,"cancel.label"),saveLabel:_.getNested(i,"save.label")};if(i){_.each(t.getBaseButtonNames(),function(e){if(!_.isUndefined(i[e])){r[e]=!!i[e]}})}_.each(r,function(e,t){if(!_.isUndefined(e)){n[t]=e}})}return n},_getFreshRenderAnimationOptions:function L(e){return{enabled:e.getDefinition().animateRender,preAnimationDelay:200,animationLength:200}},_cacheLayout:function E(e){var t=e.options.def;var n=this._getLayoutCacheId(t);var i=this.layoutCache.get(n);if(!this._canCache(t)){return}if(i){this.layoutCache.remove(i);this.layoutCache.push(n,i)}else{e.cached=true;this.layoutCache.push(n,e)}if(this.layoutCache.count()>this.layoutCacheSize){var r=this.layoutCache.shift();this._disposeLayout(r,{hardDispose:true})}},_canCache:function k(e){var t=e.cacheDisabled||e.isDynamic||e.baseType==="edit"&&e.create===true||_.contains(this._noCacheLayouts,e.subType);return!t},_disposeLayout:function A(e,t){if(e.disposed===true){a.logger.debug("Trying to dispose already disposed layout "+e.name+".");return}t=t||{};e.onDetachFromDom();if(e.getDefinition().appendTo.layoutRef===e){e.getDefinition().appendTo.layoutRef=null}var n=this._dynamicLayout&&this._dynamicLayout.prevLayout===e;if((n||e.cached)&&!t.hardDispose){if(t.detachDelay){var i=this;_.delay(function(){if(!(_.contains(i.getLayouts(),e)||e.disposed)){e.$el.detach()}},t.detachDelay)}else{e.$el.detach()}}else{delete e.prevLayout;e.dispose()}},_getPreparedContext:function M(e){var t=["appendTo","animateRender","baseType","cacheDisabled","context","controller","headerConfig","isDynamic","isRootScreen","isRecordScreen","controller","type","views"];var n=new r(_.omit(e,t));var i=Boolean(e.module||e.parentModule||e.mixed);n.prepare();if(!i){n.setFetch(false)}if(e.parentModelId){this.layoutCache.iterate(function(t){var i=t.context.get("model");if(i&&e.parentModelId===i.id){n.set("parentModel",i)}})}return n},_buildLayoutsFromDef:function T(e,t){var n=[];var i=t&&t.propagatingData;_.each(e,function(e){var r=this._getLayout(e);var a=r.model;if(a&&i&&i.id===a.id&&_.contains(["detail","edit"],r.options.baseType)){a.inSync=true;a.set(i);a.inSync=null}if(r.options.isDynamic){this._dynamicLayout=r}else{this._dynamicLayout=null}var s=this._attachLayout(r);this._renderHeader(e,r,t);this._cacheLayout(r);if(r.options.isDynamic){if(s){s.cached=true;r.prevLayout=s}}if(s&&s!==r){this._disposeLayout(s,{detachDelay:200})}n.push(r)},this);return n},getRecordLayout:function C(){return this._getRecordLayoutContainer().layoutRef},getRootLayout:function R(){return this.rootLayout.layoutRef},isDynamicLayoutLoaded:function D(){return!!this._dynamicLayout},invalidateLayouts:function I(e){this.layoutCache.iterate(function(t){var n;var i;var r;n=e[t.options.baseType];if(!n){return}r=_.isArray(n)?n:n.items;if(n.modules){i=_.contains(n.modules,t.module)}else if(n.modelIds){i=_.contains(n.modelIds,t.model.get("id"))}else if(r){_.each(r,function(e){i=e.module===t.module&&(!e.modelId||e.modelId===t.model.get("id"));return!i})}if(i){t.needLoadParams=n.loadParams||e.loadParams||true}})},disposeDynamicLayout:function O(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.disposeAll,i=n===undefined?false:n,r=t.skipAttachPrevious,a=r===undefined?false:r,s=t.layoutsToDispose,o=s===undefined?1:s;var l=function d(){if(i||o>0){return Boolean(e._dynamicLayout)}else{return false}};do{if(this._dynamicLayout){var u=this._dynamicLayout;var c=u.prevLayout;if(c){if(!a){this._attachLayout(c)}this._dynamicLayout=c.options.isDynamic?c:null}else{this._dynamicLayout=null}o--;this._disposeLayout(u,{hardDispose:true})}}while(l())},_getLayoutCacheId:function N(e){if(e.controller){var t=e.controller.config;return t&&t.enableCache?e.controller._layoutId:a.utils.generateUUID()}else{var n=_.chain(e).omit(["child","appendTo","context","animateRender","dashletId","view","headerConfig"]).keys().sort().value();return JSON.stringify(_.pick(e,n))}},_getRecordLayoutContainer:function F(){return a.isTablet?this.recordLayout:this.rootLayout},_checkAlerts:function B(){var e=a.alert.getAll();_.each(e,function(e,t){if(!e.viewCounter)e.viewCounter=0;e.viewCounter++;if(e.viewCounter>=(a.config.ui.maxAlertsPerLayout||2)){a.alert.dismiss(t)}})},_clean:function U(e){var t=this;var n=function r(e){function n(e,t){if(e.prevLayout===t){return true}else if(e.prevLayout){return n(e.prevLayout,t)}else{return false}}return t._dynamicLayout&&n(t._dynamicLayout,e)};if(e.disposeAll){this.disposeDynamicLayout({disposeAll:true});_.each(this.getLayouts(),function(e){if(e){this._disposeLayout(e,{hardDispose:true})}},this)}var i=[];this.layoutCache.iterate(function(e){if(this.getRootLayout()!==e&&this.getRecordLayout()!==e&&!n(e)){e.dispose();i.push(e)}else{if(_.isFunction(e.clean)){e.clean()}}},this);_.each(i,function(e){this.layoutCache.remove(e)},this)},_handleLayoutFullScreen:function P(e,t){var n;var i;if(!a.isTablet){return}n="show-content-child";i=e.options.def.fullScreen&&this.getLayouts().length>1;if(i){$(document.body).removeClass(n);e._inFullScreen=true}else if(t&&t._inFullScreen){t._inFullScreen=false;$(document.body).addClass(n)}},_getDashboardLayoutParams:function Y(e,t){var n=!!e.modelId;var i=!!(e.parentModule&&e.parentModelId);var r;var s;var o={module:"Dashboards",baseType:"dashboard",views:a.nomad.getViewClass({baseType:"dashboard"}),dashletId:e.dashletId,dashboardId:e.dashboardId,parentModule:e.parentModule,parentModelId:e.parentModelId};if(i){if(e.parentDashboardId){r={baseType:"dashboard",views:a.nomad.getViewClass({baseType:"dashboard"}),module:"Dashboards",dashboardId:e.parentDashboardId,dashletId:e.parentDashletId}}else{r={baseType:"list",views:a.nomad.getViewClass({baseType:"list",module:e.parentModule}),module:e.parentModule};if(e.linkParentModule){_.extend(r,{link:e.moduleLink,parentModule:e.linkParentModule,parentModelId:e.linkParentModelId,subType:"relationships"})}}}if(n){var l=e.action?"edit":"detail";s={module:e.module,modelId:e.modelId,baseType:l,views:a.nomad.getViewClass({baseType:l,module:e.module})};if(e.action==="create"){s.create=true}}if(a.isTablet){if(n){return t?o:s}else{if(t){return i?r:o}else{return i?o:null}}}else{return t||e.root&&!n?o:s}}},Backbone.Events)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(20);var a=n(47);var s=n(63).StepTypes;var o=n(319);var l=true;e.exports={started:false,LoadScreenError:{NO_DASHBOARDS_MODULE:1,NO_DASHBOARD:2,NO_DASHLET:3,NO_MODULE:4,NO_CREATE_ACCESS:5,NO_OFFLINE_MODE:6,NEED_LOGIN:7,CONVERT_ROUTE_HAPPENED:8,CONVERT_ROUTE_ERROR:9,NEED_APP_SYNC:10,UNKNOWN_STEP:11},_contextList:null,_contextRec:null,_stepsBlackList:null,_history:null,_seedId:0,init:function u(){a.init();this._history=i.navigation.history;this._stepsBlackList=[];this.started=true},navigate:function c(e){e.url=this._adjustUrl(e.url);if(!e.initiator){e.initiator=r.GENERIC}if(e.initiator===r.CONFIGURE){l=true}if(e.url===null){this._navigateByParams(e)}else{this._navigateByUrl(e)}},refresh:function d(){var e=this.getCurrentStep();var t=e?e.url:window.location.hash;i.controller.navigate(t)},forbidStep:function f(e){if(!_.contains(this._stepsBlackList,e.modelId)){this._stepsBlackList.push(e.modelId)}},getRoutes:function h(){return a.getRoutes()},getHistoryLength:function p(){return this._history.getLength()},hasStepChanged:function m(){var e=this._history.getPrevStep({includeSkipped:true});var t=this.getCurrentStep();return e&&e.stepDef.name!==t.stepDef.name},getCurrentStep:function g(){return this._history.getCurrentStep()},_isStepAvailable:function v(e){return!_.any(this._stepsBlackList,function(t){return e.url.indexOf(t)!==-1})},_getUpStepParams:function b(e){var t=e.stepDef;var n=this.getCurrentStep();var i=e.initiator;var a=void 0;if(!n){return null}a=e.replaceCurrent?n.upParentId:n.id;this._syncContextRefs(t,e);if(i===r.UP){a=e.upParentId}else if(_.contains([r.LIST,r.DASHLET_LIST],i)){if(this._isDetailOrActionStep(t)){a=this._contextList}}else if(i===r.SAVE){if(this._isDetailOrActionStep(t)&&!this._isQuickCreateRelated(n.stepDef)){a=this._contextList}}else if(i===r.DASHBOARD){if(_.contains(["home-dashboard-dashlet","record-dashboard-dashlet"],n.stepDef.name)){a=this._contextRec}}return{upParentId:a,contextList:this._contextList,contextRec:this._contextRec}},_syncContextRefs:function y(e,t){var n=this.getCurrentStep();var i=t.initiator;if(i===r.UP||i===r.BACK){if(t.contextList){this._contextList=t.contextList}if(t.contextRec){this._contextRec=t.contextRec}}else{if(this._isListStep(n.stepDef,i)){this._contextList=n.id}else if(n.stepDef.name==="home-dashboard"||this._isDetailStep(n.stepDef)&&e.name==="record-dashboard-dashlet"){this._contextRec=n.id}}},_isQuickCreateRelated:function x(e){var t=this._history.getPrevStep();return t&&this._isDetailStep(t.stepDef)&&e.name==="relationships-create"},_isListStep:function S(e,t){if(_.contains(["home-dashboard-dashlet","record-dashboard-dashlet","double-dashboard"],e.name)){return t===r.DASHLET_LIST}else{return e.stepType===s.LIST}},_isDetailOrActionStep:function w(e){return this._isDetailStep(e)||this._isActionStep(e)},_isDetailStep:function L(e){return e.stepType===s.DETAIL},_isActionStep:function E(e){return e.stepType===s.ACTION},_getContextUpStep:function k(){return this._history.getStepById(this.getCurrentStep().upParentId)},_getDefaultUpStep:function A(e,t){e=e||this.getCurrentStep().stepDef;var n=e.getMappedUpOptions(t||i.controller.getScreenContext());var r=e.getUpStep();var a=void 0;if(r){a={url:r.buildUrlFromTemplate(n),stepDef:r,screenOptions:n}}return a},_getUrlInfo:function M(e){var t=e.substr(1);var n=a.findStepByUrl(t);var i=void 0;if(n){var r=n.url.regexp.exec(t).slice(1);i=n.getScreenOptions.apply(this,r)}else{n={unknown:true}}return{url:e,stepDef:n,screenOptions:i}},_navigate:function T(e){var t=_.extend({},e,{id:++this._seedId,replaceCurrent:!this._shouldTrackCurrentStep(e.url)});var n=this._getUpStepParams(t);_.extend(t,n);this._history.navigate(t)},_shouldTrackCurrentStep:function C(e){var t=this.getCurrentStep();return t&&!t.updateUrlOnly&&t.stepDef.trackingEnabled&&t.url!==e},_navigateByUrl:function R(e){var t=this;_.extend(e,this._getUrlInfo(e.url));var n=this.checkNavigationAllowed(e);if(n.errorType){this.onNavigationAbort(n,e)}else{this.checkNavigationCancelled(e,function(n){if(e.callback){e.callback(n)}if(!n.cancel){t._navigate(e)}})}},onNavigationAbort:function D(e,t){var n=e.errorType===this.LoadScreenError.NEED_LOGIN;var a=i.api.isAuthenticated();if(t.callback){t.callback({cancel:true})}if(n||a){this._navigateByParams({error:e,originalParams:t,initiator:r.ERROR_LOAD_SCREEN,stepDef:t.stepDef})}if(n||!a){t.updateUrlOnly=true;this._navigate(t)}},_navigateByParams:function I(e){switch(e.initiator){case r.BACK:this._handleBackNavigation(e);break;case r.UP:this._handleUpNavigation(e);break;case r.HOME:this._handleHomeNavigation();break;case r.SAVE:this._handleSaveNavigation(e);break;case r.RELATE:this._handleRelateNavigation(e);break;case r.DELETE:this._handleDeleteNavigation(e);break;case r.ERROR_LOAD_SCREEN:this._handleLoadScreenError(e);break}},_handleBackNavigation:function O(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=void 0;while(!n&&this._history.getLength()!==1){n=this._history.getPrevStep();if(!this._canGoBack(n)){n=null;this._history.pop()}}this.checkNavigationCancelled(t,function(i){if(t.callback){t.callback(i)}if(!i.cancel){if(e._history.getLength()===1){e.exitApp()}else{n.initiator=r.BACK;e._syncContextRefs(n.stepDef,n);e._history.navigate({back:true})}}})},_handleUpNavigation:function N(e){var t=this._history.getSteps();var n=void 0;var a=void 0;var s=void 0;if(this.getCurrentStep()){n=this._getContextUpStep()||this._getDefaultUpStep()}while(n&&!a){var o=n&&this._isStepAvailable(n);if(o){a=n}else{s=this._history.getStepById(n.upParentId);if(s){n=s;t.length=_.indexOf(t,n)}else{n=this._getDefaultUpStep(n.stepDef,n.screenOptions)}}}if(a){e=_.extend({},e,a);e.initiator=r.UP;this.navigate(e)}else{i.controller.navigateToDefaultView()}},_handleHomeNavigation:function F(){var e=void 0;var t=void 0;var n=void 0;if(i.supportedFeatures.settingsDefaultView){if(i.supportedFeatures.dashboards){i.nomad.dashboards.verifyDefaultView()}e=i.loginManager.getSetting("default_view")||i.config.ui.defaultViewScheme;t=e.split(":");if(t[0]==="Modules"){if(_.contains(i.metadata.getModuleNames(),t[1])){t.shift()}else{i.nomad.removeSetting("default_view");t=[]}}n=t.join("/")}this.navigate({url:n||i.nomad.DEFAULT_ROUTE})},_handleSaveNavigation:function B(e){var t=e.initiator,n=e.contextOptions,r=n.module,a=n.modelId,s=n.parentModule,o=n.parentModelId,l=n.isCreate;var u=i.controller.getScreenContext().link;var c=i.controller.getScreenContextRoot();var d=void 0;if(l){d=c?c+"/":"";d+=u?i.nomad.buildLinkRoute(s,o,u,a):i.router.buildRoute(r,a);this.navigate({url:d,initiator:t})}else{this._handleUpNavigation()}},_handleRelateNavigation:function U(e){this._handleUpNavigation(e)},_handleDeleteNavigation:function P(e){this._stepsBlackList.push(e.contextOptions.modelId);this._handleUpNavigation()},_handleLoadScreenError:function Y(e){var t=this.LoadScreenError;switch(e.error.errorType){case t.NO_DASHLET:this._handleUpNavigation();break;case t.UNKNOWN_STEP:case t.NO_MODULE:var n=this.getCurrentStep()&&i.api.isAuthenticated()&&e.originalParams.initiator!==r.CONFIGURE;if(n){var a=e.originalParams.url.substring(1);this.showBackToSugarPage(a)}else{i.controller.navigateToDefaultView()}break;case t.NO_CREATE_ACCESS:this._loadErrorScreen({errorCode:403});break;case t.NO_DASHBOARDS_MODULE:case t.NO_DASHBOARD:case t.NO_OFFLINE_MODE:i.controller.navigateToDefaultView();break;case t.CONVERT_ROUTE_HAPPENED:i.controller.navigate({url:e.error.redirectUrl});break;case t.CONVERT_ROUTE_ERROR:this.showBackToSugarPage(e.error.redirectUrl);break;case t.NEED_APP_SYNC:i.nomad.syncApp();break;case t.NEED_LOGIN:i.router.login();break}},checkNavigationAllowed:function H(e){var t={};if(!e.stepDef.loginRequired||_.contains(i.config.unsecureRoutes,e.url)){return t}if(!i.api.isAuthenticated()){t.errorType=this.LoadScreenError.NEED_LOGIN;return t}if(l&&!e.stepDef.isCustomStep){t=this._checkUrlOnFirstStart(e.url)}if(t.errorType){return t}if(e.stepDef.unknown){t.errorType=this.LoadScreenError.UNKNOWN_STEP;return t}if(i.api.isAuthenticated()&&!i.isSynced){t.errorType=this.LoadScreenError.NEED_APP_SYNC;return t}return this._checkCanLoadScreen(e.screenOptions)},_checkUrlOnFirstStart:function G(e){var t={};e=e.replace("#","");l=false;i.logger.debug("PARSING ROUTE ON STARTUP FOR DETECTING SUGAR ROUTE");if(e){var n=i.routing.utils.convertExternalRoute(e);if(n!==e){if(_.isString(n)){t.errorType=this.LoadScreenError.CONVERT_ROUTE_HAPPENED;t.redirectUrl=n}else{t.errorType=this.LoadScreenError.CONVERT_ROUTE_ERROR;t.redirectUrl=e}}}return t},_checkCanLoadScreen:function V(e){var t=i.data.getRelatedModule(e.parentModule,e.link);var n=e.module||t||e.parentModule;var r=this.LoadScreenError;var a=void 0;var s=void 0;if(e.dashboardId||e.root==="Dashboards"){if(!i.supportedFeatures.dashboards){s=r.NO_DASHBOARDS_MODULE}else{a=i.nomad.dashboards.getDashboard(e.dashboardId);if(!a){s=r.NO_DASHBOARD}else if(e.dashletId&&!i.nomad.dashboards.isDashletAvailable(e.dashboardId,e.dashletId)){s=r.NO_DASHLET}}}else if(!this._canLoadModuleScreen(e)){s=r.NO_MODULE}else if(!i.offlineEnabled&&(e.root==="Offline"||e.module==="TxLog")){s=r.NO_OFFLINE_MODE}else if(!_.contains(i.config.modules.nonAclModules,n)){if(e.action==="create"&&!i.nomad.canCreateModule(n)||!i.acl.hasAccess("access",n)){s=r.NO_CREATE_ACCESS}}return{errorType:s}},_canLoadModuleScreen:function j(e){var t=e.module,n=e.parentModule,r=e.link;var a=i.metadata.getModuleNames({filter:"visible"});var s=_.union(a,i.config.ui.constantlyVisibleViews);var o=[];if(t){o.push(t)}if(n){o.push(n)}if(n&&r){o.push(i.data.getRelatedModule(n,r))}return _.every(o,function(e){return _.contains(s,e)})},checkNavigationCancelled:function z(e,t){var n=_.compact(_.unique(i.controller.layoutManager.getLayouts()));var r=_.map(n,function(t){return function(n){t.onBeforeLeave({params:e,callback:function i(e){n(e&&e.cancel,e)}})}});async.parallel(r,function(e){t({cancel:e})})},_canGoBack:function $(e){return this._isStepAvailable(e)&&e.url!==this.getCurrentStep().url&&!this._checkCanLoadScreen(e.screenOptions).errorType},exitApp:function q(){i.logger.debug("Exiting Application");if(i.isNative&&navigator.app&&navigator.app.exitApp){navigator.app.exitApp()}},_loadErrorScreen:function W(e){i.controller._loadScreen({isDynamic:true,layouts:{appendTo:"root",fullScreen:true,module:"Error",views:[o],create:true,cacheDisabled:true,backToSugar:true,code:e.errorCode,sugarRoute:e.sugarRoute,headerConfig:{title:i.lang.get("ERR_GENERIC_TITLE"),mainMenu:true}}})},showBackToSugarPage:function K(e){this._loadErrorScreen({errorCode:404,sugarRoute:e})},_adjustUrl:function J(e){if(_.isString(e)){if(e[0]!=="#"){e="#"+e}}else{e=null}return e}}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(231);var a={LIST:"LIST",DETAIL:"DETAIL",ACTION:"ACTION"};var s=[{name:"configure",steps:"Configure(/)(:serverUrl)(/)(:loginName)(/)(:pageUrl)(/)(:ssoOption)(/)(:useHttps)(/)",getScreenOptions:r.configure,trackingEnabled:false,loginRequired:false,handler:function o(e){var t={serverUrl:e.serverUrl?decodeURIComponent(e.serverUrl):"",loginName:e.loginName?decodeURIComponent(e.loginName):"",pageUrl:e.pageUrl?decodeURIComponent(e.pageUrl):"#",ssoOption:e.ssoOption,useHttps:e.useHttps};i.nomad.configure(t)}},{name:"linked-list-dashboard",getScreenOptions:r.linkedListRecordDashboard,steps:":linkParentModule/:linkParentModelId/link/:moduleLink/:parentModelId/Dashboards/:dashboardId/:dashletId"
},{name:"double-dashboard",getScreenOptions:r.twinDashboard,steps:"Dashboards/:parentDashboardId/:parentDashletId/:parentModule/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"record-dashboard",getScreenOptions:r.recordDashboard,steps:[{name:"record-dashboard-dashlet",url:"(:root/):parentModule/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"record-dashboard-detail",url:"(/:module)(/:modelId)",stepType:a.DETAIL},{name:"record-dashboard-action",url:"(/:action)",trackingEnabled:false}]},{name:"dashboard",getScreenOptions:r.dashboard,steps:[{name:"home-dashboard",url:"Dashboards/:dashboardId"},{name:"home-dashboard-dashlet",url:"(/:dashletId)"},{name:"home-dashboard-detail",url:"(/:module)(/:modelId)",stepType:a.DETAIL},{name:"home-dashboard-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"about",getScreenOptions:r.about,steps:"About",loginRequired:false},{name:"settings",getScreenOptions:r.settings,steps:"Settings"},{name:"logout",handler:r.logout,steps:"logout(/?clear=:clear)",trackingEnabled:false},{name:"error-emulation",getScreenOptions:r.errorEmulation,steps:"ErrorEmulation"},{name:"offline",getScreenOptions:r.offline,steps:[{name:"offline",url:"Offline"},{name:"offline-list",url:"(/:module)"},{name:"offline-detail",url:"(/:modelId)"}]},{name:"record-createCall",getScreenOptions:r.createCall,steps:"createCall?direction=:direction&start_date=:start_date&duration_hours=:duration_hours&duration_minutes=:duration_minutes&status=:status",trackingEnabled:false},{name:"relationships-createCall",getScreenOptions:r.createRelatedCall,steps:":module/:id/link/:calls_link/createCall?direction=:direction&start_date=:start_date&duration_hours=:duration_hours&duration_minutes=:duration_minutes&status=:status&log_call=:log_call",trackingEnabled:false},{name:"relationships-list",getScreenOptions:r.relatedList,steps:":parentModule/:parentModelId/link/:link",stepType:a.LIST},{name:"relationships-create",getScreenOptions:r.createRelated,steps:":parentModule/:parentModelId/link/:link/create",trackingEnabled:false},{name:"relationships-associate",getScreenOptions:r.associate,steps:":parentModule/:parentModelId/link/:link/associate",trackingEnabled:false},{name:"relationships-action",getScreenOptions:r.relatedRecord,steps:[{name:"relationships-detail",url:":parentModule/:parentModelId/link/:link/:modelId",stepType:a.DETAIL},{name:"relationships-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"search-list",getScreenOptions:_.partial(r.list,"Search"),steps:"Search",stepType:a.LIST},{name:"search-create",getScreenOptions:_.partial(r.create,"Search"),steps:"Search/:module/create",trackingEnabled:false},{name:"search-record",getScreenOptions:_.partial(r.record,"Search"),steps:[{name:"search-record-detail",url:"Search/:module/:modelId",stepType:a.DETAIL},{name:"search-record-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"list",getScreenOptions:_.partial(r.list,""),steps:":module",stepType:a.LIST},{name:"list-create",getScreenOptions:_.partial(r.create,""),steps:":module/create",trackingEnabled:false},{name:"record",getScreenOptions:_.partial(r.record,""),steps:[{name:"record-detail",url:":module/:modelId",stepType:a.DETAIL},{name:"record-action",url:"(/:action)",trackingEnabled:false,stepType:a.ACTION}]},{name:"default-view",handler:r.defaultView,steps:"",trackingEnabled:false}];e.exports={routes:s,StepTypes:a}},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={isEditActionVisible:function r(e){return e.hasEditAccess()&&i.acl.hasAccessToModel("view",e)},isViewActionVisible:function a(e){return!e.hasEditAccess()&&i.acl.hasAccessToModel("view",e)}}},function(e,t,n){"use strict";var i=SUGAR.App;var r={};var a={triggerViewSync:function s(e,t,n,i){_.each(r,function(r){if(this.shouldSync(r,e)){r.receiveSyncData(t,n,i)}},this)},shouldSync:function o(e,t){return e!==t},registerView:function l(e){r[e.cid]=e},unregisterView:function u(e){delete r[e.cid]},_getSyncableViews:function c(){return r},_reset:function d(){r={}}};e.exports=i.syncableViewsManager=a},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(6);var a=n(1);var s=n(35);var o=n(20);var l=n(340);var u=a.declareComponent(s,{_stringType:"activitystream-dashlet",navigationName:o.ACTIVITIES_LIST,events:function c(){return{"click .panel__addpost":"onAddPost"}},getListViewDef:function d(e,t){if(t.parentModel){t.listParams=_.extend({link:"activities"},t.listParams)}return this._super(e,t)},_getMenuActions:function f(){var e=this;return[{name:"comment",types:["context-menu"],label:"LBL_COMMENT",iconKey:"actions.comment",autoClose:true,handler:function t(n,i){var r=_.find(e._commentsViews,function(e){return e.options.parentModel.id===i.id});r.onCreateCommentItem(i)}}]},_getFilterDefFromMeta:function h(e){var t;if(e){var n=i.metadata.getModule("Activities");if(_.isObject(n)){_.isObject(n.filters)&&_.each(n.filters,function(n){_.isObject(n.meta)&&_.each(n.meta.filters,function(n){if(n.id===e){t=n}})})}}return t},overrideListView:function p(e){this._super(e);e.disableItemClick=true;e.template=i.template.get("activity-list");e.contextMenuActions=this._getMenuActions();e.getListItemTpl=function(e){var t=e.get("activity_type");return t==="post"?"activity-"+t:"activity-item"};e.listenTo(e.collection,"add",_.bind(this.onItemAdded,this));e.listenTo(e.collection,"data:sync:complete",_.bind(this.initComments,this));var t=this._getFilterDefFromMeta(this.meta.view.currentFilterId);if(t){e.collection.filterDef=t.filter_definition}this.listView=e},onItemAdded:function m(e,t){var n;t.each(function(t,i){if(t.id===e.id){n=i;return}});this.createCommentsView(e,n)},initComments:function g(){this.resetCommentsViews();this.listView.collection.each(_.bind(this.createCommentsView,this));_.each(this._commentsViews,function(e){this.listenTo(e,"view:after:render",this.listReflowScroll,this)},this);this.listView.reflowScroller()},listReflowScroll:function v(){this.listView.reflowScroller()},createCommentsView:function b(e,t){this.$(".activitystream-item").eq(t).append('<div class="clip comments-container"></div>');var n=this.$(".comments-container").eq(t);var r=i.view.createView({name:i.nomad.getViewClass({baseType:"list",module:"Comments"}),module:"Comments",parentModel:e,el:n});r.render();this._commentsViews.push(r)},resetCommentsViews:function y(){_.each(this._commentsViews,function(e){this.stopListening(e,"view:after:render",this.listReflowScroll);e.dispose()},this);this._commentsViews=[]},onAddPost:function x(){var e=i.data.createBean("Activities");var t=this.listView.context.get("parentModule");var n=["activity_type","data"];var r=this;var a;if(t){a=this.listView.options.listParams.parentModel;e.set({parent_id:a.id,parent_type:t});n.push("parent_id","parent_type")}this.constructor.createPost(e,{appendTo:"root",savePost:function s(t){e.save(null,{fields:n,success:function i(e){r.listView.collection.unshift(e);r.listView.render();t(null,e)},error:t})}})},_dispose:function S(){this.resetCommentsViews();this._super()}},{createPost:function w(e,t){t=t||{};var n=new r({create:true,model:e});n.prepare();i.controller.loadScreen({isDynamic:true,fullScreen:true,primary:{view:l,context:n,headerConfig:{title:t.editedFieldName,save:true,saveLabel:"LBL_COMMENT",cancel:true,btnsLong:true}}});var a=function s(){e.off("save");i.controller.goBack()};e.on("save",function o(){var n=e.get("value");if(!n){a();return}var r=(new Date).getTime().toString();i.overlay.show(r);e.set("data",{value:n,tags:e.get("tags")},{silent:true});t.savePost(function s(e){i.overlay.hide(r);!e&&a()})})}});i.nomad.registerComponent({baseType:"list",module:"Activities",cmp:u});i.nomad.registerComponent({baseType:"activitystream-dashlet",cmp:u});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(28);var s=r.declareComponent(a,{template:"donutchart",initialize:function o(e){this.metricsCollection=null;this.total=0;this._super(e);this._prepareChartObject()},render:function l(){this._super();if(this.hasChartData()){this.renderChart();this.toggleDashletSwipe()}else{this.displayNoData(true)}},hasChartData:function u(){return this.total!==0},displayNoData:function c(e){this.$chartEl.toggleElement(!e);this.$dataUnavailableLbl.showElement(e)},processData:function d(e){this.evaluateResult(e);this.render()},_prepareChartObject:function f(){this.chart=nv.models.pieChart().x(function(e){return e.key}).y(function(e){return e.value}).margin({top:0,right:0,bottom:5,left:0}).donut(true).donutLabelsOutside(true).donutRatio(.447).rotateDegrees(0).arcDegrees(360).maxRadius(110).hole(this.total).showTitle(false).tooltips(true).showLegend(false).colorData("data").direction(i.lang.direction).valueFormat(_.bind(function(e){return this._valueFormat(e)},this)).labelFormat(_.bind(function(e){return this._labelFormat(e)},this)).tooltipContent(function(e,t,n,i,r){return"<p><b>"+e+" "+(i.point.valueLabel?i.point.valueLabel:parseInt(n,10))+"</b></p>"}).strings({noData:i.lang.get("LBL_CHART_NO_DATA")})},renderChart:function h(){if(!this._super()){this.displayNoData(true);return}this.chart.hole(this.total);d3.select(this.el).select(".nv-chart-donut").append("svg").datum(this.chartData).transition().duration(500).call(this.chart)},_valueFormat:function p(e){var t=e.data?this.chart.pie.y()(e.data):e;return nv.utils.numberFormatSI(t,2,false)},_labelFormat:function m(e){var t=e.data?this.chart.pie.x()(e.data):e;return t}});i.nomad.registerComponent({baseType:"donutchart",cmp:s});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(35);var s=r.declareComponent(a,{className:"tabbed__dashlet",dashletParams:null,_defaultTabStorageKey:"dashboards:{0}:dashlets:{1}:default_tab_id",_extraFields:{"planned-activities":["assigned_user_id","assigned_user_name"],"inactive-tasks":["assigned_user_id","assigned_user_name"]},viewSwitcher:a.SwitcherTypes.TABS,initialize:function o(e){this.activeTabStorageKey=i.utils.formatString(this._defaultTabStorageKey,[e.dashboardId,e.meta.view.type]);this._super(e)},getViewDefs:function l(e){this.dashletParams.tabs=_.select(this.dashletParams.tabs,function(e){return r.utils.isAccessibleModule(e.module,"list")});var t=_.map(this.dashletParams.tabs,function(t,n){var r=_.pluck(i.metadata.getModule(t.module,"views").list.meta.panels[0].fields,"name");var a=this._extraFields[e.meta.view.type]||[];t.display_columns=_.union(r,a);t.filters=this.adjustFilters(t.filters);var s=this.getListViewDef(t,{contextMenuOnSwipeDisabled:this.contextMenuOnSwipeDisabled,parentModel:this.options.parentModel,listParams:{limit:e.meta.view.limit}});s.viewId=n;return s},this);return t},getListViewDef:function u(e,t){var n=this._super(e,t);n.listViewId=[this.options.dashboardId,this.options.dashletId,_.indexOf(this.dashletParams.tabs,e)].join("_");n.title=i.lang.get(e.label)||r.getPluralModuleName(e.module);return n},createView:function c(e){var t=this._super(e);var n=_.bind(this._updateTabInfo,this,t);t.listenTo(t.collection,"sync",n);t.listenTo(t.collection,"remove",n);return t},switchView:function d(e){this._super(e);this.saveState();this._gaHandler()},_getListLoadParams:function f(e,t){var n=this.getViewIndex(e);var r=this.getFilters();var a=this.dashletParams.tabs[n];var s=i.metadata.getModule(a.module).mergedFields;if(a.order_by){var o=a.order_by.split(":");e.collection.orderBy={field:o[0],direction:o[1]}}e.collection.filterDef=r[n];return _.extend({},t,{fields:s,limit:this.options.meta.view.limit})},_updateTabInfo:function h(e){var t=e.collection;var n=e.collection.length;var i=this.getViewIndex(e);if(!(t.next_offset===-1||_.isUndefined(t.next_offset))){n+="+"}if(this.viewSwitcher){this.viewSwitcher.updateSubtext(i,n)}},adjustFilters:function p(e){var t=new Date;t.setHours(23,59,59);t.toISOString();if(e.date_due){_.each(e.date_due,function(n,i){if(n==="today"){e.date_due[i]=t}})}return e},getFilters:function m(){this._super();var e=[];_.each(this.dashletParams.tabs,function(t,n){var r=e[n]=[];Array.prototype.push.apply(r,this.getCollectionFilters(t));_.each(this.viewState.filters.attributes,function(e,t){var a={};var s;var o=parseInt(e,10);if(isNaN(o)){o=0}s=i.date().subtract("days",o).format("YYYY-MM-DD");a[this.dashletParams.tabs[n].filter_applied_to]=t==="date"&&e==="today"?{$lte:s}:{$gt:s};r.push(a)},this)},this);return e},getCollectionFilters:function g(e){var t=[];_.each(e.filters,function(e,n){var i={};i[n]=e;t.push(i)});if((e.module==="Meetings"||e.module==="Calls")&&this.viewState.visibility==="user"){t.push({$or:[{assigned_user_id:i.user.id},{"users.id":i.user.id}]})}else if(this.viewState.visibility==="user"){t.push({assigned_user_id:i.user.id})}return t},_gaHandler:function v(){if(!i.config.analytics.enabled){return}var e=this.activeIndex;var t=this.meta.view.type;var n;var r=this.options&&this.options.parentModel?this.options.parentModel.module:null;var a=r?["record-dashlet",r,t]:["dashlet",t];switch(t){case"casessummary":case"inactive-tasks":case"active-tasks":n=e;break;default:n=this.dashletParams.tabs[e].module;break}a.push(n);i.analytics.setActiveView({view:a.join("/")})}});i.nomad.registerComponent({baseType:"tabbed-list-view-dashlet",cmp:s});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(4);var o=r.declareComponent(s,{events:function l(){var l={"focusout input":"onBlur"};if(i.isNative&&!o.nativeSupport){l["click input"]="onClick"}var e=$.os.desktop?"click":"touchstart";l[e+" .clear-button"]="onClear";return l},validDateRE:/^\d{4}-\d{2}-\d{2}$/,ONCLICK_BLOCKER_TIMEOUT:2e3,initialize:function u(e){this._super(e);if(!o._dateFormat){o.initFormat()}this.setFormatting()},onBeforeRender:function c(){this._super();this.setDefaultValue();this.setClearButtonVisibility()},onAfterRender:function d(){this._super();this.$placeholder=this.$el.find(".placeholder").eq(0);this.setControls();this.toggleControls()},bindDomChange:function f(){if(!this.model){return}this.setInputs();if(o.nativeSupport){this.dateInput.on($.browser.chromeWeb?"change":"blur",_.bind(this.handleValueChange,this))}},format:function h(e){if(_.isEmpty(e)||this.isFormView()&&o.nativeSupport&&!this.isDisabled()){if(e&&!this.validDateRE.test(e)){var t=new Date(e);e=i.date.format(t,"Y-m-d")}return e}var n=new Date(e);if(isNaN(n.getDate())){n=i.date.parse(e,"Y-m-d")}var r=$.os.android&&$.os.version&&i.utils.versionCompare("4.1",$.os.version,">=");var a=i.isNative&&r?0:n.getTimezoneOffset()*6e4;var s=new Date(n.getTime()+a);return i.date.format(s,o._dateFormat)},unformat:function p(e){var t;if(_.isEmpty(e)||o.nativeSupport&&this.isFormView()){return e}t=i.date.parse(e,o._dateFormat);return t?i.date.format(t,"Y-m-d"):null},setInputs:function m(){this.dateInput=this.$el.find("input");this.inputs=this.dateInput},onClick:function g(e){if(this.isOnClickLocked())return;this.setOnClickBlocker();this.showDatePicker(e)},onBlur:function v(){this.toggleControls()},onClear:function b(e){this.setChanged();if(!o.nativeSupport&&$.os.android){this.setOnClickBlocker(500)}this.model.set(this.name,"");return false},setFormatting:function y(){this.shouldFormatValues=!o.nativeSupport&&this.isFormView()},setDefaultValue:function x(){if(this.context.isCreate()&&!this.getValue()&&this.def.display_default&&!this._changed){var e=i.date.parseDisplayDefault(this.def.display_default);this.model.set(this.name,this._adjustDefaultValue(e),{silent:true})}},_adjustDefaultValue:function S(e){return i.date.format(e,"Y-m-d")},getDateInputValue:function w(){var e=this.dateInput.val();if(e&&this.shouldFormatValues){var t=i.date.parse(e,o._dateFormat);e=i.date.format(t,"Y-m-d")}return e},setDateInputValue:function L(e){if(e&&this.shouldFormatValues){var t=i.date.parse(e,"Y-m-d");e=i.date.format(t,o._dateFormat)}this.dateInput.val(e)},setClearButtonVisibility:function E(){this.showClearButton=!this.def.required&&!_.isEmpty(this.getValue())},setControls:function k(){this.input=this.$el.find("input");this.$clearButton=this.$el.find(".clear-button")},toggleControls:function A(){var e=_.isEmpty(this.getValue());this.input.toggleClass("empty",Boolean(e));this.$clearButton.toggleElement(Boolean(!this.def.required&&!e));if(this.def.required&&this.$placeholder){this.$placeholder.toggleElement(e)}},setChanged:function M(){this._changed=true},getValue:function T(){return this.model.get(this.name)},handleValueChange:function C(e){this.setChanged();this.model.set(this.name,this.unformat(this.getDateInputValue()),{disableRenderForContext:this.view});this.toggleControls()},showDatePicker:function R(e){var t=this.unformat(this.value)||"";if(o.ios7){var n=new Date;if(t){var s=i.date.parse(t,"Y-m-d");if(r.utils.isValidDate(s)){n=s}}var l={date:n,mode:"date"};this._setPopoverCoordinates(l,e);var u=i.date.format(l.date,"Y-m-d");this.setDateInputValue(u);this.model.set(this.name,u);this.toggleControls();window.datePicker.show(l,_.bind(function c(e){this.clearOnClickBlocker();if(!e)return;var t=i.date.format(e,"Y-m-d");this.model.set(this.name,t)},this));return}a.showDateTimePicker(t,{callback:_.bind(function(e){this.clearOnClickBlocker();this.model.set(this.name,e)},this)})},_setPopoverCoordinates:function D(e,t){var n=t.screenX;var i=t.screenY;var r=document.body.scrollTop;if(i-r<250){i+=30}i-=r;e.x=String(n);e.y=String(i)},isFormView:function I(){return _.contains(["create","edit"],this.view.action)},isOnClickLocked:function O(){return o._onClickBlocker},setOnClickBlocker:function N(e){o._onClickBlocker=window.setTimeout(_.bind(this.clearOnClickBlocker,this),e||this.ONCLICK_BLOCKER_TIMEOUT)},clearOnClickBlocker:function F(){window.clearTimeout(o._onClickBlocker);o._onClickBlocker=false},_dispose:function B(){this.clearOnClickBlocker();this.$clearButton&&this.$clearButton.off();this._super()}},{initFormat:function U(){o._dateFormat=i.user.getPreference("datepref")||"Y-m-d"},setNativeSupport:function P(){this.nativeSupport=$.os.ios||$.browser.chromeWeb||!$.os.ios&&!$.os.android&&$.browser.webkit||false;this.ios7=$.os.ios&&$.os.version&&($.os.version[0]==="7"||i.utils.versionCompare($.os.version,"8",">=")&&$.os.tablet);if(this.ios7&&i.isNative&&this.iosDatePickerPlugin){this.nativeSupport=false}},iosDatePickerPlugin:true});i.events.on("app:sync:complete",function(){o.initFormat()}).on("app:init",function(){o.setNativeSupport()});i.nomad.registerComponent({cmp:o,baseType:"date"});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=n(5);var o=false;var l=e.exports=r.declareComponent(a,{events:{"click .input_upload":"_onInputClick","click .file-remove":"_onClearClick","change .input_upload":"_onFileSelected"},supportedTypes:["*/*"],_fileType:null,_fileIsTooBigMessage:"9f2e903a-5bd9-4c8f-a822-83c125c43e5f",_nativeFileImportProcessed:false,_fileErrorCodesToStrings:{1:"ERR_MOBILE_FILE_NOT_SUPPORTED",2:"ERR_MOBILE_FILE_NOT_READABLE",3:"ERR_MOBILE_FILE_ABORTED",4:"ERR_MOBILE_FILE_SECURITY"},initialize:function u(e){this.inputAccept=this.supportedTypes.join(",");this._super(e)},onAfterRender:function c(){this._super();this._dirty=false;this.$fileInput=this.$el.find(".input_upload");this.$fileRemoveBtn=this.$el.find(".file-remove");if(this.def.required){this.$fileRemoveBtn.hideElement()}var e=this.value=this.model.get(this.name);this.$el.attr("file-id",e||"")},bindDomChange:function d(){return},_onInputClick:function f(e){if(!i.acl.hasAccessToModel("edit",this.model,this.name)){e.preventDefault();e.stopPropagation()}},_onFileSelected:function h(){if(this.$fileInput[0].files.length===0){return}var e=this.$fileInput[0].files[0].type;this._fileType=this._getFileType(e);if(e&&!this._fileType){this.trigger("file:field:change",i.lang.get("ERR_MOBILE_FILE_NOT_SUPPORTED"),"error");return}this._dirty=true;this.prepareFile()},_onClearClick:function p(){this._changeFieldState();this._dirty=true;this.trigger("file:field:clear")},prepareFile:function m(){this.trigger("file:field:change",this.$fileInput,"preparing");var e=[_.bind(this._readFileData,this)];if(this._fileType==="image"){e.push(_.bind(this._resizeImage,this))}async.series(e,_.bind(function t(e){if(!e){this.$fileInput.fieldName=this.name;this._changeFieldState(true);this.trigger("file:field:change",this.$fileInput,"prepared")}else{this.trigger("file:field:change",e.message||i.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}},this))},_changeFieldState:function g(e){if(e){if(!this.def.required){this.$fileRemoveBtn.showElement()}this.$el.find(".picture-icon").hideElement();this.$el.find(".value").text(this.$fileInput.fileData.name);this.$el.find(".placeholder").hideElement()}else{this.$fileRemoveBtn.hideElement();this.$el.find(".picture-icon").showElement();this.$el.find(".value").text("");this.$el.find(".placeholder").showElement();this._resetField()}},_readFileData:function v(e){var t=this.$fileInput[0].files[0];if(t){var n=this;var a=new FileReader;var s=this._binaryToDataUri;a.onload=function(i){n.$fileInput.fileData={name:t.name,size:t.size,type:t.type,binary:i.target.result,dataURI:s(i.target.result,t.type)};if($.os.ios){n.$fileInput.fileData.name=n._getUniqFileName(t.name)}try{n._setImageOrientation(i.target.result,t.name)}catch(r){}finally{e()}};a.onerror=function(t){var r=t.target.error;e({message:i.lang.get(n._fileErrorCodesToStrings[r.code]||"ERR_MOBILE_FILE_READ")});i.logger.error("Failed to read file: ["+r.code+"]")};if(t.size>i.config.files.fileSizeLimit*1024*1024||t.name===n._fileIsTooBigMessage){return e({message:i.lang.get("ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED",null,{size:r.utils.humanFileSize(i.config.files.fileSizeLimit*1024*1024,true)})})}a.readAsBinaryString(t)}else{e({message:"No file selected"})}},_resizeImage:function b(e){var t=new Image;var n=this;var r=false;t.onload=function(){r=true;var t=n._resizeWithCanvas(this);if(t.split(",")[1].length===0){e({message:"Image resizing failed (Failed to render to canvas)"});return}function i(){n.$fileInput.fileData.type=t.split(",")[0].split(";")[0].split(":")[1];n.$fileInput.fileData.dataURI=t;n.$fileInput.fileData.binary=n._dataUriToBinary(t);e()}if(o){$(n._canvas).css({position:"fixed",top:200,left:0,border:"2px red solid",zIndex:999999999}).appendTo("body").on("click",function(){$(n._canvas).remove();i()})}else{i()}};t.src=this.$fileInput.fileData.dataURI;_.delay(function a(){if(!r){e({message:"Image resizing failed (Failed to load file as image)"})}},i.config.files.imageResizeTimeout)},_resizeWithCanvas:function y(e){var t=$.os.ios?this._iosRenderWithCanvas:this._commonRenderWithCanvas;var n=document.createElement("canvas");n.width=e.naturalWidth;n.height=e.naturalHeight;return t.call(this,e,n,{width:e.naturalWidth,height:e.naturalHeight,orientation:this.$fileInput.fileData?this.$fileInput.fileData.orientation:1})},_iosRenderWithCanvas:function x(e,t,n){var r=new MegaPixImage(e);var a={maxWidth:n.width,maxHeight:n.height,orientation:n.orientation};if(n.width*n.height>i.config.files.iosCanvasSizeLimit*1024*1024){_.extend(a,this._scaleImage(n))}r.render(t,a);return t.toDataURL("image/jpeg")},_scaleImage:function S(e){var t=e.width/e.height;var n=i.config.files.iosCanvasSizeLimit*1024*1024;var r;var a;r=Math.sqrt(n/t);a=r*t;return{maxHeight:Math.floor(r),maxWidth:Math.floor(a)}},_commonRenderWithCanvas:function w(e,t,n){var i=t.getContext("2d");i.clearRect(0,0,n.width,n.height);function r(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n;e.height=t;break;default:e.width=t;e.height=n}var r=e.getContext("2d");switch(i){case 2:r.translate(t,0);r.scale(-1,1);break;case 3:r.translate(t,n);r.rotate(Math.PI);break;case 4:r.translate(0,n);r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI);r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI);r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI);r.translate(t,-n);r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI);r.translate(-t,0);break;default:break}}if(n.orientation){r(t,n.width,n.height,n.orientation)}i.drawImage(e,0,0,n.width,n.height);return this._getJpegImage(t)},_getJpegImage:function L(e){var t;if(!i.supportedFeatures.canvasJpegEncoding){var n=new JPEGEncoder;var r=e.getContext("2d");var a=r.getImageData(0,0,e.width,e.height);t=n.encode(a,i.config.files.jpegEncoderQuality)}else{t=e.toDataURL("image/jpeg",i.config.files.jpegEncoderQuality/100)}return t},_setImageOrientation:function E(e,t){var n=new JpegMeta.JpegFile(e,t);var r;var a=this;if(!("tiff"in n)){r="No TIFF tags in image"}else if(!("Orientation"in n.tiff)){r='No "Orientation" tag in image'}else{a.$fileInput.fileData.orientation=parseInt(n.tiff.Orientation,10);r="Orientation tag: "+n.tiff.Orientation}if(o){i.alert.show("orientation info",{level:"info",messages:r,closeable:true,autoClose:true})}},_binaryToDataUri:function k(e,t){return"data:"+t+";base64,"+window.btoa(e)},_dataUriToBinary:function A(e){return window.atob(e.split(",")[1])},_getFileType:function M(e){var t=e.split("/");var n=_.find(this.supportedTypes,function(e){var n=e.split("/");return _.every(n,function(e,n){return e==="*"||e===t[n]})});if(n){return n.split("/")[0]}},_getUniqFileName:function T(e){var t=e.match(/.*(\..+)$/i);t=t===null?"":t[1];var n=e.match(/^(.+)\./i);n=n===null?e:n[1];return n+"_"+ +new Date+t},_resetField:function C(){this.$fileInput.replaceWith(this.$fileInput.clone());this.$fileInput=this.$(".input_upload")},_removeImportedFile:function R(e){var t=e.filename;if(t){s.removeCachedDoc([{filename:t}])}},onImportNativeDocument:function D(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!i.acl.hasAccessToModel("edit",this.model,this.name)||!e.fileUrl||!e.fileMimeType){this._removeImportedFile(e);return}var t=e.fileMimeType;this._fileType=this._getFileType(t);if(t&&!this._fileType){this.trigger("file:field:change",i.lang.get("ERR_MOBILE_FILE_NOT_SUPPORTED"),"error");this._removeImportedFile(e);return}this._dirty=true;this.prepareNativeFile(e)},prepareNativeFile:function I(e){var t=this;this.trigger("file:field:change",this.$fileInput,"preparing");var n=[_.bind(this._readNativeFileData,this,e)];if(this._fileType==="image"){n.push(_.bind(this._resizeImage,this))}async.series(n,function(n){if(!n){t.$fileInput.fieldName=t.name;t._changeFieldState(true);t.trigger("file:field:change",t.$fileInput,"prepared")}else{t.model.set(t.name,"");t.trigger("file:field:change",n.message||i.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}t._removeImportedFile(e)})},_readNativeFileData:function O(e,t){var n=this;if(e.fileSize>i.config.files.fileSizeLimit*1024*1024||e.name===this._fileIsTooBigMessage){return t({message:i.lang.get("ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED",null,{size:r.utils.humanFileSize(i.config.files.fileSizeLimit*1024*1024,true)})})}this.readFileAsBinaryString(e.fileUrl,function(r,a){if(r){t({message:i.lang.get(n._fileErrorCodesToStrings[r.code]||"ERR_MOBILE_FILE_READ")});i.logger.error("Failed to read file: ["+r.code+"]")}else{n.$fileInput.fileData={name:e.fileName,size:e.fileSize,type:e.fileMimeType,binary:a,dataURI:n._binaryToDataUri(a,e.fileMimeType)};if($.os.ios){n.$fileInput.fileData.name=n._getUniqFileName(e.fileName)}try{n._setImageOrientation(a,e.fileName)}catch(s){}finally{t()}}})},readFileAsBinaryString:function N(e,t){var n=function i(e){e.file(function(e){var n=new FileReader;n.onloadend=function(e){t(null,e.target.result)};n.onerror=function(e){t(e.target.error)};n.readAsBinaryString(e)})};window.resolveLocalFileSystemURL(e,n,t)}});i.nomad.registerComponent({cmp:l,baseType:"file"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(6);var s=n(4);var o=n(317);var l=e.exports=r.declareComponent(s,{fieldTag:"textarea",events:{"click .field--textarea":"onClick","click .field-detail--textarea":"toggleTextarea"},onClick:function u(e){if(_.isEmpty(this.value)&&this.isDisabled()){return}var t=this.getContext();var n=this.getLayoutDef(t);this.show(n)},getContext:function c(){var e=new a({create:true,parentModel:this.model,fieldName:this.def.name});e.prepare();return e},getLayoutDef:function d(e){var t=this.isDisabled()||this.action==="detail";return{className:"textarea",gaTrack:"textarea",views:[o],context:e,isReadOnly:t,headerConfig:{title:this.label,save:!t,saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true}}},show:function f(e){var t=i.controller._loadScreen({isDynamic:true,layouts:e})[0];var n=t.getComponent(o);n.setValue(this.model.get(this.name)||"")},toggleTextarea:function h(e){$(e.currentTarget).toggleClass("field-detail--expanded")}});i.nomad.registerComponent({cmp:l,baseType:"textarea"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(4);var o=e.exports=r.declareComponent(s,{regexp:/^(https?:\/\/)?[\w-]+(\.[\w-]+)+([\w\s.,@?^=%&amp;:\/~+#-]*)?$/,events:{"click .field-detail__value a":"openUrl"},unformat:function l(e){var t="://";var n=e;e=$.trim(e);if(e.indexOf(t)>-1){n=e.split(t)[1];if(!n)return""}return e},openUrl:function u(){a.openUrl(this.model.get(this.name),{encode:true})}});i.nomad.registerComponent({cmp:o,baseType:"url"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(12);var a=i.view.NomadLayout=i.nomad.declareComponent({parent:i.view.Layout},{initialize:function s(e){e.meta=e.meta||{};delete e.className;this._super(e);var t=this.prepareComponents(e);t=this.initComponents(t);var n=this.module||this.context&&this.context.get("module");var i=n?"layout__"+n:"";var a=this._getLayoutTypeCss(e);var s=!_.isEmpty(this.options.link);this.$el.addClass(i+" "+a+" layout__def"+(s?" related":""));if(t.length===1&&t[0]instanceof r){e.subType="selector"}if(e.subType){this.$el.attr("layout-name",e.subType)}_.each(t,function(e){this.listenTo(e,"component:action",function(t){this.handleComponentAction(e,t)})},this)},_getLayoutTypeCss:function o(e){var t=void 0;if(e.baseType){t=e.baseType}else{var n=_.first(e.views);if(n){t=n.prototype._stringType}}if(_.contains(["selection-list","filtered-list"],t)){t="list"}return t?"layout__"+t:""},prepareComponents:function l(e){var t=e.views;var n=void 0;if(t){if(!_.isArray(t)){t=[t]}n=_.map(t,function(e){return{view:{name:e}}})}return n},getComponent:function u(e){if(_.isFunction(e)){return _.find(this._components,function(t){return t instanceof e})}else{return this._super(e)}},bindGlobalEvents:function c(){_.invoke(this._components,"bindGlobalEvents")},unbindGlobalEvents:function d(){_.invoke(this._components,"unbindGlobalEvents")},onDetachFromDom:function f(){this.unbindGlobalEvents();_.invoke(this._components,"onDetachFromDom")},onAppResume:function h(){_.invoke(this._components,"onAppResume")},onAppPause:function p(){_.invoke(this._components,"onAppPause")},render:function m(e){var t=this;this._prepareBodyScroll();e=e||{animation:{enabled:false}};this._handleRenderWithAnimation(function(){i.view.Layout.prototype.render.apply(t,arguments)},e)},renderFromCache:function g(e){var t=this;this._prepareBodyScroll();this.$el.showElement();this._handleRenderWithAnimation(function(){_.each(t._components,function(e){_.each(e.fields,function(e){if(e.cacheDisabled===true||e.hasAccess!==e.getAccess()){e.render()}})})},e)},loadData:function v(e){if(this.disposed){return}_.find(this._components,function(t){if(t.name!=="header"){t.loadData(e);return true}})},loadDataPartial:function b(e){_.each(this._components,function(t){var n=t.options.meta&&t.options.meta.partialLoadEnabled;if(n){t.loadData(e)}})},onAfterShow:function y(){var e=_.getNested(this.constructor,"config.header.buttons.save");if(!_.isUndefined(e)&&this._header){this._header.setButtonVisible({save:e})}this.bindGlobalEvents();_.invoke(this._components,"onAfterShow")},getDefinition:function x(){return this.options.def},getOverlay$El:function S(){var e=this.getDefinition().appendTo.el.find(".background");return e.length?e:null},getDataById:function w(e){if(this.model.id===e){return this.model.toJSON()}else if(this.collection&&this.collection.get(e)){return this.collection.get(e).toJSON()}else return null},_handleRenderWithAnimation:function L(e,t){var n=this.getOverlay$El();if(t.animation.enabled&&n){n.showElement();e();_.delay(function(){n.animate({opacity:0},{duration:t.animation.animationLength,
complete:function e(){n.hideElement();n.css("opacity",1)}})},t.animation.preAnimationDelay)}else{e();if(n){n.hideElement()}}},_prepareBodyScroll:function E(){if(i.isBodyScrollRequired){var e=_.find(this._components,function(e){return e._bodyScroll});if(e){$("html").addClass((this.module==="Login"?"loginView":"")+" bodyScroll");_.defer(function(){document.body.scrollTop=0})}else{$("html").removeClass("bodyScroll loginView");var t=$("#alerts");t.remove();_.defer(function(){document.body.scrollTop=0;$("#nomad").append(t)})}}},_dispose:function k(){if(this.model){this.stopListening(this.model)}this.$el.off();i.view.Layout.prototype._dispose.call(this)},onBeforeLeave:function A(e){var t=_.chain(this._components).filter(function(e){return!!e.onBeforeLeave}).map(function(e){return function(t){e.onBeforeLeave({callback:function n(e){t(e&&e.cancel,e)}})}}).value();async.parallel(t,function(t){e.callback({cancel:t})})},handleComponentAction:function M(e,t){var n=i.nomad.utils.buildActionHandlerName(t.name);var r=this[n];var a;if(_.isFunction(r)){a=r.call(this,t.options)}if(!a){_.each(this._components,function(i){if(i!==e){i.handleComponentAction(n,t.options)}});if(_.isFunction(i.controller[n])){i.controller[n](t)}}},createComponentFromDef:function T(e,t,n){if(!(e.view&&_.isFunction(e.view.name))){return this._super(e,t,n)}t=t||this.context;n=n||this.module;if(e.context){if(e.context instanceof i.Context){t=e.context}else{t=t.getChildContext(e.context);t.prepare()}n=t.get("module")}var r=_.extend({},this.options,{context:t,module:n,def:e,loadModule:e.loadModule,type:e.view.type,name:e.view.name,primary:e.view.primary,layout:this});delete r.meta;if(this.options.initOptions){_.extend(r,this.options.initOptions)}return i.view.createView(r)}});e.exports=a},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(18);var a="offline:bulkload:core:cache";var s=function l(){var e=i.cache.get(a)||{};_.extend(this,e)};s.prototype.save=function(){i.cache.set(a,this)};var o=e.exports={error412Handler:null,_status:{working:false,module:null,bucketName:null,count:0},cache:null,init:function u(){this.cache=new s;this.error412Handler=i.error.handleStatusCodesFallback.bind(i.error);if(_.isEmpty(this.cache)){this._initCacheValues()}},uninit:function c(){this.stop()},queueBuckets:function d(e){var t=this;e=_.isArray(e)?e:[e];if(!e.length){return}_.each(e,function(e){t.cache.queue.push(e);if(!_.contains(t.cache.queuedBuckets,e.name)){t.cache.queuedBuckets.push(e.name)}});this.cache.save()},start:function f(){if(this._status.working||!this.cache.queue.length){return}this._status.working=true;if(!this._loading){this._load()}},_stopCallback:null,stop:function h(){var e=this,t=arguments;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){};var a=function s(){i.events.trigger("offline:bulkload:progress",r.ProgressEventType.STOP);n.apply(e,t)};this._status.working=false;if(this._loading){this._stopCallback=a}else{a()}},_initCacheValues:function p(){this.cache.queue=[];this.cache.queuedBuckets=[];this.cache.status={};this.cache.pausedByUser=false;this.cache.lastCompletedTs=null;this.cache.save()},clearCache:function m(){i.cache.cut(a);if(this.cache){this._initCacheValues()}},resetModulesStatus:function g(){this.cache.status={};this.cache.save()},_loading:false,_load:function v(){var e=this;this._loading=true;var t=false;async.whilst(function(){if(e._status.working&&e.cache.queue.length){!t&&i.events.trigger("offline:bulkload:progress",r.ProgressEventType.START);t=true;return true}},function(t){e._loadNextModule(t)},function(t){var n=e.cache.queue.length===0;var a=e._status.bucketName;e._loading=false;if(e._stopCallback){e._stopCallback();e._stopCallback=null}e._status={working:false,module:null,count:0};if(n){e.cache.lastCompletedTs=i.utils.getTimestamp();e.cache.save();i.events.trigger("offline:bulkload:progress",r.ProgressEventType.COMPLETE,a)}})},_loadNextModule:function b(e){var t=this.cache.queue;var n=t[0];if(n){var i=n.modules[0];this._status.bucketName=n.name;this._processModule(i,function(t){e()})}else{e()}},_processModule:function y(e,t){var n=this;var a=e.name;if(!this.cache.status[a]){this.cache.status[a]={status:r.ModuleStatus.IN_PROGRESS,currentCount:0,serverOffset:0,gtFilterTimestamp:null}}this.cache.status[a].status=r.ModuleStatus.IN_PROGRESS;this.cache.save();this._status.module=a;this._status.count=this.cache.status[a].currentCount;async.whilst(function(){return n._status.working&&_.getNested(n.cache.status,a+".status")===r.ModuleStatus.IN_PROGRESS},function(t){_.delay(function(){var i=e.name;var r=n.cache.status[i];if(n._status.working&&r){n._fetchAndSaveNextPage(e,t)}else{t()}},i.config.offline.bulkLoad.requestDelay)},t)},_fetchAndSaveNextPage:function x(e,t){var n=this;var a=e.name;var s=this.cache.status[a];var o=i.metadata.getModule(a);if(!o){this._onPageComplete(new Error("Module meta of '"+a+"' is empty."),e,null,t);return}var l=e.filter||[];if(s.gtFilterTimestamp){l.push({date_modified:{$gt:new Date(s.gtFilterTimestamp).toISOString()}})}var u=s.serverOffset||0;var c={fields:i.metadata.getModule(a,"mergedFields").join(),max_num:e.pageSize,order_by:"date_modified:desc",filter:l,offset:u,e2e_skip:i.config.scheme==="e2e"};i.events.trigger("offline:bulkload:progress",r.ProgressEventType.PAGE_START);i.offline.api.callOriginalApi("records",["read",a,null,c,{success:function d(r){var a=r.records;if(a.length){if(u===0){s.firstRecordTimestamp=r.records[0].date_modified;n.cache.save()}i.offline.storage.saveRecords({module:e.name,serverData:a,backgroundMode:true,callback:function o(i){n._onPageComplete(i,e,r,t)}})}else{n._onPageComplete(null,e,r,t)}},error:function f(i){n._onPageComplete(i,e,null,t)}}])},_pageRetryCount:0,_retriesLim:3,_onPageComplete:function S(e,t,n,a){var s=t.name;var o=this.cache.status[s];var l=true;if(e){if(e instanceof i.offline.Error){if(e===i.offline.Error.OfflineDisabledError){this.stop()}else{i.logger.error("Bulk Loader ("+s+"): Failed to save records to database. "+e);o.status=r.ModuleStatus.OFFLINE_ERROR+".Code:"+e.code;o.currentCount=0;this._shiftQueue()}}else if(e.status===412){this.stop();i.logger.debug("Bulk Loader ("+s+"): metadata change detected. Invoking default handler.");this.error412Handler(e)}else{if(i.utils.isConnectivityError(e)&&this._pageRetryCount<this._retriesLim){i.logger.debug("Bulk Loader("+s+"): Server connectivity error. Retrying.");this._pageRetryCount++;l=false}else{var u=_.isUndefined(e.status)?r.ModuleStatus.UNKNOWN_ERROR:e.status;i.logger.error("Bulk Loader ("+s+"): Server error - "+u);o.status=u;o.currentCount=0;this._shiftQueue()}}}else{i.events.trigger("offline:bulkload:progress",r.ProgressEventType.PAGE_FINISH,{module:s});var c=n.records.length;if(c){o.currentCount+=c;o.serverOffset+=c;this._status.count=o.currentCount;this.cache.save()}if(n.next_offset===-1||o.currentCount>=t.limit){o.status=200;o.currentCount=0;if(n.next_offset===-1&&o.firstRecordTimestamp){o.gtFilterTimestamp=i.utils.getTimestamp(o.firstRecordTimestamp);o.serverOffset=0}o.firstRecordTimestamp=null;this._shiftQueue()}}if(l){this._pageRetryCount=0}a(e)},_shiftQueue:function w(){this.cache.queue[0].modules.shift();if(this.cache.queue[0].modules.length===0){this.cache.queue.shift()}this.cache.save()}};i.offline.syncManager.bulkLoader=o},function(e,t,n){"use strict";var i="db_cleanup";var r=SUGAR.App;e.exports={_working:false,_offlineConfirmedCacheKey:"offline:cleanup:confirmed",cleanUp:function a(e){var t=this;if(this._working){return Promise.resolve()}var i=n(31);var a=r.nomad.getLastState(this._offlineConfirmedCacheKey);var s=e?Promise.resolve(e):i.getOfflineDbStats();return s.then(function(e){var n=t._getModulesToCleanUp(e);if(_.isEmpty(n)){return null}return a?t.cleanUpStorage(n):t.showCleanupAlert(n)}).catch(function(e){return r.logger.error(e.message)})},showCleanupAlert:function s(e){var t=this;var i=n(3);return new Promise(function(e){i.showAlert(r.lang.get("ERR_OFFLINE_CLEAN_UP_CONFIRMATION"),{callback:function n(i){r.nomad.setLastState(t._offlineConfirmedCacheKey,true);r.nomad.dismissAlerts();e()}})}).then(function(){return t.cleanUpStorage(e)})},_getModulesToCleanUp:function o(e){var t=[];var n=r.config.offline.dbLimits;_.each(e.count,function(e,i){if(e>(n.modules[i]||n.default)){t.push({moduleName:i,recordsCount:e})}});return t},cleanUpStorage:function l(e){var t=this;return new Promise(function(n,a){var s=(new Date).getTime();var o=1e3*60*60*24;var l=new Date(s-o*r.config.offline.cleanUp.defaultPurgeInterval);t._working=true;l=r.utils.getTimestamp(l);r.overlay.show("offline:cleanup");r.alert.show(i,{level:"info",messages:r.lang.get("LBL_OFFLINE_DB_CLEANING_IN_PROGRESS"),autoClose:false,closable:false});r.offline.compactStorage({expirationDate:l,modules:e,callback:function u(s){r.overlay.hide("offline:cleanup",true);r.alert.dismiss(i);r.events.trigger("offline:cleanup:completed",e);t._working=false;s?a(s):n()}})}).then(function(){r.alert.show(i,{level:"success",messages:r.lang.get("LBL_OFFLINE_DB_CLEANING_COMPLETED"),autoClose:true,closable:true})}).catch(function(e){if(e!==r.offline.Error.OfflineDisabledError){r.alert.show(i,{level:"error",messages:r.lang.get("ERR_OFFLINE_DB_CLEANING_ERROR"),autoClose:true,closable:true})}})}}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(50);var s=r.declareComponent(a,{events:function o(){var o=this._super();_.extend(o,{"click .rate-btn":"onSelect","click .submit-rate-app":"onRateAppSelect","click .cancel-rate-app":"onRateAppCancel"});return o},name:"nps-actionsheet",template:"nps-actionsheet",onRateAppSelect:function l(e){this.options.onRateAppSelect();this.remove()},onSelect:function u(e){var t=this;if(this.options.confirmVisible){return}var n=parseInt($(e.currentTarget).attr("data-index"),10)+1;this.options.onSelect({rateCount:n});if(n<i.config.nps.minRatingForStore){_.extend(this.options,{confirmVisible:true,rateCount:n});this.render();_.delay(function(){t.remove()},i.config.nps.autoCloseTimeout)}else{_.extend(this.options,{rateAppVisible:true});this.render()}},onRateAppCancel:function c(e){this.remove()}},{show:function d(e){var t=e.onSelect,n=t===undefined?_.noop:t,r=e.onRateAppSelect,a=r===undefined?_.noop:r,o=e.onCancel,l=o===undefined?_.noop:o;return new s({onSelect:n,onRateAppSelect:a,onCancel:l,rateCount:0,ratingMsg:i.lang.get("LBL_NPS_RATING_MSG",null,{productName:i.config.productName})})}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(19);var s=r.declareComponent({parent:a},{_populateParentInfo:function o(e,t,n){var r=i.acl.hasAccessToModel("edit",this.model,"parent_name");var a=i.acl.hasAccessToModel("edit",this.model,"contact_name");var s=i.metadata.getRelationship(i.metadata.getModule(t,"fields")[n].relationship)||{};if(s.via_parent_id)this._viaParent=true;if(t==="Contacts"){if(a){this.model.set({contact_id:e.id,contact_name:e.full_name||e.name});this._sendContactId=true}if(r){this.model.set({parent_id:e.account_id,parent_type:"Accounts",parent_name:e.account_name});this._sendParentId=true}}else if(r){this.model.set({parent_name:e.name,parent_id:e.id,parent_type:t});this._sendParentId=true}},save:function l(e){e=e||[];if(this._sendContactId)e.push("contact_id");this._super(e)}});i.nomad.registerComponent({cmp:s,baseType:"edit",module:"Tasks"});i.nomad.registerComponent({cmp:s,baseType:"edit",module:"Notes"});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(8);var s=r.declareComponent(a,{_stringType:"filters",template:"filters",className:"view__filters",isFilterDDOpened:false,customFilters:null,sortable:true,_cacheKey:"filters",_customFiltersSynced:false,isSortingDDOpened:false,SORT_DEFAULT:"date_modified",SORT_CHANGED_EVENT:"sort:changed",FILTER_CHANGED_EVENT:"filter:changed",events:{"click .filter__item-main a":"onFilterBtnClick","click .dropdown__filter [data-filter-id]":"onFilterClick","click .dropdown__filter .filters-reload":"onFiltersReloadClick","click .filter__item-by a":"onSortingBtnClick","click .filter__item-sort a":"onSortDirectionBtnClick","click .dropdown__sortBy [data-fieldname]":"onSortableFieldClick"},modulesCustomSortConfig:{Meetings:[{field:"date_start",direction:"asc",isDefault:true}]},initialize:function o(e){this._super(e);this.$body=$(document.body);this.cacheStore=r.stores.filters;this._persistLastState=!this._isOnStatelessLayout();this._searchMode=this._isOnSearchLayout();this._initFilters();this._initSorting()},_isOnSearchLayout:function l(){return _.contains(["Search","Recents"],this.options.module)},_isOnStatelessLayout:function u(){return this.options.subType==="selector"},_initFilters:function c(){this.unsupportedFilterIds=this._getUnsupportedFilterIds();this.compatibleFilters=this._getCompatibleFilters();this.filtersFromMetadata=this._getFiltersFromMetadata();if(i.supportedFeatures.filters&&!this._searchMode){this.customFilters=i.data.createBeanCollection("Filters");this.listenTo(this.customFilters,"data:sync:start",this.onCustomFiltersSyncStart);this.listenTo(this.customFilters,"data:sync:error",this.onCustomFiltersSyncError);this.listenTo(this.customFilters,"sync",this.onCustomFiltersSync)}this.filters=this._getAvailableFilters();this._addRecentsFilter(false)},_getUnsupportedFilterIds:function d(){var e=[];var t=i.metadata.getModule(this.options.module);if(!t.favoritesEnabled){e.push("favorites")}if(!_.getNested(t,"fields.assigned_user_id")){e.push("assigned_to_me")}return e},_getAvailableFilters:function f(){return!i.supportedFeatures.filters||this._searchMode||this._isOnSearchLayout()?this.compatibleFilters.slice():_.union(this.filtersFromMetadata,this._getFiltersFromCache())},_getCompatibleFilters:function h(){var e=this;var t=this._isOnSearchLayout()?i.lang.get("LBL_RECORDS"):r.getPluralModuleName(this.options.module);return _.reject([{id:"all_records",name:i.lang.get("LBL_LISTVIEW_FILTER_ALL",null,{module:t})},{id:"favorites",name:i.lang.get("LBL_FAVORITES_FILTER"),params:{favorites:true}},{id:"assigned_to_me",name:i.lang.get("LBL_ASSIGNED_TO_ME",null,{module:t}),params:{my_items:true}}],function(t){return _.contains(e.unsupportedFilterIds,t.id)})},_getFiltersFromMetadata:function p(){var e=this;var t=i.metadata.getModule(this.options.module,"filters");if(!_.isArray(_.getNested(t,"basic.meta.filters"))){return[]}var n=i.utils.deepCopy(t.basic.meta.filters);var a=r.getPluralModuleName(this.options.module);var s=_.getNested(this.options.def.initOptions,"initialFilter.initial_filter");n.forEach(function(t){if(t.id==="favorites"){t.name="LBL_FAVORITES_FILTER"}if(t.id===s){if(e._populateInitialFilter(t)===null){s=null}}t.name=i.lang.get(t.name,e.options.module,{module:a});if(!_.isArray(t.filter_definition)){t.filter_definition=[t.filter_definition]}});var o=s||(t.default?t.default.meta.default_filter:"all_records");n.forEach(function(e){if(e.id===o){e.active=true}});return _.reject(n,function(t){return _.contains(e.unsupportedFilterIds,t.id)||t.is_template&&t.id!==s})},_populateInitialFilter:function m(e){var t=this.options.def.initOptions.initialFilter;var n=_.clone(t.filter_populate)||{};var i=true;_.each(t.filter_relate,function(e,r){var a=t.relatedModel.get(r);i=i&&!_.isEmpty(a);n[e]={$in:[a]}});if(!i){return null}_.each(e.filter_definition,function(e){_.each(e,function(t,i){var r=_.isString(t)||_.isNumber(t);if(r){t={$equals:t}}var a=_.keys(t)[0];var s=t[a];var o=!_.isNumber(s)&&_.isEmpty(s);if(o&&!_.isUndefined(n[i])){s=n[i]}if(r){e[i]=s}else{e[i][a]=s}})});e.name=t.initial_filter_label||e.name},_getCustomFilters:function g(){var e={limit:i.config.fetchLimit.filters,params:{filter:[{created_by:i.user.get("id"),module_name:this.options.module}]}};this.customFilters.fetch(e)},_addRecentsFilter:function v(e){if(!this.filters.length||!i.supportedFeatures.filters||!this._isOnSearchLayout()||e){return}this.filters.push({id:"recently_viewed",name:i.lang.get("LBL_RECENTLY_VIEWED"),params:{recents:true}})},_initSorting:function b(){var e=this.module;var t=i.metadata.getView(e,"list").panels[0].fields;var n=i.metadata.getModule(e,"fields");var r=this.modulesCustomSortConfig[e];var a;this.sortableFields=_.chain(t).filter(function(t){return i.utils.isSortable(e,t)}).map(function(t){return{label:i.lang.get(t.label,e),name:t.name}}).value();a=[this.SORT_DEFAULT];if(r){a=_.union(a,_.pluck(r,"field"))}_.each(a,function(t){if(n[t]&&!_.findWhere(this.sortableFields,{name:t})){this.sortableFields.unshift({name:t,label:i.lang.get(n[t].vname,e)})}},this);if(!this._isSortAvailable()){this.sortable=false}else{this._setDefaultSortState()}},_isSortAvailable:function y(){return!_.isEmpty(this.sortableFields)},_setDefaultSortState:function x(){var e=i.metadata.getModule(this.module);var t=this._persistLastState&&this._getLastState().sorting;var n=e.views.list.meta.orderBy;var r=_.findWhere(this.modulesCustomSortConfig[this.module],{isDefault:true});var a=i.metadata.getModule(this.module,"fields");var s={direction:"desc"};var o=[t,n,r&&_.pick(r,"field","direction"),a[this.SORT_DEFAULT]&&{field:this.SORT_DEFAULT},{field:this.sortableFields[0].name}];_.each(o,function(e){if(e&&!s.field&&_.findWhere(this.sortableFields,{name:e.field})){_.extend(s,e)}},this);this.sortState=s},onCustomFiltersSyncStart:function S(){this.$filters.preloader.showElement();this.$filters.fetchingErr.hideElement()},onCustomFiltersSyncError:function w(){this.$filters.preloader.hideElement();this.$filters.fetchingErr.showElement()},onCustomFiltersSync:function L(e,t){var n=this.getActiveFilter();var r=[];_.each(t,function(e){if(_.isEmpty(e.filter_definition)){return}r.push({id:e.id,name:e.name,filter_definition:e.filter_definition,custom:true})});this._setFiltersToCache(r);this.filters=this._getAvailableFilters();_.each(this.filters,function(e){e.active=e.id===n.id});this._customFiltersSynced=true;this.render();i.analytics.trackEvent({category:"app",action:"custom-filter",value:this.customFilters.length})},onAfterRender:function E(){this._super();this.$overlay=this.$(".overlay-dropdown");if(this.filters.length){this.$filters={DD:this.$(".dropdown__filter"),DDItems:this.$(".dropdown__filter a"),btn:this.$(".filter__item-main a"),preloader:this.$(".filters-preloader"),fetchingErr:this.$(".filters-fetching-error")};this._setActiveFilter(this.getActiveFilter());if(this.isFilterDDOpened){this.activeUI=this.$filters}}if(this.sortable){this.$sorting={DD:this.$(".dropdown__sortBy"),DDItems:this.$(".dropdown__sortBy a"),btn:this.$(".filter__item-by a"),btnLbl:this.$(".filter__item-by .field-name"),directionBtn:this.$(".filter__item-sort")};this._setActiveSortState();if(this.isSortingDDOpened){this.activeUI=this.$sorting}}},_setActiveSortState:function k(){this._setSortField(this.sortState.field);this._setSortDirection(this.sortState.direction)},_setSortDirection:function A(e){var t=e;var n=e==="asc"?"desc":"asc";this.sortState.direction=e;this.$sorting.directionBtn.removeClass(n).addClass(t).attr("data-direction",e);this._setLastState()},_setSortField:function M(e){this.sortState.field=e;this.$sorting.DDItems.removeClass("active");this.$sorting.DDItems.filter("[data-fieldname="+e+"]").addClass("active");this.$sorting.btnLbl.text(_.findWhere(this.sortableFields,{name:e}).label);this._setLastState()},onFilterBtnClick:function T(e){this.toggleDD(this.$filters);e.stopPropagation();e.preventDefault()},onSortingBtnClick:function C(e){this.toggleDD(this.$sorting);e.stopPropagation();e.preventDefault()},onSortDirectionBtnClick:function R(){var e=this.$sorting.directionBtn.attr("data-direction")==="asc"?"desc":"asc";this._setSortDirection(e);this.trigger(this.SORT_CHANGED_EVENT,this.getPreparedState())},toggleDD:function D(e){var t=this.activeUI&&this.activeUI!==e;var n=this;var r;var a;if(t){this._closeActiveDD()}this.activeUI=e;r=this.activeUI===this.$filters;a=r?!this.isFilterDDOpened:!this.isSortingDDOpened;this.activeUI.DD.toggleElement(a);this.activeUI.btn.toggleClass("active",a);this.$overlay.toggleElement(a);if(a){if(r&&i.supportedFeatures.filters&&!this._customFiltersSynced&&!this._searchMode&&!this._isOnSearchLayout()){this._getCustomFilters();this.$filters.fetchingErr.hideElement()}this.$body.on("click.filters",function(e){if(_.isEmpty($(e.target).closest(n.activeUI.DD))){n._closeActiveDD();e.stopPropagation();e.preventDefault()}})}else{this._removeOutsideClickHandling()}if(r){this.isFilterDDOpened=!this.isFilterDDOpened}else{this.isSortingDDOpened=!this.isSortingDDOpened}},onFilterClick:function I(e){var t=$(e.currentTarget);var n=t.attr("data-filter-id");var r=this.getFilter(n);var a=this.getActiveFilter();this._closeActiveDD();if(r.id!==a.id){this._setActiveFilter(r);this.trigger(this.FILTER_CHANGED_EVENT,this.getPreparedState())}var s=r.custom?"custom":r.id;i.analytics.trackEvent({category:"filter",action:s});e.preventDefault();e.stopPropagation()},onSortableFieldClick:function O(e){var t=$(e.currentTarget);var n=t.attr("data-fieldname");this._closeActiveDD();if(n!==this.sortState.field){this._setSortField(n);this.trigger(this.SORT_CHANGED_EVENT,this.getPreparedState())}i.analytics.trackEvent({category:"sort",action:n});e.preventDefault();e.stopPropagation()},onFiltersReloadClick:function N(e){this._getCustomFilters();e.preventDefault();e.stopPropagation()},getFilter:function F(e){return _.findWhere(this.filters,{id:e})},getActiveFilter:function B(){if(!this.filters.length){return}var e=this._persistLastState&&this._getLastState();var t=e?e.filter:null;var n=[{id:t},{active:true},this._isOnSearchLayout()&&{id:"recently_viewed"},{id:"all_records"}];var i;_.each(n,function(e){i=i||_.findWhere(this.filters,e)},this);if(!i){i=this.filters[0]}return i},resetToPreviousFilter:function U(){var e=_.findWhere(this.filters,{previouslyActive:true});if(e){this._setActiveFilter(e)}},toggleSearchMode:function P(e,t){if(!this.filters.length){return}var n=this.getActiveFilter();this._searchMode=e;this.filters=this._getAvailableFilters();this._addRecentsFilter(this._searchMode);this._persistLastState=this._searchMode?false:!this._isOnStatelessLayout();this.sortable=this._searchMode?false:this._isSortAvailable();this.render();if(this._searchMode&&_.findWhere(this.filters,{id:n.id})){this._setActiveFilter(n)}if(!this._searchMode&&!t&&this.getActiveFilter().id!==n.id){this.trigger(this.FILTER_CHANGED_EVENT,this.getPreparedState())}},getPreparedState:function Y(){var e=this.getActiveFilter()||{};var t=e.params||{};var n=e.filter_definition;if(!_.isEmpty(n)){_.extend(t,{filter:n})}if(this.sortable){_.extend(t,{order_by:this.sortState.field+":"+this.sortState.direction})}return t},toggle:function H(e){this.$el.toggleClass("filters-hidden",!e)},_closeActiveDD:function G(){if(!this.activeUI){return}this.activeUI.DD.hideElement();this.activeUI.btn.removeClass("active");this.$overlay.hideElement();this._removeOutsideClickHandling();if(this.activeUI===this.$filters){this._abortPendingRequests();this.isFilterDDOpened=false}else{this.isSortingDDOpened=false}this.activeUI=null},_setActiveFilter:function V(e){this.$filters.DDItems.removeClass("active");_.each(this.filters,function(t,n){if(t.id!==e.id){t.previouslyActive=false;if(t.active){t.previouslyActive=true;t.active=false}}else{this.$filters.DDItems[n].classList.add("active");this.$filters.btn.text(t.name);this.$filters.btn.data("active-filter-id",t.id);t.active=true;this._setLastState(t.id)}},this)},_removeOutsideClickHandling:function j(){this.$body.off("click.filters")},_getStoreCacheKey:function z(){return this.options.module},_getLastStateKey:function q(){var e=i.controller.getScreenContext();var t=e.parentModule||this.options.module;var n=e.link||"";return["filters",t,n].join(":")},_setLastState:function W(e){if(!this._persistLastState){return}var t=this._getLastState()||{};if(e){t.filter=e}if(this.sortState){t.sorting=this.sortState}r.setLastState(this._getLastStateKey(),t)},_getLastState:function K(){return r.getLastState(this._getLastStateKey())||{}},_setFiltersToCache:function J(e){e=e||[];this.cacheStore.set(this._getStoreCacheKey(),JSON.stringify(e))},_getFiltersFromCache:function X(){var e=this.cacheStore.get(this._getStoreCacheKey());e=e?JSON.parse(e):[];return e},onDetachFromDom:function Z(){this._abortPendingRequests();this._super()},_abortPendingRequests:function Q(){if(this.customFilters&&this.customFilters.getFetchRequest()){this.customFilters.abortFetchRequest()}},_dispose:function ee(){this.$body.off("click.filters");this._super()}});r.registerComponent({cmp:s,baseType:"filters"});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(8);var s=n(338);var o;var l=r.declareComponent(a,{_stringType:"header",template:"header",className:"view__header",events:{"click .menuBtn":"onMenuClick","click .create-entity":"onAddClicked","click .header__btn--save":"onSaveClicked","click .header__btn--cancel":"onCancelClicked","click .backBtn":"onBackClicked","click .dashHomeBtn":"onDashboardHomeClicked","click .searchBtn":"onSearchBtnClicked","click h1":"onTitleClicked",swipeLeft:function u(e){if(r.utils.isDirectionLTR()){this.onSwipeLeft(e)}else{this.onSwipeRight(e)}},swipeRight:function c(e){if(r.utils.isDirectionLTR()){this.onSwipeRight(e)}else{this.onSwipeLeft(e)}}},buttonSelectorMap:{back:".backBtn",mainMenu:".menuBtn",search:".searchBtn",save:".header__btn--save",cancel:".header__btn--cancel",caret:".header__btn--caret",dashHome:".dashHomeBtn"},_saveBtnDisabled:false,dataContainer:null,globalEvents:{"offline:status:update":function d(e){var t=this.$el.find(".offline-icon, .offline-status");t.removeClass("status-success status-warning status-error status-default");t.addClass(r.utils.getOfflineStatusClass())},"app:orientation:changed":function f(){if(!i.isTablet)return;window.scrollTo(0,0);if(i.controller.layoutManager.getRecordLayout()){o.addClass("show-content-child")}}},offlineStatusIconPartial:"offline-status-icon",offlineStatusClass:function h(){return r.utils.getOfflineStatusClass()},initialize:function p(e){this.initHeaderActions();this._super(e);this.model=e.model||e.parentView&&e.parentView.model;this.context=e.context||e.parentView&&e.parentView.context;this.defaults={title:i.config.productName,mainMenu:true,rightMenu:true,back:false,save:false,cancel:false,dashboardHome:false};this.config=e.config;o=$(document.body);if(this.model){this.listenTo(this.model,"data:sync:error",function(e,t,n){if(_.contains([404,403],n.status)){this.$(".createBtn").hideElement()}})}},initHeaderActions:function m(){var e={click:"click",menuClick:"menu:click",save:"save:click",cancel:"cancel:click",dashboardHome:"dashboard:home:click",search:"search:click"};this.headerActions=e},onBeforeRender:function g(){this._super();if(this.config.rightMenu&&this.model&&!this.rightMenu){this.rightMenu=i.view.createView({name:s,model:this.model,viewSubType:this.options.viewSubType,parentView:this.options.parentView,headerRef:this})}this.config.isMenuButtonSupported=this._isMenuButtonSupported();this.config.ui={hasEditButton:this.config.save||this.config.cancel}},onAfterShow:function v(){this._super();if(this.rightMenu){if(this.rightMenu.isActionListAvailable()){this.rightMenu.render();if(i.isTablet){this.$rightMenu=this.$el.find(".right-menu__container_tablet")}else{this.$rightMenu=o.find("#right-menu")}this.$rightMenu.html(this.rightMenu.$el)}else if(!this.rightMenu.quickAction){this.$(".createBtn").hideElement()}}},onTitleClicked:function b(e){this._processAction(e,this.headerActions.click)},onSaveClicked:function y(e){if(!this.$(".header__btn--save").hasClass("disabled")){this._processAction(e,this.headerActions.save)}},onCancelClicked:function x(e){if(!this.$(".header__btn--cancel").hasClass("disabled")){this._processAction(e,this.headerActions.cancel)}},onDashboardHomeClicked:function S(e){this._processAction(e,this.headerActions.dashboardHome)},onSearchBtnClicked:function w(e){this._processAction(e,this.headerActions.search)},onBackClicked:function L(e){this._processAction(e,this.headerActions.cancel)},onMenuClick:function E(e){e.preventDefault();if(!this._isMenuButtonSupported()){return}this._processAction(e,this.headerActions.menuClick);r.dismissAlerts()},onSwipeLeft:function k(e){if(i.nomad.mainMenu.isOpened()){this.onMenuClick(e)}else if(!this.isRightMenuOpened()&&this.rightMenu&&!this.rightMenu.quickAction){this.onAddClicked(e)}},onSwipeRight:function A(e){if(r.getOrientation()==="landscape"&&i.isTablet){return}if(this.isRightMenuOpened()){this.onAddClicked(e);return}this.onMenuClick(e)},_processAction:function M(e,t,n){if(e){e.preventDefault()}t="header:"+t;r.dismissAlerts();this.trigger(this.ACTION_NAME,{name:t,options:n})},onAddClicked:function T(e){e.preventDefault();e.stopPropagation();r.dismissAlerts();if(this.rightMenu.isActionListAvailable()){this.rightMenu.toggle();i.tutorial.show("plus-menu")}else{this.rightMenu.executeAction(this.rightMenu.quickAction)}},setTitle:function C(e){this.$el.find(".header-title").text(e)},setSubtitle:function R(e){this.$el.find(".header-subtitle").text(e)},setButtonVisible:function D(e){_.each(e,function(e,t){e=Boolean(e);this.$el.find(this.buttonSelectorMap[t]).toggleElement(e);if(t==="save"){this.$(".header__save-container").toggleElement(e)}},this)},_isMenuButtonSupported:function I(){return this.config.mainMenu},setSaveBtnState:function O(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.enabled;this._saveBtnDisabled=!t;this.$(".header__btn--save").toggleClass("disabled",!t)},_dispose:function N(){if(this.rightMenu){this.rightMenu.dispose();this.rightMenu=undefined}this._super()},isRightMenuOpened:function F(){return this.rightMenu&&this.rightMenu.isActionListAvailable()&&this.rightMenu._isRightMenuOpened},setConfig:function B(e){_.extend(this.config,e);if(this._rendered){this.render()}}},{getBaseButtonNames:function U(){return["back","rightMenu","search","mainMenu","cancel","save"]}});i.nomad.registerComponent({cmp:l,baseType:"header"});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(6);var s=n(3);var o=n(11);var l=r.declareComponent(o,{disableItemClick:false,isLiveRelativeDateEnabled:true,initialize:function u(e){var t=this.listParams=e.listParams;var n=this.getCollection(t);e=_.extend({},e,{meta:this.calculateListMeta(t),collection:n,context:this.getContext(e,n),template:this.template});_.extend(e,_.pick(t,"template","listItemDataProvider","listItemTpl"));this._super(e);if(this.isLiveRelativeDateEnabled){this.listenTo(this.collection,"data:sync:start",function(){this.$("time").liverelativedate("destroy")});this.listenTo(this.collection,"data:sync:complete",function(){this.$("time").liverelativedate()})}},getContext:function c(e,t){var n=this.listParams;var r=n.parentModel;var s=i.metadata.getModule(n.module);var o={fields:s&&s.mergedFields,model:i.data.createBean("Filters"),collection:t,module:n.module,limit:n.limit,link:r&&n.link,parentModule:r&&r.module};return new a(o)},getCollection:function d(e){var t={limit:e.limit};var n=e.parentModel&&e.link?i.data.createRelatedCollection(e.parentModel,e.link):i.data.createBeanCollection(e.module,null,t);this.setFilter(n,e);n.options=t;n.limit=t.limit;return n},setFilter:function f(e,t){var n=t.filter;var r=t.filter_id||"assigned_to_me";if(!n){var a=i.metadata.getModule(t.module,"filters");if(a&&a.basic){n=_.find(a.basic.meta.filters,function(e){return e.id===r})}}if(n){e.filterDef=n.filter_definition||n}else{e.filterId=r}},calculateListMeta:function h(e){var t=i.metadata.getModule(e.module,"fields");var n=[];_.each(e.display_columns,function(e){n.push(t[e])});return{panels:[{fields:n}]}},getFieldNames:function p(){return this.listParams.display_columns},loadData:function m(e){var t=this;var n=this._super;return new Promise(function(e,n){t.loadUserFilter(function(t){if(t){n(new Error(t.message));return}e()})}).then(function(){return n.call(t,e)}).catchReturn()},loadUserFilter:function g(e){var t=i.data.createBean("Filters",{id:this.collection.filterId});var n=this;if(!this.collection.filterDef&&this.collection.filterId){t.fetch({success:function r(t,i){n.collection.filterDef=i.filter_definition;

e()},error:function a(t){s.showAlert(i.lang.get("ERR_MOBILE_CONNECTION_FAILED"));e(t)}})}else{e()}},onItemElementClick:function v(e){if(!this.disableItemClick&&!$(e.target).closest("a").length){this._super(e)}return true}});i.nomad.registerComponent({cmp:l,baseType:"configurable-list"});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(11);e.exports=r.declareComponent(a,{template:"list",initialize:function s(e){this.itemsConfig={isModuleVisible:true};this._super(e);this.modContextData=i.nomad.getContextMeta("list");this.listViewId="listing-home"}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(9);var a=n(3);var s=n(42);e.exports=r.extend(s,{listItemDataProvider:"lead-conversion-list-item-radio-selector",listItemTpl:"lead-conversion-list-item-radio-selector",multiselect:false,_selections:null,events:function o(){return _.extend({},this._super(),{"click .show-more-link":function e(t){this.toggleRecord(t,{expand:true})},"click .show-less-link":function t(e){this.toggleRecord(e,{expand:false})},"click .edit-link":function n(e){this.onEditClick(e)}})},initialize:function l(e){var t=this;this._super(e);var n=i.metadata.getModule(e.module,"views")["dupecheck-list"];if(n){this.additionalListFields=_.getNested(n,"meta.panels.0.fields")}this.button=this._buttonTypes.radio;this.action="dupecheck-list";this.listenTo(this.collection,"reset",function(){return t.render()})},toggleRecord:function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.expand,i=n===undefined?true:n;e.stopPropagation();e.preventDefault();var r=$(e.target);var a=r.closest("article");a.find(".rest-fields").toggleElement(i);a.find(".show-more-link").toggleElement(!i);a.find(".show-less-link").toggleElement(i)},onEditClick:function c(e){e.preventDefault();e.stopPropagation();var t=$(e.target).closest("article");var n=t.attr("data-id");this.trigger("edit:click",this.getModel(n))},onItemElementClick:function d(e){if(!$(e.target).closest("a").length){return this._super(e)}}})},function(e,t,n){"use strict";var i=SUGAR.App;var r={storage:{},add:function s(e){var t=this.storage[e.parent]||e.parent||a;var n=_.extend({},t,e);var r=_.map(n.name.split("-"),i.utils.capitalize).join("");n.parent=n.name==="list-item"?null:t;this.storage[n.name]=this.storage[r]=n}};var a={name:"list-item",parent:null,prepareItemData:function o(e,t){var n=this.prepareFields(e,t);var r=t.itemsConfig;var a=!!t.collection.query;var s=(i.acl.hasAccessToModel("view",e)?"has-access":"")+" "+(a?"search":"");var o={model:e,view:t,isMenuVisible:!t.contextMenuDisabled,isMenuGripVisible:!t.isListItemSwippable&&!t.contextMenuDisabled,moduleName:e.module,itemId:this.buildId(e),hasSearch:a,detailsCss:s,isModuleVisible:false};return _.extend(o,n,r)},buildId:function l(e){return e.id},extractId:function u(e){return e},prepareFields:function c(e,t){var n=e.module;var i=t.modContextData[n]||{};var r=i.additionalListFields;var a=t._getRelationshipFields();var s=a[0];if(t.collection.query){var o=e.searchInfo&&e.searchInfo.highlighted;if(o){r=_.filter(r,function(e){return!o[e.name]})}}return{titleField:i.listItemTitleField,relationshipField:s,additionalFields:_.isEmpty(r)?null:r,showLabel:t.config.ui.displayListFieldLabel}}};r.add({});r.add({name:"list-item-associate",prepareFields:function d(){var e=a.prepareFields.apply(this,arguments);if(e.additionalFields){e.additionalFields=[e.additionalFields[0]]}return e}});r.add({name:"list-item-picker",prepareItemData:function f(e,t){return{view:t,model:e,label:e.get("label"),value:e.get("value"),module:e.get("module"),itemId:this.buildId(e)}},buildId:function h(e){return e.cid}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(11);e.exports=r.declareComponent(a,{isPaginationEnabled:false,onBeforeRender:function s(){this.collection.each(function(e){var t=e.attributes._module;e.module=t;e.fields=i.metadata.getModule(t,"fields")});this._super()},initialize:function o(e){this.itemsConfig={isModuleVisible:true};this._super(e)}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(16);var s=n(8);e.exports=r.declareComponent(s,{initialize:function o(e){this._super(e);this.showExternalLogin=i.config.loginSettings.externalLoginVisible;this.loginSettingsEditable=i.config.loginSettings.editable},checkButtonState:function l(){var e=this.$(".continue_btn");if(!e.is("[disabled=disabled]")){e.attr("disabled","disabled");e.html(Handlebars.templates.spinner());i.overlay.show("loginsettings");return true}},reEnableUpdateButton:function u(){i.overlay.hide("loginsettings");if(this.disposed){return}this.$(".continue_btn").text(i.lang.get(this.firstLaunch?"LBL_CONTINUE":"LBL_UPDATE"));this._updateSettingsBtnsState()},updateLoginSettings:function c(e){var t=this;i.alert.dismissAll("error");var n=a.getTempSetting();var r=function s(){var e=a.setTempSetting(n);a.applyLoginSettings(e)};async.series([function(e){var n=!t.loginSettingsEditable||t.checkButtonState()&&!_.isEmpty($(".login_settings_server_url").val());e(!n)},function(e){var r=t.$(".login_settings_server_url").val();var s=t.$(".ssl_checkbox").attr("checked");var o=t.$(".sso_checkbox").attr("checked");var l={loginUrl:r||"",useHttps:s,isSSO:o};if(r!==n.loginUrl){l.loginName=""}a.applyLoginSettings(a.setTempSetting(l));a.verifyLoginSettings(function(n,r){if(n&a.LoginSettingsErrorCode.SSO_NOT_SUPPORTED){i.error.handleExternalLoginNotAvailable()}if(n&a.LoginSettingsErrorCode.SSL_NOT_SUPPORTED){t._showHttpMsg("ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN","error")}if(n&a.LoginSettingsErrorCode.SSL_AVAILABLE){t._showHttpMsg("ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN","error")}if(n&a.LoginSettingsErrorCode.OTHER_HTTP_ERROR){i.error.handleHttpError(r)}e(n)})}],function(n){t.reEnableUpdateButton();if(n){r()}else{var i=a.getTempSetting();if(!i.useHttps){t._showHttpMsg("ERR_MOBILE_HTTP_CONNECTION_USE_MSG","warning")}e&&e()}})},_updateSettingsBtnsState:function d(){if(_.isEmpty(this.$("input[type=url]").val())){this.$(".continue_btn").attr("disabled","disabled")}else{this.$(".continue_btn").removeAttr("disabled")}},_showHttpMsg:function f(e,t){i.alert.show("invalid_login_settings",{level:t,messages:i.lang.get(e),autoClose:true})}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(6);var s=n(5);var o=n(8);var l=n(27);var u=n(17);var c=n(16);var d=n(85);var f=n(334);var h=r.declareComponent(d,{_stringType:"login",className:"view__login",privacyLink:i.config.about.privacy,tosLink:i.config.about.tos,showAttribution:i.config.about.showAttribution,_bodyScroll:true,events:function p(){var p=this._super();_.extend(p,{"click .about-link":function e(){var e=new a({module:"About",create:true}).prepare();i.controller._loadScreen({isDynamic:true,layouts:{module:"About",baseType:"about",appendTo:"root",context:e,gaTrack:"about"}})},"click .login__settings_btn":function t(){return this.showLoginSettings.apply(this,arguments)},"click #login_btn":function n(){return this.login.apply(this,arguments)},"click #external_login_btn":function r(){return this.externalLogin.apply(this,arguments)},"click .legal-link":function o(e){e.preventDefault();s.openUrl(e.target.href)},"keypress input":function l(e){if(e.which===13){e.srcElement.blur();this.login()}},"keyup input":"_updateBtnsState","focusout input":"_updateBtnsState","change input":"_updateBtnsState","click .continue_btn":"onSettingsContinue"});return p},initialize:function m(e){this._super(e);this.productVersion=i.clientInfo.app.productVersion;this.settingsButtonVisible=i.isNative;this.loginSettingsTitle=i.lang.get("LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE",null,{brandName:i.config.brandName});this.loginSettingsDesc=i.lang.get("LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC",null,{brandName:i.config.brandName})},onAppResume:function g(e){if(u.isTouchIdForLoginSetup()&&_.isEmpty(this.model.get("password"))){this.login()}},onAfterShow:function v(){_.delay(_.bind(function(){i.overlay.hideAll();if(!this.disposed){this.$el.animate({opacity:"1"},500,"ease");if(u.isTouchIdEnabledOnLogin()&&_.isEmpty(this.model.get("password"))){this.login()}u.toggleTouchIdOnLogin(true)}},this),100)},login:function b(){var e=this;var t=function r(){e.reEnableLogin("#login_btn","LBL_LOGIN_BUTTON_TITLE")};var n={password:e.model.get("password"),username:e.model.get("username")};async.series([function(t){if(u.isTouchIdForLoginSetup()&&_.isEmpty(e.model.get("password"))){u.performTouchId(n.username,function(i,r){if(i){e.$el.find("#password").val(r);n.password=r;e.model.set("password",r);e._updateBtnsState()}t(!i)})}else{t()}},function(i){if(!e.updateButtonAndInfo("#login_btn",n.username,false)){i(true);return}e.model.doValidate(e.model.fields,function(e){if(!e){t()}i(!e)})},function(r){i.alert.dismiss("field_validation_error");i.logger.debug("Username: "+n.username);i.login(n,i.clientInfo,{error:function a(n){if(e.disposed){return}if(n&&n.status>=400&&n.status<=403){e.model.unset("password")}t()},success:function s(){if(u.isTouchIdAuthenticationSupported()&&l.isSetupBuddySupported()&&!l.isSetupBuddyItemCompleted("localsecurity")){u.setTempCredential(n.password)}_.delay(function(){t()},500)},complete:function o(){r()}})}])},externalLogin:function y(){if(this.updateButtonAndInfo("#external_login_btn","",true)){var e=this;c.verifyExternalLogin(function t(){e.reEnableLogin("#external_login_btn","LBL_EXTERNAL_LOGIN_BUTTON_TITLE")})}},onSettingsContinue:function x(){var e=this;if(!this.$(".continue_btn").is("[disabled=disabled]")){this.updateLoginSettings(function(){e.render()})}},showLoginSettings:function S(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.model.get("username")){c.setTempSetting({loginName:this.model.get("username")})}var n=new a({create:true}).prepare();var r=i.controller._loadScreen({isDynamic:true,layouts:{className:t.firstLaunch?"layout__loginSettingsNoHeader":"layout__loginSettings",views:[f],gaTrack:"login-settings",appendTo:"root",context:n,headerConfig:{title:i.lang.get("LBL_LOGIN_SETTINGS_HEADER"),back:true}}})[0];var s=r.getComponent(f);s.once("settings:submit",function(t){i.controller.disposeDynamic({disposeAll:true});e.render()})},updateButtonAndInfo:function w(e,t,n){var r=this.$(e);r.focus();if(r.is("[disabled=disabled]"))return false;i.alert.dismissAll();this.$el.find(".btn").attr("disabled","disabled");r.html(Handlebars.templates.spinner()+" "+i.lang.get("LBL_LOADING"));i.overlay.show("login");var a={loginName:t||"",isSSO:n};a=c.setTempSetting(a);c.applyLoginSettings(a);return true},reEnableLogin:function L(e,t){i.overlay.hide("login");if(this.disposed)return;this.$(e).text(i.lang.get(t));this._updateBtnsState()},render:function E(){var e=c.getTempSetting();c.applyLoginSettings(e);this.model.set({username:e.loginName,password:""},{silent:true});if(i.isNative){this.firstLaunch=_.isEmpty(e.loginUrl);this.settingsButtonVisible=!this.firstLaunch;this.serverUrl=e.loginUrl;this.useHttps=e.useHttps;this.isSSO=e.isSSO}this._super();this._updateUIControls();this._updateBtnsState()},_updateUIControls:function k(){if(i.isNative){var e=c.getTempSetting();this.$("#login_btn").toggle(!e.isSSO);this.$("#external_login_btn").toggle(e.isSSO);this.$el.find(".login-fields").toggle(!e.isSSO)}},_updateBtnsState:function A(){if(this.firstLaunch){this._updateSettingsBtnsState()}else{if(i.config.loginSettings.externalLoginVisible){this.$("#external_login_btn").removeAttr("disabled")}var e=_.some(["username","password"],function(e){return _.isEmpty($("input[name="+e+"]").val())});this.$("#login_btn").attr("disabled",e?"disabled":null)}}});i.nomad.registerComponent({cmp:h,baseType:"login"});e.exports=h},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(8);var o=r.declareComponent(s,{_stringType:"main-menu",events:{"click #desktop":function l(e){e.preventDefault();a.openUrl(e.currentTarget.href)},"click .menu__item.disabled .menu-item__link":function u(e){e.preventDefault();e.stopPropagation()},'click .menu__item:not(.disabled) .menu-item__link:not([target="_blank"])':"onMenuItemClicked",swipe:function c(e){e.stopPropagation()}},globalEvents:{"app:logout":function d(){this.avatar=null},"offline:status:update":function f(e){var t=this.$el.find(".offline-icon");t.removeClass("status-success status-warning status-error status-default");t.addClass(r.utils.getOfflineStatusClass())},"app:view:change":function h(e){if(e.isDynamic){return}this.highlightActiveMenuItem(e);this.toggleMenu(false,true)},"app:orientation:changed":function p(){if(!i.isTablet){return}this.toggleMenu(false,true)}},offlineStatusIconPartial:"offline-status-icon",_isOpened:false,isOpened:function m(){return this._isOpened},initialize:function g(e){var t=this;var n=$(document.body);this.$menuLeft=i.$rootEl.find("#menu-left");this.$contentOverlay=i.$rootEl.find("#content-overlay");this._super(e);n.on("click.menu swipe.menu",function(){if(t.isOpened()){t.toggleMenu(false)}});this._isOpened=n.hasClass("show-menu-left")},start:function v(){this.render();this._loadUserPicture()},onMenuItemClicked:function b(e){var t=e.currentTarget;var n=t.getAttribute("href").substr(1);var r=_.findWhere(this.menuItems,{route:n});if(!i.isTablet){this.toggleMenu(false)}if(r&&_.isFunction(r.handler)){e.preventDefault();r.handler()}else{this.handleLinkClick(e)}},onBeforeRender:function y(){this._super();this.buildMenu()},onAfterRender:function x(){this._super();var e=i.controller.getScreenContext();this.highlightActiveMenuItem(e)},toggleMenu:function S(e,t,n){var a=this;var s=t||!i.supportedFeatures.menuAnimation?0:200;var o=$(document.body);var l=r.utils.isDirectionLTR()?1:-1;var u=l>0?"0px":"-100%";n=n||function(){};if(e===undefined){e=!this.isOpened()}var c={menuAnimation:{"-webkit-transform":e?"translate3d("+u+", 0, 0)":"translate3d("+l*-100+"%, 0, 0)"},overlayAnimation:{"-webkit-transform":e?"translate3d(0, 0, 0)":"translate3d("+l*-100+"%, 0, 0)"}};var d=function f(){o.toggleClass("show-menu-left",e);a._isOpened=e;if(e){a.onClose=function(){a.toggleMenu(false,t,n)};i.activeComponents.add(a)}else{a.onClose=undefined;i.activeComponents.remove(a)}n()};this.animateMenu({isShowing:e,data:c,callback:d,duration:s})},animateMenu:function w(e){var t=e.data;var n=e.isShowing;if(n){$(document.body).addClass("show-menu-left")}this.$contentOverlay.animate(t.overlayAnimation,0);this.$menuLeft.animate(t.menuAnimation,e.duration,"ease-out",function(){if(e.callback){e.callback()}})},_loadUserPicture:function L(e){if(!i.api.isAuthenticated()){return}var t=i.api.buildFileURL({field:"picture",module:"Users",id:i.user.get("id")},r.getFileOptions());var n=new Image;var a;if(e){t+="&id="+e;a=true}if(!this.avatar){a=true}n.onload=_.bind(this._applyUserPicture,this,{img:n,url:t});if(a){n.src=t}else{this._applyUserPicture(this.avatar)}},_applyUserPicture:function E(e){if(this.disposed){return}var t=this.$("#me i");var n={image:e.img,height:t.css("height"),width:t.css("width")};if(e.el){t.replaceWith(e.el);return}r.utils.sizePicture(n);t.css({backgroundSize:n.sizeProp,backgroundImage:"url("+e.url+")"}).addClass("withPicture");this.avatar={url:e.url,el:t}},highlightActiveMenuItem:function k(e){var t=e.root||e.module||e.parentModule;if(t==="TxLog"){t="Offline"}else if(t==="Dashboards"){t+="/"+e.dashboardId}this.$el.find("li").removeClass("current");this.$el.find("a[href='#"+t+"']").parent("li").addClass("current")},buildMenu:function A(){var e=[];_.each(r.dashboards.getDashboards({type:"home"}),function(t){var n=t.get("metadata");if(n&&n.dashlets.length){e.push({id:t.id,label:i.lang.getAppString(t.get("name"))||i.lang.getModString(t.get("name"),"Home")||t.get("name")})}});this.menuItems=this._getMenuItems();_.extend(this,{items:this.menuItems,userName:i.user.get("full_name"),userId:i.user.get("id"),desktopURI:r.getDesktopUrl(),offlineEnabled:i.offlineEnabled,errorEmulationEnabled:r.utils.isErrorEmulationEnabled(),offlineStatusIconPartial:this.offlineStatusIconPartial,offlineStatusClass:r.utils.getOfflineStatusClass(),dashboards:e.length?e:undefined,dashboardsSupported:i.supportedFeatures.dashboards,activitiesSupported:i.supportedFeatures.activities})},_getMenuItems:function M(){var e=n(9);var t=_.map(i.metadata.getModuleNames({filter:["visible","display_tab"],access:"list"}),function(e){return{route:e,label:r.getPluralModuleName(e),rank:10}});var a=e.getCustomMainMenuItems();return _.sortBy(t.concat(a),"rank")},_dispose:function T(){i.events.off("app:user:picturechanged",null,this);$(document.body).off("click.menu swipe.menu")}});r.registerComponent({cmp:o,baseType:"main-menu"});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=function l(e){i.analytics.trackEvent({category:"app",action:"ptr"});var t=_.isFunction(e.onPullDownToRefresh)?e.onPullDownToRefresh():e.loadData({forceFetch:true,byPtr:true});return t.catch(function(t){e.hidePtrSpinner();throw new Error(t.message)}).then(function(){return e.hidePtrSpinner()})};var a=function u(e){e._ptrHandler=null;if(!e.scroll){return}if(e.$el&&e.$el.pullToRefresh){e.$el.pullToRefresh("destroy")}e.scroll.destroy();e.scroll=null};var s=function c(e){if(e.scroll){e.scroll.reflow();return}if(!e.$easyScrollerParent){e.$el.wrap('<div class="easy-scroller-parent"><div class="easy-scroller-holder"></div></div>');e.$easyScrollerParent=e.$el.closest(".easy-scroller-parent")}var t=e.$easyScrollerParent;var n=t.get(0);var r=t.find(".easy-scroller-holder").get(0);e.scroll=new window.EasyScroller(r,n,{scrollingY:true,scrollingX:false});e.$el.pullToRefresh({callback:e._ptrHandler,template:i.template.get("ptr"),templateTarget:e.$easyScrollerParent,height:75,scroller:e.scroll.scroller,action:i.lang.get("LBL_MOBILE_PTR_RELEASE"),refresh:i.lang.get("LBL_LOADING")})};var o={_dispose:function d(){a(this)},onAfterRender:function f(){s(this)},hidePtrSpinner:function h(){if(this.$el){this.$el.pullToRefresh("hide")}this.reflowScroller()},reflowScroller:function p(){if(this.scroll){this.scroll.reflow()}}};e.exports=function(e){var t=e.view,n=e.handler,a=n===undefined?r:n;_.each(o,function(e,n){var i=t[n];t[n]=function(){var t=void 0;for(var n=arguments.length,r=Array(n),a=0;a<n;a++){r[a]=arguments[a]}if(_.isFunction(i)){t=i.apply(this,r)}e.apply(this,r);return t}});t._ptrHandler=function(){return a(t)};t.listenTo(i,"app:orientation:changed",t.reflowScroller);t.listenTo(i,"app:keyboard:hide",t.reflowScroller)}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);e.exports=r.declareComponent(a,{className:"scroll",template:"related-records",initialize:function s(e){var t;this._super(e);this._requestsInProgress={};t=r.getContextMeta("detail",this.module);this.relatedList=_.chain(t.subpanels).filter(function(e){return i.acl.hasAccess("list",e.module)}).map(function(e){return _.extend({canCreate:r.canCreateRelated(e.module,this.module,e.context.link)},e)},this).value()},loadData:function o(){if(i.supportedFeatures.bulkApi&&r.isOnline()){this.getRelationshipData(function(e,t){if(!e){this._prepareListData(t);this.render()}})}},getRelationshipData:function l(e,t){var n=this;var a;var s;var o;t=t||this;a=_.map(this.relatedList,function(e){return r.buildBulkRequest({module:this.module,limit:i.config.fetchLimit.bulkQueryRelatedRecords,attributes:{id:this.model.id,link:e.context.link},params:{fields:"id"}})},this);if(_.isEmpty(a)){return}s={success:function l(n){e.call(t,null,n)},error:function u(r){i.logger.debug("Get related records error "+n.module+" : "+r);e.call(t,r)},complete:function c(){if(o){n._requestsInProgress[o.uid]=null}}};o=i.api.bulk({requests:a},s);if(o){this._requestsInProgress[o.uid]=o.uid}},_prepareListData:function u(e){this.relatedList=_.map(this.relatedList,function(t,n){var r=e[n];t.recordsCount=undefined;if(r.status===200){var a=r.contents;if(_.isArray(a.records)){var s=a.records.length;var o=i.config.fetchLimit.bulkQueryRelatedRecords;t.recordsCount=s;if(a.next_offset!==-1){t.recordsCount=o+"+"}t.isEmpty=!s}}else{t.recordsCount="!";if(i.error.isAccessError(r)){this.trigger(this.ACTION_NAME,{name:"app:access:error",options:{module:t.module}})}}t.showCount=!_.isUndefined(t.recordsCount);return t},this)},_dispose:function c(){_.each(this._requestsInProgress,function(e,t){i.api.abortRequest(t)});this._super()}})},function(e,t,n){"use strict";e.exports={_isTouchIdEnrolled:function i(e){e(false)},_performTouchId:function r(e,t){},_storeCredentials:function a(e,t){},_resetCredentials:function s(){}}},function(e,t,n){"use strict";var i=n(21);var r="";var a={};var s=function d(e){return r+e};var o=_.extend({},store,{cut:store.remove,cutAll:store.clear});var l=function f(e){return new Function("return "+e)()};var u=function h(e){if(e.has("uniqueKey")){return}var t={};for(var n=0,i=localStorage.length;n<i;n++){var r=localStorage.key(n);t[r]=localStorage[r]}_.each(t,function(t,n){try{JSON.parse(t);t=e.store.deserialize(t)}catch(i){t=l(t)}if(t===null){t=undefined}e.store.set(n,t)});e.set("uniqueKey",a.uniqueKey)};var c=_.extend({},Backbone.Events,{store:o,init:function p(){r=a.env+":"+a.appId+":";u(this);if(this.get("uniqueKey")!==a.uniqueKey){this.cutAll(true);this.set("uniqueKey",a.uniqueKey)}i.register("cache:clean",this)},has:function m(e){return this.store.has(s(e))},get:function g(e){return this.store.get(s(e))},set:function v(e,t){e=s(e);try{this.store.set(e,t)}catch(n){if(n.name.toLowerCase().indexOf("quota")>-1){this.clean();this.store.set(e,t)}}},clean:function b(){var e=[];var t={};this.trigger("cache:clean",function(t){e=_.union(t,e)});_.each(e,function(e){t[e]=this.get(e)},this);this.cutAll();_.each(t,function(e,t){if(!_.isUndefined(e)){this.set(t,e)}},this)},cut:function y(e){e=s(e);if(this.store.has(e)){this.store.cut(e)}},cutAll:function x(e){if(e===true){return this.store.cutAll()}var t=this.store.getAll();_.each(t,function(e,t){if(t.indexOf(r)===0){this.store.cut(t)}},this)}});e.exports=function(e){a=e||{};return c}},function(e,t,n){"use strict";var i=n(56);var r=n(10);var a=n(13);function s(e,t,n){if(t){t.apply(l,_.union([e],n||[]))}else{l.handleStatusCodesFallback(e)}}function o(e,t){var n="handle"+r.classify(e.code)+"Error";(l[n]||t||l.handleStatusCodesFallback).call(l,e)}var l={init:function u(){this.enableOnError();Object.defineProperty(this,"remoteLogging",{get:function e(){SUGAR.App.logger.warn("`Core.Error#remoteLogging` property has been deprecated since 7.10.");return false},configurable:true})},initialize:function c(e){SUGAR.App.logger.warn("The function `Core.Error#initialize` is deprecated in 7.10. "+"Please do not use it. The function initializing the component is `Core.Error#init`");e=e||{};this.statusCodes=e.statusCodes?_.extend(this.statusCodes,e.statusCodes):this.statusCodes;if(!e.disableOnError){this.enableOnError()}},statusCodes:{0:function d(e,t,n){if(e.textStatus==="timeout"){s(e,this.handleTimeoutError)}else{this.handleStatusCodesFallback(e,t,n)}},400:function f(e){o(e,this.handleUnspecified400Error)},401:function h(e){o(e,this.handleUnauthorizedError)},403:function p(e){s(e,this.handleForbiddenError)},404:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e){s(e,this.handleNotFoundError,_.rest(arguments))}),405:function m(e){s(e,this.handleMethodNotAllowedError)},409:function g(e){s(e,this.handleMethodConflictError)},412:function v(e){s(e,this.handleHeaderPreconditionFailed)},422:function(e){function t(t,n){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e,t){e.model=t;s(e,this.handleValidationError,_.rest(arguments))}),424:function(e){function t(t,n){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e,t){e.model=t;s(e,this.handleMethodFailureError,_.rest(arguments))}),500:function b(e){s(e,this.handleServerError)},502:function y(e){s(e,this.handleServerError)},503:function x(e){s(e,this.handleServerError)}},errorName2Keys:{maxValue:"ERROR_MAXVALUE",minValue:"ERROR_MINVALUE",maxLength:"ERROR_MAX_FIELD_LENGTH",minLength:"ERROR_MIN_FIELD_LENGTH",datetime:"ERROR_DATETIME",required:"ERROR_FIELD_REQUIRED",email:"ERROR_EMAIL",primaryEmail:"ERROR_PRIMARY_EMAIL",duplicateEmail:"ERROR_DUPLICATE_EMAIL",number:"ERROR_NUMBER",isBefore:"ERROR_IS_BEFORE",isAfter:"ERROR_IS_AFTER",greaterThan:"ERROR_IS_GREATER_THAN",lessThan:"ERROR_IS_LESS_THAN"},getErrorString:function S(e,t){var n=t.module||"";return a.get(this.errorName2Keys[e]||e,n,t)},handleValidationError:function w(e){var t=e.responseText;i.dismissAll();_.each(t,function(e,t){var n="";if(_.isObject(e)){_.each(e,function(e,t){n+="(Message) "+this.getErrorString(t,e)+"\n"},this)}else{n=e}SUGAR.App.logger.debug("validation failed for field `"+t+"`:\n"+n)},this)},handleHttpError:function L(e,t,n){if(l.statusCodes[e.status]){l.statusCodes[e.status].call(l,e,t,n)}else{l.handleStatusCodesFallback(e)}},handleUnhandledError:function E(e,t,n){SUGAR.App.logger.fatal(e+" at "+t+" on line "+n)},handleStatusCodesFallback:function k(e){SUGAR.App.logger.error(e.toString())},handleRenderError:function A(e,t,n){var s="render_error_"+e.module+"_"+e.name;var o="error";var l;var u;switch(t){case"_renderHtml":l=a.get("ERR_RENDER_FAILED_TITLE");u=[a.get("ERR_RENDER_FAILED_MSG"),a.get("ERR_CONTACT_TECH_SUPPORT")];break;case"_renderField":l=a.get("ERR_RENDER_FIELD_FAILED_TITLE");u=[r.formatString(a.get("ERR_RENDER_FIELD_FAILED_MSG"),[n.name]),a.get("ERR_CONTACT_TECH_SUPPORT")];break;case"view_render_denied":l=a.get("ERR_NO_VIEW_ACCESS_TITLE");o="warning";var c=a.getModuleName(e.module,{plural:true});u=[r.formatString(a.get("ERR_NO_VIEW_ACCESS_MSG"),[c])];break;case"layout_render":l=a.get("ERR_LAYOUT_RENDER_TITLE");u=[a.get("ERR_LAYOUT_RENDER_MSG")];break;default:l=a.get("ERR_GENERIC_TITLE");u=[a.get("ERR_INTERNAL_ERR_MSG"),a.get("ERR_CONTACT_TECH_SUPPORT")];SUGAR.App.logger.error("handleRenderError called for render error caught in "+t+", but we have no corresponding handler!");break}i.show(s,{level:o,title:l,messages:u})},enableOnError:function M(e,t){var n;var i=this;if(this.overloaded){return false}n=window.onerror;window.onerror=function(r,a,s){if(e){e.call(t)}else{i.handleUnhandledError(r,a,s)}if(n){n()}};this.overloaded=true;return true},throwErrorWithCallStack:function T(e,t){SUGAR.App.logger.warn("The function `Core.Error#throwErrorWithCallStack` is deprecated in 7.10. "+"Please do not use it.");if(_.isString(e)){e=new Error(e)}e.message=e.message+"; "+e.stack;if(t){return e}throw e},_callCustomHandler:function C(e,t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Error#_callCustomHandler is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Error#_callCustomHandler is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(e,t,n)},_handleFineGrainedError:function R(e,t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Error#_handleFineGrainedError is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Error#_handleFineGrainedError is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return o(e,t)}};e.exports=l},function(e,t,n){"use strict";var i=n(55);var r=n(21);var a={beforeRoute:function s(e,t){if(!this.triggerBefore("route",{route:e,args:t})){return false}if(_.indexOf(SUGAR.App.config.unsecureRoutes,e)>=0){return true}if(!SUGAR.App.api.isAuthenticated()){SUGAR.App.router.login();return false}else if(!SUGAR.App.isSynced){Backbone.history.stop();SUGAR.App.sync();return false}return true},after:function o(e,t){},start:function l(){var e={};SUGAR.App.augment("router",new SUGAR.App.Router(e),false);r.trigger("router:start",SUGAR.App.router);SUGAR.App.router.init();SUGAR.App.router.start()},stop:function u(){SUGAR.App.logger.warn("`Core.Routing#stop` method is deprecated since 7.10. Please use "+"`Core.Router#stop` instead.");SUGAR.App.router.stop()}};_.extend(a,i);e.exports=a},function(e,t,n){"use strict";var i=n(32);var r=n(43);e.exports=r.extend({initialize:function a(e,t){this._linkedCollections={};t=t||{};if(t.links){_.each(t.links,function(e,t){if(_.isString(e)){this._linkedCollections[t]=SUGAR.App.data.createBeanCollection(e)}else{this._linkedCollections[t]=e}this.listenTo(this._linkedCollections[t],"add",this._onLinkAdd);this.listenTo(this._linkedCollections[t],"remove",this._onLinkRemove);this.listenTo(this._linkedCollections[t],"reset",this._onLinkReset)},this);delete t.links}r.prototype.initialize.call(this,e,t)},_prepareModel:function s(e,t){var n=e instanceof i?e.module:e._module;this.model=SUGAR.App.data.getBeanClass(n);return r.prototype._prepareModel.call(this,e,t)},_onLinkAdd:function o(e,t,n){if(this._updating){return}r.prototype.add.call(this,e)},_onLinkRemove:function l(e,t,n){if(this._updating){return}r.prototype.remove.call(this,e)},_onLinkReset:function u(e){var t=_.groupBy(this.models,function(e){return e instanceof i?e.get("_link"):e._link});var n=_.findKey(this._linkedCollections,function(t){return t===e});r.prototype.remove.call(this,t[n]);r.prototype.add.call(this,e.models)},add:function c(e,t){e=Backbone.Collection.prototype.add.call(this,e,t);if(_.isEmpty(this._linkedCollections)){return e}this._updating=true;t=t||{};if(!_.isUndefined(e)&&!_.isArray(e)){e=[e]}_.each(e,function(e){var n=e.get("_link");if(!n){return}if(this._linkedCollections[n]){this._linkedCollections[n].add(e,t)}},this);this._updating=false;return e},remove:function d(e,t){e=Backbone.Collection.prototype.remove.call(this,e,t);if(_.isEmpty(this._linkedCollections)){return e}this._updating=true;t=t||{};if(!_.isUndefined(e)&&!_.isArray(e)){e=[e]}_.each(e,function(e){var n=e.get("_link");if(n){if(this._linkedCollections[n]){this._linkedCollections[n].remove(e,t)}}else{_.each(this._linkedCollections,function(n){var r=e instanceof i?e.get("module"):e._module;if(n.module===r){n.remove(e,t)}})}},this);this._updating=false;return e},reset:function f(e,t){if(_.isEmpty(this._linkedCollections)){return Backbone.Collection.prototype.reset.call(this,e,t)}var n=_.groupBy(e,function(e){return e instanceof i?e.get("_link"):e._link});_.each(this._linkedCollections,function(e,i){e.reset(n[i],t)},this)},getDelta:function h(){var e={};_.each(this._linkedCollections,function(t,n){var i=t.getDelta();if(_.isEmpty(i)){return}e[n]=i},this);return e},resetDelta:function p(){_.each(this._linkedCollections,function(e,t){e.resetDelta()})},fetch:function m(e){e=e||{};e.module_list=this.module_list=e.module_list||this.module_list||SUGAR.App.metadata.getModuleNames({filter:"visible"});return r.prototype.fetch.call(this,e)},groupByModule:function g(){return _.groupBy(this.models,function(e){return e.module})},toString:function v(){return"mcoll:"+this.length}})},function(e,t,n){"use strict";var i=n(45);var r=n(14);var a=n(10);var s=n(13);function o(){var e=function n(e,t,i){var r=_.isUndefined(e[i])?e.validation?e.validation[i]:null:e[i];if(_.contains(["int","float","decimal","currency"],e.type)&&_.isFinite(r)){if(e.type=="int"){t=parseInt(t)}else{t=parseFloat(t)}if(i=="max"){if(t>r)return r}else if(i=="min"){if(t<r)return r}else if(i=="greaterthan"){if(t<=r)return r}else if(i=="lessthan"){if(t>=r)return r}}};var t=function o(e,t,n,i){if(_.indexOf(["date","datetimecombo"],e.type)!==-1&&e.validation&&e.validation.type===n){var r=i.fields[e.validation.compareto];if(!_.isUndefined(r)&&_.indexOf(["date","datetimecombo"],r.type)!=-1){var a=Date.parse(i.get(r.name));t=Date.parse(t.toString());if(!_.isNaN(a)&&!_.isNaN(t)){var o=s.get(r.label||r.vname||r.name,i.module);if(n=="isbefore"){return a<t?o:undefined}if(n=="isafter"){return a>t?o:undefined}}}}};return{maxLength:function l(e,t){if(_.isNumber(t)){t=t.toString()}if(_.isNumber(e.len)&&_.isString(t)){var l=e.len;t=t||"";t=t.toString();

if(t.length>l){return l}}},minLength:function u(e,t){if(_.isNumber(e.minlen)){var u=e.minlen;t=t||"";t=t.toString();if(t.length<u){return u}}},url:function c(e,t){SUGAR.App.logger.warn("The function `app.validation.validators.url()` is deprecated since 7.10 "+"because it has no effect.")},email:function d(e,t){var n;if(e.type=="email"||e.type==="email-text"){if(t.length>0){_.each(t,function(t){if(t.email_address===""&&(_.isUndefined(e.required)||!e.required)){return}if(!a.isValidEmailAddress(t.email_address)){if(!n)n=[];n.push(t.email_address)}})}if(n&&n.length>0){return n}}},primaryEmail:function f(e,t){if(e.type=="email"){if(t.length>0&&!_.find(t,function(e){return e.primary_address=="1"})){return true}}},duplicateEmail:function h(e,t){if(e.type=="email"){var n=_.pluck(t,"email_address"),i=[],r=n.length,a,s;for(a=0;a<r;a++){for(s=a+1;s<r;s++){if(n[a]==n[s])i.push(n[a])}}if(i&&i.length>0){return i}}},datetime:function p(e,t){var n,a,s,o,l,u,c,d;function f(e,t,n){var i=parseInt(e,10);return!isNaN(i)&&i>=t&&i<=n}if(e.type==="date"||e.type==="datetimecombo"){if(_.isNaN(Date.parse(t))&&_.isNaN(Date.parse(t.replace(/[\.\-]/g,"/")))){return t}else{if(!i.isIso(t)){u=t.replace(/[\.\-]/g,"/").split("/");a=_.filter(u,function(e){return e.length===3||e.length>4});if(a.length){return t}if(/([\.\/\-])\1/.test(t)===true){return t}s=r.getPreference("datepref");o=s.match(/[.\/\-\s].*?/);l=s.split(o);for(c=0,d=l.length;c<d;c++){n=u[c];switch(l[c].toLowerCase().charAt(0)){case"m":if(!f(n,1,12)){return t}break;case"d":if(!f(n,1,31)){return t}break}}}else{if(t.charAt(0)==="0")return t}}}},minValue:function m(t,n){return e(t,n,"min")},maxValue:function g(t,n){return e(t,n,"max")},greaterThan:function v(t,n){return e(t,n,"greaterthan")},lessThan:function b(t,n){return e(t,n,"lessthan")},number:function y(e,t){if(_.indexOf(["int","float","decimal","currency"],e.type)!=-1){return _.isBoolean(t)||_.isString(t)&&!t.trim().length||isNaN(parseFloat(t))||!_.isFinite(t)?true:undefined}},isBefore:function x(e,n,i){return t(e,n,"isbefore",i)},isAfter:function S(e,n,i){return t(e,n,"isafter",i)}}}function l(e){return _.every(e,_.isEmpty)}var u={validators:o(),requiredValidator:function c(e,t,n,i){if(e.required===true&&t!=="id"&&e.type!=="image"&&_.isUndefined(e.auto_increment)){var r=n.get(t);var a=_.isUndefined(r);var s=_.isNull(i)||i===""||i===false||_.isArray(i)&&l(i)||i instanceof Backbone.Collection&&!i.length;if(a&&_.isUndefined(i)||s){return true}}},_isArrayEmpty:function d(e){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Data.Validation#_isArrayEmpty is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Data.Validation#_isArrayEmpty is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return l(e)}};e.exports=u},function(e,t,n){"use strict";var i=n(97);var r=n(14);var a=n(10);e.exports={getBaseCurrencyId:function s(){return SUGAR.App.metadata.getBaseCurrencyId()},getBaseCurrency:function o(){var e=SUGAR.App.metadata.getBaseCurrencyId(),t=SUGAR.App.metadata.getCurrency(e);t.currency_id=e;return t},getCurrenciesSelector:function l(e){var t={};_.each(SUGAR.App.metadata.getCurrencies(),function(n,i){t[i]=e(n)});return t},getCurrencySymbol:function u(e){var t=SUGAR.App.metadata.getCurrency(e);return t?t.symbol:""},formatAmount:function c(e,t,n,i,r,s){if(!_.isFinite(e)){return e}var o;var l=SUGAR.App.metadata.getConfig();t=t||this.getBaseCurrencyId();s=s||"";if(!_.isFinite(n)){if(_.isFinite(l.defaultCurrencySignificantDigits)){n=l.defaultCurrencySignificantDigits}else{n=2}}r=r||l.defaultDecimalSeparator||".";i=!_.isUndefined(i)?i:l.defaultNumberGroupingSeparator||",";o=this.getCurrencySymbol(t)||this.getCurrencySymbol(this.getBaseCurrencyId());e=a.formatNumber(e,n,n,i,r);return o+s+e},formatAmountLocale:function d(e,t,n){var i=r.getPreference("decimal_separator");var a=r.getPreference("number_grouping_separator");var s=r.getPreference("decimal_precision");n=_.isFinite(n)?n:s;return this.formatAmount(e,t,n,a,i)},unformatAmount:function f(e,t,n,i){i=i||false;e=e.toString().replace(/^[^\d\.\,-]+/,"");return a.unformatNumberString(e,t,n,i)},unformatAmountLocale:function h(e,t){var n,i,a=SUGAR.App.metadata.getConfig();n=r.getPreference("decimal_separator")||a.defaultDecimalSeparator||".";var s=r.getPreference("number_grouping_separator");i=s||a.defaultNumberGroupingSeparator||",";return this.unformatAmount(e,i,n,t)},convertAmount:function p(e,t,n){var r;var a;if(t==n){return i.round(e,undefined,true)}r=SUGAR.App.metadata.getCurrency(t);a=SUGAR.App.metadata.getCurrency(n);return this.convertWithRate(e,r.conversion_rate,a.conversion_rate)},convertToBase:function m(e,t){return this.convertAmount(e,t,this.getBaseCurrencyId())},convertFromBase:function g(e,t){return this.convertAmount(e,this.getBaseCurrencyId(),t)},convertWithRate:function v(e,t,n){t=t||1;n=n||1;return i.mul(i.div(e,t,undefined,true),n,undefined,true)}}},function(e,t,n){"use strict";var i=n(14);e.exports={_math:function r(e,t,n,i,a){i=_.isFinite(i)&&i>=0?parseInt(i):6;Big.E_NEG=-1*(i+1);a=a||false;var s;if(!_.isFinite(t)){return t}try{switch(e){case"round":s=Big(t).round(i);break;case"add":s=Big(t).plus(n);break;case"sub":s=Big(t).minus(n);break;case"mul":s=Big(t).times(n).round(i);break;case"div":s=Big(t).div(n).round(i);break;default:return t}}catch(o){if(o.name=="BigError"){return t}}if(a&&!_.isString(s)){return s.toFixed(i)}else if(!_.isString(s)){return s.toString()}else{return s}},round:function a(e,t,n){return this._math("round",e,null,t,n)},add:function s(e,t,n,i){return this._math("add",e,t,n,i)},sub:function o(e,t,n,i){return this._math("sub",e,t,n,i)},mul:function l(e,t,n,i){return this._math("mul",e,t,n,i)},div:function u(e,t,n,i){return this._math("div",e,t,n,i)},isDifferentWithPrecision:function c(e,t,n){var r=SUGAR.App.metadata.getConfig();var a=n||i.getPreference("decimal_precision");n=_.isFinite(a)?a:r.defaultCurrencySignificantDigits||2;var s=this._math("round",this.getDifference(e,t,true),null,n);var o=n===0?"0":this._math("div",.1,Math.pow(10,n-1));return s==="0"?false:parseFloat(s)>=parseFloat(o)},getDifference:function d(e,t,n){var i=this._math("sub",e,t);n=_.isUndefined(n)?false:n;return n?Math.abs(i):i}}},function(e,t,n){"use strict";var i=n(33);var r=i.extend({tpl:'<div class="alert alert-block">{{#if title}}<strong>{{title}}</strong>{{/if}}{{#each messages}}{{./this}}{{/each}}</div>',close:function a(){SUGAR.App.logger.warn("View.AlertView#close is deprecated since 7.7 and will be removed in a future release. "+"Please use View.AlertView#dispose instead.");this.remove()},render:function s(){var e=Handlebars.compile(this.tpl);this.$el.html(e(this.options));this.$(".alert").addClass("alert-"+this.options.level)}});e.exports=r},function(e,t,n){"use strict";var i=n(24);var r=n(33);var a=n(25);var s=n(13);var o=n(22);var l=r.extend({fieldTag:"input",initialize:function u(e){a.attach(this,"field");r.prototype.initialize.call(this,e);this.sfId=e.sfId;this.view=e.view;this.viewDefs=e.viewDefs||{};this.name=this.viewDefs.name||e.def&&e.def.name;var t=this.model&&this.model.fields?this.model.fields[this.name]:null;this.fieldDefs=_.extend({},t,this.viewDefs.defs);this.def=_.extend({},t,e.def);this.type=this.viewDefs.type||this.def.type||this.fieldDefs.type;var n=this.def.label||this.def.vname||this.name;this.label=s.get(this.viewDefs.label||n,this.module);this.template=o.empty;if(this.model){this.model.on("error:validation:"+this.name,this.handleValidationError,this);this.model.on("validation:start attributes:revert",this.removeValidationErrors,this);this.model.on("acl:change:"+this.name,this.handleAclChange,this)}},viewFallbackMap:{edit:"detail"},handleAclChange:function c(){this._resetAction();this.render()},_resetAction:function d(){this.action=void 0},_checkAccessToAction:function f(e){return i.hasAccessToModel(e,this.model,this.name)},_getFallbackTemplate:function h(e){return this.isDisabled()&&e==="disabled"?"edit":this.view.fallbackFieldTemplate||"detail"},_loadTemplate:function p(){var e;var t=this.options.viewName||this.options.def.view||(this.view.meta&&this.view.meta.type?this.view.meta.type:this.view.name);var n=this.action;if(this.isDisabled()&&t==="edit"){t=this.action}else{n=this.action||(this.view.action&&this.view.name!=this.view.action?this.view.action:t)}while(t){if(this._checkAccessToAction(n))break;t=this.viewFallbackMap[t];n=t}if(t){var i=this.module||this.context.get("module");e=this._getFallbackTemplate(t);this.template=o.getField(this.type,t,i,e)||o.getField("base",t,i,e)||o.empty}else{this.template=o.empty}this.tplName=t;this.action=n},delegateEvents:function m(e){e=e||_.result(this,"events")||(this.def?this.def.events:null);if(!e)return;e=_.clone(e);_.each(e,function(t,n){var i=this[t];if(!i&&_.isString(t)){i=_.bind(function(e){if(_.isFunction(this.triggerMetadataEvent)){this.triggerMetadataEvent(e,t)}},this);this["callback_"+n]=i;e[n]="callback_"+n}if(!_.isFunction(t)&&!i){delete e[n]}},this);Backbone.View.prototype.delegateEvents.call(this,e)},_render:function g(){this._loadTemplate();if(this.model instanceof Backbone.Model){this.value=this.getFormattedValue()}this.dir=_.result(this,"direction");if(s.direction===this.dir){delete this.dir}this.unbindDom();this.$el.html(this.template(this)||"");if(this.def&&this.def.css_class){this.getFieldElement().addClass(this.def.css_class)}this.$(this.fieldTag).attr("dir",this.dir);this.bindDomChange();return this},getFieldElement:function v(){return this.$el},bindDomChange:function b(){if(!(this.model instanceof Backbone.Model))return;var e=this;var t=this.$el.find(this.fieldTag);t.on("change",function(){e.model.set(e.name,e.unformat(t.val()))})},bindDataChange:function y(){if(this.model){this.model.on("change:"+this.name,function(e,t){if(this.action==="edit"){this.$(this.fieldTag).val(this.format(t))}else{this.render()}},this)}},hasChanged:function x(){return!_.isEqual(this.format(this.model.getSynced(this.name)),this.format(this.model.get(this.name)))},format:function S(e){return e},unformat:function w(e){return e},getFormattedValue:function L(){return this.format(this.model.has(this.name)?this.model.get(this.name):null)},handleValidationError:function E(e){},removeValidationErrors:function k(){},getPlaceholder:function A(){return new Handlebars.SafeString('<span sfuuid="'+this.sfId+'"></span>')},setDisabled:function M(e){e=_.isUndefined(e)?true:e;if(e&&this.isDisabled()===false){this._previousAction=this.action;this.action="disabled";this.render()}else if(e===false&&this.isDisabled()){this.action=this._previousAction;delete this._previousAction;this.render()}},isDisabled:function T(){return this.action==="disabled"},setViewName:function C(e){this.options.viewName=e},setMode:function R(e){if(this.isDisabled()){this._previousAction=e}else{this.action=e}this.setViewName(e);this.render()},unbindDom:function D(){this.$el.find(this.fieldTag).off()},_dispose:function I(){a.detach(this,"field");this.unbindDom();r.prototype._dispose.call(this)},toString:function O(){return"field-"+this.name+"-"+this.sfId+"-"+r.prototype.toString.call(this)},_show:function N(){this.getFieldElement().removeClass("hide").show();this.updateVisibleState(true)},_hide:function F(){this.getFieldElement().addClass("hide").hide();this.updateVisibleState(false)},equals:function B(e){return this.type===e.type&&_.isEqual(this.getFormattedValue(),e.getFormattedValue())},closestComponent:function U(e){if(!this.view){return}if(this.view.name===e){return this.view}return this.view.closestComponent(e)}});e.exports=l},function(e,t,n){"use strict";var i=n(33);var r=n(25);var a=n(22);var s=n(26);var o=i.extend({initialize:function l(e){r.attach(this,"layout");i.prototype.initialize.call(this,e);this._components=[];this.meta=this.meta||{};this.type=this.meta.type||this.options.type;this.name=this.meta.name||this.options.name||this.type||"";if(this.meta.label){this.label=this.meta.label}else if(this.options.def&&this.options.def.label){this.label=this.options.def.label}else if(this.options.label){this.label=this.options.label}else{this.label=""}this.layout=this.options.layout;this._loadTemplate(e);if(this.template){this.$el.append(this.template(this,e));this.placeComponentsFromTemplate()}if(this.meta.lazy_loaded){this._componentsMeta=this.meta.components;this.meta.components=[]}SUGAR.App.events.on("app:locale:change",function(){this.render()},this)},_loadTemplate:function u(e){e=e||{};if(this.meta.template){this.template=a.getLayout(this.meta.template,this.module)||a.getLayout(this.meta.template,e.loadModule);return}var t=a.getLayout(this.name,this.module)||a.getLayout(this.type,this.module);if(!t){if(e.loadModule){t=a.getLayout(this.name,e.loadModule)||a.getLayout(this.type,e.loadModule)}else{t=a.getLayout(this.name)||a.getLayout(this.type)}}this.template=t},placeComponentsFromTemplate:function c(){var e={};if(_.isEmpty(this._components)){return}this.$("span[cid]").each(function(){var t=$(this),n=t.attr("cid");e[n]=t});_.each(this._components,function(t){var n=e[t.cid];if(n){n.replaceWith(t.el)}},this)},initComponents:function d(e,t,n){if(this.disposed){return}var i,r;e=e||this.meta.components;r=this._components.length;this._addComponentsFromDef(e,t,n);i=this._components.slice(r);_.each(i,function(e){if(_.isFunction(e.initComponents)){e.initComponents()}});this.trigger("init");return i},createComponentFromDef:function f(e,t,n){t=t||this.context;n=n||this.module;if(e.context){if(e.context instanceof SUGAR.App.Context){t=e.context}else{t=t.getChildContext(e.context);t.prepare()}n=t.get("module")}if(e.view){if(_.isString(e.view)){return s.createView({context:t,name:e.view,def:e,module:n,loadModule:e.loadModule,primary:e.primary,layout:this})}else if(_.isObject(e.view)){if(e.view.meta){SUGAR.App.logger.warn("`meta` property in metadata layout definitions is deprecated since 7.8 "+"and will be removed in 7.9. Please use `xmeta` instead.")}return s.createView({context:t,module:n,loadModule:e.loadModule,meta:e.view.meta||e.view,type:e.view.type,name:e.view.name,primary:e.view.primary,def:e,layout:this})}}else if(e.layout){if(_.isString(e.layout)){return s.createLayout({context:t,name:e.layout,def:e,module:n,loadModule:e.loadModule,layout:this})}else if(_.isObject(e.layout)){if(e.layout.meta){SUGAR.App.logger.warn("`meta` property in metadata layout definitions is deprecated since 7.8 and "+"will be removed in 7.9. Please use `xmeta` instead.")}return s.createLayout({context:t,module:n,loadModule:e.loadModule,meta:e.layout.meta||e.layout,type:e.layout.type,name:e.layout.name,def:e,layout:this})}}else{SUGAR.App.logger.warn("Invalid layout definition:\n"+e.layout)}},_addComponentsFromDef:function h(e,t,n){e=e||[];_.each(e,function(e){if(e.initializedInTemplate){delete e.initializedInTemplate;return}if(e.view||e.layout){this.addComponent(this.createComponentFromDef(e,t,n),e)}},this)},addComponent:function p(e,t){if(!e.layout)e.layout=this;this._components.push(e);this._placeComponent(e,t)},_placeComponent:function m(e){this.$el.append(e.el)},removeComponent:function g(e){var t=_.isNumber(e)?e:this._components.indexOf(e);if(t>-1){var n=this._components.splice(t,1);n[0].layout=null}},getComponent:function v(e){return _.find(this._components,function(t){return t.name===e})},_render:function b(){if(this._components&&this._components.length>0){_.each(this._components,function(e){e.render()},this)}else{SUGAR.App.logger.info("Can't render anything because the layout has no components: "+this.toString()+"\nEither supply metadata or override Layout.render method")}return this},loadData:function y(e){if(arguments.length===2){SUGAR.App.logger.warn("The `setFields` argument is no longer supported. Views and Layouts must "+"add the fields they need without affecting other Views and Layouts")}if(this.disposed){return}this.context.loadData(e);_.each(this._components,function(t){t.loadData(e)},this)},getFieldNames:function x(e){var t=[];e=e||this.module;_.each(this._components,function(n){if(n.module==e){t=_.union(t,n.getFieldNames(null,true))}},this);return t},getFields:function S(e){var t={};_.each(this._components,function(n){_.extend(t,n.getFields(e))});return t},closestComponent:function w(e){if(!this.layout){return}if(this.layout.name===e){return this.layout}return this.layout.closestComponent(e)},_show:function L(){i.prototype._show.call(this);_.each(this._components,function(e){e.updateVisibleState(true)})},_hide:function E(){i.prototype._hide.call(this);_.each(this._components,function(e){e.updateVisibleState(true)})},_dispose:function k(){r.detach(this,"layout");this._disposeComponents();i.prototype._dispose.call(this)},_disposeComponents:function A(){_.each(this._components,function(e){e.dispose()});this._components=[]},toString:function M(){return"layout-"+(this.options.type||this.options.name)+"-"+i.prototype.toString.call(this)}});e.exports=o},function(e,t,n){"use strict";var i=n(24);var r=n(33);var a=n(25);var s=n(13);var o=n(22);var l=r.extend({initialize:function u(e){a.attach(this,"view");r.prototype.initialize.call(this,e);this.type=e.type;this.name=e.name||this.type;this.action=e.meta&&e.meta.action?e.meta.action:this.name;this._loadTemplate(e);this.fields={};this.fallbackFieldTemplate=this.fallbackFieldTemplate||"detail";this.layout=this.options.layout;this.primary=e.primary;this._setLabels();if(this.dataView){this.context.set("dataView",this.dataView)}else{this.context.addFields(this.getFieldNames())}SUGAR.App.events.on("app:locale:change",function(){this._setLabels()},this)},_getTemplate:function c(e,t){return o.getView(e,this.module)||o.getView(e,t)},_loadTemplate:function d(e){var t,n;e=e||{};if(e.template){t=e.template;n=null}else if(this.meta&&this.meta.template){t=this._getTemplate(this.meta.template,e.loadModule);n=this.meta.template}else{t=this._getTemplate(this.name,e.loadModule);n=this.name}if(!t){if(this.meta&&this.meta.type){t=this._getTemplate(this.meta.type,e.loadModule);n=this.meta.type}else{t=o.empty;n=""}}this.tplName=n;this.template=t},_renderHtml:function f(e,t){if(this.template){try{this.$el.html(this.template(e||this,t||this.options.templateOptions))}catch(n){SUGAR.App.logger.error("Failed to render "+this+"\n"+n);SUGAR.App.error.handleRenderError(this,"_renderHtml")}}},_renderFields:function h(){var e=this;var t={};this.$("span[sfuuid]").each(function(){var e=$(this),n=e.attr("sfuuid");t[n]=e});_.each(this.fields,function(n){e._renderField(n,t[n.sfId])})},_renderField:function p(e,t){e.setElement(t||this.$("span[sfuuid='"+e.sfId+"']"));try{e.render()}catch(n){SUGAR.App.logger.error("Failed to render "+e+" on "+this+"\n"+n);SUGAR.App.error.handleRenderError(this,"_renderField",e)}},_render:function m(){if(i.hasAccessToModel(this.action,this.model)){this._disposeFields();this._renderHtml();this._renderFields()}else{SUGAR.App.logger.info("Current user does not have access to this module view. name: "+this.name+" module: "+this.module);if(this.primary){SUGAR.App.error.handleRenderError(this,"view_render_denied")}}return this},_setLabels:function g(){this.modulePlural=s.getAppListStrings("moduleList")[this.module]||this.module;this.moduleSingular=s.getAppListStrings("moduleListSingular")[this.module]||this.modulePlural},loadData:function v(e){if(arguments.length===2){SUGAR.App.logger.warn("The `setFields` argument is no longer supported. Views and Layouts must "+"add the fields they need without affecting other Views and Layouts")}if(i.hasAccess("read",this.module)){this.context.loadData(e)}},getFieldNames:function b(e){var t=[];e=e||this.context.get("module");if(this.meta&&this.meta.panels){t=_.reduce(_.map(this.meta.panels,function(e){var t=_.flatten(_.compact(_.pluck(e.fields,"fields")));return _.pluck(e.fields,"name").concat(_.pluck(t,"name")).concat(_.flatten(_.compact(_.pluck(e.fields,"related_fields"))))}),function(e,t){return e.concat(t)},[])}t=_.compact(_.uniq(t));var n=SUGAR.App.metadata.getModule(e,"fields");if(n){t=_.reject(t,function(e){return _.isUndefined(n[e])});var i=[];_.each(t,function(e){if(n[e].type=="relate"){i.push(n[e].id_name)}else if(n[e].type=="parent"){i.push(n[e].id_name);i.push(n[e].type_name)}if(_.isArray(n[e].fields)){i=i.concat(n[e].fields)}});t=_.union(t,i)}return t},getFields:function y(e,t){var n={};var i=this.getFieldNames(e);_.each(i,function(e){var i=this.getField(e,t);if(i){n[e]=i.def}},this);return n},getField:function x(e,t){return _.find(this.fields,function(n){return n.name==e&&(!t||n.model==t)})},closestComponent:function S(e){if(!this.layout){return}if(this.layout.name===e){return this.layout}return this.layout.closestComponent(e)},_show:function w(){r.prototype._show.call(this);_.each(this.fields,function(e){e.updateVisibleState(true)})},_hide:function L(){r.prototype._hide.call(this);_.each(this.fields,function(e){e.updateVisibleState(true)})},_dispose:function E(){a.detach(this,"view");this._disposeFields();r.prototype._dispose.call(this)},_disposeFields:function k(){_.each(this.fields,function(e){e.dispose()});this.fields={}},toString:function A(){return"view-"+this.name+"-"+r.prototype.toString.call(this)},getFieldMeta:function M(e,t){var n=_.flatten(_.pluck(this.meta.panels,"fields")),i=_.find(n,function(t){return t.name===e});if(!i&&t){i=_.find(_.flatten(_.pluck(n,"fields")),function(t){return t&&t.name===e});if(i){i._isChild=true}}return i},setFieldMeta:function T(e,t){_.each(this.meta.panels,function(n){_.each(n.fields,function(i,r){if(i.name===e){n.fields[r]=_.extend(i,t)}else if(_.isArray(i.fields)){_.each(i.fields,function(n,r){if(n.name===e){i.fields[r]=_.extend(n,t)}})}})})}});e.exports=l},function(e,t){e.exports=function(){var e=[];e.toString=function t(){var e=[];for(var t=0;t<this.length;t++){var n=this[t];if(n[2]){e.push("@media "+n[2]+"{"+n[1]+"}")}else{e.push(n[1])}}return e.join("")};e.i=function(t,n){if(typeof t==="string")t=[[null,t,""]];var i={};for(var r=0;r<this.length;r++){var a=this[r][0];if(typeof a==="number")i[a]=true}for(r=0;r<t.length;r++){var s=t[r];if(typeof s[0]!=="number"||!i[s[0]]){if(n&&!s[2]){s[2]=n}else if(n){s[2]="("+s[2]+") and ("+n+")"}e.push(s)}}};return e}},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){if(e<12){return n?"vm":"VM"}else{return n?"nm":"NM"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};var i=e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){if(e<12){return"ص"}else{return"م"}},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},i=function(e){return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},a=function(e){return function(t,n,a,s){var o=i(t),l=r[e][i(t)];if(o===2){l=l[n?0:1]}return l.replace(/%d/i,t)}},s=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];var o=e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){if(e<12){return"ص"}else{return"م"}},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}});return o})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};var n=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"gecə"}else if(e<12){return"səhər"}else if(e<17){return"gündüz"}else{return"axşam"}},ordinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(e===0){return e+"-ıncı"}var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:n?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};if(i==="m"){return n?"хвіліна":"хвіліну"}else if(i==="h"){return n?"гадзіна":"гадзіну"}else{return e+" "+t(r[i],+e)}}var i=e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")
},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:n,mm:n,h:n,hh:n,d:"дзень",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"ночы"}else if(e<12){return"раніцы"}else if(e<17){return"дня"}else{return"вечара"}},ordinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return(e%10===2||e%10===3)&&(e%100!==12&&e%100!==13)?e+"-і":e+"-ы";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;if(e===0){return e+"-ев"}else if(n===0){return e+"-ен"}else if(n>10&&n<20){return e+"-ти"}else if(t===1){return e+"-ви"}else if(t===2){return e+"-ри"}else if(t===7||t===8){return e+"-ми"}else{return e+"-ти"}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};var i=e.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্র_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="রাত"&&e>=4||t==="দুপুর"&&e<5||t==="বিকাল"){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return"রাত"}else if(e<10){return"সকাল"}else if(e<17){return"দুপুর"}else if(e<20){return"বিকাল"}else{return"রাত"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};var i=e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="མཚན་མོ"&&e>=4||t==="ཉིན་གུང"&&e<5||t==="དགོང་དག"){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return"མཚན་མོ"}else if(e<10){return"ཞོགས་ཀས"}else if(e<17){return"ཉིན་གུང"}else if(e<20){return"དགོང་དག"}else{return"མཚན་མོ"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+r(i[n],e)}function n(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){if(e>9){return i(e%10)}return e}function r(e,t){if(t===2){return a(e)}return e}function a(e){var t={m:"v",b:"v",d:"z"};if(t[e.charAt(0)]===undefined){return e}return t[e.charAt(0)]+e.substring(1)}var s=e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},ordinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){var t=e===1?"añ":"vet";return e+t},week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){i+="minuta"}else if(e===2||e===3||e===4){i+="minute"}else{i+="minuta"}return i;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){i+="sat"}else if(e===2||e===3||e===4){i+="sata"}else{i+="sati"}return i;case"dd":if(e===1){i+="dan"}else{i+="dana"}return i;case"MM":if(e===1){i+="mjesec"}else if(e===2||e===3||e===4){i+="mjeseca"}else{i+="mjeseci"}return i;case"yy":if(e===1){i+="godina"}else if(e===2||e===3||e===4){i+="godine"}else{i+="godina"}return i}}var n=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:true,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=e===1?"r":e===2?"n":e===3?"r":e===4?"t":"è";if(t==="w"||t==="W"){n="a"}return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");function i(e){return e>1&&e<5&&~~(e/10)!==1}function r(e,t,n,r){var a=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":if(t||r){return a+(i(e)?"minuty":"minut")}else{return a+"minutami"}break;case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":if(t||r){return a+(i(e)?"hodiny":"hodin")}else{return a+"hodinami"}break;case"d":return t||r?"den":"dnem";case"dd":if(t||r){return a+(i(e)?"dny":"dní")}else{return a+"dny"}break;case"M":return t||r?"měsíc":"měsícem";case"MM":if(t||r){return a+(i(e)?"měsíce":"měsíců")}else{return a+"měsíci"}break;case"y":return t||r?"rok":"rokem";case"yy":if(t||r){return a+(i(e)?"roky":"let")}else{return a+"lety"}break}}var a=e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++){i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i")}return i}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(t),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пӗр-ик ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},ordinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(t>20){if(t===40||t===50||t===60||t===80||t===100){n="fed"}else{n="ain"}}else if(t>0){n=i[t]}return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}var n=e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}var n=e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];var i=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){if(e<12){return"މކ"}else{return"މފ"}},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}var n=e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){if(/D/.test(t.substring(0,t.indexOf("MMMM")))){return this._monthsGenitiveEl[e.month()]}else{return this._monthsNominativeEl[e.month()]}},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){if(e>11){return n?"μμ":"ΜΜ"}else{return n?"πμ":"ΠΜ"}},isPM:function(e){return(e+"").toLowerCase()[0]==="μ"},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,n){var i=this._calendarEl[e],r=n&&n.hours();if(t(i)){i=i.apply(n)}return i.replace("{}",r%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return e.charAt(0).toLowerCase()==="p"},meridiem:function(e,t,n){if(e>11){return n?"p.t.m.":"P.T.M."}else{return n?"a.t.m.":"A.T.M."}},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT";

},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};if(t){return r[n][2]?r[n][2]:r[n][1]}return i?r[n][0]:r[n][1]}var n=e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:true,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};var i=e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){if(e<12){return"قبل از ظهر"}else{return"بعد از ظهر"}},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function i(e,t,n,i){var a="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":a=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":a=i?"tunnin":"tuntia";break;case"d":return i?"päivän":"päivä";case"dd":a=i?"päivän":"päivää";break;case"M":return i?"kuukauden":"kuukausi";case"MM":a=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":a=i?"vuoden":"vuotta";break}a=r(e,i)+" "+a;return a}function r(e,i){return e<10?i?n[e]:t[e]:e}var a=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(e===1?"er":"e")}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(e===1?"er":"e")},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(e===1?"er":"")},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");var i=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"];var n=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"];var i=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"];var r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"];var a=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];var s=e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:true,weekdays:i,weekdaysShort:r,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},ordinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=e===1?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),monthsParseExact:true,weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(this.hours()!==1?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){if(e==="uns segundos"){return"nuns segundos"}return"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){if(e===2){return"שעתיים"}return e+" שעות"},d:"יום",dd:function(e){if(e===2){return"יומיים"}return e+" ימים"},M:"חודש",MM:function(e){if(e===2){return"חודשיים"}return e+" חודשים"},y:"שנה",yy:function(e){if(e===2){return"שנתיים"}else if(e%10===0&&e!==10){return e+" שנה"}return e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){if(e<5){return"לפנות בוקר"}else if(e<10){return"בבוקר"}else if(e<12){return n?'לפנה"צ':"לפני הצהריים"}else if(e<18){return n?'אחה"צ':"אחרי הצהריים"}else{return"בערב"}}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};var i=e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:true,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="रात"){return e<4?e:e+12}else if(t==="सुबह"){return e}else if(t==="दोपहर"){return e>=10?e:e+12}else if(t==="शाम"){return e+12}},meridiem:function(e,t,n){if(e<4){return"रात"}else if(e<10){return"सुबह"}else if(e<17){return"दोपहर"}else if(e<20){return"शाम"}else{return"रात"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){i+="minuta"}else if(e===2||e===3||e===4){i+="minute"}else{i+="minuta"}return i;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){i+="sat"}else if(e===2||e===3||e===4){i+="sata"}else{i+="sati"}return i;case"dd":if(e===1){i+="dan"}else{i+="dana"}return i;case"MM":if(e===1){i+="mjesec"}else if(e===2||e===3||e===4){i+="mjeseca"}else{i+="mjeseci"}return i;case"yy":if(e===1){i+="godina"}else if(e===2||e===3||e===4){i+="godine"}else{i+="godina"}return i}}var n=e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,i){var r=e,a;switch(n){case"s":return i||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" óra":" órája");case"hh":return r+(i||t?" óra":" órája");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hónap":" hónapja");case"MM":return r+(i||t?" hónap":" hónapja");case"y":return"egy"+(i||t?" év":" éve");case"yy":return r+(i||t?" év":" éve")}return""}function i(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}var r=e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return e.charAt(1).toLowerCase()==="u"},meridiem:function(e,t,n){if(e<12){return n===true?"de":"DE"}else{return n===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,false)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){if(e<4){return"գիշերվա"}else if(e<12){return"առավոտվա"}else if(e<17){return"ցերեկվա"}else{return"երեկոյան"}},ordinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":if(e===1){return e+"-ին"}return e+"-րդ";default:return e}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="siang"){return e>=11?e:e+12}else if(t==="sore"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"siang"}else if(e<19){return"sore"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e){if(e%100===11){return true}else if(e%10===1){return false}return true}function n(e,n,i,r){var a=e+" ";switch(i){case"s":return n||r?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return n?"mínúta":"mínútu";case"mm":if(t(e)){return a+(n||r?"mínútur":"mínútum")}else if(n){return a+"mínúta"}return a+"mínútu";case"hh":if(t(e)){return a+(n||r?"klukkustundir":"klukkustundum")}return a+"klukkustund";case"d":if(n){return"dagur"}return r?"dag":"degi";case"dd":if(t(e)){if(n){return a+"dagar"}return a+(r?"daga":"dögum")}else if(n){return a+"dagur"}return a+(r?"dag":"degi");case"M":if(n){return"mánuður"}return r?"mánuð":"mánuði";case"MM":if(t(e)){if(n){return a+"mánuðir"}return a+(r?"mánuði":"mánuðum")}else if(n){return a+"mánuður"}return a+(r?"mánuð":"mánuði");case"y":return n||r?"ár":"ári";case"yy":if(t(e)){return a+(n||r?"ár":"árum")}return a+(n||r?"ár":"ári")}}var i=e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return e==="午後"},meridiem:function(e,t,n){if(e<12){return"午前"}else{return"午後"}},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},ordinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),
monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="enjing"){return e}else if(t==="siyang"){return e>=11?e:e+12}else if(t==="sonten"||t==="ndalu"){return e+12}},meridiem:function(e,t,n){if(e<11){return"enjing"}else if(e<15){return"siyang"}else if(e<19){return"sonten"}else{return"ndalu"}},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){if(/(წამი|წუთი|საათი|დღე|თვე)/.test(e)){return e.replace(/(ი|ე)$/,"ის წინ")}if(/წელი/.test(e)){return e.replace(/წელი$/,"წლის წინ")}},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){if(e===0){return e}if(e===1){return e+"-ლი"}if(e<20||e<=100&&e%20===0||e%100===0){return"მე-"+e}return e+"-ე"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};var n=e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},ordinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h시 m분",LLLL:"YYYY년 MMMM D일 dddd A h시 m분"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"일분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(e){return e==="오후"},meridiem:function(e,t,n){return e<12?"오전":"오후"}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};var n=e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},ordinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));if(r(t)){return"a "+e}return"an "+e}function i(e){var t=e.substr(0,e.indexOf(" "));if(r(t)){return"viru "+e}return"virun "+e}function r(e){e=parseInt(e,10);if(isNaN(e)){return false}if(e<0){return true}else if(e<10){if(4<=e&&e<=7){return true}return false}else if(e<100){var t=e%10,n=e/10;if(t===0){return r(n)}return r(t)}else if(e<1e4){while(e>=10){e=e/10}return r(e)}else{e=e/1e3;return r(e)}}var a=e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return e==="ຕອນແລງ"},meridiem:function(e,t,n){if(e<12){return"ຕອນເຊົ້າ"}else{return"ຕອນແລງ"}},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},ordinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,i){if(t){return"kelios sekundės"}else{return i?"kelių sekundžių":"kelias sekundes"}}function i(e,t,n,i){return t?a(n)[0]:i?a(n)[1]:a(n)[2]}function r(e){return e%10===0||e>10&&e<20}function a(e){return t[e].split("_")}function s(e,t,n,s){var o=e+" ";if(e===1){return o+i(e,t,n[0],s)}else if(t){return o+(r(e)?a(n)[1]:a(n)[0])}else{if(s){return o+a(n)[1]}else{return o+(r(e)?a(n)[1]:a(n)[2])}}}var o=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?|MMMM?(\[[^\[\]]*\]|\s+)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:n,m:i,mm:s,h:i,hh:s,d:i,dd:s,M:i,MM:s,y:i,yy:s},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return o})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){if(n){return t%10===1&&t%100!==11?e[2]:e[3]}else{return t%10===1&&t%100!==11?e[0]:e[1]}}function i(e,i,r){return e+" "+n(t[r],e,i)}function r(e,i,r){return n(t[r],e,i)}function a(e,t){return t?"dažas sekundes":"dažām sekundēm"}var s=e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:a,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];if(i.length===1){return n?r[0]:r[1]}else{return e+" "+t.correctGrammaticalCase(e,r)}}};var n=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;if(e===0){return e+"-ев"}else if(n===0){return e+"-ен"}else if(n>10&&n<20){return e+"-ти"}else if(t===1){return e+"-ви"}else if(t===2){return e+"-ри"}else if(t===7||t===8){return e+"-ми"}else{return e+"-ти"}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:true,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){if(e===12){e=0}if(t==="രാത്രി"&&e>=4||t==="ഉച്ച കഴിഞ്ഞ്"||t==="വൈകുന്നേരം"){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return"രാത്രി"}else if(e<12){return"രാവിലെ"}else if(e<17){return"ഉച്ച കഴിഞ്ഞ്"}else if(e<20){return"വൈകുന്നേരം"}else{return"രാത്രി"}}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function i(e,t,n,i){var r="";if(t){switch(n){case"s":r="काही सेकंद";break;case"m":r="एक मिनिट";break;case"mm":r="%d मिनिटे";break;case"h":r="एक तास";break;case"hh":r="%d तास";break;case"d":r="एक दिवस";break;case"dd":r="%d दिवस";break;case"M":r="एक महिना";break;case"MM":r="%d महिने";break;case"y":r="एक वर्ष";break;case"yy":r="%d वर्षे";break}}else{switch(n){case"s":r="काही सेकंदां";break;case"m":r="एका मिनिटा";break;case"mm":r="%d मिनिटां";break;case"h":r="एका तासा";break;case"hh":r="%d तासां";break;case"d":r="एका दिवसा";break;case"dd":r="%d दिवसां";break;case"M":r="एका महिन्या";break;case"MM":r="%d महिन्यां";break;case"y":r="एका वर्षा";break;case"yy":r="%d वर्षां";break}}return r.replace(/%d/i,e)}var r=e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:true,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="रात्री"){return e<4?e:e+12}else if(t==="सकाळी"){return e}else if(t==="दुपारी"){return e>=10?e:e+12}else if(t==="सायंकाळी"){return e+12}},meridiem:function(e,t,n){if(e<4){return"रात्री"}else if(e<10){return"सकाळी"}else if(e<17){return"दुपारी"}else if(e<20){return"सायंकाळी"}else{return"रात्री"}},week:{dow:0,doy:6}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};var i=e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:true,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};var i=e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:true,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="राति"){return e<4?e:e+12}else if(t==="बिहान"){return e}else if(t==="दिउँसो"){return e>=10?e:e+12}else if(t==="साँझ"){return e+12}},meridiem:function(e,t,n){if(e<3){return"राति"}else if(e<12){return"बिहान"}else if(e<16){return"दिउँसो"}else if(e<20){return"साँझ"}else{return"राति"}},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var i=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",
8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};var i=e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="ਰਾਤ"){return e<4?e:e+12}else if(t==="ਸਵੇਰ"){return e}else if(t==="ਦੁਪਹਿਰ"){return e>=10?e:e+12}else if(t==="ਸ਼ਾਮ"){return e+12}},meridiem:function(e,t,n){if(e<4){return"ਰਾਤ"}else if(e<10){return"ਸਵੇਰ"}else if(e<17){return"ਦੁਪਹਿਰ"}else if(e<20){return"ਸ਼ਾਮ"}else{return"ਰਾਤ"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function r(e,t,n){var r=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(i(e)?"godziny":"godzin");case"MM":return r+(i(e)?"miesiące":"miesięcy");case"yy":return r+(i(e)?"lata":"lat")}}var a=e.defineLocale("pl",{months:function(e,i){if(i===""){return"("+n[e.month()]+"|"+t[e.month()]+")"}else if(/D MMMM/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:r,mm:r,h:r,hh:r,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:r,y:"rok",yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";if(e%100>=20||e>=100&&e%100===0){r=" de "}return e+r+i[n]}var n=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:true,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};if(i==="m"){return n?"минута":"минуту"}else{return e+" "+t(r[i],+e)}}var i=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];var r=e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}}else{if(this.day()===2){return"[Во] dddd [в] LT"}else{return"[В] dddd [в] LT"}}},lastWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}}else{if(this.day()===2){return"[Во] dddd [в] LT"}else{return"[В] dddd [в] LT"}}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"ночи"}else if(e<12){return"утра"}else if(e<17){return"дня"}else{return"вечера"}},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}});return r})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},ordinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return e==="ප.ව."||e==="පස් වරු"},meridiem:function(e,t,n){if(e>11){return n?"ප.ව.":"පස් වරු"}else{return n?"පෙ.ව.":"පෙර වරු"}}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function r(e,t,n,r){var a=e+" ";switch(n){case"s":return t||r?"pár sekúnd":"pár sekundami";case"m":return t?"minúta":r?"minútu":"minútou";case"mm":if(t||r){return a+(i(e)?"minúty":"minút")}else{return a+"minútami"}break;case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":if(t||r){return a+(i(e)?"hodiny":"hodín")}else{return a+"hodinami"}break;case"d":return t||r?"deň":"dňom";case"dd":if(t||r){return a+(i(e)?"dni":"dní")}else{return a+"dňami"}break;case"M":return t||r?"mesiac":"mesiacom";case"MM":if(t||r){return a+(i(e)?"mesiace":"mesiacov")}else{return a+"mesiacmi"}break;case"y":return t||r?"rok":"rokom";case"yy":if(t||r){return a+(i(e)?"roky":"rokov")}else{return a+"rokmi"}break}}var a=e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":if(e===1){r+=t?"minuta":"minuto"}else if(e===2){r+=t||i?"minuti":"minutama"}else if(e<5){r+=t||i?"minute":"minutami"}else{r+=t||i?"minut":"minutami"}return r;case"h":return t?"ena ura":"eno uro";case"hh":if(e===1){r+=t?"ura":"uro"}else if(e===2){r+=t||i?"uri":"urama"}else if(e<5){r+=t||i?"ure":"urami"}else{r+=t||i?"ur":"urami"}return r;case"d":return t||i?"en dan":"enim dnem";case"dd":if(e===1){r+=t||i?"dan":"dnem"}else if(e===2){r+=t||i?"dni":"dnevoma"}else{r+=t||i?"dni":"dnevi"}return r;case"M":return t||i?"en mesec":"enim mesecem";case"MM":if(e===1){r+=t||i?"mesec":"mesecem"}else if(e===2){r+=t||i?"meseca":"mesecema"}else if(e<5){r+=t||i?"mesece":"meseci"}else{r+=t||i?"mesecev":"meseci"}return r;case"y":return t||i?"eno leto":"enim letom";case"yy":if(e===1){r+=t||i?"leto":"letom"}else if(e===2){r+=t||i?"leti":"letoma"}else if(e<5){r+=t||i?"leta":"leti"}else{r+=t||i?"let":"leti"}return r}}var n=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:true,meridiemParse:/PD|MD/,isPM:function(e){return e.charAt(0)==="M"},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];if(i.length===1){return n?r[0]:r[1]}else{return e+" "+t.correctGrammaticalCase(e,r)}}};var n=e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:true,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var e=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];if(i.length===1){return n?r[0]:r[1]}else{return e+" "+t.correctGrammaticalCase(e,r)}}};var n=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){if(e<11){return"ekuseni"}else if(e<15){return"emini"}else if(e<19){return"entsambama"}else{return"ebusuku"}},meridiemHour:function(e,t){if(e===12){e=0}if(t==="ekuseni"){return e}else if(t==="emini"){return e>=11?e:e+12}else if(t==="entsambama"||t==="ebusuku"){if(e===0){return 0}return e+12}},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"e":t===1?"a":t===2?"a":t===3?"e":"e";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};var i=e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){if(e<2){return" யாமம்"}else if(e<6){return" வைகறை"}else if(e<10){return" காலை"}else if(e<14){return" நண்பகல்"}else if(e<18){return" எற்பாடு"}else if(e<22){return" மாலை"}else{return" யாமம்"}},meridiemHour:function(e,t){if(e===12){e=0}if(t==="யாமம்"){return e<2?e:e+12}else if(t==="வைகறை"||t==="காலை"){return e}else if(t==="நண்பகல்"){return e>=10?e:e+12}else{return e+12}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:true,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},ordinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="రాత్రి"){return e<4?e:e+12}else if(t==="ఉదయం"){return e}else if(t==="మధ్యాహ్నం"){return e>=10?e:e+12}else if(t==="సాయంత్రం"){return e+12}},meridiem:function(e,t,n){if(e<4){return"రాత్రి"}else if(e<10){return"ఉదయం"}else if(e<17){return"మధ్యాహ్నం"}else if(e<20){return"సాయంత్రం"}else{return"రాత్రి"}},week:{dow:0,doy:6}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:true,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H นาฬิกา m นาที",LTS:"H นาฬิกา m นาที s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H นาฬิกา m นาที",LLLL:"วันddddที่ D MMMM YYYY เวลา H นาฬิกา m นาที"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return e==="หลังเที่ยง"},meridiem:function(e,t,n){if(e<12){return"ก่อนเที่ยง"}else{return"หลังเที่ยง"}},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{
LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"leS":e.indexOf("jar")!==-1?t.slice(0,-3)+"waQ":e.indexOf("DIS")!==-1?t.slice(0,-3)+"nem":t+" pIq";return t}function i(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"Hu’":e.indexOf("jar")!==-1?t.slice(0,-3)+"wen":e.indexOf("DIS")!==-1?t.slice(0,-3)+"ben":t+" ret";return t}function r(e,t,n,i){var r=a(e);switch(n){case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function a(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),r=e%10,a="";if(n>0){a+=t[n]+"vatlh"}if(i>0){a+=(a!==""?" ":"")+t[i]+"maH"}if(r>0){a+=(a!==""?" ":"")+t[r]}return a===""?"pagh":a}var s=e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:true,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:i,s:"puS lup",m:"wa’ tup",mm:r,h:"wa’ rep",hh:r,d:"wa’ jaj",dd:r,M:"wa’ jar",MM:r,y:"wa’ DIS",yy:r},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};var n=e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(e===0){return e+"'ıncı"}var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){if(e>11){return n?"d'o":"D'O"}else{return n?"d'a":"D'A"}},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function n(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",""+e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",""+e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",""+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",""+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",""+e+" ars"]};return i?r[n][0]:t?r[n][0]:r[n][1]}return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:n?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};if(i==="m"){return n?"хвилина":"хвилину"}else if(i==="h"){return n?"година":"годину"}else{return e+" "+t(r[i],+e)}}function i(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},i=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]}function r(e){return function(){return e+"о"+(this.hours()===11?"б":"")+"] LT"}}var a=e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:i,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:r("[Сьогодні "),nextDay:r("[Завтра "),lastDay:r("[Вчора "),nextWeek:r("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[Минулої] dddd [").call(this);case 1:case 2:case 4:return r("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"ночі"}else if(e<12){return"ранку"}else if(e<17){return"дня"}else{return"вечора"}},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}});return a})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:true,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:true,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){if(e<12){return n?"sa":"SA"}else{return n?"ch":"CH"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:true,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="凌晨"||t==="早上"||t==="上午"){return e}else if(t==="下午"||t==="晚上"){return e+12}else{return e>=11?e:e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return"凌晨"}else if(i<900){return"早上"}else if(i<1130){return"上午"}else if(i<1230){return"中午"}else if(i<1800){return"下午"}else{return"晚上"}},calendar:{sameDay:function(){return this.minutes()===0?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return this.minutes()===0?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return this.minutes()===0?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,n;t=e().startOf("week");n=this.diff(t,"days")>=7?"[下]":"[本]";return this.minutes()===0?n+"dddAh点整":n+"dddAh点mm"},lastWeek:function(){var t,n;t=e().startOf("week");n=this.unix()<t.unix()?"[上]":"[本]";return this.minutes()===0?n+"dddAh点整":n+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(2)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm分",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah點mm分",LLLL:"YYYY年MMMD日ddddAh點mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah點mm分",llll:"YYYY年MMMD日ddddAh點mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="凌晨"||t==="早上"||t==="上午"){return e}else if(t==="中午"){return e>=11?e:e+12}else if(t==="下午"||t==="晚上"){return e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return"凌晨"}else if(i<900){return"早上"}else if(i<1130){return"上午"}else if(i<1230){return"中午"}else if(i<1800){return"下午"}else{return"晚上"}},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}});return t})},function(e,t){e.exports=function(e){if(typeof execScript!=="undefined")execScript(e);else eval.call(null,e)}},function(e,t){var n={},i=function(e){var t;return function(){if(typeof t==="undefined")t=e.apply(this,arguments);return t}},r=i(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),a=i(function(){return document.head||document.getElementsByTagName("head")[0]}),s=null,o=0,l=[];e.exports=function(e,t){if(typeof DEBUG!=="undefined"&&DEBUG){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}t=t||{};if(typeof t.singleton==="undefined")t.singleton=r();if(typeof t.insertAt==="undefined")t.insertAt="bottom";var i=c(e);u(i,t);return function a(e){var r=[];for(var a=0;a<i.length;a++){var s=i[a];var o=n[s.id];o.refs--;r.push(o)}if(e){var l=c(e);u(l,t)}for(var a=0;a<r.length;a++){var o=r[a];if(o.refs===0){for(var d=0;d<o.parts.length;d++)o.parts[d]();delete n[o.id]}}}};function u(e,t){for(var i=0;i<e.length;i++){var r=e[i];var a=n[r.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++){a.parts[s](r.parts[s])}for(;s<r.parts.length;s++){a.parts.push(m(r.parts[s],t))}}else{var o=[];for(var s=0;s<r.parts.length;s++){o.push(m(r.parts[s],t))}n[r.id]={id:r.id,refs:1,parts:o}}}}function c(e){var t=[];var n={};for(var i=0;i<e.length;i++){var r=e[i];var a=r[0];var s=r[1];var o=r[2];var l=r[3];var u={css:s,media:o,sourceMap:l};if(!n[a])t.push(n[a]={id:a,parts:[u]});else n[a].parts.push(u)}return t}function d(e,t){var n=a();var i=l[l.length-1];if(e.insertAt==="top"){if(!i){n.insertBefore(t,n.firstChild)}else if(i.nextSibling){n.insertBefore(t,i.nextSibling)}else{n.appendChild(t)}l.push(t)}else if(e.insertAt==="bottom"){n.appendChild(t)}else{throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}}function f(e){e.parentNode.removeChild(e);var t=l.indexOf(e);if(t>=0){l.splice(t,1)}}function h(e){var t=document.createElement("style");t.type="text/css";d(e,t);return t}function p(e){var t=document.createElement("link");t.rel="stylesheet";d(e,t);return t}function m(e,t){var n,i,r;if(t.singleton){var a=o++;n=s||(s=h(t));i=g.bind(null,n,a,false);r=g.bind(null,n,a,true)}else if(e.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){n=p(t);i=b.bind(null,n);r=function(){f(n);if(n.href)URL.revokeObjectURL(n.href)}}else{n=h(t);i=v.bind(null,n);r=function(){f(n)}}i(e);return function l(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else{r()}}}var _=function(){var e=[];return function(t,n){e[t]=n;return e.filter(Boolean).join("\n")}}();function g(e,t,n,i){var r=n?"":i.css;if(e.styleSheet){e.styleSheet.cssText=_(t,r)}else{var a=document.createTextNode(r);var s=e.childNodes;if(s[t])e.removeChild(s[t]);if(s.length){e.insertBefore(a,s[t])}else{e.appendChild(a)}}}function v(e,t){var n=t.css;var i=t.media;var r=t.sourceMap;if(i){e.setAttribute("media",i)}if(e.styleSheet){e.styleSheet.cssText=n}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(n))}}function b(e,t){var n=t.css;var i=t.media;var r=t.sourceMap;if(r){n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"}var a=new Blob([n],{type:"text/css"});var s=e.href;e.href=URL.createObjectURL(a);if(s)URL.revokeObjectURL(s)}},function(e,t,n){var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function r(e,t){this._id=e;this._clearFn=t}r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function n(){if(e._onTimeout)e._onTimeout()},t)}};n(551);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(e,t,n){"use strict";window.$=n(359);n(557);n(558);n(559);n(560);n(216);n(561);n(217);window.d3=n(367);window._=n(556);_.mixin(n(555));n(550);_.getNested=function(e){return function t(){var t=arguments[1];arguments[1]=_.isArray(t)?t:String(t);return e.apply(this,arguments)}}(_.getNested);window.Promise=n(15);window.moment=n(2);window.async=n(219);window.store=n(368);window.JpegMeta=n(362);window.MegaPixImage=n(210);window.JPEGEncoder=n(361);window.FastClick=n(209);window.Scroller=n(366);window.EasyScroller=n(360);window.Raven=n(363);n(211);n(544);n(212);n(214);n(215);if(true){window.ScrollFix=n(365);n(213);n(552)}n(549);window.Handlebars=n(542);window.version_compare=n(369);var i=n(364);i.Api=n(218);window.SUGAR=i;n(562);n(563);n(564);n(291);n(288);n(287);n(290);n(298);n(279);n(283);n(280);n(281);n(278);n(74);n(292);n(293);n(289);n(294);n(285);n(284);n(286);n(297);n(296);n(295);if(!window.JASMINE_OFFLINE){var r=n.p;n.p="js/";n(553);n.p=r;i.App.augment("config",n(545),false);if(true){n(344)}n(543);n(226);n(245);n(246);i.App.nomad=n(1);n(31);n(220);n(235);n(236);n(234);n(228);n(222);n(48);n(233);n(65);n(224);n(227);n(221);n(247);n(17);n(27);n(16);n(237);n(238);n(239);n(240);n(241);n(9);n(301);n(299);n(73);n(7);n(54);n(52);n(79);n(322);n(87);n(302);n(339);n(337);n(335);n(336);n(303);n(86);n(78);n(53);n(89);n(342);n(343);n(50);n(76);n(11);n(41);n(328);n(12);n(81);n(42);n(329);n(332);n(80);n(84);n(331);n(330);n(324);n(40);n(51);n(311);n(312);n(19);n(77);n(314);n(315);n(316);n(29);n(28);n(35);n(68);n(30);n(250);n(248);n(251);n(66);n(254);n(252);n(255);n(256);n(67);n(253);n(249);n(310);n(4);n(258);n(36);n(259);n(69);n(260);n(36);n(269);n(70);n(268);n(266);n(267);n(263);n(261);n(273);n(71);n(262);n(274);n(275);n(271);n(264);n(265);n(277);n(272);n(72);n(270);n(257);n(276);n(305);n(320);n(321);n(225);if(true){n(348);n(90);n(347)}else{require("%app.js%/native/nomad");require("%app.js%/native/local-security");require("%app.js%/native/keychain");require("%app.js%/native/translation");require("%app.js%/native/login-manager");require("%app.core%/mdm-manager")}if(["e2e","debug","qa"].indexOf("store")!==-1){n(300);n(318)}n(229);var a=n(349);window.Handlebars.templates=window.Handlebars.templates||{};var s=["error-emulation"];var o=n(208);a.requireModulesWithinContext(o,function(e){var t=a.adjustTemplateName(e);if(s.indexOf(t)===-1||["e2e","debug","qa"].indexOf("store")!==-1){window.Handlebars.templates[t]=o(e)}});if(false){require("%app%/entries/custom")}if(false){e.hot.accept("%app%/less/bootstrap-mobile.less")}if(false){require("%app.views%/offline/offline-data-generation-view.js");require("%app.js%/utils/performance/logger.js")}}if(false){window.sinon=require("imports-loader?global=>window!%app.lib%/sinon-server.js");require("%cukes%/tests/client/dialog-overriding")}},function(e,t,n){var i={"./dashlets/activity-item.hbs":378,"./dashlets/activity-list.hbs":379,"./dashlets/activity-post.hbs":380,"./dashlets/bubblechart-tooltip.hbs":381,"./dashlets/bubblechart.hbs":382,"./dashlets/dashlet-options.hbs":383,"./dashlets/donutchart.hbs":384,"./dashlets/forecast-pareto.hbs":385,"./dashlets/forecast-pipeline.hbs":386,"./dashlets/forecastdetails.hbs":387,"./dashlets/saved-reports-chart.hbs":388,"./dashlets/user-activity-list-item.hbs":389,"./dashlets/webpage.hbs":390,"./fields/address/detail.hbs":391,"./fields/address/edit.hbs":392,"./fields/address/readonly.hbs":393,"./fields/base/detail.hbs":394,"./fields/base/edit.hbs":395,"./fields/base/list.hbs":396,"./fields/base/login.hbs":397,"./fields/base/readonly.hbs":398,"./fields/bool/detail.hbs":399,"./fields/bool/edit.hbs":400,"./fields/bool/list.hbs":401,"./fields/bool/readonly.hbs":402,"./fields/currency/edit.hbs":403,"./fields/date/edit.hbs":404,"./fields/datetimecombo/edit.hbs":405,"./fields/email/detail.hbs":406,"./fields/email/edit.hbs":407,"./fields/email/list.hbs":408,"./fields/email/readonly.hbs":409,"./fields/emailbody/readonly.hbs":410,"./fields/enum/detail.hbs":411,"./fields/enum/edit.hbs":412,"./fields/enum/list.hbs":413,"./fields/enum/readonly.hbs":414,"./fields/favorite/detail.hbs":415,"./fields/favorite/list.hbs":416,"./fields/fieldset/detail.hbs":417,"./fields/fieldset/readonly.hbs":418,"./fields/file/detail.hbs":419,"./fields/file/edit.hbs":420,"./fields/file/list.hbs":421,"./fields/file/readonly.hbs":422,"./fields/float/edit.hbs":423,"./fields/follow/detail.hbs":424,"./fields/html/readonly.hbs":425,"./fields/image/detail.hbs":426,"./fields/image/edit.hbs":427,"./fields/image/list.hbs":428,"./fields/image/readonly.hbs":429,"./fields/int/edit.hbs":430,"./fields/invitees/edit.hbs":431,"./fields/label/detail.hbs":432,"./fields/multienum/detail.hbs":433,"./fields/multienum/edit.hbs":434,"./fields/multienum/list.hbs":435,"./fields/multienum/readonly.hbs":436,"./fields/parent/detail.hbs":437,"./fields/parent/edit.hbs":438,"./fields/parent/list.hbs":439,"./fields/parent/readonly.hbs":440,"./fields/password/login.hbs":441,"./fields/phone/detail.hbs":442,"./fields/phone/edit.hbs":443,"./fields/phone/list.hbs":444,"./fields/phone/readonly.hbs":445,"./fields/radioenum/detail.hbs":446,"./fields/radioenum/edit.hbs":447,"./fields/radioenum/list.hbs":448,"./fields/radioenum/readonly.hbs":449,"./fields/relate/detail.hbs":450,"./fields/relate/edit.hbs":451,"./fields/relate/list.hbs":452,"./fields/relate/readonly.hbs":453,"./fields/relationship/list.hbs":454,"./fields/tag/detail.hbs":455,"./fields/tag/list.hbs":456,"./fields/tag/readonly.hbs":457,"./fields/teamset-name/list.hbs":458,"./fields/teamset/detail.hbs":459,"./fields/teamset/edit.hbs":460,"./fields/teamset/list.hbs":461,"./fields/teamset/readonly.hbs":462,"./fields/textarea/detail.hbs":463,"./fields/textarea/edit.hbs":464,"./fields/textarea/list.hbs":465,"./fields/textarea/readonly.hbs":466,"./fields/url/about.hbs":467,"./fields/url/detail.hbs":468,"./fields/url/edit.hbs":469,"./fields/url/list.hbs":470,"./fields/url/readonly.hbs":471,"./overlay/overlay-default.hbs":472,"./overlay/overlay-record.hbs":473,"./overlay/preloader-convert-lead.hbs":474,"./overlay/preloader-panel.hbs":475,"./overlay/spinner.hbs":476,"./ui-elements/icon-module.hbs":477,"./ui-elements/icon.hbs":478,"./ui-elements/ptr-spinner.hbs":479,"./ui-elements/sugarcrm-copyright-logo.hbs":480,"./views/about/about.hbs":481,"./views/actionsheet/actionsheet.hbs":482,"./views/actionsheet/nps-actionsheet.hbs":483,"./views/alert/alert.hbs":484,"./views/bulk-load-setup/bulk-load-setup.hbs":485,"./views/container/dropdown-switcher.hbs":486,"./views/container/pagination-switcher.hbs":487,"./views/container/switch-container.hbs":488,"./views/container/tab-switcher.hbs":489,"./views/context-menu/context-menu.hbs":490,"./views/dashboard/dashboard.hbs":491,"./views/detail/modules/detail-TxLog.hbs":492,"./views/detail/record-card.hbs":493,"./views/detail/record-summary.hbs":494,"./views/edit/address-edit.hbs":495,"./views/edit/edit-field-error.hbs":496,"./views/edit/edit.hbs":497,"./views/edit/textarea-edit.hbs":498,"./views/error/error-emulation.hbs":499,"./views/error/error.hbs":500,"./views/filters/filters.hbs":501,"./views/header/header.hbs":502,"./views/lead-conversion/lead-conversion-list-item-radio-selector.hbs":503,"./views/lead-conversion/lead-conversion-list-switcher.hbs":504,"./views/lead-conversion/lead-conversion-navigation-view.hbs":505,"./views/lead-conversion/lead-conversion-view.hbs":506,"./views/list/comments-list.hbs":507,"./views/list/leads-list-item.hbs":508,"./views/list/list-item-picker.hbs":509,"./views/list/list-item-teamset.hbs":510,"./views/list/list-item-tx-log.hbs":511,"./views/list/list-item.hbs":512,"./views/list/list-no-records.hbs":513,"./views/list/list-not-authorized.hbs":514,"./views/list/list-picker.hbs":515,"./views/list/list-show-more-bottom.hbs":516,"./views/list/list-show-more-top.hbs":517,"./views/list/list.hbs":518,"./views/list/menu-list-item.hbs":519,"./views/list/twitter-list-item.hbs":520,"./views/login-settings/login-settings-section.hbs":521,"./views/login-settings/login-settings.hbs":522,"./views/login/login.hbs":523,"./views/main-menu/main-menu.hbs":524,"./views/offline/offline-data-generation.hbs":525,"./views/offline/offline-settings.hbs":526,"./views/offline/offline-stats.hbs":527,"./views/offline/offline-status-icon.hbs":528,"./views/offline/offline-statusbar.hbs":529,"./views/offline/offline.hbs":530,"./views/ptr.hbs":531,"./views/record/record-action-button.hbs":532,"./views/record/record-actions.hbs":533,"./views/related-records/related-records.hbs":534,"./views/right-menu/right-menu.hbs":535,"./views/search-box/search-box.hbs":536,"./views/settings/settings.hbs":537,"./views/taggable/taggable.hbs":538,"./views/touchid-setup/touchid-setup.hbs":539,"./views/tutorial/tutorial-message.hbs":540,"./views/tutorial/tutorial.hbs":541};function r(e){return n(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function s(){return Object.keys(i)};r.resolve=a;e.exports=r;r.id=208},function(e,t,n){var i;(function(){"use strict";function r(e,t){var n;t=t||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=t.touchBoundary||10;this.layer=e;this.tapDelay=t.tapDelay||200;this.tapTimeout=t.tapTimeout||700;if(r.notNeeded(e)){return}function i(e,t){return function(){return e.apply(t,arguments)}}var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var o=this;for(var l=0,u=a.length;l<u;l++){o[a[l]]=i(o[a[l]],o)}if(s){e.addEventListener("mouseover",this.onMouse,true);e.addEventListener("mousedown",this.onMouse,true);e.addEventListener("mouseup",this.onMouse,true)}e.addEventListener("click",this.onClick,true);e.addEventListener("touchstart",this.onTouchStart,false);e.addEventListener("touchmove",this.onTouchMove,false);e.addEventListener("touchend",this.onTouchEnd,false);e.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;if(t==="click"){r.call(e,t,n.hijacked||n,i)}else{r.call(e,t,n,i)}};e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;if(t==="click"){r.call(e,t,n.hijacked||(n.hijacked=function(e){if(!e.propagationStopped){
n(e)}}),i)}else{r.call(e,t,n,i)}}}if(typeof e.onclick==="function"){n=e.onclick;e.addEventListener("click",function(e){n(e)},false);e.onclick=null}}var a=navigator.userAgent.indexOf("Windows Phone")>=0;var s=navigator.userAgent.indexOf("Android")>0&&!a;var o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!a;var l=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var u=o&&/OS [6-7]_\d/.test(navigator.userAgent);var c=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled){return true}break;case"input":if(o&&e.type==="file"||e.disabled){return true}break;case"label":case"iframe":case"video":return true}return/\bneedsclick\b/.test(e.className)};r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return true;case"select":return!s;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};r.prototype.sendClick=function(e,t){var n,i;if(document.activeElement&&document.activeElement!==e&&!$(e).hasClass("clear-button")){document.activeElement.blur()}i=t.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent(this.determineEventType(e),true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;e.dispatchEvent(n)};r.prototype.determineEventType=function(e){if(s&&e.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};r.prototype.focus=function(e){var t;if(o&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"&&e.type!=="month"){t=e.value.length;e.setSelectionRange(t,t)}else{e.focus()}};r.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n;e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}if(t){t.fastClickLastScrollTop=t.scrollTop}};r.prototype.getTargetElementFromEventTarget=function(e){if(e.nodeType===Node.TEXT_NODE){return e.parentNode}return e};r.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1){return true}t=this.getTargetElementFromEventTarget(e.target);n=e.targetTouches[0];if(o){i=window.getSelection();if(i.rangeCount&&!i.isCollapsed){return true}if(!l){if(n.identifier&&n.identifier===this.lastTouchIdentifier){e.preventDefault();return false}this.lastTouchIdentifier=n.identifier;this.updateScrollParent(t)}}this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=n.pageX;this.touchStartY=n.pageY;if(e.timeStamp-this.lastClickTime<this.tapDelay){e.preventDefault()}return true};r.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;if(Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n){return true}return false};r.prototype.onTouchMove=function(e){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};r.prototype.findControl=function(e){if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};r.prototype.onTouchEnd=function(e){var t,n,i,r,a,c=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true}if(e.timeStamp-this.trackingClickStart>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=e.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(u){a=e.changedTouches[0];c=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||c;c.fastClickScrollParent=this.targetElement.fastClickScrollParent}i=c.tagName.toLowerCase();if(i==="label"){t=this.findControl(c);if(t){this.focus(c);if(s){return false}c=t}}else if(this.needsFocus(c)){if(e.timeStamp-n>100||o&&window.top!==window&&i==="input"){this.targetElement=null;return false}this.focus(c);this.sendClick(c,e);if(!o||i!=="select"){this.targetElement=null;e.preventDefault()}return false}if(o&&!l){r=c.fastClickScrollParent;if(r&&r.fastClickLastScrollTop!==r.scrollTop){return true}}if(!this.needsClick(c)){e.preventDefault();this.sendClick(c,e)}return false};r.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};r.prototype.onMouse=function(e){if(!this.targetElement){return true}if(e.forwardedTouchEvent){return true}if(!e.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.propagationStopped=true}e.stopPropagation();e.preventDefault();return false}return true};r.prototype.onClick=function(e){var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(e.target.type==="submit"&&e.detail===0){return true}t=this.onMouse(e);if(!t){this.targetElement=null}return t};r.prototype.destroy=function(){var e=this.layer;if(s){e.removeEventListener("mouseover",this.onMouse,true);e.removeEventListener("mousedown",this.onMouse,true);e.removeEventListener("mouseup",this.onMouse,true)}e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};r.notNeeded=function(e){var t;var n;var i;var r;if(typeof window.ontouchstart==="undefined"){return true}n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(s){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(n>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(c){i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(i[1]>=10&&i[2]>=3){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(e.style.msTouchAction==="none"||e.style.touchAction==="manipulation"){return true}r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(r>=27){t=document.querySelector("meta[name=viewport]");if(t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(e.style.touchAction==="none"||e.style.touchAction==="manipulation"){return true}return false};r.attach=function(e,t){return new r(e,t)};if(true){!(i=function(){return r}.call(t,n,t,e),i!==undefined&&(e.exports=i))}else if(typeof e!=="undefined"&&e.exports){e.exports=r.attach;e.exports.FastClick=r}else{window.FastClick=r}})()},function(e,t,n){var i,r;(function(){function n(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1024*1024){var i=document.createElement("canvas");i.width=i.height=1;var r=i.getContext("2d");r.drawImage(e,-t+1,0);return r.getImageData(0,0,1,1).data[3]===0}else{return false}}function a(e,t,n){var i=document.createElement("canvas");i.width=1;i.height=n;var r=i.getContext("2d");r.drawImage(e,0,0);var a=r.getImageData(0,0,1,n).data;var s=0;var o=n;var l=n;while(l>s){var u=a[(l-1)*4+3];if(u===0){o=l}else{s=l}l=o+s>>1}var c=l/n;return c===0?1:c}function s(e,t){var n=document.createElement("canvas");o(e,n,t);return n.toDataURL("image/jpeg",t.quality||.8)}function o(e,t,i){var r=e.naturalWidth,s=e.naturalHeight;var o=i.width,u=i.height;var c=t.getContext("2d");c.save();l(t,o,u,i.orientation);var d=n(e);if(d){r/=2;s/=2}var f=1024;var h=document.createElement("canvas");h.width=h.height=f;var p=h.getContext("2d");var m=a(e,r,s);var _=0;while(_<s){var g=_+f>s?s-_:f;var v=0;while(v<r){var b=v+f>r?r-v:f;p.clearRect(0,0,f,f);p.drawImage(e,-v,-_);var y=v*o/r<<0;var x=Math.ceil(b*o/r);var S=_*u/s/m<<0;var w=Math.ceil(g*u/s/m);c.drawImage(h,0,0,b,g,y,S,x,w);v+=f}_+=f}c.restore();h=p=null}function l(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n;e.height=t;break;default:e.width=t;e.height=n}var r=e.getContext("2d");switch(i){case 2:r.translate(t,0);r.scale(-1,1);break;case 3:r.translate(t,n);r.rotate(Math.PI);break;case 4:r.translate(0,n);r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI);r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI);r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI);r.translate(t,-n);r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI);r.translate(-t,0);break;default:break}}function u(e){if(e instanceof Blob){var t=new Image;var n=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!n){throw Error("No createObjectURL function found to create blob url")}t.src=n.createObjectURL(e);e=t}if(!e.naturalWidth&&!e.naturalHeight){var i=this;e.onload=function(){var e=i.imageLoadListeners;if(e){i.imageLoadListeners=null;for(var t=0,n=e.length;t<n;t++){e[t]()}}};this.imageLoadListeners=[]}this.srcImage=e}u.prototype.render=function(e,t){if(this.imageLoadListeners){var n=this;this.imageLoadListeners.push(function(){n.render(e,t)});return}t=t||{};var i=this.srcImage.naturalWidth,r=this.srcImage.naturalHeight,a=t.width,l=t.height,u=t.maxWidth,c=t.maxHeight;if(a&&!l){l=r*a/i<<0}else if(l&&!a){a=i*l/r<<0}else{a=i;l=r}if(u&&a>u){a=u;l=r*a/i<<0}if(c&&l>c){l=c;a=i*l/r<<0}var d={width:a,height:l};for(var f in t)d[f]=t[f];var h=e.tagName.toLowerCase();if(h==="img"){e.src=s(this.srcImage,d)}else if(h==="canvas"){o(this.srcImage,e,d)}if(typeof this.onrender==="function"){this.onrender(e)}};if(true){!(i=[],r=function(){return u}.apply(t,i),r!==undefined&&(e.exports=r))}else{this.MegaPixImage=u}})()},function(e,t){(function(){var e=window.nv||{};e.version="0.0.1a";e.dev=false;window.nv=e;e.tooltip={};e.utils={};e.models={};e.charts={};e.graphs=[];e.logs={};e.dispatch=d3.dispatch("render_start","render_end");if(e.dev){e.dispatch.on("render_start",function(t){e.logs.startTime=+new Date});e.dispatch.on("render_end",function(t){e.logs.endTime=+new Date;e.logs.totalTime=e.logs.endTime-e.logs.startTime;e.log("total",e.logs.totalTime)})}e.log=function(){if(e.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(e.dev&&console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]};e.render=function i(t){t=t||1;e.render.active=true;e.dispatch.render_start();setTimeout(function(){var n,i;for(var r=0;r<t&&(i=e.render.queue[r]);r++){n=i.generate();if(typeof i.callback==typeof Function)i.callback(n);e.graphs.push(n)}e.render.queue.splice(0,r);if(e.render.queue.length)setTimeout(arguments.callee,0);else{e.render.active=false;e.dispatch.render_end()}},0)};e.render.active=false;e.render.queue=[];e.addGraph=function(t){if(typeof arguments[0]===typeof Function)t={generate:arguments[0],callback:arguments[1]};e.render.queue.push(t);if(!e.render.active)e.render()};e.identity=function(e){return e};e.strip=function(e){return e.replace(/(\s|&)/g,"")};function t(e,t){return new Date(t,e+1,0).getDate()}function n(e,t,n){return function(i,r,a){var s=e(i),o=[];if(s<i)t(s);if(a>1){while(s<r){var l=new Date(+s);if(n(l)%a===0)o.push(l);t(s)}}else{while(s<r){o.push(new Date(+s));t(s)}}return o}}d3.time.monthEnd=function(e){return new Date(e.getFullYear(),e.getMonth(),0)};d3.time.monthEnds=n(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1);e.setDate(t(e.getMonth()+1,e.getFullYear()))},function(e){return e.getMonth()});d3.svg.axisStatic=function(){var e=d3.scale.linear(),t=c,n=6,i=6,r=6,a=3,s=[10],o=null,l,u=0;var c="bottom",d={top:1,right:1,bottom:1,left:1};function f(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function h(e){return e.rangeExtent?e.rangeExtent():f(e.range())}function p(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function m(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function _(e,t,n){r=[];if(n&&t.length>1){var i=f(e.domain()),r,a=-1,s=t.length,o=(t[1]-t[0])/++n,l,u;while(++a<s){for(l=n;--l>0;){if((u=+t[a]-l*o)>=i[0]){r.push(u)}}}for(--a,l=0;++l<n&&(u=+t[a]+l*o)<i[1];){r.push(u)}}return r}function g(c){c.each(function(){var c=d3.select(this);var d=o==null?e.ticks?e.ticks.apply(e,s):e.domain():o,f=l==null?e.tickFormat?e.tickFormat.apply(e,s):String:l;var g=_(e,d,u),v=c.selectAll(".tick.minor").data(g,String),b=v.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1),y=v.exit().remove(),x=v.style("opacity",1);var S=c.selectAll(".tick.major").data(d,String),w=S.enter().insert("g","path").attr("class","tick major").style("opacity",1),L=S.exit().remove(),E=S.style("opacity",1),k;var A=h(e),M=c.selectAll(".domain").data([0]),T=(M.enter().append("path").attr("class","domain"),M);var C=e.copy();w.append("line");w.append("text");var R=w.select("line"),D=E.select("line"),I=S.select("text").text(f),O=w.select("text"),N=E.select("text");switch(t){case"bottom":{k=p;b.attr("y2",i);x.attr("x2",0).attr("y2",i);R.attr("y2",n);O.attr("y",Math.max(n,0)+a);D.attr("x2",0).attr("y2",n);N.attr("x",0).attr("y",Math.max(n,0)+a);I.attr("dy",".71em").style("text-anchor","middle");T.attr("d","M"+A[0]+","+r+"V0H"+A[1]+"V"+r);break}case"top":{k=p;b.attr("y2",-i);x.attr("x2",0).attr("y2",-i);R.attr("y2",-n);O.attr("y",-(Math.max(n,0)+a));D.attr("x2",0).attr("y2",-n);N.attr("x",0).attr("y",-(Math.max(n,0)+a));I.attr("dy","0em").style("text-anchor","middle");T.attr("d","M"+A[0]+","+-r+"V0H"+A[1]+"V"+-r);break}case"left":{k=m;b.attr("x2",-i);x.attr("x2",-i).attr("y2",0);R.attr("x2",-n);O.attr("x",-(Math.max(n,0)+a));D.attr("x2",-n).attr("y2",0);N.attr("x",-(Math.max(n,0)+a)).attr("y",0);I.attr("dy",".32em").style("text-anchor","end");T.attr("d","M"+-r+","+A[0]+"H0V"+A[1]+"H"+-r);break}case"right":{k=m;b.attr("x2",i);x.attr("x2",i).attr("y2",0);R.attr("x2",n);O.attr("x",Math.max(n,0)+a);D.attr("x2",n).attr("y2",0);N.attr("x",Math.max(n,0)+a).attr("y",0);I.attr("dy",".32em").style("text-anchor","start");T.attr("d","M"+r+","+A[0]+"H0V"+A[1]+"H"+r);break}}if(e.ticks){w.call(k,C);E.call(k,C);L.call(k,C);b.call(k,C);x.call(k,C);y.call(k,C)}else{var F=C.rangeBand()/2,B=function(e){return C(e)+F};w.call(k,B);E.call(k,B)}})}g.scale=function(t){if(!arguments.length)return e;e=t;return g};g.orient=function(e){if(!arguments.length)return t;t=e in d?e+"":c;return g};g.ticks=function(){if(!arguments.length)return s;s=arguments;return g};g.tickValues=function(e){if(!arguments.length)return o;o=e;return g};g.tickFormat=function(e){if(!arguments.length)return l;l=e;return g};g.tickSize=function(e,t){if(!arguments.length)return n;var a=arguments.length-1;n=+e;i=a>1?+t:n;r=a>0?+arguments[a]:n;return g};g.tickPadding=function(e){if(!arguments.length)return a;a=+e;return g};g.tickSubdivide=function(e){if(!arguments.length)return u;u=+e;return g};return g};(function(){var e=window.nv.tooltip={};e.show=function(t,n,i,r,a,s){var o=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div");i=i||"s";r=r||5;l.className="tooltip-inner";u.className="tooltip-arrow";l.innerHTML=n;o.style.left=0;o.style.top=-1e3;o.style.opacity=0;o.className="tooltip xy-tooltip in";o.appendChild(l);o.appendChild(u);a.appendChild(o);e.position(a,o,t,i,r);o.style.opacity=1;return o};e.cleanup=function(){var e=document.getElementsByClassName("tooltip"),t=[],n=e.length;while(n>0){n-=1;if(e[n].className.indexOf("xy-tooltip")!==-1){t.push(e[n]);e[n].style.transitionDelay="0 !important";e[n].style.opacity=0;e[n].className="nvtooltip-pending-removal out"}}setTimeout(function(){var e;while(t.length){e=t.pop();e.parentNode.removeChild(e)}},500)};e.position=function(e,t,n,i,r){i=i||"s";r=r||5;var a=e.getBoundingClientRect();var s=[n.clientX-a.left,n.clientY-a.top];var o=parseInt(t.offsetWidth,10),l=parseInt(t.offsetHeight,10),u=e.clientWidth,c=e.clientHeight,d=e.scrollLeft,f=e.scrollTop,h=t.className.replace(/ top| right| bottom| left/g,""),p,m;function _(){var e=s[0]-o/2;if(e<d)e=d;if(e+o>u)e=u-o;return e}function g(){var e=s[1]-l/2;if(e<f)e=f;if(e+l>f+c)e=f-l;return e}function v(e){var n=s[0]-o/2-e-5,i=t.getElementsByClassName("tooltip-arrow")[0];i.style.marginLeft=n+"px"}function b(e){var n=s[1]-l/2-e-5,i=t.getElementsByClassName("tooltip-arrow")[0];i.style.marginTop=n+"px"}switch(i){case"e":m=g();p=s[0]-o-r;b(m);if(p<d){p=s[0]+r;h+=" right"}else{h+=" left"}break;case"w":m=g();p=s[0]+r;b(m);if(p+o>u){p=s[0]-o-r;h+=" left"}else{h+=" right"}break;case"n":p=_();m=s[1]+r;v(p);if(m+l>f+c){m=s[1]-l-r;h+=" top"}else{h+=" bottom"}break;case"s":p=_();m=s[1]-l-r;v(p);if(f>m){m=s[1]+r;h+=" bottom"}else{h+=" top"}break}t.style.left=p+"px";t.style.top=m+"px";t.className=h}})();e.utils.windowSize=function(){var e={width:640,height:480};if(document.body&&document.body.offsetWidth){e.width=document.body.offsetWidth;e.height=document.body.offsetHeight}if(document.compatMode==="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){e.width=document.documentElement.offsetWidth;e.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){e.width=window.innerWidth;e.height=window.innerHeight}return e};e.utils.windowResize=function(e){if(window.attachEvent){window.attachEvent("onresize",e)}else if(window.addEventListener){window.addEventListener("resize",e,true)}else{}};e.utils.windowUnResize=function(e){if(window.detachEvent){window.detachEvent("onresize",e)}else if(window.removeEventListener){window.removeEventListener("resize",e,true)}else{}};e.utils.resizeOnPrint=function(e){if(window.matchMedia){var t=window.matchMedia("print");t.addListener(function(t){if(t.matches){e()}})}else if(window.attachEvent){window.attachEvent("onbeforeprint",e)}else{window.onbeforeprint=e}};e.utils.unResizeOnPrint=function(e){if(window.matchMedia){var t=window.matchMedia("print");t.removeListener(function(t){if(t.matches){e()}})}else if(window.detachEvent){window.detachEvent("onbeforeprint",e)}else{window.onbeforeprint=null}};e.utils.getColor=function(t){if(!arguments.length){return e.utils.defaultColor()}if(Object.prototype.toString.call(t)==="[object Array]"){return function(e,n){return e.color||t[n%t.length]}}else{return t}};e.utils.defaultColor=function(){var e=d3.scale.category20().range();return function(t,n){return t.color||e[n%e.length]}};e.utils.customTheme=function(e,t,n){t=t||function(e){return e.key};n=n||d3.scale.category20().range();var i=n.length;return function(r,a){var s=t(r);if(!i)i=n.length;if(typeof e[s]!=="undefined"){return typeof e[s]==="function"?e[s]():e[s]}else{return n[--i]}}};e.utils.pjax=function(t,n){d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href);i(this.href);d3.event.preventDefault()});function i(i){d3.html(i,function(i){var r=d3.select(n).node();r.parentNode.replaceChild(d3.select(i).select(n).node(),r);e.utils.pjax(t,n)})}d3.select(window).on("popstate",function(){if(d3.event.state){i(d3.event.state)}})};e.utils.NaNtoZero=function(e){if(typeof e!=="number"||isNaN(e)||e===null||e===Infinity)return 0;return e};e.utils.optionsFunc=function(e){if(e){d3.map(e).forEach(function(e,t){if(typeof this[e]==="function"){this[e](t)}}.bind(this))}return this};e.utils.colorLinearGradient=function(t,n,i,r,a){var s="lg_gradient_"+n,o=a.select("#"+s);if(o.empty()){if(i.position==="middle"){e.utils.createLinearGradient(s,i,a,[{offset:"0%","stop-color":d3.rgb(r).darker().toString(),"stop-opacity":1},{offset:"20%","stop-color":d3.rgb(r).toString(),"stop-opacity":1},{offset:"50%","stop-color":d3.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"80%","stop-color":d3.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":d3.rgb(r).darker().toString(),"stop-opacity":1}])}else{e.utils.createLinearGradient(s,i,a,[{offset:"0%","stop-color":d3.rgb(r).darker().toString(),"stop-opacity":1},{offset:"50%","stop-color":d3.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":d3.rgb(r).brighter().toString(),"stop-opacity":1}])}}return"url(#"+s+")"};e.utils.createLinearGradient=function(e,t,n,i){var r=t.orientation==="horizontal"?"0%":"100%",a=t.orientation==="horizontal"?"100%":"0%",s=n.append("linearGradient").attr("id",e).attr("x1","0%").attr("y1","0%").attr("x2",r).attr("y2",a).attr("spreadMethod","pad");for(var o=0;o<i.length;o+=1){var l=i[o],u=s.append("stop");for(var c in l){if(l.hasOwnProperty(c)){u.attr(c,l[c])}}}};e.utils.colorRadialGradient=function(t,n,i,r,a){var s="rg_gradient_"+n,o=a.select("#"+s);if(o.empty()){e.utils.createRadialGradient(s,i,a,[{offset:i.s,"stop-color":d3.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"100%","stop-color":d3.rgb(r).darker().toString(),"stop-opacity":1}])}return"url(#"+s+")"};e.utils.createRadialGradient=function(e,t,n,i){var r=n.append("radialGradient").attr("id",e).attr("r",t.r).attr("cx",t.x).attr("cy",t.y).attr("gradientUnits",t.u).attr("spreadMethod","pad");for(var a=0;a<i.length;a+=1){var s=i[a],o=r.append("stop");for(var l in s){if(s.hasOwnProperty(l)){o.attr(l,s[l])}}}};e.utils.getAbsoluteXY=function(e){var t=document.documentElement,n=e.getBoundingClientRect(),i=t.scrollLeft+document.body.scrollLeft,r=t.scrollTop+document.body.scrollTop,a=n.left+i,s=n.top+r;return{left:a,top:s}};e.utils.roundedRectangle=function(e,t,n,i,r){return"M"+e+","+t+"h"+(n-r*2)+"a"+r+","+r+" 0 0 1 "+r+","+r+"v"+(i-2-r*2)+"a"+r+","+r+" 0 0 1 "+-r+","+r+"h"+(r*2-n)+"a"+-r+","+r+" 0 0 1 "+-r+","+-r+"v"+(-i+r*2+2)+"a"+r+","+r+" 0 0 1 "+r+","+-r+"z"};e.utils.dropShadow=function(e,t,n){var i=n||{},r=i.height||"130%",a=i.offset||2,s=i.blur||1;if(t.select("#"+e).empty()){var o=t.append("filter").attr("id",e).attr("height",r);var l=o.append("feOffset").attr("in","SourceGraphic").attr("result","offsetBlur").attr("dx",a).attr("dy",a);var u=o.append("feColorMatrix").attr("in","offsetBlur").attr("result","matrixOut").attr("type","matrix").attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0");var c=o.append("feGaussianBlur").attr("in","matrixOut").attr("result","blurOut").attr("stdDeviation",s);var d=o.append("feMerge");d.append("feMergeNode");d.append("feMergeNode").attr("in","SourceGraphic")}return"url(#"+e+")"};e.utils.stringSetLengths=function(e,t,n,i,r){var a=[],s=t.select(".tmp-text-strings").select("text");if(s.empty()){s=t.append("g").attr("class","tmp-text-strings").append("text")}s.classed(i,true);s.style("display","inline");e.forEach(function(e,t){s.text(n(e,t));a.push(s.node().getBoundingClientRect().width)});s.text("").attr("class","tmp-text-strings").style("display","none");return a};e.utils.stringSetThickness=function(e,t,n,i,r){var a=[],s=t.select(".tmp-text-strings").select("text");if(s.empty()){s=t.append("g").attr("class","tmp-text-strings").append("text")}s.classed(i,true);s.style("display","inline");e.forEach(function(e,t){s.text(n(e,t));a.push(s.node().getBoundingClientRect().height)});s.text("").attr("class","tmp-text-strings").style("display","none");return a};e.utils.maxStringSetLength=function(t,n,i){var r=e.utils.stringSetLengths(t,n,i);return d3.max(r)};e.utils.stringEllipsify=function(e,t,n){var i=t.select(".tmp-text-strings").select("text"),r=e,a=0,s=0,o=0;if(i.empty()){i=t.append("g").attr("class","tmp-text-strings").append("text")}i.style("display","inline");i.text("...");s=i.node().getBoundingClientRect().width;i.text(r);a=i.node().getBoundingClientRect().width;o=a;while(a>n&&a>30){r=r.slice(0,-1);i.text(r);a=i.node().getBoundingClientRect().width+s}i.text("");return r+(o>n?"...":"")};e.utils.getTextBBox=function(e,t){var n=e.node().getBoundingClientRect(),i={width:t?n.width:parseInt(n.width,10),height:t?n.height:parseInt(n.height,10)};return i};e.utils.getTextContrast=function(e,t,n){var i=e,r=d3.lab(i),a=r.l,s=a>60?r.darker(4+(a-75)/25).l:r.brighter(4+(18-a)/25).l,o=d3.lab(s,0,0),l=o.toString();if(n){n(r,o)}return l};e.utils.isRTLChar=function(e){var t="֑-߿יִ-﷿ﹰ-ﻼ",n=new RegExp("["+t+"]");return n.test(e)};e.utils.polarToCartesian=function(t,n,i,r){var a=e.utils.angleToRadians(r);var s=t+i*Math.cos(a);var o=n+i*Math.sin(a);return[s,o]};e.utils.angleToRadians=function(e){return e*Math.PI/180};e.utils.angleToDegrees=function(e){return e*180/Math.PI};e.utils.createTexture=function(e,t,n,i){var r="#nv-diagonalHatch-"+t,a="#nv-textureMask-"+t;e.append("pattern").attr("id","nv-diagonalHatch-"+t).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).append("path").attr("d","M-1,1 l2,-2 M0,8 l8,-8 M7,9 l1,-1").attr("class","texture-line").attr("stroke","#fff").attr("stroke-linecap","square");e.append("mask").attr("id","nv-textureMask-"+t).attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").append("rect").attr("x",n||0).attr("y",i||-1).attr("width","100%").attr("height","100%").attr("fill","url("+r+")");return a};e.utils.numberFormatSI=function(e,t,n,i){var r,a,s;if(isNaN(e)){return e}t=typeof t==="undefined"?2:t;n=typeof n==="undefined"?false:!!n;r=typeof i==="undefined"?d3.format:d3.locale(i).numberFormat;e=d3.round(e,t);a=n?"$,":",";if(n&&e<1e3&&e!==parseInt(e,10)){a+=".2f"}if(e<1&&e>-1){return r(a)(e)}s=d3.formatPrefix(e);return r(a)(d3.round(s.scale(e),t))+s.symbol};e.utils.numberFormatRound=function(e,t,n,i){var r,a;if(isNaN(e)){return e}n=typeof n==="undefined"?false:!!n;t=typeof t==="undefined"?n?2:0:t;r=typeof i==="undefined"?d3.format:d3.locale(i).numberFormat;a=n?"$,."+t+"f":",";return r(a)(t?d3.round(e,t):e)};e.utils.isValidDate=function(e){var t;if(!e){return false}t=new Date(e);return t instanceof Date&&!isNaN(t.valueOf())};e.utils.dateFormat=function(t,n,i){var r,a,s,o;r=new Date(t);if(!(r instanceof Date)||isNaN(r.valueOf())){return t}if(i&&i.hasOwnProperty("timeFormat")){s=n.indexOf("%")!==-1?n:"%x";o=i.timeFormat}else{a=e.utils.buildLocality(i);s=n.indexOf("%")!==-1?n:a[n]||"%x";o=d3.locale(a).timeFormat}return o(s)(r)};e.utils.buildLocality=function(e,t){var n=e||{},i=!!t,r=function(e){return e.join("|").split("|").map(function(e){return!e?"":isNaN(e)?e:+e})},a={decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%B %-d, %Y at %X %p GMT%Z",date:"%b %-d, %Y",time:"%-I:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],full:"%A, %c","long":"%c",medium:"%x, %X %p","short":"%-m/%-d/%y, %-I:%M %p",yMMMEd:"%a, %x",yMEd:"%a, %-m/%-d/%Y",yMMMMd:"%B %-d, %Y",yMMMd:"%x",yMd:"%-m/%-d/%Y",yMMMM:"%B %Y",yMMM:"%b %Y",MMMd:"%b %-d",MMMM:"%B",MMM:"%b",y:"%Y"};for(var s in n){var t;if(e.hasOwnProperty(s)){t=n[s];a[s]=!i||!Array.isArray(t)?t:r(t)}}return a};e.models.axis=function(){var t=d3.scale.linear(),n=null,i=true,r=true,a="ltr",s=false,o=false,l=30,u=false,c=true,d=false,f=null,h=null,p=function(e){return e},m=8;var _={top:0,right:0,bottom:0,left:0},g=0;var v=d3.svg.axisStatic().scale(t).orient("bottom").tickFormat(function(e){return p(e)});var b;function y(u){u.each(function(u){var p=d3.select(this);var x=v.scale().copy();var S={top:0,right:0,bottom:0,left:0};var w=ee();var L=Math.abs(w[1]-w[0]);b=b||v.scale();var E=v.orient()==="left"||v.orient()==="right"?true:false,k=v.orient()==="left"||v.orient()==="top"?-1:1,A=0,M=0,T=6,C=0,R=0;var D=[],I={},O=[],N={},F={};g=0;if(h!==null){v.ticks(h)}else if(E){v.ticks(Math.ceil(L/48))}else{v.ticks(Math.ceil(L/100))}if(l&&!isFinite(String(l))){l=30}if(d){i=false}var B=p.selectAll("g.nv-wrap.nv-axis").data([u]),U=B.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g").attr("class","nv-axis-inner"),P=B.select(".nv-axis-inner");P.call(v);var Y=P.selectAll("g.tick");var H=i?d3.extent(t.domain()):[];var G=P.selectAll("g.nv-axisMaxMin").data(H);var V=G.enter().append("g").attr("class","nv-axisMaxMin");V.append("text").style("opacity",0);V.append("line").style("opacity",0);G.exit().remove();if(i){G.select("text").text(function(e,t){return v.tickFormat()(e,t,false)})}var j=P.selectAll("g.tick, g.nv-axisMaxMin").select("text").filter(function(e){return this.getBoundingClientRect().width});j.each(function(e,t){O.push(d3.select(this).text())});var z=!!n?[n]:[];var $=B.selectAll("text.nv-axislabel").data(z);$.enter().append("text").attr("class","nv-axislabel").text(function(e){return e});$.exit().remove();var q=false,W=false,K=false;if(E){fe();j.style("text-anchor",ae(f||(se()?"start":"end")))}else{fe();de();if(ce(1)){if(s){fe();he();de();he();if(!ce(1)){q=true}}if(!q&&o){fe();pe();de();pe();if(!ce(2)){W=true}}if(!q&&!W){if(!l){l=30}fe();me(l);de(l);me(l);K=true}}}if(i){G.select("line").attr("x1",0).attr("y1",0).attr("y2",E?0:(v.tickSize()-S.bottom)*k).attr("x2",E?v.tickSize()*k:0).style("opacity",function(e,t){return se()?t?0:1:t?1:0});Y.each(function(e,t){var n=d3.select(this),i=I["key-"+e.toString()],r=false;if(E){r=i.bottom>N.top||i.top<F.bottom;n.select("line").style("opacity",1-r)}else if(K){r=false}else if(W){r=(i.left<N.right+T||i.right>F.left+T)&&(i.bottom<N.top||i.top>F.bottom)}else{r=i.left<N.right+T||i.right>F.left+T}n.select("text").style("opacity",1-r)})}else{Y.filter(function(e){return x(e)===w[0+se()]}).classed("zero",r);Y.select("line").style("opacity",function(e,t){return x(e)===w[0+se()]?0:1})}if(!!n){var J=E?c?L/-2:(g+m)*k:L/2;var X=E?c?(g+m)*k:L/2:(g+m)*k;$.attr("x",J).attr("y",X).attr("dy",.355+.355*k+"em").attr("transform",E&&c?"rotate(-90)":"").style("text-anchor",E&&!c?ae("end"):"middle");$.each(function(e,t){R+=E?parseInt(this.getBoundingClientRect().width/1.3,10):parseInt(this.getBoundingClientRect().height/1.3,10)});g+=R+m}b=t.copy();_={top:S.top,right:S.right,bottom:S.bottom,left:S.left};_[v.orient()]=g;function Z(){return x.range().length>1?Math.abs(x.range()[1]-x.range()[0]):0}function Q(){return x.range().length>1?Math.max(.25,1-d3.round(x.rangeBand()/Z(),2)):0}function ee(){return typeof x.rangeExtent==="function"?x.rangeExtent():x.range()}function te(){return d?x.rangeBand():0}function ne(){return d?x.range()[0]:0}function ie(){return ne()/re()}function re(){var e=0,t;if(d){e=x.range().length>1?Math.abs(x.range()[1]-x.range()[0]):d3.max(ee())/2}else{t=x.ticks(Y.size());e=x(t[t.length-1])-x(t[t.length-2])}return e}function ae(e){if(a==="rtl"){if(e==="start"){return"end"}else if(e==="end"){return"start"}}return e}function se(){return v.orient()!=="left"&&v.orient()!=="bottom"}function oe(e){e=e||1;g=v.tickPadding()+(E?A:M)*e}function le(){ue();A=d3.max(D,function(e){return e.width});M=d3.max(D,function(e){return e.height})}function ue(){D=[];I={};if(i){G.style("opacity",1).attr("transform",function(e,t){var n=E?"0,"+x(e):x(e)+",0";return"translate("+n+")"})}j.each(function(e,t){var n=this.getBoundingClientRect();if(n.width>0){D.push({key:e,width:parseInt(n.width,10),height:parseInt(n.height/1.2,10),left:n.left,right:n.right,top:n.top,bottom:n.bottom})}});D.sort(function(e,t){return e.key-t.key}).forEach(function(e,t){e.index=t;I["key-"+e.key.toString()]=e});N=D[0];F=D[D.length-1]}function ce(e){ue();var t=i?2:e||1;for(var n=i?1:0,r=D.length-t;n<r;n+=1){if(D[n].right+T>D[n+e].left){return true}}return false}function de(e){var t=e?(e+180)%180:0,n=t>90,i=null,r=null;D.forEach(function(e,a){var s=i===null||e.left<=i,o=r===null||e.right>=r,l=0,u=0,c=0,l=0;if(!s&&!o){return}l=t?e.width-6:e.width/2;u=x(e.key)+d*te()/2;if(s&&(!t||n)){i=e.left;c=Math.abs(w[0]-u);S.left=Math.max(l-c,0)}if(o&&(!t||!n)){r=e.right;c=Math.abs(w[1]-u);S.right=Math.max(l-c,0)}});if(!d){var a=_.right-Math.max(_.right,S.right);a+=_.left-Math.max(_.left,S.left);var s=[w[0],w[1]+a];x.range(s);w=ee();L=Math.abs(w[1]-w[0]);v.scale(x);P.call(v)}}function fe(){S={top:0,right:0,bottom:0,left:0};x=t.copy();w=ee();

L=Math.abs(w[1]-w[0]);v.scale(t);P.call(v);j.selectAll("tspan").remove();j.attr("dy",E?".32em":.355+.355*k+"em").attr("x",E?v.tickPadding()*k:0).attr("y",E?0:v.tickPadding()*k).attr("transform","translate(0,0)").text(function(e,t){return O[t]}).style("text-anchor","middle").style("opacity",1);le();oe()}function he(){C=re();j.each(function(t,n){var i=v.tickFormat()(t,n,true),r=d3.select(this),a=e.utils.isValidDate(i),s=(i&&i!==""?a?i.toString():i.toString().replace("/","/ "):"").split(" "),n=0,o=s.length,l=k===1?.71:-1;this.textContent="";var u,c=r.append("tspan").text(s[n]+" ").attr("dy",l+"em").attr("x",0);n+=1;l=1;while(n<o){c=r.append("tspan").text(s[n]+" ").attr("dy",l+"em").attr("x",0);n+=1;while(n<o){u=c.text();c.text(u+" "+s[n]);if(this.getBoundingClientRect().width<=C){n+=1}else{c.text(u);break}}}});le();oe()}function pe(){j.attr("transform",function(e,t){var n=I["key-"+e.toString()].index%2*(M+2);return"translate(0,"+n+")"});le();oe(2)}function me(e){var t=(e+180)%180,n=t>90,i=(t-(n?180:0))*k,r=ae(n?"end":"start"),a=Math.abs(Math.cos(e*Math.PI/180));j.attr("transform",function(e,t,n){return"translate(0,"+v.tickPadding()*k+") rotate("+i+")"}).attr("y","0").style("text-anchor",r);le();oe();g+=a*11}y.resizeTickLines=function(e){P.selectAll("g.tick, g.nv-axisMaxMin").select("line").attr(E?"x2":"y2",e*k)};y.labelThickness=function(){return R}});return y}y.axis=v;d3.rebind(y,v,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(y,t,"domain","range","rangeBand","rangeBands");y.width=function(e){if(!arguments.length){return g}return y};y.height=function(e){if(!arguments.length){return g}return y};y.margin=function(e){if(!arguments.length){return _}_=e;return y};y.ticks=function(e){if(!arguments.length){return h}h=e;return y};y.valueFormat=function(e){if(!arguments.length){return p}p=e;return y};y.axisLabel=function(e){if(!arguments.length){return n}n=e;return y};y.showMaxMin=function(e){if(!arguments.length){return i}i=e;return y};y.highlightZero=function(e){if(!arguments.length){return r}r=e;return y};y.scale=function(e){if(!arguments.length){return t}t=e;v.scale(t);d=typeof t.rangeBands==="function";d3.rebind(y,t,"domain","range","rangeBand","rangeBands");return y};y.wrapTicks=function(e){if(!arguments.length){return s}s=e;return y};y.rotateTicks=function(e){if(!arguments.length){return l}l=e;return y};y.staggerTicks=function(e){if(!arguments.length){return o}o=e;return y};y.reduceXTicks=function(e){if(!arguments.length){return u}u=e;return y};y.rotateYLabel=function(e){if(!arguments.length){return c}c=e;return y};y.axisLabelDistance=function(e){if(!arguments.length){return m}m=e;return y};y.maxLabelWidth=function(e){if(!arguments.length){return maxLabelWidth}maxLabelWidth=e;return y};y.textAnchor=function(e){if(!arguments.length){return f}f=e;return y};y.direction=function(e){if(!arguments.length){return a}a=e;return y};return y};e.models.legend=function(){var t={top:10,right:10,bottom:15,left:10},n=0,i=0,r="right",a="ltr",s="start",o=6,l=o*2,u=10,c=12,d=5,f=true,h=false,p=false,m=false,_=3,g=false,v={close:"Hide legend",type:"Show legend",noLabel:"undefined"},b=Math.floor(Math.random()*1e4),y=function(e){return e.key.length>0||!isNaN(parseFloat(e.key))&&isFinite(e.key)?e.key:T.strings().noLabel},x=function(t,n){return e.utils.defaultColor()(t,n)},S=function(e,t){return""},w=d3.dispatch("legendClick","legendMouseover","legendMouseout","toggleMenu","closeMenu");var L=0;var E=false,k=true,A=0,M=function(e){return};function T(v){v.each(function(v){var C=d3.select(this),R=n,D=i,I=[],O=0,N=0,F="",B=s==="start"?true:false,U=a==="rtl"?true:false,P=c*(B?1:.6),Y=u+(B?l+d:0);if(!v||!v.length||!v.filter(function(e){return!e.values||e.values.length}).length){return T}var H=v.filter(function(e){return e.hasOwnProperty("series")}).length;v.filter(function(e){return!e.hasOwnProperty("series")}).map(function(e,t){e.series=H;H+=1});g=true;F=!v[0].type||v[0].type==="bar"?"bar":"line";r=U&&r!=="center"?r==="left"?"right":"left":r;var G=C.selectAll("g.nv-chart-legend").data([v]);var V=G.enter().append("g").attr("class","nv-chart-legend");V.append("defs").append("clipPath").attr("id","nv-edge-clip-"+b).append("rect");var j=G.select("defs");var z=G.select("#nv-edge-clip-"+b+" rect");V.append("rect").attr("class","nv-legend-background");var $=G.select(".nv-legend-background");var q=e.utils.dropShadow("legend_back_"+b,j,{blur:2});V.append("text").attr("class","nv-legend-link");var W=G.select(".nv-legend-link");V.append("g").attr("class","nv-legend-mask").append("g").attr("class","nv-legend");var K=G.select(".nv-legend-mask");var J=G.select("g.nv-legend");J.attr("transform","translate(0,0)");var X=J.selectAll(".nv-series").data(e.identity,function(e){return e.key});X.exit().remove();var Z=X.enter().append("g").attr("class","nv-series").on("mouseover",function(e,t){w.legendMouseover(e,t)}).on("mouseout",function(e,t){w.legendMouseout(e,t)}).on("click",function(e,t){d3.event.preventDefault();d3.event.stopPropagation();w.legendClick(e,t)});var Q=J.selectAll(".nv-series");Z.append("rect").attr("x",(l+d)/-2).attr("y",(l+P)/-2).attr("width",l+d).attr("height",l+P).style("fill","#FFE").style("opacity",.1);var ee=X.selectAll("circle").data(function(e){return F==="line"?[e,e]:[e]});ee.exit().remove();ee.enter().append("circle").attr("r",o).attr("stroke","#fff").style("stroke-width",2);if(F==="line"){var te=X.selectAll("line").data(function(e){return[e]});te.exit().remove();te.enter().append("line").attr("x0",0).attr("y0",0).attr("y1",0).style("stroke-width","4px")}Z.append("text").attr("dy",B?".36em":".71em").attr("dx",0);z.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0);$.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0).style("opacity",0).style("pointer-events","all").on("click",function(e,t){d3.event.stopPropagation()});W.text(L===1?T.strings().close:T.strings().open).attr("text-anchor",r==="left"?U?"end":"start":U?"start":"end").attr("dy",".36em").attr("dx",0).style("opacity",0).on("click",function(e,t){d3.event.preventDefault();d3.event.stopPropagation();w.toggleMenu(e,t)});Q.selectAll("circle").attr("class",function(e,t){return S(e,t)}).attr("fill",function(e,t){return x(e,t)}).attr("stroke",function(e,t){return x(e,t)});Q.select("line").attr("class",function(e,t){return S(e,t)}).attr("stroke",function(e,t){return x(e,t)});Q.select("text").text(y);Q.classed("disabled",function(e){return e.disabled});T.calculateWidth=function(){I=[];J.style("display","inline");Q.select("text").each(function(e,t){var n=d3.select(this).node().getBoundingClientRect().width;I.push(Math.max(Math.floor(n),F==="line"?50:20))});T.width(d3.sum(I)+I.length*Y-u);return T.width()};T.getLineHeight=function(){J.style("display","inline");var e=Math.floor(Q.select("text").node().getBoundingClientRect().height);return e};T.arrange=function(e){if(I.length===0){this.calculateWidth()}function n(e){return I[e]+Y}function i(e){return I[e]+Y-u}function a(e){return e?1:-1}var g=I.length,v=1,y=g,x=[],S=[],w=e-t.left-t.right,C=0,R=0,H=this.getLineHeight(),G=l+(B?0:H)+P,V={top:7,right:7,bottom:7,left:7},j=0,X=0,Z,ee,te;if(f){while(y>0){x=[];for(Z=0;Z<g;Z+=1){if(n(Z)>(x[Z%y]||0)){x[Z%y]=n(Z)}}if(d3.sum(x)-u<w){break}y-=1}y=y||1;v=Math.ceil(g/y);C=d3.sum(x)-u;for(Z=0;Z<g;Z+=1){ee=Z%y;if(B){if(ee===0){j=U?C:0}else{j+=x[ee-1]*a(!U)}}else{if(ee===0){j=(U?C:0)+(x[ee]-u)/2*a(!U)}else{j+=(x[ee-1]+x[ee])/2*a(!U)}}X=Math.floor(Z/y)*G;S[Z]={x:j,y:X}}}else{if(U){j=w;for(Z=0;Z<g;Z+=1){if(j-i(Z)<0){C=Math.max(C,i(Z));j=w;if(Z){v+=1}}if(j-i(Z)>C){C=j-i(Z)}S[Z]={x:j,y:(v-1)*(P+l)};j-=n(Z)}}else{j=0;for(Z=0;Z<g;Z+=1){if(Z&&j+i(Z)>w){j=0;v+=1}if(j+i(Z)>C){C=j+i(Z)}S[Z]={x:j,y:(v-1)*(P+l)};j+=n(Z)}}}if(!p&&(h||v<=_)){L=0;m=false;E=false;T.width(t.left+C+t.right).height(t.top+v*G-P+t.bottom);switch(r){case"left":te=0;break;case"center":te=(e-T.width())/2;break;case"right":te=0;break}z.attr("y",0).attr("width",T.width()).attr("height",T.height());$.attr("x",te).attr("width",T.width()).attr("height",T.height()).attr("rx",0).attr("ry",0).attr("filter","none").style("display","inline").style("opacity",0);K.attr("clip-path","none").attr("transform",function(e,n){var i=te+t.left+(B?o*a(!U):0),r=t.top+V.top;return"translate("+i+","+r+")"});J.style("opacity",1).style("display","inline");Q.attr("transform",function(e){var t=S[e.series];return"translate("+t.x+","+t.y+")"});Q.select("rect").attr("x",function(e){var t=0;if(B){t=(l+u)/2*a(U);t-=U?n(e.series):0}else{t=n(e.series)/-2}return t}).attr("width",function(e){return n(e.series)}).attr("height",G);Q.selectAll("circle").attr("r",function(e){return e.type==="dash"?0:o}).attr("transform",function(e,t){var n=B||F==="bar"?0:o*3*a(t);return"translate("+n+",0)"});Q.select("line").attr("x1",function(e){return e.type==="dash"?o*8:o*4}).attr("transform",function(e){var t=o*(e.type==="dash"?-4:-2);return"translate("+t+",0)"}).style("stroke-dasharray",function(e){return e.type==="dash"?"8, 8":"none"}).style("stroke-dashoffset",-4);Q.select("text").attr("dy",B?".36em":".71em").attr("text-anchor",s).attr("transform",function(e){var t=B?(o+d)*a(!U):0,n=B?0:(l+P)/2;return"translate("+t+","+n+")"})}else{m=true;E=true;T.width(V.left+d3.max(I)+l+d+V.right).height(t.top+l+t.top);O=V.top+l*g+c*(g-1)+V.bottom;N=Math.min(D-T.height(),O);z.attr("x",.5-V.top-o).attr("y",.5-V.top-o).attr("width",T.width()).attr("height",N);$.attr("x",.5).attr("y",.5+T.height()).attr("width",T.width()).attr("height",N).attr("rx",2).attr("ry",2).attr("filter",q).style("opacity",L*.9).style("display",L?"inline":"none");W.attr("transform",function(e,n){var i=r==="left"?.5:.5+T.width(),a=t.top+o;return"translate("+i+","+a+")"}).style("opacity",1);K.attr("clip-path","url(#nv-edge-clip-"+b+")").attr("transform",function(e,t){var n=V.left+o,i=T.height()+V.top+o;return"translate("+n+","+i+")"});J.style("opacity",L).style("display",L?"inline":"none").attr("transform",function(e,t){var n=U?d3.max(I)+o:0;return"translate("+n+",0)"});Q.attr("transform",function(e,t){var n=t*(l+c);return"translate(0,"+n+")"});Q.select("rect").attr("x",function(e){var t=(l+u)/2*a(U);t-=U?n(e.series):0;return t}).attr("width",function(e){return n(e.series)}).attr("height",l+P);Q.selectAll("circle").attr("r",function(e){return e.type==="dash"?0:e.type==="line"?o-2:o}).attr("transform","");Q.select("line").attr("x1",16).attr("transform","translate(-8,0)").style("stroke-dasharray",function(e){return e.type==="dash"?"6, 4, 6":"none"}).style("stroke-dashoffset",0);Q.select("text").attr("text-anchor","start").attr("dy",".36em").attr("transform",function(e){var t=(o+d)*a(!U);return"translate("+t+",0)"})}if(k){var ne=N-O;var ie=function(e){if(e){var t=d3.behavior.zoom().on("zoom",re);var n=d3.behavior.drag().origin(function(e){return e}).on("drag",re);$.call(t);J.call(t);$.call(n);J.call(n)}else{$.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);J.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);$.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null);J.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null)}};var re=function(){var e=0,t=0,n="",i=0,r=0;if(d3.event){if(d3.event.type==="zoom"&&d3.event.sourceEvent){i=d3.event.sourceEvent.deltaX||0;r=d3.event.sourceEvent.deltaY||0;e=(Math.abs(i)>Math.abs(r)?i:r)*-1}else if(d3.event.type==="drag"){i=d3.event.dx||0;r=d3.event.dy||0;e=r}else if(d3.event.type!=="click"){return 0}t=Math.abs(r)>Math.abs(i)?r:0}A=Math.min(Math.max(A+e,ne),0);n="translate("+(U?d3.max(I)+o:0)+","+A+")";if(A+e>0||A+e<ne){M(t)}J.attr("transform",n)};ie(E)}};function ne(){$.style("opacity",L*.9).style("display",L?"inline":"none");J.style("opacity",L).style("display",L?"inline":"none");W.text(L===1?T.strings().close:T.strings().open)}w.on("toggleMenu",function(e){d3.event.stopPropagation();L=1-L;ne()});w.on("closeMenu",function(e){if(L===1){L=0;ne()}})});return T}T.dispatch=w;T.margin=function(e){if(!arguments.length){return t}t.top=typeof e.top!=="undefined"?e.top:t.top;t.right=typeof e.right!=="undefined"?e.right:t.right;t.bottom=typeof e.bottom!=="undefined"?e.bottom:t.bottom;t.left=typeof e.left!=="undefined"?e.left:t.left;return T};T.width=function(e){if(!arguments.length){return n}n=Math.round(e);return T};T.height=function(e){if(!arguments.length){return i}i=Math.round(e);return T};T.id=function(e){if(!arguments.length){return b}b=e;return T};T.key=function(e){if(!arguments.length){return y}y=e;return T};T.color=function(t){if(!arguments.length){return x}x=e.utils.getColor(t);return T};T.classes=function(e){if(!arguments.length){return S}S=e;return T};T.align=function(e){if(!arguments.length){return r}r=e;return T};T.position=function(e){if(!arguments.length){return s}s=e;return T};T.showAll=function(e){if(!arguments.length){return h}h=e;return T};T.showMenu=function(e){if(!arguments.length){return p}p=e;return T};T.collapsed=function(e){return m};T.rowsCount=function(e){if(!arguments.length){return _}_=e;return T};T.spacing=function(e){if(!arguments.length){return c}c=e;return T};T.gutter=function(e){if(!arguments.length){return u}u=e;return T};T.radius=function(e){if(!arguments.length){return o}o=e;return T};T.strings=function(e){if(!arguments.length){return v}v=e;return T};T.equalColumns=function(e){if(!arguments.length){return f}f=e;return T};T.enabled=function(e){if(!arguments.length){return g}g=e;return T};T.direction=function(e){if(!arguments.length){return a}a=e;return T};return T};e.models.scroll=function(){var e,t={},n,i,r,a,s,o,l;function u(c,d,f,h){var p=c.select("defs"),m=d.select("defs"),_,g,v=f.select(".nv-x.nv-axis"),b=f.select(".nv-barsWrap"),y,x;var S=0;u.init=function(e,t){S=e;o=t;this.gradients(l);this.mask(l);this.scrollTarget(l);this.backShadows(l);this.foreShadows(l);this.assignEvents(l);this.resize(l)};u.pan=function(e){var t=0,i=0,r="",a=0,s=0;if(d3.event){if(d3.event.type==="zoom"&&d3.event.sourceEvent){a=d3.event.sourceEvent.deltaX||0;s=d3.event.sourceEvent.deltaY||0;t=(Math.abs(a)>Math.abs(s)?a:s)*-1}else if(d3.event.type==="drag"){a=d3.event.dx||0;s=d3.event.dy||0;t=n?a:s}else if(d3.event.type!=="click"){return 0}i=Math.abs(s)>Math.abs(a)?s:0}S=Math.min(Math.max(S+t,e),-1);r="translate("+(n?S+",0":"0,"+S)+")";if(S+t>0||S+t<e){o(i)}x.attr("transform",r);b.attr("transform",r);v.select(".nv-wrap.nv-axis").attr("transform",r);return S};u.assignEvents=function(e){if(e){var t=d3.behavior.zoom().on("zoom",s);var n=d3.behavior.drag().origin(function(e){return e}).on("drag",s);f.call(t);g.call(t);f.call(n);g.call(n)}else{f.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);g.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);f.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null);g.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null)}};u.resize=function(e){if(!e){return}var s=h.labelThickness()+h.tickPadding()/2,o=n,l=o?t.left:s,u=t.top,c=i+(o?0:t[h.orient()]-s),d=r+(o?t[h.orient()]-s:0),f=o?"height":"width",p=o?d:c;_.attr("x",o?2:-t.left).attr("y",o?0:2).attr("width",i+(o?-2:t.left)).attr("height",r+(o?t.bottom:-2));g.attr("x",l).attr("y",u).attr("width",c).attr("height",d);y.select(".nv-back-shadow-prev").attr("x",l).attr("y",u).attr(f,p);y.select(".nv-back-shadow-more").attr("x",l+(o?i-5:1)).attr("y",u+(o?0:r-6)).attr(f,p);x.select(".nv-fore-shadow-prev").attr("x",l+(o?1:0)).attr("y",u+(o?0:1)).attr(f,p);x.select(".nv-fore-shadow-more").attr("x",l+(o?a-17:0)).attr("y",u+(o?0:a-19)).attr(f,p)};u.gradients=function(t){m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-back-gradient-prev-"+e);var i=m.select("#nv-back-gradient-prev-"+e);m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-back-gradient-more-"+e);var r=m.select("#nv-back-gradient-more-"+e);m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-fore-gradient-prev-"+e);var a=m.select("#nv-fore-gradient-prev-"+e);m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-fore-gradient-more-"+e);var s=m.select("#nv-fore-gradient-more-"+e);p.selectAll(".nv-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0).attr("x2",n?1:0).attr("y2",n?0:1);i.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",0);i.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1);r.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0);r.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",1);a.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",0);a.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1);s.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0);s.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",1)};u.mask=function(t){m.append("clipPath").attr("class","nv-scroll-mask").attr("id","nv-edge-clip-"+e).append("rect");_=p.select(".nv-scroll-mask rect");f.attr("clip-path",t?"url(#nv-edge-clip-"+e+")":"")};u.scrollTarget=function(e){d.select(".nv-scroll-background").append("rect").attr("class","nv-scroll-target").attr("fill","transparent");g=c.select(".nv-scroll-target")};u.backShadows=function(t){var i=d.select(".nv-scroll-background").append("g").attr("class","nv-back-shadow-wrap");i.append("rect").attr("class","nv-back-shadow-prev");i.append("rect").attr("class","nv-back-shadow-more");y=c.select(".nv-back-shadow-wrap");if(t){var r=n?"width":"height";y.select("rect.nv-back-shadow-prev").attr("fill","url(#nv-back-gradient-prev-"+e+")").attr(r,7);y.select("rect.nv-back-shadow-more").attr("fill","url(#nv-back-gradient-more-"+e+")").attr(r,7)}else{y.selectAll("rect").attr("fill","transparent")}};u.foreShadows=function(t){var i=d.select(".nv-scroll-background").insert("g").attr("class","nv-fore-shadow-wrap");i.append("rect").attr("class","nv-fore-shadow-prev");i.append("rect").attr("class","nv-fore-shadow-more");x=c.select(".nv-fore-shadow-wrap");if(t){var r=n?"width":"height";x.select("rect.nv-fore-shadow-prev").attr("fill","url(#nv-fore-gradient-prev-"+e+")").attr(r,20);x.select("rect.nv-fore-shadow-more").attr("fill","url(#nv-fore-gradient-more-"+e+")").attr(r,20)}else{x.selectAll("rect").attr("fill","transparent")}};return u}u.id=function(t){if(!arguments.length){return e}e=t;return u};u.margin=function(e){if(!arguments.length){return t}t.top=typeof e.top!="undefined"?e.top:t.top;t.right=typeof e.right!="undefined"?e.right:t.right;t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom;t.left=typeof e.left!="undefined"?e.left:t.left;return u};u.width=function(e){if(!arguments.length){return i}i=e;return u};u.height=function(e){if(!arguments.length){return r}r=e;return u};u.vertical=function(e){if(!arguments.length){return n}n=e;return u};u.minDimension=function(e){if(!arguments.length){return a}a=e;return u};u.panHandler=function(e){if(!arguments.length){return s}s=d3.functor(e);return u};u.enable=function(e){if(!arguments.length){return l}l=e;return u};return u};e.models.scatter=function(){var t={top:0,right:0,bottom:0,left:0},n=960,i=500,r=function(t,n){return e.utils.defaultColor()(t,t.series)},a=r,s=function(e,t){return"nv-group nv-series-"+e.series},o=Math.floor(Math.random()*1e5),l=d3.scale.linear(),u=d3.scale.linear(),c=d3.scale.linear(),d=function(e){return e.x},f=function(e){return e.y},h=function(e){return e.size||1},p=function(e){return e.shape||"circle"},m=e.utils.buildLocality(),_=true,g=[],v=[],b=[],y=true,x=function(e){return!e.notActive},S=false,w=.1,L=false,E=true,k=true,A=function(e,t){return Math.sqrt(c(h(e,t))/Math.PI)},M=function(e,t){return c(h(e,t))},T=null,C=null,R=null,D=[16,256],I=false,O=d3.dispatch("elementClick","elementMouseover","elementMouseout","elementMousemove"),N=false;var F,B,U,P,Y=false;function H(m){m.each(function(m){var G=n-t.left-t.right,V=i-t.top-t.bottom,j=d3.select(this);m=m.map(function(e,t){e.values=e.values.map(function(e){e.series=t;return e});return e});var z=T&&C&&R?[]:d3.merge(m.map(function(e){return e.values.map(function(e,t){return{x:d(e,t),y:f(e,t),size:h(e,t)}})}));H.resetDimensions=function(e,r){n=e;i=r;G=e-t.left-t.right;V=r-t.top-t.bottom;$()};function $(){l.domain(T||d3.extent(z.map(function(e){return e.x}).concat(g)));u.domain(C||d3.extent(z.map(function(e){return e.y}).concat(v)));if(S&&m[0]){if(w===-1){var e=Math.sqrt(D[1]/Math.PI);l.range([0+e,G-e]);u.range([V-e,0+e])}else if(w<1){l.range([(G*w+G)/(2*m[0].values.length),G-G*(1+w)/(2*m[0].values.length)]);u.range([V,0])}else{l.range([w,G-w]);u.range([V-w,w])}}else{l.range([0,G]);u.range([V,0])}if(N){u.nice()}c.domain(R||d3.extent(z.map(function(e){return e.size}).concat(b))).range(D);if(l.domain()[0]===l.domain()[1]||u.domain()[0]===u.domain()[1])I=true;if(l.domain()[0]===l.domain()[1])l.domain()[0]?l.domain([l.domain()[0]-l.domain()[0]*.1,l.domain()[1]+l.domain()[1]*.1]):l.domain([-1,1]);if(u.domain()[0]===u.domain()[1])u.domain()[0]?u.domain([u.domain()[0]-u.domain()[0]*.1,u.domain()[1]+u.domain()[1]*.1]):u.domain([-1,1]);if(c.domain().length<2){c.domain([0,c.domain()])}F=F||l;B=B||u;U=U||c}$();var q=j.selectAll("g.nv-wrap.nv-scatter").data([m]);var W=q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+o);var K=W.append("defs");var J=W.append("g");var X=q.select("g");H.gradient=function(t,n){return e.utils.colorRadialGradient(t,o+"-"+n,{x:.5,y:.5,r:.5,s:0,u:"objectBoundingBox"},r(t,n),q.select("defs"))};J.append("g").attr("class","nv-groups");J.append("g").attr("class","nv-point-paths");q.classed("nv-single-point",I).attr("transform","translate("+t.left+","+t.top+")");K.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect");q.select("#nv-edge-clip-"+o+" rect").attr("width",G).attr("height",V);X.attr("clip-path",L?"url(#nv-edge-clip-"+o+")":"");function Z(){if(!y)return false;var e;function t(e,t,n,i){var r=m[i];return{series:r,point:r.values[n],pointIndex:n,seriesIndex:r.series,id:o,e:e}}if(E===true){var r=d3.merge(m.map(function(e,t){return e.values.map(function(e,n){var i=d(e,n);var r=f(e,n);return[l(i)+Math.random()*1e-4,u(r)+Math.random()*1e-4,t,n,e]}).filter(function(e,t){return x(e[4],t)})}));if(k){var a=q.select("defs").selectAll(".nv-point-clips").data([o]).enter();a.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+o);var s=q.select("#nv-points-clip-"+o).selectAll("circle").data(r);s.enter().append("circle");s.exit().remove();s.attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",function(e,t){return A(e[4],t)});q.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+o+")")}if(r.length<=3){r.push([l.range()[0]-20,u.range()[0]-20,null,null]);r.push([l.range()[1]+20,u.range()[1]+20,null,null]);r.push([l.range()[0]-20,u.range()[0]+20,null,null]);r.push([l.range()[1]+20,u.range()[1]-20,null,null])}var c=d3.geom.polygon([[-10,-10],[-10,i+10],[n+10,i+10],[n+10,-10]]);var h=d3.geom.voronoi(r).map(function(e,t){return{data:c.clip(e),series:r[t][2],point:r[t][3]}}).filter(function(e){return e.series!==null});var p=q.select(".nv-point-paths").selectAll("path").data(h);p.enter().append("path").attr("class",function(e,t){return"nv-path-"+t});p.exit().remove();p.attr("d",function(e){return"M"+e.data.join("L")+"Z"});p.on("click",function(e){if(Y)return 0;O.elementClick(t(d3.event,e,e.point,e.series))}).on("mouseover",function(e){if(Y)return 0;O.elementMouseover(t(d3.event,e,e.point,e.series))}).on("mousemove",function(e,t){O.elementMousemove(d3.event)}).on("mouseout",function(e,n){if(Y)return 0;O.elementMouseout(t(d3.event,e,e.point,e.series))})}else{q.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").style("pointer-events","auto").on("click",function(e,n){if(Y||!m[e.series])return 0;O.elementClick(t(d3.event,e,n,e.series))}).on("mouseover",function(e,n){if(Y||!m[e.series])return 0;O.elementMouseover(t(d3.event,e,n,e.series))}).on("mousemove",function(e,t){O.elementMousemove(d3.event)}).on("mouseout",function(e,n){if(Y||!m[e.series])return 0;O.elementMouseout(t(d3.event,e,e.point,e.series))})}Y=false}Y=true;var Q=q.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});Q.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);d3.transition(Q.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();Q.attr("class",function(e,t){return s(e,e.series)}).attr("fill",function(e,t){return a(e,e.series)}).attr("stroke",function(e,t){return a(e,e.series)}).classed("hover",function(e){return e.hover});d3.transition(Q).style("stroke-opacity",1).style("fill-opacity",.5);if(_){var ee=Q.selectAll("circle.nv-point").data(function(e){return e.values});ee.enter().append("circle").attr("cx",function(e,t){return F(d(e,t))}).attr("cy",function(e,t){return B(f(e,t))}).attr("r",A);ee.exit().remove();d3.transition(Q.exit().selectAll("path.nv-point")).attr("cx",function(e,t){return l(d(e,t))}).attr("cy",function(e,t){return u(f(e,t))}).remove();ee.attr("class",function(e,t){return"nv-point nv-point-"+t});d3.transition(ee).attr("cx",function(e,t){return l(d(e,t))}).attr("cy",function(e,t){return u(f(e,t))}).attr("r",A)}else{var ee=Q.selectAll("path.nv-point").data(function(e){return e.values});ee.enter().append("path").attr("transform",function(e,t){return"translate("+F(d(e,t))+","+B(f(e,t))+")"}).attr("d",d3.svg.symbol().type(p).size(M));ee.exit().remove();d3.transition(Q.exit().selectAll("path.nv-point")).attr("transform",function(e,t){return"translate("+l(d(e,t))+","+u(f(e,t))+")"}).remove();ee.attr("class",function(e,t){return"nv-point nv-point-"+t});d3.transition(ee).attr("transform",function(e,t){return"translate("+l(d(e,t))+","+u(f(e,t))+")"}).attr("d",d3.svg.symbol().type(p).size(M))}clearTimeout(P);P=setTimeout(Z,300);F=l.copy();B=u.copy();U=c.copy()});return H}O.on("elementMouseover.point",function(e){if(y)d3.select(".nv-chart-"+o+" .nv-series-"+e.seriesIndex+" .nv-point-"+e.pointIndex).classed("hover",true)});O.on("elementMouseout.point",function(e){if(y)d3.select(".nv-chart-"+o+" .nv-series-"+e.seriesIndex+" .nv-point-"+e.pointIndex).classed("hover",false)});H.dispatch=O;H.color=function(e){if(!arguments.length)return r;r=e;return H};H.fill=function(e){if(!arguments.length)return a;a=e;return H};H.classes=function(e){if(!arguments.length)return s;s=e;return H};H.gradient=function(e){if(!arguments.length)return gradient;gradient=e;return H};H.x=function(e){if(!arguments.length)return d;d=d3.functor(e);return H};H.y=function(e){if(!arguments.length)return f;f=d3.functor(e);return H};H.size=function(e){if(!arguments.length)return h;h=d3.functor(e);return H};H.margin=function(e){if(!arguments.length)return t;t.top=typeof e.top!="undefined"?e.top:t.top;t.right=typeof e.right!="undefined"?e.right:t.right;t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom;t.left=typeof e.left!="undefined"?e.left:t.left;return H};H.width=function(e){if(!arguments.length)return n;n=e;return H};H.height=function(e){if(!arguments.length)return i;i=e;return H};H.xScale=function(e){if(!arguments.length)return l;l=e;return H};H.yScale=function(e){if(!arguments.length)return u;u=e;return H};H.zScale=function(e){if(!arguments.length)return c;c=e;return H};H.xDomain=function(e){if(!arguments.length)return T;T=e;return H};H.yDomain=function(e){if(!arguments.length)return C;C=e;return H};H.sizeDomain=function(e){if(!arguments.length)return R;R=e;return H};H.sizeRange=function(e){if(!arguments.length)return D;D=e;return H};H.forceX=function(e){if(!arguments.length)return g;g=e;return H};H.forceY=function(e){if(!arguments.length)return v;v=e;return H};H.forceSize=function(e){if(!arguments.length)return b;b=e;return H};H.interactive=function(e){if(!arguments.length)return y;y=e;return H};H.pointActive=function(e){if(!arguments.length)return x;x=e;return H};H.padData=function(e){if(!arguments.length)return S;S=e;return H};H.padDataOuter=function(e){if(!arguments.length)return w;w=e;return H};H.clipEdge=function(e){if(!arguments.length)return L;L=e;return H};H.clipVoronoi=function(e){if(!arguments.length)return k;k=e;return H};H.useVoronoi=function(e){if(!arguments.length)return E;E=e;if(E===false){k=false}return H};H.circleRadius=function(e){if(!arguments.length)return A;A=e;return H};H.shape=function(e){if(!arguments.length)return p;p=e;return H};H.onlyCircles=function(e){if(!arguments.length)return _;_=e;return H};H.id=function(e){if(!arguments.length)return o;o=e;return H};H.singlePoint=function(e){if(!arguments.length)return I;I=e;return H};H.nice=function(e){if(!arguments.length){return N}N=e;return H};H.locality=function(t){if(!arguments.length){return m}m=e.utils.buildLocality(t);return H};return H};e.models.bubbleChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,r=false,a=false,s=true,o="ltr",l=function(e){return e.x},u=function(e){return e.y},c=[0],d,f,h=200,p=function(e){return e.y},m=function(e){return e.y},_=false,g=0,v=false,b=function(e){return},y=d3.time.format("%Y-%m-%d"),x=null,S=true,w=function(e,t,n,i,r){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"},L,E,k={},A={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},M=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var T=function(t,n,i){var r=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(r,"MMM",F.locality()):r};var C=function(t,n,i){var r=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)].key||t;return e.utils.numberFormatSI(r,2,i,F.locality())};var R=e.models.scatter().padData(true).padDataOuter(-1).size(function(e){return e.y}).sizeRange([256,1024]).singlePoint(true),D=e.models.axis().orient("bottom").valueFormat(T).tickSize(0).tickPadding(4).highlightZero(false).showMaxMin(false).ticks(d3.time.months,1),I=e.models.axis().orient("left").valueFormat(C).tickPadding(7).highlightZero(false).showMaxMin(false),O=e.models.legend().align("center").key(function(e){return e.key+"%"});var N=function(t,n,i){var r=t.series.key,a=t.point.x,s=t.point.y,o=w(r,a,s,t,F),l=t.value<0?"n":"s";x=e.tooltip.show(t.e,o,l,null,n)};function F(a){a.each(function(a){var d=this,f=d3.select(this);var h=a?a.properties:{},_=a?a.data:null;var g,v,y,w,A,T=a.properties.xDataType==="datetime"||false,C=a.properties.yDataType==="currency"||false;F.container=this;F.update=function(){f.transition().call(F)};function B(e){if(e&&e.length){f.selectAll(".nv-noData").remove();return false;

}f.select(".nvd3.nv-wrap").remove();var r=n||parseInt(f.style("width"),10)||960,a=i||parseInt(f.style("height"),10)||400,s=f.selectAll(".nv-noData").data([F.strings().noData]);s.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");s.attr("x",t.left+r/2).attr("y",t.top+a/2).text(function(e){return e});return true}if(B(_)){return F}r=r&&h.title;function U(e){var t=d3.extent(d3.merge(e.map(function(e){return e.values.map(function(e,t){return d3.time.format("%Y-%m-%d").parse(l(e))})})));var n=[d3.time.month.floor(t[0]),d3.time.day.offset(d3.time.month.ceil(t[1]),-1)];return n}function P(e){function t(e){return 32-new Date(e.getFullYear(),e.getMonth(),32).getDate()}var n=d3.time.month.range(e[0],e[1]);var i=n.map(function(e){return d3.time.day.offset(d3.time.month.floor(e),t(e)/2-1)});return i}function Y(e){var t=d3.nest().key(p).entries(e);var n=1e3/t.length,i=n*.25,r=[0,1],a=[0,1],s=d3.scale.linear().domain(r).range(a),o=[],l=0;t.map(function(e,t){e.total=0;e.values=e.values.sort(function(e,t){return t.y<e.y?-1:t.y>e.y?1:0}).map(function(t){e.total+=t.y;return t});e.group=t;return e}).sort(function(e,t){return e.total<t.total?-1:e.total>t.total?1:0}).map(function(e,t){l+=e.total;r=d3.extent(e.values.map(function(e){return e.y}));a=[n*t+i,n*(t+1)-i];s.domain(r).range(a);e.values=e.values.map(function(t){t.group=e.group;t.opportunity=t.y;t.y=s(t.opportunity);return t});o.push({y:d3.min(e.values.map(function(e){return e.y})),key:e.key});return e});return o}k.disabled=_.map(function(e){return!!e.disabled});g=d3.nest().key(m).entries(_);g=g.sort(function(e,t){return parseInt(e.key,10)<parseInt(t.key,10)?-1:parseInt(e.key,10)>parseInt(t.key,10)?1:0}).map(function(e,t){e.series=t;e.classes=e.values[0].classes;e.color=e.values[0].color;return e});y=U(g);A=Y(_);w=d3.extent(d3.merge(g.map(function(e){return e.values.map(function(e,t){return u(e,t)})})).concat(c));L=R.xScale();E=R.yScale();D.scale(L).tickValues(P(y));I.scale(E).ticks(A.length).tickValues(A.map(function(e,t){return A[t].y}));F.render=function(){var a=n||parseInt(f.style("width"),10)||960,l=i||parseInt(f.style("height"),10)||400,u=a-t.left-t.right,c=l-t.top-t.bottom,d=u,p=c,m={top:0,right:0,bottom:0,left:0};var _=Math.sqrt(R.sizeRange()[1]/Math.PI),v=0,b={width:0,height:0},x="";var S=f.selectAll("g.nv-wrap.nv-bubbleChart").data([g]),L=S.enter().append("g").attr("class","nvd3 nv-wrap nv-bubbleChart").append("g"),E=S.select("g").attr("class","nv-chartWrap");L.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");E.select(".nv-background").attr("width",u+t.left+t.right).attr("height",c+t.top+t.bottom);L.append("g").attr("class","nv-titleWrap");var k=E.select(".nv-titleWrap");L.append("g").attr("class","nv-x nv-axis");var M=E.select(".nv-x.nv-axis");L.append("g").attr("class","nv-y nv-axis");var N=E.select(".nv-y.nv-axis");L.append("g").attr("class","nv-bubblesWrap");var B=E.select(".nv-bubblesWrap");L.append("g").attr("class","nv-legendWrap");var U=E.select(".nv-legendWrap");S.attr("transform","translate("+t.left+","+t.top+")");k.select(".nv-title").remove();if(r){k.append("text").attr("class","nv-title").attr("x",o==="rtl"?u:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(h.title).attr("stroke","none").attr("fill","black");b=e.utils.getTextBBox(E.select(".nv-title"));v+=b.height}if(s){O.id("legend_"+F.id()).strings(F.strings().legend).align("center").height(c-v);U.datum(g).call(O);O.arrange(u);var P=e.utils.getTextBBox(U.select(".nv-legend-link")),Y=u-b.width-6,H=r&&O.collapsed()&&Y>P.width?true:false,G=o==="rtl"||!O.collapsed()?0:u-O.width(),V=b.height;if(H){V=b.height-O.height()/2-P.height/2}else if(!r){V=-O.margin().top}U.attr("transform","translate("+G+","+V+")");v+=H?12:O.height()}p=c-v-m.top-m.bottom;R.width(d).height(p).id(F.id()).xDomain(y).yDomain(w);B.datum(g.filter(function(e){return!e.disabled})).transition().duration(F.delay()).call(R);m.top+=_;var j={top:0,right:0,bottom:0,left:0},z={top:0,right:0,bottom:0,left:0};function $(){m.left=Math.max(z.left,j.left);m.right=Math.max(z.right,j.right);m.top=Math.max(z.top,j.top);m.bottom=Math.max(z.bottom,j.bottom)}function q(){d=u-m.left-m.right;p=c-v-m.top-m.bottom;R.resetDimensions(d,p)}I.margin(m).tickFormat(function(t,n){var i=I.valueFormat()(n,A,C);return e.utils.stringEllipsify(i,f,Math.max(u*.2,75))});N.call(I);j=I.margin();$();q();D.tickSize(0).margin(m).tickFormat(function(e){return D.valueFormat()(e,null,T)});M.call(D);z=D.margin();$();q();I.tickSize(-d,0).margin(m);N.call(I);B.transition().duration(F.delay()).call(R);m.top+=v;x=m.left+",";x+=m.top+(D.orient()==="bottom"?p:0);M.attr("transform","translate("+x+")");x=m.left+(I.orient()==="left"?0:d)+",";x+=m.top;N.attr("transform","translate("+x+")");B.attr("transform","translate("+m.left+","+m.top+")")};F.render();O.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;if(!g.filter(function(e){return!e.disabled}).length){g.map(function(e){e.disabled=false;f.selectAll(".nv-series").classed("disabled",false);return e})}k.disabled=g.map(function(e){return!!e.disabled});M.stateChange(k);f.transition().call(F.render)});M.on("tooltipShow",function(e){if(S){N(e,d.parentNode)}});M.on("tooltipMove",function(t){if(x){e.tooltip.position(d.parentNode,x,t,"s")}});M.on("tooltipHide",function(){if(S){e.tooltip.cleanup()}});M.on("changeState",function(e){if(typeof e.disabled!=="undefined"){_.forEach(function(t,n){t.disabled=e.disabled[n]});k.disabled=e.disabled}f.transition().call(F)});M.on("chartClick",function(){M.tooltipHide();if(O.enabled()){O.dispatch.closeMenu()}});R.dispatch.on("elementClick",function(e){M.chartClick();b(e)})});return F}R.dispatch.on("elementMouseover.tooltip",function(e){M.tooltipShow(e)});R.dispatch.on("elementMousemove.tooltip",function(e){M.tooltipMove(e)});R.dispatch.on("elementMouseout.tooltip",function(){M.tooltipHide()});F.dispatch=M;F.scatter=R;F.legend=O;F.xAxis=D;F.yAxis=I;d3.rebind(F,R,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","delay","color","fill","classes","gradient","locality");d3.rebind(F,R,"size","zScale","sizeDomain","forceSize","interactive","clipVoronoi","clipRadius");d3.rebind(F,D,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");F.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var r=function(t,n){return e.utils.defaultColor()(t,t.series)};var a=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":r=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":r=function(){return"inherit"};a=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};break;case"data":r=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};a=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?r:function(e,t){return R.gradient(e,e.series)};R.color(r);R.fill(s);R.classes(a);O.color(r);O.classes(a);return F};F.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return F};F.width=function(e){if(!arguments.length){return n}n=e;return F};F.height=function(e){if(!arguments.length){return i}i=e;return F};F.showTitle=function(e){if(!arguments.length){return r}r=e;return F};F.showLegend=function(e){if(!arguments.length){return s}s=e;return F};F.tooltip=function(e){if(!arguments.length){return x}x=e;return F};F.tooltips=function(e){if(!arguments.length){return S}S=e;return F};F.tooltipContent=function(e){if(!arguments.length){return w}w=e;return F};F.state=function(e){if(!arguments.length){return k}k=e;return F};F.delay=function(e){if(!arguments.length){return h}h=e;return F};F.bubbleClick=function(e){if(!arguments.length){return b}b=e;return F};F.groupBy=function(e){if(!arguments.length){return p}p=e;return F};F.filterBy=function(e){if(!arguments.length){return m}m=e;return F};F.colorFill=function(e){return F};F.strings=function(e){if(!arguments.length){return A}for(var t in e){if(e.hasOwnProperty(t)){A[t]=e[t]}}return F};F.direction=function(e){if(!arguments.length){return o}o=e;I.direction(e);O.direction(e);return F};return F};e.models.funnel=function(){var t={top:0,right:0,bottom:0,left:0},n=960,i=500,r=.3,a=d3.scale.linear(),s=Math.floor(Math.random()*1e4),o=function(e){return e.x},l=function(e){return e.y},u=function(e){return e.height},c=function(e){return e.value},d=e.utils.buildLocality(),f=[0],h=true,p,m=0,_=true,g=75,v=0,b=function(e){return e},y=function(e){return e},S=function(e){return(" ("+e+")").replace(" ()","")},w=function(t,n){return e.utils.defaultColor()(t,t.series)},L=w,E=false,k=function(e,t){return"nv-group nv-series-"+e.series},A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var M=0,T=0,C=0;function R(o){o.each(function(o){var l=n-t.left-t.right,d=i-t.top-t.bottom,x=d3.select(this),D=5,I=5,O=0,N=0,F=0;o.forEach(function(e,t){e.values.forEach(function(e){e.index=t;N+=parseFloat(e.value)})});function B(){M=ce(F);T=de();C=fe(F)}function U(){var e=ue(T,M),t=M-2*r*T,n=0,i=24;o.map(function(a,s){a.values=a.values.map(function(a){a.height=0;if(N>0){a.height=le(e*a.value/N,t)}if(a.height<i/2){n+=a.height-i/2;a.height=i/2}else if(n<0&&a.height+n>i/2){a.height+=n;n=0}t+=2*r*a.height;return a});return a});o=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(u)(o);var s=p?[]:d3.extent(d3.merge(o.map(function(e){return e.values.map(function(e,t){return u(e,t)+e.y0})})).concat(f));a.domain(p||s).range([T,0])}B();U();var P=x.selectAll("g.nv-wrap.nv-funnel").data([o]);var Y=P.enter().append("g").attr("class","nvd3 nv-wrap nv-funnel");var H=Y.append("defs");var G=Y.append("g");var V=P.select("g");R.gradient=function(t,n,i){return e.utils.colorLinearGradient(t,s+"-"+n,i,w(t,n),P.select("defs"))};G.append("g").attr("class","nv-groups");P.attr("transform","translate("+t.left+","+t.top+")");H.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect");P.select("#nv-edge-clip-"+s+" rect").attr("width",l+1).attr("height",d+1);V.attr("clip-path",h?"url(#nv-edge-clip-"+s+")":"");if(E){var j=e.utils.createTexture(H,s)}var z=P.select(".nv-groups").selectAll(".nv-group").data(o,function(e){return e.series});z.exit().transition().duration(v).selectAll("g.nv-slice").delay(function(e,t){return t*m/o[0].values.length}).attr("points",function(e){return oe(e,0,M)}).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();z.exit().transition().duration(v).selectAll("g.nv-label-value").delay(function(e,t){return t*m/o[0].values.length}).attr("y",0).attr("transform","translate("+C+",0)").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();z.exit().remove();z.enter().append("g").attr("class","nv-group");var $=P.select(".nv-groups").selectAll(".nv-group");$.style("stroke-opacity",1e-6).style("fill-opacity",1e-6);$.attr("class",k).attr("fill",L).classed("hover",function(e){return e.hover}).classed("nv-active",function(e){return e.active==="active"}).classed("nv-inactive",function(e){return e.active==="inactive"}).style({stroke:"#FFFFFF","stroke-width":2});$.transition().duration(v).style("stroke-opacity",1).style("fill-opacity",1);var q=z.selectAll("g.nv-slice").data(function(e){return e.values},function(e){return e.series});q.exit().remove();var W=q.enter().append("g").attr("class","nv-slice");var K=$.selectAll("g.nv-slice");W.append("polygon").attr("class","nv-base");K.selectAll(".nv-base").attr("points",function(e){return oe(e,0,M)});if(E){W.append("polygon").attr("class","nv-texture");K.selectAll(".nv-texture").attr("points",function(e){return oe(e,0,M)}).style("mask","url("+j+")")}K.on("mouseover",function(e,t){d3.select(this).classed("hover",true);var n=J(d3.event,e,t);A.elementMouseover(n)}).on("mousemove",function(e,t){A.elementMousemove(d3.event)}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);A.elementMouseout()}).on("click",function(e,t){d3.event.stopPropagation();var n=J(d3.event,e,t);A.elementClick(n)}).on("dblclick",function(e,t){d3.event.stopPropagation();var n=J(d3.event,e,t);A.elementDblClick(n)});function J(e,t,n){return{value:c(t,n),point:t,id:s,series:o[t.index],pointIndex:n,seriesIndex:t.series,e:e}}var X=z.selectAll(".nv-label-value").data(function(e){return e.values},function(e){return e.series});X.exit().remove();X.enter().append("g").attr("class","nv-label-value");var Z=$.selectAll("g.nv-label-value");Z.attr("transform","translate("+C+",0)");var Q=Z.filter(".nv-label-side");function ee(){Z.selectAll("polyline").remove();Z.selectAll("rect").remove();Z.selectAll("text").remove();Z.append("rect").attr("class","nv-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("pointer-events","none").style("stroke-width",0).style("fill-opacity",0);Z.append("text").text(function(e){return b(o[e.index].key)}).call(Se,"nv-label",.85,"middle",ye);Z.select(".nv-label").call(re,_?ie:ae,he,function(e,t){Se(e,"nv-label",t,"middle",ye)});Z.append("text").text(function(e){return y(e.value||e.label||e)}).call(Se,"nv-value",.85,"middle",ye);Z.select(".nv-value").append("tspan").text(function(e){return S(o[e.index].count)});Z.call(we);Z.call(_e);Z.call(Le);Z.classed("nv-label-side",function(e){return e.tooTall||e.tooWide})}function te(){Q=Z.filter(".nv-label-side");Q.selectAll(".nv-label").remove();Q.selectAll("rect").remove();Q.selectAll("polyline").remove();Q.append("text").text(function(e){return b(o[e.index].key)}).call(Se,"nv-label",.85,"start","#555");Q.select(".nv-label").call(re,_?ie:ae,_?pe:se,function(e,t){Se(e,"nv-label",t,"start","#555")});Q.call(we);Q.select(".nv-value").style({"text-anchor":"start",fill:"#555"});Q.call(ge);var e=0;Q.reverse().each(function(t,n){if(!e){t.labelBottom=t.labelTop+t.labelHeight+I;e=t.labelBottom;return}t.labelTop=Math.max(e,t.labelTop);t.labelBottom=t.labelTop+t.labelHeight+I;e=t.labelBottom});Q.reverse();if(e&&e-I>d3.max(a.range())){e=0;Q.each(function(t,n){if(!e){t.labelBottom=d3.max(a.range())-1;t.labelTop=t.labelBottom-t.labelHeight;e=t.labelTop;return}t.labelBottom=Math.min(e,t.labelBottom);t.labelTop=t.labelBottom-t.labelHeight-I;e=t.labelTop});if(e<0){Q.each(function(t,n){t.labelTop-=e;t.labelBottom-=e})}}e=0;Q.call(be)}function ne(){ee();te()}ne();B();U();ne();B();U();ne();B();K.selectAll("polygon").attr("points",function(e){return oe(e,1,M)});if(E){K.selectAll(".nv-texture").style("fill",ye)}Z.attr("transform",function(e){var t=e.tooTall?0:C,n=e.tooTall?0:e.labelTop;return"translate("+t+","+n+")"});Q.attr("transform",function(e){return"translate("+O+","+e.labelTop+")"});Q.append("polyline").attr("class","nv-label-leader").style({"fill-opacity":0,stroke:"#999","stroke-width":1,"stroke-opacity":.5});Q.reverse();Q.selectAll("polyline").call(ve);Q.reverse();function ie(e,t,n,i){var r=t.text(),a=parseFloat(t.attr("dy")),s,o=r.split(/\s+/).reverse(),l=[],u=0,c=n(e,0),d=d3.select(t.node().parentNode);t.text(null);while(s=o.pop()){l.push(s);t.text(l.join(" "));if(t.node().getComputedTextLength()>c&&l.length>1){l.pop();t.text(l.join(" "));l=[s];t=d.append("text");t.text(s).call(i,++u*1.1+a)}}}function re(e,t,n,i){e.each(function(e){var r=d3.select(this);t(e,r,n,i)})}function ae(t,n,i,r){var a=n.text(),s=parseFloat(n.attr("dy")),o=i(t);n.text(e.utils.stringEllipsify(a,x,o)).call(r,s)}function se(e){var t=Math.max(l-d/1.1,g),n=a(e.y0),i=n*r,s=t+i,o=Math.abs(e.labelBottom-n),u=o*r,c=D+u+D+D,f=s-c;return Math.max(f,g)}function oe(e,t,n){var i=a(e.y0),s=a(e.y0+e.y),o=n/2-r*i,l=n/2-r*s,u=C;return u-o+","+i*t+" "+(u-l)+","+s*t+" "+(u+l)+","+s*t+" "+(u+o)+","+i*t}function le(e,t){var n=t/r/2;return Math.abs(Math.sqrt(e/r+n*n))-n}function ue(e,t){return e*(t-e*r)}function ce(e){return Math.round(Math.max(Math.min(d/1.1,l-e),40))}function de(){return Math.min(M*1.1,(M-M*r)/(2*r))}function fe(e){return M/2+e}function he(e){var t=M,n=a(e.y0+e.y1/2);return t-n*r*2}function pe(e,t){var n=Math.max((l-M)/2,t),i=a(e.y0+e.y1);return n+i*r}function me(e){return d3.select(e).node().getBoundingClientRect()}function _e(e){e.each(function(e){var t=me(this);e.labelHeight=t.height;e.labelWidth=t.width;e.labelTop=a(e.y0+e.y/2)-e.labelHeight/2;e.labelBottom=e.labelTop+e.labelHeight+I;e.y1=e.y-e.labelHeight;e.tooWide=e.labelWidth>he(e);e.tooTall=e.labelHeight>e.height-4})}function ge(e){e.each(function(e){var t=me(this);e.labelHeight=t.height;e.labelWidth=t.width;e.labelTop=a(e.y0+e.y);e.labelBottom=e.labelTop+e.labelHeight+I})}function ve(e,t){var n=e.length;e.each(function(t,i,s){t.y1=0;var o=s?d3.select(e[s-1][i]).data()[0]:null,l=s<n-1?d3.select(e[s+1][i]).data()[0]:null,u=Math.round(t.labelHeight)+.5,c=Math.round(a(t.y0)-t.labelTop)-.5,d=o?o.labelWidth-(t.labelBottom-o.labelBottom)*r:0,f=t.labelWidth,h=l&&u<c?l.labelWidth:0,p=Math.round(Math.max(d,f,h))+D,m=Math.round(pe(t,F))-O-D,o=0+","+u+" "+p+","+u+" "+(p+Math.abs(u-c)*r)+","+c+" "+m+","+c;t.labelWidth=p;d3.select(this).attr("points",o)})}function be(e){var t=(l-M)/2,n=0;e.each(function(e){var t=a(e.y0),i=e.labelBottom>=t?1:0,s=Math.abs(e.labelBottom+D-t)*r,o=t*r,l=e.labelWidth+s+D*3-o;if(l>=n){n=l}});n=Math.round(n*10)/10;if(n<=0){O=t;F=t}else if(n>0&&n<t){O=t-n;F=t}else{O=0;F=n}}function ye(t,n,i){var r=d3.select(this.parentNode).style("fill");return e.utils.getTextContrast(r,n)}function xe(t){var n=e.utils.isRTLChar(t.slice(-1)),i=n?"rtl":"ltr";return"ltr"}function Se(e,t,n,i,r){e.attr("x",0).attr("y",0).attr("dy",n+"em").attr("class",t).attr("direction",function(){return xe(e.text())}).style({"pointer-events":"none","text-anchor":i,fill:r})}function we(e){e.each(function(e){var t=d3.select(this),n=t.selectAll(".nv-label")[0].length+1,i=.85+n-1+"em";t.select(".nv-value").attr("dy",i)})}function Le(e){e.each(function(e,t){var n=d3.select(this);n.select(".nv-label-box").attr("x",(e.labelWidth+6)/-2).attr("y",-2).attr("width",e.labelWidth+6).attr("height",e.labelHeight+4).attr("rx",2).attr("ry",2).style("fill-opacity",1)})}});return R}R.dispatch=A;R.color=function(e){if(!arguments.length)return w;w=e;return R};R.fill=function(e){if(!arguments.length)return L;L=e;return R};R.classes=function(e){if(!arguments.length)return k;k=e;return R};R.gradient=function(e){if(!arguments.length)return gradient;gradient=e;return R};R.x=function(e){if(!arguments.length)return o;o=e;return R};R.y=function(e){if(!arguments.length)return l;l=e;return R};R.margin=function(e){if(!arguments.length)return t;t=e;return R};R.width=function(e){if(!arguments.length)return n;n=e;return R};R.height=function(e){if(!arguments.length)return i;i=e;return R};R.xScale=function(e){if(!arguments.length)return x;x=e;return R};R.yScale=function(e){if(!arguments.length)return a;a=e;return R};R.yDomain=function(e){if(!arguments.length)return p;p=e;return R};R.forceY=function(e){if(!arguments.length)return f;f=e;return R};R.id=function(e){if(!arguments.length)return s;s=e;return R};R.delay=function(e){if(!arguments.length)return m;m=e;return R};R.clipEdge=function(e){if(!arguments.length)return h;h=e;return R};R.fmtKey=function(e){if(!arguments.length)return b;b=e;return R};R.fmtValue=function(e){if(!arguments.length)return y;y=e;return R};R.fmtCount=function(e){if(!arguments.length)return S;S=e;return R};R.wrapLabels=function(e){if(!arguments.length)return _;_=e;return R};R.minLabelWidth=function(e){if(!arguments.length)return g;g=e;return R};R.textureFill=function(e){if(!arguments.length)return E;E=e;return R};R.locality=function(t){if(!arguments.length){return d}d=e.utils.buildLocality(t);return R};return R};e.models.funnelChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,r=false,a=true,s="ltr",o=null,l=true,u=function(e,t,n,i,r){return"<h3>"+e+" - "+t+"</h3>"+"<p>"+n+"</p>"},c,d,f=0,h={},p={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},m=d3.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var _=e.models.funnel(),g=e.models.legend().align("center"),v=d3.scale.linear();var b=function(t,n,i){var r=t.series.key,a=i.total?(t.point.value*100/i.total).toFixed(1):100,s=t.point.value,l=u(r,a,s,t,x),c=t.value<0?"n":"s";o=e.tooltip.show(t.e,l,c,null,n)};var y=function(e,t,n){return};function x(u){u.each(function(u){var c=u.properties,p=u.data,S=d3.select(this),w=this,L=(n||parseInt(S.style("width"),10)||960)-t.left-t.right,E=(i||parseInt(S.style("height"),10)||400)-t.top-t.bottom,k=L,A=E,M={top:0,right:0,bottom:0,left:0},T=30;x.update=function(){S.transition().duration(f).call(x)};x.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";t.values[0].active=t.active;if(t.active==="active"){p.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";return e})}if(!p.filter(function(e){return e.active==="active"}).length){p.map(function(e){e.active="";return e})}S.call(x)};x.container=this;if(!p||!p.length||!p.filter(function(e){return e.values.length}).length){q();return x}p.forEach(function(e,t){e.series=t;e.values.forEach(function(t,n){t.series=e.series;t.index=n;if(typeof t.value=="undefined"){t.value=t.y}});e.total=d3.sum(e.values,function(e,t){return e.value});if(!e.total){e.disabled=true}});var C=p.filter(function(e,t){return!e.disabled});if(!C.length){C=[{values:[]}]}var R=d3.sum(C,function(e){return e.total});var D=d3.sum(C,function(e){return e.count});c.total=R;h.disabled=p.map(function(e){return!!e.disabled});d=_.yScale();if(!R){q();return x}else{S.selectAll(".nv-noData").remove()}var I=S.selectAll("g.nv-wrap.nv-funnelChart").data([C]),O=I.enter().append("g").attr("class","nvd3 nv-wrap nv-funnelChart").append("g"),N=I.select("g").attr("class","nv-chartWrap");O.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");N.select(".nv-background").attr("width",L+t.left+t.right).attr("height",E+t.top+t.bottom);O.append("g").attr("class","nv-titleWrap");var F=N.select(".nv-titleWrap");O.append("g").attr("class","nv-funnelWrap");var B=N.select(".nv-funnelWrap");O.append("g").attr("class","nv-legendWrap");var U=N.select(".nv-legendWrap");I.attr("transform","translate("+t.left+","+t.top+")");var P={width:0,height:0};F.select(".nv-title").remove();if(r&&c.title){F.append("text").attr("class","nv-title").attr("x",s==="rtl"?L:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(c.title).attr("stroke","none").attr("fill","black");P=e.utils.getTextBBox(N.select(".nv-title"));M.top+=P.height+12}if(a){g.id("legend_"+x.id()).strings(x.strings().legend).align("center").height(E-M.top);U.datum(p).call(g);g.arrange(L);var Y=e.utils.getTextBBox(U.select(".nv-legend-link")),H=L-P.width-6,G=r&&g.collapsed()&&H>Y.width?true:false,V=s==="rtl"||!g.collapsed()?0:L-g.width(),j=P.height;if(G){j=P.height-g.height()/2-Y.height/2}else if(!r){j=-g.margin().top}U.attr("transform","translate("+V+","+j+")");M.top+=G?0:g.height()-12}A=E-M.top-M.bottom;_.width(k).height(A);B.datum(C).attr("transform","translate("+M.left+","+M.top+")").call(_);var z=$(v,C);function $(e,t){var n=[[0]];var i=t.filter(function(e){return!e.disabled}).map(function(e){return e.values.map(function(e,t){return e.y0+e.y})});var r=d3.merge(n.concat(i));v.domain(r).range(r.map(function(e){return d(e)}));return r}function q(){S.select(".nvd3.nv-wrap").remove();var e=S.selectAll(".nv-noData").data([x.strings().noData]);e.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");e.attr("x",t.left+L/2).attr("y",t.top+E/2).text(function(e){return e})}g.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!p.filter(function(e){return!e.disabled}).length){p.map(function(e){e.disabled=false;return e})}if(!p.filter(function(e){return e.active==="active"}).length){p.map(function(e){e.active="";return e})}h.disabled=p.map(function(e){return!!e.disabled});m.stateChange(h);S.transition().duration(f).call(x)});m.on("tooltipShow",function(e){if(l){b(e,w.parentNode,c)}});m.on("tooltipMove",function(t){if(o){e.tooltip.position(w.parentNode,o,t)}});m.on("tooltipHide",function(){if(l){e.tooltip.cleanup()}});m.on("changeState",function(e){if(typeof e.disabled!=="undefined"){C.forEach(function(t,n){t.disabled=e.disabled[n]});h.disabled=e.disabled}S.transition().duration(f).call(x)});m.on("chartClick",function(){if(g.enabled()){g.dispatch.closeMenu()}});_.dispatch.on("elementClick",function(e){m.chartClick();y(p,e,x)})});return x}_.dispatch.on("elementMouseover.tooltip",function(e){m.tooltipShow(e)});_.dispatch.on("elementMousemove.tooltip",function(e){m.tooltipMove(e)});_.dispatch.on("elementMouseout.tooltip",function(){m.tooltipHide()});x.dispatch=m;x.funnel=_;x.legend=g;d3.rebind(x,_,"id","x","y","xDomain","yDomain","forceX","forceY","color","fill","classes","gradient","locality");d3.rebind(x,_,"fmtKey","fmtValue","fmtCount","clipEdge","delay","wrapLabels","minLabelWidth");x.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var r=function(t,n){return e.utils.defaultColor()(t,t.series)};var a=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":r=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":r=function(){return"inherit"};a=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};break;case"data":r=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};a=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?r:function(e,t){var n={orientation:i.orientation||"vertical",position:i.position||"middle"};return _.gradient(e,e.series,n)};_.color(r);_.fill(s);_.classes(a);g.color(r);g.classes(a);return x};x.x=function(e){if(!arguments.length){return _.x()}_.x(e);return x};x.y=function(e){if(!arguments.length){return _.y()}_.y(e);return x};x.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return x};x.width=function(e){if(!arguments.length){return n}n=e;return x};x.height=function(e){if(!arguments.length){return i}i=e;return x};x.showTitle=function(e){if(!arguments.length){return r}r=e;return x};x.showLegend=function(e){if(!arguments.length){return a}a=e;return x};x.tooltip=function(e){if(!arguments.length){return o}o=e;return x};x.tooltips=function(e){if(!arguments.length){return l}l=e;return x};x.tooltipContent=function(e){if(!arguments.length){return u}u=e;return x};x.state=function(e){if(!arguments.length){return h}h=e;return x};x.strings=function(e){if(!arguments.length){return p}for(var t in e){if(e.hasOwnProperty(t)){p[t]=e[t]}}return x};x.seriesClick=function(e){if(!arguments.length){return y}y=e;return x};x.direction=function(e){if(!arguments.length){return s}s=e;g.direction(e);return x};return x};e.models.gauge=function(){var t={top:0,right:0,bottom:0,left:0},n=null,i=null,r=true,a=function(e){return e.values},s=function(e){return e.key},o=function(e){return e.y},l=e.utils.buildLocality(),u=Math.floor(Math.random()*1e4),c=d3.format(",g"),d=d3.format(",.f"),f=true,h=true,p=function(t,n){return e.utils.defaultColor()(t,t.series)},m=p,_=function(e,t){return"nv-arc-path nv-series-"+e.series},g=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var v=50,b=5,y=5,x=90,S=0,w=10,L=-90,E=90,k=750,A=10;function M(r){r.each(function(r){var a=r.properties,s=r.data;var o=n-t.left-t.right,l=i-t.top-t.bottom,f=Math.min(o/2,l)/((100+A)/100),y=d3.select(this),T=E-L,C=d3.scale.linear().range([0,1]).domain([S,w]),R=0,D=s.map(function(e,t){var n={key:e.key,series:e.series,y0:R,y1:e.y,color:e.color,classes:e.classes};R=e.y;return n}),I=[0].concat(s.map(function(e){return e.y})),O=function(e){return e*f/100},N=a.values[0].t;var F=y.selectAll("g.nv-wrap.nv-gauge").data([s]);var B=F.enter().append("g").attr("class","nvd3 nv-wrap nv-gauge");var U=B.append("defs");var P=B.append("g");var Y=F.select("g");M.gradient=function(t,n){return e.utils.colorRadialGradient(t,u+"-"+n,{x:0,y:0,r:f,s:v/100,u:"userSpaceOnUse"},p(t,n),F.select("defs"))};P.append("g").attr("class","nv-arc-group");P.append("g").attr("class","nv-labels");P.append("g").attr("class","nv-pointer");P.append("g").attr("class","nv-odometer");F.attr("transform","translate("+(t.left/2+t.right/2+O(A))+","+(t.top+O(A))+")");var H=d3.svg.arc().innerRadius(O(v)).outerRadius(f).startAngle(function(e,t){return K(J(e.y0))}).endAngle(function(e,t){return K(J(e.y1))});var G=Y.select(".nv-arc-group").attr("transform",X);G.selectAll(".nv-arc-path").data(D).enter().append("path").attr("class","nv-arc-path").attr("stroke","#ffffff").attr("stroke-width",3).attr("d",H).on("mouseover",function(e,t){d3.select(this).classed("hover",true);g.elementMouseover({point:e,pointIndex:t,e:d3.event,id:u})}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);g.elementMouseout({point:e,index:t,id:u})}).on("mousemove",function(e,t){g.elementMousemove(d3.event)}).on("click",function(e,t){g.elementClick({point:e,index:t,e:d3.event,id:u});d3.event.stopPropagation()}).on("dblclick",function(e,t){g.elementDblClick({point:e,index:t,e:d3.event,id:u});d3.event.stopPropagation()});G.selectAll(".nv-arc-path").transition().duration(10).attr("class",_).attr("fill",m).attr("d",H);var V=Y.select(".nv-labels").attr("transform",X);V.selectAll("text").transition().duration(0).attr("transform",function(e){return"rotate("+J(e)+") translate(0,"+(-f-O(1.5))+")"}).style("font-size",O(.6)+"em");V.selectAll("text").data(I).enter().append("text").attr("transform",function(e){return"rotate("+J(e)+") translate(0,"+(-f-O(1.5))+")"}).text(c).style("text-anchor","middle").style("font-size",O(.6)+"em");if(h){var j=[[Math.round(O(b)/2),0],[0,-Math.round(O(x))],[-Math.round(O(b)/2),0],[0,Math.round(O(b))],[Math.round(O(b)/2),0]];var z=Y.select(".nv-pointer").attr("transform",X);z.selectAll("path").transition().duration(120).attr("d",d3.svg.line().interpolate("monotone"));var $=z.selectAll("path").data([j]).enter().append("path").attr("d",d3.svg.line().interpolate("monotone")).attr("transform","rotate("+L+")");W(N);Y.selectAll(".nv-odom").remove();Y.select(".nv-odomText").transition().duration(0).style("font-size",O(.7)+"em");Y.select(".nv-odometer").append("text").attr("class","nv-odom nv-odomText").attr("x",0).attr("y",0).attr("text-anchor","middle").text(d(N)).style("stroke","none").style("fill","black").style("font-size",O(.7)+"em");var q=Y.select(".nv-odomText").node().getBoundingClientRect();Y.select(".nv-odometer").insert("path",".nv-odomText").attr("class","nv-odom nv-odomBox").attr("d",e.utils.roundedRectangle(-q.width/2,-q.height+O(1.5),q.width+O(4),q.height+O(2),O(2))).attr("fill","#eeffff").attr("stroke","black").attr("stroke-width","2px").attr("opacity",.8);Y.select(".nv-odometer").attr("transform","translate("+f+","+(t.top+O(70)+q.width)+")")}else{Y.select(".nv-odometer").select(".nv-odomText").remove();Y.select(".nv-odometer").select(".nv-odomBox").remove();Y.select(".nv-pointer").selectAll("path").remove()}function W(e){$.transition().duration(k).ease("elastic").attr("transform","rotate("+J(e)+")")}function K(e){return e*Math.PI/180}function J(e){return L+C(e)*T}function X(){return"translate("+f+","+f+")"}M.setGaugePointer=W});return M}M.dispatch=g;M.color=function(e){if(!arguments.length)return p;p=e;return M};M.fill=function(e){if(!arguments.length)return m;m=e;return M};M.classes=function(e){if(!arguments.length)return _;_=e;return M};M.gradient=function(e){if(!arguments.length)return gradient;gradient=e;return M};M.margin=function(e){if(!arguments.length)return t;t=e;return M};M.width=function(e){if(!arguments.length)return n;n=e;return M};M.height=function(e){if(!arguments.length)return i;

i=e;return M};M.values=function(e){if(!arguments.length)return a;a=e;return M};M.x=function(e){if(!arguments.length)return s;s=e;return M};M.y=function(e){if(!arguments.length)return o;o=d3.functor(e);return M};M.showLabels=function(e){if(!arguments.length)return f;f=e;return M};M.id=function(e){if(!arguments.length)return u;u=e;return M};M.valueFormat=function(e){if(!arguments.length)return d;d=e;return M};M.labelThreshold=function(e){if(!arguments.length)return labelThreshold;labelThreshold=e;return M};M.ringWidth=function(e){if(!arguments.length)return v;v=e;return M};M.pointerWidth=function(e){if(!arguments.length)return b;b=e;return M};M.pointerTailLength=function(e){if(!arguments.length)return y;y=e;return M};M.pointerHeadLength=function(e){if(!arguments.length)return x;x=e;return M};M.minValue=function(e){if(!arguments.length)return S;S=e;return M};M.maxValue=function(e){if(!arguments.length)return w;w=e;return M};M.minAngle=function(e){if(!arguments.length)return L;L=e;return M};M.maxAngle=function(e){if(!arguments.length)return E;E=e;return M};M.transitionMs=function(e){if(!arguments.length)return k;k=e;return M};M.labelFormat=function(e){if(!arguments.length)return c;c=e;return M};M.labelInset=function(e){if(!arguments.length)return A;A=e;return M};M.setPointer=function(e){if(!arguments.length)return M.setGaugePointer;M.setGaugePointer(e);return M};M.isRendered=function(e){return svg!==undefined};M.showPointer=function(e){if(!arguments.length)return h;h=e;return M};M.locality=function(t){if(!arguments.length){return l}l=e.utils.buildLocality(t);return M};return M};e.models.gaugeChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,r=false,a=true,s="ltr",o=null,l=true,u=function(e,t,n,i){return"<h3>"+e+"</h3>"+"<p>"+t+"</p>"},c,d,f={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},h=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove");var p=e.models.gauge(),m=e.models.legend().align("center");var _=function(t,n){var i=p.valueFormat()(t.point.y1-t.point.y0),r=u(t.point.key,i,t,g);o=e.tooltip.show(t.e,r,null,null,n)};function g(u){u.each(function(u){var c=u.properties,d=u.data,f=d3.select(this),v=this,b=(n||parseInt(f.style("width"),10)||960)-t.left-t.right,y=(i||parseInt(f.style("height"),10)||400)-t.top-t.bottom,x=b,S=y,w={top:0,right:0,bottom:0,left:0};g.update=function(){f.transition().call(g)};g.container=this;if(!d||!d.length){var L=f.selectAll(".nv-noData").data([g.strings().noData]);L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");L.attr("x",t.left+b/2).attr("y",t.top+y/2).text(function(e){return e});return g}else{f.selectAll(".nv-noData").remove()}d.map(function(e,t){e.series=t});var E=f.selectAll("g.nv-wrap.nv-gaugeChart").data([d]),k=E.enter().append("g").attr("class","nvd3 nv-wrap nv-gaugeChart").append("g"),A=E.select("g").attr("class","nv-chartWrap");k.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");A.select(".nv-background").attr("width",b+t.left+t.right).attr("height",y+t.top+t.bottom);k.append("g").attr("class","nv-titleWrap");var M=A.select(".nv-titleWrap");k.append("g").attr("class","nv-gaugeWrap");var T=A.select(".nv-gaugeWrap");k.append("g").attr("class","nv-legendWrap");var C=A.select(".nv-legendWrap");E.attr("transform","translate("+t.left+","+t.top+")");var R={width:0,height:0};M.select(".nv-title").remove();if(r&&c.title){M.append("text").attr("class","nv-title").attr("x",s==="rtl"?b:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(c.title).attr("stroke","none").attr("fill","black");R=e.utils.getTextBBox(A.select(".nv-title"));w.top+=R.height+12}var D={width:0,height:0};if(a){m.id("legend_"+g.id()).strings(g.strings().legend).align("center").height(y-w.top);C.datum(d).call(m);m.arrange(b);var D=e.utils.getTextBBox(C.select(".nv-legend-link")),I=b-R.width-6,O=r&&m.collapsed()&&I>D.width?true:false,N=s==="rtl"||!m.collapsed()?0:b-m.width(),F=R.height;if(O){F=R.height-m.height()/2-D.height/2}else if(!r){F=-m.margin().top}C.attr("transform","translate("+N+","+F+")");w.top+=O?0:m.height()-12}S=y-w.top-w.bottom;p.width(x).height(S);T.datum(u).attr("transform","translate("+w.left+","+w.top+")").transition().call(p);h.on("tooltipShow",function(e){if(l){_(e,v.parentNode)}});h.on("tooltipMove",function(t){if(o){e.tooltip.position(v.parentNode,o,t)}});h.on("tooltipHide",function(){if(l){e.tooltip.cleanup()}});h.on("chartClick",function(){if(m.enabled()){m.dispatch.closeMenu()}})});return g}p.dispatch.on("elementMouseover.tooltip",function(e){h.tooltipShow(e)});p.dispatch.on("elementMousemove.tooltip",function(e){h.tooltipMove(e)});p.dispatch.on("elementMouseout.tooltip",function(){h.tooltipHide()});g.dispatch=h;g.gauge=p;g.legend=m;d3.rebind(g,p,"id","x","y","color","fill","classes","gradient","locality");d3.rebind(g,p,"valueFormat","values","showLabels","showPointer","setPointer","ringWidth","labelThreshold","maxValue","minValue","transitionMs");g.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var r=function(t,n){return e.utils.defaultColor()(t,t.series)};var a=function(e,t){return"nv-arc-path nv-series-"+e.series};switch(n){case"graduated":r=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":r=function(){return"inherit"};a=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-arc-path nv-series-"+e.series+" nv-fill"+n};break;case"data":r=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};a=function(e,t){return"nv-arc-path nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?r:function(e,t){return p.gradient(e,e.series)};p.color(r);p.fill(s);p.classes(a);m.color(r);m.classes(a);return g};g.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return g};g.width=function(e){if(!arguments.length){return n}n=e;return g};g.height=function(e){if(!arguments.length){return i}i=e;return g};g.showTitle=function(e){if(!arguments.length){return r}r=e;return g};g.showLegend=function(e){if(!arguments.length){return a}a=e;return g};g.tooltip=function(e){if(!arguments.length){return o}o=e;return g};g.tooltips=function(e){if(!arguments.length){return l}l=e;return g};g.tooltipContent=function(e){if(!arguments.length){return u}u=e;return g};g.strings=function(e){if(!arguments.length){return f}for(var t in e){if(e.hasOwnProperty(t)){f[t]=e[t]}}return g};g.direction=function(e){if(!arguments.length){return s}s=e;m.direction(e);return g};return g};e.models.line=function(){var t=e.models.scatter();var n={top:0,right:0,bottom:0,left:0},i=960,r=500,a=function(e){return e.x},s=function(e){return e.y},o=function(e,t){return!isNaN(s(e,t))&&s(e,t)!==null},l=function(e){return e&&e.area||false},u=false,c,d,f="linear",h=function(t,n){return e.utils.defaultColor()(t,t.series)},p=h,m=function(e,t){return"nv-group nv-series-"+e.series};var _,g;function v(p){p.each(function(p){var b=i-n.left-n.right,y=r-n.top-n.bottom,x=d3.select(this);c=t.xScale();d=t.yScale();_=_||c;g=g||d;var S=x.selectAll("g.nv-wrap.nv-line").data([p]);var w=S.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var L=w.append("defs");var E=w.append("g");var k=S.select("g");v.gradient=function(t,n,i){return e.utils.colorLinearGradient(t,v.id()+"-"+n,i,h(t,n),S.select("defs"))};E.append("g").attr("class","nv-groups");E.append("g").attr("class","nv-scatterWrap");S.attr("transform","translate("+n.left+","+n.top+")");t.width(b).height(y);var A=S.select(".nv-scatterWrap");A.call(t);L.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect");S.select("#nv-edge-clip-"+t.id()+" rect").attr("width",b).attr("height",y);k.attr("clip-path",u?"url(#nv-edge-clip-"+t.id()+")":"");A.attr("clip-path",u?"url(#nv-edge-clip-"+t.id()+")":"");var M=S.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);d3.transition(M.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();M.classed("hover",function(e){return e.hover}).attr("class",m).attr("fill",h).attr("stroke",h);d3.transition(M).style("stroke-opacity",1).style("fill-opacity",.5);var T=M.selectAll("path.nv-area").data(function(e){return l(e)?[e]:[]});T.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(f).defined(o).x(function(e,t){return _(a(e,t))}).y0(function(e,t){return g(s(e,t))}).y1(function(e,t){return g(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[e.values])});T.exit().remove();d3.transition(M.exit().selectAll("path.nv-area")).attr("d",function(e){return d3.svg.area().interpolate(f).defined(o).x(function(e,t){return _(a(e,t))}).y0(function(e,t){return g(s(e,t))}).y1(function(e,t){return g(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[e.values])});d3.transition(T).attr("d",function(e){return d3.svg.area().interpolate(f).defined(o).x(function(e,t){return c(a(e,t))}).y0(function(e,t){return d(s(e,t))}).y1(function(e,t){return g(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[e.values])});var C=M.selectAll("path.nv-line").data(function(e){if(!e.values||!e.values.length){return[null]}if(e.values.length>1){return[e.values]}var t=c.domain().map(function(t,n){if(Array.isArray(e.values[0])){return[t,e.values[0][1]]}else{var i=JSON.parse(JSON.stringify(e.values[0]));i.x=t;return i}});return[t]});C.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(f).defined(o).x(function(e,t){return _(a(e,t))}).y(function(e,t){return g(s(e,t))}));d3.transition(M.exit().selectAll("path.nv-line")).attr("d",d3.svg.line().interpolate(f).defined(o).x(function(e,t){return _(a(e,t))}).y(function(e,t){return g(s(e,t))}));d3.transition(C).attr("d",d3.svg.line().interpolate(f).defined(o).x(function(e,t){return c(a(e,t))}).y(function(e,t){return d(s(e,t))}));_=c.copy();g=d.copy()});return v}v.dispatch=t.dispatch;v.scatter=t;d3.rebind(v,t,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","useVoronoi","clipVoronoi","clipRadius","padData","padDataOuter","singlePoint","nice","locality");v.color=function(e){if(!arguments.length){return h}h=e;t.color(h);return v};v.fill=function(e){if(!arguments.length){return p}p=e;t.fill(p);return v};v.classes=function(e){if(!arguments.length){return m}m=e;t.classes(m);return v};v.gradient=function(e){if(!arguments.length){return gradient}gradient=e;return v};v.margin=function(e){if(!arguments.length){return n}n.top=typeof e.top!="undefined"?e.top:n.top;n.right=typeof e.right!="undefined"?e.right:n.right;n.bottom=typeof e.bottom!="undefined"?e.bottom:n.bottom;n.left=typeof e.left!="undefined"?e.left:n.left;return v};v.width=function(e){if(!arguments.length){return i}i=e;return v};v.height=function(e){if(!arguments.length){return r}r=e;return v};v.x=function(e){if(!arguments.length){return a}a=e;t.x(e);return v};v.y=function(e){if(!arguments.length){return s}s=e;t.y(e);return v};v.clipEdge=function(e){if(!arguments.length){return u}u=e;return v};v.interpolate=function(e){if(!arguments.length){return f}f=e;return v};v.defined=function(e){if(!arguments.length){return o}o=e;return v};v.isArea=function(e){if(!arguments.length){return l}l=d3.functor(e);return v};return v};e.models.lineChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,r=false,a=false,s=true,o="ltr",l=null,u=0,c=true,d,f,h={},p={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},m=3,_=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var g=function(t,n,i){var r=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(r,"yMMMM",k.locality()):r};var v=function(t,n){return e.utils.numberFormatSI(t,2,n,k.locality())};var b=e.models.line().clipEdge(true),y=e.models.axis().orient("bottom").valueFormat(g).tickPadding(4).highlightZero(false).showMaxMin(false),x=e.models.axis().orient("left").valueFormat(v).tickPadding(4),S=e.models.legend().align("right"),w=e.models.legend().align("left").color(["#444"]);var L=function(e,t,n,i,r){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"};var E=function(t,n){var i=t.series.key,r=b.x()(t.point,t.pointIndex),a=b.y()(t.point,t.pointIndex),s=L(i,r,a,t,k);l=e.tooltip.show(t.e,s,null,null,n)};function k(p){p.each(function(p){var g=this,v=d3.select(this);var L=p?p.properties:{},A=p?p.data:null,M=L.labels?L.labels.map(function(e){return e.l||e}):[];var T=[],C=[],R=0,D=false,I=false,O=true,N=p.properties.xDataType==="datetime"||false,F=p.properties.yDataType==="currency"||false;k.container=this;k.update=function(){v.transition().duration(u).call(k)};function B(e){if(e&&e.length&&e.filter(function(e){return e.values.length}).length){v.selectAll(".nv-noData").remove();return false}v.select(".nvd3.nv-wrap").remove();var r=n||parseInt(v.style("width"),10)||960,a=i||parseInt(v.style("height"),10)||400,s=v.selectAll(".nv-noData").data([k.strings().noData]);s.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");s.attr("x",t.left+r/2).attr("y",t.top+a/2).text(function(e){return e});return true}if(B(A)){return k}O=Array.isArray(A[0].values[0]);if(O){b.x(function(e){return e[0]});b.y(function(e){return e[1]})}else{b.x(function(e){return e.x});b.y(function(e){return e.y})}r=r&&L.title;A.map(function(e,t){e.series=t;e.total=d3.sum(e.values,function(e,t){return b.y()(e,t)});if(!e.total){e.disabled=true}});C=L.labels?L.labels.map(function(e){return[].concat(e.l)[0]||k.strings().noLabel}):[];T=A.filter(function(e){return!e.disabled});T=T.length?T:[{series:0,total:0,disabled:true,values:[]}];R=d3.sum(T,function(e){return e.total});if(!R){B();return k}h.disabled=T.map(function(e){return!!e.disabled});h.interpolate=b.interpolate();h.isArea=b.isArea()();var U=[{key:"Linear",disabled:b.interpolate()!=="linear"},{key:"Basis",disabled:b.interpolate()!=="basis"},{key:"Monotone",disabled:b.interpolate()!=="monotone"},{key:"Cardinal",disabled:b.interpolate()!=="cardinal"},{key:"Line",disabled:b.isArea()()===true},{key:"Area",disabled:b.isArea()()===false}];D=d3.max(T,function(e){return e.values.length})===1;b.padData(D?false:true).padDataOuter(-1).singlePoint(D).xScale(N&&!C.length?d3.time.scale():d3.scale.linear());if(D){var P=d3.merge(T.map(function(e){return e.values.map(function(e,t){return b.x()(e,t)})})).reduce(function(e,t){if(e.indexOf(t)<0)e.push(t);return e},[]).sort(function(e,t){return e-t}),Y=d3.extent(P),H=1*(N&&!C.length?864e5:1);var G=d3.merge(T.map(function(e){return e.values.map(function(e,t){return b.y()(e,t)})})),V=d3.extent(G),j=T.length===1?2:Math.min((V[1]-V[0])/T.length,V[0]);b.xDomain([Y[0]-H,Y[1]+H]).yDomain([V[0]-j,V[1]+j]);y.ticks(P.length).tickValues(P).showMaxMin(false);x.ticks(D?5:null).showMaxMin(false).highlightZero(false)}else{b.xDomain(null).yDomain(null);y.ticks(null).tickValues(null).showMaxMin(N);x.ticks(null).showMaxMin(true).highlightZero(true)}d=b.xScale();f=b.yScale();y.scale(d);x.scale(f);k.render=function(){var l=n||parseInt(v.style("width"),10)||960,c=i||parseInt(v.style("height"),10)||400,d=l-t.left-t.right,f=c-t.top-t.bottom,h=d,p=f,_={top:0,right:0,bottom:0,left:0};var g=0,E=0,M=0,R=0,I={width:0,height:0},B=0,P=0,Y="";var H=v.selectAll("g.nv-wrap.nv-lineChart").data([T]),G=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),V=H.select("g").attr("class","nv-chartWrap");G.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");V.select(".nv-background").attr("width",d+t.left+t.right).attr("height",f+t.top+t.bottom);G.append("g").attr("class","nv-titleWrap");var j=V.select(".nv-titleWrap");G.append("g").attr("class","nv-x nv-axis");var z=V.select(".nv-x.nv-axis");G.append("g").attr("class","nv-y nv-axis");var $=V.select(".nv-y.nv-axis");G.append("g").attr("class","nv-linesWrap");var q=V.select(".nv-linesWrap");G.append("g").attr("class","nv-controlsWrap");var W=V.select(".nv-controlsWrap");G.append("g").attr("class","nv-legendWrap");var K=V.select(".nv-legendWrap");H.attr("transform","translate("+t.left+","+t.top+")");j.select(".nv-title").remove();if(r){j.append("text").attr("class","nv-title").attr("x",o==="rtl"?d:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(L.title).attr("stroke","none").attr("fill","black");I=e.utils.getTextBBox(V.select(".nv-title"));R+=I.height}if(a){w.id("controls_"+k.id()).strings(k.strings().controls).align("left").height(f-R);W.datum(U).call(w);g=w.calculateWidth()}if(s){S.id("legend_"+k.id()).strings(k.strings().legend).align("right").height(f-R);K.datum(A).call(S);E=S.calculateWidth()}M=d/(g+E);g=Math.floor(g*M);E=Math.floor(E*M);if(a){w.arrange(g);E=d-w.width()}if(s){S.arrange(E);g=d-S.width()}if(a){var J=o==="rtl"?d-w.width():0,X=r?I.height:-S.margin().top;W.attr("transform","translate("+J+","+X+")");B=w.height()}if(s){var Z=e.utils.getTextBBox(K.select(".nv-legend-link")),Q=d-I.width-6,ee=r&&!a&&S.collapsed()&&Q>Z.width?true:false,J=o==="rtl"?0:d-S.width(),X=I.height;if(ee){X=I.height-S.height()/2-Z.height/2}else if(!r){X=-S.margin().top}K.attr("transform","translate("+J+","+X+")");P=ee?12:S.height()}R+=Math.max(B,P);p=f-R-_.top-_.bottom;var te=Math.pow(m,2)*Math.PI*(D?3:1);b.width(h).height(p).id(k.id()).size(te).sizeRange([te,te]).sizeDomain([te,te]);q.datum(T).call(b);var ne={top:0,right:0,bottom:0,left:0},ie={top:0,right:0,bottom:0,left:0};function re(){_.left=Math.max(ie.left,ne.left);_.right=Math.max(ie.right,ne.right);_.top=Math.max(ie.top,ne.top);_.bottom=Math.max(ie.bottom,ne.bottom)}function ae(){h=d-_.left-_.right;p=f-R-_.top-_.bottom;b.width(h).height(p);b.scatter.resetDimensions(h,p)}x.margin(_).tickFormat(function(e,t){return x.valueFormat()(e,F)});$.call(x);ne=x.margin();re();ae();Y=_.left+",";Y+=_.top+(y.orient()==="bottom"?p:0);z.attr("transform","translate("+Y+")");y.tickSize(-p+(b.padData()?m:0),0).margin(_).tickFormat(function(e,t,n){return y.valueFormat()(e-!O,C,N)});z.call(y);ie=y.margin();re();ae();y.resizeTickLines(-p+(b.padData()?m:0));x.tickSize(-h+(b.padData()?m:0),0).margin(_);$.call(x);q.transition().duration(u).call(b);_.top+=R;Y=_.left+",";Y+=_.top+(y.orient()==="bottom"?p:0);z.attr("transform","translate("+Y+")");Y=_.left+(x.orient()==="left"?0:h)+",";Y+=_.top;$.attr("transform","translate("+Y+")");q.attr("transform","translate("+_.left+","+_.top+")")};k.render();S.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;if(!A.filter(function(e){return!e.disabled}).length){A.map(function(e){e.disabled=false;v.selectAll(".nv-series").classed("disabled",false);return e})}h.disabled=A.map(function(e){return!!e.disabled});_.stateChange(h);v.transition().duration(u).call(k)});w.dispatch.on("legendClick",function(e,t){if(!e.disabled){return}U=U.map(function(e){e.disabled=true;return e});e.disabled=false;switch(e.key){case"Basis":b.interpolate("basis");break;case"Linear":b.interpolate("linear");break;case"Monotone":b.interpolate("monotone");break;case"Cardinal":b.interpolate("cardinal");break;case"Line":b.isArea(false);break;case"Area":b.isArea(true);break}h.interpolate=b.interpolate();h.isArea=b.isArea();_.stateChange(h);v.transition().duration(u).call(k)});_.on("tooltipShow",function(e){if(c){E(e,g.parentNode)}});_.on("tooltipMove",function(t){if(l){e.tooltip.position(g.parentNode,l,t,"s")}});_.on("tooltipHide",function(){if(c){e.tooltip.cleanup()}});_.on("changeState",function(e){if(typeof e.disabled!=="undefined"){A.forEach(function(t,n){t.disabled=e.disabled[n]});h.disabled=e.disabled}if(typeof e.interpolate!=="undefined"){b.interpolate(e.interpolate);h.interpolate=e.interpolate}if(typeof e.isArea!=="undefined"){b.isArea(e.isArea);h.isArea=e.isArea}v.transition().duration(u).call(k)});_.on("chartClick",function(){if(w.enabled()){w.dispatch.closeMenu()}if(S.enabled()){S.dispatch.closeMenu()}})});return k}b.dispatch.on("elementMouseover.tooltip",function(e){_.tooltipShow(e)});b.dispatch.on("elementMousemove.tooltip",function(e){_.tooltipMove(e)});b.dispatch.on("elementMouseout.tooltip",function(){_.tooltipHide()});k.dispatch=_;k.lines=b;k.legend=S;k.controls=w;k.xAxis=y;k.yAxis=x;d3.rebind(k,b,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality");d3.rebind(k,b,"defined","isArea","interpolate","size","clipVoronoi","useVoronoi","interactive","nice");d3.rebind(k,y,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");k.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var r=function(t,n){return e.utils.defaultColor()(t,t.series)};var a=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":r=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":r=function(){return"inherit"};a=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n+" nv-stroke"+n};break;case"data":r=function(t,n){return t.color||e.utils.defaultColor()(t,t.series)};a=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?r:function(e,t){var n={orientation:i.orientation||"horizontal",position:i.position||"base"};return b.gradient(e,e.series,n)};b.color(r);b.fill(s);b.classes(a);S.color(r);S.classes(a);return k};k.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return k};k.width=function(e){if(!arguments.length){return n}n=e;return k};k.height=function(e){if(!arguments.length){return i}i=e;return k};k.showTitle=function(e){if(!arguments.length){return r}r=e;return k};k.showControls=function(e){if(!arguments.length){return a}a=e;return k};k.showLegend=function(e){if(!arguments.length){return s}s=e;return k};k.tooltip=function(e){if(!arguments.length){return l}l=e;return k};k.tooltips=function(e){if(!arguments.length){return c}c=e;return k};k.tooltipContent=function(e){if(!arguments.length){return L}L=e;return k};k.state=function(e){if(!arguments.length){return h}h=e;return k};k.strings=function(e){if(!arguments.length){return p}for(var t in e){if(e.hasOwnProperty(t)){p[t]=e[t]}}return k};k.direction=function(e){if(!arguments.length){return o}o=e;x.direction(e);y.direction(e);S.direction(e);w.direction(e);return k};k.delay=function(e){if(!arguments.length){return u}u=e;return k};return k};e.models.multiBar=function(){var t={top:0,right:0,bottom:0,left:0},n=960,i=500,r=d3.scale.ordinal(),a=d3.scale.linear(),s=Math.floor(Math.random()*1e4),o=function(e){return e.x},l=function(e){return e.y},u=e.utils.buildLocality(),c=[0],d=true,f=null,h,p=true,m=false,_=function(e){return e},g=false,v=true,b=60,y="ltr",x=200,S,w,L=false,E=function(t,n){return e.utils.defaultColor()(t,t.series)},k=E,A=false,f=null,M=function(e,t){return"nv-group nv-series-"+e.series},T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var C,R;function D(u){u.each(function(u){var f=d3.select(this),h=v?"vertical":"horizontal",x=n-t.left-t.right,I=i-t.top-t.bottom,O=v?"width":"height",N=v?"height":"width",F=v?"width":"height",B=v?"x":"y",U=v?"y":"x",P=0,Y=0,H=0,G=u.length-1,V=false,j=m,z=[],$=0;function q(e,t){return Math.max(Math.round(Math.abs(a(l(e,t))-a(0))),0)}function W(){return r.rangeBand()/(d?1:u.length)}function K(e){return e?1:-1}if(d){u=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(l)(u);if(j==="top"||j===true){j="end"}}else if(j){if(j==="total"){j="top"}else if(j===true){j="end"}V=v}if(d){var J=[];u[0].values.map(function(e,t){var n=0,i=0;u.map(function(e){var r=e.values[t];r.size=Math.abs(r.y);if(r.y<0){r.y1=i-(v?0:r.size);i-=r.size}else{r.y1=n+(v?r.size:0);n+=r.size}});J[t]={neg:i,pos:n}})}var X=S&&w&&!m?[]:d3.merge(u.map(function(e){return e.values.map(function(e,t){return{x:o(e,t),y:l(e,t),y0:e.y0,y1:e.y1}})}));Y=u[0].values.length;P=u.length;if(m){var Z=j==="total"&&d?J.map(function(e){return e.neg}).concat(J.map(function(e){return e.pos})):X.map(l);var Q=d3.extent(u.map(function(e,t){return e.series}));H=Q[0];G=Q[1];z=e.utils.stringSetLengths(Z,f,_,"nv-label-value");$=e.utils.stringSetThickness([83],f,_,"nv-label-value")[0]}D.resetDimensions=function(e,r){n=e;i=r;x=e-t.left-t.right;I=r-t.top-t.bottom;ee()};function ee(){var e=v?x:I,t=v?I:x;var n=d?b:b*P+b,i=b*(d?.25:1),s=Math.max(.25,(e-Y*n-i)/(2*n));if(g){r.domain(S||X.map(function(e){return e.x})).rangeBands([0,e],.3)}else{r.domain(S||X.map(function(e){return e.x})).rangeRoundBands([0,e],.25,s)}var o=o||d3.extent(X.map(function(e){var t=v?0:e.y,n=v?e.y:0;return d?e.y>0?e.y1+t:e.y1+n:e.y}).concat(c));var l=v?[I,0]:[0,x];a.domain(o).range(l);if(m){if(v&&d&&d3.max(z)+8>W()){V=true}F=v&&!V?"labelHeight":"labelWidth"}if(j==="top"||j==="total"){var u=t,f=0,h=0,p=0,i=v?V?2:-2:2;Z.forEach(function(e,t){var n=j==="total"&&d&&v&&!V?$:z[t];if(v&&e>0||!v&&e<0){if(a(e)-n<f){f=a(e)-n;p=n}}else{if(a(e)+n>u){u=a(e)+n;h=n}}});if(v){a.range([t-(a.domain()[0]<0?h+i+2:0),a.domain()[1]>0?p+i:0])}else{a.range([a.domain()[0]<0?p+i+4:0,t-(a.domain()[1]>0?h+i:0)])}}if(L){a.nice()}C=C||r;R=R||a}ee();var te=f.selectAll(".nvd3.nv-wrap").data([u]);var ne=te.enter().append("g");var ie=ne.append("defs");var re=ne.append("g");var ae=te.select("g");te.attr("class","nvd3 nv-wrap nv-multibar");D.gradient=function(t,n,i){return e.utils.colorLinearGradient(t,s+"-"+n,i,E(t,n),te.select("defs"))};re.append("g").attr("class","nv-groups");te.attr("transform","translate("+t.left+","+t.top+")");if(p){ie.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect");te.select("#nv-edge-clip-"+s+" rect").attr("width",x).attr("height",I)}ae.attr("clip-path",p?"url(#nv-edge-clip-"+s+")":"");if(A){var se=e.utils.createTexture(ie,s)}var oe=te.select(".nv-groups").selectAll(".nv-group").data(function(e){return e});var le=oe.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);oe.exit().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).selectAll("g.nv-bar").attr("y",function(e){return d?R(e.y0):R(0)}).attr(O,0).remove();oe.exit().remove();oe.attr("class",M).attr("fill",k).classed("hover",function(e){return e.hover}).classed("nv-active",function(e){return e.active==="active"}).classed("nv-inactive",function(e){return e.active==="inactive"}).style({"stroke-opacity":1,"fill-opacity":1});oe.on("mouseover",function(e,t,n){d3.select(this).classed("hover",true)}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",false)});var ue=oe.selectAll("g.nv-bar").data(function(e){return e.values});var ce=ue.enter().append("g").attr("class","nv-bar");ue.exit().remove();ce.append("rect").attr("class","nv-base").style("fill","inherit").attr("x",0).attr("y",0);if(A){ce.append("rect").attr("class","nv-texture").attr("x",0).attr("y",0).style("mask","url("+se+")")}ce.append("rect").attr("class","nv-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("fill","transparent").style("stroke-width",0).style("fill-opacity",0);ce.append("text").attr("class","nv-label-value");ue.attr("class",function(e,t){return"nv-bar "+(l(e,t)<0?"negative":"positive")}).attr("transform",function(e,t,n){var i=d?{x:Math.round(r(o(e,t))),y:Math.round(a(e.y1))}:{x:Math.round(n*W()+r(o(e,t))),y:Math.round(l(e,t)<0?v?a(0):a(l(e,t)):v?a(l(e,t)):a(0))};return"translate("+i[B]+","+i[U]+")"});ue.select("rect.nv-base").attr(B,0).attr(N,q).attr(O,W);if(A){ue.select("rect.nv-texture").attr(B,0).attr(N,q).attr(O,W).style("fill",function(t,n){var i=k(t),r=e.utils.getTextContrast(i,n);return r})}function de(e,t,n,i){return{value:l(t,n),point:t,series:u[i],pointIndex:n,seriesIndex:i,groupIndex:t.group,id:s,e:e}}ue.on("mouseover",function(e,t,n){var i=de(d3.event,e,t,n);T.elementMouseover(i)}).on("mousemove",function(e,t,n){T.elementMousemove(d3.event)}).on("mouseout",function(e,t,n){T.elementMouseout()}).on("click",function(e,t,n){d3.event.stopPropagation();var i=de(d3.event,e,t,n);T.elementClick(i)}).on("dblclick",function(e,t,n){d3.event.stopPropagation();var i=de(d3.event,e,t,n);T.elementDblClick(i)});var fe=ue.select(".nv-label-value");if(m){fe.text(function(e,t){var n=j==="total"&&d?l(e,t)<0?J[t].neg:J[t].pos:l(e,t);return _(n)}).each(function(e,t){var n=this.getBoundingClientRect();e.labelWidth=Math.floor(n.width)+4;e.labelHeight=Math.floor(n.height);e.barLength=q(e,t);e.barThickness=W()});fe.attr("dy","0.35em").attr("text-anchor",function(e,t){var n="middle",i=l(e,t)<0;if(v&&!V){n="middle"}else{switch(j){case"start":n=i?"end":"start";break;case"middle":n="middle";break;case"end":n=i?"start":"end";break;case"top":case"total":n=i?"end":"start";break}n=y==="rtl"&&n!=="middle"?n==="start"?"end":"start":n}return n}).attr("transform","rotate("+(V?-90:0)+" 0,0)").attr("x",function(e,t){var n=0,i=l(e,t)<0?-1:1,r=i<0,a=(4+(V||!v)*2)*i;if(v&&!V){n=e.barThickness/2}else{switch(j){case"start":n=e.barLength*(r-V)+a;break;case"middle":n=e.barLength*(V?-1:1)/2;break;case"end":n=e.barLength*(!V-r)-a;break;case"top":case"total":n=e.barLength*(!V-r)+2*i;break}}return n}).attr("y",function(e,t){var n=0,i=l(e,t)<0?-1:1,r=i<0,a=(e.labelHeight/2+(4+V*2)*(j==="total"?0:1))*i;if(v&&!V){switch(j){case"start":n=e.barLength*(1-r)-a;break;case"middle":n=e.barLength/2;break;case"end":n=e.barLength*(0+r)+a;break;case"total":n=e.barLength*(0+r)+a*-1;break}}else{n=e.barThickness/2}return n}).style("fill",function(t,n,i){if(j==="top"||j==="total"){return"#000"}var r=k(t),a=e.utils.getTextContrast(r,n);return a}).style("fill-opacity",function(e,t){if(j==="total"){if(e.series!==H&&e.series!==G){return 0}var n=l(e,t);return n<0&&J[t].neg===e.y1+(v?n:0)||n>=0&&J[t].pos===e.y1+(v?0:n)?1:0}else{var i=e.barLength<(!v||V?e.labelWidth:e.labelHeight)+8,r=e.barThickness<(!v||V?e.labelHeight:e.labelWidth)+4;return j!=="top"&&(i||r)?0:1}});function he(e,t,n,i){var r=0,a=l(e,t)<0?-1:1,s=n===a<0?1:0,o=e.barLength-e[F];if(n?v:!v){r=(e.barThickness-(V===n?e.labelHeight:e.labelWidth))/2}else{switch(j){case"start":r=o*(0+s)+i*a;break;case"middle":r=o/2;break;case"end":r=o*(1-s)-i*a;break;case"top":r=e.barLength*(1-s)-e.labelWidth*(0+s);break;case"total":r=e.barLength*(1-s)-(V===n?e.labelHeight:e.labelWidth)*(0+s);break}}return r}if(j==="total"&&d){ue.select("rect.nv-label-box").style("fill-opacity",0)}ue.filter(function(e,t){return j==="total"&&d?e.series===H||e.series===G:true}).select("rect.nv-label-box").attr("x",function(e,t){return he(e,t,true,4)}).attr("y",function(e,t){return he(e,t,false,-4)}).attr("width",function(e,t){return V?e.labelHeight:e.labelWidth}).attr("height",function(e,t){return V?e.labelWidth:e.labelHeight}).style("fill",function(e,t){return j==="top"||j==="total"?"#fff":k(e,t)}).style("fill-opacity",function(e,t){var n=e.barLength<(!v||V?e.labelWidth:e.labelHeight)+8,i=e.barThickness<(!v||V?e.labelHeight:e.labelWidth)+4;return j!=="top"&&(n||i)?0:1})}else{fe.text("").style("fill-opacity",0);ue.select("rect.label-box").style("fill-opacity",0)}C=r.copy();R=a.copy()});return D}D.dispatch=T;D.color=function(e){if(!arguments.length){return E}E=e;return D};D.fill=function(e){if(!arguments.length){return k}k=e;return D};D.classes=function(e){if(!arguments.length){return M}M=e;return D};D.gradient=function(e){if(!arguments.length){return gradient}gradient=e;return D};D.x=function(e){if(!arguments.length){return o}o=e;return D};D.y=function(e){if(!arguments.length){return l}l=e;return D};D.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return D};D.width=function(e){
if(!arguments.length){return n}n=e;return D};D.height=function(e){if(!arguments.length){return i}i=e;return D};D.xScale=function(e){if(!arguments.length){return r}r=e;return D};D.yScale=function(e){if(!arguments.length){return a}a=e;return D};D.xDomain=function(e){if(!arguments.length){return S}S=e;return D};D.yDomain=function(e){if(!arguments.length){return w}w=e;return D};D.forceY=function(e){if(!arguments.length){return c}c=e;return D};D.stacked=function(e){if(!arguments.length){return d}d=e;return D};D.clipEdge=function(e){if(!arguments.length){return p}p=e;return D};D.barColor=function(t){if(!arguments.length){return f}f=e.utils.getColor(t);return D};D.disabled=function(e){if(!arguments.length){return h}h=e;return D};D.id=function(e){if(!arguments.length){return s}s=e;return D};D.delay=function(e){if(!arguments.length){return x}x=e;return D};D.showValues=function(e){if(!arguments.length){return m}m=isNaN(parseInt(e,10))?e:parseInt(e,10)&&true||false;return D};D.valueFormat=function(e){if(!arguments.length){return _}_=e;return D};D.withLine=function(e){if(!arguments.length){return g}g=e;return D};D.vertical=function(e){if(!arguments.length){return v}v=e;return D};D.baseDimension=function(e){if(!arguments.length){return b}b=e;return D};D.direction=function(e){if(!arguments.length){return y}y=e;return D};D.nice=function(e){if(!arguments.length){return L}L=e;return D};D.textureFill=function(e){if(!arguments.length)return A;A=e;return D};D.locality=function(t){if(!arguments.length){return u}u=e.utils.buildLocality(t);return D};return D};e.models.multiBarChart=function(){var t=true,n={top:10,right:10,bottom:10,left:10},i=null,r=null,a=false,s=false,o=true,l="ltr",u=null,c=true,d=true,f=function(e){return},h,p,m={},_={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},g=true,v=d3.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var b=false,y=0;var x=function(t,n,i){var r=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(r,"%x",D.locality()):r};var S=function(t,n){return e.utils.numberFormatSI(t,2,n,D.locality())};var w=e.models.multiBar().stacked(false).clipEdge(false),L=e.models.axis().valueFormat(x).tickSize(0).tickPadding(4).highlightZero(false).showMaxMin(false),E=e.models.axis().valueFormat(S).tickPadding(4),k=e.models.legend(),A=e.models.legend().color(["#444"]),M=e.models.scroll();var T=function(e,t,n,i,r){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"};var C=function(n,i,r){var a=r[n.groupIndex].label,s=n.point.y,o=r?Math.abs(s*100/r[n.groupIndex]._height).toFixed(1):L.tickFormat()(n.point.x),l=T(a,o,s,n,D),c=n.value<0?t?"n":"e":t?"s":"w";u=e.tooltip.show(n.e,l,c,null,i)};var R=function(e,t,n){return};function D(_){_.each(function(_){var x=this,S=d3.select(this),T=t?"multibarChart":"multiBarHorizontalChart";var I=_?_.properties:{},O=_?_.data:null;var N=[],F=0,B=[],U=[].groupCount=0,P=0,Y=false,H=_.properties.xDataType==="datetime"||false,G=_.properties.yDataType==="currency"||false;D.container=this;D.update=function(){S.transition().call(D)};function V(e){if(e&&e.length&&e.filter(function(e){return e.values.length}).length){S.selectAll(".nv-noData").remove();return false}S.select(".nvd3.nv-wrap").remove();var t=i||parseInt(S.style("width"),10)||960,a=r||parseInt(S.style("height"),10)||400,s=S.selectAll(".nv-noData").data([D.strings().noData]);s.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");s.attr("x",n.left+t/2).attr("y",n.top+a/2).text(function(e){return e});return true}if(V(O)){return D}D.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";t.values.map(function(e){e.active=t.active});if(t.active==="active"){O.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";e.values.map(function(e){e.active="inactive"});return e})}if(!O.filter(function(e){return e.active==="active"}).length){O.map(function(e){e.active="";e.values.map(function(e){e.active=""});S.selectAll(".nv-series").classed("nv-inactive",false);return e})}S.call(D)};O.forEach(function(e,t){e.series=t;e.values.forEach(function(e,n){e.series=t});if(!e._values){e._values=e.values.map(function(t,n){return{series:e.series,group:n,color:typeof e.color!=="undefined"?e.color:"",x:w.x()(t,n),y:w.y()(t,n)}});e.total=d3.sum(e._values,function(e,t){return e.y})}e.disabled=e.disabled||e.total===0;e._values.forEach(function(t,n){t.active=typeof e.active!=="undefined"?e.active:""})});N=O.filter(function(e,t){return!e.disabled&&(!e.type||e.type==="bar")});F=N.length;Y=F>0;B=I.groups.map(function(e,t){e.total=0;e._height=0;N.forEach(function(n,i){n._values.filter(function(e,n){return e.group===t}).forEach(function(t,n){e.total+=t.y;e._height+=Math.abs(t.y)})});return e});P=d3.sum(B,function(e){return e.total});U=B.filter(function(e,t){return g?e._height!==0:true}).map(function(e){return e.label||D.strings().noLabel});groupCount=U.length;if(g){N.forEach(function(e,t){e.values=e._values.filter(function(e,t){return B[t]._height!==0}).map(function(e,t){return{series:e.series,group:e.group,color:e.color,x:t+1,y:e.y,active:e.active}});return e})}if(!Y){V();return D}if(!N.length){N=[{values:[]}]}m.disabled=O.map(function(e){return!!e.disabled});m.stacked=w.stacked();a=a&&I.title;var j=[{key:"Grouped",disabled:m.stacked},{key:"Stacked",disabled:!m.stacked}];h=w.xScale();p=w.yScale();L.scale(h);E.scale(p);D.render=function(){var u=i||parseInt(S.style("width"),10)||960,c=r||parseInt(S.style("height"),10)||400,h=u-n.left-n.right,p=c-n.top-n.bottom,_=_||h,g=g||p,x={top:0,right:0,bottom:0,left:0};var C=0,R=0,B=0,P=0,Y={width:0,height:0},V=0,z=0,$="";var q=w.stacked()?t?72:32:32,W=m.stacked?q:q*F+q,K=q*(m.stacked?.25:1),J=groupCount*W+K;var X=S.selectAll(".nvd3.nv-wrap").data([O]),Z=X.enter().append("g").attr("class","nvd3 nv-wrap").append("g"),Q=X.select("g").attr("class","nv-chartWrap");X.attr("class","nvd3 nv-wrap nv-"+T);Z.append("defs");Z.append("g").attr("class","nv-scroll-background");Z.append("g").attr("class","nv-titleWrap");var ee=Q.select(".nv-titleWrap");Z.append("g").attr("class","nv-y nv-axis");var te=Q.select(".nv-y.nv-axis");Z.append("g").attr("class","nv-scroll-wrap");var ne=Q.select(".nv-scroll-wrap");Z.select(".nv-scroll-wrap").append("g").attr("class","nv-x nv-axis");var ie=Q.select(".nv-x.nv-axis");Z.select(".nv-scroll-wrap").append("g").attr("class","nv-barsWrap");var re=Q.select(".nv-barsWrap");Z.append("g").attr("class","nv-controlsWrap");var ae=Q.select(".nv-controlsWrap");Z.append("g").attr("class","nv-legendWrap");var se=Q.select(".nv-legendWrap");X.attr("transform","translate("+n.left+","+n.top+")");ee.select(".nv-title").remove();if(a){ee.append("text").attr("class","nv-title").attr("x",l==="rtl"?h:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(I.title).attr("stroke","none").attr("fill","black");Y=e.utils.getTextBBox(Q.select(".nv-title"));P+=Y.height}if(s){A.id("controls_"+D.id()).strings(D.strings().controls).align("left").height(p-P);ae.datum(j).call(A);C=A.calculateWidth()}if(o){if(w.barColor()){O.forEach(function(e,t){e.color=d3.rgb("#ccc").darker(t*1.5).toString()})}k.id("legend_"+D.id()).strings(D.strings().legend).align("right").height(p-P);se.datum(O).call(k);R=k.calculateWidth()}B=h/(C+R);C=Math.floor(C*B);R=Math.floor(R*B);if(s){A.arrange(C);R=h-A.width()}if(o){k.arrange(R);C=h-k.width()}if(s){var oe=l==="rtl"?h-A.width():0,le=a?Y.height:-A.margin().top;ae.attr("transform","translate("+oe+","+le+")");V=A.height()-(a?0:A.margin().top)}if(o){var ue=e.utils.getTextBBox(se.select(".nv-legend-link")),ce=h-Y.width-6,de=a&&!s&&k.collapsed()&&ce>ue.width?true:false,oe=l==="rtl"?0:h-k.width(),le=Y.height;if(de){le=Y.height-k.height()/2-ue.height/2}else if(!a){le=-k.margin().top}se.attr("transform","translate("+oe+","+le+")");z=de?12:k.height()-(a?0:k.margin().top)}P+=Math.max(V,z);g=p-P-x.top-x.bottom;function fe(e){if(e==="width"){return t&&d?Math.max(_,J):_}else if(e==="height"){return!t&&d?Math.max(g,J):g}else{return 0}}w.vertical(t).baseDimension(q).disabled(O.map(function(e){return e.disabled})).width(fe("width")).height(fe("height"));re.data([N]).call(w);var he={top:0,right:0,bottom:0,left:0},pe={top:0,right:0,bottom:0,left:0};function me(){x.left=Math.max(pe.left,he.left);x.right=Math.max(pe.right,he.right);x.top=Math.max(pe.top,he.top);x.bottom=Math.max(pe.bottom,he.bottom)}function _e(){_=h-x.left-x.right;g=p-P-x.top-x.bottom;w.resetDimensions(fe("width"),fe("height"))}E.orient(t?"left":"bottom").margin(x).tickFormat(function(e,t){return E.valueFormat()(e,G)}).ticks(g/48);te.call(E);he=E.margin();me();_e();L.orient(t?"bottom":"left").margin(x).tickFormat(function(n,i,r){var a=L.valueFormat()(i,U,H);if(!r){a=e.utils.stringEllipsify(a,S,Math.max(t?q*2:h*.2,75))}return a});$=x.left+",";$+=x.top+(L.orient()==="bottom"?g:0);ie.attr("transform","translate("+$+")");ie.call(L);pe=L.margin();me();_e();L.tickSize(0).margin(x);ie.call(L);E.tickSize(t?-_:-g,0).margin(x);te.call(E);re.transition().call(w);x.top+=P;$=(t||L.orient()==="left"?0:_)+",";$+=t&&L.orient()==="bottom"?g+2:-2;ie.attr("transform","translate("+$+")");$=x.left+(t||E.orient()==="bottom"?0:_)+",";$+=x.top+(t||E.orient()==="left"?0:g);te.attr("transform","translate("+$+")");ne.attr("transform","translate("+x.left+","+x.top+")");if(d){b=J>(t?_:g);ie.select(".nv-axislabel").attr("x",(t?_:-g)/2);var ge=(t?_:g)-J,ve=function(){v.tooltipHide(d3.event);y=M.pan(ge);ie.select(".nv-axislabel").attr("x",(t?_-y*2:y*2-g)/2)};M.id(D.id()).enable(b).vertical(t).width(_).height(g).margin(x).minDimension(J).panHandler(ve);M(Q,Z,ne,L);M.init(y,f);M.panHandler()()}};D.render();k.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!O.filter(function(e){return!e.disabled}).length){O.map(function(e){e.disabled=false;return e})}if(!O.filter(function(e){return e.active==="active"}).length){O.map(function(e){e.active="";return e})}m.disabled=O.map(function(e){return!!e.disabled});v.stateChange(m);S.transition().call(D)});A.dispatch.on("legendClick",function(e,t){if(!e.disabled){return}j=j.map(function(e){e.disabled=true;return e});e.disabled=false;switch(e.key){case"Grouped":w.stacked(false);break;case"Stacked":w.stacked(true);break}m.stacked=w.stacked();v.stateChange(m);S.transition().call(D)});v.on("tooltipShow",function(e){if(c){C(e,x.parentNode,B)}});v.on("tooltipMove",function(n){if(u){e.tooltip.position(x.parentNode,u,n,t?"s":"w")}});v.on("tooltipHide",function(){if(c){e.tooltip.cleanup()}});v.on("changeState",function(e){if(typeof e.disabled!=="undefined"){O.forEach(function(t,n){t.disabled=e.disabled[n]});m.disabled=e.disabled}if(typeof e.stacked!=="undefined"){w.stacked(e.stacked);m.stacked=e.stacked}S.transition().call(D)});v.on("chartClick",function(){if(A.enabled()){A.dispatch.closeMenu()}if(k.enabled()){k.dispatch.closeMenu()}});w.dispatch.on("elementClick",function(e){v.chartClick();R(O,e,D)})});return D}w.dispatch.on("elementMouseover.tooltip",function(e){v.tooltipShow(e)});w.dispatch.on("elementMousemove.tooltip",function(e){v.tooltipMove(e)});w.dispatch.on("elementMouseout.tooltip",function(){v.tooltipHide()});D.dispatch=v;D.multibar=w;D.legend=k;D.controls=A;D.xAxis=L;D.yAxis=E;d3.rebind(D,w,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","delay","color","fill","classes","gradient","locality");d3.rebind(D,w,"stacked","showValues","valueFormat","labelFormat","nice");d3.rebind(D,L,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");D.colorData=function(n){var i=arguments[0],r=arguments[1]||{};var a=function(t,n){return e.utils.defaultColor()(t,t.series)};var s=function(e,t){return"nv-group nv-series-"+e.series};switch(i){case"graduated":a=function(e,t){return d3.interpolateHsl(d3.rgb(r.c1),d3.rgb(r.c2))(e.series/r.l)};break;case"class":a=function(){return"inherit"};s=function(e,t){var n=e.series*(r.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};break;case"data":a=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};s=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var o=!r.gradient?a:function(e,n){var i={orientation:r.orientation||(t?"vertical":"horizontal"),position:r.position||"middle"};return w.gradient(e,e.series,i)};w.color(a);w.fill(o);w.classes(s);k.color(a);k.classes(s);return D};D.margin=function(e){if(!arguments.length){return n}for(var t in e){if(e.hasOwnProperty(t)){n[t]=e[t]}}return D};D.vertical=function(e){if(!arguments.length){return t}t=e;return D};D.width=function(e){if(!arguments.length){return i}i=e;return D};D.height=function(e){if(!arguments.length){return r}r=e;return D};D.showTitle=function(e){if(!arguments.length){return a}a=e;return D};D.showControls=function(e){if(!arguments.length){return s}s=e;return D};D.showLegend=function(e){if(!arguments.length){return o}o=e;return D};D.tooltip=function(e){if(!arguments.length){return u}u=e;return D};D.tooltips=function(e){if(!arguments.length){return c}c=e;return D};D.tooltipContent=function(e){if(!arguments.length){return T}T=e;return D};D.state=function(e){if(!arguments.length){return m}m=e;return D};D.strings=function(e){if(!arguments.length){return _}for(var t in e){if(e.hasOwnProperty(t)){_[t]=e[t]}}return D};D.allowScroll=function(e){if(!arguments.length){return d}d=e;return D};D.overflowHandler=function(e){if(!arguments.length){return f}f=d3.functor(e);return D};D.seriesClick=function(e){if(!arguments.length){return R}R=e;return D};D.hideEmptyGroups=function(e){if(!arguments.length){return g}g=e;return D};D.direction=function(e){if(!arguments.length){return l}l=e;w.direction(e);L.direction(e);E.direction(e);k.direction(e);A.direction(e);return D};return D};e.models.paretoChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,r=function(e){return e.x},a=function(e){return e.y},s=e.utils.buildLocality(),o=false,l=true,u=null,c=true,d="ltr",f=function(e,t,n,i,r){return"<p><b>"+e+"</b></p>"+"<p><b>"+n+"</b></p>"+"<p><b>"+t+"%</b></p>"},h=function(e,t,n,i,r){return"<p><p>"+e+": <b>"+n+"</b></p>"},p=function(e,t,n,i,r){return"<p>"+i.key+": <b>"+n+"</b></p>"},m,_,g={barlegend:{close:"Hide bar legend",open:"Show bar legend"},linelegend:{close:"Hide line legend",open:"Show line legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},v=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove");var b=function(t,n,i){var r=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(r,"yMMMM",D.locality()):r};var y=function(t,n){return e.utils.numberFormatSI(t,2,n,D.locality())};var x=e.models.multiBar().stacked(true).clipEdge(false).withLine(true).nice(false),S=e.models.line().color(function(e,t){return"#FFF"}).fill(function(e,t){return"#FFF"}).useVoronoi(false).nice(false),w=e.models.line().useVoronoi(false).color("data").nice(false),L=e.models.axis().valueFormat(b).orient("bottom").tickSize(0).tickPadding(4).wrapTicks(true).highlightZero(false).showMaxMin(false),E=e.models.axis().valueFormat(y).orient("left").tickPadding(7).showMaxMin(true),k=e.models.legend().align("left").position("middle"),A=e.models.legend().align("right").position("middle");var M=function(t,n,i){var r=t.series.key,a=(t.point.y*100/i[t.pointIndex].t).toFixed(1),s=w.y()(t.point,t.pointIndex),o=t.series.type==="bar"?f(r,a,s,t,D):h(r,a,s,t,D);u=e.tooltip.show(t.e,o,"s",null,n)};var T=function(t,n){var i=p(t.key,0,t.val,t,D);u=e.tooltip.show(t.e,i,"s",null,n)};var C=function(e,t,n,i){return};var R=function(e){var t=document.documentElement,n=e.getBoundingClientRect(),i=t.scrollLeft+document.body.scrollLeft,r=t.scrollTop+document.body.scrollTop,a=n.left+i,s=n.top+r;return{x:a,y:s}};function D(s){s.each(function(s){var f=s.properties,h=s.data,p=d3.select(this),g=this,b=(n||parseInt(p.style("width"),10)||960)-t.left-t.right,y=(i||parseInt(p.style("height"),10)||400)-t.top-t.bottom,R=b,I=y,O={top:0,right:0,bottom:0,left:0},N=0,F=0,B=0,U=Math.pow(6,2)*Math.PI,P=s.properties.xDataType==="datetime"||false,Y=s.properties.yDataType==="currency"||false;D.update=function(){p.call(D)};D.container=this;if(!h||!h.length||!h.filter(function(e){return e.values.length}).length){var H=p.selectAll(".nv-noData").data([D.strings().noData]);H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");H.attr("x",t.left+b/2).attr("y",t.top+y/2).text(function(e){return e});return D}else{p.selectAll(".nv-noData").remove()}D.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";t.values.map(function(e){e.active=t.active});if(t.active==="active"){h.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";e.values.map(function(e){e.active="inactive"});return e})}if(!h.filter(function(e){return e.active==="active"}).length){h.map(function(e){e.active="";e.values.map(function(e){e.active=""});p.selectAll(".nv-series").classed("nv-inactive",false);return e})}p.call(D)};var G=h.filter(function(e){return!e.disabled&&(!e.type||e.type==="bar")});var V=h.filter(function(e){return!e.disabled&&e.type==="line"}).map(function(e){if(!x.stacked()){e.values=e.valuesOrig.map(function(e,t){return{series:e.series,x:e.x+e.series*.25-t*.25,y:e.y}})}else{e.values.map(function(e){e.y=0});G.map(function(t,n){t.values.map(function(t,n){e.values[n].y+=t.y})});e.values.map(function(t,n){if(n>0){t.y+=e.values[n-1].y}})}return e});var j=f.groupData,z=j.map(function(e){return[].concat(e.l)[0]||D.strings().noLabel}),$=f.quota||0,q=f.quotaLabel||"",W=f.targetQuota||0,K=f.targetQuotaLabel||"";G=G.length?G:[{values:[]}];V=V.length?V:[{values:[]}];var J=h.filter(function(e){return e.type==="line"});J.push({key:q,type:"dash",color:"#444",series:J.length,values:{series:J.length,x:0,y:0}});if(W>0){J.push({key:K,type:"dash",color:"#777",series:J.length,values:{series:J.length+1,x:0,y:0}})}var X=h.filter(function(e){return!e.disabled}).map(function(e){return e.valuesOrig.map(function(e,t){return r(e,t)})});var Z=h.map(function(e){return e.valuesOrig.map(function(e,t){return a(e,t)})});m=x.xScale();_=x.yScale();L.tickFormat(function(t,n,i){var r=L.valueFormat()(n,z,P);if(!i){r=e.utils.stringEllipsify(r,p,Math.max(b*.2,75))}return r}).scale(m);E.tickFormat(function(e,t){return E.valueFormat()(e,Y)}).scale(_);var Q=p.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([h]),ee=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),te=Q.select("g").attr("class","nv-chartWrap");ee.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("width",b+t.left+t.right).attr("height",y+t.top+t.bottom).attr("fill","#FFF");ee.append("g").attr("class","nv-titleWrap");var ne=te.select(".nv-titleWrap");ee.append("g").attr("class","nv-x nv-axis");var ie=te.select(".nv-x.nv-axis");ee.append("g").attr("class","nv-y nv-axis");var re=te.select(".nv-y.nv-axis");ee.append("g").attr("class","nv-barsWrap");var ae=te.select(".nv-barsWrap");ee.append("g").attr("class","nv-quotaWrap");var se=te.select(".nv-quotaWrap");ee.append("g").attr("class","nv-linesWrap1");var oe=te.select(".nv-linesWrap1");ee.append("g").attr("class","nv-linesWrap2");var le=te.select(".nv-linesWrap2");ee.append("g").attr("class","nv-legendWrap nv-barLegend");var ue=te.select(".nv-legendWrap.nv-barLegend");ee.append("g").attr("class","nv-legendWrap nv-lineLegend");var ce=te.select(".nv-legendWrap.nv-lineLegend");Q.attr("transform","translate("+t.left+","+t.top+")");if(o&&f.title){ne.select(".nv-title").remove();ne.append("text").text(f.title).attr("class","nv-title").attr("x",d==="rtl"?b:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black");O.top+=parseInt(te.select(".nv-title").node().getBoundingClientRect().height/1.15,10)+parseInt(te.select(".nv-title").style("margin-top"),10)+parseInt(te.select(".nv-title").style("margin-bottom"),10)}if(l){k.id("barlegend_"+D.id()).strings(D.strings().barlegend).align("left").height(y-O.top);ue.datum(h.filter(function(e){return e.type==="bar"})).call(k);N=k.calculateWidth();A.id("linelegend_"+D.id()).strings(D.strings().linelegend).align("right").height(y-O.top);ce.datum(J).call(A);F=A.calculateWidth();B=b/(N+F);k.arrange(Math.floor(B*N));A.arrange(Math.floor(B*F));ue.attr("transform","translate("+(d==="rtl"?b-k.width():0)+","+O.top+")");ce.attr("transform","translate("+(d==="rtl"?0:b-A.width())+","+O.top+")")}O.top+=Math.max(k.height(),A.height())+4;I=y-O.top-O.bottom;var de=m.domain(d3.merge(X)).rangeBands([0,b-t.left-t.right],.3),fe=Math.max(d3.max(d3.merge(Z)),$,W||0),he=Math.ceil(fe*.1)*10,pe=de(1)+de.rangeBand()/(x.stacked()||V.length===1?2:4);x.width(R).height(I).forceY([0,he]).id(D.id());ae.datum(G).call(x);S.margin({top:0,right:pe,bottom:0,left:pe}).width(R).height(I).forceY([0,he]).useVoronoi(false).id("outline_"+D.id());w.margin({top:0,right:pe,bottom:0,left:pe}).width(R).height(I).forceY([0,he]).useVoronoi(false).size(U).sizeRange([U,U]).sizeDomain([U,U]).id("foreground_"+D.id());oe.datum(V).call(S);le.datum(V).call(w);ie.call(L);var me=L.margin();re.style("opacity",G.length?1:0).call(E);var _e=E.margin();se.selectAll("line").remove();re.selectAll("text.nv-quotaValue").remove();re.selectAll("text.nv-targetQuotaValue").remove();var ge=0,ve=14;if(W>0){se.append("line").attr("class","nv-quotaLineTarget").attr("x1",0).attr("y1",0).attr("x2",R).attr("y2",0).attr("transform","translate(0,"+_(W)+")").style("stroke-dasharray","8, 8");se.append("line").datum({key:K,val:W}).attr("class","nv-quotaLineTarget nv-quotaLineBackground").attr("x1",0).attr("y1",0).attr("x2",R).attr("y2",0).attr("transform","translate(0,"+_(W)+")");re.append("text").text(E.valueFormat()(W,true)).attr("class","nv-targetQuotaValue").attr("dy",".36em").attr("dx","0").attr("text-anchor",d==="rtl"?"start":"end").attr("transform","translate("+(0-E.tickPadding())+","+_(W)+")");ge=Math.round(te.select("text.nv-targetQuotaValue").node().getBoundingClientRect().width+E.tickPadding())}if($>0){se.append("line").attr("class","nv-quotaLine").attr("x1",0).attr("y1",0).attr("x2",R).attr("y2",0).attr("transform","translate(0,"+_($)+")").style("stroke-dasharray","8, 8");se.append("line").datum({key:q,val:$}).attr("class","nv-quotaLine nv-quotaLineBackground").attr("x1",0).attr("y1",0).attr("x2",R).attr("y2",0).attr("transform","translate(0,"+_($)+")");re.append("text").text(E.valueFormat()($,true)).attr("class","nv-quotaValue").attr("dy",".36em").attr("dx","0").attr("text-anchor",d==="rtl"?"start":"end").attr("transform","translate("+-E.tickPadding()+","+_($)+")");ge=Math.max(ge,Math.round(te.select("text.nv-quotaValue").node().getBoundingClientRect().width+E.tickPadding()))}R=b-O.left-Math.max(ge,_e.left)-O.right-_e.right;I=y-O.top-_e.top-O.bottom-_e.bottom;x.width(R).height(I);ae.call(x);ie.call(L);re.call(E);me=L.margin();_e=E.margin();O.left+=Math.max(ge,me.left,_e.left);O.right+=Math.max(me.right,_e.right);O.top+=Math.max(me.top,_e.top);O.bottom+=Math.max(me.bottom,_e.bottom);R=b-O.left-O.right;I=y-O.top-O.bottom;x.width(R).height(I);ae.attr("transform","translate("+O.left+","+O.top+")").call(x);S.width(R).height(I);w.width(R).height(I);oe.attr("transform","translate("+O.left+","+O.top+")").call(S);le.attr("transform","translate("+O.left+","+O.top+")").call(w);se.attr("transform","translate("+O.left+","+O.top+")").selectAll("line").attr("x2",R);ie.attr("transform","translate("+O.left+","+(L.orient()==="bottom"?I+O.top:O.top)+")").call(L);E.ticks(Math.ceil(I/48)).tickSize(-R,0);re.attr("transform","translate("+(E.orient()==="left"?O.left:O.left+R)+","+O.top+")").call(E);if(W>0){se.select("line.nv-quotaLineTarget").attr("x2",R).attr("transform","translate(0,"+_(W)+")");re.select("text.nv-targetQuotaValue").attr("transform","translate("+(0-E.tickPadding())+","+_(W)+")");ve=Math.round(parseInt(te.select("text.nv-targetQuotaValue").node().getBoundingClientRect().height,10)/1.15);re.selectAll("g.tick, g.nv-axisMaxMin").each(function(e,t){if(Math.abs(_(e)-_(W))<=ve){d3.select(this).style("opacity",0)}})}if($>0){se.select("line.nv-quotaLine").attr("x2",R).attr("transform","translate(0,"+_($)+")");re.select("text.nv-quotaValue").attr("transform","translate("+(0-E.tickPadding())+","+_($)+")");ve=Math.round(parseInt(te.select("text.nv-quotaValue").node().getBoundingClientRect().height,10)/1.15);re.selectAll("g.tick, g.nv-axisMaxMin").each(function(e,t){if(Math.abs(_(e)-_($))<=ve){d3.select(this).style("opacity",0)}});if(W>0){if(Math.abs(_($)-_(W))<=ve){re.select(".nv-targetQuotaValue").style("opacity",0)}}}se.selectAll("line.nv-quotaLineBackground").on("mouseover",function(e){if(c){var t={val:e.val,key:e.key,e:d3.event};T(t,g.parentNode)}}).on("mouseout",function(){v.tooltipHide()}).on("mousemove",function(){v.tooltipMove(d3.event)});k.dispatch.on("legendClick",function(e,t){var n=e.series;e.disabled=!e.disabled;if(!D.stacked()){h.filter(function(e){return e.series===n&&e.type==="line"}).map(function(e){e.disabled=!e.disabled;return e})}if(!h.filter(function(e){return!e.disabled&&e.type==="bar"}).length){h.map(function(e){e.disabled=false;te.selectAll(".nv-series").classed("disabled",false);return e})}p.call(D)});v.on("tooltipShow",function(e){if(c){M(e,g.parentNode,j)}});v.on("tooltipMove",function(t){if(u){e.tooltip.position(g.parentNode,u,t,"s")}});v.on("tooltipHide",function(){if(c){e.tooltip.cleanup()}});v.on("chartClick",function(){if(k.enabled()){k.dispatch.closeMenu()}if(A.enabled()){A.dispatch.closeMenu()}});x.dispatch.on("elementClick",function(e){v.chartClick();C(h,e,D,p)})});return D}w.dispatch.on("elementMouseover.tooltip",function(e){v.tooltipShow(e)});w.dispatch.on("elementMousemove",function(e){v.tooltipMove(e)});w.dispatch.on("elementMouseout.tooltip",function(){v.tooltipHide()});x.dispatch.on("elementMouseover.tooltip",function(e){v.tooltipShow(e)});x.dispatch.on("elementMousemove",function(e){v.tooltipMove(e)});x.dispatch.on("elementMouseout.tooltip",function(){v.tooltipHide()});D.dispatch=v;D.lines1=S;D.lines2=w;D.multibar=x;D.barLegend=k;D.lineLegend=A;D.xAxis=L;D.yAxis=E;d3.rebind(D,x,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient");d3.rebind(D,x,"stacked","showValues","valueFormat","nice");d3.rebind(D,L,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");D.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var r=function(t,n){return e.utils.defaultColor()(t,t.series)};var a=function(e,t){return"nv-group nv-series-"+e.series};var s=function(e,t){var n=i.lineColor?i.lineColor:{c1:"#1A8221",c2:"#62B464",l:1};return e.color||d3.interpolateHsl(d3.rgb(n.c1),d3.rgb(n.c2))(e.series/2)};var o=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":r=function(e,t){return d3.interpolateHsl(d3.rgb(i.barColor.c1),d3.rgb(i.barColor.c2))(e.series/i.barColor.l)};break;case"class":r=function(){return"inherit"};a=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};o=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n+" nv-stroke"+n};break;case"data":r=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};a=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};o=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var l=!i.gradient?r:function(e,t){var n={orientation:i.orientation||"vertical",position:i.position||"middle"};return x.gradient(e,e.series,n)};x.color(r);x.fill(l);x.classes(a);w.color(s);w.fill(s);w.classes(o);k.color(r);k.classes(a);A.color(s);A.classes(o);return D};D.x=function(e){if(!arguments.length){return r}r=e;lines.x(e);x.x(e);return D};D.y=function(e){if(!arguments.length){return a}a=e;lines.y(e);x.y(e);return D};D.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return D};D.width=function(e){if(!arguments.length){return n}n=e;return D};D.height=function(e){if(!arguments.length){return i}i=e;return D};D.showTitle=function(e){if(!arguments.length){return o}o=e;return D};D.showLegend=function(e){if(!arguments.length){return l}l=e;return D};D.showControls=function(e){if(!arguments.length){return false}return D};D.tooltipBar=function(e){if(!arguments.length){return f}f=e;return D};D.tooltipLine=function(e){if(!arguments.length){return h}h=e;return D};D.tooltipQuota=function(e){if(!arguments.length){return p}p=e;return D};D.tooltip=function(e){if(!arguments.length){return u}u=e;return D};D.tooltips=function(e){if(!arguments.length){return c}c=e;return D};D.tooltipContent=function(e){if(!arguments.length){return tooltipContent}tooltipContent=e;return D};D.barClick=function(e){if(!arguments.length){return C}C=e;return D};D.colorFill=function(e){return D};D.strings=function(e){if(!arguments.length){return g}for(var t in e){if(e.hasOwnProperty(t)){g[t]=e[t]}}return D};D.direction=function(e){if(!arguments.length){return d}d=e;x.direction(e);E.direction(e);k.direction(e);A.direction(e);return D};D.locality=function(t){if(!arguments.length){return s}s=e.utils.buildLocality(t);x.locality(t);S.locality(t);return D};return D};e.models.pie=function(){var t={top:0,right:0,bottom:0,left:0},n=500,i=500,r=Math.floor(Math.random()*1e4),a=function(e){return e},s=function(e){return e.key},o=function(e){return e.value},l=e.utils.buildLocality(),u=function(e){return e.description},c=function(e){return e.data?o(e.data):e},d=function(e){return e.data?s(e.data):e},f=true,h=true,p=true,m=true,_=.01,g=false,v=false,b=function(e,t){var n=e.selectAll(".nv-hole-container").data(t),i=n.enter().append("g").attr("class","nv-hole-container");i.append("text").text(t).attr("class","nv-pie-hole-value").attr("dy",".35em").attr("text-anchor","middle").style("font-size","50px");n.exit().remove()},y=false,x=20,S=5,w=360,L=0,E=function(t){return t.startAngle*w/360+e.utils.angleToRadians(L)},k=function(t){return t.endAngle*w/360+e.utils.angleToRadians(L)},A=.447,M=75,T=250,C=function(e){return null},R=0,D="ltr",I=function(t,n){return e.utils.defaultColor()(t,t.series)},O=I,N=false,F=function(e,t){return"nv-slice nv-series-"+e.series},B=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function U(a){a.each(function(a){var l=n-t.left-t.right,u=i-t.top-t.bottom,w=d3.select(this);var L=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:o(e)});var R=[],P=f&&p?true:false;if(P){R=e.utils.stringSetLengths(a.map(s),w,d,"nv-label")}var Y=w.selectAll(".nv-wrap.nv-pie").data([a]);var H=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+r);var G=H.append("defs");var V=H.append("g");var j=Y.select("g");U.gradient=function(t,n){var i={x:0,y:0,r:ce,s:g?A*100+"%":"0%",u:"userSpaceOnUse"};return e.utils.colorRadialGradient(t,r+"-"+n,i,I(t,n),Y.select("defs"))};V.append("g").attr("class","nv-pie");var z=j.select(".nv-pie");V.append("g").attr("class","nv-holeWrap");var $=j.select(".nv-holeWrap");Y.attr("transform","translate("+t.left+","+t.top+")");z.attr("transform","translate("+l/2+","+u/2+")");if(N){var q=e.utils.createTexture(G,r,-l/2,-u/2)}w.on("click",function(e,t){B.chartClick({data:e,index:t,pos:d3.event,id:r})});var W=Y.select(".nv-pie").selectAll(".nv-slice").data(L);W.exit().remove();var K=W.enter().append("g").style("stroke","#ffffff").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(e,t){d3.select(this).classed("hover",true);var n=he(d3.event,e,t);B.elementMouseover(n)}).on("mousemove",function(e,t){B.elementMousemove(d3.event)}).on("mouseout",function(e,t){
d3.select(this).classed("hover",false);B.elementMouseout()}).on("click",function(e,t){d3.event.stopPropagation();var n=he(d3.event,e,t);B.elementClick(n)}).on("dblclick",function(e,t){d3.event.stopPropagation();var n=he(d3.event,e,t);B.elementDblClick(n)});K.append("path").attr("class","nv-base").each(function(e,t){this._current=e});if(N){K.append("path").attr("class","nv-texture").each(function(e,t){this._current=e}).style("mask","url("+q+")")}K.append("g").attr("transform","translate(0,0)").attr("class","nv-label");K.select(".nv-label").append("rect").style("fill-opacity",0).style("stroke-opacity",0);K.select(".nv-label").append("text").style("fill-opacity",0);K.append("polyline").attr("class","nv-label-leader").style("stroke-opacity",0);var J=l/2,X=u/2,Z=[],Q=[],ee=0,te=P?5:0,ne=0,ie=x+S;W.select(".nv-base").call(pe,J,X);$.call(b,v?[v]:[]);if(v){var re=$.node().getBoundingClientRect().height*.3,ae=Math.abs(X*d3.min(Q)),se=Math.round(re-ae);if(se>0){te+=se;ee-=se/2}}var oe=l/2,le=u/2;if(P){x=Math.max(Math.min(Math.min(me())/12,20),10)}if(C(U)){M=C(U);T=C(U)}var ue=Math.min(Math.max(me(),M),T),ce=ue-(P?x:0);le+=((d3.max(Q)-d3.min(Q))/2+d3.min(Q))*((ue+ee)/le);oe+=((d3.max(Z)-d3.min(Z))/2-d3.max(Z))*(ue/oe);le+=ee/2;z.attr("transform","translate("+oe+","+le+")");$.attr("transform","translate("+oe+","+le+")");z.select(q).attr("x",-ce/2).attr("y",-ce/2);var de=d3.svg.arc().innerRadius(g?ce*A:0).outerRadius(ce).startAngle(E).endAngle(k);var fe=d3.svg.arc().innerRadius(0).outerRadius(ce).startAngle(E).endAngle(k);if(p){if(!g||m){fe.innerRadius(ue).outerRadius(ue)}else{fe.outerRadius(ce*A)}}W.attr("class",function(e){return F(e.data,e.data.series)}).attr("fill",function(e){return O(e.data,e.data.series)}).classed("nv-active",function(e){return e.data.active==="active"}).classed("nv-inactive",function(e){return e.data.active==="inactive"});W.select(".nv-base").attr("d",de).style("stroke-opacity",function(e){return E(e)===k(e)?0:1});if(N){W.select(".nv-texture").attr("d",de).style("stroke-opacity",function(e){return E(e)===k(e)?0:1}).style("fill",function(t,n){var i=d3.select(this.parentNode).style("fill");return e.utils.getTextContrast(i,n)})}if(f){W.select(".nv-label").attr("transform",function(e){if(y){e.outerRadius=ce+10;e.innerRadius=ce+15;var t=(E(e)+k(e))/2*(180/Math.PI);t+=90*ge(e,fe);return"translate("+fe.centroid(e)+") rotate("+t+")"}else{var n=fe.centroid(e),i=h?(x+S)*ge(e,fe):0;return"translate("+[n[0]+i,n[1]]+")"}});W.select(".nv-label text").text(function(e){return d(e)}).attr("dy",".35em").style("fill","#555").style("fill-opacity",_e).style("text-anchor",function(e){if(!p){return"middle"}var t=ge(e,fe)===1?"start":"end";if(D==="rtl"){t=t==="start"?"end":"start"}return t});W.each(function(t,n){if(R[n]>M||ue===M){var i=(E(t)+k(t))/2,r=Math.abs(Math.sin(i)),a=ue*r+x+S+R[n],s=l/2-oe+l/2-a;if(s<0){var o=e.utils.stringEllipsify(d(t),w,R[n]+s);d3.select(this).select("text").text(o)}}});if(!p){W.select(".nv-label").each(function(e){if(!_e(e)){return}var t=d3.select(this),n=t.select("text").node().getBoundingClientRect();t.select("rect").attr("rx",3).attr("ry",3).attr("width",n.width+10).attr("height",n.height+10).attr("transform",function(){return"translate("+[n.x-5,n.y-5]+")"}).style("fill","#fff").style("fill-opacity",_e)})}else if(h){W.select(".nv-label-leader").attr("points",function(e){if(!_e(e)){return"0,0 0,0"}var t=d3.svg.arc().innerRadius(ce).outerRadius(ce).startAngle(E).endAngle(k);var n=h?x*ge(e,t):0,i=t.centroid(e),r=fe.centroid(e),a=[r[0]+n,r[1]];return i+" "+r+" "+a}).style("stroke","#aaa").style("fill","none").style("stroke-opacity",_e)}}else{W.select(".nv-label-leader").style("stroke-opacity",0);W.select(".nv-label rect").style("fill-opacity",0);W.select(".nv-label text").style("fill-opacity",0)}function he(e,t,n){return{label:d(t),value:c(t),point:t.data,pointIndex:n,id:r,e:e}}function pe(e,t,n){var i=[],r=[],a=Math.PI,s=2*Math.PI,o=0,c=Math.PI/2,d=Math.PI,f=3*Math.PI/2,h=0;function p(e){return(e+h)%s}e.each(function(e,a){var l=(E(e)+s)%s,u=(k(e)+s)%s;var m=Math.round(Math.sin(l)*1e4)/1e4,_=Math.round(Math.sin(u)*1e4)/1e4,v=Math.round(Math.cos(l)*1e4)/1e4,b=Math.round(Math.cos(u)*1e4)/1e4;h=u<l?s-l:0;if(u===l){l=0;u=s}else{l=p(l);u=p(u)}o=p(o);c=p(c);d=p(d);f=p(f);if(l%s===0||u%s===0){r.push(n);if(g){r.push(n*A)}}if(l<=c&&u>=c){i.push(t);if(g){i.push(t*A)}}if(l<=d&&u>=d){r.push(-n);if(g){r.push(-n*A)}}if(l<=f&&u>=f){i.push(-t);if(g){i.push(-t*A)}}i.push(t*m);i.push(t*_);if(g){i.push(t*A*m);i.push(t*A*_)}else{i.push(0)}r.push(n*v);r.push(n*b);if(g){r.push(n*A*v);r.push(n*A*b)}else{r.push(0)}});Z=d3.extent(i);Q=d3.extent(r);J*=l/(d3.max(Z)-d3.min(Z));X*=u/(d3.max(Q)-d3.min(Q))}function me(){var e=[J],t=[X+x];W.select(".nv-base").each(function(n,i){if(!_e(n)){return}var r=(E(n)+k(n))/2,a=d3.round(Math.sin(r),5),s=d3.round(Math.cos(r),5),o=J-ie-R[i],l=X-te,u=a?o/a:o,c=s?l/s:l;e.push(u);t.push(c)});var n=d3.min(e.concat(t).concat([]),function(e){return Math.abs(e)});return n}function _e(e){var t=(k(e)-E(e))/(2*Math.PI);return t>_?1:0}function ge(e,t){var n=Math.PI*2,i=((E(e)+k(e))/2+n)%n;return i>0&&i<Math.PI?1:-1}function ve(e){if(!g){e.innerRadius=0}var t=d3.interpolate(this._current,e);this._current=t(0);return function(e){var n=t(e);return de(n)}}function be(e){e.innerRadius=0;var t=d3.interpolate({startAngle:0,endAngle:0},e);return function(e){return de(t(e))}}});return U}U.dispatch=B;U.color=function(e){if(!arguments.length){return I}I=e;return U};U.fill=function(e){if(!arguments.length){return O}O=e;return U};U.classes=function(e){if(!arguments.length){return F}F=e;return U};U.gradient=function(e){if(!arguments.length){return gradient}gradient=e;return U};U.margin=function(e){if(!arguments.length){return t}t.top=typeof e.top!="undefined"?e.top:t.top;t.right=typeof e.right!="undefined"?e.right:t.right;t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom;t.left=typeof e.left!="undefined"?e.left:t.left;return U};U.width=function(e){if(!arguments.length){return n}n=e;return U};U.height=function(e){if(!arguments.length){return i}i=e;return U};U.values=function(e){if(!arguments.length){return a}a=e;return U};U.x=function(e){if(!arguments.length){return s}s=e;return U};U.y=function(e){if(!arguments.length){return o}o=d3.functor(e);return U};U.description=function(e){if(!arguments.length){return u}u=e;return U};U.showLabels=function(e){if(!arguments.length){return f}f=e;return U};U.labelSunbeamLayout=function(e){if(!arguments.length){return y}y=e;return U};U.donutLabelsOutside=function(e){if(!arguments.length){return m}m=e;return U};U.pieLabelsOutside=function(e){if(!arguments.length){return p}p=e;return U};U.showLeaders=function(e){if(!arguments.length){return h}h=e;return U};U.donut=function(e){if(!arguments.length){return g}g=e;return U};U.hole=function(e){if(!arguments.length){return v}v=e;return U};U.holeFormat=function(e){if(!arguments.length){return b}b=d3.functor(e);return U};U.donutRatio=function(e){if(!arguments.length){return A}A=e;return U};U.startAngle=function(e){if(!arguments.length){return E}E=e;return U};U.endAngle=function(e){if(!arguments.length){return k}k=e;return U};U.id=function(e){if(!arguments.length){return r}r=e;return U};U.valueFormat=function(e){if(!arguments.length){return c}c=e;return U};U.labelFormat=function(e){if(!arguments.length){return d}d=e;return U};U.labelThreshold=function(e){if(!arguments.length){return _}_=e;return U};U.direction=function(e){if(!arguments.length){return D}D=e;return U};U.arcDegrees=function(e){if(!arguments.length){return w}w=Math.max(Math.min(e,360),1);return U};U.rotateDegrees=function(e){if(!arguments.length){return L}L=e%360;return U};U.minRadius=function(e){if(!arguments.length){return M}M=e;return U};U.maxRadius=function(e){if(!arguments.length){return T}T=e;return U};U.fixedRadius=function(e){if(!arguments.length){return C}C=d3.functor(e);return U};U.textureFill=function(e){if(!arguments.length)return N;N=e;return U};U.locality=function(t){if(!arguments.length){return l}l=e.utils.buildLocality(t);return U};return U};e.models.pieChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,r=false,a=true,s="ltr",o=null,l=0,u=true,c=function(e,t,n,i,r){return"<h3>"+e+" - "+t+"</h3>"+"<p>"+n+"</p>"},d={},f={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},h=d3.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var p=e.models.pie(),m=e.models.legend().align("center");var _=function(t,n,i){var r=t.point.key,a=i.total?(p.y()(t.point)*100/i.total).toFixed(1):100,s=p.y()(t.point),l=c(r,a,s,t,v);o=e.tooltip.show(t.e,l,null,null,n)};var g=function(e,t,n){return};function v(c){c.each(function(c){var f=c.properties||{},b=c.data,y=d3.select(this),x=this,S=(n||parseInt(y.style("width"),10)||960)-t.left-t.right,w=(i||parseInt(y.style("height"),10)||400)-t.top-t.bottom,L=d3.sum(b.map(function(e){return e.value})),E=S,k=w,A={top:0,right:0,bottom:0,left:0};v.update=function(){y.transition().duration(l).call(v)};v.dataSeriesActivate=function(e){var t=e.point;t.active=!t.active||t.active==="inactive"?"active":"inactive";if(t.active==="active"){b.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";return e})}if(!b.filter(function(e){return e.active==="active"}).length){b.map(function(e){e.active="";return e})}y.call(v)};v.container=this;if(!b||!b.length){G();return v}var M=b.map(function(e,t){e.series=t;if(!e.value&&!e.values){e.value=0;e.disabled=true}else{e.value=e.value||d3.sum(e.values,function(e){return e.y||e});e.disabled=e.disabled||e.value===0}return e});var T=d3.sum(M.filter(function(e,t){return!e.disabled}).map(function(e,t){return e.value}));f.total=T;d.disabled=M.map(function(e){return!!e.disabled});if(!T){G();return v}else{y.selectAll(".nv-noData").remove()}var C=y.selectAll("g.nv-wrap.nv-pieChart").data([M]),R=C.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),D=C.select("g").attr("class","nv-chartWrap");R.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");D.select(".nv-background").attr("width",S+t.left+t.right).attr("height",w+t.top+t.bottom);R.append("g").attr("class","nv-titleWrap");var I=D.select(".nv-titleWrap");R.append("g").attr("class","nv-pieWrap");var O=D.select(".nv-pieWrap");R.append("g").attr("class","nv-legendWrap");var N=D.select(".nv-legendWrap");C.attr("transform","translate("+t.left+","+t.top+")");var F={width:0,height:0};I.select(".nv-title").remove();if(r&&f.title){I.append("text").attr("class","nv-title").attr("x",s==="rtl"?S:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(f.title).attr("stroke","none").attr("fill","black");F=e.utils.getTextBBox(D.select(".nv-title"));A.top+=F.height+12}if(a){m.id("legend_"+v.id()).strings(v.strings().legend).align("center").height(w-A.top);N.datum(M).call(m);m.arrange(S);var B=e.utils.getTextBBox(N.select(".nv-legend-link")),U=S-F.width-6,P=r&&m.collapsed()&&U>B.width?true:false,Y=s==="rtl"||!m.collapsed()?0:S-m.width(),H=F.height;if(P){H=F.height-m.height()/2-B.height/2}else if(!r){H=-m.margin().top}N.attr("transform","translate("+Y+","+H+")");A.top+=P?0:m.height()-12}k=w-A.top-A.bottom;E=S-A.left-A.right;p.width(E).height(k);O.datum(M.filter(function(e){return!e.disabled})).attr("transform","translate("+A.left+","+A.top+")").transition().duration(l).call(p);function G(){y.select(".nvd3.nv-wrap").remove();var e=y.selectAll(".nv-noData").data([v.strings().noData]);e.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");e.attr("x",t.left+S/2).attr("y",t.top+w/2).text(function(e){return e})}m.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!b.filter(function(e){return!e.disabled}).length){b.map(function(e){e.disabled=false;return e})}if(!b.filter(function(e){return e.active==="active"}).length){b.map(function(e){e.active="";return e})}d.disabled=b.map(function(e){return!!e.disabled});h.stateChange(d);y.transition().duration(l).call(v)});h.on("tooltipShow",function(e){if(u){_(e,x.parentNode,f)}});h.on("tooltipMove",function(t){if(o){e.tooltip.position(x.parentNode,o,t)}});h.on("tooltipHide",function(){if(u){e.tooltip.cleanup()}});h.on("changeState",function(e){if(typeof e.disabled!=="undefined"){M.forEach(function(t,n){t.disabled=e.disabled[n]});d.disabled=e.disabled}y.transition().duration(l).call(v)});h.on("chartClick",function(){if(m.enabled()){m.dispatch.closeMenu()}});p.dispatch.on("elementClick",function(e){h.chartClick();g(b,e,v)})});return v}p.dispatch.on("elementMouseover.tooltip",function(e){h.tooltipShow(e)});p.dispatch.on("elementMousemove.tooltip",function(e){h.tooltipMove(e)});p.dispatch.on("elementMouseout.tooltip",function(){h.tooltipHide()});v.dispatch=h;v.pie=p;v.legend=m;d3.rebind(v,p,"id","x","y","color","fill","classes","gradient","locality");d3.rebind(v,p,"valueFormat","labelFormat","values","description","showLabels","showLeaders","donutLabelsOutside","pieLabelsOutside","labelThreshold");d3.rebind(v,p,"arcDegrees","rotateDegrees","minRadius","maxRadius","fixedRadius","startAngle","endAngle","donut","hole","holeFormat","donutRatio");v.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var r=function(t,n){return e.utils.defaultColor()(t,t.series)};var a=function(e,t){return"nv-slice nv-series-"+e.series};switch(n){case"graduated":r=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":r=function(){return"inherit"};a=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-slice nv-series-"+e.series+" nv-fill"+n};break;case"data":r=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};a=function(e,t){return"nv-slice nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?r:function(e,t){return p.gradient(e,e.series)};p.color(r);p.fill(s);p.classes(a);m.color(r);m.classes(a);return v};v.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return v};v.width=function(e){if(!arguments.length){return n}n=e;return v};v.height=function(e){if(!arguments.length){return i}i=e;return v};v.showTitle=function(e){if(!arguments.length){return r}r=e;return v};v.showLegend=function(e){if(!arguments.length){return a}a=e;return v};v.tooltip=function(e){if(!arguments.length){return o}o=e;return v};v.tooltips=function(e){if(!arguments.length){return u}u=e;return v};v.tooltipContent=function(e){if(!arguments.length){return c}c=e;return v};v.state=function(e){if(!arguments.length){return d}d=e;return v};v.colorFill=function(e){return v};v.strings=function(e){if(!arguments.length){return f}for(var t in e){if(e.hasOwnProperty(t)){f[t]=e[t]}}return v};v.seriesClick=function(e){if(!arguments.length){return g}g=e;return v};v.direction=function(e){if(!arguments.length){return s}s=e;p.direction(e);m.direction(e);return v};return v}})()},function(e,t){(function(e){var t=function(e){var t=this;var n=t.options=_.extend({},t.defaults,e);var i=n.template||function(){return""};var r=n.templateTarget;n.template=void 0;t.$target=this;var a=n.height;r.find(".pull-to-refresh").length||r.append(i(n));t.$holder=r.find(".pull-to-refresh");t.$msg=t.$holder.find(".message-container");t.$msg.css({height:a});t.$spinner=t.$holder.find(".ptr__spinner");t.$spinner_wrapper=t.$holder.find(".ptr__wrap-spinner");var s=SUGAR.App.utils.generateUUID();var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");var l=n.height;t.$spinner_polygon=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(t.$spinner_polygon);o.setAttribute("id",s);t.$spinner.append(o);t.$spinner.find("g").attr("clip-path","url(#"+s+")");var u=function(e){var n=30;if(-e<n){return}var i=parseInt((-e-n)/(l-n)*360);var r=i*Math.PI/180;t.$spinner.css({"-webkit-transform":"rotate("+i+"deg)"});var a="54 54, 54 0";var s,o;if(i>0&&i<=45){s=50-Math.tan(r)*50;o=0;a=a+", "+parseInt(s)+" "+parseInt(o)}if(i>45&&i<=135){s=0;o=50-1/Math.tan(r)*50;a=a+", 0 0, "+parseInt(s)+" "+parseInt(o)}if(i>135&&i<=225){s=50+Math.tan(r)*50;o=100;a=a+", 0 0, 0 100, "+parseInt(s)+" "+parseInt(o)}if(i>225&&i<=315){s=100;o=50+1/Math.tan(r)*50;a=a+", 0 0, 0 100, 100 100, "+parseInt(s)+" "+parseInt(o)}if(i>315){a="0 0, 100 0, 100 100, 0 100"}t.$spinner_polygon.setAttribute("points",a)};n.scroller.activatePullToRefresh(a,function(){u(-l);t.$spinner_wrapper.addClass("animation--scale-once")},function(){t.$spinner_wrapper.removeClass("animation--scale-once")},function(){if(!t.isLoading){t.$spinner.addClass("rotate360");t.options.scroller.__publish(0,-t.options.height,1,false);t.isLoading=true;if(n.callback){n.callback()}}},function(e){u(e)})};t.prototype={defaults:{height:96,animationDelay:300,callback:function(){}},hide:function(){var e=this;e.isLoading=false;if(!e.options)return;e.options.scroller.finishPullToRefresh();e.$spinner.removeClass("rotate360");e.$spinner_wrapper.removeClass("animation--scale-once")},destroy:function(){var e=this;if(!e.options){return}e.options.scroller.finishPullToRefresh();e.$holder.remove();e.options.callback=null;e.options=null;e.$div=null;e.$holder=null;e.$msg=null;e.$spinner=null;e.$spinner_wrapper=null;e.$spinner_polygon=null;e.$target=null;e.isLoading=false}};e.fn.pullToRefresh=function(e){if(typeof e==="object"||!e){this._ptr=new t(e)}else if(this._ptr&&this._ptr[e]){this._ptr[e].apply(this._ptr,Array.prototype.slice.call(arguments,1));if(e==="destroy"){this._ptr=null}}}})(Zepto)},function(e,t){!function(e){var t=function(t){this.origHtmlMargin=parseFloat(e("html").css("margin-top"));this.options=e.extend({},e.smartbanner.defaults,t);var n=navigator.standalone,i=navigator.userAgent;if(this.options.force){this.type=this.options.force}else if(i.match(/iPhone|iPod/i)!=null||i.match(/iPad/)&&this.options.iOSUniversalApp){if(i.match(/Safari/i)!=null&&(i.match(/CriOS/i)!=null||window.Number(i.substr(i.indexOf("OS ")+3,3).replace("_","."))<6))this.type="ios"}else if(i.match(/\bSilk\/(.*\bMobile Safari\b)?/)||i.match(/\bKF\w/)||i.match("Kindle Fire")){this.type="kindle"}else if(i.match(/Android/i)!=null){this.type="android"}else if(i.match(/Windows NT 6.2/i)!=null&&i.match(/Touch/i)!==null){this.type="windows"}if(!this.type||n||this.getCookie("sb-closed")||this.getCookie("sb-installed")){return}this.scale=this.options.scale=="auto"?e(window).width()/window.screen.width:this.options.scale;if(this.scale<1)this.scale=1;var r=e(this.type=="android"?'meta[name="google-play-app"]':this.type=="ios"?'meta[name="apple-itunes-app"]':this.type=="kindle"?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]');if(r.length==0)return;if(this.type=="windows"){this.pfn=e('meta[name="msApplication-PackageFamilyName"]').attr("content");this.appId=r.attr("content")[1]}else{this.appId=/app-id=([^\s,]+)/.exec(r.attr("content"))[1]}this.title=this.options.title?this.options.title:r.data("title")||e("title").text().replace(/\s*[|\-·].*$/,"");this.author=this.options.author?this.options.author:r.data("author")||(e('meta[name="author"]').length?e('meta[name="author"]').attr("content"):window.location.hostname);this.iconUrl=r.data("icon-url");this.price=r.data("price");this.create();this.show();this.listen()};t.prototype={constructor:t,create:function(){var t,n=this.options.url?this.options.url:(this.type=="windows"?"ms-windows-store:PDP?PFN="+this.pfn:this.type=="android"?"market://details?id=":this.type=="kindle"?"amzn://apps/android?asin=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,i=this.price||this.options.price,r=i?i+" - "+(this.type=="android"?this.options.inGooglePlay:this.type=="kindle"?this.options.inAmazonAppStore:this.type=="ios"?this.options.inAppStore:this.options.inWindowsStore):"",a=this.options.iconGloss===null?this.type=="ios":this.options.iconGloss;if(this.options.url)n=this.options.url;else{if(this.type=="android"){n="market://details?id="+this.appId;if(this.options.GooglePlayParams)n=n+"&referrer="+this.options.GooglePlayParams}else n="https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"+this.appId}var s='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+r+'</span></div><a href="'+n+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";e(this.options.appendToSelector).prepend(s);if(this.options.icon){t=this.options.icon}else if(this.iconUrl){t=this.iconUrl}else if(e('link[rel="apple-touch-icon-precomposed"]').length>0){t=e('link[rel="apple-touch-icon-precomposed"]').attr("href");if(this.options.iconGloss===null)a=false}else if(e('link[rel="apple-touch-icon"]').length>0){t=e('link[rel="apple-touch-icon"]').attr("href")}else if(e('meta[name="msApplication-TileImage"]').length>0){t=e('meta[name="msApplication-TileImage"]').attr("content")}else if(e('meta[name="msapplication-TileImage"]').length>0){t=e('meta[name="msapplication-TileImage"]').attr("content")}if(t){e("#smartbanner .sb-icon").css("background-image","url("+t+")");if(a)e("#smartbanner .sb-icon").addClass("gloss")}else{e("#smartbanner").addClass("no-icon")}this.bannerHeight=e("#smartbanner").height();if(this.scale>1){e("#smartbanner").css("top",parseFloat(e("#smartbanner").css("top"))*this.scale).css("height",parseFloat(e("#smartbanner").css("height"))*this.scale).hide();e("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",e(window).width()/this.scale)}e("#smartbanner").css("position",this.options.layer?"absolute":"static")},listen:function(){e("#smartbanner .sb-close").on("click",e.proxy(this.close,this));e("#smartbanner .sb-button").on("click",e.proxy(this.install,this))},show:function(t){var n=e("#smartbanner");if(this.options.layer){n.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show();e("#nomad").animate({top:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",t)}else{if(e.support.transition){n.animate({top:0},this.options.speedIn).addClass("shown");var i=function(){e("html").removeClass("sb-animation");if(t){t()}};e("html").addClass("sb-animation").one(e.support.transition.end,i).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)}else{n.slideDown(this.options.speedIn).addClass("shown")}}},hide:function(t){var n=e("#smartbanner");if(this.options.layer){n.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown");e("#nomad").animate({top:this.origHtmlMargin},this.options.speedIn,"swing",t)}else{if(e.support.transition){n.css("top",-1*this.bannerHeight*this.scale).removeClass("shown");var i=function(){e("html").removeClass("sb-animation");if(t){t()}};e("html").addClass("sb-animation").one(e.support.transition.end,i).emulateTransitionEnd(this.options.speedOut).css("margin-top",this.origHtmlMargin)}else{n.slideUp(this.options.speedOut).removeClass("shown")}}},close:function(e){e.preventDefault();this.hide();this.setCookie("sb-closed","true",this.options.daysHidden)},install:function(e){if(this.options.hideOnInstall){this.hide()}this.setCookie("sb-installed","true",this.options.daysReminder)},setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n);t=encodeURI(t)+(n==null?"":"; expires="+i.toUTCString());document.cookie=e+"="+t+"; path=/;"},getCookie:function(e){var t,n,i,r=document.cookie.split(";");for(t=0;t<r.length;t++){n=r[t].substr(0,r[t].indexOf("="));i=r[t].substr(r[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n==e){return decodeURI(i)}}return null},switchType:function(){var t=this;this.hide(function(){t.type=t.type=="android"?"ios":"android";var n=e(t.type=="android"?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");t.appId=/app-id=([^\s,]+)/.exec(n)[1];e("#smartbanner").detach();t.create();t.show()})}};e.smartbanner=function(n){var i=e(window),r=i.data("smartbanner"),a=typeof n=="object"&&n;if(!r)i.data("smartbanner",r=new t(a));if(typeof n=="string")r[n]()};e.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,hideOnInstall:true,layer:false,iOSUniversalApp:true,appendToSelector:"body"};e.smartbanner.Constructor=t;function n(){var e=document.createElement("smartbanner");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t){if(e.style[n]!==undefined){return{end:t[n]}}}return false}if(e.support.transition!==undefined)return;e.fn.emulateTransitionEnd=function(t){var n=false,i=this;e(this).one(e.support.transition.end,function(){n=true});var r=function(){if(!n)e(i).trigger(e.support.transition.end)};setTimeout(r,t);return this};e(function(){e.support.transition=n()})}(window.Zepto)},function(e,t){(function(e){e.__swipeHelper={init:function(){var t={},n=5;e.__swipeHelper.swipeOrientation="";var i=function(e,t,n,i){var r=Math.abs(e-t),a=Math.abs(n-i);return r>=a?"horizontal":"vertical"};e(document.body).on("touchstart",function(e){t.x1=e.touches[0].pageX;t.y1=e.touches[0].pageY}).on("touchmove",function(r){t.x2=r.touches[0].pageX;t.y2=r.touches[0].pageY;if(e.__swipeHelper.swipeOrientation===""&&(t.x2&&Math.abs(t.x1-t.x2)>n||t.y2&&Math.abs(t.y1-t.y2)>n)){e.__swipeHelper.swipeOrientation=i(t.x1,t.x2,t.y1,t.y2)}if(e.__swipeHelper.swipeOrientation==="horizontal"){}}).on("touchend",function(n){e.__swipeHelper.swipeOrientation="";t={}})}}})(Zepto)},function(e,t,n){(function(){"use strict";var e=function(n,i){if(!(this instanceof e))return new e(n,i);var r={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,keyboardControl:false,mousewheelControl:false,mousewheelForceToAxis:false,hashnav:false,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,pagination:null,paginationClickable:false,paginationHide:false,paginationBulletRender:null,resistance:true,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:true};var a=i&&i.virtualTranslate;i=i||{};for(var s in r){if(typeof i[s]==="undefined"){i[s]=r[s]}else if(typeof i[s]==="object"){for(var o in r[s]){if(typeof i[s][o]==="undefined"){i[s][o]=r[s][o]}}}}var l=this;l.version="3.0.7";l.params=i;l.classNames=[];var u;if(typeof t==="undefined"){u=window.Dom7||window.Zepto||window.jQuery}else{u=t}if(!u)return;l.$=u;l.container=u(n);if(l.container.length===0)return;if(l.container.length>1){l.container.each(function(){new e(this,i)});return}l.container[0].swiper=l;l.container.data("swiper",l);l.classNames.push("swiper-container-"+l.params.direction);if(l.params.freeMode){l.classNames.push("swiper-container-free-mode")}if(!l.support.flexbox){l.classNames.push("swiper-container-no-flexbox");l.params.slidesPerColumn=1}if(l.params.parallax||l.params.watchSlidesVisibility){l.params.watchSlidesProgress=true}if(["cube","coverflow"].indexOf(l.params.effect)>=0){if(l.support.transforms3d){l.params.watchSlidesProgress=true;l.classNames.push("swiper-container-3d")}else{l.params.effect="slide"}}if(l.params.effect!=="slide"){l.classNames.push("swiper-container-"+l.params.effect)}if(l.params.effect==="cube"){l.params.resistanceRatio=0;l.params.slidesPerView=1;l.params.slidesPerColumn=1;l.params.slidesPerGroup=1;l.params.centeredSlides=false;l.params.spaceBetween=0;l.params.virtualTranslate=true;l.params.setWrapperSize=false}if(l.params.effect==="fade"){l.params.slidesPerView=1;l.params.slidesPerColumn=1;l.params.slidesPerGroup=1;l.params.watchSlidesProgress=true;l.params.spaceBetween=0;if(typeof a==="undefined"){l.params.virtualTranslate=true}}if(l.params.grabCursor&&l.support.touch){l.params.grabCursor=false}l.wrapper=l.container.children("."+l.params.wrapperClass);if(l.params.pagination){l.paginationContainer=u(l.params.pagination);if(l.params.paginationClickable){l.paginationContainer.addClass("swiper-pagination-clickable")}}function c(){return l.params.direction==="horizontal"}l.rtl=c()&&(l.container[0].dir.toLowerCase()==="rtl"||l.container.css("direction")==="rtl");if(l.rtl){l.classNames.push("swiper-container-rtl")}if(l.rtl){l.wrongRTL=l.wrapper.css("display")==="-webkit-box"}if(l.params.slidesPerColumn>1){l.classNames.push("swiper-container-multirow")}if(l.device.android){l.classNames.push("swiper-container-android")}l.container.addClass(l.classNames.join(" "));l.translate=0;l.progress=0;l.velocity=0;l.lockSwipeToNext=function(){l.params.allowSwipeToNext=false};l.lockSwipeToPrev=function(){l.params.allowSwipeToPrev=false};l.lockSwipes=function(){l.params.allowSwipeToNext=l.params.allowSwipeToPrev=false};l.unlockSwipeToNext=function(){l.params.allowSwipeToNext=true};l.unlockSwipeToPrev=function(){l.params.allowSwipeToPrev=true};l.unlockSwipes=function(){l.params.allowSwipeToNext=l.params.allowSwipeToPrev=true};if(l.params.grabCursor){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grab";l.container[0].style.cursor="-moz-grab";l.container[0].style.cursor="grab"}l.imagesToLoad=[];l.imagesLoaded=0;l.loadImage=function(e,t,n,i){var r;function a(){if(i)i()}if(!e.complete||!n){if(t){r=new window.Image;r.onload=a;r.onerror=a;r.src=t}else{a()}}else{a()}};l.preloadImages=function(){l.imagesToLoad=l.container.find("img");function e(){if(typeof l==="undefined"||l===null)return;if(l.imagesLoaded!==undefined)l.imagesLoaded++;if(l.imagesLoaded===l.imagesToLoad.length){if(l.params.updateOnImagesReady)l.update();l.emit("onImagesReady",l)}}for(var t=0;t<l.imagesToLoad.length;t++){l.loadImage(l.imagesToLoad[t],l.imagesToLoad[t].currentSrc||l.imagesToLoad[t].getAttribute("src"),true,e);

}};l.autoplayTimeoutId=undefined;l.autoplaying=false;l.autoplayPaused=false;function d(){l.autoplayTimeoutId=setTimeout(function(){if(l.params.loop){l.fixLoop();l._slideNext()}else{if(!l.isEnd){l._slideNext()}else{if(!i.autoplayStopOnLast){l._slideTo(0)}else{l.stopAutoplay()}}}},l.params.autoplay)}l.startAutoplay=function(){if(typeof l.autoplayTimeoutId!=="undefined")return false;if(!l.params.autoplay)return false;if(l.autoplaying)return false;l.autoplaying=true;l.emit("onAutoplayStart",l);d()};l.stopAutoplay=function(e){if(!l.autoplayTimeoutId)return;if(l.autoplayTimeoutId)clearTimeout(l.autoplayTimeoutId);l.autoplaying=false;l.autoplayTimeoutId=undefined;l.emit("onAutoplayStop",l)};l.pauseAutoplay=function(e){if(l.autoplayPaused)return;if(l.autoplayTimeoutId)clearTimeout(l.autoplayTimeoutId);l.autoplayPaused=true;if(e===0){l.autoplayPaused=false;d()}else{l.wrapper.transitionEnd(function(){if(!l)return;l.autoplayPaused=false;if(!l.autoplaying){l.stopAutoplay()}else{d()}})}};l.minTranslate=function(){return-l.snapGrid[0]};l.maxTranslate=function(){return-l.snapGrid[l.snapGrid.length-1]};l.updateContainerSize=function(){var e,t;if(typeof l.params.width!=="undefined"){e=l.params.width}else{e=l.container[0].clientWidth}if(typeof l.params.height!=="undefined"){t=l.params.height}else{t=l.container[0].clientHeight}if(e===0&&c()||t===0&&!c()){return}l.width=e;l.height=t;l.size=c()?l.width:l.height};l.updateSlidesSize=function(){l.slides=l.wrapper.children("."+l.params.slideClass);l.snapGrid=[];l.slidesGrid=[];l.slidesSizesGrid=[];var e=l.params.spaceBetween,t=0,n,i=0,r=0;if(typeof e==="string"&&e.indexOf("%")>=0){e=parseFloat(e.replace("%",""))/100*l.size}l.virtualSize=-e;if(l.rtl)l.slides.css({marginLeft:"",marginTop:""});else l.slides.css({marginRight:"",marginBottom:""});var a;if(l.params.slidesPerColumn>1){if(Math.floor(l.slides.length/l.params.slidesPerColumn)===l.slides.length/l.params.slidesPerColumn){a=l.slides.length}else{a=Math.ceil(l.slides.length/l.params.slidesPerColumn)*l.params.slidesPerColumn}}var s;for(n=0;n<l.slides.length;n++){s=0;var o=l.slides.eq(n);if(l.params.slidesPerColumn>1){var u;var d,f;var h=l.params.slidesPerColumn;var p;if(l.params.slidesPerColumnFill==="column"){d=Math.floor(n/h);f=n-d*h;u=d+f*a/h;o.css({"-webkit-box-ordinal-group":u,"-moz-box-ordinal-group":u,"-ms-flex-order":u,"-webkit-order":u,order:u})}else{p=a/h;f=Math.floor(n/p);d=n-f*p}o.css({"margin-top":f!==0&&l.params.spaceBetween&&l.params.spaceBetween+"px"}).attr("data-swiper-column",d).attr("data-swiper-row",f)}if(o.css("display")==="none")continue;if(l.params.slidesPerView==="auto"){s=c()?o.outerWidth(true):o.outerHeight(true)}else{s=(l.size-(l.params.slidesPerView-1)*e)/l.params.slidesPerView;if(c()){l.slides[n].style.width=s+"px"}else{l.slides[n].style.height=s+"px"}}l.slides[n].swiperSlideSize=s;l.slidesSizesGrid.push(s);if(l.params.centeredSlides){t=t+s/2+i/2+e;if(n===0)t=t-l.size/2-e;if(Math.abs(t)<1/1e3)t=0;if(r%l.params.slidesPerGroup===0)l.snapGrid.push(t);l.slidesGrid.push(t)}else{if(r%l.params.slidesPerGroup===0)l.snapGrid.push(t);l.slidesGrid.push(t);t=t+s+e}l.virtualSize+=s+e;i=s;r++}l.virtualSize=Math.max(l.virtualSize,l.size);var m;if(l.rtl&&l.wrongRTL&&(l.params.effect==="slide"||l.params.effect==="coverflow")){l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"})}if(!l.support.flexbox||l.params.setWrapperSize){if(c())l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"});else l.wrapper.css({height:l.virtualSize+l.params.spaceBetween+"px"})}if(l.params.slidesPerColumn>1){l.virtualSize=(s+l.params.spaceBetween)*a;l.virtualSize=Math.ceil(l.virtualSize/l.params.slidesPerColumn)-l.params.spaceBetween;l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"});if(l.params.centeredSlides){m=[];for(n=0;n<l.snapGrid.length;n++){if(l.snapGrid[n]<l.virtualSize+l.snapGrid[0])m.push(l.snapGrid[n])}l.snapGrid=m}}if(!l.params.centeredSlides){m=[];for(n=0;n<l.snapGrid.length;n++){if(l.snapGrid[n]<=l.virtualSize-l.size){m.push(l.snapGrid[n])}}l.snapGrid=m;if(Math.floor(l.virtualSize-l.size)>Math.floor(l.snapGrid[l.snapGrid.length-1])){l.snapGrid.push(l.virtualSize-l.size)}}if(l.snapGrid.length===0)l.snapGrid=[0];if(l.params.spaceBetween!==0){if(c()){if(l.rtl)l.slides.css({marginLeft:e+"px"});else l.slides.css({marginRight:e+"px"})}else l.slides.css({marginBottom:e+"px"})}if(l.params.watchSlidesProgress){l.updateSlidesOffset()}};l.updateSlidesOffset=function(){for(var e=0;e<l.slides.length;e++){l.slides[e].swiperSlideOffset=c()?l.slides[e].offsetLeft:l.slides[e].offsetTop}};l.updateSlidesProgress=function(e){if(typeof e==="undefined"){e=l.translate||0}if(l.slides.length===0)return;if(typeof l.slides[0].swiperSlideOffset==="undefined")l.updateSlidesOffset();var t=l.params.centeredSlides?-e+l.size/2:-e;if(l.rtl)t=l.params.centeredSlides?e-l.size/2:e;var n=l.container[0].getBoundingClientRect();var i=c()?"left":"top";var r=c()?"right":"bottom";l.slides.removeClass(l.params.slideVisibleClass);for(var a=0;a<l.slides.length;a++){var s=l.slides[a];var o=l.params.centeredSlides===true?s.swiperSlideSize/2:0;var u=(t-s.swiperSlideOffset-o)/(s.swiperSlideSize+l.params.spaceBetween);if(l.params.watchSlidesVisibility){var d=-(t-s.swiperSlideOffset-o);var f=d+l.slidesSizesGrid[a];var h=d>=0&&d<l.size||f>0&&f<=l.size||d<=0&&f>=l.size;if(h){l.slides.eq(a).addClass(l.params.slideVisibleClass)}}s.progress=l.rtl?-u:u}};l.updateProgress=function(e){if(typeof e==="undefined"){e=l.translate||0}var t=l.maxTranslate()-l.minTranslate();if(t===0){l.progress=0;l.isBeginning=l.isEnd=true}else{l.progress=(e-l.minTranslate())/t;l.isBeginning=l.progress<=0;l.isEnd=l.progress>=1}if(l.isBeginning)l.emit("onReachBeginning",l);if(l.isEnd)l.emit("onReachEnd",l);if(l.params.watchSlidesProgress)l.updateSlidesProgress(e);l.emit("onProgress",l,l.progress)};l.updateActiveIndex=function(){var e=l.rtl?l.translate:-l.translate;var t,n,i;for(n=0;n<l.slidesGrid.length;n++){if(typeof l.slidesGrid[n+1]!=="undefined"){if(e>=l.slidesGrid[n]&&e<l.slidesGrid[n+1]-(l.slidesGrid[n+1]-l.slidesGrid[n])/2){t=n}else if(e>=l.slidesGrid[n]&&e<l.slidesGrid[n+1]){t=n+1}}else{if(e>=l.slidesGrid[n]){t=n}}}if(t<0||typeof t==="undefined")t=0;i=Math.floor(t/l.params.slidesPerGroup);if(i>=l.snapGrid.length)i=l.snapGrid.length-1;if(t===l.activeIndex){return}l.snapIndex=i;l.previousIndex=l.activeIndex;l.activeIndex=t;l.updateClasses()};l.updateClasses=function(){l.slides.removeClass(l.params.slideActiveClass+" "+l.params.slideNextClass+" "+l.params.slidePrevClass);var e=l.slides.eq(l.activeIndex);e.addClass(l.params.slideActiveClass);e.next("."+l.params.slideClass).addClass(l.params.slideNextClass);e.prev("."+l.params.slideClass).addClass(l.params.slidePrevClass);if(l.bullets&&l.bullets.length>0){l.bullets.removeClass(l.params.bulletActiveClass);var t;if(l.params.loop){t=Math.ceil(l.activeIndex-l.loopedSlides)/l.params.slidesPerGroup;if(t>l.slides.length-1-l.loopedSlides*2){t=t-(l.slides.length-l.loopedSlides*2)}if(t>l.bullets.length-1)t=t-l.bullets.length}else{if(typeof l.snapIndex!=="undefined"){t=l.snapIndex}else{t=l.activeIndex||0}}if(l.paginationContainer.length>1){l.bullets.each(function(){if(u(this).index()===t)u(this).addClass(l.params.bulletActiveClass)})}else{l.bullets.eq(t).addClass(l.params.bulletActiveClass)}}if(!l.params.loop){if(l.params.prevButton){if(l.isBeginning){u(l.params.prevButton).addClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.disable(u(l.params.prevButton))}else{u(l.params.prevButton).removeClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.enable(u(l.params.prevButton))}}if(l.params.nextButton){if(l.isEnd){u(l.params.nextButton).addClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.disable(u(l.params.nextButton))}else{u(l.params.nextButton).removeClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.enable(u(l.params.nextButton))}}}};l.updatePagination=function(){if(!l.params.pagination)return;if(l.paginationContainer&&l.paginationContainer.length>0){var e="";var t=l.params.loop?Math.ceil((l.slides.length-l.loopedSlides*2)/l.params.slidesPerGroup):l.snapGrid.length;for(var n=0;n<t;n++){if(l.params.paginationBulletRender){e+=l.params.paginationBulletRender(n,l.params.bulletClass)}else{e+='<span class="'+l.params.bulletClass+'"></span>'}}l.paginationContainer.html(e);l.bullets=l.paginationContainer.find("."+l.params.bulletClass.split(" ").join("."))}};l.update=function(e){l.updateContainerSize();l.updateSlidesSize();l.updateProgress();l.updatePagination();l.updateClasses();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}function t(){i=Math.min(Math.max(l.translate,l.maxTranslate()),l.minTranslate());l.setWrapperTranslate(i);l.updateActiveIndex();l.updateClasses()}if(e){var n,i;if(l.params.freeMode){t()}else{if(l.params.slidesPerView==="auto"&&l.isEnd&&!l.params.centeredSlides){n=l.slideTo(l.slides.length-1,0,false,true)}else{n=l.slideTo(l.activeIndex,0,false,true)}if(!n){t()}}}};l.onResize=function(e){l.updateContainerSize();l.updateSlidesSize();l.updateProgress();if(l.params.slidesPerView==="auto"||l.params.freeMode||e)l.updatePagination();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}if(l.params.freeMode){var t=Math.min(Math.max(l.translate,l.maxTranslate()),l.minTranslate());l.setWrapperTranslate(t);l.updateActiveIndex();l.updateClasses()}else{l.updateClasses();if(l.params.slidesPerView==="auto"&&l.isEnd&&!l.params.centeredSlides){l.slideTo(l.slides.length-1,0,false,true)}else{l.slideTo(l.activeIndex,0,false,true)}}};var f=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled)f=["pointerdown","pointermove","pointerup"];else if(window.navigator.msPointerEnabled)f=["MSPointerDown","MSPointerMove","MSPointerUp"];l.touchEvents={start:l.support.touch||!l.params.simulateTouch?"touchstart":f[0],move:l.support.touch||!l.params.simulateTouch?"touchmove":f[1],end:l.support.touch||!l.params.simulateTouch?"touchend":f[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(l.params.touchEventsTarget==="container"?l.container:l.wrapper).addClass("swiper-wp8-"+l.params.direction)}l.initEvents=function(e){var t=e?"off":"on";var n=e?"removeEventListener":"addEventListener";var r=l.params.touchEventsTarget==="container"?l.container[0]:l.wrapper[0];var a=l.support.touch?r:document;var s=l.params.nested?true:false;if(l.browser.ie){r[n](l.touchEvents.start,l.onTouchStart,false);a[n](l.touchEvents.move,l.onTouchMove,s);a[n](l.touchEvents.end,l.onTouchEnd,false)}else{if(l.support.touch){r[n](l.touchEvents.start,l.onTouchStart,false);r[n](l.touchEvents.move,l.onTouchMove,s);r[n](l.touchEvents.end,l.onTouchEnd,false)}if(i.simulateTouch&&!l.device.ios&&!l.device.android){r[n]("mousedown",l.onTouchStart,false);document[n]("mousemove",l.onTouchMove,s);document[n]("mouseup",l.onTouchEnd,false)}}window[n]("resize",l.onResize);if(l.params.nextButton){u(l.params.nextButton)[t]("click",l.onClickNext);if(l.params.a11y&&l.a11y)u(l.params.nextButton)[t]("keydown",l.a11y.onEnterKey)}if(l.params.prevButton){u(l.params.prevButton)[t]("click",l.onClickPrev);if(l.params.a11y&&l.a11y)u(l.params.prevButton)[t]("keydown",l.a11y.onEnterKey)}if(l.params.pagination&&l.params.paginationClickable){u(l.paginationContainer)[t]("click","."+l.params.bulletClass,l.onClickIndex)}if(l.params.preventClicks||l.params.preventClicksPropagation)r[n]("click",l.preventClicks,true)};l.attachEvents=function(e){l.initEvents()};l.detachEvents=function(){l.initEvents(true)};l.allowClick=true;l.preventClicks=function(e){if(!l.allowClick){if(l.params.preventClicks)e.preventDefault();if(l.params.preventClicksPropagation){e.stopPropagation();e.stopImmediatePropagation()}}};l.onClickNext=function(e){e.preventDefault();l.params.onClickNext?l.params.onClickNext():l.slideNext()};l.onClickPrev=function(e){e.preventDefault();l.params.onClickPrev?l.params.onClickPrev():l.slidePrev()};l.onClickIndex=function(e){e.preventDefault();var t=u(this).index()*l.params.slidesPerGroup;if(l.params.loop)t=t+l.loopedSlides;l.slideTo(t)};function h(e,t){var n=u(e.target);if(!n.is(t)){if(typeof t==="string"){n=n.parents(t)}else if(t.nodeType){var i;n.parents().each(function(e,n){if(n===t)i=t});if(!i)return undefined;else return t}}if(n.length===0){return undefined}return n[0]}l.updateClickedSlide=function(e){var t=h(e,"."+l.params.slideClass);var n=false;if(t){for(var i=0;i<l.slides.length;i++){if(l.slides[i]===t)n=true}}if(t&&n){l.clickedSlide=t;l.clickedIndex=u(t).index()}else{l.clickedSlide=undefined;l.clickedIndex=undefined;return}if(l.params.slideToClickedSlide&&l.clickedIndex!==undefined&&l.clickedIndex!==l.activeIndex){var r=l.clickedIndex,a;if(l.params.loop){a=u(l.clickedSlide).attr("data-swiper-slide-index");if(r>l.slides.length-l.params.slidesPerView){l.fixLoop();r=l.wrapper.children("."+l.params.slideClass+'[data-swiper-slide-index="'+a+'"]').eq(0).index();setTimeout(function(){l.slideTo(r)},0)}else if(r<l.params.slidesPerView-1){l.fixLoop();var s=l.wrapper.children("."+l.params.slideClass+'[data-swiper-slide-index="'+a+'"]');r=s.eq(s.length-1).index();setTimeout(function(){l.slideTo(r)},0)}else{l.slideTo(r)}}else{l.slideTo(r)}}};var p,m,_,g,v,b,y,x="input, select, textarea, button",S=Date.now(),w,L=[],E;l.animating=false;l.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var k,A;l.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;k=e.type==="touchstart";if(!k&&"which"in e&&e.which===3)return;if(l.params.noSwiping&&h(e,"."+l.params.noSwipingClass)){l.allowClick=true;return}if(l.params.swipeHandler){if(!h(e,l.params.swipeHandler))return}p=true;m=false;g=undefined;A=undefined;l.touches.startX=l.touches.currentX=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX;l.touches.startY=l.touches.currentY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY;_=Date.now();l.allowClick=true;l.updateContainerSize();l.swipeDirection=undefined;if(l.params.threshold>0)y=false;if(e.type!=="touchstart"){var t=true;if(u(e.target).is(x))t=false;if(document.activeElement&&u(document.activeElement).is(x)){document.activeElement.blur()}if(t){e.preventDefault()}}l.emit("onTouchStart",l,e)};l.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(k&&e.type==="mousemove")return;if(e.preventedByNestedSwiper)return;if(l.params.onlyExternal){m=true;l.allowClick=false;return}if(k&&document.activeElement){if(e.target===document.activeElement&&u(e.target).is(x)){m=true;l.allowClick=false;return}}l.emit("onTouchMove",l,e);if(e.targetTouches&&e.targetTouches.length>1)return;l.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;l.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(typeof g==="undefined"){var t=Math.atan2(Math.abs(l.touches.currentY-l.touches.startY),Math.abs(l.touches.currentX-l.touches.startX))*180/Math.PI;g=c()?t>l.params.touchAngle:90-t>l.params.touchAngle}if(g){l.emit("onTouchMoveOpposite",l,e)}if(typeof A==="undefined"&&l.browser.ieTouch){if(l.touches.currentX!==l.touches.startX||l.touches.currentY!==l.touches.startY){A=true}}if(!p)return;if(g){p=false;return}if(!A&&l.browser.ieTouch){return}l.allowClick=false;l.emit("onSliderMove",l,e);e.preventDefault();if(l.params.touchMoveStopPropagation&&!l.params.nested){e.stopPropagation()}if(!m){if(i.loop){l.fixLoop()}b=l.getWrapperTranslate();l.setWrapperTransition(0);if(l.animating){l.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd")}if(l.params.autoplay&&l.autoplaying){if(l.params.autoplayDisableOnInteraction){l.stopAutoplay()}else{l.pauseAutoplay()}}E=false;if(l.params.grabCursor){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grabbing";l.container[0].style.cursor="-moz-grabbin";l.container[0].style.cursor="grabbing"}}m=true;var n=l.touches.diff=c()?l.touches.currentX-l.touches.startX:l.touches.currentY-l.touches.startY;n=n*l.params.touchRatio;if(l.rtl)n=-n;l.swipeDirection=n>0?"prev":"next";v=n+b;var r=true;if(n>0&&v>l.minTranslate()){r=false;if(l.params.resistance)v=l.minTranslate()-1+Math.pow(-l.minTranslate()+b+n,l.params.resistanceRatio)}else if(n<0&&v<l.maxTranslate()){r=false;if(l.params.resistance)v=l.maxTranslate()+1-Math.pow(l.maxTranslate()-b-n,l.params.resistanceRatio)}if(r){e.preventedByNestedSwiper=true}if(!l.params.allowSwipeToNext&&l.swipeDirection==="next"&&v<b){v=b}if(!l.params.allowSwipeToPrev&&l.swipeDirection==="prev"&&v>b){v=b}if(!l.params.followFinger)return;if(l.params.threshold>0){if(Math.abs(n)>l.params.threshold||y){if(!y){y=true;l.touches.startX=l.touches.currentX;l.touches.startY=l.touches.currentY;v=b;l.touches.diff=c()?l.touches.currentX-l.touches.startX:l.touches.currentY-l.touches.startY;return}}else{v=b;return}}if(l.params.freeMode||l.params.watchSlidesProgress){l.updateActiveIndex()}if(l.params.freeMode){if(L.length===0){L.push({position:l.touches[c()?"startX":"startY"],time:_})}L.push({position:l.touches[c()?"currentX":"currentY"],time:(new window.Date).getTime()})}l.updateProgress(v);l.setWrapperTranslate(v)};l.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;l.emit("onTouchEnd",l,e);if(!p)return;if(l.params.grabCursor&&m&&p){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grab";l.container[0].style.cursor="-moz-grab";l.container[0].style.cursor="grab"}var t=Date.now();var n=t-_;if(l.allowClick){l.updateClickedSlide(e);l.emit("onTap",l,e);if(n<300&&t-S>300){if(w)clearTimeout(w);w=setTimeout(function(){if(!l)return;if(l.params.paginationHide&&l.paginationContainer.length>0&&!u(e.target).hasClass(l.params.bulletClass)){l.paginationContainer.toggleClass(l.params.paginationHiddenClass)}l.emit("onClick",l,e)},300)}if(n<300&&t-S<300){if(w)clearTimeout(w);l.emit("onDoubleTap",l,e)}}S=Date.now();setTimeout(function(){if(l&&l.allowClick)l.allowClick=true},0);if(!p||!m||!l.swipeDirection||l.touches.diff===0||v===b){p=m=false;return}p=m=false;var i;if(l.params.followFinger){i=l.rtl?l.translate:-l.translate}else{i=-v}if(l.params.freeMode){if(i<-l.minTranslate()){l.slideTo(l.activeIndex);return}else if(i>-l.maxTranslate()){if(l.slides.length<l.snapGrid.length){l.slideTo(l.snapGrid.length-1)}else{l.slideTo(l.slides.length-1)}return}if(l.params.freeModeMomentum){if(L.length>1){var r=L.pop(),a=L.pop();var s=r.position-a.position;var o=r.time-a.time;l.velocity=s/o;l.velocity=l.velocity/2;if(Math.abs(l.velocity)<.02){l.velocity=0}if(o>150||(new window.Date).getTime()-r.time>300){l.velocity=0}}else{l.velocity=0}L.length=0;var c=1e3*l.params.freeModeMomentumRatio;var d=l.velocity*c;var f=l.translate+d;if(l.rtl)f=-f;var h=false;var g;var y=Math.abs(l.velocity)*20*l.params.freeModeMomentumBounceRatio;if(f<l.maxTranslate()){if(l.params.freeModeMomentumBounce){if(f+l.maxTranslate()<-y){f=l.maxTranslate()-y}g=l.maxTranslate();h=true;E=true}else{f=l.maxTranslate()}}else if(f>l.minTranslate()){if(l.params.freeModeMomentumBounce){if(f-l.minTranslate()>y){f=l.minTranslate()+y}g=l.minTranslate();h=true;E=true}else{f=l.minTranslate()}}else if(l.params.freeModeSticky){var x=0,k;for(x=0;x<l.snapGrid.length;x+=1){if(l.snapGrid[x]>-f){k=x;break}}if(Math.abs(l.snapGrid[k]-f)<Math.abs(l.snapGrid[k-1]-f)||l.swipeDirection==="next"){f=l.snapGrid[k]}else{f=l.snapGrid[k-1]}if(!l.rtl)f=-f}if(l.velocity!==0){if(l.rtl){c=Math.abs((-f-l.translate)/l.velocity)}else{c=Math.abs((f-l.translate)/l.velocity)}}else if(l.params.freeModeSticky){l.slideReset();return}if(l.params.freeModeMomentumBounce&&h){l.updateProgress(g);l.setWrapperTransition(c);l.setWrapperTranslate(f);l.onTransitionStart();l.animating=true;l.wrapper.transitionEnd(function(){if(!l||!E)return;l.emit("onMomentumBounce",l);l.setWrapperTransition(l.params.speed);l.setWrapperTranslate(g);l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd()})})}else if(l.velocity){l.updateProgress(f);l.setWrapperTransition(c);l.setWrapperTranslate(f);l.onTransitionStart();if(!l.animating){l.animating=true;l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd()})}}else{l.updateProgress(f)}l.updateActiveIndex()}if(!l.params.freeModeMomentum||n>=l.params.longSwipesMs){l.updateProgress();l.updateActiveIndex()}return}var A,M=0,T=l.slidesSizesGrid[0];for(A=0;A<l.slidesGrid.length;A+=l.params.slidesPerGroup){if(typeof l.slidesGrid[A+l.params.slidesPerGroup]!=="undefined"){if(i>=l.slidesGrid[A]&&i<l.slidesGrid[A+l.params.slidesPerGroup]){M=A;T=l.slidesGrid[A+l.params.slidesPerGroup]-l.slidesGrid[A]}}else{if(i>=l.slidesGrid[A]){M=A;T=l.slidesGrid[l.slidesGrid.length-1]-l.slidesGrid[l.slidesGrid.length-2]}}}var C=(i-l.slidesGrid[M])/T;var R=function(e){l.params.onSlide?l.params.onSlide(e):l.slideTo(e)};if(n>l.params.longSwipesMs){if(!l.params.longSwipes){R(l.activeIndex);return}if(l.swipeDirection==="next"){if(C>=l.params.longSwipesRatio)R(M+l.params.slidesPerGroup);else R(M)}if(l.swipeDirection==="prev"){if(C>1-l.params.longSwipesRatio)R(M+l.params.slidesPerGroup);else R(M)}}else{if(!l.params.shortSwipes){R(l.activeIndex);return}if(l.swipeDirection==="next"){R(M+l.params.slidesPerGroup)}if(l.swipeDirection==="prev"){R(M)}}};l._slideTo=function(e,t){return l.slideTo(e,t,true,true)};l.slideTo=function(e,t,n,i){if(typeof n==="undefined")n=true;if(typeof e==="undefined")e=0;if(e<0)e=0;l.snapIndex=Math.floor(e/l.params.slidesPerGroup);if(l.snapIndex>=l.snapGrid.length)l.snapIndex=l.snapGrid.length-1;var r=-l.snapGrid[l.snapIndex];if(!l.params.allowSwipeToNext&&r<l.translate){return false}if(!l.params.allowSwipeToPrev&&r>l.translate){return false}if(l.params.autoplay&&l.autoplaying){if(i||!l.params.autoplayDisableOnInteraction){l.pauseAutoplay(t)}else{l.stopAutoplay()}}l.updateProgress(r);for(var a=0;a<l.slidesGrid.length;a++){if(-r>=l.slidesGrid[a]){e=a}}if(typeof t==="undefined")t=l.params.speed;l.previousIndex=l.activeIndex||0;l.activeIndex=e;if(r===l.translate){l.updateClasses();return false}l.updateClasses();l.onTransitionStart(n);var s=c()?r:0,o=c()?0:r;if(t===0){l.setWrapperTransition(0);l.setWrapperTranslate(r);l.onTransitionEnd(n)}else{l.setWrapperTransition(t);l.setWrapperTranslate(r);if(!l.animating){l.animating=true;l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd(n)})}}return true};l.onTransitionStart=function(e){if(typeof e==="undefined")e=true;if(l.lazy)l.lazy.onTransitionStart();if(e){l.emit("onTransitionStart",l);if(l.activeIndex!==l.previousIndex){l.emit("onSlideChangeStart",l)}}};l.onTransitionEnd=function(e){l.animating=false;l.setWrapperTransition(0);if(typeof e==="undefined")e=true;if(l.lazy)l.lazy.onTransitionEnd();if(e){l.emit("onTransitionEnd",l);if(l.activeIndex!==l.previousIndex){l.emit("onSlideChangeEnd",l)}}if(l.params.hashnav&&l.hashnav){l.hashnav.setHash()}};l.slideNext=function(e,t,n){if(l.params.loop){if(l.animating)return false;l.fixLoop();var i=l.container[0].clientLeft;return l.slideTo(l.activeIndex+l.params.slidesPerGroup,t,e,n)}else return l.slideTo(l.activeIndex+l.params.slidesPerGroup,t,e,n)};l._slideNext=function(e){return l.slideNext(true,e,true)};l.slidePrev=function(e,t,n){if(l.params.loop){if(l.animating)return false;l.fixLoop();var i=l.container[0].clientLeft;return l.slideTo(l.activeIndex-1,t,e,n)}else return l.slideTo(l.activeIndex-1,t,e,n)};l._slidePrev=function(e){return l.slidePrev(true,e,true)};l.slideReset=function(e,t,n){return l.slideTo(l.activeIndex,t,e)};l.setWrapperTransition=function(e,t){l.wrapper.transition(e);if(l.params.effect!=="slide"&&l.effects[l.params.effect]){l.effects[l.params.effect].setTransition(e)}if(l.params.parallax&&l.parallax){l.parallax.setTransition(e)}if(l.params.scrollbar&&l.scrollbar){l.scrollbar.setTransition(e)}if(l.params.control&&l.controller){l.controller.setTransition(e,t)}l.emit("onSetTransition",l,e)};l.setWrapperTranslate=function(e,t,n){var i=0,r=0,a=0;if(c()){i=l.rtl?-e:e}else{r=e}if(!l.params.virtualTranslate){if(l.support.transforms3d)l.wrapper.transform("translate3d("+i+"px, "+r+"px, "+a+"px)");else l.wrapper.transform("translate("+i+"px, "+r+"px)")}l.translate=c()?i:r;if(t)l.updateActiveIndex();if(l.params.effect!=="slide"&&l.effects[l.params.effect]){l.effects[l.params.effect].setTranslate(l.translate)}if(l.params.parallax&&l.parallax){l.parallax.setTranslate(l.translate)}if(l.params.scrollbar&&l.scrollbar){l.scrollbar.setTranslate(l.translate)}if(l.params.control&&l.controller){l.controller.setTranslate(l.translate,n)}l.emit("onSetTranslate",l,l.translate)};l.getTranslate=function(e,t){var n,i,r,a;if(typeof t==="undefined"){t="x"}if(l.params.virtualTranslate){return l.rtl?-l.translate:l.translate}r=window.getComputedStyle(e,null);if(window.WebKitCSSMatrix){a=new window.WebKitCSSMatrix(r.webkitTransform==="none"?"":r.webkitTransform)}else{a=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");n=a.toString().split(",")}if(t==="x"){if(window.WebKitCSSMatrix)i=a.m41;else if(n.length===16)i=parseFloat(n[12]);else i=parseFloat(n[4])}if(t==="y"){if(window.WebKitCSSMatrix)i=a.m42;else if(n.length===16)i=parseFloat(n[13]);else i=parseFloat(n[5])}if(l.rtl&&i)i=-i;return i||0};l.getWrapperTranslate=function(e){if(typeof e==="undefined"){e=c()?"x":"y"}return l.getTranslate(l.wrapper[0],e)};l.observers=[];function M(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver;var i=new n(function(e){e.forEach(function(e){l.onResize(true);l.emit("onObserverUpdate",l,e)})});i.observe(e,{attributes:typeof t.attributes==="undefined"?true:t.attributes,childList:typeof t.childList==="undefined"?true:t.childList,characterData:typeof t.characterData==="undefined"?true:t.characterData});l.observers.push(i)}l.initObservers=function(){if(l.params.observeParents){var e=l.container.parents();for(var t=0;t<e.length;t++){M(e[t])}}M(l.container[0],{childList:false});M(l.wrapper[0],{attributes:false})};l.disconnectObservers=function(){for(var e=0;e<l.observers.length;e++){l.observers[e].disconnect()}l.observers=[]};l.createLoop=function(){l.wrapper.children("."+l.params.slideClass+"."+l.params.slideDuplicateClass).remove();var e=l.wrapper.children("."+l.params.slideClass);l.loopedSlides=parseInt(l.params.loopedSlides||l.params.slidesPerView,10);l.loopedSlides=l.loopedSlides+l.params.loopAdditionalSlides;if(l.loopedSlides>e.length){l.loopedSlides=e.length}var t=[],n=[],i;e.each(function(i,r){var a=u(this);if(i<l.loopedSlides)n.push(r);if(i<e.length&&i>=e.length-l.loopedSlides)t.push(r);a.attr("data-swiper-slide-index",i)});for(i=0;i<n.length;i++){l.wrapper.append(u(n[i].cloneNode(true)).addClass(l.params.slideDuplicateClass))}for(i=t.length-1;i>=0;i--){l.wrapper.prepend(u(t[i].cloneNode(true)).addClass(l.params.slideDuplicateClass))}};l.destroyLoop=function(){l.wrapper.children("."+l.params.slideClass+"."+l.params.slideDuplicateClass).remove();l.slides.removeAttr("data-swiper-slide-index")};l.fixLoop=function(){var e;if(l.activeIndex<l.loopedSlides){e=l.slides.length-l.loopedSlides*3+l.activeIndex;e=e+l.loopedSlides;l.slideTo(e,0,false,true)}else if(l.params.slidesPerView==="auto"&&l.activeIndex>=l.loopedSlides*2||l.activeIndex>l.slides.length-l.params.slidesPerView*2){e=-l.slides.length+l.activeIndex+l.loopedSlides;e=e+l.loopedSlides;l.slideTo(e,0,false,true)}};l.appendSlide=function(e){if(l.params.loop){l.destroyLoop()}if(typeof e==="object"&&e.length){for(var t=0;t<e.length;t++){if(e[t])l.wrapper.append(e[t])}}else{l.wrapper.append(e)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}};l.prependSlide=function(e){if(l.params.loop){l.destroyLoop()}var t=l.activeIndex+1;if(typeof e==="object"&&e.length){for(var n=0;n<e.length;n++){if(e[n])l.wrapper.prepend(e[n])}t=l.activeIndex+e.length}else{l.wrapper.prepend(e)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}l.slideTo(t,0,false)};l.removeSlide=function(e){if(l.params.loop){l.destroyLoop();l.slides=l.wrapper.children("."+l.params.slideClass)}var t=l.activeIndex,n;if(typeof e==="object"&&e.length){for(var i=0;i<e.length;i++){n=e[i];if(l.slides[n])l.slides.eq(n).remove();if(n<t)t--}t=Math.max(t,0)}else{n=e;if(l.slides[n])l.slides.eq(n).remove();if(n<t)t--;t=Math.max(t,0)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}if(l.params.loop){l.slideTo(t+l.loopedSlides,0,false)}else{l.slideTo(t,0,false)}};l.removeAllSlides=function(){var e=[];for(var t=0;t<l.slides.length;t++){e.push(t)}l.removeSlide(e)};l.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<l.slides.length;e++){var t=l.slides.eq(e);var n=t[0].swiperSlideOffset;var i=-n;if(!l.params.virtualTranslate)i=i-l.translate;var r=0;if(!c()){r=i;i=0}var a=l.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);if(a>0&&a<1){l.effects.fade.fadeIndex=e}t.css({opacity:a}).transform("translate3d("+i+"px, "+r+"px, 0px)")}},setTransition:function(e){l.slides.transition(e);if(l.params.virtualTranslate&&e!==0){var t=l.effects.fade.fadeIndex!==null?l.effects.fade.fadeIndex:l.activeIndex;if(!(l.params.loop||l.params.fade.crossFade)&&t===0){t=l.slides.length-1}l.slides.eq(t).transitionEnd(function(){if(!l)return;var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var t=0;t<e.length;t++){l.wrapper.trigger(e[t])}})}}},cube:{setTranslate:function(){var e=0,t;if(l.params.cube.shadow){if(c()){t=l.wrapper.find(".swiper-cube-shadow");if(t.length===0){t=u('<div class="swiper-cube-shadow"></div>');l.wrapper.append(t)}t.css({height:l.width+"px"})}else{t=l.container.find(".swiper-cube-shadow");if(t.length===0){t=u('<div class="swiper-cube-shadow"></div>');l.container.append(t)}}}for(var n=0;n<l.slides.length;n++){var i=l.slides.eq(n);var r=n*90;var a=Math.floor(r/360);if(l.rtl){r=-r;a=Math.floor(-r/360)}var s=Math.max(Math.min(i[0].progress,1),-1);var o=0,d=0,f=0;if(n%4===0){o=-a*4*l.size;f=0}else if((n-1)%4===0){o=0;f=-a*4*l.size}else if((n-2)%4===0){o=l.size+a*4*l.size;f=l.size}else if((n-3)%4===0){o=-l.size;f=3*l.size+l.size*4*a}if(l.rtl){o=-o}if(!c()){d=o;o=0}var h="rotateX("+(c()?0:-r)+"deg) rotateY("+(c()?r:0)+"deg) translate3d("+o+"px, "+d+"px, "+f+"px)";if(s<=1&&s>-1){e=n*90+s*90;if(l.rtl)e=-n*90-s*90}i.transform(h);if(l.params.cube.slideShadows){var p=c()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top");var m=c()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");if(p.length===0){p=u('<div class="swiper-slide-shadow-'+(c()?"left":"top")+'"></div>');i.append(p)}if(m.length===0){m=u('<div class="swiper-slide-shadow-'+(c()?"right":"bottom")+'"></div>');i.append(m)}var _=i[0].progress;if(p.length)p[0].style.opacity=-i[0].progress;if(m.length)m[0].style.opacity=i[0].progress}}l.wrapper.css({"-webkit-transform-origin":"50% 50% -"+l.size/2+"px","-moz-transform-origin":"50% 50% -"+l.size/2+"px","-ms-transform-origin":"50% 50% -"+l.size/2+"px","transform-origin":"50% 50% -"+l.size/2+"px"});if(l.params.cube.shadow){if(c()){t.transform("translate3d(0px, "+(l.width/2+l.params.cube.shadowOffset)+"px, "+-l.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+l.params.cube.shadowScale+")")}else{var g=Math.abs(e)-Math.floor(Math.abs(e)/90)*90;var v=1.5-(Math.sin(g*2*Math.PI/360)/2+Math.cos(g*2*Math.PI/360)/2);var b=l.params.cube.shadowScale,y=l.params.cube.shadowScale/v,x=l.params.cube.shadowOffset;t.transform("scale3d("+b+", 1, "+y+") translate3d(0px, "+(l.height/2+x)+"px, "+-l.height/2/y+"px) rotateX(-90deg)")}}var S=l.isSafari||l.isUiWebView?-l.size/2:0;l.wrapper.transform("translate3d(0px,0,"+S+"px) rotateX("+(c()?0:e)+"deg) rotateY("+(c()?-e:0)+"deg)")},setTransition:function(e){l.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e);if(l.params.cube.shadow&&!c()){l.container.find(".swiper-cube-shadow").transition(e)}}},coverflow:{setTranslate:function(){var e=l.translate;
var t=c()?-e+l.width/2:-e+l.height/2;var n=c()?l.params.coverflow.rotate:-l.params.coverflow.rotate;var i=l.params.coverflow.depth;for(var r=0,a=l.slides.length;r<a;r++){var s=l.slides.eq(r);var o=l.slidesSizesGrid[r];var d=s[0].swiperSlideOffset;var f=(t-d-o/2)/o*l.params.coverflow.modifier;var h=c()?n*f:0;var p=c()?0:n*f;var m=-i*Math.abs(f);var _=c()?0:l.params.coverflow.stretch*f;var g=c()?l.params.coverflow.stretch*f:0;if(Math.abs(g)<.001)g=0;if(Math.abs(_)<.001)_=0;if(Math.abs(m)<.001)m=0;if(Math.abs(h)<.001)h=0;if(Math.abs(p)<.001)p=0;var v="translate3d("+g+"px,"+_+"px,"+m+"px)  rotateX("+p+"deg) rotateY("+h+"deg)";s.transform(v);s[0].style.zIndex=-Math.abs(Math.round(f))+1;if(l.params.coverflow.slideShadows){var b=c()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top");var y=c()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");if(b.length===0){b=u('<div class="swiper-slide-shadow-'+(c()?"left":"top")+'"></div>');s.append(b)}if(y.length===0){y=u('<div class="swiper-slide-shadow-'+(c()?"right":"bottom")+'"></div>');s.append(y)}if(b.length)b[0].style.opacity=f>0?f:0;if(y.length)y[0].style.opacity=-f>0?-f:0}}if(l.browser.ie){var x=l.wrapper[0].style;x.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){l.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}};l.lazy={initialImageLoaded:false,loadImageInSlide:function(e,t){if(typeof e==="undefined")return;if(typeof t==="undefined")t=true;if(l.slides.length===0)return;var n=l.slides.eq(e);var i=n.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(n.hasClass("swiper-lazy")&&!n.hasClass("swiper-lazy-loaded")&&!n.hasClass("swiper-lazy-loading")){i.add(n[0])}if(i.length===0)return;i.each(function(){var e=u(this);e.addClass("swiper-lazy-loading");var i=e.attr("data-background");var r=e.attr("data-src");l.loadImage(e[0],r||i,false,function(){if(i){e.css("background-image","url("+i+")");e.removeAttr("data-background")}else{e.attr("src",r);e.removeAttr("data-src")}e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");n.find(".swiper-lazy-preloader, .preloader").remove();if(l.params.loop&&t){var a=n.attr("data-swiper-slide-index");if(n.hasClass(l.params.slideDuplicateClass)){var s=l.wrapper.children('[data-swiper-slide-index="'+a+'"]:not(.'+l.params.slideDuplicateClass+")");l.lazy.loadImageInSlide(s.index(),false)}else{var o=l.wrapper.children("."+l.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');l.lazy.loadImageInSlide(o.index(),false)}}l.emit("onLazyImageReady",l,n[0],e[0])});l.emit("onLazyImageLoad",l,n[0],e[0])})},load:function(){if(l.params.watchSlidesVisibility){l.wrapper.children("."+l.params.slideVisibleClass).each(function(){l.lazy.loadImageInSlide(u(this).index())})}else{if(l.params.slidesPerView>1){for(var e=l.activeIndex;e<l.activeIndex+l.params.slidesPerView;e++){if(l.slides[e])l.lazy.loadImageInSlide(e)}}else{l.lazy.loadImageInSlide(l.activeIndex)}}if(l.params.lazyLoadingInPrevNext){var t=l.wrapper.children("."+l.params.slideNextClass);if(t.length>0)l.lazy.loadImageInSlide(t.index());var n=l.wrapper.children("."+l.params.slidePrevClass);if(n.length>0)l.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){if(l.params.lazyLoading){if(l.params.lazyLoadingOnTransitionStart||!l.params.lazyLoadingOnTransitionStart&&!l.lazy.initialImageLoaded){l.lazy.load()}}},onTransitionEnd:function(){if(l.params.lazyLoading&&!l.params.lazyLoadingOnTransitionStart){l.lazy.load()}}};l.scrollbar={set:function(){if(!l.params.scrollbar)return;var e=l.scrollbar;e.track=u(l.params.scrollbar);e.drag=e.track.find(".swiper-scrollbar-drag");if(e.drag.length===0){e.drag=u('<div class="swiper-scrollbar-drag"></div>');e.track.append(e.drag)}e.drag[0].style.width="";e.drag[0].style.height="";e.trackSize=c()?e.track[0].offsetWidth:e.track[0].offsetHeight;e.divider=l.size/l.virtualSize;e.moveDivider=e.divider*(e.trackSize/l.size);e.dragSize=e.trackSize*e.divider;if(c()){e.drag[0].style.width=e.dragSize+"px"}else{e.drag[0].style.height=e.dragSize+"px"}if(e.divider>=1){e.track[0].style.display="none"}else{e.track[0].style.display=""}if(l.params.scrollbarHide){e.track[0].style.opacity=0}},setTranslate:function(){if(!l.params.scrollbar)return;var e;var t=l.scrollbar;var n=l.translate||0;var i;var r=t.dragSize;i=(t.trackSize-t.dragSize)*l.progress;if(l.rtl&&c()){i=-i;if(i>0){r=t.dragSize-i;i=0}else if(-i+t.dragSize>t.trackSize){r=t.trackSize+i}}else{if(i<0){r=t.dragSize+i;i=0}else if(i+t.dragSize>t.trackSize){r=t.trackSize-i}}if(c()){if(l.support.transforms3d){t.drag.transform("translate3d("+i+"px, 0, 0)")}else{t.drag.transform("translateX("+i+"px)")}t.drag[0].style.width=r+"px"}else{if(l.support.transforms3d){t.drag.transform("translate3d(0px, "+i+"px, 0)")}else{t.drag.transform("translateY("+i+"px)")}t.drag[0].style.height=r+"px"}if(l.params.scrollbarHide){clearTimeout(t.timeout);t.track[0].style.opacity=1;t.timeout=setTimeout(function(){t.track[0].style.opacity=0;t.track.transition(400)},1e3)}},setTransition:function(e){if(!l.params.scrollbar)return;l.scrollbar.drag.transition(e)}};l.controller={setTranslate:function(t,n){var i=l.params.control;var r,a;function s(e){t=e.rtl&&e.params.direction==="horizontal"?-l.translate:l.translate;r=(e.maxTranslate()-e.minTranslate())/(l.maxTranslate()-l.minTranslate());a=(t-l.minTranslate())*r+e.minTranslate();if(l.params.controlInverse){a=e.maxTranslate()-a}e.updateProgress(a);e.setWrapperTranslate(a,false,l);e.updateActiveIndex()}if(l.isArray(i)){for(var o=0;o<i.length;o++){if(i[o]!==n&&i[o]instanceof e){s(i[o])}}}else if(i instanceof e&&n!==i){s(i)}},setTransition:function(t,n){var i=l.params.control;var r;function a(e){e.setWrapperTransition(t,l);if(t!==0){e.onTransitionStart();e.wrapper.transitionEnd(function(){if(!i)return;e.onTransitionEnd()})}}if(l.isArray(i)){for(r=0;r<i.length;r++){if(i[r]!==n&&i[r]instanceof e){a(i[r])}}}else if(i instanceof e&&n!==i){a(i)}}};l.hashnav={init:function(){if(!l.params.hashnav)return;l.hashnav.initialized=true;var e=document.location.hash.replace("#","");if(!e)return;var t=0;for(var n=0,i=l.slides.length;n<i;n++){var r=l.slides.eq(n);var a=r.attr("data-hash");if(a===e&&!r.hasClass(l.params.slideDuplicateClass)){var s=r.index();l.slideTo(s,t,l.params.runCallbacksOnInit,true)}}},setHash:function(){if(!l.hashnav.initialized||!l.params.hashnav)return;document.location.hash=l.slides.eq(l.activeIndex).attr("data-hash")||""}};function T(e){if(e.originalEvent)e=e.originalEvent;var t=e.keyCode||e.charCode;if(!l.params.allowSwipeToNext&&(c()&&t===39||!c()&&t===40)){return false}if(!l.params.allowSwipeToPrev&&(c()&&t===37||!c()&&t===38)){return false}if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey){return}if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==="input"||document.activeElement.nodeName.toLowerCase()==="textarea")){return}if(t===37||t===39||t===38||t===40){var n=false;if(l.container.parents(".swiper-slide").length>0&&l.container.parents(".swiper-slide-active").length===0){return}var i={left:window.pageXOffset,top:window.pageYOffset};var r=window.innerWidth;var a=window.innerHeight;var s=l.container.offset();var o=[[s.left,s.top],[s.left+l.width,s.top],[s.left,s.top+l.height],[s.left+l.width,s.top+l.height]];for(var u=0;u<o.length;u++){var d=o[u];if(d[0]>=i.left&&d[0]<=i.left+r&&d[1]>=i.top&&d[1]<=i.top+a){n=true}}if(!n)return}if(c()){if(t===37||t===39){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t===39)l.slideNext();if(t===37)l.slidePrev()}else{if(t===38||t===40){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t===40)l.slideNext();if(t===38)l.slidePrev()}}l.disableKeyboardControl=function(){u(document).off("keydown",T)};l.enableKeyboardControl=function(){u(document).on("keydown",T)};l._wheelEvent=false;l._lastWheelScrollTime=(new window.Date).getTime();if(l.params.mousewheelControl){if(document.onmousewheel!==undefined){l._wheelEvent="mousewheel"}if(!l._wheelEvent){try{new window.WheelEvent("wheel");l._wheelEvent="wheel"}catch(C){}}if(!l._wheelEvent){l._wheelEvent="DOMMouseScroll"}}function R(e){if(e.originalEvent)e=e.originalEvent;var t=l._wheelEvent;var n=0;if(e.detail)n=-e.detail;else if(t==="mousewheel"){if(l.params.mousewheelForceToAxis){if(c()){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))n=e.wheelDeltaX;else return}else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))n=e.wheelDeltaY;else return}}else{n=e.wheelDelta}}else if(t==="DOMMouseScroll")n=-e.detail;else if(t==="wheel"){if(l.params.mousewheelForceToAxis){if(c()){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))n=-e.deltaX;else return}else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))n=-e.deltaY;else return}}else{n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY}}if(!l.params.freeMode){if((new window.Date).getTime()-l._lastWheelScrollTime>60){if(n<0)l.slideNext();else l.slidePrev()}l._lastWheelScrollTime=(new window.Date).getTime()}else{var i=l.getWrapperTranslate()+n;if(i>0)i=0;if(i<l.maxTranslate())i=l.maxTranslate();l.setWrapperTransition(0);l.setWrapperTranslate(i);l.updateProgress();l.updateActiveIndex();if(i===0||i===l.maxTranslate())return}if(l.params.autoplay)l.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}l.disableMousewheelControl=function(){if(!l._wheelEvent)return false;l.container.off(l._wheelEvent,R);return true};l.enableMousewheelControl=function(){if(!l._wheelEvent)return false;l.container.on(l._wheelEvent,R);return true};function D(e,t){e=u(e);var n,i,r;n=e.attr("data-swiper-parallax")||"0";i=e.attr("data-swiper-parallax-x");r=e.attr("data-swiper-parallax-y");if(i||r){i=i||"0";r=r||"0"}else{if(c()){i=n;r="0"}else{r=n;i="0"}}if(i.indexOf("%")>=0){i=parseInt(i,10)*t+"%"}else{i=i*t+"px"}if(r.indexOf("%")>=0){r=parseInt(r,10)*t+"%"}else{r=r*t+"px"}e.transform("translate3d("+i+", "+r+",0px)")}l.parallax={setTranslate:function(){l.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){D(this,l.progress)});l.slides.each(function(){var e=u(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);D(this,t)})})},setTransition:function(e){if(typeof e==="undefined")e=l.params.speed;l.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=u(this);var n=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;if(e===0)n=0;t.transition(n)})}};l._plugins=[];for(var I in l.plugins){var O=l.plugins[I](l,l.params[I]);if(O)l._plugins.push(O)}l.callPlugins=function(e){for(var t=0;t<l._plugins.length;t++){if(e in l._plugins[t]){l._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}};function N(e){if(e.indexOf("on")!==0){if(e[0]!==e[0].toUpperCase()){e="on"+e[0].toUpperCase()+e.substring(1)}else{e="on"+e}}return e}l.emitterEventListeners={};l.emit=function(e){if(l.params[e]){l.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}var t;if(l.emitterEventListeners[e]){for(t=0;t<l.emitterEventListeners[e].length;t++){l.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}if(l.callPlugins)l.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};l.on=function(e,t){e=N(e);if(!l.emitterEventListeners[e])l.emitterEventListeners[e]=[];l.emitterEventListeners[e].push(t);return l};l.off=function(e,t){var n;e=N(e);if(typeof t==="undefined"){l.emitterEventListeners[e]=[];return l}if(!l.emitterEventListeners[e]||l.emitterEventListeners[e].length===0)return;for(n=0;n<l.emitterEventListeners[e].length;n++){if(l.emitterEventListeners[e][n]===t)l.emitterEventListeners[e].splice(n,1)}return l};l.once=function(e,t){e=N(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);l.off(e,n)};l.on(e,n);return l};l.a11y={makeFocusable:function(e){e[0].tabIndex="0";return e},addRole:function(e,t){e.attr("role",t);return e},addLabel:function(e,t){e.attr("aria-label",t);return e},disable:function(e){e.attr("aria-disabled",true);return e},enable:function(e){e.attr("aria-disabled",false);return e},onEnterKey:function(e){if(e.keyCode!==13)return;if(u(e.target).is(l.params.nextButton)){l.onClickNext(e);if(l.isEnd){l.a11y.notify(l.params.lastSlideMsg)}else{l.a11y.notify(l.params.nextSlideMsg)}}else if(u(e.target).is(l.params.prevButton)){l.onClickPrev(e);if(l.isBeginning){l.a11y.notify(l.params.firstSlideMsg)}else{l.a11y.notify(l.params.prevSlideMsg)}}},liveRegion:u('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=l.a11y.liveRegion;if(t.length===0)return;t.html("");t.html(e)},init:function(){if(l.params.nextButton){var e=u(l.params.nextButton);l.a11y.makeFocusable(e);l.a11y.addRole(e,"button");l.a11y.addLabel(e,l.params.nextSlideMsg)}if(l.params.prevButton){var t=u(l.params.prevButton);l.a11y.makeFocusable(t);l.a11y.addRole(t,"button");l.a11y.addLabel(t,l.params.prevSlideMsg)}u(l.container).append(l.a11y.liveRegion)},destroy:function(){if(l.a11y.liveRegion&&l.a11y.liveRegion.length>0)l.a11y.liveRegion.remove()}};l.init=function(){if(l.params.loop)l.createLoop();l.updateContainerSize();l.updateSlidesSize();l.updatePagination();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}if(l.params.effect!=="slide"&&l.effects[l.params.effect]){if(!l.params.loop)l.updateProgress();l.effects[l.params.effect].setTranslate()}if(l.params.loop){l.slideTo(l.params.initialSlide+l.loopedSlides,0,l.params.runCallbacksOnInit)}else{l.slideTo(l.params.initialSlide,0,l.params.runCallbacksOnInit);if(l.params.initialSlide===0){if(l.parallax&&l.params.parallax)l.parallax.setTranslate();if(l.lazy&&l.params.lazyLoading){l.lazy.load();l.lazy.initialImageLoaded=true}}}l.attachEvents();if(l.params.observer&&l.support.observer){l.initObservers()}if(l.params.preloadImages&&!l.params.lazyLoading){l.preloadImages()}if(l.params.autoplay){l.startAutoplay()}if(l.params.keyboardControl){if(l.enableKeyboardControl)l.enableKeyboardControl()}if(l.params.mousewheelControl){if(l.enableMousewheelControl)l.enableMousewheelControl()}if(l.params.hashnav){if(l.hashnav)l.hashnav.init()}if(l.params.a11y&&l.a11y)l.a11y.init();l.emit("onInit",l)};l.cleanupStyles=function(){l.container.removeClass(l.classNames.join(" ")).removeAttr("style");l.wrapper.removeAttr("style");if(l.slides&&l.slides.length){l.slides.removeClass([l.params.slideVisibleClass,l.params.slideActiveClass,l.params.slideNextClass,l.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row")}if(l.paginationContainer&&l.paginationContainer.length){l.paginationContainer.removeClass(l.params.paginationHiddenClass)}if(l.bullets&&l.bullets.length){l.bullets.removeClass(l.params.bulletActiveClass)}if(l.params.prevButton)u(l.params.prevButton).removeClass(l.params.buttonDisabledClass);if(l.params.nextButton)u(l.params.nextButton).removeClass(l.params.buttonDisabledClass);if(l.params.scrollbar&&l.scrollbar){if(l.scrollbar.track&&l.scrollbar.track.length)l.scrollbar.track.removeAttr("style");if(l.scrollbar.drag&&l.scrollbar.drag.length)l.scrollbar.drag.removeAttr("style")}};l.destroy=function(e,t){l.detachEvents();l.stopAutoplay();if(l.params.loop){l.destroyLoop()}if(t){l.cleanupStyles()}l.disconnectObservers();if(l.params.keyboardControl){if(l.disableKeyboardControl)l.disableKeyboardControl()}if(l.params.mousewheelControl){if(l.disableMousewheelControl)l.disableMousewheelControl()}if(l.params.a11y&&l.a11y)l.a11y.destroy();l.emit("onDestroy");if(e!==false)l=null};l.init();return l};e.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent;var t=e.match(/(Android);?[\s\/]+([\d.]+)?/);var n=e.match(/(iPad).*OS\s([\d_]+)/);var i=e.match(/(iPod)(.*OS\s([\d_]+))?/);var r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||r||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===true||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===true||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){var e=document.createElement("div").style;var t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var n=0;n<t.length;n++){if(t[n]in e)return true}}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};var t=function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++){t[n]=e[n]}t.length=e.length;return this};var t=function(t,n){var i=[],r=0;if(t&&!n){if(t instanceof e){return t}}if(t){if(typeof t==="string"){var a,s,o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";if(o.indexOf("<li")===0)l="ul";if(o.indexOf("<tr")===0)l="tbody";if(o.indexOf("<td")===0||o.indexOf("<th")===0)l="tr";if(o.indexOf("<tbody")===0)l="table";if(o.indexOf("<option")===0)l="select";s=document.createElement(l);s.innerHTML=t;for(r=0;r<s.childNodes.length;r++){i.push(s.childNodes[r])}}else{if(!n&&t[0]==="#"&&!t.match(/[ .<>:~]/)){a=[document.getElementById(t.split("#")[1])]}else{a=(n||document).querySelectorAll(t)}for(r=0;r<a.length;r++){if(a[r])i.push(a[r])}}}else if(t.nodeType||t===window||t===document){i.push(t)}else if(t.length>0&&t[0].nodeType){for(r=0;r<t.length;r++){i.push(t[r])}}}return new e(i)};e.prototype={addClass:function(e){if(typeof e==="undefined"){return this}var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.add(t[n])}}return this},removeClass:function(e){var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.remove(t[n])}}return this},hasClass:function(e){if(!this[0])return false;else return this[0].classList.contains(e)},toggleClass:function(e){var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.toggle(t[n])}}return this},attr:function(e,t){if(arguments.length===1&&typeof e==="string"){if(this[0])return this[0].getAttribute(e);else return undefined}else{for(var n=0;n<this.length;n++){if(arguments.length===2){this[n].setAttribute(e,t)}else{for(var i in e){this[n][i]=e[i];this[n].setAttribute(i,e[i])}}}return this}},removeAttr:function(e){for(var t=0;t<this.length;t++){this[t].removeAttribute(e)}return this},data:function(e,t){if(typeof t==="undefined"){if(this[0]){var n=this[0].getAttribute("data-"+e);if(n)return n;else if(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[e];else return undefined}else return undefined}else{for(var i=0;i<this.length;i++){var r=this[i];if(!r.dom7ElementDataStorage)r.dom7ElementDataStorage={};r.dom7ElementDataStorage[e]=t}return this}},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){if(typeof e!=="string"){e=e+"ms"}for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,i,r){function a(e){var r=e.target;if(t(r).is(n))i.call(r,e);else{var a=t(r).parents();for(var s=0;s<a.length;s++){if(t(a[s]).is(n))i.call(a[s],e)}}}var s=e.split(" ");var o,l;for(o=0;o<this.length;o++){if(typeof n==="function"||n===false){if(typeof n==="function"){i=arguments[1];r=arguments[2]||false}for(l=0;l<s.length;l++){this[o].addEventListener(s[l],i,r)}}else{for(l=0;l<s.length;l++){if(!this[o].dom7LiveListeners)this[o].dom7LiveListeners=[];this[o].dom7LiveListeners.push({listener:i,liveListener:a});this[o].addEventListener(s[l],a,r)}}}return this},off:function(e,t,n,i){var r=e.split(" ");for(var a=0;a<r.length;a++){for(var s=0;s<this.length;s++){if(typeof t==="function"||t===false){if(typeof t==="function"){n=arguments[1];i=arguments[2]||false}this[s].removeEventListener(r[a],n,i)}else{if(this[s].dom7LiveListeners){for(var o=0;o<this[s].dom7LiveListeners.length;o++){if(this[s].dom7LiveListeners[o].listener===n){this[s].removeEventListener(r[a],this[s].dom7LiveListeners[o].liveListener,i)}}}}}}return this},once:function(e,t,n,i){var r=this;if(typeof t==="function"){t=false;n=arguments[1];i=arguments[2]}function a(s){n(s);r.off(e,t,a,i)}r.on(e,t,a,i)},trigger:function(e,t){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:true,cancelable:true})}catch(r){i=document.createEvent("Event");i.initEvent(e,true,true);i.detail=t}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,i,r=this;function a(i){if(i.target!==this)return;e.call(this,i);for(n=0;n<t.length;n++){r.off(t[n],a)}}if(e){for(n=0;n<t.length;n++){r.on(t[n],a)}}return this},width:function(){if(this[0]===window){return window.innerWidth}else{if(this.length>0){return parseFloat(this.css("width"))}else{return null}}},outerWidth:function(e){if(this.length>0){if(e)return this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left"));else return this[0].offsetWidth}else return null},height:function(){if(this[0]===window){return window.innerHeight}else{if(this.length>0){return parseFloat(this.css("height"))}else{return null}}},outerHeight:function(e){if(this.length>0){if(e)return this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom"));else return this[0].offsetHeight}else return null},offset:function(){if(this.length>0){var e=this[0];var t=e.getBoundingClientRect();var n=document.body;var i=e.clientTop||n.clientTop||0;var r=e.clientLeft||n.clientLeft||0;var a=window.pageYOffset||e.scrollTop;var s=window.pageXOffset||e.scrollLeft;return{top:t.top+a-i,left:t.left+s-r}}else{return null}},css:function(e,t){var n;if(arguments.length===1){if(typeof e==="string"){if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}else{for(n=0;n<this.length;n++){for(var i in e){this[n].style[i]=e[i]}}return this}}if(arguments.length===2&&typeof e==="string"){for(n=0;n<this.length;n++){this[n].style[e]=t}return this}return this},each:function(e){for(var t=0;t<this.length;t++){e.call(this[t],t,this[t])}return this},html:function(e){if(typeof e==="undefined"){return this[0]?this[0].innerHTML:undefined}else{for(var t=0;t<this.length;t++){this[t].innerHTML=e}return this}},is:function(n){if(!this[0])return false;var i,r;if(typeof n==="string"){var a=this[0];if(a===document)return n===document;if(a===window)return n===window;if(a.matches)return a.matches(n);else if(a.webkitMatchesSelector)return a.webkitMatchesSelector(n);else if(a.mozMatchesSelector)return a.mozMatchesSelector(n);else if(a.msMatchesSelector)return a.msMatchesSelector(n);else{i=t(n);for(r=0;r<i.length;r++){if(i[r]===this[0])return true}return false}}else if(n===document)return this[0]===document;else if(n===window)return this[0]===window;else{if(n.nodeType||n instanceof e){i=n.nodeType?[n]:n;for(r=0;r<i.length;r++){if(i[r]===this[0])return true}return false}return false}},index:function(){if(this[0]){var e=this[0];var t=0;while((e=e.previousSibling)!==null){if(e.nodeType===1)t++}return t}else return undefined},eq:function(t){if(typeof t==="undefined")return this;var n=this.length;var i;if(t>n-1){return new e([])}if(t<0){i=n+t;if(i<0)return new e([]);else return new e([this[i]])}return new e([this[t]])},append:function(t){var n,i;for(n=0;n<this.length;n++){if(typeof t==="string"){var r=document.createElement("div");r.innerHTML=t;while(r.firstChild){this[n].appendChild(r.firstChild)}}else if(t instanceof e){for(i=0;i<t.length;i++){this[n].appendChild(t[i])}}else{this[n].appendChild(t)}}return this},prepend:function(t){var n,i;for(n=0;n<this.length;n++){if(typeof t==="string"){var r=document.createElement("div");r.innerHTML=t;for(i=r.childNodes.length-1;i>=0;i--){this[n].insertBefore(r.childNodes[i],this[n].childNodes[0])}}else if(t instanceof e){for(i=0;i<t.length;i++){this[n].insertBefore(t[i],this[n].childNodes[0])}}else{this[n].insertBefore(t,this[n].childNodes[0])}}return this},insertBefore:function(e){var n=t(e);for(var i=0;i<this.length;i++){if(n.length===1){n[0].parentNode.insertBefore(this[i],n[0])}else if(n.length>1){for(var r=0;r<n.length;r++){n[r].parentNode.insertBefore(this[i].cloneNode(true),n[r])}}}},insertAfter:function(e){var n=t(e);for(var i=0;i<this.length;i++){if(n.length===1){n[0].parentNode.insertBefore(this[i],n[0].nextSibling)}else if(n.length>1){for(var r=0;r<n.length;r++){n[r].parentNode.insertBefore(this[i].cloneNode(true),n[r].nextSibling)}}}},next:function(n){if(this.length>0){if(n){if(this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n))return new e([this[0].nextElementSibling]);else return new e([])}else{if(this[0].nextElementSibling)return new e([this[0].nextElementSibling]);else return new e([])}}else return new e([])},nextAll:function(n){var i=[];var r=this[0];if(!r)return new e([]);while(r.nextElementSibling){var a=r.nextElementSibling;if(n){if(t(a).is(n))i.push(a)}else i.push(a);r=a}return new e(i)},prev:function(n){if(this.length>0){if(n){if(this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n))return new e([this[0].previousElementSibling]);else return new e([])}else{if(this[0].previousElementSibling)return new e([this[0].previousElementSibling]);else return new e([])}}else return new e([])},prevAll:function(n){var i=[];var r=this[0];if(!r)return new e([]);while(r.previousElementSibling){var a=r.previousElementSibling;if(n){if(t(a).is(n))i.push(a)}else i.push(a);r=a}return new e(i)},parent:function(e){var n=[];for(var i=0;i<this.length;i++){if(e){if(t(this[i].parentNode).is(e))n.push(this[i].parentNode)}else{n.push(this[i].parentNode)}}return t(t.unique(n))},parents:function(e){var n=[];for(var i=0;i<this.length;i++){var r=this[i].parentNode;while(r){if(e){if(t(r).is(e))n.push(r)}else{n.push(r)}r=r.parentNode}}return t(t.unique(n))},find:function(t){var n=[];for(var i=0;i<this.length;i++){var r=this[i].querySelectorAll(t);for(var a=0;a<r.length;a++){n.push(r[a])}}return new e(n)},children:function(n){var i=[];for(var r=0;r<this.length;r++){var a=this[r].childNodes;for(var s=0;s<a.length;s++){if(!n){if(a[s].nodeType===1)i.push(a[s])}else{if(a[s].nodeType===1&&t(a[s]).is(n))i.push(a[s])}}}return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++){if(this[e].parentNode)this[e].parentNode.removeChild(this[e])}return this},add:function(){var e=this;var n,i;for(n=0;n<arguments.length;n++){var r=t(arguments[n]);for(i=0;i<r.length;i++){e[e.length]=r[i];e.length++}}return e}};t.fn=e.prototype;t.unique=function(e){var t=[];for(var n=0;n<e.length;n++){if(t.indexOf(e[n])===-1)t.push(e[n])}return t};return t}();var n=["jQuery","Zepto","Dom7"];function i(t){t.fn.swiper=function(n){var i;t(this).each(function(){var t=new e(this,n);if(!i)i=t});return i}}for(var r=0;r<n.length;r++){if(window[n[r]]){i(window[n[r]])}}var a;if(typeof t==="undefined"){a=window.Dom7||window.Zepto||window.jQuery}else{a=t}if(a){if(!("transitionEnd"in a.fn)){a.fn.transitionEnd=function(e){var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,i,r=this;function a(i){if(i.target!==this)return;e.call(this,i);for(n=0;n<t.length;n++){r.off(t[n],a)}}if(e){for(n=0;n<t.length;n++){r.on(t[n],a)}}return this}}if(!("transform"in a.fn)){a.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}}if(!("transition"in a.fn)){a.fn.transition=function(e){if(typeof e!=="string"){e=e+"ms"}for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}}}window.Swiper=e})();if(true){e.exports=window.Swiper}else if(typeof define==="function"&&define.amd){define([],function(){"use strict";return window.Swiper})}},function(e,t){(function(e,t){var n=window.document,i=n.documentElement,r=e.fn.show,a=e.fn.hide,s=e.fn.toggle;function o(n,i,r,a,s){if(typeof i=="function"&&!s)s=i,i=t;var o={opacity:r};if(a){o.scale=a;n.css(e.fx.cssPrefix+"transform-origin","0 0")}return n.animate(o,i,null,s)}function l(t,n,i,r){return o(t,n,0,i,function(){a.call(e(this));r&&r.call(this)})}e.fn.toggle=function(n,i){if(n===t||typeof n=="boolean")return s.call(this,n);else return this.each(function(){var t=e(this);t[t.css("display")=="none"?"show":"hide"](n,i)})};e.fn.fadeTo=function(e,t,n){return o(this,e,t,null,n)};e.fn.fadeIn=function(e,t){var n=this.css("opacity");if(n>0)this.css("opacity",0);else n=1;return r.call(this).fadeTo(e,n,t)};e.fn.fadeOut=function(e,t){return l(this,e,null,t)};e.fn.fadeToggle=function(t,n){return this.each(function(){var i=e(this);i[i.css("opacity")==0||i.css("display")=="none"?"fadeIn":"fadeOut"](t,n)})};e.fn.hideElement=function(){this.addClass("hide")};e.fn.showElement=function(){this.removeClass("hide")};e.fn.toggleElement=function(e){this.toggleClass("hide",_.isUndefined(e)?t:!e)}})(Zepto)},function(e,t){(function(e){var t={},n,i,r,a,s=750,o;function l(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}function u(){a=null;if(t.last){if(t.el)t.el.trigger("longTap");t={}}}function c(){if(a)clearTimeout(a);a=null}function d(){if(n)clearTimeout(n);if(i)clearTimeout(i);if(r)clearTimeout(r);if(a)clearTimeout(a);n=i=r=a=null;t={}}function f(e){return(e.pointerType=="touch"||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function h(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}e(document).ready(function(){var p,m,_=0,g=0,v,b;if("MSGesture"in window){o=new MSGesture;o.target=document.body}e(document).bind("MSGestureEnd",function(e){var n=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;if(n){if(t.el)t.el.trigger("swipe");if(t.el)t.el.trigger("swipe"+n)}}).on("touchstart MSPointerDown pointerdown",function(i){if((b=h(i,"down"))&&!f(i))return;v=b?i:i.touches[0];if(i.touches&&i.touches.length===1&&t.x2){t.x2=undefined;t.y2=undefined}p=Date.now();m=p-(t.last||p);t.el=e("tagName"in v.target?v.target:v.target.parentNode);n&&clearTimeout(n);t.x1=v.pageX;t.y1=v.pageY;if(m>0&&m<=250)t.isDoubleTap=true;t.last=p;a=setTimeout(u,s);if(o&&b)o.addPointer(i.pointerId)}).on("touchmove MSPointerMove pointermove",function(e){if((b=h(e,"move"))&&!f(e))return;v=b?e:e.touches[0];c();t.x2=v.pageX;t.y2=v.pageY;_+=Math.abs(t.x1-t.x2);g+=Math.abs(t.y1-t.y2)}).on("touchend MSPointerUp pointerup",function(a){if((b=h(a,"up"))&&!f(a))return;c();if(t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30)r=setTimeout(function(){if(t.el)t.el.trigger("swipe");if(t.el)t.el.trigger("swipe"+l(t.x1,t.x2,t.y1,t.y2));t={}},0);else if("last"in t)if(_<30&&g<30){i=setTimeout(function(){var i=e.Event("tap");

i.cancelTouch=d;if(t.el)t.el.trigger(i);if(t.isDoubleTap){if(t.el)t.el.trigger("doubleTap");t={}}else{n=setTimeout(function(){n=null;if(t.el)t.el.trigger("singleTap");t={}},250)}},0)}else{t={}}_=g=0}).on("touchcancel MSPointerCancel pointercancel",d);e(window).on("scroll",d)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})})(Zepto)},function(e,t){var n;var i={read:"GET",update:"PUT",create:"POST","delete":"DELETE"};var r=["read","update","create","delete"];var a=function(e){e()};var s={};var o={};var l=function(e,t,n){e=e||{};e.xhr=e.xhr||{};this.request=e;this.status=e.xhr.status;this.responseText=e.xhr.responseText;this.textStatus=t;this.errorThrown=n;if(typeof this.responseText==="string"&&this.responseText.length>0){try{var i=this.request.xhr.getResponseHeader("Content-Type");if(i&&i.indexOf("application/json")===0){this.payload=JSON.parse(this.responseText);this.code=this.payload.error;this.message=this.payload.error_message}}catch(r){}}};_.extend(l.prototype,{toString:function(){return"HTTP error: "+this.status+"\ntype: "+this.textStatus+"\nerror: "+this.errorThrown+"\nresponse: "+this.responseText+"\ncode: "+this.code+"\nmessage: "+this.message}});var u=function(e,t){this.params=e;this.debug=t;this.state={}};_.extend(u.prototype,{execute:function(e,t,n){if(e){this.params.headers=this.params.headers||{};this.params.headers["OAuth-Token"]=e}if(t){this.params.headers=this.params.headers||{};this.params.headers["X-Metadata-Hash"]=t}if(n){this.params.headers=this.params.headers||{};this.params.headers["X-Userpref-Hash"]=n}this.state=_.extend(this.state,o);if(this.debug){console.log("====== Ajax Request Begin ======");console.log(this.params.type+" "+this.params.url);var i=this.params.data?JSON.parse(this.params.data):null;if(i&&i.password)i.password="***";console.log("Payload: ",this.params.data?i:"N/A");var r=$.extend({},this.params);delete r.data;console.log("params: ",r);console.log("====== Request End ======")}this.xhr=$.ajax(this.params)}});var c=function(e,t){var n=e.contents||{};this.status=e.status||200;this.statusText=e.status_text||"";this.responseText=_.isObject(n)?JSON.stringify(n):n;this.readyState=4;this._parent=t.xhr;this.headers=e.headers};_.extend(c.prototype,{isResolved:function(){return this._parent.isResolved()},getResponseHeader:function(e){return this.headers[e]},getAllResponseHeaders:function(){return _.reduce(this.headers,function(e,t,n){return e.concat(n+": "+t+"\n")},"")}});function d(e){var t,n,d,f,h,p,m,g,v,b=null,y=null,x=null,S=null,w=[],L={},E=0;d=e&&e.keyValueStore;t=e&&e.serverUrl||"/rest/v10";m=e&&e.defaultErrorHandler||null;n=e&&e.platform||"";f=e&&e.clientID||"sugar";h=(e&&e.timeout||30)*1e3;g=false;v=!(e&&e.disableBulkApi);if(e&&e.externalLoginUICallback&&_.isFunction(e.externalLoginUICallback)){b=e.externalLoginUICallback}if(d){if(!$.isFunction(d.set)||!$.isFunction(d.get)||!$.isFunction(d.cut)){throw new Error("Failed to initialize Sugar API: key/value store provider is invalid")}var k=function(){y=d.get("AuthAccessToken");x=d.get("AuthRefreshToken");S=d.get("DownloadToken")};if($.isFunction(d.initAsync)){d.initAsync(k)}else{k()}if($.isFunction(d.on)){d.on("cache:clean",function(e){e(["AuthAccessToken","AuthRefreshToken","DownloadToken"])})}}p=false;var A=function(e){if(e){y=e.access_token;x=e.refresh_token;S=e.download_token;if(d){d.set("AuthAccessToken",y);d.set("AuthRefreshToken",x);d.set("DownloadToken",S)}}else{y=null;x=null;S=null;if(d){d.cut("AuthAccessToken");d.cut("AuthRefreshToken");d.cut("DownloadToken")}}};var M=function(e,t,i){return function(r,s,o){var u=new l(t,s,o);var c=function(){if(!w.length||e.refreshingToken(t.params.url)){if(i.error){i.error(u)}else if($.isFunction(e.defaultErrorHandler)){e.defaultErrorHandler(u)}}else{for(var n=0;n<w.length;++n){if(w[n]._oerror)w[n]._oerror(u)}}e.setRefreshingToken(false)};var d,f=true;if(e.needRefreshAuthToken(t.params.url,u.code)){if(t._dequeuing){if(t._oerror)t._oerror(u);e.resetAuth();return}w.push(t);e.setRefreshingToken(true);var h={complete:function(){if(f){d=w.shift();while(d){if(d._ocomplete){d._ocomplete.call(this,d)}d=w.shift()}}},success:function(){e.setRefreshingToken(false);f=false;a(function(){d=w.shift();while(d){d._dequeuing=true;d.execute(e.getOAuthToken());d=w.shift()}})},error:c};if(!("crosstab"in window)||!crosstab.supported){e.login(null,{refresh:true},{complete:h.complete,success:h.success,error:h.error});return}crosstab(function(){crosstab.on("auth:refresh:complete",function(e){var t=e.data;switch(t){case"success":h.success();break;case"error":h.error();break;case"complete":h.complete();crosstab.off("auth:refresh:complete");break}});crosstab.broadcastMaster("auth:refresh")})}else if(e.needQueue(t.params.url)){w.push(t)}else if(g&&u.status==401&&u.payload&&u.payload.url&&u.payload.platform==n){e.handleExternalLogin(t,u,c)}else{c()}}};return{clientID:f,serverUrl:t,defaultErrorHandler:m,timeout:h,debug:false,abortRequest:function(e){var t=L[e];if(t){t.aborted=true;if(t.xhr){t.xhr.aborted=true;t.xhr.abort()}}},getRequest:function(e){return L[e]},setRefreshTokenSuccessCallback:function(e){if(_.isFunction(e))a=e},call:function(e,t,n,r,a){var o,l,c=i[e],d=this,f=this.getOAuthToken();a=a||{};r=r||{};var h={type:c,dataType:"json",headers:{},timeout:a.timeout||this.timeout,contentType:"application/json"};if(!a.url){h.url=t}if(r.success){h.success=function(e,t){o.status=e&&e.status?e.status:t;r.success(e,o)}}h.complete=function(){L[o.uid]=null;if(!p&&r.complete){r.complete(o)}};if(a.iframe===true){if(f){n=n||{};n["OAuth-Token"]=f;h.data=n}}else{if(n&&(e=="create"||e=="update"||e=="delete")){h.data=JSON.stringify(n)}}if(h.type!=="GET"){h.processData=false}o=new u(_.extend(h,a),this.debug);h.error=M(d,o,r);o._oerror=r.error;o._ocomplete=r.complete;o.uid=E++;L[o.uid]=o;l=[f,a.skipMetadataHash?null:this.getMetadataHash(),a.skipMetadataHash?null:this.getUserprefHash()];if(this.isLoginRequest(t)){o.execute()}else if(this.isAuthRequest(t)){o.execute(f)}else if(h.bulk&&v){var m=s[h.bulk]||[];if(!s[h.bulk]){s[h.bulk]=m}m.push({request:o,args:l})}else{o.execute.apply(o,l)}return o},triggerBulkCall:function(e){if(!v){return}e=e||true;var t=s[e],n=[],i=_.last(this.serverUrl.split("/"));if(!t){return}_.each(t,function(e){var t=e.request.params,r=e.args,a=r[0],s=r[1],o=r[2];if(a){t.headers=t.headers||{};t.headers["OAuth-Token"]=a}if(s){t.headers=t.headers||{};t.headers["X-Metadata-Hash"]=s}if(o){t.headers=t.headers||{};t.headers["X-Userpref-Hash"]=o}if(!_.isEmpty(t.url)){t.url=i+t.url.substring(this.serverUrl.length)}n.push(t)},this);this.call("create",this.buildURL("bulk"),{requests:n},{success:function(e,n){_.each(t,function(t,i){var r=t.request,a=e[i],s=a.contents||{},o=new c(a,n);r.xhr=o;if(r.aborted===true||s.error){r.status="error";if(_.isFunction(r.params.error)){r.params.error.call(r.params,r,"error",o.statusText)}}else{if(_.isFunction(r.params.success)){r.params.success.call(r.params,s,"success")}}if(_.isFunction(r.params.complete)){r.params.complete.call(r.params,r)}})}});s[e]=null},clearBulkQueue:function(){s={}},buildURL:function(e,t,n,i){i=i||{};var a=[];var s;a.push(this.serverUrl);if(e){a.push(e)}if(t!="create"&&n&&n.id){a.push(n.id)}if(n&&n.link&&t!="file"){a.push("link");if(_.isString(n.link)){a.push(n.link)}}if(t&&$.inArray(t,r)===-1){a.push(t)}if(n&&n.relatedId){a.push(n.relatedId)}if(n&&t=="file"&&n.field){a.push(n.field);if(n.fileId)a.push(n.fileId)}s=a.join("/");_.each(i,function(e,t){if(e===null||e===undefined){delete i[t]}});i=$.param(i);if(i.length>0){s+="?"+i}return s},buildFileURL:function(e,t){var i={};t=t||{};if(e.field&&t.htmlJsonFormat!==false){i.format="sugar-html-json"}if(t.deleteIfFails===true){i.delete_if_fails=true}if(t.passOAuthToken){i.oauth_token=this.getOAuthToken()}if(t.passDownloadToken){i.download_token=this.getDownloadToken()}if(!_.isUndefined(t.forceDownload)){i.force_download=t.forceDownload?1:0}if(t.cleanCache===true){i[(new Date).getTime()]=1}if(t.platform!==undefined){i.platform=t.platform}else if(n){i.platform=n}if(t.keep===true){i.keep=1}return this.buildURL(e.module,"file",e,i)},getOAuthToken:function(){return d?d.get("AuthAccessToken")||y:y},getRefreshToken:function(){return d?d.get("AuthRefreshToken")||x:x},getDownloadToken:function(){return d?d.get("DownloadToken")||S:S},getMetadataHash:function(){return d?d.get("meta:hash"):null},getUserprefHash:function(){return d?d.get("userpref:hash"):null},getMetadata:function(e){if(_.isString(e)){console.warn("`SUGAR.Api::getMetadata` has changed signature since 7.9 "+"and will drop support for old signature in 7.10. Please update your code.");var t=arguments[4]||{};e={types:arguments[1],modules:arguments[2],callbacks:arguments[3],"public":t.getPublic,params:t.params}}e=e||{};var i=e.params||{};if(e.types){i.type_filter=e.types.join(",")}if(e.modules){i.module_filter=e.modules.join(",")}if(n){i.platform=n}var r="read";if(e.public){r="public"}else{e.callbacks=e.callbacks||{};e.callbacks.success=_.wrap(e.callbacks.success,function(e,t,n){if(t){this._serverInfo=t.server_info}if(e){e(t,n)}})}i.module_dependencies=1;var a=this.buildURL("metadata",r,null,i);return this.call(r,a,null,e.callbacks)},records:function(e,t,n,i,r,a){var s=this.buildURL(t,e,n,i);return this.call(e,s,n,r,a)},relationships:function(e,t,n,i,r,a){var s=this.buildURL(t,null,n,i);return this.call(e,s,n.related,r,a)},favorite:function(e,t,n,i,r){var a=n?"favorite":"unfavorite";var s=this.buildURL(e,a,{id:t});return this.call("update",s,null,i,r)},follow:function(e,t,n,i,r){i=i||{};r=r||{};var a=n?"create":"delete",s=n?"subscribe":"unsubscribe",o=this.buildURL(e,s,{id:t});return this.call(a,o,null,i,r)},enumOptions:function(e,t,n,i){var r=this.buildURL(e+"/enum/"+t);return this.call("read",r,null,n,i)},bulk:function(e,t,n){var i=this.buildURL("bulk");return this.call("create",i,e,t,n)},fileDownload:function(e,t,n){t=t||{};n=n||{};var i={};i.success=function(i){if(n.iframe){n.iframe.prepend('<iframe class="hide" src="'+e+'"></iframe>')}else{window.location.href=e}if(_.isFunction(t.success)){t.success.apply(arguments)}};if(_.isFunction(t.error)){i.error=t.error}if(_.isFunction(t.complete)){i.complete=t.complete}return this.call("read",this.buildURL("ping"),{},i,{processData:false})},file:function(e,t,n,i,r){var a={files:n,processData:false};if(e==="delete"){a.iframe=false}else if(!r||r.iframe!==false){a.iframe=true;r=r||{};r.passOAuthToken=true}if(!r||r.deleteIfFails!==false){r=r||{};r.deleteIfFails=true}i.success=_.wrap(i.success,function(e,t){if(t.error&&_.isFunction(i.error)){i.error(t)}else if(_.isFunction(e)){e(t)}});return this.call(e,this.buildFileURL(t,r),null,i,a)},count:function(e,t,n,i){i=i||{};var r=this.buildURL(e,"count",t,i);return this.call("read",r,null,n)},exportRecords:function(e,t,i,r){var a=this;var s=this.buildURL(e.module,"record_list");r=r||{};return this.call("create",s,{records:e.uid},{success:function(s){e=_.omit(e,["uid","module"]);if(r.platform!==undefined){e.platform=r.platform}else if(n){e.platform=n}a.fileDownload(a.buildURL(s.module_name,"export",{relatedId:s.id},e),i,{iframe:t})}})},search:function(e,t,n){n=n||{};var i=null;if(n.data){i=n.data;delete n.data}var r="read";if(n.fetchWithPost){r="create"}var a=n.useNewApi?"globalsearch":"search";var s=this.buildURL(null,a,null,e);return this.call(r,s,i,t,n)},login:function(e,t,i){var r,s,o,l,u,c=this;e=e||{};i=i||{};s=function(e){A(e);if(g){c.setRefreshingToken(false);a(function(){var e=w.shift();while(e){e._dequeuing=true;e.execute(c.getOAuthToken());e=w.shift()}})}if(i.success)i.success(e)};o=function(e){A();if(i.error)i.error(e)};if(t&&t.refresh){r=_.extend({grant_type:"refresh_token",client_id:this.clientID,client_secret:"",refresh_token:this.getRefreshToken(),platform:n?n:"base"},t)}else{r=_.extend({grant_type:"password",username:e.username,password:e.password,client_id:this.clientID,platform:n?n:"base",client_secret:""},t);r.client_info=t}l="create";u=this.buildURL("oauth2","token",r,{platform:n});return this.call(l,u,r,{success:s,error:o,complete:i.complete})},me:function(e,t,n,i){var r=this.buildURL("me",e,t,n);return this.call(e,r,t,i)},css:function(e,t,n){var i={platform:e,themeName:t};var r=this.buildURL("css","read",{},i);return this.call("read",r,{},n)},logout:function(e,t){e=e||{};var n={token:this.getOAuthToken(),refresh_token:this.getRefreshToken()};if(this._serverInfo&&this._serverInfo.version.charAt(0)==="6"){delete n.refresh_token}var i=this.buildURL("oauth2","logout",n);var r=e.complete;e.complete=function(){A();if(r)r()};return this.call("create",i,n,e,t)},ping:function(e,t,i){return this.call("read",this.buildURL("ping",e,null,{platform:n}),null,t,_.extend({skipMetadataHash:true},i||{}))},signup:function(e,t,n){var i=e;i.client_info=t;var r="create";var a=this.buildURL("Leads","register",i);return this.call(r,a,i,n)},verifyPassword:function(e,t){var n={password_to_verify:e};var i="create";var r=this.buildURL("me/password",i);return this.call(i,r,n,t)},updatePassword:function(e,t,n){var i={new_password:t,old_password:e};var r="update";var a=this.buildURL("me/password",r);return this.call(r,a,i,n)},info:function(e){var t=this.buildURL("ServerInfo");return this.call("read",t,null,e)},isAuthenticated:function(){return typeof this.getOAuthToken()==="string"&&this.getOAuthToken().length>0},resetAuth:function(){A()},needRefreshAuthToken:function(e,t){return!p&&(typeof this.getRefreshToken()==="string"&&this.getRefreshToken().length>0)&&!this.isAuthRequest(e)&&t==="invalid_grant"},needQueue:function(e){return p&&!this.isAuthRequest(e)},isAuthRequest:function(e){return new RegExp("/oauth2/").test(e)},isLoginRequest:function(e){return new RegExp("/oauth2/token").test(e)},refreshingToken:function(e){return p&&this.isAuthRequest(e)},setRefreshingToken:function(e){p=e},handleExternalLogin:function(e,t,n){var i=this;if(!i.isLoginRequest(e.params.url)){w.push(e)}i.setRefreshingToken(true);$(window).on("message",function(e){if(!e.originalEvent.origin||e.originalEvent.origin!==window.location.origin){return}$(window).on("message",null);var t=$.parseJSON(e.originalEvent.data);if(!t||!t.access_token){n()}i.setRefreshingToken(false);A(t);a(function(){var e=w.shift();while(e){e.execute(i.getOAuthToken());e=w.shift()}})});if(_.isFunction(b)){b(t.payload.url,"_blank","width=600,height=400,centerscreen=1,resizable=1")}},isExternalLogin:function(){return g},setExternalLogin:function(e){g=e},setExternalLoginUICallback:function(e){if(_.isFunction(e)){b=e}},getStateProperty:function(e){return o[e]},setStateProperty:function(e,t){o[e]=t},clearStateProperty:function(e){delete o[e]},resetState:function(){o={}}}}e.exports={getInstance:function(e){return n||this.createInstance(e)},createInstance:function(e){n=new d(e);if(!("crosstab"in window)||!crosstab.supported){return n}crosstab(function(){crosstab.on("auth:refresh",_.bind(function(){if(this._runningRefreshToken){return}this._runningRefreshToken=true;var e=this;this.login(null,{refresh:true},{complete:function(){crosstab.broadcast("auth:refresh:complete","complete")},success:function(){delete e._runningRefreshToken;crosstab.broadcast("auth:refresh:complete","success")},error:function(){delete e._runningRefreshToken;crosstab.broadcast("auth:refresh:complete","error")}})},n))});return n},HttpError:l,HttpRequest:u}},function(e,t,n){(function(n,i){var r,a;(function(){var s={};var o,l;o=this;if(o!=null){l=o.async}s.noConflict=function(){o.async=l;return s};function u(e){var t=false;return function(){if(t)throw new Error("Callback was already called.");t=true;e.apply(o,arguments)}}var c=Object.prototype.toString;var d=Array.isArray||function(e){return c.call(e)==="[object Array]"};var f=function(e,t){if(e.forEach){return e.forEach(t)}for(var n=0;n<e.length;n+=1){t(e[n],n,e)}};var h=function(e,t){if(e.map){return e.map(t)}var n=[];f(e,function(e,i,r){n.push(t(e,i,r))});return n};var p=function(e,t,n){if(e.reduce){return e.reduce(t,n)}f(e,function(e,i,r){n=t(n,e,i,r)});return n};var m=function(e){if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t};if(typeof n==="undefined"||!n.nextTick){if(typeof i==="function"){s.nextTick=function(e){i(e)};s.setImmediate=s.nextTick}else{s.nextTick=function(e){setTimeout(e,0)};s.setImmediate=s.nextTick}}else{s.nextTick=n.nextTick;if(typeof i!=="undefined"){s.setImmediate=function(e){i(e)}}else{s.setImmediate=s.nextTick}}s.each=function(e,t,n){n=n||function(){};if(!e.length){return n()}var i=0;f(e,function(e){t(e,u(r))});function r(t){if(t){n(t);n=function(){}}else{i+=1;if(i>=e.length){n()}}}};s.forEach=s.each;s.eachSeries=function(e,t,n){n=n||function(){};if(!e.length){return n()}var i=0;var r=function(){t(e[i],function(t){if(t){n(t);n=function(){}}else{i+=1;if(i>=e.length){n()}else{r()}}})};r()};s.forEachSeries=s.eachSeries;s.eachLimit=function(e,t,n,i){var r=_(t);r.apply(null,[e,n,i])};s.forEachLimit=s.eachLimit;var _=function(e){return function(t,n,i){i=i||function(){};if(!t.length||e<=0){return i()}var r=0;var a=0;var s=0;(function o(){if(r>=t.length){return i()}while(s<e&&a<t.length){a+=1;s+=1;n(t[a-1],function(e){if(e){i(e);i=function(){}}else{r+=1;s-=1;if(r>=t.length){i()}else{o()}}})}})()}};var g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.each].concat(t))}};var v=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[_(e)].concat(n))}};var b=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.eachSeries].concat(t))}};var y=function(e,t,n,i){t=h(t,function(e,t){return{index:t,value:e}});if(!i){e(t,function(e,t){n(e.value,function(e){t(e)})})}else{var r=[];e(t,function(e,t){n(e.value,function(n,i){r[e.index]=i;t(n)})},function(e){i(e,r)})}};s.map=g(y);s.mapSeries=b(y);s.mapLimit=function(e,t,n,i){return x(t)(e,n,i)};var x=function(e){return v(e,y)};s.reduce=function(e,t,n,i){s.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n;i(e)})},function(e){i(e,t)})};s.inject=s.reduce;s.foldl=s.reduce;s.reduceRight=function(e,t,n,i){var r=h(e,function(e){return e}).reverse();s.reduce(r,t,n,i)};s.foldr=s.reduceRight;var S=function(e,t,n,i){var r=[];t=h(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(n){r.push(e)}t()})},function(e){i(h(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.filter=g(S);s.filterSeries=b(S);s.select=s.filter;s.selectSeries=s.filterSeries;var w=function(e,t,n,i){var r=[];t=h(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(!n){r.push(e)}t()})},function(e){i(h(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.reject=g(w);s.rejectSeries=b(w);var L=function(e,t,n,i){e(t,function(e,t){n(e,function(n){if(n){i(e);i=function(){}}else{t()}})},function(e){i()})};s.detect=g(L);s.detectSeries=b(L);s.some=function(e,t,n){s.each(e,function(e,i){t(e,function(e){if(e){n(true);n=function(){}}i()})},function(e){n(false)})};s.any=s.some;s.every=function(e,t,n){s.each(e,function(e,i){t(e,function(e){if(!e){n(false);n=function(){}}i()})},function(e){n(true)})};s.all=s.every;s.sortBy=function(e,t,n){s.map(e,function(e,n){t(e,function(t,i){if(t){n(t)}else{n(null,{value:e,criteria:i})}})},function(e,t){if(e){return n(e)}else{var i=function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0};n(null,h(t.sort(i),function(e){return e.value}))}})};s.auto=function(e,t){t=t||function(){};var n=m(e);var i=n.length;if(!i){return t()}var r={};var a=[];var o=function(e){a.unshift(e)};var l=function(e){for(var t=0;t<a.length;t+=1){if(a[t]===e){a.splice(t,1);return}}};var u=function(){i--;f(a.slice(0),function(e){e()})};o(function(){if(!i){var e=t;t=function(){};e(null,r)}});f(n,function(n){var i=d(e[n])?e[n]:[e[n]];var a=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}if(e){var a={};f(m(r),function(e){a[e]=r[e]});a[n]=i;t(e,a);t=function(){}}else{r[n]=i;s.setImmediate(u)}};var c=i.slice(0,Math.abs(i.length-1))||[];var h=function(){return p(c,function(e,t){return e&&r.hasOwnProperty(t)},true)&&!r.hasOwnProperty(n)};if(h()){i[i.length-1](a,r)}else{var _=function(){if(h()){l(_);i[i.length-1](a,r)}};o(_)}})};s.retry=function(e,t,n){var i=5;var r=[];if(typeof e==="function"){n=t;t=e;e=i}e=parseInt(e,10)||i;var a=function(i,a){var o=function(e,t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i})},a)}};while(e){r.push(o(t,!(e-=1)))}s.series(r,function(e,t){t=t[t.length-1];(i||n)(t.err,t.result)})};return n?a():a};s.waterfall=function(e,t){t=t||function(){};if(!d(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length){return t()}var i=function(e){return function(n){if(n){t.apply(null,arguments);t=function(){}}else{var r=Array.prototype.slice.call(arguments,1);var a=e.next();if(a){r.push(i(a))}else{r.push(t)}s.setImmediate(function(){e.apply(null,r)})}}};i(s.iterator(e))()};var E=function(e,t,n){n=n||function(){};if(d(t)){e.map(t,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},n)}else{var i={};e.each(m(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1){r=r[0]}i[e]=r;n(t)})},function(e){n(e,i)})}};s.parallel=function(e,t){E({map:s.map,each:s.each},e,t)};s.parallelLimit=function(e,t,n){E({map:x(t),each:_(t)},e,n)};s.series=function(e,t){t=t||function(){};if(d(e)){s.mapSeries(e,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},t)}else{var n={};s.eachSeries(m(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1){r=r[0]}n[t]=r;i(e)})},function(e){t(e,n)})}};s.iterator=function(e){var t=function(n){var i=function(){if(e.length){e[n].apply(null,arguments)}return i.next()};i.next=function(){return n<e.length-1?t(n+1):null};return i};return t(0)};s.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var k=function(e,t,n,i){var r=[];e(t,function(e,t){n(e,function(e,n){r=r.concat(n||[]);t(e)})},function(e){i(e,r)})};s.concat=g(k);s.concatSeries=b(k);s.whilst=function(e,t,n){if(e()){t(function(i){if(i){return n(i)}s.whilst(e,t,n)})}else{n()}};s.doWhilst=function(e,t,n){e(function(i){if(i){return n(i)}var r=Array.prototype.slice.call(arguments,1);if(t.apply(null,r)){s.doWhilst(e,t,n)}else{n()}})};s.until=function(e,t,n){if(!e()){t(function(i){if(i){return n(i)}s.until(e,t,n)})}else{n()}};s.doUntil=function(e,t,n){e(function(i){if(i){return n(i)}var r=Array.prototype.slice.call(arguments,1);if(!t.apply(null,r)){s.doUntil(e,t,n)}else{n()}})};s.queue=function(e,t){if(t===undefined){t=1}function n(e,t,n,i){if(!e.started){e.started=true}if(!d(t)){t=[t]}if(t.length==0){return s.setImmediate(function(){if(e.drain){e.drain()}})}f(t,function(t){var r={data:t,callback:typeof i==="function"?i:null};if(n){e.tasks.unshift(r)}else{e.tasks.push(r)}if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}s.setImmediate(e.process)})}var i=0;var r={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(e,t){n(r,e,false,t)},kill:function(){r.drain=null;r.tasks=[]},unshift:function(e,t){n(r,e,true,t)},process:function(){if(!r.paused&&i<r.concurrency&&r.tasks.length){var t=r.tasks.shift();if(r.empty&&r.tasks.length===0){r.empty()}i+=1;var n=function(){i-=1;if(t.callback){t.callback.apply(t,arguments)}if(r.drain&&r.tasks.length+i===0){r.drain()}r.process()};var a=u(n);e(t.data,a)}},length:function(){return r.tasks.length},running:function(){return i},idle:function(){return r.tasks.length+i===0},pause:function(){if(r.paused===true){return}r.paused=true;r.process()},resume:function(){if(r.paused===false){return}r.paused=false;r.process()}};return r};s.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){var i=-1,r=e.length-1;while(i<r){var a=i+(r-i+1>>>1);if(n(t,e[a])>=0){i=a}else{r=a-1}}return i}function r(e,t,r,a){if(!e.started){e.started=true}if(!d(t)){t=[t]}if(t.length==0){return s.setImmediate(function(){if(e.drain){e.drain()}})}f(t,function(t){var o={data:t,priority:r,callback:typeof a==="function"?a:null};e.tasks.splice(i(e.tasks,o,n)+1,0,o);if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}s.setImmediate(e.process)})}var a=s.queue(e,t);a.push=function(e,t,n){r(a,e,t,n)};delete a.unshift;return a};s.cargo=function(e,t){var n=false,i=[];var r={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:true,push:function(e,n){if(!d(e)){e=[e]}f(e,function(e){i.push({data:e,callback:typeof n==="function"?n:null});r.drained=false;if(r.saturated&&i.length===t){r.saturated()}});s.setImmediate(r.process)},process:function a(){if(n)return;if(i.length===0){if(r.drain&&!r.drained)r.drain();r.drained=true;return}var s=typeof t==="number"?i.splice(0,t):i.splice(0,i.length);var o=h(s,function(e){return e.data});if(r.empty)r.empty();n=true;e(o,function(){n=false;var e=arguments;f(s,function(t){if(t.callback){t.callback.apply(null,e)}});a()})},length:function(){return i.length},running:function(){return n}};return r};var A=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else if(console[e]){f(n,function(t){console[e](t)})}}}]))}};s.log=A("log");s.dir=A("dir");s.memoize=function(e,t){var n={};var i={};t=t||function(e){return e};var r=function(){var r=Array.prototype.slice.call(arguments);var a=r.pop();var o=t.apply(null,r);if(o in n){s.nextTick(function(){a.apply(null,n[o])})}else if(o in i){i[o].push(a)}else{i[o]=[a];e.apply(null,r.concat([function(){n[o]=arguments;var e=i[o];delete i[o];for(var t=0,r=e.length;t<r;t++){e[t].apply(null,arguments)}}]))}};r.memo=n;r.unmemoized=e;return r};s.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};s.times=function(e,t,n){var i=[];for(var r=0;r<e;r++){i.push(r)}return s.map(i,t,n)};s.timesSeries=function(e,t,n){var i=[];for(var r=0;r<e;r++){i.push(r)}return s.mapSeries(i,t,n)};s.seq=function(){var e=arguments;return function(){var t=this;var n=Array.prototype.slice.call(arguments);var i=n.pop();s.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}};s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var M=function(e,t){var n=function(){var n=this;var i=Array.prototype.slice.call(arguments);var r=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}else{return n}};s.applyEach=g(M);s.applyEachSeries=b(M);s.forever=function(e,t){function n(i){if(i){if(t){return t(i)}throw i}e(n)}n()};if(typeof e!=="undefined"&&e.exports){e.exports=s}else if(true){!(r=[],a=function(){return s}.apply(t,r),a!==undefined&&(e.exports=a))}else{o.async=s}})()}).call(t,n(57),n(206).setImmediate)},function(e,t,n){"use strict";var i=SUGAR.App;var r={_components:[],add:function a(e){if(!_.isFunction(e.onClose)){throw new Error("Unable to register "+e+". Component `onClose` method is missed.")}else{this._components=_.union(this._components,[e])}},remove:function s(e){this._components=_.without(this._components,e)},close:function o(e){if(_.contains(this._components,e)){e.onClose();this.remove(e)}},closeAll:function l(){_.each(this._components,function(e){this.close(e)},this)},hasActiveComponents:function u(){return this._components.length>0},closeRecent:function c(){this.close(_.last(this._components))}};i.augment("activeComponents",r,false)},function(e,t,n){"use strict";var i=n(49);(function(t){var n=false;var i=false;var r=null;var a="";var s=/^(.*):([\-\w]+)\.?(\S+)?$/;var o={OFFLINE_MODE:1,CONNECTION:2,SUGAR_INSTANCE:3,NPS:4};var l={init:function u(){var e=t.config.analytics;var a=t.isNative?e.trackers.native:e.trackers.web;var s=_.isObject(a)?a.id:a;var o=e.enabled&&!_.isEmpty(s);a=_.defaults(_.isObject(a)?a:{},e.trackers.default);var l=e.trackers.sdk||{};var u=!_.isEmpty(l.id);l=_.defaults(l,e.trackers.default);var c=o||u;if(c){if(typeof Analytics==="undefined"){t.nomad.loadAnalytics()}if(typeof Analytics!=="undefined"){if(!n&&o){this.initialize();this._attachAnalytics();analytics.start(s,a);t.logger.debug("Analytics enabled for application "+s)}else if(!o){n=false}if(!i&&u){this.initializeSdkTracking();r=l.trackerName;analytics.start(l.id,l);t.logger.debug("Analytics enabled for SDK "+l.id)}else if(!u){i=false}}}if(!c||!n&&!i){this.dispose()}},processConfig:function c(e){var n={};if(!t.config.analytics.ignoreServerSetting&&e.analytics&&!t.isNative){n.analytics=_.extend({},t.config.analytics,{enabled:Boolean(e.analytics.enabled)})}return n},initialize:function d(){t.events.on("app:view:change",function(e){var t={module:"",layoutType:"",track:"",link:e.link};if(e.action){this._handleGAForActions(e,t)}else if(e.parentModelId){this._handleGAForParentModule(e,t)}else if(e.root){this._handleGAForRootModules(e,t)}else if(e.isDynamic&&e.gaTrack){this._handleGAForDynamics(e,t)}else if(e.isDynamic){return}else{t.layoutType=e.modelId?"detail":"list";t.module=e.module||e.parentModule||e.root}this._buildViewIdAndTrack(t)},this).on("app:start",function(){if(t.api.isAuthenticated()){this._trackServerInstance(t.config.siteUrl)}},this).on("app:login:success",function(){this.trackEvent({category:"useHttps",action:t.loginManager.getSetting("useHttps")?"enabled":"disabled"})},this).on("app:sync:complete",function(){var e=t.metadata.getServerInfo();this.trackEvent({category:"login",action:e.version});this._trackServerInstance(t.config.siteUrl)},this).on("offline:toggled",function(e){this.setDimension({index:o.OFFLINE_MODE,value:e?"enabled":"disabled"})},this).on("offline:failure",function(e){this.trackEvent({category:"offline-failure",action:e.code})},this).on("offline:encryption:complete",function(e){this.trackEvent({category:"storage-encryption",action:e?"failed":"success"})},this).on("offline:tx:create",function(e){this.trackEvent({category:"tx-create",action:t.offline.utils.actionToSymbol(e.txOptions)})},this).on("offline:tx:success",function(e){this.trackEvent({category:"tx-success",action:t.offline.utils.actionToSymbol(e.tx),value:t.offline.utils.getTxAge(e.tx)})},this).on("offline:tx:error",function(e){this.trackEvent({category:"tx-error",action:e.errorCode||"unknown",value:t.offline.utils.getTxAge(e.tx),label:t.offline.utils.actionToSymbol(e.tx)})},this).on("offline:tx:rollback",function(e){this.trackEvent({category:"tx-rollback",action:t.offline.utils.actionToSymbol(e.tx),value:t.offline.utils.getTxAge(e.tx)})},this).on("offline:wins:completed",function(e){this.trackEvent({category:"offline:wins",action:"synced",value:e.syncedRecords,label:"numRecords"})},this);n=true},initializeSdkTracking:function f(){t.events.on("app:start",function(){var e=_.getNested(t,"clientInfo.app.bundleId");var n=t.config.sdkVersion;this._trackSdk({category:"version",action:n,label:e});this._trackSdk({category:"product",action:t.config.productName,label:n});this._trackSdk({category:"bundleId",action:e,label:n});if(t.api.isAuthenticated()){this._trackSdkServerInfo()}},this).on("app:sync:complete",function(){this._trackSdkServerInfo()},this);i=true},onAppPause:function h(){this.trackEvent({category:"device",action:"pause"})},onAppResume:function p(){this.trackEvent({category:"device",action:"resume"})},setNpsRating:function m(e){this.setDimension({index:o.NPS,value:e})},_handleGAForParentModule:function g(e,t){t.module=e.parentModule;

if(e.modelId){t.layoutType="details"}else if(e.dashletId){this._handleGAForDashlets(e,t)}else{t.layoutType="relationships"}},_handleGAForRootModules:function v(e,n){switch(e.root){case"Login":n.layoutType=e.root.toLowerCase();n.module=e.root;n.track="create";break;case"About":case"Settings":n.layoutType=e.root.toLowerCase();n.module=t.utils.capitalize(e.root);n.track="create";break;case"Offline":switch(e.module){case"TxLog":n.layoutType=e.modelId?"detail":"list";n.module=e.module;break;case"offlineStats":n.layoutType=e.module;n.module=e.root;n.track="create";break;default:n.layoutType=e.root.toLowerCase();n.module=e.root;n.track="create";break}break;case"Search":case"Recents":if(e.module&&e.modelId){n.layoutType="detail";n.module=e.module}else{n.layoutType="list";n.module=e.root}break;case"Dashboards":if(e.dashletId){this._handleGAForDashlets(e,n)}else{n.layoutType="dashboard"}break}},_handleGAForActions:function b(e,n){switch(e.action){case"duplicate":n.layoutType="edit";n.track="duplicate";break;case"associate":n.layoutType=e.action;n.module=t.data.getRelatedModule(e.parentModule,e.link);n.track=e.parentModule;break;default:n.layoutType=e.action?e.action:"detail";break}if(e.action==="create"&&e.parentModelId){n.layoutType="edit";n.module=e.parentModule;n.track=e.link;n.link="create"}if(!n.module){n.module=e.module||e.parentModule}},_handleGAForDynamics:function y(e,n){var i=e.gaTrack;if(i==="teamset"){n.layoutType="multienum";n.module=t.controller.getScreenContext().module;n.track="teamset"}else if(i==="textarea"){n.layoutType=i;n.module=e.context.get("parentModel")?e.context.get("parentModel").module:null}else if(i==="duplicate"){n.layoutType="edit";n.module=t.controller.getScreenContext().module;n.track=i}else{n.layoutType=i;n.module=t.controller.getScreenContext().module;if(i==="relate"||i==="parent-list"){n.track=e.context.get("module")}else if(i==="about"){n.module="Login"}}},_handleGAForDashlets:function x(e,n){var i=t.nomad.dashboards.getDashletConfig(e.dashboardId,e.dashletId).view;var r=e.root==="Dashboards";n.layoutType=r?"dashlet":"record-dashlet";if(i.template==="tabbed-dashlet"){n.layoutType="";n.module=""}else if(i.type==="dashablelist"){n.module=r?"list":e.parentModule;n.track=r?i.module:"list";n.link=r?n.link:i.module}else{n.module=r?i.type:e.parentModule;n.track=r?"":i.type}},_buildViewIdAndTrack:function S(e){var t=_.compact([e.layoutType,e.module,e.track,e.link]).join("/");if(!_.isEmpty(t)){var n={view:t};if(e.trackerName){n.trackerName=e.trackerName}this.setActiveView(n)}},setActiveView:function w(e){a=e.view;if(!e.silent){this.trackPageView(e)}},trackPageView:function L(e){if(!n){return}t.logger.debug("GAN-page: "+e.view);if(t.offlineEnabled){this.setDimension({index:o.CONNECTION,value:t.offline.status.noConnection?"offline":"online"})}analytics.trackPageView(e)},trackEvent:function E(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(n){this._trackEvent(e)}},_trackEvent:function k(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.action=""+(e.action||"[unknown]");e.label=_.isUndefined(e.label)?a:e.label;t.logger.debug("GAN-event: "+e.category+":"+e.action+"("+e.value+")"+""+e.label+" "+(e.trackerName||""));analytics.trackEvent(e)},startSession:function A(e){if(n){analytics.startSession(e)}},setDimension:function M(e){if(n){analytics.setDimension(e)}},setMetric:function T(e){if(!n){return}analytics.setMetric(e)},_trackSdk:function C(e){if(i){this._trackEvent({trackerName:r,category:e.category,action:e.action,value:e.value||0,label:e.label||""})}},_trackSdkServerInfo:function R(){var e=t.metadata.getServerInfo();var n=_.getNested(t,"clientInfo.app.bundleId");var i=t.config.siteUrl;if(!_.isEmpty(t.config.siteUrlBehindProxy)){i=t.config.siteUrlBehindProxy}this._trackSdk({category:"instance",action:i,label:n});if(!_.isEmpty(e)){this._trackSdk({category:"server",action:""+e.version+e.flavor,label:n})}},_attachAnalytics:function D(){document.addEventListener("click",this._trackListener,true);document.addEventListener("swipeLeft",this._trackListener,true);document.addEventListener("swipeRight",this._trackListener,true)},_detachAnalytics:function I(){document.removeEventListener("click",this._trackListener,true);document.removeEventListener("swipeLeft",this._trackListener,true);document.removeEventListener("swipeRight",this._trackListener,true)},_trackListener:function O(e){var n;if(e.path){n=e.path}else{n=$(e.target).parents();n.push(e.target)}_.each(n,function(n){var i=$(n);var r=i.attr("track");if(!r){return}var a=r.match(s);var o=a[1].indexOf(e.type)+1;if(!o){return}var l=a[2]||n.id;var u=a[3]||"";t.analytics.trackEvent({category:e.type,action:l,value:u&&i.hasClass(u)?1:0})})},_trackServerInstance:function N(e){if(t.config.analytics.instanceTracking){this.setDimension({index:o.SUGAR_INSTANCE,value:this._instanceKeyFromUrlWhitelist(e)})}},_instanceKeyFromUrlWhitelist:function F(e){var n=_.find(t.config.analytics.serverUrlWhiteList||[],function(t){var n=new RegExp(t,"i");return n.test(e)});if(t.config.analytics.instanceUrlTracking){n=t.loginManager.getSetting("loginUrl")}return n?n:"others"},dispose:function B(){t.events.off(null,null,l);n=false;i=false;r=null;t.logger.debug("Analytics disabled")}};t.augment("analytics",l,false);e.exports=l})(SUGAR.App)},function(e,t,n){"use strict";var i=n(37);(function(e){var t=1024*1024*100;var n={set:function o(e,t,n){e[t]=n},push:function l(e,t,n){if(!e[t]){e[t]=[]}e[t].push(n)},pushDocField:function u(e,t,n){e.docFields[n.name]=n}};var r={byType:{name:{dataName:"nameField",action:n.set},fullname:{dataName:"fullNameField",action:n.set},image:{dataName:"imageField",action:n.pushDocField},phone:{dataName:"phoneFields",action:n.push},url:{dataName:"urlFields",action:n.push},email:{ignore:false,dataName:"emailFields",action:n.push},file:{dataName:"docFields",action:n.pushDocField},fieldset:{action:function c(e,t,i){var a=true;_.each(i.fields,function(t){var n=r.byType[t.type];if(n){n.action(e,n.dataName,i);a=false}});if(a)n.push(e,"otherFields",i)}},emailbody:{dataName:"emailbodyFields",action:n.push}},byNameRegEx:{"^(?=.*address)((?!email).)*$":{dataName:"addressFields",action:n.push}},"default":{dataName:"otherFields",action:n.push}};var a=function d(e){var t=null;_.each(r.byNameRegEx,function(n,i){var r=new RegExp(i);if(r.test(e.name)){t=n}});return t};var s=e.data.beanModel;e.NomadBean=e.data.beanModel.extend({initialize:function f(){this.addValidationTask("nomadValidation",_.bind(this._nomadValidator,this));s.prototype.initialize.apply(this,arguments)},_nomadValidator:function h(t,n,i){var r=e.metadata.getModule(this.module).fields;_.each(t,function(e,t){var i=r[t];if(i&&i.type==="image"){if(this._imageRequiredValidator(i,t,this)){n[t]=n[t]||{};n[t].required=true}}},this);i(null,t,n)},_imageRequiredValidator:function p(t,n,i){if(!e.supportedFeatures.fileUpload){return}var r=false;if(t.required){r=_.isEmpty(i.get(n))}return r},getContextMetaData:function m(t,n){var i=r;var s=this;var o={otherFields:[],phoneFields:[],urlFields:[],emailFields:[],addressFields:[],additionalListFields:[],docFields:{},emailbodyFields:[]};_.each(t,function(t,r){var s=i.byType[t.type]||a(t)||(o[i.default.dataName].length<n?i["default"]:null);if(s&&!s.ignore){s.action(o,s.dataName,t)}if(r>0&&r<=e.config.ui.numberOfAdditionalListFields){o.additionalListFields.push(t)}});o.headerField=o.fullNameField||o.nameField;o.subpanels=e.nomad.getSubpanels(this.module);o.hasLinkableSubpanels=e.nomad.hasLinkableSubpanels(o.subpanels);o.hasCreatableSubpanels=e.nomad.hasCreatableSubpanels(o.subpanels);o.listItemTitleField=t[0];o.avatarField=_.find(t,function(t){return t.type==="image"&&t.name==="picture"&&_.contains(e.config.modules.modulesWithAvatars,s.module)});o.addressFieldsGroups=_.groupBy(o.addressFields,function(e){if(e.type==="address"){return e.name}return s.fields[e.name].group});o.actions=this.getAvailableActions(o);return o},getAvailableActions:function g(e){var t={};var n=this._canHaveFiles(e.docFields)||this._canHavePDFs()||this.canHaveAttachments();var i=e.phoneFields.length;var r=[i&&"phone",i&&"message",e.urlFields.length&&"url",_.keys(e.addressFieldsGroups).length&&"map",n&&"doc",e.emailFields.length&&"email",e.emailbodyFields.length&&"emailbody"];_.each(r,function(e){if(e){t[e]=!!e}});return t},getAddresses:function v(t){var n;var i;var r;var a=this;return _.chain(t).map(function(t,s){if(s.lastIndexOf("_c")===s.length-2){s=s.replace("_c","")}r={};_.each(t,function(t,i){var o=a.get(t.name);if(o){n=t.name;n=n.replace(s+"_","");if(n.lastIndexOf("_c")===n.length-2)n=n.replace("_c","");if(t.type==="enum"){var l=e.metadata.getModule(a.module).fields[t.name];var u=e.lang.getAppListStrings(l.options)||{};o=u[o]||o}r[n]=o}});if(_.keys(r).length){i={};var o=e.lang.get("LBL_"+s.toUpperCase(),a.module);i[o]=r;return i}}).compact().value()},getDocuments:function b(t){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.docsLoading=true;t=_.filter(t,function(t){return e.acl.hasAccessToModel("read",n,t.name)});if(this.canHaveAttachments()){this._createDocData(this.get("attachment_list"),t)}else if(this._canHaveFiles(t)){var r=i.docData||[];var a=this.get("doc_url");if(_.has(this.fields,"doc_url")&&!_.isEmpty(a)){var s=this.get("filename");if(_.has(this.fields,"doc_type"))s+=" ("+this.get("doc_type")+")";r=this._createDocData([{name:s,uri:a,openExternally:true,nonSugarURL:true}],t,null,{silent:true})}if(i.fileData){this._createDocData(i.fileData,t,r)}else{this.getFiles({success:function o(e){n._createDocData(e,t,r)},error:function l(t){e.logger.debug("Error creating file url for "+n.module+" : "+t);n.docsLoading=false;n.trigger("docs:ready",r)}},{iframe:false,deleteIfFails:false})}}else if(this._canHavePDFs()){this._createDocData([{name:this.module+".pdf",uri:e.api.serverUrl+"/"+this.module+"/"+this.id+"/pdf",file_mime_type:"application/pdf",filename:this.get("name")+".pdf",oauth:true}],t)}else{this.docsLoading=false;this.trigger("docs:ready",[])}},_createDocData:function y(n,r,a,s){var o=this;var l=_.pluck(r,"name");this.docsLoading=false;s=s||{};var u=[];function c(t){if(!_.isString(t)||o.module==="Documents")return false;return!e.acl.hasAccessToModel("read",o,t)||!_.contains(l,t)}_.each(n,function(n,a){var s;var l;var d;var f;var h=n.uri||n.file_uri;var p=n["content-length"];var m=n.name||n.document_revision_filename;if(!h||c(a)){return}l=_.find(r,function(e){return e.name===a});d=l?e.lang.get(l.label,o.module):m;if(m&&p){d+=" ("+o._fileSizeFormat(n["content-length"])+")";if(p>t)n.openExternally=true}if(m&&!n.nonSugarURL){f=h.split(/rest\/v\d*\//)[1];h=e.api.serverUrl+"/"+f+"?platform="+e.config.platform;if(e.nomad.isDownloadTokenSupported()){if(!n.oauth){h+="&download_token={download_token}"}}else{h+="&oauth_token={oauth_token}"}}s={};s[d]={url:h,openExternally:n.openExternally||false,isImage:l&&l.type==="image",file_mime_type:n.file_mime_type||n["content-type"]||this.get("file_mime_type")||"",filename:i.sanitizeFileName(n.filename||n.name||this.get(a)),oauth:n.oauth,fieldName:a};u.push(s)},this);a=a||[];var d=_.keys(n);var f=_.filter(a,function(e,t){return!_.contains(d,_.values(e)[0].fieldName)});u=u.concat(f);if(!s.silent)this.trigger("docs:ready",u);return u},_fileSizeFormat:function x(e){return e<=0?"0":""+i.humanFileSize(e)},_canHaveFiles:function S(t){var n=e.config.modules.modulesWithFiles||[];return!_.isEmpty(t)||_.contains(n,this.module)||_.has(this.fields,"doc_url")},_canHavePDFs:function w(){var t=e.config.modules.modulesWithPDFs||[];return _.contains(t,this.module)},getFieldsDataArray:function L(t,n){var i;var r;var a;var s;var o=[];var l=this;var u;var c;_.each(t,function(t){s={};r=l.get(t.name);c=t.name;a=e.metadata.getModule(l.module).fields[c];if(r&&(_.isUndefined(n)||r.match(n))){u=t.label||a.label||a.vname||c;i=e.lang.get(u,l.module);s[i]=r;o.push(s)}});return o},getAccessibleFields:function E(t,n){n=n||"read";var i=this;t=_.filter(t,function(t){return e.acl.hasAccessToModel(n,i,t.name)});return t||[]},getAccessibleFieldsGroups:function k(e,t){var n={};var i=this;_.each(e,function(e,r){e=i.getAccessibleFields(e,t);if(e.length){n[r]=e}});return n},isDataDefined:function A(e,t){return _.any(e,function(e){var n=this.get(e.name);return t?_.isString(n)&&n.match(t):n},this)},hasActiveEmail:function M(e){return _.any(e,function(e){return _.any(this.get(e.name),function(e){return!Number(e.invalid_email)&&!Number(e.opt_out)})},this)},hasDeleteAccess:function T(){if(e.acl.hasAccessToModel("delete",this)&&!_.contains(e.config.modules.nonDeletableModules,this.module)){return!(e.serverInfo.isSevenUp&&(this.get("closed_revenue_line_items")||_.find(e.config.modules.nonDeletableSalesStages,function(e){return e===this.get("sales_status")||e===this.get("sales_stage")},this)))}else{return false}},hasEditAccess:function C(){return e.acl.hasAccessToModel("edit",this)&&!_.contains(e.config.modules.nonEditableModules,this.module)},hasUnlinkAccess:function R(t,n){if(n.relationship_type==="many-to-many"){return true}if(!_.isEmpty(t)){return!_.find(t,function(t){return!e.acl.hasAccessToModel("edit",this,t.name)},this)}else if(n.via_parent_id){return e.acl.hasAccessToModel("edit",this,n.relationship_role_column)}else{return true}},changeCurrencyId:function D(t,n){n=n||{};var i=this.get("currency_id")||t;var r={};var a=n.silentField||{};_.each(this.fields,function(n,a){if(n.type!=="currency")return;var s=this.get(a);if(!!s){var o=e.currency.convertAmount(s,i,t);this.set(a,o,{silent:true})}r[a]=true},this);this.set("currency_id",t,{silent:true});if(!n.silent){_.each(r,function(e,t){if(a===t){return false}this.trigger("change:"+t)},this)}},getChangeDiff:function I(e,t){var n={};e=e||{};t=t||[];_.each(this.attributes,function(i,r){if(_.contains(t,r))return;var a=e[r];if(!_.isEqual(a,i)){n[r]=a}});return n},save:function O(e,t){t=t||{};t.lastModified=this.get("date_modified");return s.prototype.save.call(this,e,t)},uploadFile:function N(t,n,i,r){i=i||{};r=r||{};r.iframe=false;var a=this;r.deleteIfFails=!!r.isCreate;return e.api.file("create",{id:this.id,module:this.module,field:t},n,{success:function s(e,n,r){var s=e[t];if(s){a._onFileChange(e,t);if(i.success){i.success(e)}}else{var o=new SUGAR.Api.HttpError({xhr:r});o.responseText=e.xhr?e.xhr.message:o.responseText;if(i.error)i.error(o)}},error:function o(e){e.isFileUploadError=true;i.error.call(this,e)}},r)},deleteFile:function F(t,n,i,r){var a=this;var s;r=r||{};s={success:function o(e){a._onFileChange(e,t);if(i.success){i.success(e)}},error:function l(e){e.isFileUploadError=true;if(i.error){i.error(e)}}};return e.api.file("delete",{module:this.module,id:this.id,field:t},null,s,r)},_onFileChange:function B(e,t){this.set(t,e[t].name);if(e.record){this.set("date_modified",e.record.date_modified)}else{this._docsUpdated=true}},isCloseActionAvailable:function U(){var t=this.get("status");var n=i.getClosedStatusValue(this.module);var r=n===t;return n&&!r&&e.acl.hasAccessToModel("edit",this,"status")&&!_.contains(e.config.modules.nonEditableModules,this.module)},copy:function P(e,t,n){_.each(this._defaults,function(e,t){this.set(t,"")},this);s.prototype.copy.call(this,e,t,n);this._unsetByDef();this._unsetByACL()},_unsetByDef:function Y(){var t=this.get("email1");function n(e){if(_.isString(e)){this.unset(e)}else{_.each(this.attributes,function(t,n){if(e.test(n)){this.unset(n)}},this)}}_.each(e.NomadBean._getDoNotCopyFields(this.module),function(e){n.call(this,e)},this);var i=e.metadata.getModule(this.module);var r=i?i.fields:null;var a=_.chain(r).filter(function(t){return _.contains(e.NomadBean._doNotCopyFieldTypes,t.type)}).pluck("name").value();_.each(a,function(e){n.call(this,e)},this);if(t){this.set("email1",t)}},_unsetByACL:function H(){var t=this;var n=_.getNested(e.metadata.getView(this.module,"edit"),"panels.0.fields");var i=e.metadata.getModule(this.module).fields||{};var r=function s(n){var r=n.name;var a=n&&!_.isUndefined(n.readonly)?n.readonly:i[r]&&i[r].readonly;if(!e.acl.hasAccessToModel("edit",t,r)||a){t.unset(r)}};var a=function o(e){_.each(e,function(e){if(!_.isEmpty(e.fields)){o(e.fields)}else{r(e)}})};a(n)}},{_doNotCopyFieldNames:{All:["created_by","created_by_name","modified_by_name","modified_user_id","date_entered","date_modified","my_favorite","deleted",/^email([^_]|_(?!c$|reminder))+$/],Employees:["user_name","user_hash","system_generated_password","pwd_last_changed","authenticate_id","sugar_login","is_admin","picture","status"],Calls:["status"],Contacts:["portal_active","portal_app","portal_name","portal_password","portal_password1"],Notes:["contact_email","contact_phone","file_mime_type","file_url"],Tasks:["contact_email","contact_phone","status"],Meetings:["status"],RevenueLineItems:["quote_id","quote_name"],Opportunities:["closed_revenue_line_items"]},_doNotCopyFieldTypes:["file","password","image"],_getDoNotCopyFields:function(){var t=null;e.events.on("app:sync:complete",function(){t=null});var n={"7.0":{"ENT, ULT":{Opportunities:["amount","date_closed"]}}};function r(t,i){var r=_.find(n,function(n,r){if(!e.utils.versionCompare(i,r,">="))return false;var a=_.find(n,function(e,n){var i=n.split(/,\s*/);return _.contains(i,t)});return a});return r&&_.values(r)[0]}function a(){if(t!==null){return t}var n=e.metadata.getServerInfo();var a=n.flavor;var s=n.version;var o=e.NomadBean._doNotCopyFieldNames;var l=r(a,s);t=i.merge(o,l,function(e,t){return _.union(e,t)});return t}return function(e){var t=a();var n=t.All;var i=t[e];if(i){n=_.union(n,i)}return n}}()});e.data.beanModel=e.NomadBean})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=void 0;var a={field:{},view:{}};function s(e,t,n){return function(){var i=this._super;var r=void 0;this._super=function a(n){var i=Array.prototype.slice.call(arguments);if(n===t){i=i[1]}return e.prototype[t].apply(this,i)}.bind(this);r=n.apply(this,arguments);this._super=i;i=null;return r}}r={getViewClass:function o(e){return this.getCmpClass("view",e)},getFieldClass:function l(e){return this.getCmpClass("field",e)},getCmpClass:function u(e,t){var n=t.baseType;var r=this._extractRegOptions(t);var s=a[e];var o=s[n];var l=void 0;if(o){l=o.base;if(!_.isEmpty(r)){var u=_.find(o.custom,function(e){return _.isEqual(e.filter,r)});if(u){l=u.view}}}if(!l&&t.shouldReturnDefault){l=t.cmpType==="view"?i.view.NomadView:i.view.NomadField}return l},declareComponent:function c(e,t,n){if(_.isFunction(e)){e={parent:e}}var i=e.parent;_.each(t,function(e,n){if(_.isFunction(e)&&_.isFunction(i.prototype[n])){t[n]=s(i,n,e)}});var r=i.extend(t,n);r.config=e;r.parentClass=i;return r},registerComponent:function d(e){var t=this;var n=e.cmp;var r=n===i.view.Field||i.nomad.utils.isComponentChildOf(i.view.Field,n)?"field":"view";var s=a[r];var o=this._extractRegOptions(e);var l=_.isEmpty(o);var u=e.baseType;if(u){if(l){this._cacheBase(r,u,n)}else{this._cacheCustom(r,u,n,o)}}else{var c=n;var d=[];var f=false;var h=function p(e,i){if(c===e.base){if(l){t._cacheBase(r,i,n);f=true}else{d.push(i)}}else{e.custom.forEach(function(e){if(e.view===c){if(l){e.view=n;f=true}else{d.push(i)}}})}};while(c){f=false;_.each(s,h);if(_.isEmpty(d)&&!f){c=c.parentClass}else{c=null}}if(!_.isEmpty(d)){d.forEach(function(e){return t._cacheCustom(r,e,n,o)})}}},_cacheBase:function f(e,t,n){var i=a[e];if(!i[t]){i[t]={base:null,custom:[]}}i[t].base=n},_cacheCustom:function h(e,t,n,i){var r=a[e];if(!r[t]){this._cacheBase(e,t,null)}var s=_.find(r[t].custom,function(e){return _.isEqual(e.filter,i)});if(s){s.view=n}else{r[t].custom.push({view:n,filter:i})}},_extractRegOptions:function p(e){var t={};if(e.module){t.module=e.module}return t},_getComponentViewCache:function m(){return a.view}};e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;e.exports=i.nomad.dashboards={_started:false,_cacheKey:"dashboards",_dashletTypeRegistry:{},isStarted:function r(){return this._started},reset:function a(){this._started=false},resetCollection:function s(){if(this.collection){this.collection.reset()}},start:function o(){this._started=true;this.cacheDashletStore=i.nomad.stores.dashlets;this.initCollection()},initCollection:function l(){var e=this.getCachedDashboards()||[];this.collection=this.collection||i.data.createBeanCollection("Dashboards");this.collection.reset(e,{silent:true})},fetchDashboards:function u(e,t){var n=this;async.waterfall([_.bind(n._fetchDashboards,n),_.bind(n._fetchDashboardMeta,n)],function(r,a){if(r){i.logger.debug("Error while fetching dashboards"+r)}else{n._processFetchResults(a,e)}t&&t(r)})},_fetchDashboards:function c(e){var t=this;var n=void 0;if(i.supportedFeatures.shareableDashboards){n=[{$or:[{$favorite:""},{default_dashboard:1}]}]}var r=_.map(i.metadata.getModuleNames(),function(e){return i.nomad.buildBulkRequest({module:"Dashboards/"+e,limit:-1,params:{view_name:"record",filter:n}})});r.push(i.nomad.buildBulkRequest({module:"Dashboards",params:{filter:n}}));i.api.bulk({requests:r},{success:function a(n){e(null,t._getSuccessfullResponses(n))},error:e})},_fetchDashboardMeta:function d(e,t){var n=this;var r=_.map(e,function(e){return i.nomad.buildBulkRequest({module:"Dashboards",attributes:{id:e.id}})});i.api.bulk({requests:r},{success:function a(e){t(null,n._getSuccessfullResponses(e))},error:t})},_processFetchResults:function f(e,t){var n=this.collection.toJSON();t=t||{};e=_.filter(e,function(e){var t=e.metadata;this.adjustDashboardMetadata(t);return!_.isEmpty(t.dashlets)},this);this._cacheDashboards(e);this.cleanUnusedDashletsCache();this.collection.reset(e,{silent:true});if(t.notifyIfChanged&&this._isAnyDashboardChanged(n,e)){i.events.trigger("app:dashboards:changed")}},getDashboards:function h(e){var t;if(!this._started){return[]}t=this.collection.models;if(e){switch(e.type){case"home":t=_.filter(t,function(e){return e.get("dashboard_module")==="Home"});break;case"detail":t=_.filter(t,function(e){return e.get("dashboard_module")!=="Home"});break}if(e.module){t=_.filter(t,function(t){return t.get("dashboard_module")===e.module})}}return t},getDashboard:function p(e){return this.collection.get(e)},adjustDashboardMetadata:function m(e){var t=this;e.dashlets=[];_.each(e.components,function(n){_.each(n.rows,function(n){_.each(n,function(n){var r=n.view;var a;if(!r){return}a=_.values(r).join("");n.id=String(Math.abs(i.nomad.utils.getHashCode(a)));e.dashlets.push(n);t._normalizeDashletMeta(n)})})});e.components=null;this.cleanDashlets(e.dashlets)},cleanDashlets:function g(e){var t;var n=[];for(t=e.length-1;t>-1;t--){if(!_.contains(n,e[t].id)&&this.canCreateDashlet(e[t])){n.push(e[t].id)}else{e.splice(t,1)}}},canCreateDashlet:function v(e){var t=false;var n=this._getDashletType(e);if(this.isDashletSupported(e)){if(n==="tabbed-dashlet"){var r=i.metadata.getView(null,e.view.type);t=Boolean(r)&&_.any(r.tabs,function(e){return i.nomad.utils.isAccessibleModule(e.module,"list")})}else if(n==="dashablelist"){t=i.nomad.utils.isAccessibleModule(e.view.module,"list")}else if(n==="casessummary"){t=i.nomad.utils.isAccessibleModule("Cases","list")}else{t=true}}return t},isDashletSupported:function b(e){var t=this._getDashletType(e);var n=i.config.dashboards.dashlets[t];var r=this._dashletTypeRegistry[t];return r||n&&i.utils.versionCompare(i.serverInfo.version,n.minServerVersion,">=")},_normalizeDashletMeta:function y(e){var t=e.view;if(!t.module&&e.context&&e.context.module){t.module=e.context.module}if(!t.type&&t.name){t.type=t.name}},getDashboardDashlets:function x(e){var t=this.getDashboard(e);return t.get("metadata").dashlets},isDashletAvailable:function S(e,t){return _.chain(this.getDashboardDashlets(e)).pluck("id").contains(t).value()},getDashletTitle:function w(e){var t=e||{};var n=e.type;var r;var a=_.isFunction(e.type)?e.type:this._dashletTypeRegistry[e.type];if(a){r=a.prototype.getTitle(e)}else{r=e.label}var s=e.module;if(n==="dashablelist"){t={module:i.lang.getAppListStrings("moduleList")[s]||s}}else if(n==="bubblechart"&&!s){s=i.nomad.utils.getForecastModule()}return i.lang.get(r,s,t)},getDashletConfig:function L(e,t){var n=_.find(this.getDashboardDashlets(e)||[],function(e){return e.id.toString()===t});return n},_cacheDashboards:function E(e){i.cache.set(this._cacheKey,e)},getCachedDashboards:function k(){return i.cache.get(this._cacheKey)},verifyDefaultView:function A(){var e=i.loginManager.getSetting("default_view");if(!e){return}var t=e.split(":");var n=t[0]==="Dashboards"&&t[1];var r;var a;var s=true;if(n){a=!!this.getDashboard(n);r=t[2];s=a&&(r?this.isDashletAvailable(n,r):true);if(!s){i.loginManager.removeSetting("default_view")}}},cleanDashboardsCache:function M(e){i.cache.cut(this._cacheKey)},cleanDashletsCache:function T(e){e=e||function(){};if(i.config.dashboards.enabled){this.cacheDashletStore.cutAll(e)}else{e()}},cleanUnusedDashletsCache:function C(e){var t=this;this.cacheDashletStore.getAll(function n(i,r){if(i){return e(i)}var a=[];var s=[];t.collection.each(function(e){var t=e.get("metadata");_.each(t.dashlets,function(e){if(!_.contains(a,e.id)){a.push(e.id)}})});_.each(r,function(e,n){if(!_.contains(a,n)){s.push(function(e){t.cacheDashletStore.cut(n,e)})}});async.parallel(s,e)})},_getDashletType:function R(e){var t=i.metadata.getView(null,e.view.type);return t&&t.tabs?"tabbed-dashlet":e.view.type},_isAnyDashboardChanged:function D(e,t){t=t||[];return e.length!==t.length||_.any(e,function(e){return!_.any(t,function(t){return e.id===t.id&&e.date_modified===t.date_modified},this)},this)},_getSuccessfullResponses:function I(e){var t=[];_.each(e,function(e){if(e.status===200){if(e.contents.records){t.push.apply(t,e.contents.records)}else if(e.contents&&e.contents.metadata){t.push(e.contents)}}});return t},registerDashlet:function O(e,t){this._dashletTypeRegistry[e]=t},getDashletTypeRegistry:function N(){return this._dashletTypeRegistry}}},function(e,t,n){"use strict";(function(e){var t=e.config.raven;var i=function(){var e=[];var n=t&&t.enabled&&t.enhancedErrorReporting&&t.enhancedErrorReporting.maxLogSize;return{push:function i(t){t.timestamp=(new Date).toISOString();e.push(t);if(e.length>n){e.shift()}},empty:function r(){e=[]},getAll:function a(){return _.clone(e).reverse()}}}();function r(e,t,n){var i=e[t];e[t]=function(){n.apply(this,arguments);return i.apply(this,arguments)};e[t]._originalMethod=i}function a(e,t){e[t]=e[t]._originalMethod}function s(e,t,n){var i={method:e,module:t.module};if(t.id){i.modelId=t.id}if(t.filterDef){i.filterDef=t.filterDef}if(n){i.options=_.pick(n,["byPtr","limit","myItems","query","offset"]);if(n.relate&&t.link&&t.link.bean){i.link=t.link.name;i.parentModule=t.link.bean.module;i.parentId=t.link.bean.id}if(n.favorite){i.action=t.get("my_favorite")?"favorite":"unfavorite"}if(n.following){i.action=t.get("following")?"follow":"unfollow"}}return i}function o(e){return{route:e}}function l(e,t,n){return{code:e.code,status:e.status}}function u(e){return{options:e}}var c=n(61);var d=[{context:e.data,method:"sync",filter:s,label:"data-manager.sync"},{context:e.nomad,method:"login",label:"app.login"},{context:e.nomad,method:"logout",label:"app.logout"},{context:e.nomad,method:"onMemoryWarning"},{context:e.nomad,method:"onResume"},{context:e.nomad,method:"onPause"},{context:e.error,method:"handleHttpError",filter:l},{context:e.NomadController.prototype,method:"navigate",filter:o},{context:e.NomadController.prototype,method:"goBack"},{context:e.NomadController.prototype,method:"clean",label:"controller.clean"},{context:c,method:"_loadScreen",filter:u}];var f={init:function h(){if(!(t&&t.enabled&&t.enhancedErrorReporting)||this.initialized)return false;_.each(d,function(e){r(e.context,e.method,function(){var t={label:e.label||e.method};if(e.filter){_.extend(t,e.filter.apply(this,arguments)||{})}i.push(t)})});this.initialized=true},getLog:function p(){return i.getAll()},dispose:function m(){_.each(d,function(e){a(e.context,e.method)});i.empty();this.initialized=false}};e.augment("enhancedErrorReporter",f,true)})(SUGAR.App)},function(e,t,n){"use strict";(function(e){e.raven={initialize:function t(){},ravenDataCallback:function n(t){t.tags=_.extend(t.tags||{},{"native":e.isNative,osVersion:_.getNested(e,"clientInfo.device.osVersion"),uuid:_.getNested(e,"clientInfo.device.uuid"),device:_.getNested(e,"clientInfo.device.model"),offline:e.config.offline&&e.config.offline.enabled});t.extra=_.extend(t.extra||{},{model:_.getNested(e,"clientInfo.device.model"),modelName:_.getNested(e,"clientInfo.device.modelName"),bundleId:_.getNested(e,"clientInfo.app.bundleId"),serverUrl:e.nomad?e.nomad.getServerUrl():undefined,serverVersion:e.nomad?e.nomad.getServerVersion():undefined,extendedLog:e.enhancedErrorReporter.getLog()});return t},ravenShouldSendCallback:function i(){return e.config.raven.enabled},ravenReported:function r(t){if(e.error){var n=t.data||{};e.error.logFatalError(n.message,n)}},setUser:function a(e){Raven.setUser(e?{id:e}:null)}};if(e.config.raven&&e.config.raven.enabled&&!_.isEmpty(e.config.raven.url)){document.addEventListener("ravenSuccess",e.raven.ravenReported,false);document.addEventListener("ravenFailure",e.raven.ravenReported,false);Raven.config(e.config.raven.url,{tags:{version:e.config.appVersion,build:e.config.appBuild,env:e.config.raven.env},dataCallback:e.raven.ravenDataCallback,shouldSendCallback:e.raven.ravenShouldSendCallback}).install();e.events.on("app:start",function(){e.raven.setUser(e.api.isAuthenticated()?"authenticated":null)}).on("app:login:success",function(){e.raven.setUser("authenticated")}).on("app:logout",function(){e.raven.setUser()})}})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t=n(3);var i={INTERNET_UNAVAILABLE:-1,CONNECTION_FAILED:-2,CONNECTION_TIMEOUT:-3,INVALID_CREDENTIALS:-4};function r(){e.router.login()}var a=e.error.handleStatusCodesFallback;var s=e.error.enableOnError;var o=e.error.handleUnhandledError;e.error.statusCodes["200"]=e.error.statusCodes["0"];e.error=_.extend(e.error,{enableOnError:function l(){if(e.config.raven&&e.config.raven.enabled){return true}return s.apply(this,arguments)},_alertUnauthorized:function u(){e.alert.show("auth_error",{level:"error",messages:e.lang.get("ERR_MOBILE_NOT_AUTHORIZED"),autoClose:true})},_alertSystemError:function c(t){var n=t.status||t.status===0?t.status.toString():"N/A";var i;if(t instanceof e.offline.Error){i=t.localizedMessage()}else{i=e.lang.get("ERR_MOBILE_INTERNAL").replace("{{{code}}}",n)}e.alert.show("system_error",{level:"error",messages:i,autoClose:true,uid:"ERR_MOBILE_INTERNAL_"+n,pageHash:t.request?t.request.params.pageHash:null})},handleNeedLoginError:function d(){e.alert.show("auth_error",{level:"error",messages:e.lang.get("ERR_MOBILE_INVALID_CREDS"),autoClose:true});r();this._sendAnalytics(i.INVALID_CREDENTIALS)},handleInvalidGrantError:function f(){e.alert.show("auth_error",{level:"error",messages:e.lang.get("ERR_MOBILE_SESSION_EXPIRED"),autoClose:true});r()},handleUnhandledError:function h(t,n,i){try{this.logFatalError(t,{url:n,line:i,version:e.nomad.getProductVersion(),serverVersion:e.nomad.getServerVersion(),serverUrl:e.nomad.getServerUrl(),clientInfo:e.clientInfo})}catch(r){}},logFatalError:function p(t,n){try{var i=e.config.env==="prod";t=t||"Unknown error";e.logger.fatal(t+"\n"+JSON.stringify(n));t=i?e.lang.get("ERR_INTERNAL_ERR_MSG"):"FATAL: "+t;e.alert.show("system_error",{level:"error",messages:t,autoClose:true});e.analytics.trackEvent({category:"device",action:"exception"})}catch(r){}},handleUnauthorizedError:function m(){this._alertUnauthorized();r()},handleForbiddenError:function g(e){this._alertUnauthorized();this._sendAnalytics(e.status)},handleNotFoundError:function v(t){e.alert.show("not_found_error",{level:"error",messages:this._adjustErrorMessage("ERR_MOBILE_NOT_FOUND",t),autoClose:true});this._sendAnalytics(t.status)},handleTimeoutError:function b(t){e.alert.show("system_error",{level:"error",messages:this._adjustErrorMessage("ERR_MOBILE_TIMEOUT",t),autoClose:true,uid:"ERR_MOBILE_TIMEOUT",pageHash:t.request.params.pageHash});this._sendAnalytics(i.CONNECTION_TIMEOUT)},handleMethodConflictError:function y(e){
this._sendAnalytics(e.status)},handleStatusCodesFallback:function x(n,s,o){var l;var u=n.status;e.alert.dismissAll({animate:false});if(_.isUndefined(n.status)){if(n===e.offline.Error.OutOfSpaceError){e.alert.show("offline_error",{level:"error",messages:n.localizedMessage(),autoClose:true})}return}var c;if(n.status=="0"&&(n.textStatus==="error"||n.textStatus==="abort")&&_.isEmpty(n.errorThrown)){if(!e.nomad.isOnline()){l="Device is offline";u=i.INTERNET_UNAVAILABLE}else{l="Server is unreachable. "+(navigator.connection?"Connection: "+navigator.connection.type:"");u=i.CONNECTION_FAILED}e.alert.show("network_error",this._getNetworkAlertParams(n,s,o))}else if(n.status=="412"){if(e.nomad._isSyncing||e.nomad._hasAskedForSync)return;e.nomad._hasAskedForSync=true;t.showConfirm(e.lang.get("ERR_MOBILE_METADATA_CHANGED_RELOAD"),{callback:function f(t){e.nomad.dismissAlerts();if(t===2){if(document.activeElement)document.activeElement.blur();e.controller.clean({disposeAll:true});e.nomad.syncApp()}else{e.nomad._hasAskedForSync=false;e.alert.show("meta_error",{level:"error",messages:e.lang.get("ERR_MOBILE_METADATA_CHANGED"),autoClose:true})}}})}else if(n.status=="422"&&n.message&&(c=n.message.match(/^(.*) is an invalid email address$/))){e.alert.show("meta_error",{level:"error",messages:e.lang.get("ERROR_EMAIL",null,{email:c[1]}),autoClose:false})}else if(n.status=="433"){if(e.config.scheme==="rebrand"){e.alert.show("incompatible_client",{level:"error",messages:e.lang.get("ERR_MOBILE_INCOMPATIBLE_REBRAND_CLIENT_VERSION",null,{brandName:e.config.brandName}),autoClose:false})}else{t.showConfirm(e.lang.get("ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION",null,{brandName:e.config.brandName}),{callback:function h(t){e.nomad.dismissAlerts();if(t===2){e.nomad.openAppStore()}r()}})}}else{this._alertSystemError(n);if(n.status=="400")r()}var d=!_.contains([0,433,412],n.status);if(d||!d&&e.logger.levels[e.config.logger.level].value<=e.logger.levels.DEBUG.value){if(l)e.logger.error(l);a(n);this._logRequestUrl(n)}this._sendAnalytics(u)},handleNotSupportedPlatform:function S(){window.location.replace("error-not-supported-platform.html?desktop_url="+e.nomad.getDesktopUrl())},handleExternalLoginNotAvailable:function w(){e.alert.show("sso_error",{level:"error",messages:e.lang.get("ERR_MOBILE_SSO_NOT_CONFIGURED"),autoClose:true})},isAccessError:function L(e){return _.contains([403,404],e.status)},_getNetworkAlertParams:function E(t,n,i){var r={};var a=void 0;if(e.nomad.isOnline()){a="ERR_MOBILE_CONNECTION_FAILED";r={messages:this._adjustErrorMessage(a,t),level:"error",uid:a}}else if(e.offlineEnabled){a="WARN_MOBILE_INTERNET_UNAVAILABLE";r={messages:e.lang.get(a),level:"warning",uid:a}}else{a="ERR_MOBILE_INTERNET_UNAVAILABLE";r={messages:e.lang.get(a),level:"error",uid:a}}r=_.extend({autoClose:true,pageHash:t.request.params.pageHash,requestOptions:i},r);var s=n&&n.module;i=i||{};var o=e.offlineEnabled&&s&&!e.offline.isModuleOfflineEnabled(s)&&i.method!=="read"&&!_.contains(["Filters"],s);var l=o||t.isFileUploadError;if(l){delete r.uid}return r},_sendAnalytics:function k(t){t=t||"unknown";e.analytics.trackEvent({category:"api-error",action:t})},_isPingRequest:function A(e){return new RegExp("/ping").test(e)},_adjustErrorMessage:function M(t,n){var i=n&&n.request&&n.request.params?e.api.isLoginRequest(n.request.params.url)||this._isPingRequest(n.request.params.url):false;if(i)t+="_LOGIN";return e.lang.get(t,null,{brandName:e.config.brandName,minVersion:e.config.minServerVersion,supportedFlavors:e.config.supportedServerFlavors.join(", ")})},_logRequestUrl:function T(t){if(t.request&&t.request.params&&t.request.params.url)e.logger.error("URL of failed request: "+t.request.params.url)}});e.error.statusCodes["422"]=e.error.handleStatusCodesFallback})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(4);var o=n(17);var l=n(31);var u=n(75);var c=window.nomadAppEventHandlerContext={};i.events.on("all",function(e){var t=[];var n=arguments;_.each(i.events._events,function(n,i){var r=i.split(".");if(r.length>1&&r[0]===e){t.push(i)}});if(t.length>0){_.each(t,function(e){n[0]=e;i.events.trigger.apply(i.events,n)})}});i.events.on("app:init",function(){window.clearInterval(i.metadata._validateMDInterval);i.metadata._validateMDInterval=null;i.isBodyScrollRequired=$.os.android&&!i.isTablet;_.extend(i.metadata.fieldTypeMap,{iframe:"url",link:"url",multienum:"multienum",name:"name","double":"float",username:"text",user_name:"text"});i.lang.setCurrentLanguage(i.lang.getLanguage()||"en_us");r.updateServerInfo();r.resetMeta(false,false);r.restoreUser();r.enableOffline();r.initSubpanels();i.data.declareModels();r.updateAuthStore();i.config.sugarLogic=i.config.sugarLogic||{};if(i.config.sugarLogic.enabled&&i.config.sugarLogic.isDynamic)i.loadSugarLogic();r.configureSugarLogic();if(i.isSynced){r.initializeContextMeta()}if(i.isNative&&navigator.splashscreen){_.delay(function(){navigator.splashscreen.hide()},500)}},c).on("nativeMessage",function(e){i.logger.debug("Received native message: "+JSON.stringify(e));if(e.target==="redirect"&&!_.isEmpty(e.path)){i.controller.navigate(e.path)}}).on("app:sync",function(){r._isSyncing=true;i.overlay.show("app:sync",{template:"preloader-panel"})},c).on("app:sync:complete",function(){r._isSyncing=false;r._hasAskedForSync=false;i.logger.debug("Sync complete");i.loginManager.handleSyncComplete();i.hacks.hackModuleList();r.initSubpanels();i.hacks.hackAcls();r.saveUser();r.initializeContextMeta();r.updateAuthStore();i.analytics.init();r.configureSugarLogic();var e=JSON.stringify(i.metadata.get());if(e&&e.length>1e6){i.analytics.trackEvent({category:"metadata",action:"limit",value:parseInt(e.length/1e3,10),label:_.getNested(i,"clientInfo.device.uuid")})}},c).on("app:sync:error",function(e){r._isSyncing=false;r._hasAskedForSync=false;i.logger.debug("Sync failed");if(!(e instanceof SUGAR.Api.HttpError)){var t=_.extend({version:"N/A",flavor:"N/A",minVersion:i.config.minServerVersion,supportedFlavors:i.config.supportedServerFlavors.join(", ")},e.server_info);e=i.lang.get(e.label,null,t)||(_.isString(e)?e:i.lang.get("LBL_MOBILE_META_SYNC_FAILED"));a.showAlert(e,{callback:function n(){i.nomad.dismissAlerts();i.overlay.hide("app:sync",true);i.loginManager.logout()},title:i.lang.get("ERR_GENERIC_TITLE")})}else if(e.code!=="invalid_grant"){a.showConfirm(i.lang.get("LBL_MOBILE_META_SYNC_FAILED_RETRY"),{callback:function s(e){i.nomad.dismissAlerts();if(e!==2){i.overlay.hide("app:sync",true);i.loginManager.logout()}else{i.nomad.syncApp()}},title:i.lang.get("ERR_GENERIC_TITLE"),buttonLabels:[i.lang.get("LBL_MOBILE_RELOGIN_BUTTON"),i.lang.get("LBL_YES")]})}else{i.overlay.hide("app:sync");i.error.handleInvalidGrantError()}},c).on("offline:encryption:start",function(){i.alert.show("offline_encryption",{level:"info",messages:i.lang.get("LBL_OFFLINE_ENCRYPTION_IN_PROGRESS"),autoClose:false,closable:false})},c).on("offline:encryption:complete",function(e){if(e){i.alert.dismiss("offline_encryption");i.alert.show("offline_error",{level:"error",messages:e.localizedMessage(),autoClose:true})}else{i.alert.show("offline_encryption",{level:"success",messages:i.lang.get("LBL_OFFLINE_ENCRYPTION_SUCCESS"),autoClose:true})}},c).on("app:login:success",function(){i.loginManager.handleLoginSuccess();r.syncApp()},c).on("app:logout",function(){i.alert.dismiss("logout");r.resetMeta(false,true);o.toggleTouchIdOnLogin(false);i.data.declareModels();i.controller.clean({disposeAll:true});i.nomad.deactivateMainMenu();if(i.offlineEnabled){l.stop()}}).on("app:start",function(){i.started=true},c).on("offline:failure",function(e){if(e===i.offline.Error.OfflineDisabledError){return}if(e===i.offline.Error.StorageUnavailableError){a.showAlert(e.localizedMessage()+"\n"+i.lang.get("LBL_OFFLINE_DISABLED"))}else if(e===i.offline.Error.OutOfSpaceError){u.cleanUp()}else{i.alert.show("offline_error",{level:"error",messages:e.localizedMessage(),autoClose:true})}},c).on("app:dashboards:changed",function(){if(!i.api.isAuthenticated()){return}var e=i.lang.get("LBL_DASHBOARDS_CHANGED_PROMPT");i.nomad.dashboards.verifyDefaultView();a.showConfirm(e,{callback:function t(e){if(e===2){i.nomad.dismissAlerts();i.controller.navigateToDefaultView();i.controller.clean();i.nomad.mainMenu.render()}}})},c).on("app:locale:change",function(){i.nomad.setHTMLDirection()},c)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a={};if(i.offline){a[i.offline.SyncActions.CREATE]="LBL_ACTION_CREATE";a[i.offline.SyncActions.UPDATE]="LBL_ACTION_UPDATE";a[i.offline.SyncActions.DELETE]="LBL_ACTION_DELETE";a[i.offline.SyncActions.LINK]="LBL_ACTION_LINK";a[i.offline.SyncActions.UNLINK]="LBL_ACTION_UNLINK";a[i.offline.SyncActions.FAVORITE]="LBL_ACTION_FAVORITE";a[i.offline.SyncActions.FOLLOW]="LBL_ACTION_FOLLOW"}var s={};if(i.offline){s[i.offline.SyncActions.CREATE]="LBL_ACTION_CREATE_EXPLANATION";s[i.offline.SyncActions.UPDATE]="LBL_ACTION_UPDATE_EXPLANATION";s[i.offline.SyncActions.DELETE]="LBL_ACTION_DELETE_EXPLANATION";s[i.offline.SyncActions.LINK]="LBL_ACTION_LINK_EXPLANATION";s[i.offline.SyncActions.UNLINK]="LBL_ACTION_UNLINK_EXPLANATION";s[i.offline.SyncActions.FAVORITE]="LBL_ACTION_FAVORITE_EXPLANATION";s[i.offline.SyncActions.FOLLOW]="LBL_ACTION_FOLLOW_EXPLANATION"}function o(e){return e.replace(/[-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function l(e){var t=_.union(i.metadata.getModuleNames({filter:"visible"}),["Users"]);var n=_.contains(t,e.module);var r=n?'<a href="#'+e.module+"/"+e.id+'">'+Handlebars.Utils.escapeExpression(e.name)+"</a>":'<span class="module-name">'+Handlebars.Utils.escapeExpression(e.name)+"</span>";return new Handlebars.SafeString(r)}var u=function(){var e=function t(e){var t;var n;var a=i.serverInfo.isSevenUp;if(a){t=/<strong>.*?<\/strong>/g,n=/(<strong>)|(<\/strong>)/g}else{t=/<span class="highlight">.*?<\/span>/g,n=/(<span class="highlight">)|(<\/span>)/g}var s=r.utils.htmlEntitiesToString({stringToTransform:e});s=r.utils.stringToHtmlEntities({stringToTransform:s});var o=e.match(t);var l;_.each(o,function(e){l=r.utils.stringToHtmlEntities({stringToTransform:e.replace(n,"")});s=s.replace(r.utils.stringToHtmlEntities({stringToTransform:e}),'<span class="highlight">'+l+"</span>")});return s};Handlebars.helpers.__sanitizeSearchResult=e;return e}();var c=e.exports={ifHasAccessToModel:function d(e,t,n){var r=n.hash.field;return i.acl.hasAccessToModel(e,t,r)?n.fn(this):n.inverse(this)},moduleNameSingular:function f(e){return i.nomad.getSingularModuleName(e)},optionLabel:function h(e,t){var n=_.isString(e)?i.lang.getAppListStrings(e):e;return n[t]},searchListItem:function p(e){if(!i.acl.hasAccess("list",e.module)){return Handlebars.SafeString("")}var t=e.searchInfo;var n=t?t.highlighted:null;var r=Handlebars.Utils.escapeExpression(e.get("name"));var a="";var s=[];if(this.fields&&this.fields.length){if(this.fields[0].type!=="name"){s.push(this.fields[0])}}var o=[];_.each(n,function(e,t){var n;if(_.isArray(e.text)){n=_.map(e.text,function(e){return u(e)}).join("")}else{n=u(e.text)}if(t==="name"){r=n}else{o.push(t);a+='<div class="search-result clip">'+i.lang.get(e.label,e.module)+": "+n+"</div>"}},this);var l='<div class="item-name clip">'+r+"</div>";if(!_.isEmpty(a)){l+=a}return new Handlebars.SafeString(l)},getTxLogActionName:function m(e){e=a[e];var t=i.lang.get(e)||e;return new Handlebars.SafeString(t)},getTxLogModuleName:function g(){return i.nomad.getPluralModuleName(this.model.attributes._tx_bean_module)},getTxLogActionExplanation:function v(){var e=this.model.attributes._tx_action;var t;var n=this.model.attributes.bean;var r;var a;if(n){a=_.isEmpty(n.name)?n[i.nomad.getContextMeta("list",n._module).nameField.name]:n.name}else{a=i.lang.get("LBL_RECORD_DELETED")}r={module:i.nomad.getSingularModuleName(this.model.attributes._tx_bean_module),name:a};if(e===i.offline.SyncActions.FAVORITE&&!this.model.attributes._tx_updated_fields.my_favorite.after){t="LBL_ACTION_UNFAVORITE_EXPLANATION"}else if(e===i.offline.SyncActions.FOLLOW&&!this.model.attributes._tx_updated_fields.following.after){t="LBL_ACTION_UNFOLLOW_EXPLANATION"}else if(this.model.attributes.related){r.relatedModule=i.nomad.getSingularModuleName(this.model.attributes._tx_related_module);r.relatedName=this.model.attributes.related.name;if(e===i.offline.SyncActions.CREATE){t="LBL_ACTION_CREATE_RELATED_EXPLANATION"}}t=t||s[e]||"Unknown action";r.relatedName=r.relatedName||i.lang.get("LBL_RECORD_DELETED");r.relatedModule=r.relatedModule||i.nomad.getSingularModuleName(this.model.attributes._tx_related_module);var o=i.lang.get(t,null,r);return new Handlebars.SafeString(o)},getTxLogItemStatusClass:function b(){var e;if(this.model.attributes._tx_error_count){var t=parseInt(this.model.attributes._tx_error,10);var n=i.offline.TransactionStatuses.UNRECOVERABLE;e=_.indexOf(n,t)>-1?"error":"warning"}return e},getErrorDescription:function y(e){var t=e;switch(e){case"403":t=i.lang.get("ERR_MOBILE_NOT_AUTHORIZED");break;case"409":t=i.lang.get("ERR_OFFLINE_SYNC_CONFLICT");break;case"412":t=i.lang.get("ERR_MOBILE_METADATA_CHANGED");break;case"500":t=i.lang.get("ERR_MOBILE_INTERNAL",null,{code:e});break}return new Handlebars.SafeString(t)},teamSearchItem:function x(e){var t;var n;var i="";var r="";var a=(e.collection.query||"").trim();if(a){n=new RegExp("("+o(Handlebars.Utils.escapeExpression(a))+")","i");_.each(["name","name_2"],function(a){r=e.get(a);t=r.match(n);if(t){i+=r.replace(t[0],"<b>"+t[0]+"</b>")}else{i+=r}i+=" "})}return new Handlebars.SafeString(i)},humanFileSize:function S(e){var t=i.nomad.utils.humanFileSize(e);if(t===null){return i.lang.get("LBL_NOT_AVAILABLE")}return t.toString(true)},listItems:function w(e,t,n){var i=_.map(e,function(e){var i=t.constructor.listItemDataProviders;var r=t.getListItemTpl(e);var a=t.getListItemDataProvider(e);var s=i[a]||i.ListItem;var o=s.prepareItemData(e,t,n);return Handlebars.helpers.partial(r,o,n).string});return new Handlebars.SafeString(i.join(""))},partial:function L(e,t,n){var r=n.hash.view;var a=r&&r.options.templateOptions&&r.options.templateOptions.partials?r.options.templateOptions.partials[e]:i.template.get(e);return new Handlebars.SafeString(a?a(t):"")},emailPlaceholder:function E(e,t){return i.lang.get(t.hash.required?"LBL_REQUIRED":"")},primaryEmail:function k(e){return e&&e.length?e[0].email_address:""},ifHasValue:function A(e,t,n){return e.get(t)?n.fn(this):n.inverse(this)},icon:function M(e,t){var n=i.template.get("icon");var r={iconClass:_.getNested(i.config.ui.icons,e),additionalClass:_.getNested(t.hash,"additionalClass")};return new Handlebars.SafeString(n(r))},moduleIcon:function T(e,t){var n=i.template.get("icon-module");var r={iconClass:_.getNested(i.config.ui.icons.modules,e)||_.getNested(i.config.ui.icons,t.hash.iconKey),additionalClass:_.getNested(t.hash,"additionalClass"),displayInitials:!t.hash.iconKey&&i.config.ui.displayInitials,module:e,iconLabel:t.hash.iconLabel};return new Handlebars.SafeString(n(r))},moduleIconLabel:function C(e){var t=i.lang.getAppListStrings("moduleIconList")[e]||i.lang.getAppListStrings("moduleListSingular")[e]||i.lang.getAppListStrings("moduleList")[e]||e;var n=t.indexOf(" ");return n!==-1?t.substring(0,1)+t.substring(n+1,n+2):t.substring(0,2)},clearButton:function R(e){var t=e.hash.iconKey||"edit.clear";return Handlebars.helpers.icon(t,{hash:{additionalClass:"clear-button"}})},isFavoriteable:function D(e,t){var n;var r;var a="";if(e instanceof Backbone.Model){n=e.module;r={isFavorite:e.get("my_favorite")}}else{n=e;r={}}if(n&&i.nomad.supportsFavs(n)){a=t.fn(r)}return new Handlebars.SafeString(a)},join:function I(e,t){var n=t.hash.delimiter||",";var i=t.hash.start||0;var r=e?e.length:0;var a=t.hash.end||r;var s="";if(a>r)a=r;if(_.isFunction(t.fn)){for(var o=i;o<a;o++){if(o>i)s+=n;if(_.isString(e[o]))s+=e[o];else s+=t.fn(e[o])}return s}else{return[].concat(e).slice(i,a).join(n)}},joinPrimaryFirst:function O(e,t){var n=_.sortBy(e,function(e){return!e.primary});return Handlebars.helpers.join(n,t)},multienumStr:function N(e,t,n){var r=n.fn,a=n.hash;var s=_.isString(a.delimiter)?a.delimiter:", ";var o="";if(t&&t.length){var l=_.isString(e)?i.lang.getAppListStrings(e):e;t=_.isString(t)?t.replace(/(\^)/g,"").split(","):t;_.each(t,function(e){if(l[e]){o+=r?r({id:e,name:l[e]}):l[e]+s}})}if(o){o=o.substr(0,o.length-2)}return new Handlebars.SafeString(o)},fieldByName:function(){var e={my_favorite:{name:"my_favorite",type:"favorite"},following:{name:"following",type:"follow"}};return function(t,n,i){if(!t){return""}var r=_.isObject(t)?_.extend({},t):e[t]||{name:t};var a=i.hash.type;var s=n.view||this;var o=r.model||n.model;if(a){r.type=a}i.hash.model=o;return Handlebars.helpers.field.call(r,s,i)}}(),prop:function F(e,t,n){e=e||{};if(_.isString(e)){e=i.lang.getAppListStrings(e)}if(e[t]){return e[t]}if(!_.isUndefined(n.hash.defaultValue)){return n.hash.defaultValue}return i.nomad.isEmptyValue(t)?"":t},nl2:function B(e,t){var n=t.hash.str||" ";return e.replace(/\n|\r|\t/,n)},ifFewCurrenciesAreAvailable:function U(e){var t=_.any(i.metadata.getCurrencies(),function(e){return e.status==="Active"});return t?e.fn(this):e.inverse(this)},isEmpty:function P(e,t){return i.nomad.isEmptyValue(e)?t.fn(this):t.inverse(this)},isNotEmpty:function Y(e,t){return i.nomad.isEmptyValue(e)?t.inverse(this):t.fn(this)},ifFeatureSupported:function H(e,t){return i.supportedFeatures[e]?t.fn(this):t.inverse(this)},brandName:function G(){return i.config.brandName},html2text:function V(e,t){var n=/(<([^>]+)>)/gi;var i=e.replace(n,"").replace(/\s\s+/g," ");if(i.length>=t)i=i.substr(0,t);if(i)i+="...";return i},ternary:function j(e,t,n){return e?t:n},labeledFields:function z(e,t){var n=i.metadata.getModule(t,"fields");var r=[];_.each(e,function(e,a){var s=n[a];var o=i.lang.get(s.vname,t);r.push(o)});return new Handlebars.SafeString(r.join(", "))},comment:function q(e,t){var n=_.union(i.metadata.getModuleNames({filter:"visible"}),["Users"]).sort();var a=r.utils.stringToHtmlEntities({stringToTransform:e,allowUrlChars:true});a=i.nomad.utils.formatLinks(a);_.each(i.utils.deepCopy(t),function(e){if(!_.isObject(e)){return}_.each(e,function(t,n){e[n]=i.nomad.utils.stringToHtmlEntities({stringToTransform:t})});var t=new RegExp("@\\["+i.nomad.utils.escapeRegExp(e.module)+":"+i.nomad.utils.escapeRegExp(e.id)+":"+i.nomad.utils.escapeRegExp(e.name)+"\\]","g");var r=_.indexOf(n,e.module,true)===-1?e.name:"<a href='#"+e.module+"/"+e.id+"' class='sugar_tag label-"+e.module+"'>"+e.name+"</a>";a=a.replace(t,r)});return new Handlebars.SafeString(a)},userPicture:function W(e){var t=i.template.get("icon");var n={iconClass:i.config.ui.icons.menu.user,additionalClass:"user-icon"};var r=$(t(n));var a=i.api.buildFileURL({field:"picture",module:"Users",id:e},i.nomad.getFileOptions());r.css({backgroundImage:"url("+a+")"}).addClass("withPicture");return new Handlebars.SafeString(r[0].outerHTML)},activityItem:function K(e){var t=e.activity_type;var n=e.data;var r=n.object;var a=n.subject;var s="LBL_ACTIVITY_"+t.toUpperCase();var o={record:l(r),module:i.nomad.getSingularModuleName(r.module)};var K;switch(t){case"update":_.extend(o,{changes:Handlebars.helpers.labeledFields(n.changes,r.module)});break;case"link":case"unlink":_.extend(o,{relatedRecord:l(a)});break}K=i.lang.get(s,null,o);return new Handlebars.SafeString(K)},isActivityItemValid:function J(e,t){var n=e.activity_type;var r=e.data.object;var a=e.data.subject;var s=!!(r&&r.module);if(s){switch(n){case"link":case"unlink":s=!!(a&&a.module);break;case"update":s=!!i.metadata.getModule(r.module,"fields");break}}if(!s){i.logger.error("Activity item is not valid")}return s?t.fn(this):t.inverse(this)},debugAttributes:function X(e,t,n){if(_.indexOf(["debug","e2e"],i.config.scheme)===-1){return""}var r=n.hash.hasOwnProperty("localize");var a=n.hash.hasOwnProperty("removeSpaces");var s=t?Handlebars.Utils.escapeExpression(t):"";s=r?i.lang.get(t,n.hash.localize):s;s=a?s.replace(/\s+/g,""):s;return new Handlebars.SafeString(e+'="'+s+'"')},currencySelect:function Z(e){var t="";if(i.supportedFeatures.enumViaActionSheet){var n=_.find(e,function(e,t){return e.selected});n=n?n.iso4217:e[0].iso4217;t='<span class="actionsheet-select">'+n+"</span>"}else{t='<select name="currency_select">';_.each(e,function(e,n){var i=e.selected?"selected":"";var r=e.disabled?"disabled":"";t+='<option value="'+n+'" '+i+" "+r+' label="'+e.iso4217+'">'+e.iso4217+"</option>"});t+="</select>"}return new Handlebars.SafeString(t)},gaTrack:function Q(e,t){var n=t.gaTrack&&t.gaTrack[e];return n?new Handlebars.SafeString(i.utils.formatString('track="{0}"',[n])):""},"for":function ee(e,t,n){var i="";var r={};for(var a=e;a<t;a++){r.index=a;r.counter=a+1;i+=n.fn(this,{data:r})}return i},childViews:function te(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}var i=t.pop();var r=i.data.root;if(_.isEmpty(t)){t=_.map(this._viewDefs,function(e){return e.viewId})}var a="";_.each(t,function(e){var t=r.createViewById(e);var n=t.$el[0].tagName;a+="<"+n+' view-cid="'+t.cid+'" class="'+(t.$el.attr("class")||"")+' view-holder-hide"></'+n+">"});return new Handlebars.SafeString(a)}};_.each(c,function(e,t){return Handlebars.registerHelper(t,e)})},function(e,t,n){"use strict";var i=SUGAR.App;var r=Backbone.History.extend({_initialized:false,start:function a(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.silent=true;Backbone.History.prototype.start.call(i.navigation.history,e);window.removeEventListener("popstate",this.checkUrl,false);window.removeEventListener("hashchange",this.checkUrl,false);if(!this._initialized){$(window).on("popstate",_.bind(this._handleBrowserNavigation,this));this._initialized=true}this.clear();i.controller.navigate(window.location.hash)},stop:function s(){this.clear();Backbone.History.prototype.stop.apply(this,arguments)},navigate:function o(e){var t=void 0;this._previous=this._current;if(e.back){this.pop();t=this._current.url}else{var n=this.getPrevStep();t=e.url;if(this._current&&!e.replaceCurrent){this._steps.push(this._current)}else if(n&&n.url===t){this._steps.pop()}this._current=_.omit(e,"replaceCurrent")}if(!e.updateUrlOnly){this._logRouteChange();this.loadUrl(t)}if(this._current&&this._current.data){delete this._current.data}this._syncBrowserHistory()},getSteps:function l(){return this._steps},getCurrentStep:function u(){return this._current},getPrevStep:function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.includeSkipped;return t?this._previous:_.last(this._steps)},getCurrentUrl:function d(){return this._current?this._current.url:""},getStepById:function f(e){return _.findWhere(this._steps,{id:e})},clear:function h(){this._steps=[];this._current=this._previous=null},pop:function p(){if(this._steps.length!==0){this._current=this._steps.pop()}return this._current},getLength:function m(){return this._steps.length+1},go:function g(){},_handleBrowserNavigation:function v(e){var t=e.state;var n=window.location.hash;this._syncBrowserHistory();if(t){i.controller.handleBackButton()}else{i.controller.navigate(n)}},_syncBrowserHistory:function b(){var e=window.history;var t=window.location.hash;var n=this._steps;var i=n.length>1?n[n.length-2]:this._current;var r=i?i.url:t;var a=this._current?this._current.url:t;e.pushState({back:true},"",r);e.pushState({back:false},"",a)},_logRouteChange:function y(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.stepDef,n=e.options;var r="";if(t){r+='Route changed to "'+t.name+'"'}if(n){r+=" step options: "+JSON.stringify(n)}if(r){i.logger.debug(r)}}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={dashboard:function r(e,t,n,i,a){return{root:"Dashboards",dashboardId:e,dashletId:t,module:n,modelId:i,action:a}},recordDashboard:function a(e,t,n,i,r,s,o,l){return{root:e||"",parentModule:t,parentModelId:n,dashboardId:i,dashletId:r,module:s,modelId:o,action:l}},linkedListRecordDashboard:function s(e,t,n,r,a,o){return{linkParentModule:e,linkParentModelId:t,moduleLink:n,parentModule:i.data.getRelatedModule(e,n),parentModelId:r,dashboardId:a,dashletId:o}},twinDashboard:function o(e,t,n,i,r,a){return{root:"Dashboards",parentDashboardId:e,parentDashletId:t,parentModule:n,parentModelId:i,dashboardId:r,dashletId:a}},defaultView:function l(){i.controller.navigateToDefaultView()},list:function u(e,t){return{root:e,module:t}},record:function c(e,t,n,i){return{root:e,module:t,modelId:n,action:i}},create:function d(e,t){return{root:e,module:t,action:"create"}},relatedList:function f(e,t,n){return{link:n,parentModule:e,parentModelId:t}},relatedRecord:function h(e,t,n,i,r){return{link:n,parentModule:e,parentModelId:t,modelId:i,action:r}},associate:function p(e,t,n){return{link:n,parentModule:e,parentModelId:t,action:"associate"}},createRelated:function m(e,t,n){return{link:n,parentModule:e,parentModelId:t,action:"create"}},about:function _(){return{root:"About"}},logout:function g(e){i.loginManager.logout({clear:e,resetRoute:true})},settings:function v(){return{root:"Settings"}},offline:function b(e,t){return{root:"Offline",module:e,modelId:t}},errorEmulation:function y(){return{root:"ErrorEmulation"}},createCall:function x(e,t,n,i,r){return{module:"Calls",action:"createCall",callData:{direction:e,startDate:t,durationHours:n,durationMinutes:i,status:r}}},createRelatedCall:function S(e,t,n,i,r,a,s,o,l){return{parentModule:e,parentModelId:t,action:"createCall",link:n,callData:{direction:i,startDate:r,durationHours:a,durationMinutes:s,status:o,logCall:l}}},configure:function w(e,t,n,i,r){return{serverUrl:e,loginName:t,pageUrl:n,ssoOption:i,useHttps:r}}}},function(e,t,n){"use strict";e.exports={about:{},settings:{},logout:{},"error-emulation":{},offline:{"offline-list":{"offline-detail":{}}},list:{"home-dashboard":{"home-dashboard-dashlet":{"home-dashboard-detail":{"home-dashboard-action":{}}},"double-dashboard":{mappedOptions:{parentDashboardId:"dashboardId",parentDashletId:"dashletId"}}},"list-create":{},"record-detail":{"record-action":{},"relationships-list":{"relationships-create":{},"relationships-detail":{"linked-list-dashboard":{mappedOptions:{linkParentModule:"parentModule",linkParentModelId:"parentModelId",moduleLink:"link",parentModelId:"modelId"}},"relationships-createCall":{},"relationships-action":{}},mappedOptions:{parentModelId:"modelId",parentModule:"module"}},"record-dashboard-dashlet":{"record-dashboard-detail":{"record-dashboard-action":{}},mappedOptions:{parentModule:"module",parentModelId:"modelId"}},"relationships-associate":{mappedOptions:{parentModelId:"modelId",parentModule:"module"}},"record-createCall":{}}},"search-list":{"search-create":{},"search-record-detail":{"search-record-action":{}}},"default-view":{}}},function(e,t,n){"use strict";(function(e){var t=e.alert.show;var n=e.alert.init;var i={};e.events.on("app:view:change",function(t){if(t.isDynamic)return;var n=!!(t.dashboardId&&t.dashletId&&e.nomad.dashboards.getDashboardDashlets(t.dashboardId).length>1&&!t.modelId);$(document.body).toggleClass("has-pagination",n)});e.alert.show=function(n,r){r=r||{};if(r.pageHash&&r.pageHash!==window.location.hash){return}if(r.uid&&e.offlineEnabled){var a=r.requestOptions?r.requestOptions.params:{};if(!a.skipOfflineRead&&i[r.uid]){return}i[r.uid]=1}if(r.autoClose){_.defaults(r,{autoCloseDelay:e.config.ui.alertAutoCloseDelay})}return t.apply(this,arguments)};e.alert.init=function(){n.apply(this,arguments);this.klass=e.nomad.getViewClass({baseType:"alert"})}})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(6);var a=n(12);var s=n(20);var o=i.Controller.extend({_screenContext:{},_propagatingData:null,updateHeader:function l(e,t){var n=this.layoutManager.getLayouts();var i=_.find(n,function(t){return _.contains(t._components,e)});var r=i&&i._header;if(!r){return}var a=t(r);if(_.isObject(a)){r.setConfig(a)}},initialize:function u(){i.plugins.attach(this,"view");this.context=new r;if(i.isTouchCapable&&i.config.ui.fastClickEnabled){window.FastClick.attach(document.body)}if(!_.isEmpty($.os)){$(document.body).addClass($.os.android?"android":"ios")}var e=n(61);this.layoutManager=e.init({rootHolder:i.$contentEl,recordHolder:$("#content-child")});this._initializeNavigation();this._initializeOffline()},_createCall:function c(e){var t=e.callData,n=this.layoutManager._loadScreen(_.extend(e,{action:"create",isLoggingCall:t&&t.logCall}));var r=this.layoutManager.getRecordLayout().getComponent("edit");var a=i.nomad.utils.minutesToQuarterHours(t.durationMinutes);var s=t.durationHours;if(a===60){s=t.durationHours+1;a=0}r.setCallData({direction:t.direction,date_start:t.startDate,duration_hours:String(s),duration_minutes:String(a),status:t.status});return n},disposeDynamic:function d(e){this.layoutManager.disposeDynamicLayout(e)},_loadScreen:function f(e){if(!e.isDynamic){this._beforeLoadStatic(e)}var t=void 0;if(e.action==="createCall"){t=this._createCall(e)}else{if(this._propagatingData){e=_.extend({propagatingData:this._propagatingData},e)}t=this.layoutManager._loadScreen(e)}this._loadData(t);this._afterLoad(e);if(e.action==="associate"){this._handleAssociateRoute(t,e)}return t},loadScreen:function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=void 0;if(_.isFunction(e)){t={views:[e]}}else if(_.isObject(e)){if(_.isFunction(e.view)){t={views:[e.view],initOptions:e.initOptions,data:e.data,context:e.context,headerConfig:e.headerConfig}}else{t={views:[e.primary.view],initOptions:e.primary.initOptions,data:e.primary.data,context:e.primary.context,headerConfig:e.primary.headerConfig}}}if(e.fullScreen){t.fullScreen=true;t.appendTo="root"}var n=[t];if(i.isTablet&&e.secondary){n.splice(0,0,{views:[e.secondary.view],data:e.secondary.data,initOptions:e.secondary.initOptions,context:e.secondary.context,headerConfig:e.secondary.headerConfig})}var r={layouts:n};if(e.isDynamic){r.isDynamic=true;r.gaTrack=e.gaTrack}var a=this._loadScreen(r);var s=[];_.each(a,function(e){var t=_.find(e._components,function(e){return e._stringType!=="header"});if(t){s.push(t)}});return s},getScreenContext:function p(){return this._screenContext},getScreenContextRoot:function m(){var e=this._screenContext.root;var t=this._screenContext;if(e==="Dashboards"){e=[e];if(t.parentDashboardId){e.push(t.parentDashboardId,t.parentDashletId)}else if(t.dashboardId){e.push(this._screenContext.dashboardId);t.dashletId&&e.push(t.dashletId)}e=e.join("/")}return e},onHeaderMenuClick:function g(e){i.nomad.mainMenu.toggleMenu()},onHeaderCancelClick:function v(e){i.controller.goUp()},onUserPictureChange:function b(e){i.nomad.mainMenu._loadUserPicture(e.options.pictureId)},_handleAssociateRoute:function y(e,t){var n=this;var i=_.last(e);var r=i.getComponent(a);if(r.options.multiselect){r.onHeaderSaveClick=function(){n._linkRecords(r.getSelectedModels(),t)}}else{r.on("selection:change",function(e){n._linkRecords(e,t)})}},_linkRecords:function x(e,t){var n=this;var r=void 0;var a=i.data.createBean(t.parentModule,{id:t.parentModelId});i.syncAlertManager.pause("update",a);var s=async.queue(function(e,t){e.relateBean.save(null,{relate:true,fields:["id"],success:function n(){t()},error:function i(e,n,a){r=n;t(n)}})},1);s.drain=function(){i.syncAlertManager.resume("update",a,r);if(!r){n._onLinkRecordsSuccess({linkedModels:e,parentModel:a})}};_.each(e,function(e){s.push({relateBean:i.data.createRelatedBean(a,e.id,t.link)})})},_onLinkRecordsSuccess:function S(e){this._handleAfterLinkAction(e);i.controller.navigate({initiator:s.RELATE})},_handleAfterLinkAction:function w(e){var t=e.model?e.model.module:e.linkedModels[0].module;var n=e.parentModel;this.layoutManager.invalidateLayouts({list:{modules:[t]},detail:[{module:n.module,modelId:n.id}]})},onEditViewSave:function L(e){var t={};var n=e.options;var r=n.model;var a=n.parentModel;if(n.isCreate){t={list:{modules:[r.module,"Recents","Search"]}}}else{t={list:{modules:["Search"]},detail:{items:[{module:r.module,modelId:r.get("id")}],loadParams:{partialLoad:true}}}}this.layoutManager.invalidateLayouts(t);

if(r.link){this._invalidateAfterLinkAction(r)}var o=i.navigation.history.getPrevStep();if(!i.acl.hasAccessToModel("view",r)){this.layoutManager.invalidateLayouts({detail:[{module:r.module,modelId:r.get("id")}]});this.navigateToDefaultView();return}else if(n.isCreate&&this._screenContext.link&&(!o||this._screenContext.parentModelId===o.screenOptions.modelId)){this._handleAfterLinkAction(n)}if(!n.skipNavigation){i.controller.navigate({contextOptions:{module:r&&r.module,modelId:r&&r.id,parentModule:a&&a.module,parentModelId:a&&a.id,isCreate:n.isCreate},initiator:s.SAVE})}},_afterLoad:function E(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=void 0;if(e.isDynamic){var n=_.find(e.layouts,function(e){return!!e});t={gaTrack:e.gaTrack||n.gaTrack,context:n.context};t.isDynamic=true}else{t=_.clone(this._screenContext)}i.trigger("app:view:change",t)},_beforeLoadStatic:function k(e){this._screenContext=this._createScreenContext(e);if(e.root==="Login"){i.navigation.history.clear()}this._propagatingData=null;var t=i.navigation.history.getCurrentStep();if(e.modelId&&!_.contains([s.UP,s.BACK,s.SAVE],t.initiator)){_.each(this.layoutManager.getLayouts(),function(t){var n=t?t.getDataById(e.modelId):null;if(n){this._propagatingData=n}},this)}},_createScreenContext:function A(e){return i.utils.deepCopy(_.omit(e,"layouts"))},_loadData:function M(e){_.each(e,function(e){var t=e.context.isDataFetched();var n=false;var r=i.navigation.history.getCurrentStep()||{};var a=!_.contains([s.UP,s.BACK],r.initiator);var o={};var l;if(!t||e.options.isDynamic){n=true}else if(e.needLoadParams){if(_.isObject(e.needLoadParams)){o=e.needLoadParams}e.needLoadParams=null;o.backgroundSync=true;n=true}else{if(_.contains(["detail","edit"],e.options.baseType)){n=a}else if(e.options.baseType==="list"){if(i.config.ui.forceListReload){n=true}else{n=false}}}if(n){o.params=l;this._loadDataWithParams(e,o)}},this)},_loadDataWithParams:function T(e,t){t.params=t.params||{};if(e.options.baseType==="detail"||e.options.baseType==="edit"){t.params.viewed=true}if(t.partialLoad){e.loadDataPartial(t)}else{e.context.resetLoadFlag();e.loadData(t)}},_initializeNavigation:function C(){i.events.on("data:sync:success",function(e,t,n){var r={};var a=e==="delete";if(a){var o=this.layoutManager.getRootLayout(),l=_.without(["Recents"],o.module),u=o.context.get("parentModel"),c=o.context.get("parentModule");r={list:{modules:l}};if(t.link){this._invalidateAfterLinkAction(t)}if(!_.isEmpty(u)){this.layoutManager.invalidateLayouts({detail:[{modelId:u.id,module:c}]})}this.layoutManager.invalidateLayouts(r)}var d=this.layoutManager.getRecordLayout();if(a&&d&&d.model.id===t.id){i.controller.navigate({initiator:s.DELETE,contextOptions:{modelId:t.id}})}else{if(a){i.navigation.manager.forbidStep({modelId:t.id})}if(n.params.viewed&&this.getScreenContextRoot()!=="Recents"){this.layoutManager.invalidateLayouts({list:{modules:["Recents"]}})}}},this);i.events.on("data:sync:error",function(e,t,n,r){var a=this._screenContext;if(r&&i.error.isAccessError(r)&&a.action==="edit"&&a.modelId){i.navigation.manager.forbidStep({modelId:t.id})}},this)},_invalidateAfterLinkAction:function R(e){var t={detail:[{modelId:e.link.bean.id,module:e.link.bean.module}]};this.layoutManager.invalidateLayouts(t)},_initializeOffline:function D(){i.events.on("offline:data:updated",function(e){if(e.action==="delete"){this.layoutManager.invalidateLayouts({list:{modules:[e.module,"Recents"]}})}if(e.isCollection){var t=this.layoutManager.getRootLayout();if(t.options.baseType!=="list"||t.module!==e.module){this.layoutManager.invalidateLayouts({list:{modules:[e.module]}})}}},this)},clean:function I(e){e=e||{};this.disposeDynamic({disposeAll:true});i.activeComponents.closeAll();i.overlay.hideAll();if(e.disposeAll&&i.supportedFeatures.dashboards){i.nomad.dashboards.resetCollection()}this.layoutManager._clean(e)},navigate:function O(e,t){if(e instanceof Handlebars.SafeString){e=e.toString()}t=_.isObject(e)?e:_.extend({url:e},t);if(document.activeElement){document.activeElement.blur()}if(!this._isHandledByDynamic(t)){i.navigation.manager.navigate(t)}},navigateToDefaultView:function N(){i.controller.navigate({initiator:s.HOME})},goUp:function F(e){e=e||{};e.initiator=s.UP;this.navigate(e)},go:function B(){},goBack:function U(e){e=e||{};e.initiator=s.BACK;this.navigate(e)},handleBackButton:function P(e){e=e||{};e.initiator=s.BACK_BUTTON;this.navigate(e)},_isHandledByDynamic:function Y(e){var t=this.layoutManager.isDynamicLayoutLoaded();var n=i.activeComponents.hasActiveComponents();var r=i.navigation.manager.getHistoryLength()>1;var a=this.layoutManager.isDynamicLayoutLoaded()&&!this.layoutManager.layoutCache.isEmpty();var o=false;switch(e.initiator){case s.BACK:if(t){this.disposeDynamic();o=true}else if(n){i.activeComponents.closeAll()}break;case s.BACK_BUTTON:if(t){this.disposeDynamic();o=true}else if(n){i.activeComponents.closeRecent();o=true}e.initiator=s.BACK;break;case s.UP:if(t){this.disposeDynamic();o=true}break;default:if(t){this.disposeDynamic({skipAttachPrevious:true})}i.activeComponents.closeAll();break}var l=i.controller.layoutManager.getLayouts();if(t&&o&&!r&&!a){if(i.api.isAuthenticated()){i.navigation.manager.exitApp()}else{o=!_.isEmpty(l)}}var u=l.length===1;if(o&&u){$(document.body).removeClass("show-content-child")}return o},loadAdditionalComponents:function H(){}});i.augment("NomadController",o,false);e.exports=o},function(e,t,n){"use strict";(function(e){var t=e.data.sync;var n=e.data.createBeanCollection;var i=e.data.createMixedBeanCollection;_.extend(e.data,{sync:function r(n,i,a){var s;var o;a.apiOptions=a.apiOptions||{};a.apiOptions.cid=i.cid;a.apiOptions.pageHash=e.navigation.history.getCurrentUrl();a.params=a.params||{};a.query=a.params.q;if(n==="read"){if(e.offlineEnabled&&_.isUndefined(a.params.skipOfflineRead)){a.params.skipOfflineRead=i.offlineReadDisabled}}if(i instanceof e.BeanCollection&&a.query){s=i.orderBy;i.orderBy=null}if(i instanceof e.MixedBeanCollection&&!_.isEmpty(i.module_list)){delete a.fields}else if(this._isRecentsCollection(i)){a.module_list=e.metadata.getModuleNames({filter:"visible",access:"list"});a.limit=e.config.fetchLimit.recents;delete a.fields}o=t.apply(this,arguments);if(s){i.orderBy=s}return o},_getMergedFields:function a(t){return _.chain(t).map(function(t){return e.metadata.getModule(t).mergedFields}).flatten().uniq().value()},_isRecentsCollection:function s(t){return t instanceof e.BeanCollection&&t.module==="Recents"},createBeanCollection:function o(e,t,i){return this._createCollection(n,arguments)},createMixedBeanCollection:function l(e){return this._createCollection(i,arguments)},_createCollection:function u(e,t){var n=e.apply(this,t);n.cid=_.uniqueId("c");return n}})})(SUGAR.App)},function(e,t,n){"use strict";var i=n(47);var r=SUGAR.App;var a=r.Router;r.Router=r.Router.extend({init:function s(){a.prototype.init.call(this);this.addRoutes(i.getRoutes())},login:function o(){var e=r.controller.layoutManager.getRootLayout(),t=e&&e.options.baseType==="login";if(!t){r.controller.clean({disposeAll:true});r.controller._loadScreen({root:"Login"})}},logout:function l(e){r.loginManager.logout({clear:true})},navigate:function u(e,t){r.controller.navigate(e,t)},go:function c(e){},goBack:function d(){r.controller.goBack()},refresh:function f(){r.navigation.manager.refresh()},_routeHandler:function h(e){var t=Array.prototype.slice.call(arguments,1),n=e.route;this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment();e.apply(this,t);r.routing.after(n,t)},_addDefaultRoutes:function p(){}});r.routing.utils={convertExternalRoute:function m(e){if(_.isEmpty(e))return"";if(e==="logout"){return"logout"}if(e==="activities"){return"Activities"}var t=_.reduce(r.navigation.manager.getRoutes(),function(e,t){var n=t.route;if(_.isString(n)&&n.indexOf(":")===-1){e.push(n)}return e},[]);if(_.contains(t,e)){return e}var n=e.split("/"),i=n[0],a,s=["home","search","recents","dashboards"],o=_.contains(s,n[0].toLowerCase()),l=o?n[0]+"/":null;if(i==="bwc"){var u=n[1],c=u.split("?")[1],d=r.nomad.utils.parseQueryString(c);i=d["module"];if(!i)return"";var f=d["action"],h=d["record"];f=f.toLowerCase();if(f==="index"){a=[i]}else if(f==="detailview"&&!_.isEmpty(h)){a=[i,h]}else if(f==="editview"&&_.isEmpty(h)){if(d["parent_type"]&&d["parent_id"]){a=[d["parent_type"],d["parent_id"],"link",i.toLowerCase(),"create"]}else{a=[i,"create"]}}else{a=[i]}}else{a=n}var p=a.length;if(o){if(i==="Dashboards"){return e}else if(i==="Home"&&n.length===2){return e.replace("Home","Dashboards")}else{if(!a[1]||!_.contains(r.metadata.getModuleNames(),a[1])){return n[0].toLowerCase()==="home"?r.nomad.DEFAULT_ROUTE:n[0]}else{a.shift();i=a[0]}}}var m=a[1],g=a[2],v=a[3];function b(){var e=o?l:"";return e+_.toArray(arguments).join("/")}var y=r.metadata.getModule(i),x=(o?l:"")+a.join("/");if(o&&p===2||y&&(g==="Dashboards"||a[5]==="Dashboards")){return x}else if(i==="Offline"){var S=["TxLog","offlineStats","offlineSettings","offlineDataGeneration"];if(e===i||m==="TxLog"&&g||_.contains(S,m)&&a.length===2){return x}return false}else if(i==="Configure"||i.substring(0,10)==="createCall"){return x}else if(m==="offline"&&g==="TxLog"&&!_.isEmpty(v)){return x}else if(i==="error"){if(!m||m&&!g){return x}}else if(i){var w=["vcard-import","create"],L=m==="create";if(L){return b(i,"create")}else if(!_.isEmpty(m)&&!L){if(_.isEmpty(g)&&!_.contains(w,m)){return b(i,m)}else if(_.contains(["edit"],g)&&(_.isEmpty(v)||_.isNumber(parseInt(v)))){return x}else if(g==="links"&&_.contains(["create","associate"],v)){return x}}var E=["vcard-import"];if(!_.isEmpty(m)&&_.contains(E,m)){return false}if(g==="link"){var k=a[4],A=a[5];if(!_.isEmpty(v)&&_.isEmpty(k)){return x}else if(v==="calls"&&k.split("?")[0]==="createCall"){return x}else if(k&&_.isEmpty(A)){return x}else if(k&&_.contains(["edit"],A)){return x}else{return false}}return i}return false}}},function(e,t,n){"use strict";function i(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var r=SUGAR.App;var a=n(1);var s=n(3);var o=n(5);var l=n(16);var u=n(76);var c={init:function f(){if(r.config.nps.enabled){d.init()}},onAppPause:function h(){this.timePaused=(new Date).getTime();var e=this.timeResumed?(this.timePaused-this.timeResumed)/1e3:0;if(r.api.isAuthenticated()&&e>r.config.nps.sessionLength){d.incrementNpsSessionCount()}},onAppResume:function p(){this.timeResumed=(new Date).getTime();if(r.api.isAuthenticated()){d.checkNpsTriggerCriteria()}}};r.augment("npsManager",c,false);e.exports=c;var d={kAppUpdatedKey:"kAppUpdated",kSessionCountKey:"kSessionCount",kStartDateKey:"kStartDate",kAttemptIndexKey:"kAttemptIndex",kLastFeedbackSubmitDateKey:"kLastFeedbackSubmitDate",init:function m(){this._subscribeEvents();if(r.api.isAuthenticated()){this.checkNpsTriggerCriteria()}},_subscribeEvents:function g(){r.events.on("app:login:success",this._onLoginSuccess,this).on("app:upgraded",this._onAppUpgrade,this)},_unsubscribeEvents:function v(){r.events.off("app:login:success app:upgraded",null,this)},_subscribeViewChangeEvents:function b(){r.events.on("app:view:change",this._onViewChange,this)},_unsubscribeViewChangeEvents:function y(){r.events.off("app:view:change",null,this)},_onLoginSuccess:function x(){var e=a.getSetting(this.kAppUpdatedKey);var t=l.getSetting(this.kLastFeedbackSubmitDateKey);var n=l.getSetting(this.kAttemptIndexKey);if(!t&&e||_.isUndefined(n)){this._moveToAttemptIndex(0);a.setSetting(this.kAppUpdatedKey,0)}this.incrementNpsSessionCount();this.checkNpsTriggerCriteria()},_onAppUpgrade:function S(){a.setSetting(this.kAppUpdatedKey,1)},checkNpsTriggerCriteria:function w(){var e=l.getSetting();var t=e[this.kAttemptIndexKey]||0;var n=e[this.kStartDateKey];var i=e[this.kSessionCountKey];var a=r.config.nps.attemptCriteria[t];if(this._daysFromToday(n)>=a.days&&i>a.sessions){this._unsubscribeViewChangeEvents();this._subscribeViewChangeEvents()}},_onViewChange:function L(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.root==="Search"){this._unsubscribeViewChangeEvents();u.show({onSelect:function n(t){var n=t.rateCount;r.analytics.setNpsRating(n);l.setSetting(e.kLastFeedbackSubmitDateKey,(new Date).getTime());e._onNpsSubmit()},onRateAppSelect:function i(){a.openAppStore()},onCancel:function s(){e._onNpsSkip()}})}},_onNpsSkip:function E(){var e=l.getSetting(this.kAttemptIndexKey);this._moveToAttemptIndex(e+1<r.config.nps.attemptCriteria.length?e+1:e)},_onNpsSubmit:function k(){this._moveToAttemptIndex(r.config.nps.attemptCriteria.length-1)},_moveToAttemptIndex:function A(){var e;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;l.setSetting((e={},i(e,this.kAttemptIndexKey,t),i(e,this.kStartDateKey,(new Date).getTime()),i(e,this.kSessionCountKey,0),e))},incrementNpsSessionCount:function M(){var e=l.getSetting(this.kSessionCountKey)||0;l.setSetting(this.kSessionCountKey,e+1)},_daysFromToday:function T(e){var t=new Date(e).getTime();var n=(new Date).getTime();return parseInt((n-t)/(24*3600*1e3))}}},function(e,t,n){"use strict";(function(e){var t=e.view.declareComponent;e.view.declareComponent=function(n,i,r){if(_.isFunction(i)){return i}else if(n==="field"){return e.nomad.getFieldClass({baseType:i,module:r,shouldReturnDefault:true})}else{return t.apply(this,arguments)}};SUGAR.forms.FlashField=function(){};SUGAR.forms.markField=SUGAR.forms.unmarkField=function(){};e.metadata.copy=function(t,n){n=n||{};if(n.bean instanceof e.Bean){return e.utils.deepCopy(t)}else{return t}};e.data.getEditableFields=function(t,n){var i={};_.each(n,function(n){if(e.acl.hasAccessToModel("edit",t,n)){i[n]=t.get(n)}});i["id"]=t.get("id");return i};var i=SUGAR.expressions.SidecarExpressionContext.prototype.setValue;SUGAR.expressions.SidecarExpressionContext.prototype.setValue=function(e,t){if(_.isObject(t)&&_.keys(t).length===1&&_.keys(t)[0]==="undefined"){return}i.call(this,e,t);var n=this.getField(e);if(n&&n.type==="enum"&&n.def.visibility_grid){n.render()}};SUGAR.expressions.SidecarExpressionContext.prototype.setFieldRequired=function(e,t){t=SUGAR.expressions.Expression.isTruthy(t);var n=this.view.getField(e,this.model);if(n){n.setRequired(t)}};_.extend(SUGAR.expressions.SidecarExpressionContext.prototype,{addClass:function u(e,t){var n=this.view.getField(e,this.model);if(n){n.$el.addClass(t)}},removeClass:function c(e,t){var n=this.view.getField(e,this.model);if(n){n.$el.removeClass(t)}}});e.error.errorName2Keys.email="ERR_MOBILE_EMAIL";e.MixedBeanCollection.prototype.fetch=function(t){var n=e.metadata.getModuleNames({filter:"visible",access:"list"});t=t||{};t.module_list=this.module_list=t.module_list||this.module_list||n;if(t.module_list!==n){t.module_list=_.filter(t.module_list,function(e){return _.contains(n,e)})}if(!t.module_list.length)return;var i=!_.isUndefined(t.myItems)?t.myItems:this.myItems;if(i){var r=_.select(t.module_list,function(t){return e.nomad.supportsMyItems(t)});t=_.extend({},t,{module_list:r})}return e.BeanCollection.prototype.fetch.call(this,t)};e.augment("hacks",{hackModuleList:function d(){var t=e.user.get("module_list"),n=e.metadata.getModules();for(var i=0;i<t.length;++i){if(!n[t[i]])t.splice(i--,1)}},hackAcls:function f(){var t=e.user.getAcls(),n=t.Users;if(_.isEmpty(t)){return}n["delete"]="no";if(_.isArray(n.fields)){n.fields={}}n.fields.status={create:"no",write:"no"};var i=["access","admin","delete","developer","edit","export","import","list","massupdate","view"];_.each(_.keys(t),function(n){if(!e.metadata.getModule(n)&&!_.contains(e.user.get("module_list"),n)){_.each(i,function(e){t[n][e]="no"})}});e.user.set("acl",t)}});delete e.validation.validators.datetime;delete e.validation.validators.primaryEmail;var r=$.param;$.param=function(e){if(e instanceof ArrayBuffer){return e}else return r.apply(this,arguments)};var a=$.ajax;$.ajax=function(e){if(e.files&&e.files.length>0){return s(e)}else{return a.apply($,arguments)}};function s(t){var n=t.files,i=t.files.fieldName,r=n.fileData.name||"newfile",a=n.fileData.type||"application/octet-stream",s=n.fileData.binary,o={"OAuth-Token":e.api.getOAuthToken()};function l(e){function t(e){return e.charCodeAt(0)&255}var n=Array.prototype.map.call(e,t);var i=new Uint8Array(n);return i.buffer}var u="xxxxxx",c="\r\n",d="";d+="--"+u+c;d+="Content-Disposition: form-data;";d+='name="'+i+'"; filename="'+r+'"'+c;d+="Content-Type: "+a+c+c;d+=s+c;d+="--"+u+"--";return $.ajax({complete:t.complete,error:t.error,success:t.success,type:"POST",url:t.url,data:l(d),processData:false,contentType:"multipart/form-data; boundary="+u,headers:o,dataType:"json"})}var o=e.metadata.sync;e.metadata.sync=function(t,n){if(e.lang.getLanguage()&&e.user.get("preferences")&&e.lang.getLanguage()!==e.user.get("preferences").language||!e.config.cacheMeta){n=n||{};n.forceRefresh=true;e.logger.debug("Forcing meta refresh as user language has changed")}o.call(this,t,n)};e.accessibility={run:function h(){}};e.cache.clean=function(){};var l=e.cache.init;e.cache.init=function(){var t=e.config.env+":"+e.config.appId+":";var i=1;var r=n(91);r({uniqueKey:i,env:e.config.env,appId:e.config.appId});e.cache.set(t+"uniqueKey",i);l.call(this)};e.events.on("app:init",function(){var t=e.api.records;e.api.records=function(n,i,r,a,s,o){var l;o=o||{};if(a.recents){delete a.recents;i="recent";if(s.success){l=s.success;s.success=function(e){e.next_offset=-1;l.apply(this,arguments)}}}return t.call(e.api,n,i,r,a,s,o)};var n=e.api.search;e.api.search=function(i,r,a){var s=e.serverInfo.isSevenUp&&_.contains(["Users","Employees"],i.module_list);if(s){i.q=i.q||"";var o=i.q.split(" ");var l=void 0;if(o.length>1){l=[{$and:[{first_name:{$starts:_.first(o)}},{last_name:{$starts:_.rest(o).join(" ")}}]}]}else{l=[{$or:[{first_name:{$starts:_.first(o)}},{last_name:{$starts:_.first(o)}}]}]}i=_.extend({},i,{filter:l,q:null});return t.call(this,"read",i.module_list,null,i,r,a)}else{return n.apply(this,arguments)}};function i(){var t=0;var n=false;$(window.document).on({ajaxSuccess:function i(r,a,s){var o,l,u;if(n||s.type.toUpperCase()!=="GET"){return}o=a.getResponseHeader("cache-control")||"";l=/max-age=(\d+)/i.exec(o)||[];l=+l[1]||0;if(l>e.config.maxHttpCacheAge){l=e.config.maxHttpCacheAge}u=new Date;u=u.setSeconds(u.getSeconds()+l);if(u>t){t=u}},ajaxError:function r(){n=t>(new Date).getTime()},ajaxBeforeSend:function a(i,r,s){var o=(new Date).getTime();if(s.type==="GET"){if(n&&t>o){s.url+=(s.url.indexOf("?")===-1?"?":"&")+"nomad_timestamp="+o}else{n=false}}else if(s.url!==e.api.buildURL("bulk")){n=t>o}}})}i();var r=e.api.buildURL;e.api.buildURL=function(e,t,n,i){var a=r.apply(this,arguments);if(t==="favorite"||t==="unfavorite"){var s={fields:"my_favorite,following"};if(t==="favorite"){s.viewed=1}a+="?"+$.param(s)}return a}})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){e.baseMetadata={_hash:"_base_",modules:{Dashboards:{_hash:"DashboardsHash",fields:{_hash:"DashboardsFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar"},dashboard_type:{name:"dashboard_type",type:"varchar"},date_modified:{name:"date_modified",type:"datetime"},url:{name:"url",type:"varchar"},metadata:{name:"metadata",type:"metadata"}},layouts:{},views:{}},Comments:{_hash:"CommentsHash",layouts:{},fields:{name:{name:"name",type:"varchar"},date_entered:{name:"date_entered",type:"datetime"},date_modified:{name:"date_modified",type:"datetime"},created_by:{name:"created_by",type:"id"},created_by_name:{name:"created_by_name",type:"relate",link:"created_by_link"},activities:{name:"activities",type:"link",relationship:"comments",module:"Activities"},parent_id:{name:"parent_id",type:"id"},data:{name:"data",type:"json"},_hash:"CommentsFieldsHash"}},Activities:{_hash:"ActivitiesHash",layouts:{},fields:{_hash:"ActivitiesFieldsHash",name:{name:"name",type:"varchar"},date_entered:{name:"date_entered",type:"datetime"},date_modified:{name:"date_modified",type:"datetime"},parent_id:{name:"parent_id",type:"id"},parent_type:{name:"parent_type",type:"varchar"},activity_type:{name:"activity_type",type:"varchar"},data:{name:"data",type:"json"},comment_count:{name:"comment_count",type:"int"},last_comment:{name:"last_comment",type:"json"},created_by:{name:"created_by",type:"id"},comments:{module:"Comments",name:"comments",relationship:"comments",type:"link"}},mergedFields:[],filters:{_hash:"ActivitiesFiltersHash",activity:{meta:{create:false,default_filter:"all_records",quicksearch_field:[],quicksearch_priority:2,filters:[{id:"all_records",name:"LBL_LISTVIEW_FILTER_ALL",filter_definition:[],editable:false},{id:"messages_for_create",name:"LBL_ACTIVITY_CREATE",filter_definition:{$or:[{activity_type:"create"},{activity_type:"attach"}]},editable:false},{id:"messages_for_update",name:"LBL_ACTIVITY_UPDATE",filter_definition:{activity_type:"update"},editable:false},{id:"messages_for_link",name:"LBL_ACTIVITY_LINK",filter_definition:{activity_type:"link"},editable:false},{id:"messages_for_unlink",name:"LBL_ACTIVITY_UNLINK",filter_definition:{activity_type:"unlink"},editable:false},{id:"messages_for_post",name:"LBL_ACTIVITY_POST",filter_definition:{activity_type:"post"},editable:false}]}}},views:{list:{meta:{panels:[{fields:[]}]}},"activitystream-dashlet":{meta:{panels:[{fields:[]}],view:{auto_refresh:0,currentFilterId:"all_records",module:"Activities",type:"activitystream-dashlet"}}}}},Filters:{_hash:"FiltersHash",fields:{_hash:"FiltersFieldsHash"},layouts:{}},Teams:{_hash:"TeamsHash",favoritesEnabled:false,ftsEnabled:false,mergedFields:["id","name","name_2"],fields:{_hash:"TeamsFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar",unified_search:true},name_2:{name:"name_2",type:"varchar",unified_search:true},primary:{name:"primary",type:"boolean"}},views:{list:{meta:{panels:[{fields:[{name:"name",type:"text"},{name:"name_2",type:"varchar"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}}},Login:{_hash:"LoginHash",fields:{_hash:"LoginFieldsHash",username:{name:"username",type:"username",required:true},password:{name:"password",type:"password",required:true}},views:{login:{meta:{panels:[{label:"Login",fields:[{name:"username",label:"Username"},{name:"password",label:"Password"}]}]}}},layouts:{login:{meta:{type:"login",components:[{view:"login"}]}}}},About:{_hash:"AboutHash",fields:{_hash:"AboutFieldsHash",app_version:{name:"app_version",type:"varchar"},trial_until:{name:"trial_until",type:"date"},sdk_version:{name:"sdk_version",type:"varchar"},server_version:{name:"server_version",type:"varchar"},server_url:{name:"server_url",type:"url"},support_email:{name:"support_email",type:"url"},support_website:{name:"support_website",type:"url"}},views:{about:{meta:{panels:[{label:"LNK_ABOUT",fields:[{name:"app_version",label:"LBL_MOBILE_APP_VERSION",view:"readonly"},{name:"trial_until",label:"LBL_MOBILE_TRIAL_UNTIL",view:"readonly"},{name:"sdk_version",label:"LBL_MOBILE_SDK_VERSION",view:"readonly"},{name:"server_version",label:"LBL_MOBILE_SERVER_VERSION",view:"readonly"},{name:"server_url",label:"LBL_MOBILE_SERVER_URL",css_class:"server_url"},{name:"support_email",label:"LBL_MOBILE_FEEDBACK",css_class:"support_email hide"},{name:"support_website",label:"LBL_MOBILE_SUPPORT",css_class:"support_website"}]}]}}},layouts:{about:{meta:{type:"about",components:[{view:"about"}]}}}},Error:{_hash:"Error",fields:{_hash:"ErrorHash"},layouts:{},views:{}},Settings:{_hash:"SettingsHash",fields:{_hash:"SettingsFieldsHash",language:{name:"language",type:"enum","default":"en_us"},logging:{name:"logging",type:"enum"},fontSize:{name:"fontSize",type:"enum","default":"normal"}},views:{settings:{meta:{panels:[{label:"LNK_SETTINGS",fields:[{name:"language",label:"LBL_LANGUAGE",options:"available_language_dom",view:"edit","default":"en_us"},{name:"logging",label:"LBL_LOG_LEVEL",options:["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"],view:"edit"},{name:"fontSize",label:"LBL_SET_FONTSIZE",view:"edit","default":"normal"}]}]}}},layouts:{settings:{meta:{type:"settings",components:[{view:"settings"}]}}}},TxLog:{_hash:"txLogHash",fields:{_hash:"TxLogFieldsHash",_tx_action:{name:"_tx_action"},_tx_bean_module:{name:"_tx_bean_module"},_tx_updated_fields:{name:"_tx_updated_fields"},_tx_error_count:{name:"_tx_error_count"}},views:{list:{meta:{panels:[{label:"XXX",fields:[{name:"_tx_action"},{name:"_tx_bean_module"}]}]}},detail:{meta:{panels:[{label:"XXX",fields:[{name:"_tx_action"},{name:"_tx_bean_module"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}},detail:{meta:{type:"detail",components:[{view:"detail"}]}}}},Offline:{_hash:"OfflineHash",fields:{_hash:"OfflineFieldsHash"},views:{},layouts:{}},Recents:{_hash:"RecentsHash",fields:{_hash:"RecentsFieldsHash"},views:{list:{meta:{panels:[{fields:[]}]}}},layouts:{list:{meta:{type:"list"}}}},Search:{_hash:"SearchHash",fields:{_hash:"SearchFieldsHash",assigned_user_id:{name:"assigned_user_id"}},views:{list:{meta:{panels:[{fields:[]}]}}},layouts:{list:{meta:{type:"list"}}},favoritesEnabled:true},ErrorEmulation:{_hash:"ErrorEmulationHash",fields:{_hash:"ErrorEmulationHash"},views:{},layouts:{}},ProductTypes:{_hash:"ProductTypesHash",fields:{_hash:"ProductTypesFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar",vname:"LBL_NAME"}},views:{list:{meta:{panels:[{fields:[{name:"name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name"],ftsEnabled:false,favoritesEnabled:false,_patched:true},ProductCategories:{_hash:"ProductCategoriesHash",fields:{_hash:"ProductCategoriesFieldsHash",id:{name:"id",vname:"LBL_ID",type:"id",required:true},name:{name:"name",vname:"LBL_NAME",type:"varchar",len:50,required:true},parent_id:{name:"parent_id",type:"id",vname:"LBL_PARENT_NAME"},parent_name:{id_name:"parent_id",link:"member_categories",module:"ProductCategories",name:"parent_name",source:"non-db",type:"relate",unified_search:true,vname:"LBL_PARENT_CATEGORY"}},views:{list:{meta:{panels:[{fields:[{name:"name"},{name:"parent_name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name","parent_name","parent_id"],ftsEnabled:false,favoritesEnabled:false,_patched:true},ProductTemplates:{_hash:"ProductTemplatesHash",fields:{_hash:"ProductTemplatesFieldsHash",id:{name:"id",vname:"LBL_ID",type:"id",required:true},deleted:{name:"deleted",vname:"LBL_DELETED",type:"bool",required:false,"default":"0"},date_entered:{name:"date_entered",vname:"LBL_DATE_ENTERED",type:"datetime"},date_modified:{name:"date_modified",vname:"LBL_DATE_MODIFIED",type:"datetime"},modified_user_id:{name:"modified_user_id",rname:"user_name",id_name:"modified_user_id",vname:"LBL_MODIFIED_ID",type:"assigned_user_name"},created_by:{name:"created_by",rname:"user_name",id_name:"modified_user_id",vname:"LBL_CREATED_ID",type:"assigned_user_name"},type_id:{name:"type_id",type:"id",required:false,vname:"LBL_TYPE_ID"},manufacturer_id:{name:"manufacturer_id",type:"id",required:false,vname:"LBL_LIST_MANUFACTURER_ID"},manufacturer_name:{name:"manufacturer_name",rname:"name",id_name:"manufacturer_id",type:"relate",vname:"LBL_MANUFACTURER_NAME",join_name:"manufacturers",link:"manufacturer_link",module:"Manufacturers"},category_id:{name:"category_id",type:"id",required:false,vname:"LBL_LIST_CATEGORY_ID"},category_name:{name:"category_name",rname:"name",id_name:"category_id",vname:"LBL_CATEGORY_NAME",join_name:"product_categories",type:"relate",link:"category_link",module:"ProductCategories",source:"non-db"},type_name:{name:"type_name",rname:"name",id_name:"type_id",vname:"LBL_TYPE",join_name:"product_types",type:"relate",link:"type_link",module:"ProductTypes",source:"non-db"},name:{name:"name",vname:"LBL_NAME",type:"varchar",len:50,required:true},mft_part_num:{name:"mft_part_num",vname:"LBL_MFT_PART_NUM",type:"varchar",len:50},vendor_part_num:{name:"vendor_part_num",vname:"LBL_VENDOR_PART_NUM",type:"varchar",len:50},date_cost_price:{name:"date_cost_price",vname:"LBL_DATE_COST_PRICE",type:"date"},cost_price:{name:"cost_price",vname:"LBL_COST_PRICE",type:"currency",required:true,len:null},discount_price:{name:"discount_price",vname:"LBL_DISCOUNT_PRICE",required:true,type:"currency",len:null},list_price:{name:"list_price",vname:"LBL_LIST_PRICE",required:true,type:"currency",len:null},cost_usdollar:{name:"cost_usdollar",vname:"LBL_COST_USDOLLAR",type:"currency",len:null},discount_usdollar:{name:"discount_usdollar",vname:"LBL_DISCOUNT_USDOLLAR",type:"currency",len:null},list_usdollar:{name:"list_usdollar",vname:"LBL_LIST_USDOLLAR",type:"currency",len:null},currency_id:{name:"currency_id",vname:"LBL_CURRENCY",type:"currency_id",required:false,"default":"-99"},currency_symbol:{name:"currency_symbol",type:"varchar",vname:"LBL_CURRENCY_SYMBOL_NAME",source:"non-db"},currency:{name:"currency",vname:"LBL_CURRENCY",type:"varchar",required:false,sortable:false},status:{name:"status",vname:"LBL_STATUS",type:"enum",options:"product_template_status_dom",len:100},tax_class:{name:"tax_class",vname:"LBL_TAX_CLASS",type:"enum",options:"tax_class_dom",len:100},date_available:{name:"date_available",vname:"LBL_DATE_AVAILABLE",type:"date"},website:{name:"website",vname:"LBL_URL",type:"varchar",len:255},weight:{name:"weight",vname:"LBL_WEIGHT",type:"decimal",len:12,precision:"2"},qty_in_stock:{name:"qty_in_stock",vname:"LBL_QUANTITY",type:"int",len:5},description:{name:"description",vname:"LBL_DESCRIPTION",type:"text"},support_name:{name:"support_name",vname:"LBL_SUPPORT_NAME",type:"varchar",len:50},support_description:{name:"support_description",vname:"LBL_SUPPORT_DESCRIPTION",type:"varchar",len:255},support_contact:{name:"support_contact",vname:"LBL_SUPPORT_CONTACT",type:"varchar",len:50},support_term:{name:"support_term",vname:"LBL_SUPPORT_TERM",type:"enum",options:"support_term_dom",len:100},pricing_formula:{name:"pricing_formula",vname:"LBL_PRICING_FORMULA",type:"varchar",len:100},pricing_factor:{name:"pricing_factor",vname:"LBL_PRICING_FACTOR",type:"decimal",len:8,precision:"2"},created_by_link:{name:"created_by_link",type:"link",relationship:"product_templates_created_by",vname:"LBL_CREATED_BY_USER",link_type:"one",module:"Users",source:"non-db"},modified_user_link:{name:"modified_user_link",type:"link",relationship:"product_templates_modified_user",vname:"LBL_MODIFIED_BY_USER",link_type:"one",module:"Users",source:"non-db"},category_link:{name:"category_link",type:"link",relationship:"product_templates_product_categories",vname:"LBL_PRODUCT_CATEGORIES",link_type:"one",module:"ProductCategories",source:"non-db"},type_link:{name:"type_link",type:"link",relationship:"product_templates_product_types",vname:"LBL_PRODUCT_TYPES",link_type:"one",module:"ProductTypes",source:"non-db"},manufacturer_link:{name:"manufacturer_link",type:"link",relationship:"product_templates_manufacturers",vname:"LBL_MANUFACTURERS",link_type:"one",module:"Manufacturers",source:"non-db"}},views:{list:{meta:{panels:[{fields:[{name:"name",label:"LBL_NAME"},{name:"category_name",label:"LBL_CATEGORY_NAME"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["currency_id","category_id","category_name","cost_price","cost_usdollar","discount_price,","discount_usdollar","list_price","list_usdollar","mft_part_num","name","tax_class","weight"],ftsEnabled:false,favoritesEnabled:false,_patched:true},Forecasts:{_hash:"ForecastsHash",config:{sales_stage_won:["Closed Won"],sales_stage_lost:["Closed Lost"]}},Manufacturers:{_hash:"ManufacturersHash",fields:{_hash:"ManufacturersFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"name",unified_search:true}},views:{list:{meta:{panels:[{fields:[{name:"name",label:"LBL_NAME","default":true,enabled:true,type:"name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name"],ftsEnabled:false,favoritesEnabled:false},Home:{_hash:"HomeHash",layouts:{},fields:{_hash:"HomeFieldsHash"},mergedFields:[],views:{casessummary:{meta:{dashlets:[{description:"LBL_CASE_SUMMARY_CHART_DESC",
label:"LBL_CASE_SUMMARY_CHART"}],tabs:[{filters:{status:{$in:["New"]}},status:"New",link:"cases",module:"Cases"},{filters:{status:{$in:["Pending Input"]}},status:"Pending Input",link:"cases",module:"Cases",favoritesEnabled:false,ftsEnabled:false},{filters:{status:{$in:["Assigned"]}},status:"Assigned",link:"cases",module:"Cases",favoritesEnabled:false,ftsEnabled:false}]}}}}},views:{"activitystream-dashlet":{meta:{}}},relationships:{comments:{lhs_key:"id",lhs_module:"Activities",lhs_table:"activities",name:"comments",relationship_type:"one-to-many",rhs_key:"parent_id",rhs_module:"Comments",rhs_table:"comments"},product_templates_product_types:{lhs_key:"id",lhs_module:"ProductTypes",lhs_table:"product_types",name:"product_templates_product_types",relationship_type:"one-to-many",rhs_key:"type_id",rhs_module:"ProductTemplates",rhs_table:"product_templates"},product_templates_product_categories:{lhs_key:"id",lhs_module:"ProductCategories",lhs_table:"product_categories",name:"product_templates_product_categories",relationship_type:"one-to-many",rhs_key:"category_id",rhs_module:"ProductTemplates",rhs_table:"product_templates"}},app_strings:{LBL_COMMENT_ADD:"Add a Comment",LBL_REQUIRED:"Required",LBL_MORE_BUTTON:"More",LBL_TRY_AGAIN:"Try again",LBL_NEW_RECORDS:"Recently Created",LBL_ASSIGNED_TO_ME:"My {{{module}}}",LBL_LISTVIEW_FILTER_ALL:"All {{{module}}}",LBL_UNFAVORITE:"Unfavorite",LBL_ACTIVITY_CREATE:"Created {{{record}}} {{{module}}}",LBL_ACTIVITY_UPDATE:"Updated {{{changes}}} on {{{record}}} {{{module}}}",LBL_ACTIVITY_LINK:"Linked {{{relatedRecord}}} to {{{record}}} {{{module}}}",LBL_ACTIVITY_UNLINK:"Unlinked {{{relatedRecord}}} from {{{record}}} {{{module}}}",LBL_OFFLINE_PREFETCHING_RELATIONSHIP:"{{relationship}} for {{parentModule}}",LBL_OFFLINE_PREFETCH_RELATED_ACTION:"Download related records...",ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR:"Failed to enable offline mode. Unable to reach the server.",LBL_SHOWING_CACHED_DATA:"Unable to reach the server. Showing latest available data ({{lastFetched}})",LBL_FUTURE:"Future",LBL_CLOSE_AND_SAVE_BUTTON:"Close {{moduleSingular}} and save",LBL_DASHBOARDS_CHANGED_PROMPT:"Your dashboard configuration has changed. Do you want to reload?",LBL_RECORDS:"Records",LBL_DASHBOARDS:"Dashboards",LBL_MOBILE_SEARCH_PLACEHOLDER:"Search {{searchCriteria}}...",LBL_MOBILE_SPECIFIC_DASHBOARD:"Specific Dashboard",LBL_MOBILE_SPECIFIC_MODULE:"Specific Module",LBL_MOBILE_DEFAULT_VIEW:"Start Screen",LBL_MOBILE_DEFAULT_MODULE:"Selected Module",LBL_MOBILE_DEFAULT_DASHBOARD:"Selected Dashboard",LBL_MOBILE_DEFAULT_DASHLET:"Selected Dashlet",LBL_ALL_DASHLETS:"All Dashlets",LBL_MOBILE_GLOBAL_SEARCH:"Global Search",LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER:"Type @ to mention a user. Type # to reference a record.",LBL_MOBILE_TUTORIAL_HOME_MENU:"Main menu",LBL_MOBILE_TUTORIAL_HOME_PLUS:"Quick create new record",LBL_MOBILE_TUTORIAL_HOME_SWIPE:"Swipe for more options",LBL_DETAILS:"Details",LBL_DETAIL_RELATED:"Related",LBL_CREATE_RELATED_MODULE_WARN:"This {{module}} requires a {{relatedModule}}."+" <a class='alert-link' href='{{{createLink}}}'>Create a {{relatedModule}} record</a>.",LBL_RECORD_SHARE_BUTTON:"Share",LBL_RECORD_NOT_FOUND:"Record not found.",LBL_RELATED_RECORD_NOT_FOUND:"Related record not found.",LBL_NOT_AUTHORIZED:"You are not authorized to view this record.",LBL_SET_FONTSIZE:"Font size",LBL_FONTSIZE_TINY:"Tiny",LBL_FONTSIZE_SMALL:"Small",LBL_FONTSIZE_NORMAL:"Normal (default)",LBL_FONTSIZE_LARGE:"Large",LBL_FONTSIZE_LARGER:"Larger",LBL_FONTSIZE_HUGE:"Huge",LBL_FONTSIZE_EXTRA_HUGE:"Extra huge",LBL_CLOSE_SAVE_BUTTON:"Close task and save",LBL_MOBILE_PROCESSING_FILE:"Preparing file...",ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED:"File is too big. Maximum allowed size is {{size}}",LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION:"Edit record",LBL_LATER:"Later",LBL_LOADING_FILES:"Still loading document list. Please try again later",LBL_NEW_WEB_VERSION:"A new version of this application is available. Would you like to update?",LBL_MOBILE_DOWNLOAD_FAILED:"Download failed\r\n{{{this}}}",LBL_MOBILE_DETAIL_SHOW_MORE:"More...",LBL_MOBILE_DETAIL_SHOW_LESS:"...Less",LBL_OFFLINE_MODE:"Offline Mode",LBL_OFFLINE_PREFETCH_PROMPT:"Downloading your assigned, favorited, and followed records for offline access may take some time to complete. A fast connection is recommended. Would you like to proceed?",LBL_OFFLINE_PREFETCH_FIRST_PROMPT:"Do you want your assigned, favorited, and followed records to be downloaded now for offline access? A fast connection is recommended as this operation may take some time. You may download later from Main Menu > Offline.",LBL_OFFLINE_PREFETCH_SUCCESS:"Records downloaded successfully",LBL_OFFLINE_PREFETCH_ACTION:"Download your records...",LBL_OFFLINE_PREFETCH_ERROR:"Error while downloading records",LBL_OFFLINE_PREFETCHING:"Loading records...",LBL_OFFLINE_PREFETCHING_MODULE:"Loading {{module}} {{progressValue}}...",LBL_OFFLINE_PREFETCHING_EST_TIME:"Time left is about {{estimatedTime}}s...",LBL_OFFLINE_PREFETCHING_MODULE_COMPLETE:"Loading {{module}} completed",LBL_OFFLINE_DB_CLEANING_IN_PROGRESS:"Cleaning storage...",LBL_OFFLINE_DB_CLEANING_COMPLETED:"Clean-up completed",LBL_OFFLINE_ROLLBACK_PROMPT:"Do you want to rollback this change?",LBL_OFFLINE_ROLLBACK_SUCCESS:"Rollback completed",LBL_OFFLINE_ROLLBACK_FAILED:"Rollback failed",LBL_OFFLINE_CLEAR_DB:"Clear Storage...",LBL_OFFLINE_COMPACT_DB:"Compact Storage...",LBL_OFFLINE_CLEAN_UP_PROMPT:"This action will delete records you haven't accessed in a while. Proceed?",LBL_OFFLINE_CLEAR_DB_PROMPT:"Do you want to delete all records from the local storage?",LBL_OFFLINE_MENU_SETTINGS:"Offline Settings",LBL_OFFLINE_DEBUG_SETTINGS:"Debug Settings",LBL_OFFLINE_STATUS_NO_PENDING_TX:"No changes pending synchronization.",LBL_OFFLINE_STATUS_PENDING_TX:"Changes are pending synchronization.",LBL_OFFLINE_STATUS_ONLINE:"Device is online.",LBL_OFFLINE_STATUS_OFFLINE:"Device is offline.",LBL_OFFLINE_STATUS_BAD_NETWORK:"Unable to reach the server.",LBL_OFFLINE_STATUS_SYNC_FAILED:"Last synchronization attempt failed. Check the transaction log.",LBL_OFFLINE_SYNC_IN_PROGRESS:"Synchronization in progress...",LBL_OFFLINE_TRANSACTION_SYNCED:"Transaction synchronized.",LBL_OFFLINE_ENABLE_PROMPT:"Are you sure you want to turn on offline support?",LBL_OFFLINE_DISABLE_PROMPT:"Do you want to turn off offline support? All changes pending synchronization will be lost.",LBL_OFFLINE_ENABLED:"Offline mode enabled",LBL_OFFLINE_DISABLED:"Offline mode disabled",LBL_OFFLINE_STATS:"Storage statistics",LBL_OFFLINE_SERVER_FETCH:"Fetching from server...",LBL_OFFLINE_MERGE_DATA_CONFIRM:"Someone has edited the same record on the server. Confirm to auto-merge your changes or reject to discard them.",LBL_OFFLINE_LAST_SYNC_TS:"Last synchronization attempt: {{ts}}",LBL_ACTION_UPDATE:"UPDATE",LBL_ACTION_CREATE:"CREATE",LBL_ACTION_DELETE:"DELETE",LBL_ACTION_LINK:"LINK",LBL_ACTION_UNLINK:"UNLINK",LBL_ACTION_FAVORITE:"FAVORITE",LBL_ACTION_FOLLOW:"FOLLOW",LBL_ACTION_CREATE_EXPLANATION:'Created {{module}} "{{name}}"',LBL_ACTION_UPDATE_EXPLANATION:'Updated {{module}} "{{name}}"',LBL_ACTION_DELETE_EXPLANATION:'Deleted {{module}} "{{name}}"',LBL_ACTION_LINK_EXPLANATION:'Linked {{module}} "{{name}}" to {{relatedModule}} "{{relatedName}}"',LBL_ACTION_UNLINK_EXPLANATION:'Unlinked {{module}} "{{name}}" from {{relatedModule}} "{{relatedName}}"',LBL_ACTION_FOLLOW_EXPLANATION:'Followed {{module}} "{{name}}"',LBL_ACTION_UNFOLLOW_EXPLANATION:'Unfollowed {{module}} "{{name}}"',LBL_ACTION_FAVORITE_EXPLANATION:'Favorited {{module}} "{{name}}"',LBL_ACTION_UNFAVORITE_EXPLANATION:'Unfavorited {{module}} "{{name}}"',LBL_ACTION_CREATE_RELATED_EXPLANATION:'Created {{module}} "{{name}}" related to {{relatedModule}} "{{relatedName}}"',LBL_EMAIL_ACTION_SET_PRIMARY:"Primary",LBL_EMAIL_ACTION_SET_OPT_OUT:"Opt-out",LBL_EMAIL_ACTION_SET_OPT_IN:"Opt-in",LBL_EMAIL_ACTION_SET_VALID:"Valid",LBL_EMAIL_ACTION_SET_INVALID:"Invalid",LBL_ROLLBACK_BUTTON:"Rollback",LBL_TX_LOG:"Transaction Log",LBL_TX_LOG_DETAIL:"Transaction Detail",LBL_RECORD_DELETED:"(Record deleted)",LBL_FILE_SIZE_UNITS_B:"Bytes",LBL_FILE_SIZE_UNITS_KB:"kB",LBL_FILE_SIZE_UNITS_MB:"MB",LBL_CHOOSE_ITEMS:"Choose items",LBL_OFFLINE_DB_SIZE:"Database size",LBL_OFFLINE_DATA_ENCRYPTION_ENABLED:"Data encryption is enabled.",LBL_OFFLINE_RECORDS_PER_MODULE:"Records per module",LBL_OFFLINE_TOTAL_RECORDS:"Total Records",LBL_OFFLINE_LAST_DOWNLOAD:"Last download",LBL_RECENTLY_VIEWED:"Recently Viewed",ERR_MOBILE_METADATA_CHANGED_RELOAD:"Server configuration has changed and reload is required. Proceed?",ERR_MOBILE_CONFLICT:"Someone has edited the same record on the server. Confirm to auto-merge your changes or reject to discard them.",ERR_MOBILE_METADATA_CHANGED:"Server configuration has changed.",ERR_MOBILE_FILE_READ:"Failed to read the file",ERR_MOBILE_FILE_NOT_FOUND:"File not found",ERR_MOBILE_FILE_NOT_READABLE:"File not readable",ERR_MOBILE_FILE_ABORTED:"Read operation was aborted",ERR_MOBILE_FILE_SECURITY:"File is locked",ERR_MOBILE_FILE_DOWNLOAD_FAILED:"Unable to download the file.",ERR_MOBILE_VIEW_NOT_SUPPORTED:"Mobile version does not support this functionality. Do you want to open the desktop version?",ERR_OFFLINE:"Offline error",ERR_OFFLINE_STORAGE_UNAVAILABLE:"Failed to open local storage",ERR_OFFLINE_STORAGE_CREATE:"Failed to create local storage",ERR_OFFLINE_START_FAILED_OUT_OF_SPACE:"Failed to create local storage: you've run out of space.",ERR_OFFLINE_OUT_OF_SPACE:"You've run out of space for local storage.",ERR_OFFLINE_DB_CLEANING_ERROR:"Database clean-up failed",ERR_OFFLINE_CLEAN_UP_CONFIRMATION:"You have reached the maximum record limit for offline mode so we will be periodically cleaning up older records",ERR_OFFLINE_PREFETCH_FAILED:"Failed to prefetch records from server",ERR_OFFLINE_SYNC_ERROR:"Synchronization error",ERR_OFFLINE_SYNC_CONFLICT:"Synchronization conflict",ERR_OFFLINE_SERVERTIME_UNAVAILABLE:"Failed to get server time",ERR_MOBILE_DASHBOARDS_FETCHING:"Failed to load dashboards from server",ERR_FILTERS_FETCHING:"Unable to fetch your filters",ERR_OFFLINE_ENCRYPTION_FAILED:"Failed to encrypt local storage",LBL_OFFLINE_ENCRYPTION_IN_PROGRESS:"Encrypting offline data. This may take several minutes.",LBL_OFFLINE_ENCRYPTION_SUCCESS:"Offline data encryption completed.",ERR_ACCESS_SPECIFIC_MODULE:"You do not have access to {{{module}}} module.",LBL_MOBILE_WAIT:"Please wait...",LBL_OK:"OK",LBL_YES:"Yes",LBL_NO:"No",LBL_CANCEL_BUTTON_LABEL:"Cancel",LBL_SKIP:"Skip",LBL_UPDATE:"Update",LBL_CONTINUE:"Continue",LBL_MOBILE_RELOGIN_BUTTON:"Re-login",LBL_MOBILE_META_SYNC_FAILED:"Unable to sync with server.",LBL_MOBILE_META_SYNC_FAILED_RETRY:"Unable to sync with server. Retry?",LBL_LOADING:"Loading...",LBL_WARNING:"Warning",LBL_CONFIRM:"Confirm",LBL_ENABLE:"Enable",LNK_ABOUT:"About",LBL_MOBILE_APP_VERSION:"App Version",LBL_MOBILE_TRIAL_UNTIL:"Trial Until",LBL_MOBILE_SDK_VERSION:"SDK Version",LBL_MOBILE_SERVER_VERSION:"Server Version",LBL_MOBILE_SERVER_URL:"Instance URL",LBL_MOBILE_FEEDBACK:"Feedback",LBL_MOBILE_SUPPORT:"Support",LBL_LOGIN_USERNAME:"Username",LBL_LOGIN_PASSWORD:"Password",LNK_TERMS_OF_USE:"Terms of Use",LNK_PRIVACY_POLICY:"Privacy Policy",LNK_THIRD_PARTY_SOFTWARE:"Third Party Software",LBL_LOGIN_BUTTON_TITLE:"Log In",LBL_EXTERNAL_LOGIN_BUTTON_TITLE:"Single Sign-On",LBL_LOG_LEVEL:"Log Level",LBL_NOT_AVAILABLE:"N/A",LBL_USE_HTTPS:"Use secure connection",LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM:"Login settings have been reconfigured.",LBL_TRIAL_PERIOD_EXPIRED:"Your trial period has expired.",ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN:"Server does not support secure connection. Please turn off secure connection.",ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN:"Server supports secure connection. Please turn on secure connection.",ERR_MOBILE_HTTP_CONNECTION_USE_MSG:"Your connection is not secure. Contact your administrator.",LBL_LOGIN_SETTINGS_HEADER:"Login Settings",LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE:"Set up your {{{brandName}}} instance",LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC:"In order for the app to work, you will need to type in the URL of the {{{brandName}}} instance. If you do not have the instance URL, please contact your administrator.",LBL_TOUCHID:"Touch ID",LBL_ENABLE_TOUCHID:"Enable Touch ID",LBL_SETUP_TOUCHID:"Setup Touch ID",LBL_TOUCH_ID_AUTHENTICATE_SUBTITLE:"Sign in using your finger",LBL_TOUCH_ID_NOT_ENROLLED_MSG:"Touch ID is not set up on your device. \n\nGo to your device settings to set up Touch ID. Once set up, enable Touch ID for {{{brandName}}} in Main Menu > Settings.",LBL_TOUCH_ID_DISCLAIMER:"Using Touch ID with {{{brandName}}} will allow you to use your fingerprint instead of entering your password to access {{{brandName}}}.",LBL_TOUCH_ID_ENABLE_CONFIRM_MSG:" Would you like to proceed with Touch ID?",LBL_TOUCH_ID_ENTER_PASSWORD_TITLE:"Enter {{{brandName}}} Password to Enable Touch ID",LBL_SETUPBUDDY_HEADER_TITLE:"Setup",LBL_MDM_CONFIRM_CHANGE:"Application configuration has changed from Mobile Device Manager. Please re-login to apply changes.",ERR_GEOLOCATION_PERMISSION_DENIED:"Please give {{{brandName}}} access to your location via your device's settings.",ERR_GEOLOCATION_POSITION_UNAVAILABLE_MSG:"Current location is not available",ERR_GEOLOCATION_POSITION_TIMEOUT_MSG:"Current location retrieval timed out. \nPlease try again.",ERR_GEOLOCATION_PLACEMARKS_UNAVAILABLE_MSG:"Location placemarks are not available",ERR_GEOLOCATION_INVALID_COORDINATES_MSG:"Location coordinates are invalid",ERR_SYNC_FAILED:"Unable to sync with server.",ERR_INTERNAL_ERR_MSG:"Internal error",ERR_MOBILE_NOT_AUTHORIZED:"Access not authorized.",ERR_MOBILE_INVALID_CREDS:"Invalid username or password.",ERR_MOBILE_INVALID_PASSWORD:"Invalid password.",ERR_MOBILE_SESSION_EXPIRED:"Your session expired.",ERR_MOBILE_SSO_NOT_CONFIGURED:"SSO login is unavailable. Ensure the instance is on Sugar 7.5 or greater and configured for SSO.",ERR_MOBILE_NOT_FOUND:"Resource not found.",ERR_MOBILE_TIMEOUT:"Server is not responding.",ERR_MOBILE_CONNECTION_FAILED:"Can't reach the server.",ERR_MOBILE_NOT_FOUND_LOGIN:"No {{{brandName}}} server found at the given URL.",ERR_MOBILE_TIMEOUT_LOGIN:"Server is not responding at the given URL.",ERR_MOBILE_CONNECTION_FAILED_LOGIN:"Server unavailable at the given URL.",ERR_MOBILE_INTERNET_UNAVAILABLE:"Internet connection unavailable.",ERR_MOBILE_INTERNAL:"Internal error ({{{code}}}). Please try again later.",ERR_MOBILE_VALIDATION:"Record is invalid",ERR_SERVER_FLAVOR_INCOMPATIBLE:"Incompatible server flavor: {{{flavor}}}. Supported flavors: {{{supportedFlavors}}}.",ERR_SERVER_VERSION_INCOMPATIBLE:"Incompatible server version: {{{version}}}. Minimum required version: {{{minVersion}}}.",ERR_MOBILE_INCOMPATIBLE_REBRAND_CLIENT_VERSION:"Your app is outdated and is no longer compatible with the {{{brandName}}} instance you are connecting to.",ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION:"Your app is outdated and is no longer compatible with the {{{brandName}}} instance you are connecting to. Do you want to download the new version from App Store?",ERR_GENERIC_TITLE:"Error",LBL_MOBILE_BY:"By",LBL_MOBILE_FILTER_IS_NOT_AVAILABLE:"This filter is not available in offline",LBL_BULK_LOAD_OFFLINE_RECORDS:"Offline Records",LBL_BULK_LOAD_DOWNLOAD_SETTINGS:"Download Settings",LBL_BULK_LOAD_PREFETCH_MESSAGE:"Download your assigned, favorite, and followed records for offline access. You can update your preferences in offline settings.",LBL_BULK_LOAD_COMPLETED_MESSAGE:"Your records have finished \n downloading. You can now access them in offline mode.",LBL_BULK_LOAD_ERROR_CONFIRM:"Not all your records were downloaded.\n Do you want to try again?",LBL_BULK_LOAD_USE_CELLULAR:"Use cellular data",LBL_BULK_LOAD_NOT_RIGHT_NOW:"Not right now",LBL_BULK_LOAD_PAUSED_MESSAGE:"Download has paused and it will resume when you open the app again.",LBL_BULK_LOAD_STATUS_DOWNLOADING:"Downloading {{{module}}}: {{count}}",LBL_BULK_LOAD_STATUS_IDLE:"Update Latest Records",LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION:"Waiting for connection",LBL_BULK_LOAD_STATUS_PAUSED:"Paused",LBL_BULK_LOAD_STATUS_STOPPING:"Stopping",LBL_BULK_LOAD_BTN_DOWNLOAD:"Download",LBL_BULK_LOAD_BTN_PAUSE:"Pause",LBL_BULK_LOAD_BTN_RESUME:"Resume",LBL_BULK_LOAD_CONNECTION_USE_MESSAGE:"Only WiFi connection is used by default",LBL_NPS_RATING_MSG:"How would you rate your \n{{{productName}}} experience?",LBL_NPS_THANKS_MSG:"Thanks for your feedback!",LBL_NPS_APPSTORE_RATE_MSG:"Would you mind rating it on the App Store?",LBL_NPS_NO_THANKS:"No, Thanks",LBL_NPS_NOT_NOW:"Not Now",LBL_NPS_RATE_NOW:"Rate Now",WARN_MOBILE_INTERNET_UNAVAILABLE:"Network is unavailable. You can still use the app while offline",WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS:"Your changes will be synced when you are online. <a class='alert-link' href='{{{link}}}'>See details</a>",ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS:"There are unsynced data. Please check the <a class='alert-link' href='{{{link}}}'>transaction log</a>",LBL_CONVERT:"Convert",LBL_CONVERT_LEAD:"Convert Lead",LBL_SEARCH_EXISTING_RECORD:"Search Existing {{{this}}}",LBL_DUPLICATES_CHECK_FAILED:"Duplicates check failed",LBL_MOVE_RELATED_ACTIVITIES_PROMPT:"Do you want to move related activities to the contact record?",LBL_LEAD_CONVERSION_SUCCESS:"You successfully converted the lead {{{name}}}",LBL_MOBILE_NO_DUPLICATES_FOUND:"No Duplicates Found.",ERR_LEAD_CONVERSION_FAIL:"Lead Conversion Failed"}};e._mod_strings=["LBL_MODULE_NAME","LBL_MODULE_NAME_SINGULAR","LBL_RELATED_RECORD_DEFAULT_NAME","LBL_RELATED_MODULE","LBL_CREATE_RELATED","LBL_CREATE_MODULE","LBL_RELATED_MODULE","LBL_EDIT_RELATED","LBL_EDIT","LBL_ASSOC_EXISTING","LBL_ASSOC","LBL_ASSIGN","LBL_RELATED_MODULE_PLURAL","LBL_DASHLET_FORECAST_NOT_SETUP","LBL_DASHLET_FORECAST_NOT_SETUP_ADMIN","LBL_DASHLET_FORECAST_CONFIG_LINK_TEXT","LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","LBL_CLOSED","LBL_FORECAST_DETAILS_SURPLUS","LBL_FORECAST_DETAILS_EXCEED","LBL_FORECAST_DETAILS_DEFICIT","LBL_FORECAST_DETAILS_SHORT","LBL_FORECAST_DETAILS_NO_DATA","LBL_FORECAST_DETAILS_MEETING_QUOTA","LBL_SALES_STAGE","LBL_AMOUNT","LBL_PERCENT","LBL_CUMULATIVE_TOTAL","LBL_OW_PROBABILITY","LBL_QUOTA","LBL_QUOTA_ADJUSTED","LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME","LBL_NEW_RECORDS","LBL_ASSIGNED_TO_ME","LBL_LISTVIEW_FILTER_ALL","LBL_MY_SCHEDULED_ITEMS","LBL_MY_SCHEDULED_CALLS","LBL_MY_SCHEDULED_MEETINGS"];e._app_list_strings=["record_type_display","moduleIconList","moduleList","moduleListSingular","available_language_dom","forecasts_options_dataset","forecasts_chart_options_group","top10_opportunities_duration_options","history_filter_options","generic_timeperiod_options","opportunity_metrics_dom"];e._app_strings=_.union(_.keys(e.baseMetadata.app_strings),["LBL_TRY_AGAIN","LBL_CONTINUE","LBL_FAVORITES_FILTER","LBL_ACTIVITY_STREAM","LBL_RECORD_NOT_FOUND","LBL_RELATED_RECORD_NOT_FOUND","LBL_NOT_AUTHORIZED","LBL_SET_FONTSIZE","LBL_LATER","LBL_ACTION_UPDATE","LBL_ACTION_CREATE","LBL_ACTION_DELETE","LBL_ACTION_LINK","LBL_ACTION_UNLINK","LBL_ACTION_FAVORITE","LBL_ACTION_FOLLOW","LBL_ROLLBACK_BUTTON","LBL_UNLINKING","LBL_DELETING","LBL_SAVING","LBL_UNLINKED","LBL_DELETED","LBL_SAVED","LBL_MOBILE_CHOOSE_RECIPIENT","LBL_MOBILE_CHOOSE_PHONE","LBL_MOBILE_CHOOSE_URL","LBL_MOBILE_DOC","LBL_MOBILE_CHOOSE_DOC","LBL_MOBILE_CHOOSE_LOCATION","LBL_MOBILE_WAIT","LBL_MOBILE_LOG_CALL_CONFIRM","LBL_MOBILE_TUTORIAL_HOME_MENU","LBL_MOBILE_TUTORIAL_HOME_PLUS","LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION","LBL_MOBILE_TUTORIAL_HOME_SWIPE","LBL_MOBILE_DOWNLOAD_STARTED","LBL_MOBILE_DOWNLOAD_COMPLETED","LBL_UPCOMING","LBL_MOBILE_NO_RECORDS","LBL_RECENTLY_UPDATED","LBL_RECENTLY_VIEWED","LBL_MOBILE_NO_ACTIONS_AVAILABLE","LBL_DELETE_BUTTON","LBL_SAVE_BUTTON_LABEL","LBL_HOME","LBL_ENABLE","LBL_SKIP","LBL_DETAILS","LBL_UPDATE","LBL_CREATE_RELATED_MODULE_WARN","LBL_MOBILE_DESKTOP","LBL_LOGOUT","LBL_RECORDS","LBL_MOBILE_SEARCH_PLACEHOLDER","LBL_DONE_BUTTON_LABEL","LBL_OPTIONAL","LBL_REQUIRED","LBL_CHOOSE_LINK","LBL_NO_ACCESS","LBL_NO_ACCESS_LOWER","LBL_CHOOSE_PARENT_TYPE","LBL_RELATED_MODULE","LBL_MOBILE_UPLOAD_IN_PROGRESS","LBL_MOBILE_UPLOAD_SUCCESS","LBL_MOBILE_PROCESSING_IMAGE","LBL_MOBILE_PROCESSING_FILE","LBL_MOBILE_DELETE_CONFIRM","LBL_DUPLICATE_BUTTON_LABEL","LBL_CREATE_RELATED_RECORD","LBL_ASSOC_RELATED_RECORD","LBL_MOBILE_SELECT_TEAMS","LBL_CHOOSE_ITEMS","LBL_VIEW_BUTTON","LBL_EDIT_BUTTON","LBL_UNLINK_BUTTON","LBL_CALL_BUTTON","LBL_SMS_BUTTON","LBL_EMAIL_BUTTON","LBL_MAP_BUTTON","LBL_URL_BUTTON","LBL_FILE_BUTTON","LBL_MORE_BUTTON","LBL_FOLLOW","LBL_UNFOLLOW","LBL_FAVORITE","LBL_UNFAVORITE","LBL_FOLLOWING","LBL_MOBILE_DETAIL_SHOW_MORE","LBL_MOBILE_DETAIL_SHOW_LESS","LBL_MOBILE_PTR_RELEASE","LBL_LOADING_FILES","LBL_MOBILE_UNLINK_CONFIRM","LBL_INVITEES","LBL_SEND_INVITE","LBL_SELECT_ACTION_LABEL","LNK_SETTINGS","LBL_LANGUAGE","LBL_NAME","LBL_NONE","LBL_TIME_RELATIVE","LBL_TIME_AGO_NOW","LBL_TIME_AGO_SECONDS","LBL_TIME_AGO_MINUTE","LBL_TIME_AGO_MINUTES","LBL_TIME_AGO_HOUR","LBL_TIME_AGO_HOURS","LBL_TIME_AGO_DAY","LBL_TIME_AGO_DAYS","LBL_TIME_AGO_YEAR","LBL_TIME_UNTIL_SECONDS","LBL_TIME_UNTIL_MINUTE","LBL_TIME_UNTIL_MINUTES","LBL_TIME_UNTIL_HOUR","LBL_TIME_UNTIL_HOURS","LBL_TIME_UNTIL_DAY","LBL_TIME_UNTIL_DAYS","LBL_TIME_UNTIL_YEAR","LBL_NOT_AVAILABLE","LBL_FILE_SIZE_UNITS_B","LBL_FILE_SIZE_UNITS_KB","LBL_FILE_SIZE_UNITS_MB","LBL_USE_HTTPS","LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM","LBL_TRIAL_PERIOD_EXPIRED","LBL_MOBILE_TRIAL_UNTIL","ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN","ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN","ERR_MOBILE_HTTP_CONNECTION_USE_MSG","LBL_LOGIN_SETTINGS_HEADER","LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE","LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC","LBL_TOUCHID","LBL_ENABLE_TOUCHID","LBL_SETUP_TOUCHID","LBL_TOUCH_ID_AUTHENTICATE_SUBTITLE","LBL_TOUCH_ID_NOT_ENROLLED_MSG","LBL_TOUCH_ID_DISCLAIMER","LBL_TOUCH_ID_ENABLE_CONFIRM_MSG","LBL_TOUCH_ID_ENTER_PASSWORD_TITLE","LBL_SETUPBUDDY_HEADER_TITLE","ERR_GEOLOCATION_PERMISSION_DENIED","ERR_GEOLOCATION_POSITION_UNAVAILABLE_MSG","ERR_GEOLOCATION_POSITION_TIMEOUT_MSG","ERR_GEOLOCATION_PLACEMARKS_UNAVAILABLE_MSG","ERR_GEOLOCATION_INVALID_COORDINATES_MSG","LBL_MDM_CONFIRM_CHANGE","LBL_REMOVE","LBL_TODAY","LBL_FUTURE","LBL_CLOSE_BUTTON_TITLE","LBL_CLOSE_AND_SAVE_BUTTON","LBL_MOBILE_SPECIFIC_DASHBOARD","LBL_MOBILE_SPECIFIC_MODULE","LBL_MOBILE_DEFAULT_VIEW","LBL_MOBILE_DEFAULT_MODULE","LBL_MOBILE_DEFAULT_DASHBOARD","LBL_MOBILE_DEFAULT_DASHLET","LBL_MOBILE_GLOBAL_SEARCH","LBL_DASHBOARDS_CHANGED_PROMPT","LBL_DEFAULT_HELP_DASHBOARD_TITLE","LBL_DEFAULT_HELP_DASHLET_TITLE","LBL_LEARNING_RESOURCES_NAME","LBL_DASHLET_RECENT_TWEETS_SUGARCRM_NAME","TPL_DASHLET_MY_MODULE","LBL_DEFAULT_DASHBOARD_TITLE","LBL_ACTIVE_TASKS_DASHLET_DUE_NOW","LBL_ACTIVE_TASKS_DASHLET_UPCOMING","LBL_ACTIVE_TASKS_DASHLET_TODO","LBL_COMMENT","LBL_COMMENT_ADD","LBL_ACTIVITY_CREATE","LBL_ACTIVITY_UPDATE","LBL_ACTIVITY_LINK","LBL_ACTIVITY_UNLINK","LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER","LBL_SUBMIT_BUTTON_LABEL","LBL_SHOWING_CACHED_DATA","LBL_DASHLET_FORECASTS_GROUPBY","LBL_DASHLET_FORECASTS_DATASET","LBL_DASHLET_FORECASTS_CHART_NAME","LBL_LIKELY","LBL_BEST","LBL_ACTIVE_TASKS_DASHLET","LBL_INACTIVE_TASKS_DASHLET_DEFERRED","LBL_INACTIVE_TASKS_DASHLET_COMPLETED","LBL_ALL_DASHLETS","LBL_TWITTER_REPLY","LBL_TWITTER_RETWEET","LBL_TWITTER_FAVORITE","LBL_CONNECT_TEST_FAIL","LBL_ERROR_CANNOT_FIND_TWITTER","LBL_CONFIGURE_TWITTER","LBL_PLANNED_ACTIVITIES_DASHLET","LBL_HISTORY_DASHLET","LBL_DASHLET_OPPORTUNITY_NAME","LBL_DASHLET_CASES_SUMMARY_NAME","LBL_DASHLET_CASESSUMMARY_SUMMARY","LBL_DASHLET_CASESSUMMARY_OPEN_CASES","LBL_DASHLET_CASESSUMMARY_CLOSE_CASES","LBL_OFFLINE_MODE","LBL_OFFLINE_PREFETCH_PROMPT","LBL_OFFLINE_PREFETCH_FIRST_PROMPT","LBL_OFFLINE_PREFETCH_SUCCESS","LBL_OFFLINE_PREFETCH_ERROR","LBL_OFFLINE_PREFETCH_ACTION","LBL_OFFLINE_PREFETCH_RELATED_ACTION","LBL_OFFLINE_PREFETCHING","LBL_OFFLINE_PREFETCHING_MODULE","LBL_OFFLINE_PREFETCHING_EST_TIME","LBL_OFFLINE_PREFETCHING_RELATIONSHIP","LBL_OFFLINE_PREFETCHING_MODULE_COMPLETE","LBL_OFFLINE_DB_CLEANING_IN_PROGRESS","LBL_OFFLINE_DB_CLEANING_COMPLETED","LBL_OFFLINE_ROLLBACK_PROMPT","LBL_OFFLINE_ROLLBACK_FAILED","LBL_OFFLINE_ROLLBACK_SUCCESS","LNK_OFFLINE_SETTINGS","LBL_OFFLINE_ENABLE_PROMPT","LBL_OFFLINE_DISABLE_PROMPT","LBL_OFFLINE_ENABLED","LBL_OFFLINE_DISABLED","LBL_OFFLINE_CLEAR_DB","LBL_OFFLINE_COMPACT_DB","LBL_OFFLINE_CLEAN_UP_PROMPT","LBL_OFFLINE_CLEAR_DB_PROMPT","LBL_OFFLINE_SERVER_FETCH","LBL_OFFLINE_MERGE_DATA_CONFIRM","LBL_OFFLINE_LAST_SYNC_TS","LBL_OFFLINE_SYNC_IN_PROGRESS","LBL_OFFLINE_TRANSACTION_SYNCED","LBL_OFFLINE_TOTAL_RECORDS","LBL_OFFLINE_LAST_DOWNLOAD","LBL_OFFLINE_DB_SIZE","LBL_OFFLINE_DATA_ENCRYPTION_ENABLED","LBL_OFFLINE_RECORDS_PER_MODULE","LBL_TX_LOG","LBL_TX_LOG_DETAIL","LBL_OFFLINE_MENU_SETTINGS","LBL_OFFLINE_DEBUG_SETTINGS","LBL_OFFLINE_STATS","LBL_ACTION_CREATE_EXPLANATION","LBL_ACTION_UPDATE_EXPLANATION","LBL_ACTION_DELETE_EXPLANATION","LBL_ACTION_LINK_EXPLANATION","LBL_ACTION_UNLINK_EXPLANATION","LBL_ACTION_FAVORITE_EXPLANATION","LBL_ACTION_FOLLOW_EXPLANATION","LBL_ACTION_UNFOLLOW_EXPLANATION","LBL_ACTION_UNFAVORITE_EXPLANATION","LBL_ACTION_CREATE_RELATED_EXPLANATION","LBL_EMAIL_ACTION_SET_PRIMARY","LBL_EMAIL_ACTION_SET_OPT_OUT","LBL_EMAIL_ACTION_SET_OPT_IN","LBL_EMAIL_ACTION_SET_VALID","LBL_EMAIL_ACTION_SET_INVALID","LBL_EMAIL_ADD","LBL_RECORD_DELETED","LBL_COLLECTION_PRIMARY","LBL_TEAM_SET_SELECTED","ERR_MOBILE_EMAIL","ERR_MOBILE_FILE_NOT_SUPPORTED","ERR_MOBILE_FILE_READ","ERR_MOBILE_FILE_NOT_FOUND","ERR_MOBILE_FILE_NOT_READABLE","ERR_MOBILE_FILE_ABORTED","ERR_MOBILE_FILE_SECURITY","ERR_MOBILE_FILE_DOWNLOAD_FAILED","ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED","ERR_MOBILE_BROWSER_NOT_AUTHORIZED","ERR_MOBILE_BROWSER_FORBIDDEN","ERR_MOBILE_BROWSER_PAGE_NOT_FOUND","ERR_MOBILE_BROWSER_INTERNAL_SERVER_ERROR","ERR_MOBILE_BROWSER_SERVICE_UNAVAILABLE","ERR_MOBILE_STORAGE_UNAVAILABLE","ERR_MOBILE_GENERIC_NATIVE_ERROR","ERR_MOBILE_FILE_PROCESSING","ERR_MOBILE_METADATA_CHANGED","ERR_MOBILE_DASHBOARDS_FETCHING","ERR_FILTERS_FETCHING","ERR_NO_DOCS","ERR_MOBILE_UPLOAD","ERR_MOBILE_VALIDATION","ERR_NO_RECORDS_SELECTED","ERR_RENDER_FAILED_TITLE","ERR_RENDER_FAILED_MSG","ERR_RENDER_FIELD_FAILED_MSG","ERR_CONTACT_TECH_SUPPORT","ERR_NO_VIEW_ACCESS_TITLE","ERR_LAYOUT_RENDER_TITLE","ERR_INTERNAL_ERR_MSG","ERROR_MAXVALUE","ERROR_MINVALUE","ERROR_MAX_FIELD_LENGTH","ERROR_MIN_FIELD_LENGTH","ERROR_DATETIME","ERROR_FIELD_REQUIRED","ERROR_EMAIL","ERROR_NUMBER","ERROR_IS_BEFORE","ERROR_IS_AFTER","ERROR_IS_GREATER_THAN","ERROR_IS_LESS_THAN","ERROR_DUPLICATE_EMAIL","ERR_MOBILE_CONFLICT","ERR_MOBILE_VIEW_NOT_SUPPORTED","ERR_ACCESS_SPECIFIC_MODULE","ERR_OFFLINE","ERR_OFFLINE_STORAGE_UNAVAILABLE","ERR_OFFLINE_STORAGE_CREATE","ERR_OFFLINE_START_FAILED_OUT_OF_SPACE","ERR_OFFLINE_OUT_OF_SPACE","ERR_OFFLINE_CLEAN_UP_CONFIRMATION","ERR_OFFLINE_PREFETCH_FAILED","ERR_OFFLINE_DB_CLEANING_ERROR","ERR_OFFLINE_SYNC_CONFLICT","ERR_OFFLINE_SYNC_ERROR","ERR_OFFLINE_SERVERTIME_UNAVAILABLE","ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR","ERR_OFFLINE_ENCRYPTION_FAILED","LBL_OFFLINE_ENCRYPTION_IN_PROGRESS","LBL_OFFLINE_ENCRYPTION_SUCCESS","WARN_MOBILE_INTERNET_UNAVAILABLE","WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS","ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS","LBL_CONVERT","LBL_CONVERT_LEAD","LBL_SELECT_ONE_FROM_DUPLICATED_RECORDS","LBL_SEARCH_EXISTING_RECORD","LBL_DUPLICATES_CHECK_FAILED","LBL_MOVE_RELATED_ACTIVITIES_PROMPT","LBL_LEAD_CONVERSION_SUCCESS","LBL_SHOW_MORE","LBL_SHOW_LESS","LBL_BACK","LBL_NEXT_BUTTON_LABEL","LBL_MOBILE_NO_DUPLICATES_FOUND","ERR_LEAD_CONVERSION_FAIL","LBL_RELATED_RECORD_DEFAULT_NAME","LBL_RELATED_MODULE","LBL_CREATE_RELATED","LBL_CREATE_MODULE","LBL_RELATED_MODULE","LBL_EDIT_RELATED","LBL_EDIT","LBL_ASSOC_EXISTING","LBL_ASSOC","LBL_ASSIGN","LBL_RELATED_MODULE_PLURAL","LBL_CHART_LEGEND_CLOSE","LBL_CHART_LEGEND_OPEN","LBL_CHART_NO_DATA","LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME","LBL_DASHLET_PIPLINE_NAME","LBL_CHART_UNDEFINED","LBL_NO_FIELD_ACCESS","LBL_RECORD_SHARE_BUTTON","TPL_RECORD_SHARE_SUBJECT","TPL_RECORD_SHARE_BODY","LBL_MOBILE_BY","LBL_MOBILE_FILTER_IS_NOT_AVAILABLE","LBL_BULK_LOAD_OFFLINE_RECORDS","LBL_BULK_LOAD_DOWNLOAD_SETTINGS","LBL_BULK_LOAD_PREFETCH_MESSAGE","LBL_BULK_LOAD_COMPLETED_MESSAGE","LBL_BULK_LOAD_ERROR_CONFIRM","LBL_BULK_LOAD_USE_CELLULAR","LBL_BULK_LOAD_NOT_RIGHT_NOW","LBL_BULK_LOAD_PAUSED_MESSAGE","LBL_BULK_LOAD_STATUS_DOWNLOADING","LBL_BULK_LOAD_STATUS_IDLE","LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION","LBL_BULK_LOAD_STATUS_PAUSED","LBL_BULK_LOAD_STATUS_STOPPING","LBL_BULK_LOAD_BTN_DOWNLOAD","LBL_BULK_LOAD_BTN_PAUSE","LBL_BULK_LOAD_BTN_RESUME","LBL_BULK_LOAD_CONNECTION_USE_MESSAGE","LBL_NPS_RATING_MSG","LBL_NPS_THANKS_MSG","LBL_NPS_APPSTORE_RATE_MSG","LBL_NPS_NO_THANKS","LBL_NPS_NOT_NOW","LBL_NPS_RATE_NOW"]);e.mod_strings={}})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(17);var a=n(6);(function s(){var e=i.metadata.set;var t=["collection"];var n=["teamset","multienum","image","file"];function s(e){var t=e.filters;if(!t||!t.basic||!t.basic.meta){return[]}return _.pluck(t.basic.meta.filters,"name")}var o=new RegExp("^("+"NTC_|"+"MSG_|"+"EXCEPTION_|"+"LNK_|"+"TPL_|"+"LBL_SHORTCUT_|"+"LBL_SWEETSPOT_|"+"LBL_TOUR_"+")");function l(e){return o.test(e)}function u(e,t,n,r){var a,s=/.*?(?:translateLabel\((?:'|")(\w+)(?:'|")\s*,\s*(?:'|")(\w*)(?:'|")\)).*?/gm,o=[/.*?(?:getDropdownValue\((?:'|")(\w+)(?:'|"))+.*?/gm,/.*?(?:getDropdownKeySet\((?:'|")(\w+)(?:'|"))+.*?/gm,/.*?(?:getDropdownValueSet\((?:'|")(\w+)(?:'|"))+.*?/gm];i.nomad.utils.execRegex(e,s,function(e){var i=e[2];if(!_.isEmpty(i)){n[i]=n[i]||{};n[i][e[1]]=true}else{t[e[1]]=true}});var l=function u(e){r[e[1]]=true};for(a=0;a<3;++a){i.nomad.utils.execRegex(e,o[a],l)}}function c(e){_.each(e,function(t,n){if(i.config.dashboards.dashlets[n]||t.meta&&t.meta.tabs){if(t.templates){t.templates=null}}else{delete e[n]}})}function d(e,t){if(t&&e){_.each(t,function(n,i){if(e[i])return;delete t[i]})}}function f(e){var t=_.chain(e.subpanels.subpanel_setup).values().sortBy(function(e){return e.order}).value();_.each(t,function(e){e.context={link:e.get_subpanel_data};e.label=e.title_key;m(e,["subpanel_name","title_key","get_subpanel_data","order"])});e.layouts=_.extend(e.layouts||{},{subpanels:{meta:{components:t}}});delete e.subpanels}function h(e,t){if(e._hash==="_base_")return;var r=null;e.modules=_.omit(e.modules,"Forecasts");_.each(e.modules,function(s,o){var l=[];_.each(s.views,function(e){if(e.meta&&e.meta.panels){var t=_.chain(e.meta.panels[0].fields).filter(function(e){return e.type!=="link"}).map(function(e){return _.isString(e)?{name:e}:e}).value();_.each(t,function(e){if(_.contains(n,e.type)){e.sortable=0}});r=new i.view.View({context:new a,meta:{panels:[{fields:t}]}});l=_.union(l,r.getFieldNames(o));r.dispose();if(_.contains(l,"email")){l.push("email1")}}});if(o==="Activities"){return}l=_.union(l,t?["name","my_favorite","following"]:["name"]);if(_.find(l,function(e){return s.fields[e]&&s.fields[e].type==="currency"})){l=_.union(l,["currency_id"])}if(o==="Opportunities"){l=_.union(l,["closed_revenue_line_items"])}if(o==="Documents"){l=_.union(l,["doc_url","doc_type","filename"])}if(!e.server_info.ftsEnabled||!s["ftsEnabled"]){l=_.chain(s.fields).filter(function(e){return!!e.unified_search&&e.type!=="link"}).map(function(e){return e.name}).union(l).value()}s.mergedFields=_.union(s.mergedFields||[],l);var u=/\$[a-z_]+/gi,c=[];s.fields&&_.each(s.mergedFields,function d(e){if(s.fields[e]&&s.fields[e].formula){var t=s.fields[e].formula.match(u);_.each(t,function(e){e=e.substr(1);if(s.fields[e]&&s.fields[e].type!=="link"&&!_.contains(c,e)&&!_.contains(s.mergedFields,e)){c.push(e);d(e)}})}});s.mergedFields=_.union(s.mergedFields,c)})}function p(e){var t=e.toUpperCase();if(t.substr(-2)==="_C"){t=t.substr(0,t.length-2)}return"LBL_"+t}function m(e,t){_.each(t,function(t){if(t instanceof RegExp){m(e,_.filter(_.keys(e),function(e){return t.test(e)}))}else{delete e[t]}})}function g(e){var t=["Calls","Meetings"];

var n=_.getNested(e,"layouts.convert-main");if(!n){return}var i=_.getNested(n,"meta.modules");var r=_.any(i,function(e){return _.contains(t,e.module)&&e.required});if(r){delete e.layouts["convert-main"];return}n.meta.modules=_.filter(i,function(e){return!_.contains(t,e.module)});if(_.isEmpty(n.meta.modules)){delete e.layouts["convert-main"]}}i.metadata.set=function(n,a,o){var v=_.getNested(n,"modules.Opportunities.config.opps_view_by");if(n.modules_info&&n.modules_info.RevenueLineItems&&v&&v!=="RevenueLineItems"){n.modules_info.RevenueLineItems.visible=n.modules_info.RevenueLineItems.display_tab=false}if(n._override_values){_.each(n._override_values,function(e,t){if(!n[e]){delete n._override_values[t]}})}if(n.config){var b={};_.extend(b,i.analytics.processConfig(n.config));_.extend(b,r.processConfig(n.config));b.offlineEnabled=Boolean(n.config.offlineEnabled);b.leadConvActivityOpt=n.config.leadConvActivityOpt;n.config=b}var y=false;if(n.server_info){y=i.nomad.isSevenUp(n.server_info);n.server_info.isSevenUp=y}else{n.server_info={}}if(!o&&n._hash!=="_base_"){c(n.views);var x=i.metadata.getHash();if(x!==n._hash&&x!=="_base_"){if(n.modules){i.logger.debug("Metadata hash has changed. Resetting to base.");i.metadata.reset();i.metadata.set(JSON.parse(JSON.stringify(i.baseMetadata)),false,true)}else{n._hash=x}}i.nomad.initSupportedFeatures();i.nomad.updateSupportedFeatures(n);if(n.app_list_strings&&n.app_list_strings.available_language_dom)delete n.app_list_strings.available_language_dom[""];if(!n.currencies){n.currencies={}}_.each(n.currencies,function(e){e.conversion_rate=e.conversion_rate||e.rate});_.each(n.modules_info,function(e,t){if(_.contains(i.config.modules.unsupportedModules,t)){delete n.modules_info[t]}});if(n.modules_info){_.each(i.config.modules.hiddenModules,function(e){if(n.modules_info[e]){n.modules_info[e].visible=false}})}if(!n.mod_strings)n.mod_strings={};n.mod_strings=_.extend({},i.mod_strings,n.mod_strings);var S=i.config.modules.unsupportedModules||[];_.each(n.modules,function(e,t){if(_.contains(S,t)){delete n.modules[t];if(t!=="Home"){delete n.mod_strings[t]}}});var w=_.contains(["ENT","ULT"],n.server_info.flavor);var L="portal_flag";if(_.isEmpty(n.relationships))n.relationships={};var E=n.relationships.tasks_notes;if(E){E.relationship_role_column="parent_type";E.relationship_role_column_value="Tasks";E.relationship_type="one-to-many"}_.each(n.relationships,function(e,t){if(t==="_hash"){return}e=e||{};e.relationship_type=e.true_relationship_type||e.relationship_type;if(n.modules[e.lhs_module]&&n.modules[e.rhs_module]){if(e.relationship_role_column==="parent_type"||t==="contact_tasks"||t==="contact_notes"){e.via_parent_id=true}}else{delete n.relationships[t]}});if(n.relationships.accounts_opportunities){n.relationships.accounts_opportunities={lhs_key:"id",lhs_module:"Accounts",lhs_table:"accounts",name:"accounts_opportunities",relationship_type:"one-to-many",rhs_key:"account_id",rhs_module:"Opportunities",rhs_table:"opportunities"}}_.extend(n.relationships,i.baseMetadata.relationships);var k={};var A={};var M={};_.each(n.modules,function(e,r){if(e._patched)return;if(y)delete e.subpanels;var a=M[r]||{},s={};M[r]=a;var o=["fieldTemplates","menu"];if(r!=="Forecasts"){o.push("config")}m(e,o);if(r!=="Activities"&&e.filters){e.filters={basic:e.filters.basic,"default":e.filters.default}}if(e.layouts){if(e.layouts.subpanels&&e.layouts.subpanels.meta&&e.layouts.subpanels.meta.components){if(!_.isArray(e.layouts.subpanels.meta.components)){delete e.layouts.subpanels}else{_.each(e.layouts.subpanels.meta.components,function(e){a[e.label]=true})}}if(i.supportedFeatures.leadConversion&&r==="Leads"){g(e)}}if(e.views){m(e.views,_(e.views).keys().filter(function(e){return!_.contains(["list","detail","edit","forecast-pipeline","dupecheck-list"],e)}))}if(e.views&&e.views["forecast-pipeline"]){var l=e.views["forecast-pipeline"];_.extend(l.meta.timeperiod[0],{type:"enum",view:"edit"});delete l.meta.panels;delete l.templates}if(!w){delete e.fields[L]}if(r==="RevenueLineItems"||r==="Products"){if(e.fields.opportunity_name&&e.fields.opportunity_id&&e.fields.opportunity_id.required){e.fields.opportunity_name.required=true}}_.each(e.fields,function(n,i){if(_.contains(t,n.type)){delete e.fields[i];return}if(i!=="_hash"&&_.isEmpty(n.name)){delete e.fields[i];return}m(n,["comment","dbType","isnull","table","reportable","audited","join_name","merge_filter","duplicate_merge","bean_name","cols","rows","function","importable","massupdate","studio","bean_filter_field","link_class","link_file","rhs_key_override","enable_range_search","duplicate_merge_dom_value","help","no_default","comments","custom_module","db_concat_fields","sort_on","subquery","query_type","operator","db_field","custom_type"]);a[n.vname]=true;if(n.type==="id")delete n.len;if(n.formula)u(n.formula,k,M,A);if(n.options)A[n.options]=true;if(n.type==="relate"||n.type==="parent")delete n.len;if(n["link-type"]&&!n.link_type)n.link_type=n["link-type"];if(n.relationship_fields){s[n.name]=true;_.each(n.relationship_fields,function(t){s[t]=true;var n=e.fields[t];if(n){a[n.vname]=true;if(n.options)A[n.options]=true}})}if(n.required&&e.fields.email&&n.name==="email1"){e.fields.email.required=true}});var c=e.fields.team_name;if(c){delete c.len;c.type="teamset"}c=e.fields.name;if(c&&r==="Documents"){c.type="name"}if(r==="Meetings"){c=e.fields.date_start;if(c&&c.validation){delete c.validation.compareto}}else if(r==="Activities"){e.views=i.baseMetadata.modules.Activities.views;e.views["activitystream-dashlet"].meta.view.limit=i.config.fetchLimit.activities}if(e.views){delete e.views.listview;delete e.views.search;if(e.views.edit&&e.views.edit.meta&&e.views.edit.meta.panels){_.each(e.views.edit.meta.panels[0].fields,function(e){if(_.isObject(e)&&(e.name==="reminder"||e.name==="email_reminder")){_.each(["fields","related_fields"],function(t){_.find(e[t],function(n,i){if((n.name||n)===e.name+"_checked"){e[t].splice(i,1);return true}})})}})}}var d;if(n.mod_strings&&n.mod_strings[r]){if(n.mod_strings[r].LBL_EMAIL)d="LBL_EMAIL";else if(n.mod_strings[r].LBL_EMAIL_ADDRESS)d="LBL_EMAIL_ADDRESS"}var h=/^(?=.*address)((?!email).)*$/;var v=_.find(e.fields,function(e){return e.type==="file"});if(r!=="Forecasts"){_.each(e.views,function(t,n){if(t.meta){delete t.meta.templateMeta;if(t.meta.panels){if(t.meta.panels.length)t.meta.panels.length=1;if(t.meta.panels[0]){var o=[];var l=t.meta.panels[0].fields;var u=-1;delete t.meta.panels[0].label;l=_.reject(l,function(t){var a=_.isString(t)?t:t.name;var s=_.isEmpty(e.fields[a])&&t.type!=="fieldset";if(s)i.logger.error(r+"."+n+"."+a+" field is missing vardef");return s});if(n==="list"){l=_.filter(l,function(e){return!!e["default"]||_.isString(e)})}t.meta.panels[0].fields=l;_.each(l,function(t,i){var r=_.isObject(t),c=r?t.name:t,f=e.fields[c],g;if(t.options)A[t.options]=true;s[c]=true;a[t.label||f.vname]=true;if(f){if(f.options)A[f.options]=true;if(f.type==="relate"){s[f.id_name]=true;s[f.link]=true}else if(f.type==="parent"){s["parent_id"]=true;s["parent_type"]=true}}if(t.type==="fieldset"){_.each(t.fields,function(t){s[t.name]=true;if(t["default"])a[t["default"]]=true;else a[t.label||e.fields[t.name].vname]=true;if(t.options)A[t.options]=true})}if(!w&&c===L){u=i}if(r){m(t,["default","enabled","link","width","wireless_edit_only","customCode"]);if(h.test(t.name)&&f){if(n==="edit"||n==="detail"){g=_.extend(t,{index:i});if(!g.group){g.group=f.group}if(g.group)o.push(g)}else if(t.group||f.group){a[p(t.group||f.group)]=true}}if(t.name==="email1"){l[i]={name:"email",type:"email",label:t.label||d,required:f.required};a[t.label||d]=true;s.email=true}}else{if(h.test(c)&&f){if((n==="edit"||n==="detail")&&f.group){o.push({name:c,group:f.group,index:i})}else if(f.group){a[p(f.group)]=true}}if(t==="email1"){l[i]={name:"email",type:"email",label:d,required:f.required};a[d]=true;s.email=true}}});if(u!==-1){l.splice(u,1)}var c={};if(o.length>0){c=_.groupBy(o,"group");var f=0;_.each(c,function(e,t){var n=e[0].index-f;_.each(e,function(e){l.splice(n,1)});var i={name:t,fields:_.pluck(e,"name"),type:"address",label:p(t)};l.splice(n,0,i);f+=e.length-1;a[i.label]=true})}if(n==="edit"&&(r==="Meetings"||r==="Calls")){l.push({name:"send_invites",type:"bool",label:"LBL_SEND_INVITE"});l.push({name:"invitees",type:"invitees",label:"LBL_INVITEES"})}}}var g=_.map(t.meta.panels[0].fields,function(e){return e.name||e});if(v&&!_.contains(g,v.name)&&n==="edit"&&r!=="Notes"){t.meta.panels[0].fields.push(v.name)}}})}var b=[];var x=[];var E=function T(e,t,r){b.push(t);t=e[t];if(t){var s=1e3;_.each(t.collection_list,function(t,o){if(!e[o]&&!t.generate_select&&!_.contains(x,t.module)&&!_.contains(S,t.module)){t.title_key="LBL_"+t.get_subpanel_data.toUpperCase()+"_SUBPANEL_TITLE";t.order=-s++;t.creatable=!_.contains(i.config.modules.nonCreatableModules,t.module);t.linkable=false;e[o]=t;var l=n.mod_strings[r];if(l&&!l[t.title_key]){l[t.title_key]=t.module}a[t.title_key]=true;x.push(t.module)}})}};if(_.isObject(e.subpanels)&&!_.isArray(e.subpanels)&&!_.isEmpty(e.subpanels.subpanel_setup)){_.each(e.subpanels.subpanel_setup,function(t,s){if(!t)return;if(s!=="activities"&&s!=="history"){if((r==="Meetings"||r==="Calls")&&_.contains(["Users","Leads","Contacts"],t.module)){t.linkable=true;t.creatable=t.module!=="Users";a[t.title_key]=true}else{if(t.panel_definition){if(t.module!=="Users"){t.creatable=!_.contains(i.config.modules.nonCreatableModules,t.module)&&!_.isEmpty(_.find(t.top_buttons,function(e){return!e.widget_class||e.widget_class.indexOf("Create")>-1}));t.linkable=!_.contains(i.config.modules.nonLinkableModules,t.module)&&!_.isEmpty(_.find(t.top_buttons,function(e){return!e.widget_class||e.widget_class.indexOf("Select")>-1}));a[t.title_key]=true}else{b.push(s)}}else{t.creatable=(_.isUndefined(t.canCreate)?true:t.canCreate)&&!_.contains(i.config.modules.nonCreatableModules,t.module);t.linkable=(_.isUndefined(t.canLink)?true:t.canLink)&&!_.contains(i.config.modules.nonLinkableModules,t.module);a[t.title_key]=true}}if(t.panel_definition)t.order=-t.order;if(t.get_subpanel_data&&t.get_subpanel_data.indexOf("function:")===0)t.get_subpanel_data=t.set_subpanel_data;var o=e.fields[t.get_subpanel_data];if(!o||!n.relationships[o.relationship]){b.push(s);delete a[t.title_key];if(n.modules[t.module])i.logger.error("Invalid "+r+"."+s+" subpanel")}}m(t,["add_subpanel_data","set_subpanel_data","top_buttons","panel_definition","sort_by","sort_order","subpanel_name"])});E(e.subpanels.subpanel_setup,"activities",r);E(e.subpanels.subpanel_setup,"history",r);_.each(b,function(t){delete e.subpanels.subpanel_setup[t]});f(e)}else{delete e.subpanels}});n.views&&_.each(i.baseMetadata.views,function(e,t){if(!n.views[t]){n.views[t]=e}});if(i.config.stringCleanupEnabled){if(_.isEmpty(n.modules)&&!_.isEmpty(i.metadata.getModules())){d(i.metadata.getStrings("app_strings"),n.app_strings);d(i.metadata.getStrings("app_list_strings"),n.app_list_strings);if(!_.isEmpty(n.mod_strings)){var T=i.metadata.getStrings("mod_strings");_.each(T,function(e,t){d(e,n.mod_strings[t])})}}else{if(n.mod_strings&&!n.mod_strings._patched){n.mod_strings=_.pick(n.mod_strings,_.union(_.keys(n.modules),[v,"Home"]));_.each(n.mod_strings,function(e,t){_.each(e,function(e,r){var a=n.modules[t];var o=M[t]||{};var u=[];if(a){u=s(a)}if(!o[r]&&!_.contains(_.union(i._mod_strings,u),r)){if(l(r)){delete n.mod_strings[t][r]}}_.each(o,function(e,t){if(!n.mod_strings[t])k[t]=true})})});n.mod_strings._patched=true}if(n.app_list_strings&&!n.app_list_strings._patched){_.each(n.app_list_strings,function(e,t){if(!A[t]&&!_.contains(i._app_list_strings,t)){delete n.app_list_strings[t]}});n.app_list_strings._patched=true}if(n.app_strings&&!n.app_strings._patched){_.each(i._app_strings,function(e){k[e]=true});_.each(n.app_strings,function(e,t){if(!k[t]&&l(t)){delete n.app_strings[t]}});n.app_strings._patched=true}}}if(n.app_list_strings.reminder_time_options){if(!_.isArray(n.app_list_strings.reminder_time_options)){var C=[],R=_.keys(n.app_list_strings.reminder_time_options).sort(function(e,t){return e-t});_.each(R,function(e){C.push([e,n.app_list_strings.reminder_time_options[e]])});n.app_list_strings.reminder_time_options=C}var D=_.find(n.app_list_strings.reminder_time_options,function(e){return e[0]==-1});if(!D){n.app_list_strings.reminder_time_options.unshift([-1,n.app_strings.LBL_NONE])}}}if(n.views&&n.views["forecastdetails"]){n.views["forecastdetails"].meta.timeperiod[0].type="enum"}if(n.views&&n.views["bubblechart"]){_.extend(n.views["bubblechart"].meta.filter_duration[0],{type:"enum",view:"edit"})}e.call(this,n,a,o);h(n,y)}})();(function o(){var e={base:1,bool:1,currency:1,date:1,datetimecombo:1,email:1,emailbody:1,"enum":1,"float":1,file:1,image:1,"int":1,multienum:1,name:1,parent:1,password:1,phone:1,radioenum:1,relate:1,address:1,invitees:1,send_invites:1,teamset:1,text:1,textarea:1,url:1,tag:1};var t={image:function s(){return i.supportedFeatures["fileUpload"]?undefined:["edit"]},password:["edit"],emailbody:["list"],html:[],encrypt:[],currency_id:[]},r={currency_symbol:[]};var a=i.metadata._patchMetadata;i.metadata._patchMetadata=function(i,s){if(!s||s._patched===true){return s}a.apply(this,arguments);_.each(s.views,function(i,a){if(i.meta){_.each(i.meta.panels,function(i){var o=[];_.each(i.fields,function(i,l){if(_.isString(i)){return}var u=t[i.type];if(_.isFunction(u)){u=u()}if(u&&(u.length===0||_.contains(u,a))){o.push(l)}var c=r[i.name];if(c&&(c.length===0||_.contains(c,a))){o.push(l)}if(a==="edit"&&!(e[i.type]||_.contains(n(9).getCustomFields(),i.type))){i.view="readonly"}if(a==="edit"&&i.name==="date_modified"){i.view="readonly"}if(a==="edit"&&i.name==="date_entered"){i.view="readonly"}if(a==="edit"&&i.type==="url"&&s.fields[i.name]){var d=s.fields[i.name].gen,f=!isNaN(parseInt(d,10))?!!parseInt(d,10):!!d;if(f){i.view="readonly"}}});_.each(o,function(e,t){i.fields.splice(e-t,1)})},this)}},this);return s}})()},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(9);var a=n(327);var s=n(40);var o=function d(e){return _.any(e,function(e){return e.required&&l(e.module)})};var l=function f(e){return!i.nomad.canCreateModule(e)||_.contains(i.config.modules.readonlyModules,e)};var u=function h(e){return _.filter(e,function(e){return!l(e.module)})};var c={name:"convert",types:["context-menu","toolbar","right-menu-detail"],modules:["Leads"],label:i.lang.get("LBL_CONVERT"),iconKey:"actions.convert",stateHandlers:{isVisible:function p(e,t){var n=i.metadata.getModule("Leads","layouts")["convert-main"];if(!i.supportedFeatures.leadConversion||!n){return false}var r=n.meta.modules;return t.get("status")!=="Converted"&&!o(r)&&!_.isEmpty(u(r))}},handler:function m(e,t){var n=i.metadata.getModule("Leads","layouts")["convert-main"];var r=u(n.meta.modules);var o=i.controller.loadScreen({isDynamic:true,view:a,data:{leadModel:t,conversionModules:r}})[0];o.onConversionSuccess=_.wrap(o.onConversionSuccess,function(n){n.call(o);t.set("status","Converted");if(e instanceof s){e._renderActionButtons()}})},rank:10};r.registerRecordAction(c);e.exports=c},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(72);var o=n(64);var l={name:"phone",types:["context-menu","toolbar"],access:"list",label:"LBL_CALL_BUTTON",iconKey:"actions.call",stateHandlers:{isVisible:function d(e,t){var n=e.modContextData[t.module];if(!n.actions.phone){return false}var i=t.getAccessibleFields(n.phoneFields);return t.isDataDefined(i)},isMultipleChoice:function f(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].phoneFields);var i=t.getFieldsDataArray(n);return i.length>1},isEnabled:function h(e,t){return this.stateHandlers.isVisible(e,t)}},handler:function p(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].phoneFields);var i=t.getFieldsDataArray(n);a.callPhone(i,{model:t})},autoClose:true,rank:4};var u=_.extend({},l,{name:"message",types:["context-menu","toolbar"],access:"list",label:"LBL_SMS_BUTTON",iconKey:"actions.sms",handler:function m(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].phoneFields);var i=t.getFieldsDataArray(n);a.sendSms(i)},rank:9});var c=function g(e,t){var n=e._buildRecordRoute({model:t,hash:{link:e.context.get("link"),appendRoot:true,action:"edit"}});i.controller.navigate(n,{initiator:e.navigationName})};e.exports=function v(e){var t=e.view;var n=e.model;var d=[{name:"favorite",types:["context-menu"],label:n.get("my_favorite")?"LBL_UNFAVORITE":"LBL_FAVORITE",stateHandlers:{isVisible:function f(e,t){return i.acl.hasAccessToModel("view",t)&&!_.contains(i.config.modules.nonEditableModules,t.module)}},isFavorite:true,handler:function h(e,t){e.onToggleFieldValue(t,"favorite","my_favorite")},rank:6},{name:"view",types:["context-menu"],label:"LBL_VIEW_BUTTON",iconKey:"actions.view",stateHandlers:{isVisible:function p(e,t){return o.isViewActionVisible(t)}},handler:c,rank:1},{name:"edit",types:["context-menu"],label:"LBL_EDIT_BUTTON",iconKey:"actions.edit",stateHandlers:{isVisible:function m(e,t){return o.isEditActionVisible(t)}},handler:c,rank:1},{name:"email",types:["context-menu","toolbar"],access:"list",label:"LBL_EMAIL_BUTTON",iconKey:"actions.email",stateHandlers:{isVisible:function g(e,t){var n=e.modContextData[t.module];var i=false;if(n.actions.email){var r=t.getAccessibleFields(n.emailFields);i=t.hasActiveEmail(r)}return i},isEnabled:function v(e,t){return this.stateHandlers.isVisible(e,t)},isMultipleChoice:function b(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].emailFields);var r=t.getFieldsDataArray(n);var a=i.nomad.utils.extractAndSortEmails(r);return a.length>1}},handler:function y(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].emailFields);var i=t.getFieldsDataArray(n);var s=r.utils.extractAndSortEmails(i);if(!_.isEmpty(s)){a.sendEmail(s)}},autoClose:true,rank:7},{name:"unlink",types:["context-menu"],label:"LBL_UNLINK_BUTTON",iconKey:"actions.unlink",stateHandlers:{isVisible:function x(e,t){return e.unlinkVisible&&t.hasUnlinkAccess(e.relateFields,e.relationship)}},handler:function S(e,t){return e._deleteRecord(t,true)},rank:5},{name:"delete",types:["context-menu"],label:"LBL_DELETE_BUTTON",iconKey:"actions.delete",stateHandlers:{isVisible:function w(e,t){return!t.link&&t.hasDeleteAccess()}},handler:function L(e,t){return e._deleteRecord(t)},rank:2},l,u,{name:"map",types:["context-menu","toolbar"],access:"list",label:"LBL_MAP_BUTTON",iconKey:"actions.map",stateHandlers:{isVisible:function E(e,t){var n=e.modContextData[t.module];if(!n.actions.map)return false;var i=e.addressFieldsGroups||t.getAccessibleFieldsGroups(n.addressFieldsGroups);var r=t.getAddresses(i);return _.any(r)},isEnabled:function k(e,t){return this.stateHandlers.isVisible(e,t)},isMultipleChoice:function A(e,t){var n=t.getAccessibleFieldsGroups(e.modContextData[t.module].addressFieldsGroups);var i=t.getAddresses(n);return i.length>1}},handler:function M(e,t){var n=e.addressFieldsGroups||t.getAccessibleFieldsGroups(e.modContextData[t.module].addressFieldsGroups);var i=t.getAddresses(n);a.openAddress({addresses:i})},autoClose:true,rank:8},{name:"url",types:["context-menu","toolbar"],access:"list",label:"LBL_URL_BUTTON",iconKey:"actions.url",stateHandlers:{isVisible:function T(e,t){var n=e.modContextData[t.module];if(!n.actions.url)return false;var i=t.getAccessibleFields(n.urlFields);var r=s.prototype.regexp;return t.isDataDefined(i,r)},isEnabled:function C(e,t){return this.stateHandlers.isVisible(e,t)},isMultipleChoice:function R(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].urlFields);var i=t.getFieldsDataArray(n,s.prototype.regexp);return i.length>1}},handler:function D(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].urlFields);var i=t.getFieldsDataArray(n,s.prototype.regexp);a.openUrl(i,{encode:true})},autoClose:true,rank:11},{name:"file",types:["context-menu","toolbar"],access:"list",label:"LBL_FILE_BUTTON",iconKey:"actions.file",stateHandlers:{isVisible:function I(e,t){var n=t.getAccessibleFields(e.modContextData[t.module].docFields);var r=!_.isEmpty(n)||!_.isEmpty(t.docData)||t._canHaveFiles()||t.canHaveAttachments()||t._canHavePDFs();var a=i.acl.hasAccessToModel("view",t);return r&&a},isMultipleChoice:function O(e,t){return t.docData&&t.docData.length>1},isLoading:function N(e,t){return t.docsLoading},isEnabled:function F(e,t){return t.docsLoading||r.utils.docIsAvailable(t.docData)}},handler:function B(e,t){var n=t.docData;if(_.isEmpty(n)){alert(i.lang.get(t.docsLoading?"LBL_LOADING_FILES":"ERR_NO_DOCS"));return}a.openDoc(t.docData)},autoClose:true,rank:10},{name:"close",types:["context-menu"],label:"LBL_CLOSE_BUTTON_TITLE",iconKey:"actions.close",stateHandlers:{isVisible:function U(e,t){return t.isCloseActionAvailable()}},handler:function P(e,t){var n="status";t.set(n,i.nomad.utils.getClosedStatusValue(t.module||e.module));t.save(null,{fields:[n],error:function r(){t.set(n,t.previousAttributes()[n])},success:function a(){if(t.collection&&_.isArray(t.collection.filterDef)&&_.find(t.collection.filterDef,function(e){return e[n]&&e[n]["$not_in"]&&_.contains(e[n]["$not_in"],t.get(n))})){e.collection.remove(t);e.collection.next_offset!==-1&&--e.collection.next_offset;if(!e.collection.length){e.collection.fetch()}}}})},autoClose:true,rank:3}];if(e.type==="context-menu"&&n.module!=="Reports"){d=_.reject(d,function(e){return e.name==="file"})}return d}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);e.exports=function a(e){var t=e.view,n=e.model;return[{name:"close",types:["edit-menu"],label:"LBL_CLOSE_AND_SAVE_BUTTON",stateHandlers:{isVisible:function i(e,t){return t.isCloseActionAvailable()}},handler:function a(e,t){e.model.set("status",r.utils.getClosedStatusValue(e.module));e.save()},rank:10}]}},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(64);var o=n(6);e.exports=function(e){var t=e.model,l=e.viewType,u=e.viewSubType;var c=t.link;var d=c?c.bean.module:t.module;var f=c&&i.data.getRelatedModule(c.bean.module,c.name);var h=i.metadata.getModuleNames({filter:"visible"});var p=n(42);var m=n(12);var g=n(19);var v=n(60);var b=function S(e,t){var n=r.getSubpanels(d);var a=t==="create"?_.filter(n,function(e){return r.canCreateRelated(e.module,d,e.context.link)}):_.filter(n,function(e){return e.linkable&&i.acl.hasAccess("list",e.module)});a=_.map(a,function(e){return{value:e.module,label:i.lang.get(e.label,d),module:e.module,context:e.context}});var s=new o({collection:new i.BeanCollection(a),skipFetch:true});var l=i.controller.loadScreen({isDynamic:true,headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),cancel:true,save:false,search:false},view:m,context:s,initOptions:{preset:"staticItems"}})[0];l.on("selection:change",function(n){var a=n[0].get("value");var s=n[0].get("context").link;var o=r.buildLinkRoute(d,e.id,s,null,t);i.controller.navigate(o,{initiator:this.navigationName})})};var y=function w(e,t){var n=r.utils.buildRoute(e,{hash:{link:c&&c.name,appendRoot:true,action:t}});i.controller.navigate(n)};var x=[{name:"create",types:["right-menu-list"],label:i.lang.get("LBL_CREATE_MODULE",d,r.getSingularModuleName(d)),iconKey:"menu.create",stateHandlers:{isVisible:function L(e,t){if(t.link||e instanceof p){return false}return r.canCreateModule(d)}},handler:function E(){return y(t,"create")}},{name:"edit",types:["right-menu-detail"],label:"LBL_EDIT_BUTTON",iconKey:"actions.edit",stateHandlers:{isVisible:function k(){return s.isEditActionVisible(t)}},handler:function A(){return y(t,"edit")},rank:10},{name:"view",types:["right-menu-detail"],label:"LBL_VIEW_BUTTON",iconKey:"actions.view",stateHandlers:{isVisible:function M(){return s.isViewActionVisible(t)}},handler:function T(){return y(t,"edit")},rank:10},{name:"duplicate",types:["right-menu-detail"],label:"LBL_DUPLICATE_BUTTON_LABEL",iconKey:"menu.duplicate",stateHandlers:{isVisible:function C(){return r.canCreateModule(d)&&!_.include(i.config.modules.nonDuplicatableModules,d)}},handler:function R(){var e=i.controller.getScreenContext();var n=e.link;var r=v.get({baseType:"edit",create:true,link:n,parentModule:e.parentModule,module:t.module});i.controller.loadScreen({isDynamic:true,gaTrack:"duplicate",view:g,headerConfig:r,context:new o({duplicate:true,sourceModel:t,module:t.module}).prepare()})},rank:10},{name:"create-related",types:["right-menu-detail","right-menu-list"],label:c?i.lang.get("LBL_CREATE_RELATED",f,r.getSingularModuleName(f)):"LBL_CREATE_RELATED_RECORD",iconKey:"menu.create",stateHandlers:{isVisible:function D(){var e=t.link;if(!e&&l==="list"||e&&l==="detail"){return false}return f?r.canCreateRelated(f,d,e.name):r.hasCreatableSubpanels(r.getSubpanels(d))}},handler:function I(){l==="list"?y(t,"create"):b(t,"create")},rank:20},{name:"create-parent",types:["right-menu-list"],label:i.lang.get("LBL_CREATE_MODULE",d,r.getSingularModuleName(d)),iconKey:"menu.create",stateHandlers:{isVisible:function O(e,t){return e instanceof p&&r.canCreateModule(d)}},handler:function N(e,t){var n=t.module;var r=e;var a=i.controller._loadScreen({isDynamic:true,layouts:{views:i.nomad.getViewClass({module:n,baseType:"edit"}),baseType:"edit",module:n,create:true}})[0].getComponent("edit");a.handleSaveSuccess=_.wrap(a.handleSaveSuccess,function(e){a.skipNavigationAfterSave=true;e.call(a);var t=a.model.clone();i.controller.disposeDynamic();r.trigger("selection:change",[t])})}},{name:"link-related",types:["right-menu-detail","right-menu-list"],label:c?i.lang.get("LBL_ASSOC_EXISTING",f,r.getSingularModuleName(f)):"LBL_ASSOC_RELATED_RECORD",iconKey:"menu.linkRelated",stateHandlers:{isVisible:function F(){var e=t.link;if(!e&&l==="list"||e&&l==="detail"){return false}if(e&&l==="list"){return r.canLinkRelated(d,e.name)}else{return r.hasLinkableSubpanels(r.getSubpanels(d))}}},handler:function B(){l==="list"?y(t,"associate"):b(t,"associate")},rank:10},{name:"share",types:["right-menu-detail"],label:"LBL_RECORD_SHARE_BUTTON",iconKey:"menu.share",handler:function U(){return a.shareRecord(t)},rank:30}];_.each(h,function(e){x.push({name:"create-"+e+"-record",module:e,modules:["Search"],types:["right-menu-list"],label:i.lang.get("LBL_CREATE_MODULE",e,r.getSingularModuleName(e)),stateHandlers:{isVisible:function t(){return r.canCreateModule(e)}},handler:function n(){return i.controller.navigate("Search/"+e+"/create")},rank:40})});return x}},function(e,t,n){"use strict";(function(e){var t=window.store;function n(e){this._async=!!e.async;this._bucketName=e.name+":"}_.extend(n.prototype,{version:1,_syncApi:{get:function i(e){return t.get(this._bucketName+e)},getAll:function r(){var e=this._bucketName;var n=e.length;var i={};_.each(t.getAll(),function(t,r){var a=r.indexOf(e);if(a===0){i[r.substr(n)]=t}});return i},has:function a(e){return t.has(this._bucketName+e)},set:function s(e,n){t.set(this._bucketName+e,n)},cut:function o(e){t.cut(this._bucketName+e)},cutAll:function l(){var e=this._bucketName;_.each(_.keys(this._syncApi.getAll.call(this)),function(n){t.cut(e+n)})}},_asyncApi:{get:function u(e,t){t.call(this,null,this._syncApi.get.call(this,e))},getAll:function c(e){e.call(this,null,this._syncApi.getAll.call(this))},has:function d(e,t){t.call(this,null,this._syncApi.has.call(this,e))},set:function f(e,t,n){this._syncApi.set.call(this,e,t);n&&n.call(this,null)},cut:function h(e,t){this._syncApi.cut.call(this,e);t&&t.call(this,null)},cutAll:function p(e){this._syncApi.cutAll.call(this);e&&e.call(this,null)}},init:function m(e){_.extend(this,this._async?this._asyncApi:this._syncApi);e&&e.call(this,null,this)}});e.localStorageKeyValueStore={open:function g(){},initBucket:function v(e,t){var i=new n(e);i.init(t)}}})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t=function r(){};var n={db:null,openDb:function a(t){this.db=e.nomad.openDb(t);if(!this.db){throw new Error("Can't open SQL database "+t.name)}},query:function s(e,t,n){var i=this;this.db.transaction(function r(a){a.executeSql(e,t||[],function s(e,t){n&&n.call(i,null,t)},function o(e,t){n&&n.call(i,t)})})},createDataTable:function o(e,t){var n=this;this.query("CREATE TABLE IF NOT EXISTS "+e+" (key STRING PRIMARY KEY, value TEXT)",[],function i(e,r){t&&t.apply(n,arguments)})},get:function l(e,t,n){var i=this;this.query("SELECT value FROM "+e+" WHERE key = ? LIMIT 1",[t],function r(e,t){if(e){n&&n.call(i,e);return}var r;if(t.rows.length){r=t.rows.item(0).value==="undefined"?undefined:JSON.parse(t.rows.item(0).value)}n&&n.call(i,null,r)})},getAll:function u(e,t){var n=this;this.query("SELECT key, value FROM "+e,[],function i(e,r){var a;var s={};var o;if(e){t&&t.call(n,e);return}for(o=r.rows.length,a=0;a<o;a++){var l=r.rows.item(a);s[l.key]=l.value==="undefined"?undefined:JSON.parse(l.value)}t&&t.call(n,null,s)})},has:function c(e,t,n){var i=this;this.query("SELECT key FROM "+e+" WHERE key = ? LIMIT 1",[t],function r(e,t){if(e){n&&n.call(i,e);return}n&&n.call(i,null,!!t.rows.length)})},set:function d(e,t,n,i){var r=this;this.query("REPLACE INTO "+e+" (key, value) values (?, ?)",[t,JSON.stringify(n)],function a(e,t){i&&i.apply(r,arguments)})},cut:function f(e,t,n){var i=this;this.query("DELETE FROM "+e+" WHERE key = ?",[t],function r(e,t){n&&n.apply(i,arguments)})},cutAll:function h(e,t){var n=this;this.query("DELETE FROM "+e,[],function i(e,r){t&&t.apply(n,arguments)})}};function i(e){this._async=!!e.async;if(!this._async){this._cache={}}this._bucketName=e.name}_.extend(i.prototype,{version:1,_syncApi:{get:function p(t){return _.isObject(this._cache[t])?e.utils.deepCopy(this._cache[t]):this._cache[t]},getAll:function m(){return e.utils.deepCopy(this._cache)},has:function g(e){return _.has(this._cache,e)},set:function v(t,i){n.set(this._bucketName,t,i);this._cache[t]=_.isObject(i)?e.utils.deepCopy(i):i},cut:function b(e){n.cut(this._bucketName,e);delete this._cache[e]},cutAll:function y(){n.cutAll(this._bucketName);this._cache={}}},_asyncApi:{get:function x(e,t){n.get(this._bucketName,e,_.bind(t,this))},getAll:function S(e){n.getAll(this._bucketName,_.bind(e,this))},has:function w(e,t){n.has(this._bucketName,e,_.bind(t,this))},set:function L(e,i,r){n.set(this._bucketName,e,i,r?_.bind(r,this):t)},cut:function E(e,i){n.cut(this._bucketName,e,i?_.bind(i,this):t)},cutAll:function k(e){n.cutAll(this._bucketName,e?_.bind(e,this):t)}},init:function A(e){var t=this;n.createDataTable(this._bucketName,function i(r){if(r){e&&e.call(t,r);return}if(t._async){_.extend(t,t._asyncApi);e&&e.call(t,null,t)}else{n.getAll(t._bucketName,function a(n,i){if(n){e&&e.call(t,n);return}t._cache=i;_.extend(t,t._syncApi);e&&e.call(t,null,t)})}})}});e.sqlKeyValueStore={open:function M(e){n.openDb(e)},initBucket:function T(e,t){var n=new i(e);n.init(t)}}})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t=n(3);var i=n(5);e.events.on("nativeMessage",function(e){if(e.target==="telephony"){r.callStateChanged(e.calls)}});var r={CallState:{IDLE:"IDLE",DIALING:"DIALING",CONNECTED:"CONNECTED"},_callModule:"Calls",getCallLog:function a(){return e.nomad.getSetting("callLog")},setCallLog:function s(t){if(t&&t.recordId&&t.recordName){e.nomad.setSetting("callLog",t)}else{e.nomad.removeSetting("callLog")}},clearCallLog:function o(){e.nomad.removeSetting("callLog")},callPhone:function l(t,n){var r={phone:t,module:n.module,recordId:n.recordId,recordName:n.recordName};this.setCallLog(r);if(!e.isNative){this.bindCallEnd()}if(!$.os.phone){r.started=true;r.startedOn=(new Date).getTime()}e.logger.debug("Initiating a phone call to "+t);i._callPhone(t)},callStateChanged:function u(t){var n=this.getCallLog();if(t.length===0){if(n){n.endedOn=(new Date).getTime();e.logger.debug("End call: "+n.id+":"+n.state);this.setCallLog(n);this.onAppResume()}return}e.logger.debug("Call state changed: "+t.length);var i=t[0];e.logger.debug("First call: "+i.id+":"+i.state);if(n){if(i.state===this.CallState.DIALING){n.id=i.id;n.state=i.state;n.direction="Outbound";n.startedOn=(new Date).getTime();n.started=true;this.setCallLog(n)}else if(i.state===this.CallState.IDLE){n.id=i.id;n.state=i.state;n.endedOn=(new Date).getTime();

this.setCallLog(n);this.onAppResume()}else if(i.state===this.CallState.CONNECTED){n.state=i.state;this.setCallLog(n)}}},onAppPause:function c(){},onAppResume:function d(){if(!e.isSynced)return;var n=this.getCallLog();if(_.isEmpty(n))return;if($.os.android&&n.state!==this.CallState.IDLE&&e.isNative)return;if(!n.started){this.clearCallLog();return}n.endedOn=n.endedOn||(new Date).getTime();var i=this;if(this._canLogCall(n)){t.showConfirm(e.lang.get("LBL_MOBILE_LOG_CALL_CONFIRM"),{callback:function r(e){if(e===2)i.logCall(n)}})}this.clearCallLog()},logCall:function f(t){var n=t.endedOn-t.startedOn;var i=n/1e3;var r=1;var a=0;if(i>60){r=i/60;if(r>60){a=r/60;r=r%60}}var s=e.nomad.getRelationshipLink(t.module,this._callModule);var o=t.direction==="Outbound"&&s?e.nomad.buildLinkRoute(t.module,t.recordId,s,null,"createCall"):"createCall";o+="?direction="+t.direction+"&start_date="+new Date(t.startedOn).toISOString()+"&duration_hours="+a+"&duration_minutes="+r+"&status=Held"+"&log_call=true";e.controller.navigate(o)},_canLogCall:function h(t){var n=["Employees","Calls"];var i=!_.contains(n,t.module);var r=e.metadata.getModule(this._callModule);var a=r&&e.acl.hasAccess("create",this._callModule);var s=t.module==="Users"&&t.recordId===e.user.get("id");return a&&r&&i&&!s},bindCallEnd:function p(){var t;var n=[{state:this.CallState.DIALING}];this.callStateChanged(n);if($.os.android){t=_.bind(function(){if(this._pageIsVisible()){e.logger.debug("bindCallEnd return handler called");document.removeEventListener("webkitvisibilitychange",t);this.onAppResume()}},this);document.addEventListener("webkitvisibilitychange",t,false)}else if($.os.ios){t=_.bind(function(){window.removeEventListener("pageshow",t);this.onAppResume()},this);window.addEventListener("pageshow",t,false)}},_pageIsVisible:function m(){return!document.webkitHidden}};e.augment("telephony",r,false)})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(30);var s=r.declareComponent(a,{params:null,likelyField:"",filterDuration:null,responseDataAttr:"records",template:"bubblechart",initialize:function o(e){this._super(e);var t=["id","name","account_name","base_rate","currency_id","assigned_user_name","date_closed","probability","account_id","sales_stage","commit_stage"];var n;this.dashletConfig=i.metadata.getView(null,"bubblechart");this.filterDuration=this.dashletConfig.filter_duration[0];this.setFilterDurationOptions();this.viewState.filtersDef.filter_duration=this.filterDuration;this.likelyField=this.forecastBy==="Opportunities"?"amount":"likely_case";t.push(this.likelyField);n=this.likelyField+":desc";this.params={fields:t.join(","),max_num:10,order_by:n};this.tooltiptemplate=i.template.getView("bubblechart-tooltip");this.setFilters({filter_duration:_.keys(this.viewState.filtersDef.filter_duration.options)[0]})},setFilterDurationOptions:function l(){if(!_.isString(this.filterDuration.options)){return false}this.filterDuration.options=i.lang.getAppListStrings(this.filterDuration.options);if(_.isEmpty(this.filterDuration.options)){this.filterDuration.options=i.lang.getAppListStrings("generic_timeperiod_options")}},loadChartData:function u(e){this.setDateRange();var t=[{date_closed:{$gte:this.dateRange.begin}},{date_closed:{$lte:this.dateRange.end}}];if(!this.isManager||this.viewState.visibility==="user"){t.push({$owner:""})}var n=_.extend({filter:t},this.params);var a=i.api.buildURL(this.forecastBy,null,null,n,this.params);this.apiCall("read",a,null,r.utils.wrapAsyncCallback(e))},processData:function c(e){this.evaluateResult(e);if(!_.isEmpty(e.records)){this._super(e)}this.$chartEl.toggle(!_.isEmpty(e.records));this.$dataUnavailableLbl.toggle(_.isEmpty(e.records))},prepareChartObject:function d(){var e=this;this.chart=nv.models.bubbleChart().x(function(e){return d3.time.format("%Y-%m-%d").parse(e.x)}).y(function(e){return e.y}).tooltipContent(function(t,n,i,r,a){r.point.close_date=d3.time.format("%x")(d3.time.format("%Y-%m-%d").parse(r.point.x));r.point.amount=r.point.currency_symbol+d3.format(",.2d")(r.point.base_amount);return e.tooltiptemplate(r.point).replace(/(\r\n|\n|\r)/gm,"")}).showTitle(false).tooltips(true).showLegend(true).bubbleClick(function(t){i.controller.navigate(i.router.buildRoute(e.forecastBy,t.point.id),{initiator:e.navigationName})}).colorData("class",{step:2}).groupBy(function(t){return e.isManager&&e.viewState.visibility==="user"?t.sales_stage_short:t.assigned_user_name}).filterBy(function(e){return e.probability}).strings({legend:{close:i.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:i.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:i.lang.getAppString("LBL_CHART_NO_DATA")})},renderChart:function f(){if(!this._super())return;this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".nv-chart-bubble").append("svg").datum(this.chartData).transition().duration(500).call(this.chart)},evaluateResult:function h(e){this.total=e.records.length;var t="sales_stage_dom";var n=i.metadata.getModule(this.forecastBy,"fields");if(n){t=n.sales_stage.options||t}this.chartData={data:e.records.map(function(e){var n=i.lang.getAppListStrings(t)[e.sales_stage]||e.sales_stage;return{id:e.id,x:e.date_closed,y:Math.round(parseInt(e[this.likelyField],10)/parseFloat(e.base_rate)),shape:"circle",account_name:e.account_name,assigned_user_name:e.assigned_user_name,sales_stage:n,sales_stage_short:n,probability:parseInt(e.probability,10),base_amount:parseInt(e[this.likelyField],10),currency_symbol:i.currency.getCurrencySymbol(e.currency_id)}},this),properties:{title:i.lang.getAppString("LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME"),value:e.records.length,xDataType:"datetime",yDataType:"string"}}},setDateRange:function p(){var e=i.date();var t=this.getDateRangeDuration();var n;var r;var a;if(t===12){n=i.date().startOf("year");r=i.date().endOf("year")}else{a=Math.floor(e.month()/3)*3;n=i.date(new Date(e.year(),a+t,1));r=i.date(new Date(n.year(),n.month()+3,0))}this.dateRange={begin:n.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD")}},getDateRangeDuration:function m(){var e=parseInt(this.viewState.filters.get("filter_duration"),10);var t={current:0,next:3,year:12};if(isNaN(e)){e=t[this.viewState.filters.get("filter_duration")]}return e}});i.nomad.registerComponent({baseType:"bubblechart",cmp:s});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(68);var s=r.declareComponent(a,{getListViewDef:function o(e,t){var n=this._super(e,t);var r=i.metadata.getModule("Cases","fields").status.options;var a=i.lang.getAppListStrings(r);n.title=a[e.status];return n}});i.nomad.registerComponent({baseType:"cases-summary",cmp:s});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(30);var o=n(28);var l=n(15);var u=r.declareComponent(s,{_isChartInitialized:false,isForecastSetup:false,isForecastConfigValid:false,forecastsNotSetUpMsg:"",$groupByFilter:null,template:"forecast-pareto",events:function c(){var c=o.prototype.events;return _.extend({},c,{"click .lnk-non-forecast":function e(t){t.preventDefault();a.openUrl(t.target.href)}})},initialize:function d(e){this._super(e);this.forecastConfig=i.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=r.utils.isForecastConfigValid();this.showManagerData=false;if(this.isForecastSetup){this.dashletConfig=i.metadata.getView(null,"forecast-pareto");if(_.isString(this.dashletConfig.dataset.options)&&_.isString(this.dashletConfig.group_by.options)){var t=i.lang.getAppListStrings(this.dashletConfig.dataset.options);this.dashletConfig.group_by.options=i.lang.getAppListStrings(this.dashletConfig.group_by.options);this.dashletConfig.dataset.options={};if(this.forecastConfig.show_worksheet_worst&&i.acl.hasAccess("read",this.forecastBy,{field:"worst_case"})){this.dashletConfig.dataset.options.worst=t.worst}if(this.forecastConfig.show_worksheet_likely&&i.acl.hasAccess("read",this.forecastBy,{field:"likely_case"})){this.dashletConfig.dataset.options.likely=t.likely}if(this.forecastConfig.show_worksheet_best&&i.acl.hasAccess("read",this.forecastBy,{field:"best_case"})){this.dashletConfig.dataset.options.best=t.best}}}else{var n=_.isUndefined(i.user.getAcls().Forecasts.admin);this.forecastsNotSetUpMsg=r.utils.getForecastNotSetUpMessage(n)}},loadData:function f(e){var t=this.previousVisibilityState!==this.viewState.visibility;if(!this.isForecastSetup){this.hidePreloader()}if(this.isForecastSetup||e.byPtr||t){this.previousVisibilityState=this.viewState.visibility;if(this.$groupByFilter&&t){this.$groupByFilter.toggleElement(this.viewState.visibility!=="group")}return this._super(e)}else if(this._serverData){this.saveState();this.renderChart()}return l.resolve()},loadDataError:function h(e){this._super(e);this._serverData=null},processData:function p(e){this._serverData=e;if(this._serverData){this._super(e)}},loadInitData:function m(e){var t=this;function n(n){t.initForecast(n);e(null,n)}this.apiCall("GET",i.api.buildURL("Forecasts/init"),null,{success:function r(e){var i=t.options.parentModel;if(i){i.once("sync",function(){n(e)}).fetch()}else{n(e)}},error:e})},loadChartData:function g(e){var t={};var n;t.no_data=this.viewState.filters.get("no_data")===true;if(this.isManager){t.target_quota=this.viewState.filters.get("show_target_quota")?1:0}n=i.api.buildURL(this.buildChartUrl(),null,null,t);this.apiCall("read",n,{},r.utils.wrapAsyncCallback(e))},initForecast:function v(e){var t={user_id:i.user.get("id"),show_target_quota:false,selectedTimePeriod:e.defaultSelections.timeperiod_id.id,timeperiod_id:e.defaultSelections.timeperiod_id.id,timeperiod_label:e.defaultSelections.timeperiod_id.label,dataset:e.defaultSelections.dataset,group_by:e.defaultSelections.group_by,ranges:_.keys(i.lang.getAppListStrings(this.forecastConfig.buckets_dom))};this._isChartInitialized=true;this.viewState.filtersDef={group_by:this.dashletConfig.group_by,dataset:this.dashletConfig.dataset};this.previousVisibilityState=this.viewState.visibility;this.setFilters(t);this.render();this.$groupByFilter=this.$(".filter.group_by");if(this.viewState.visibility==="group"){this.$groupByFilter.hideElement()}},prepareChartObject:function b(){var e=this.getUserCurrencyFormatter();var t=this.getUserCurrencyFormatterSi();this.chartId=this.cid+"_chart";this.chart=nv.models.paretoChart().margin({top:0,right:10,bottom:0,left:10}).showTitle(false).tooltips(true).tooltipQuota(function(t,n,i,r,a){return"<p><b>"+r.key+": <b>"+e(r.val)+"</b></p>"}).tooltipLine(function(t,n,r,a,s){return"<p><b>"+i.lang.get("LBL_CUMULATIVE_TOTAL","Forecasts")+"</b></p><p>"+t+": <b>"+e(a.point.y)+"</b></p>"}).tooltipBar(_.bind(function(t,n,r,a,s){var o=i.lang.get("LBL_SALES_STAGE","Forecasts");if(this.viewState.filters.get("group_by")==="probability"){o=i.lang.get("LBL_OW_PROBABILITY","Forecasts")+" (%)"}return"<p>"+o+": <b>"+t+"</b></p>"+"<p>"+i.lang.get("LBL_AMOUNT","Forecasts")+": <b>"+e(a.value)+"</b></p>"+"<p>"+i.lang.get("LBL_PERCENT","Forecasts")+": <b>"+n+"%</b></p>"},this)).colorData("default").colorFill("default").valueFormat(function(e){return t(e,2)}).barClick(function(e,t,n,i){return}).id(this.chartId).strings({legend:{close:i.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:i.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:i.lang.getAppString("LBL_CHART_NO_DATA")})},renderChart:function y(){if(this.isManager&&this.viewState.visibility==="group"){this.showManagerData=true;this.convertManagerDataToChartData()}else{this.showManagerData=false;this.convertUserDataToChartData()}this.generateD3Chart()},convertUserDataToChartData:function x(){_.each(this._serverData.data,function(e){if(_.has(e,"likely")&&isNaN(e.likely)){e.likely=0}if(_.has(e,"best")&&isNaN(e.best)){e.best=0}if(_.has(e,"worst")&&isNaN(e.worst)){e.worst=0}});var e=this.viewState.filters.get("group_by");var t=this.viewState.filters.get("dataset");var n=this.viewState.filters.get("ranges");var r=0;var a=[];var s=this._serverData["x-axis"].map(function(e,t){return{series:r,x:t+1,y:0}});var o={key:this._serverData.labels.dataset[t],type:"line",series:r,values:[],valuesOrig:[]};var l={properties:{name:this._serverData.title,yDataType:"currency",xDataType:"string",quota:parseFloat(this._serverData.quota),quotaLabel:i.lang.get("LBL_QUOTA","Forecasts"),groupData:this._serverData["x-axis"].map(function(e,t){return{group:t,l:e.label,t:0}})},data:[]};var u=this._serverData.data;var c=!_.isEmpty(n)?u.filter(function(e){return _.contains(n,e.forecast)}):u;_.each(this._serverData.labels[e],function(n,o){var u=c.filter(function(t){return t[e]==o});if(!_.isEmpty(u)){var d=this._serverData["x-axis"].map(function(e,t){return{series:r,x:t+1,y:0,y0:0}});var f=this._serverData["x-axis"];_.each(u,function(e){for(var n=0;n<f.length;n++){if(e.date_closed_timestamp>=f[n].start_timestamp&&e.date_closed_timestamp<=f[n].end_timestamp){var i=parseFloat(e[t]);d[n].y+=i;l.properties.groupData[n].t+=i;s[n].y+=i;break}}},this);a.push({key:n,series:r,type:"bar",values:d,valuesOrig:i.utils.deepCopy(d)});r++}},this);if(!_.isEmpty(a)){var d=0;_.each(s,function(e,t,n){n[t].y+=d;d=n[t].y});o.values=s;o.valuesOrig=i.utils.deepCopy(s);a.push(o);l.data=a}this.chartData=l},convertManagerDataToChartData:function S(){var e=this.viewState.filters.get("dataset");var t=this._serverData.data;var n={properties:{name:this._serverData.title,quota:parseFloat(this._serverData.quota),quotaLabel:i.lang.get(this.viewState.filters.get("show_target_quota")?"LBL_QUOTA_ADJUSTED":"LBL_QUOTA","Forecasts"),groupData:t.map(function(t,n){return{group:n,l:t.name,t:parseFloat(t[e])+parseFloat(t[e+"_adjusted"])}})},data:[]};var r=[e,e+"_adjusted"].map(function(e,n){var i=t.map(function(t,i){return{series:n,x:i+1,y:parseFloat(t[e]),y0:0}});return{key:this._serverData.labels.dataset[e],series:n,type:"bar",values:i,valuesOrig:i}},this);var a=[e,e+"_adjusted"].map(function(e,n){var i=t.map(function(t,i){return{series:n,x:i+1,y:parseFloat(t[e])}});var r=0;_.each(i,function(e,t,n){n[t].y+=r;r=n[t].y});return{key:this._serverData.labels.dataset[e],series:n,type:"line",values:i,valuesOrig:i}},this);if(this.viewState.filters.get("show_target_quota")){n.properties.targetQuota=+this._serverData.target_quota;n.properties.targetQuotaLabel=i.lang.get("LBL_QUOTA","Forecasts")}n.data=r.concat(a);this.chartData=n},generateD3Chart:function w(){if(!this._super())return;this.chart.barLegend.rowsCount(this._maxLegendRows);this.chart.lineLegend.rowsCount(this._maxLegendRows);this.chart.stacked(!this.showManagerData);d3.select(this.el).select(".nv-pareto").append("svg").datum(this.chartData).call(this.chart)},_onOrientationChange:function L(){if(this.chart){if(this.chart.barLegend){this.chart.barLegend.rowsCount(this._maxLegendRows)}if(this.chart.lineLegend){this.chart.lineLegend.rowsCount(this._maxLegendRows)}this.dispatchChartMethod("tooltipHide");this.rerenderChart()}},buildChartUrl:function E(){var e=this.options.parentModel;var t=e&&e.get("date_closed_timestamp");var n=t||this.viewState.filters.get("timeperiod_id");var i=[this.viewState.visibility==="group"?"ForecastManagerWorksheets":"ForecastWorksheets","chart",n,this.viewState.filters.get("user_id")];return i.join("/")}});i.nomad.registerComponent({baseType:"forecast-pareto",cmp:u});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(30);var s=n(15);var o=r.declareComponent(a,{_isChartInitialized:false,forecastAdmin:false,forecastConfig:null,isForecastSetup:false,isForecastsConfigValid:false,forecastsNotSetUpMsg:null,template:"forecast-pipeline",initialize:function l(e){this._super(e);this.forecastConfig=i.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=r.utils.isForecastConfigValid();this.forecastAdmin=_.isUndefined(i.user.getAcls().Forecasts.admin);this.salesStageLabels=i.lang.getAppListStrings("sales_stage_dom");if(!this.isForecastSetup){if(_.isEmpty(i.metadata.getModule("Forecasts").views)){this.forecastsNotSetUpMsg=r.utils.getForecastNotSetUpMessage(this.forecastAdmin)}else{this.viewState.filtersDef.timeperiod=i.utils.deepCopy(i.metadata.getModule("Forecasts").views["forecast-pipeline"].meta.timeperiod[0]);this.viewState.filtersDef.timeperiod.options=i.lang.getAppListStrings("generic_timeperiod_options");this.setFilters({selectedTimePeriod:this.viewState.filtersDef.timeperiod.options[0]});this._isChartInitialized=true}}},loadData:function u(e){var t=!i.metadata.getModule("Opportunities");var n=!i.acl.hasAccess("view","Opportunities");var r=!_.contains(i.metadata.getModuleNames({filter:"visible"}),"RevenueLineItems");if(t||n&&r){this.loadDataError(this.ERR_NO_DATA_AVAILABLE)}else if(this.forecastsNotSetUpMsg){this.hidePreloader()}else{return this._super(e)}return s.resolve()},loadInitData:function c(e){var t=this;async.parallel({loadTimeperiodOptions:function n(e){t.apiCall("read",i.api.buildURL("Forecasts/enum/selectedTimePeriod"),null,r.utils.wrapAsyncCallback(e))},loadCurrentTimeperiod:function a(e){t.apiCall("GET",i.api.buildURL("TimePeriods/current"),null,r.utils.wrapAsyncCallback(e))}},function s(n,r){if(n){e.apply(this,arguments);return}t.viewState.filtersDef.timeperiod=i.utils.deepCopy(i.metadata.getModule("Forecasts").views["forecast-pipeline"].meta.timeperiod[0]);t.viewState.filtersDef.timeperiod.options=r.loadTimeperiodOptions;t.saveState();t.setFilters({selectedTimePeriod:r.loadCurrentTimeperiod.id});t._isChartInitialized=true;t.render();e(null,r)})},loadChartData:function d(e){var t=[this.forecastBy,"chart","pipeline"];var n;t.push(this.viewState.filters.get("selectedTimePeriod"));t.push(this.viewState.visibility);n=i.api.buildURL(t.join("/"));this.apiCall("GET",n,null,r.utils.wrapAsyncCallback(e))},processData:function f(e){if(e&&e.data&&this.salesStageLabels){_.each(e.data,function(e){if(e&&e.key&&this.salesStageLabels[e.key]){e.key=this.salesStageLabels[e.key]}},this)}this.chartData=e;this._super(e)},prepareChartObject:function h(){var e=this;var t=this.getUserCurrencyFormatter();this.chart=nv.models.funnelChart().showTitle(false).tooltips(true).wrapLabels(false).tooltipContent(function(e,n,i,r,a){return"<p>"+SUGAR.App.lang.get("LBL_SALES_STAGE","Forecasts")+": <b>"+e+"</b></p>"+"<p>"+SUGAR.App.lang.get("LBL_AMOUNT","Forecasts")+": <b>"+t(i)+"</b></p>"+"<p>"+SUGAR.App.lang.get("LBL_PERCENT","Forecasts")+": <b>"+n+"%</b></p>"}).colorData("class",{step:2}).fmtValue(function(e){var n=e.value||(isNaN(e)?0:e);return t(n)}).strings({legend:{close:i.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:i.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:i.lang.getAppString("LBL_CHART_NO_DATA")})},renderChart:function p(){if(!this._super())return;this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".nv-funnelChart").append("svg").datum(this.chartData).transition().duration(500).call(this.chart)}});i.nomad.registerComponent({baseType:"forecast-pipeline",cmp:o});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(30);var s=n(15);var o=r.declareComponent(a,{className:"chart-wrapper has-scroll",template:"forecastdetails",forecastConfig:null,isForecastSetup:false,isForecastsConfigValid:false,forecastsNotSetUpMsg:false,isAdmin:false,isTopLevelManager:false,showTargetQuota:false,spanCSS:"",detailsDataSet:null,responseDataAttr:null,initialize:function l(e){this._super(e);this.forecastConfig=i.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=r.utils.isForecastConfigValid();this.isAdmin=_.isUndefined(i.user.getAcls().Forecasts.admin);if(this.isForecastSetup){this.serverData=i.data.createBean("Forecasts");this.model=i.data.createBean("Forecasts");var t=this.forecastBy==="RevenueLineItems"?"likely_case":"amount";this.fieldDataAccess={likely:i.acl.hasAccess("read",this.forecastBy,{field:t}),best:i.acl.hasAccess("read",this.forecastBy,{field:"best_case"}),worst:i.acl.hasAccess("read",this.forecastBy,{field:"worst_case"})};this.spanCSS=_.compact([this.forecastConfig.show_worksheet_likely,this.forecastConfig.show_worksheet_best,this.forecastConfig.show_worksheet_worst]).length;this.spanCSS=_.compact([this.forecastConfig.show_worksheet_likely,this.forecastConfig.show_worksheet_best,this.forecastConfig.show_worksheet_worst]).length;this.model.set({opportunities:0,spanCSS:this.spanCSS,isForecastSetup:this.isForecastSetup,isForecastAdmin:this.isForecastAdmin});this.isTopLevelManager=i.user.get("is_top_level_manager");this.showTargetQuota=this.isManager&&!this.isTopLevelManager;this.detailsDataSet=this.getDetailsDataSet()}else{this.forecastsNotSetUpMsg=r.utils.getForecastNotSetUpMessage(this.isAdmin)}},onAfterRender:function u(){this._super();this.$chartEl=this.$(".fd__wrapper")},loadData:function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.isForecastSetup){return this._super(e)}else{this.hidePreloader()}if(!this.loaded&&!e.byPtr){this.$chartEl.hideElement()}return s.resolve()},loadInitData:function d(e){var t=this;var n=this.options.parentModel;var a;if(n&&!n.inSync){n.once("sync",function(){t.loadInitData(e)}).fetch();return}a=n&&n.get("date_closed")||"current";async.parallel({loadTimeperiodOptions:function s(e){t.apiCall("read",i.api.buildURL("Forecasts/enum/selectedTimePeriod"),null,r.utils.wrapAsyncCallback(e))},loadCurrentTimeperiod:function o(e){t.apiCall("GET",i.api.buildURL("TimePeriods/"+a),null,r.utils.wrapAsyncCallback(e))}},function l(n,r){if(n){e.apply(this,arguments);return}t.viewState.filtersDef.timeperiod=i.metadata.getView(null,"forecastdetails").timeperiod[0];t.viewState.filtersDef.timeperiod.options=r.loadTimeperiodOptions;t.setFilters({timePeriods:r.loadCurrentTimeperiod.id,selectedTimePeriod:r.loadCurrentTimeperiod.id});t._isChartInitialized=true;e(null,r)})},loadChartData:function f(e){var t=this.buildChartUrl();this.apiCall("read",t,null,r.utils.wrapAsyncCallback(e))},processData:function h(e){e=this.adjustDashletData(e);this.calculateData(e);this.render();this.applyCSSChanges();this.hidePreloader();this.$chartEl.showElement()},getDetailsDataSet:function p(){var e=i.metadata.getStrings("app_list_strings").forecasts_options_dataset||[];var t={};_.each(e,function(e,n){if(this.forecastConfig["show_worksheet_"+n]===1){t[n]=e}},this);return t},buildChartUrl:function m(){var e=this.isManager?"progressManager":"progressRep";var t=["Forecasts",this.viewState.filters.get("selectedTimePeriod"),e,i.user.get("id")];var n={};if(this.isManager){n={target_quota:this.showTargetQuota?1:0}}return i.api.buildURL(t.join("/"),"create",null,n)},adjustDashletData:function g(e){if(this.isManager){e.likely=e.likely_adjusted||e.likely_case;e.best=e.best_adjusted||e.best_case;e.worst=e.worst_adjusted||e.worst_case}else{e.likely=e.amount;e.best=e.best_case;e.worst=e.worst_case;e.closed_amount=e.won_amount;if(_.isUndefined(e.closed_amount)){delete e.closed_amount}}return e},calculateData:function v(e){this.serverData.set(e);var t=_.extend({},e,this.serverData.toJSON());var n=this.forecastConfig;var r=i.user.getPreference("currency_id");this.likelyTotal=t.likely;this.bestTotal=t.best;this.worstTotal=t.worst;t.quota_amount_str=i.currency.formatAmountLocale(t.quota_amount,r);t.closed_amount_str=i.currency.formatAmountLocale(t.closed_amount,r);if(this.showTargetQuota){t.target_quota_amount_str=i.currency.formatAmountLocale(t.target_quota_amount,r)}else{this.serverData.unset("target_quota_amount_str")}t.showTargetQuota=this.showTargetQuota;t.deficit_amount=Math.abs(i.math.sub(t.quota_amount,t.closed_amount));t.deficit_amount_str=i.currency.formatAmountLocale(t.deficit_amount,r);t.is_deficit=parseFloat(t.quota_amount)>parseFloat(t.closed_amount);var a=t.is_deficit?"LBL_FORECAST_DETAILS_DEFICIT":"LBL_FORECAST_DETAILS_SURPLUS";t.deficit_label=i.lang.get(a,"Forecasts");t.detailsOpts=[];if(n.show_worksheet_worst){t.detailsOpts.push(this.getDetailsForCase("worst",this.worstTotal,t.quota_amount,t.closed_amount))}if(n.show_worksheet_likely){t.detailsOpts.push(this.getDetailsForCase("likely",this.likelyTotal,t.quota_amount,t.closed_amount))}if(n.show_worksheet_best){t.detailsOpts.push(this.getDetailsForCase("best",this.bestTotal,t.quota_amount,t.closed_amount))}if(this.isManager&&!_.isEmpty(i.user.get("reports_to_id"))){t.quota_label=i.lang.get("LBL_QUOTA_ADJUSTED","Forecasts")}else{t.quota_label=i.lang.get("LBL_QUOTA","Forecasts")}this.model.set(t,{silent:true})},getDetailsForCase:function b(e,t,n,r){var a={};var s=parseFloat(i.math.add(t,r));var o=parseFloat(n);var l=0;var u=i.user.getPreference("currency_id");a.label=i.lang.get("LBL_"+e.toUpperCase(),"Forecasts");a.spanCSS=this.spanCSS;a.case=e;a.shortOrExceed="&nbsp;";a.openPipeline="&nbsp;";a.feedbackLn1="";a.feedbackLn2="";a.hasAccess=true;if(!this.isManager&&!this.fieldDataAccess[e]){a.hasAccess=false}if(a.hasAccess){if(t){a.amount=i.currency.formatAmountLocale(t,u);a.labelAmount=a.label+": "+a.amount.toString()}if(s===0&&o===0){a.amount=i.lang.get("LBL_FORECAST_DETAILS_NO_DATA","Forecasts")}else if(s!==0&&o!==0&&s===o){a.shortOrExceed=i.lang.get("LBL_FORECAST_DETAILS_MEETING_QUOTA","Forecasts")}else{if(s>o){a.shortOrExceed=i.lang.get("LBL_FORECAST_DETAILS_EXCEED","Forecasts");l=i.math.sub(s,o)}else{a.shortOrExceed=i.lang.get("LBL_FORECAST_DETAILS_SHORT","Forecasts");l=i.math.sub(o,s)}a.percent=this.getPercent(l,o);a.openPipeline="("+i.currency.formatAmountLocale(l,u)+")"}a.feedbackLn1=a.shortOrExceed;if(a.percent){a.feedbackLn1+=" "+a.percent}a.feedbackLn2=a.openPipeline}return a},applyCSSChanges:function y(){this.checkPropertySetCSS("worst");this.checkPropertySetCSS("likely");this.checkPropertySetCSS("best");var e=this.model.get("is_deficit");var t="";if(e){t=this.getClassBasedOnAmount(0,1,"color")}else{t=this.getClassBasedOnAmount(1,0,"color")}if(t!==""){this.$el.find(".deficitRow").addClass(t)}},checkPropertySetCSS:function x(e){if(this.forecastConfig["show_worksheet_"+e]&&(this.isManager||!this.isManager&&this.fieldDataAccess[e])){var t=this.getClassBasedOnAmount(i.math.add(this.serverData.get(e),this.serverData.get("closed_amount")),this.model.get("quota_amount"),"background-color");if(t!==""){this.$el.find(".forecast_details_"+e+"_feedback").addClass(t)}}},getClassBasedOnAmount:function S(e,t,n){var i="";e=parseFloat(e);t=parseFloat(t);if(n==="color"){if(e===t){}else if(e>t){i="font-green"}else{i="font-red"}}else if(n==="background-color"){if(e===t&&e!==0){i="grayLight"}else if(e>t){i="green"}else if(e<t){i="red"}}return i},getPercent:function w(e,t){var n=0;if(t>0&&e>0){n=e/t*100;if(n>1){n=Math.round(n)}else{n=Math.round(n*100)/100}}return Math.abs(n)+"%"}});i.nomad.registerComponent({baseType:"forecastdetails",cmp:o});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(67);var s=r.declareComponent(a,{template:"donutchart",className:"opportunity-metrics-wrapper",initialize:function o(e){this._super(e);this.parentModel=e.parentModel||{}},loadChartData:function l(e){var t=i.api.buildURL(this.parentModel.module,"opportunity_stats",{id:this.parentModel.get("id")});this.apiCall("read",t,null,r.utils.wrapAsyncCallback(e))},evaluateResult:function u(e){var t=0;_.each(e,function(n,r){e[r].formattedAmount=i.currency.formatAmountLocale(n.amount_usdollar,null,0);e[r].cssClass=r==="won"?"won":r==="lost"?"lost":"active";e[r].dealLabel=r;e[r].stageLabel=i.lang.getAppListStrings("opportunity_metrics_dom")[r];t+=n.count});this.total=t;this.metricsCollection=e;this.chartData={data:_.map(this.metricsCollection,function(e,t){return{key:e.stageLabel,value:e.count,classes:t}})}},isDataEmpty:function c(e,t){var n=_.isEmpty(e);var i=0;e=e||{};_.each(e,function(e,t){i+=e.count});return i===0}});i.nomad.registerComponent({baseType:"opportunity-metrics",cmp:s});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(28);var s=r.declareComponent(a,{responseDataAttr:"chartData",template:"saved-reports-chart",initialize:function o(e){this._super("initialize",arguments);this.chartId=Math.floor(Math.random()*1e4)},loadChartData:function l(e){var t=this.meta.view.saved_report_id;this.apiCall("create",i.api.buildURL("Reports/chart/"+t),null,r.utils.wrapAsyncCallback(e))},isDataEmpty:function u(e){if(this._super(e)){return true}var t=e.chartData.properties[0].type;var n=this.getChartConfig(t);var i=this._getDataAttribute(n);return _.isEmpty(e.chartData[i])},processData:function c(e){if(e&&e.chartData){this.rawChartData=e.chartData}this._super(e)},prepareChartObject:function d(){var e=this.rawChartData;var t={minColumnWidth:120,show_title:true,show_legend:true,show_controls:false,show_tooltips:true,show_y_label:false,y_axis_label:"",show_x_label:false,x_axis_label:"",wrapTicks:true,staggerTicks:true,rotateTicks:true,reduceXTicks:false,overflowHandler:false,allowScroll:false,vertical:true,showValues:false,hideEmptyGroups:true,stacked:true,colorData:"default",margin:{top:10,right:10,bottom:10,left:10}};var n=e.properties[0].type;if(i.supportedFeatures.configurableSavedReportsChart){_.extend(t,this.meta.view);n=this.meta.view.chart_type}var r=this.getChartConfig(n);t.report_module=this.getReportModule(e);this.chartData=this.translateDataToD3(e,t,r);this.chart=this.getChartModel(t,r);this.chart.id(this.chartId).margin(t.margin).showTitle(t.show_title).showLegend(t.show_legend).tooltips(t.show_tooltips).tooltipContent(function(e,t,n,i,r){return"<h3>"+e+"</h3>"+"<p>"+n+"</p>"}).colorData(t.colorData).strings({legend:{close:i.lang.get("LBL_CHART_LEGEND_CLOSE"),open:i.lang.get("LBL_CHART_LEGEND_OPEN")},noData:i.lang.get("LBL_CHART_NO_DATA")});if(r.ReportModule){this.chart.legend.showAll(true)}},renderChart:function f(){if(!this._super())return;this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".nv-chart-reports").append("svg").datum(this.chartData).transition().duration(500).call(this.chart);this.$el.on("touchcancel",function(e){var t=d3.select(window);_.each(_.keys(window),function(e){var n=e.match(/^__on((?:touch|drag|select).+)$/);n&&t.on(n[1],null)})})},getChartModel:function h(e,t){var n;switch(t.chartType){case"pieChart":n=nv.models.pieChart();break;case"funnelChart":n=nv.models.funnelChart();break;case"lineChart":n=nv.models.lineChart();n.useVoronoi(true).clipEdge(false).wrapTicks(e.wrapTicks).staggerTicks(e.staggerTicks).rotateTicks(e.rotateTicks);if(e.show_x_label){n.xAxis.axisLabel(e.x_axis_label)}if(e.show_y_label){n.yAxis.axisLabel(e.y_axis_label)}var i=[];var r=function o(e){return e};var a=function l(e){return e[0]};var s=function u(e){return e[1]};if(this.chartData.data.length){if(this.chartData.properties.labels){i=this.chartData.properties.labels.map(function(e){return e.l||e})}if(this.chartData.data[0].values.length&&this.chartData.data[0].values[0]instanceof Array){if(nv.utils.isValidDate(this.chartData.data[0].values[0][0])){r=function c(e){return d3.time.format("%x")(new Date(e))}}else if(i.length>0){r=function d(e){return i[e]||" "}}}else{a=function f(e){return e.x};s=function h(e){return e.y};if(i.length>0){r=function p(e){return i[e-1]||" "}}}}n.x(a).y(s);n.xAxis.tickFormat(r).highlightZero(false).reduceXTicks(false);break;case"barChart":n=nv.models.multiBarChart().vertical(t.orientation==="vertical"?true:false).stacked(t.barType==="stacked"?true:true).showControls(e.show_controls).showValues(e.showValues).wrapTicks(e.wrapTicks).staggerTicks(e.staggerTicks).rotateTicks(e.rotateTicks).reduceXTicks(e.reduceXTicks);n.yAxis.tickSize(0);if(e.show_x_label){n.xAxis.axisLabel(e.x_axis_label)}if(e.show_y_label){n.yAxis.axisLabel(e.y_axis_label)}break;default:n=nv.models.multiBarChart();break}return n},getChartConfig:function p(e){var t;switch(e){case"pie chart":t={pieType:"basic",tip:"name",chartType:"pieChart"};break;case"line chart":t={lineType:"basic",tip:"name",chartType:"lineChart"};break;case"funnel chart":case"funnel chart 3D":t={lineType:"basic",tip:"name",chartType:"funnelChart"};break;case"stacked group by chart":t={orientation:"vertical",barType:"stacked",tip:"title",chartType:"barChart"
};break;case"group by chart":t={orientation:"vertical",barType:"grouped",tip:"name",chartType:"barChart"};break;case"bar chart":t={orientation:"vertical",barType:"basic",tip:"label",chartType:"barChart"};break;case"horizontal group by chart":t={orientation:"horizontal",barType:"stacked",tip:"name",chartType:"barChart"};break;case"horizontal bar chart":case"horizontal":t={orientation:"horizontal",barType:"basic",tip:"label",chartType:"barChart"};break;default:t={orientation:"vertical",barType:"stacked",tip:"name",chartType:"barChart"};break}this.chartType=t.chartType;return t},getReportModule:function m(e){var t=_.isEmpty(e.properties)?{}:_.first(e.properties);var n="";if(!_.isEmpty(t)&&!_.isUndefined(t.base_module)){n=t.base_module}return n},translateDataToD3:function g(e,t,n){var r=this;var a=i.utils.versionCompare(i.metadata.getServerInfo().version,"7.10",">=");var s=[];var o=0;var l=_.filter(e.values,function(e){return e.values.length});var u=d3.max(l,function(e){return e.values.length})===1;var c=n.barType==="stacked"||n.barType==="grouped";var d=this._getDataAttribute(c,u);var f=e[d];var h=_.first(e.properties)||{};var p=void 0;var m=void 0;if(!_.isEmpty(l)){switch(n.chartType){case"barChart":p=this._getBarChartDataMapper({values:l,discreteValues:u,groupedBarType:c,params:t,isServerHigherOrEqual10:a});m=this._getBarChartDataFilter({discreteValues:u,groupedBarType:c,isServerHigherOrEqual10:a});break;case"pieChart":p=function g(e,t){return{key:r._pickLabel(e.label),value:r._sumValues(e.values)}};break;case"funnelChart":f=e[d].reverse();p=function v(e,t){return{key:r._pickLabel(e.label),count:e.values.length,values:[{label:e.valuelabels[0]?e.valuelabels[0]:e.values[0],x:0,y:r._sumValues(e.values)}]}};break;case"lineChart":p=function b(e,t){return{key:r._pickLabel(e.label),values:u?e.values.map(function(e,n){return[t,parseFloat(e)]}):e.values.map(function(e,t){return[t,parseFloat(e)]})}};break}}if(p){if(m){s=f.filter(m).map(p)}else{s=_.isFunction(p)?f.map(p):p}}return{properties:{title:h.title||this.meta.view.report_title,yDataType:h.yDataType,groups:n.chartType==="gaugeChart"?[{group:1,total:o}]:n.chartType==="lineChart"&&e.label?e.label.map(function(e,t){return{label:r._pickLabel(e)}}):l.map(function(e,t){return{label:r._pickLabel(e.label)}})},data:s}},_sumValues:function v(e){return e.reduce(function(e,t){return parseFloat(e)+parseFloat(t)},0)},_pickLabel:function b(e){var t=i.lang.get("LBL_CHART_UNDEFINED");var n=[].concat(e)[0];return n?n:t},_getBarChartDataMapper:function y(e){var t=this;var n=e.values,i=e.discreteValues,r=e.groupedBarType,a=e.params,s=e.isServerHigherOrEqual10;var o=void 0;if(r&&!i){o=function l(e,i){return{key:t._pickLabel(e),type:"bar",values:n.map(function(e,t){return{x:t+1,y:parseFloat(e.values[i])||0}})}}}else if(r&&i||!r&&!i){o=s?function(e,i){return{key:e.values.length>1?e.label:t._pickLabel(e.label),type:"bar",values:n.map(function(e,n){return{x:n+1,y:i===n?t._sumValues(e.values):0}})}}:function(e,i){return{key:a.report_module||"Module",type:"bar",values:n.map(function(e,n){return{x:n+1,y:t._sumValues(e.values)}})}}}else{o=s?[{key:a.report_module||"Module",type:"bar",values:n.map(function(e,n){return{x:n+1,y:t._sumValues(e.values)}})}]:function(e,i){return{key:e.values.length>1?e.label:t._pickLabel(e.label),type:"bar",values:n.map(function(e,n){return{x:n+1,y:i===n?t._sumValues(e.values):0}})}}}return o},_getBarChartDataFilter:function x(e){var t=e.groupedBarType,n=e.discreteValues,i=e.isServerHigherOrEqual10;if(t&&n&&!i){return function(e,t){return t===0}}},_getDataAttribute:function S(e,t){return e&&!t?"label":"values"}});i.nomad.registerComponent({baseType:"saved-reports-chart",cmp:s});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(35);var s=n(333);var o=r.declareComponent(a,{className:"twitter-wrapper",getListViewDef:function l(e,t){var n=_.extend({parentModel:t.parentModel},e,t.listParams);return{name:s,listParams:n,skipFetch:true,contextMenuOnSwipeDisabled:true,listItemTpl:"twitter-list-item"}}});i.nomad.registerComponent({baseType:"twitter-container-dashlet",cmp:o});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(29);var o=r.declareComponent(s,{className:"dashlet-webpage",template:"webpage",events:{"click .wp__container":function l(e){e.preventDefault();a.openWebPage(this.url)}},initialize:function u(e){this.url=r.utils._normalizeUrl(e.meta.view.url);this.title=e.meta.view.title;this._super(e)},onInvokedFromDashboard:function c(){a.openWebPage(this.url)}});i.nomad.registerComponent({baseType:"webpage",cmp:o});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(6);var a=n(1);var s=n(5);var o=n(4);var l=n(313);var u=e.exports=a.declareComponent(o,{cacheDisabled:true,events:{"click .field":"onClick","click .field-detail__value a":"openAddress"},initialize:function c(e){this._super(e);this._subfieldStub={};this.model.on("error:validation",this._handleValidationError,this);this.model.on("acl:change:"+this.def.fields[0].name,this.handleAclChange,this);this.fieldNames=_.pluck(this.def.fields,"name");this.required=this.isRequired()},onClick:function d(){var e=this;if(this.isDisabled()){return}var t=new i.NomadBean;t.module=this.model.module;t.fields={};t.attributes=i.utils.deepCopy(this.model.attributes);_.each(this.def.fields,function(n){t.fields[n.name]=i.utils.deepCopy(e.model.fields[n.name]);t.attributes[n.name]=e.model.attributes[n.name]});var n=new r({editedFieldName:this.label,addressFields:this._prepareAddressFieldDefs(),parentModel:this.model,model:t,module:t.module,collection:new i.BeanCollection,skipFetch:true});n.prepare();this.addressEditView=i.controller.loadScreen({isDynamic:true,gaTrack:"address",view:a.getViewClass({baseType:"address-edit"}),headerConfig:{title:this.label,save:true,saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true},context:n,initOptions:{className:"edit-address"}})[0];this._disableSubfields()},_disableSubfields:function f(){var e=this;_.each(this._subfieldStub,function(t,n){if(t.isDisabled()){_.each(e.addressEditView.fields,function(e){if(e.name===n){e.setDisabled(true)}})}})},bindDataChange:function h(){if(this.model){_.each(this.def.fields,function(e){this.model.on("change:"+e.name,this.render,this)},this)}},onBeforeRender:function p(){this._super();var e=[];var t=[];var n=/street/;_.each(this.def.fields,function(r){var a=this.model.get(r.name);if(a){var s=r.name;if(n.exec(s)){if(!i.serverInfo.isSevenUp){a=a.replace(/(\n(\r)?)/g," ").replace(/\s{2,}/g," ");this.model.set(s,a)}e.push(a)}else{t.push(a)}}},this);this.addressValue=(e.length>0?e.join()+"\n":"")+t.join(" ")},_checkAccessToAction:function m(e){return i.acl.hasAccessToModel(e,this.model,this.def.fields[0].name)},_handleValidationError:function g(e){var t;var n={};var r=[];var a=this.$(".field");var s=this.model.module;_.each(e,function(e,t){if(_.contains(this.fieldNames,t)){n[t]=e}},this);a.children(".field__error-message").remove();if(_.isEmpty(n))return;a.addClass("error");_.each(n,function(e,t){var n=_.find(this.def.fields,function(e){return e.name===t});var a=n?i.lang.get(n.label,s):t;_.each(e,function(e,t){r.push(a+" : "+i.error.getErrorString(t,e))})},this);t=i.template.get("edit-field-error");a.append(t(r))},openAddress:function v(){var e={};e[this.name]=this.def.fields;var t=this.model.getAddresses(e);s.openAddress({addresses:t})},getSubfield:function b(e){var t=this;var n=_.findWhere(this.def.fields,{name:e});var r=void 0;if(!n){return null}if(this.addressEditView){r=_.findWhere(this.addressEditView.fields,{name:e})}else if(!this._subfieldStub[e]){this._subfieldStub[e]=i.view.createField({def:n,view:this.view,model:this.model});var a=this._subfieldStub[e].setRequired;this._subfieldStub[e].setRequired=function(e){var n=t.required;a.call(t,e);t.required=t.isRequired();if(n!==t.required){t.render()}}}return r||this._subfieldStub[e]},isRequired:function y(){var e=this._subfieldStub||{};return _.any(this.def.fields,function(t){return e[t.name]?e[t.name].isRequired():t.required||i.metadata.getModule(this.module).fields[t.name].required},this)},_prepareAddressFieldDefs:function x(){return _.map(this.def.fields,function(e){var t=this._subfieldStub[e.name];var n=e;if(t){n=_.extend({},e,{view:"edit",required:t.isRequired()})}return n},this)},_dispose:function S(){this._super();this._subfieldStub=null}});i.nomad.registerComponent({cmp:u,baseType:"address"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{events:{"touchstart .checkbox_custom":"onTouchCheckbox"},format:function o(e){return e=="1"},onBeforeRender:function l(){this._super();if(this.model&&this.view.isEditView()&&!this.model.has(this.name)){this.model.set(this.name,false,{silent:true})}},unformat:function u(){return!!this.$(this.fieldTag)[0].checked},onTouchCheckbox:function c(e){e.stopPropagation()}});i.nomad.registerComponent({cmp:s,baseType:"bool"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(36);var s=n(3);var o=e.exports=r.declareComponent(a,{events:{"change select":"onCurrencySelection"},isFloat:true,initialize:function l(e){this._super(e);if(_.isEmpty(this.model.get("currency_id"))&&this.context.isCreate()&&i.metadata.getCurrency(i.user.getPreference("currency_id")).status==="Active"){this.model.set("currency_id",i.user.getPreference("currency_id"),{silent:true})}},onBeforeRender:function u(){this._super();if(_.isEmpty(this.model.get("currency_id"))){this.model.set("currency_id",i.user.getPreference("currency_id")||"-99",{silent:true})}this.availableCurrencies=this._getCurrencies()},_getCurrencies:function c(){var e=this.model;var t=e.get("currency_id");var n=i.user.getPreference("currency_id");var r={};var a=i.metadata.getCurrencies();var s;_.each(a,function(e,n){var i=_.clone(e);i.id=n;if(i.status==="Active"){r[n]=i;s=i}else if(i.id===t){i.disabled=true;r[n]=i}});var o="-99";if(t&&_.has(r,t)){o=t}else if(_.has(r,n)){o=n}var l=r[o]||s;if(l){l.selected="selected"}return r},onAfterRender:function d(){var e=this;this._super();if(i.supportedFeatures.enumViaActionSheet){var t=[];_.each(this.availableCurrencies,function(e){t.push(e.iso4217)});this.$ct=this.$el.find(".actionsheet-select");this.$ct.bind("click",function(){s.showActionSheet(t,{title:e.label,onSelectCb:function n(i){var r=null;var a=t[i];_.each(e.availableCurrencies,function(e,t){if(e.iso4217===a){r=t}});e.$ct.attr("value",r);e.$ct.text(a);e.onCurrencySelection()}})})}else{this.$ct=$("select",this.$el)}if(!this.model.get("currency_id")&&this.context.isCreate()){this.model.changeCurrencyId(this.$ct.val()||this.$ct.attr("value"),{silent:true})}},format:function f(e){if(!e&&e!==0||_.isString(e)&&e.trim().length===0)return"";var t=e;if(!isNaN(parseFloat(i.currency.unformatAmountLocale(e)))){var n=this.model.get("currency_id");var r=i.user.getPreference("currency_id");if(this.action==="list"&&n!==r){t=i.currency.formatAmountLocale(e,n)}else if((this.action==="edit"||this.action==="create")&&this.tplName!=="disabled"){var a=i.user.getPreference("decimal_separator");var s=i.user.getPreference("decimal_precision");var o=i.currency.formatAmount(e,n,s,"",a);var l=i.currency.getCurrencySymbol(n);t=o.replace(l,"")}else{t=i.currency.formatAmountLocale(e,n)}}return t},onCurrencySelection:function h(){this.model.changeCurrencyId(this.$ct.val()||this.$ct.attr("value"));var e=this.format(this.model.get(this.name));this.$("input").val(e)},onFieldChange:function p(){this.model.set(this.name,this.unformat(this._$fieldEl.val()),{disableRenderForContext:this.view})}});i.nomad.registerComponent({cmp:o,baseType:"currency"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(69);var o=r.declareComponent(s,{initialize:function l(e){this._super(e);if(!o._tsFormat){o.initFormat()}},onBeforeRender:function u(){this._super();this.setDefaultValue();this.calculateAndBackupInputValues();this.setClearButtonVisibility()},bindDomChange:function c(){this.setInputs();if(o.nativeSupport){this.inputs.on($.browser.chromeWeb?"change":"blur",_.bind(this.handleValueChange,this))}},format:function d(e){var t=_.isEmpty(e);if(t||this.view.name==="edit"&&o.nativeSupport&&!this.isDisabled()){return e}return i.date.format(new Date(e),o._tsFormat)},unformat:function f(e){return e},setInputs:function h(){this.dateInput=this.$("input[data-type=date]");this.timeInput=this.$("input[data-type=time]");this.inputs=this.dateInput.add(this.timeInput)},calculateAndBackupInputValues:function p(){var e="";var t="";var n=this.getValue();var r;if(n){r=new Date(n);e=i.date.format(r,"Y-m-d");t=i.date.format(r,"H:i"+":00")}this.values={date:e,time:t};this.formattedValues=null;if(n&&this.shouldFormatValues){r=new Date(n);this.formattedValues={date:i.date.format(r,o._dateFormat),time:i.date.format(r,o._timeFormat)}}this._prevValues=this.values},handleValueChange:function m(e){this.setChanged();this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.calculateAndBackupInputValues();this.toggleControls()},setDefaultInputValues:function g(){var e=this.getDateInputValue();var t=this.getTimeInputValue();var n=this._prevValues.date&&!e;var r=this._prevValues.time&&!t;if(e&&!t&&!r){var a=i.date.format(new Date,"H:i");this.setTimeInputValue(a)}else if(t&&!e&&!n){var s=i.date.format(new Date,"Y-m-d");this.setDateInputValue(s)}else if(n){this.setTimeInputValue("")}else if(r){this.setDateInputValue("")}},onClick:function v(e){if(this.isOnClickLocked())return false;var t=e.target.getAttribute("data-type");this.setOnClickBlocker();this.showDateTimePicker(t,e)},onBlur:function b(){this.toggleControls()},getTimeInputValue:function y(){var e=this.timeInput.val();if(e&&this.shouldFormatValues){var t=i.date.parse(e,o._timeFormat);e=i.date.format(t,"H:i")+":00"}return e},setTimeInputValue:function x(e){if(e&&this.shouldFormatValues){var t=i.date.parse(e,"H:i");e=i.date.format(t,o._timeFormat)}this.timeInput.val(e)},setModelValue:function S(e,t){var n="";var i=new Date(this.getValue());var r;var a;if(o.nativeSupport){a={disableRenderForContext:this.view}}if(e&&t){r=this._getDate(e+" "+t+":00",true);n=r.toISOString()}if(!(r&&r.getTime()===i.getTime())){this.model.set(this.name,n,a)}},showDateTimePicker:function w(e,t){var n=e==="date";var s=this.getDateInputValue()||i.date.format(new Date,"Y-m-d");var l=this.getTimeInputValue()||(this.def.default_current_time?i.date.format(new Date,"H:i"):"00:00");if(o.ios7){var u=this._getDate(s+" "+l+":00",true);if(!r.utils.isValidDate(u)){u=new Date}var c={date:u,mode:n?"date":"time"};this._setPopoverCoordinates(c,t);this.setDateInputValue(s);this.setTimeInputValue(l);this.setModelValue(s,l);this.toggleControls();window.datePicker.show(c,_.bind(function(e){this.clearOnClickBlocker();if(!e)return;if(n){var t=i.date.format(e,"Y-m-d H:i")+":00";this.setDateInputValue(t)}else{this.setTimeInputValue(e)}this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.toggleControls()},this));return}a.showDateTimePicker(n?s:l,{mode:n?"showDatePicker":"showTimePicker",callback:_.bind(function(e){this.clearOnClickBlocker();if(n){this.setDateInputValue(e)}else{this.setTimeInputValue(e)}this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.toggleControls()},this)})},_adjustDefaultValue:function L(e){return e.toISOString()},_getDate:function E(e,t){var n=e.split(/[^0-9]/);var i=new Date(n[0],n[1]-1,n[2],n[3],n[4],n[5]);var r=t?0:i.getTimezoneOffset()*6e4;return new Date(i.getTime()-r)},_dispose:function k(){this._super();this.inputs&&this.inputs.off()}},{initFormat:function A(){o._dateFormat=i.user.getPreference("datepref")||"Y-m-d";o._timeFormat=i.user.getPreference("timepref")||"H:i";o._tsFormat=o._dateFormat+" "+o._timeFormat}});i.events.on("app:sync:complete",function(){o.initFormat()}).on("app:init",function(){o.setNativeSupport()});i.nomad.registerComponent({cmp:o,baseType:"datetimecombo"});e.exports=o},function(e,t,n){"use strict";var i=n(5);var r=n(3);var a=SUGAR.App;var s=n(1);var o=n(4);var l=e.exports=s.declareComponent(o,{_errorIcon:'<span class="icondefault error-icon {0}></span>',events:{"click .actions-btn":"showActions","click .field-detail__value a":"sendEmail","click .field--email__add":"onNewEmailBtnClick",'keyup [email-id="-1"] input':"onNewEmailFieldKeyUp"},_getValue:function u(){return this.model.get(this.name)},_getPrimaryEmail:function c(){return _.findWhere(this._getValue(),{primary_address:true})},_render:function d(){var e=this._getValue();if(e&&e.length){_.each(e,function(e){_.each(["primary_address","opt_out","invalid_email"],function(t){e[t]=!!Number(e[t])})});e=_.sortBy(e,function(e){return-Number(e.primary_address)});this.model.set(this.name,e,{silent:true})}this._super()},onAfterRender:function f(){var e=this._getPrimaryEmail();if(!this.model.get("email1")&&e){this._setEmail1Value(e.email_address)}this._super()},_modelHasEmail1:function h(){return!!this.model.fields.email1},_setEmail1Value:function p(e){if(this._modelHasEmail1()){this.model.set("email1",e,{silent:true})}},_getEmailObject:function m(e){var t=e.closest("[email-id]").attr("email-id");return t!=-1&&this._getValue()[t]||null},setPrimaryEmail:function g(e){var t=this._getValue();var n=this._getPrimaryEmail();if(n){n.primary_address=false}this.$el.find(".primary-address").removeClass("primary-address");n=t[e];n.primary_address=true;this._setEmail1Value(n.email_address);this.$el.find('[email-id="'+e+'"]').addClass("primary-address")},_toggleAttr:function v(e,t){var n=this._getValue()[e];var i=t.replace("_","-");var r=n[t]=!n[t];this._getEmailFieldRow(e)[r?"addClass":"removeClass"](i)},toggleOptOut:function b(e){this._toggleAttr(e,"opt_out")},toggleInvalid:function y(e){this._toggleAttr(e,"invalid_email")},_getEmailFieldRow:function x(e){return this.$el.find('.field__controls--flex[email-id="'+e+'"]')},removeEmail:function S(e){var t=this._getValue();var n=t.splice(e,1)[0];if(n.primary_address){var i="";if(t.length){t[0].primary_address=true;i=t[0].email_address}this._setEmail1Value(i)}this.model.trigger("change:email")},_makeEmail:function w(e){var t=!this._getValue().length;if(_.isUndefined(e))e="";if(t)this._setEmail1Value(e);return{email_address:e,primary_address:t,invalid_email:false,opt_out:false}},onFieldChange:function L(e){var t=$(e.currentTarget);var n=this._getEmailObject(t);var i=this.unformat(t.val());var r;if(n){n.email_address=i}else if(i){r=this._getValue();if(!r){r=[];this.model.set(this.name,r,{silent:true})}r.push(this._makeEmail(i))}this.model.trigger("change:email")},onNewEmailFieldKeyUp:function E(e){var t=$(e.currentTarget);var n=this.unformat(t.val());this.$el.find(".add-btn").css({visibility:n?"visible":"hidden"})},onNewEmailBtnClick:function k(e){var t=this.$el.find(".field--email__add + .field__controls--flex");t.showElement();t.find("input").focus()},_displayValidationMessage:function A(e){var t=this;var n;var i=[];var r=this.$(".field");r.children(".field__error-message").remove();r.removeClass("error");this.$("[email-address]").removeClass("error").remove("."+a.config.ui.icons.edit.error);if(e){var s=[];r.addClass("error");_.each(this._getValue(),function(t,n){if(_.contains(e.email,t.email_address))s.push(n)});_.each(s,function(e){t.$('[email-id="'+e+'"]').addClass("error").append(a.utils.formatString(t._errorIcon,[a.config.ui.icons.edit.error]))});_.each(e,function(e,t){i.push(a.error.getErrorString(t,e))});n=a.template.get("edit-field-error");r.append(n(i))}a.analytics.trackEvent({category:"validation",action:this.name})},showActions:function M(e){var t=$(e.currentTarget);t.addClass("active");var n=t.closest("[email-id]").attr("email-id");var i=this._getValue()[n];var s=[this.toggleOptOut,this.toggleInvalid,this.removeEmail];var o=[i.opt_out?"LBL_EMAIL_ACTION_SET_OPT_IN":"LBL_EMAIL_ACTION_SET_OPT_OUT",i.invalid_email?"LBL_EMAIL_ACTION_SET_VALID":"LBL_EMAIL_ACTION_SET_INVALID","LBL_REMOVE"];if(!i.primary_address){o.unshift("LBL_EMAIL_ACTION_SET_PRIMARY");s.unshift(this.setPrimaryEmail)}s=_.map(s,function(e){return _.bind(e,this,n)},this);o=_.map(o,function(e){return a.lang.get(e)});function l(){t.removeClass("active")}r.showActionSheet(o,{onSelectCb:function u(e){s[e]();l()},onCancelCb:l});return false},sendEmail:function T(e){var t=$(e.target);var n=t.data("index");var r=!_.isUndefined(n)&&!t.hasClass("email_type_invalid")&&!t.hasClass("email_type_opt-out");if(r){var a=this._getValue();if(_.isObject(a[n])){i.sendEmail([a[n].email_address])}}}});a.nomad.registerComponent({cmp:l,baseType:"email"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(71);var s=r.declareComponent(a,{fieldTag:"textarea",events:{"click textarea":"onClick"},onClick:function o(e){if(_.isEmpty(this.value)&&this.isDisabled()){return}i.nomad.showEmailBody(this.def,this.model)},format:function l(e){if(_.isEmpty(e)){e=s.getPlainTextValue(this.name,this.model)}return e}},{getPlainTextValue:function u(e,t){var n=e.replace(/_html$/,"");var i=t.get(n)||"";return $.trim(i)}});i.nomad.registerComponent({cmp:s,baseType:"emailbody"});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(4);var o=e.exports=r.declareComponent(s,{cacheDisabled:true,initialize:function l(e){this.isEdit=e.view.isEditView()||e.def.view==="edit";if(i.supportedFeatures.enumViaActionSheet){_.extend(this,{_viaActionSheet:true,fieldTag:".actionsheet-select",events:{"click .actionsheet-select":"onFocus"}})}else{_.extend(this,{_viaActionSheet:false,fieldTag:"select",events:{"focusin select":"onFocus","focusout select":"onBlur"}});if(i.isNative&&$.os.ios&&!i.isTablet&&this.isEdit){this.events.touchend=function(e){e.preventDefault()}}}this._super(e)},_sortResults:function u(e){if(this.def.sort_alpha){return _.sortBy(e,function(e){return e[1]})}if(!_.isEmpty(this.items)||this.def.visibility_grid){return e}return this._getSortedItems(e)},_getSortedItems:function c(e){var t=e.map(function(e){return e[0]});var n=this._getOrderedKeys();var i=this._getFilteredKeys();var r=i||n||t;if(this.module==="Leads"){var a="Converted";var s=this.model.get("status");if(!_.isUndefined(s)&&s!==a){r=_.filter(r,function(e){return e!==a})}}return _.map(r,function(t){return _.find(e,function(e){return e[0]===t})})},_getOrderedKeys:function d(){var e=i.lang.getAppListKeys(this.def.options);if(!_.isEmpty(e)){return _.map(e,function(e){return e.toString()})}},_getFilteredKeys:function f(){var e=i.metadata.getEditableDropdownFilter(this.def.options);var t=this.getValue();if(!_.isEmpty(e)){return _.chain(e).filter(function(e){return e[1]||t===e[0].toString()}).map(function(e){return e[0].toString()}).value()}},_getItemByValue:function h(e){return _.find(this.renderItems,function(t){return t[1]===e})},_getItemByKey:function p(e){return _.find(this.renderItems,function(t){return t[0]===e})},getItems:function m(){var e=this.def.options;if(!_.isEmpty(this.items)){e=this.items}else if(_.isString(this.def.options)){e=i.lang.getAppListStrings(this.def.options)}if(_.isEmpty(e)){return[]}if(!_.isArray(e)){e=_.pairs(e)}else{e=_.map(e,function(e,t){return[t.toString(),e]})}return e},setRenderItems:function g(){var e=this.getItems();this.renderItems=[];if(!_.isEmpty(e)){this.renderItems=this._sortResults(e)}},onBeforeRender:function v(){this._super();var e=this.getValue();this.setRenderItems();if(this.isEdit){if(_.isEmpty(this.renderItems)){return}if(this.model&&_.isUndefined(e)){e=this.getDefaultValue();if(e!==""){this.model.set(this.name,e,{silent:true})}}else if(e===""&&!this.hasEmptyOption()){this.renderItems.unshift(["",""])}if(this._viaActionSheet){var t=this._getItemByKey(e);this.valueText=t?t[1]:e}}},onAfterRender:function b(){this._super();this.$placeholder=this.$el.find(".placeholder").eq(0);this.$placeholder.toggleElement(r.isEmptyValue(this.getValue()));if(this.isEdit){this.$el.toggleElement(!_.isEmpty(this.renderItems))}},onFocus:function y(){this.$placeholder.hideElement();if(this._viaActionSheet){var e=this;var t=this.getValues(this.renderItems);a.showActionSheet(t,{onSelectCb:function n(i){var r=t[i];var a=e._getItemByValue(r)[0];e._$fieldEl.attr("value",a);e._$fieldEl.text(r);e.onFieldChange()}})}},onBlur:function x(){this.$placeholder.toggleElement(r.isEmptyValue(this.getValue()));document.activeElement.blur()},onFieldChange:function S(){var e=this.unformat(this._$fieldEl.val()||this._$fieldEl.attr("value"));this.value=e;this.model.set(this.name,e,{disableRenderForContext:this.view});this.onBlur()},getValue:function w(){var e=this.model.get(this.name);return _.isNumber(e)?e.toString():e},getDefaultValue:function L(){var e=this.def["default"];var t=this._getFilteredKeys()||this.getKeys();if(_.isNumber(e))e=e.toString(10);if(!_.contains(t,e)&&!_.isEmpty(t)){e=t[0]}return _.isNumber(e)?e.toString():e},hasEmptyOption:function E(){var e=this.getKeys();return _.contains(e,"")},getKeys:function k(){var e=[];if(_.isString(this.def.options)){e=i.lang.getAppListKeys(this.def.options)}else if(_.isObject(this.def.options)){e=_.keys(this.def.options)}return e},getValues:function A(e){return _.map(e,function(e){return e[1]})},format:function M(e){return _.isNumber(e)?e.toString():e}});i.nomad.registerComponent({cmp:o,baseType:"enum"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{events:{"click .favorite-icon":"onClick"},onClick:function o(e){e.preventDefault();e.stopPropagation();i.alert.dismissAll();var t=$(e.currentTarget);var n=!t.hasClass("color-disabled");var r=this.model;var a=function s(){r.set("my_favorite",n)};r.favorite(!n,{error:a});return false}});i.nomad.registerComponent({cmp:s,baseType:"favorite"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{fields:null,subfields:"",initialize:function o(e){this._super(e);_.each(this.def.fields,function(e){if(e.type==="label"){var t=e.css_class.match(/label_[^\s]+/);if(t.length>0){var n=t[0].substring(6);this.model.on("change:"+n,function(){var e=this.model.get(n);if(e||e===0||e===""){this.$el.find(".label_"+n).showElement()}else{this.$el.find(".label_"+n).hideElement()}},this)}}},this)},_render:function l(){if(this.template===i.template.empty){this._super()}},getPlaceholder:function u(){var e="";var t=this;if(!this.fields){this.fields=[];_.each(this.def.fields,function(n){var r=i.view.createField({def:n,view:t.view,model:t.model});t.fields.push(r);e+=r.getPlaceholder()})}if(this.def.orientation==="horizontal"){this.subfields=new Handlebars.SafeString(e);return this._super()}else{return new Handlebars.SafeString(e)}}});i.nomad.registerComponent({cmp:s,baseType:"fieldset"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(36);var s=e.exports=r.declareComponent(a,{isFloat:true});i.nomad.registerComponent({cmp:s,baseType:"float"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{events:{"click .follow-label":"onClick"},onClick:function o(e){e.preventDefault();e.stopPropagation();this.model.follow(!this.model.get("following"),{error:_.bind(this.onError,this)})},onError:function l(){this.model.set("following",!this.model.get("following"))}});i.nomad.registerComponent({cmp:s,baseType:"follow"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(70);var s=e.exports=r.declareComponent(a,{supportedTypes:["image/jpeg","image/png","image/gif"],initialize:function o(e){this._super(e);this._canvas=document.createElement("canvas")},onAfterRender:function l(){this._super();if(this.value){this._showAndPositionImage()}},_setForcedRefresh:function u(e){this.cacheDisabled=e},_showAndPositionImage:function c(e){var t=this;var n=new Image;var a=this.$el;var s=a.find("div.avatar");var o=e||i.api.buildFileURL({field:this.name,module:this.module,id:this.model.id},r.getFileOptions())+"&_id="+this.model.get(this.name);var l;n.onload=function(){t._setForcedRefresh(false);var i={image:n,height:s.css("height"),width:s.css("width")};r.utils.sizePicture(i);l=e||t._resizeWithCanvas(n);s.css({backgroundSize:i.sizeProp,backgroundImage:"url("+l+")"})};n.onerror=function(){t._setForcedRefresh(true);var e=t.context.get("name");var n=i.utils.formatString("url(img/offline-{0}.svg)",[e]);s.css({backgroundImage:n})};n.src=o},prepareFile:function d(){this.trigger("file:field:change",this.$fileInput,"preparing");async.series([_.bind(this._readFileData,this),_.bind(this._resizeImage,this),_.bind(this._applyPreview,this)],_.bind(function e(t){if(!t){this.$fileInput.fieldName=this.name;this._changeFieldState(true);this.trigger("file:field:change",this.$fileInput,"prepared")}else{this.trigger("file:field:change",t.message||i.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}},this))},_changeFieldState:function f(e){this.$el.find(".picture-icon").toggleElement(!e);this.$el.find(".placeholder").toggleElement(!e);if(!this.def.required){this.$fileRemoveBtn.toggleElement(e)}if(!e){this.$el.find("div.avatar").css({backgroundImage:"none"})}},_readFileData:function h(e){var t=this.$fileInput[0].files[0];if(t){var n=this;var r=new FileReader;var a=this._binaryToDataUri;r.onload=function(i){n.$fileInput.fileData={name:t.name,size:t.size,type:t.type,binary:i.target.result,dataURI:a(i.target.result,t.type)};try{n._setImageOrientation(i.target.result,t.name)}catch(r){}finally{e()}};r.onerror=function(t){var r=t.target.error;e({message:i.lang.get(n._fileErrorCodesToStrings[r.code]||"ERR_MOBILE_FILE_READ")});i.logger.error("Failed to read file: ["+r.code+"]")};r.readAsBinaryString(t)}else{e({message:"No file selected"})}},_applyPreview:function p(e){this.$el.find(".user-icon").hideElement();this._showAndPositionImage(this.$fileInput.fileData.dataURI);e()},_resizeWithCanvas:function m(e){var t=this._canvas;var n=i.config.files.resizeImagesOnUpload;var r=e.naturalWidth;var a=e.naturalHeight;var s=Math.max(r,a);var o=$.os.ios?this._iosRenderWithCanvas:this._commonRenderWithCanvas;if(!n)n=s;var l=s<n?1:n/s;var u=Math.round(r*l);var c=Math.round(a*l);t.width=u;t.height=c;return o.call(this,e,t,{width:u,height:c,orientation:this.$fileInput.fileData?this.$fileInput.fileData.orientation:1})}});i.nomad.registerComponent({cmp:s,baseType:"image"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(6);var s=n(4);var o=n(12);var l=e.exports=r.declareComponent(s,{cacheDisabled:true,events:{"click .secondary-btn":"onSecondaryClick","click .field":"onClick"},fieldTag:"invitees",onClick:function u(e){var t=this;if(e.defaultPrevented||this.isDisabled())return false;var n=i.metadata.getModuleNames({filter:"visible",access:"list"});if(i.acl.hasAccess("list","Users")){n.push("Users")}var s=_.intersection(["Contacts","Leads","Users"],n);var l=_.map(s,function(e){return{value:e,label:r.getPluralModuleName(e),module:e}}).sort(function(e,t){return e.label>t.label?1:-1});var u=new a({collection:new i.BeanCollection(l),skipFetch:true});var c=i.controller.loadScreen({isDynamic:true,gaTrack:"invitees-picker-list",view:o,context:u,headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),save:false},initOptions:{preset:"staticItems"}})[0];c.on("selection:change",function(e){var n=e[0];t.createListLayout(n.get("value"),t.model)})},createListLayout:function c(e){var t=this;var n=new a({module:e});n.prepare();var r=n.get("module");var s=i.lang.get("LBL_ASSOC",r,i.lang.getAppListStrings("moduleListSingular")[r]);var l=i.controller.loadScreen({isDynamic:true,gaTrack:"invitees-list",view:o,context:n,headerConfig:{title:s,cancel:true,save:true,search:true},initOptions:{multiselect:true}})[0];l.onHeaderSaveClick=function(){var n=l.getSelectedModels();n=_.map(n,function(t){var n=_.pick(t.attributes,"id","name");n.link=e.toLowerCase();return n});var r=_.compact(t.model.get("invitees"));var a=_.pluck(r,"id");a=_.map(a,function(e){return e.toString()});n=_.chain(n).reject(function(e){return _.include(a,e.id.toString())}).union(r).value();t.model.set("invitees",n);

i.controller.disposeDynamic({layoutsToDispose:2})}},onSecondaryClick:function d(e){var t=this.model.get("invitees");var n=$(e.currentTarget).attr("uid");var i=_.reject(t,function(e){return e.id==n});this.model.set("invitees",i);return false}});i.nomad.registerComponent({cmp:l,baseType:"invitees"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{onAfterRender:function o(){this._super();if(this.el){var e=this.el.className.match(/label_[^\s]+/);if(e.length>0){var t=this.model.get(e[0].substring(6));var n=t||t===0||t==="";this.$el.toggleElement(n)}}}});i.nomad.registerComponent({cmp:s,baseType:"label"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=n(6);var o=n(44);var l=n(12);var u=e.exports=r.declareComponent(a,{events:{"touchstart .multienum-list__remove":"highlightRemoveClick","click .multienum-list__remove":"onRemoveClick","click .field":"onClick"},onBeforeRender:function c(){this._super();var e=this.model.get(this.name);if(this.view.isEditView()&&_.isArray(e)&&!this.def.required&&e.length===1&&e[0]===""){this.model.set(this.name,[],{silent:true})}},onClick:function d(e){var t=this;if(e.defaultPrevented||this.isDisabled()){return false}var n=new s({collection:o.createBeanCollection(null,this._getItemsToShow()),skipFetch:true});var r=i.controller.loadScreen({isDynamic:true,gaTrack:"multienum",headerConfig:{title:i.lang.get("LBL_CHOOSE_ITEMS"),saveLabel:"LBL_DONE_BUTTON_LABEL",save:true},view:l,context:n,initOptions:{className:"multienum__list",preset:"staticItems",multiselect:true}})[0];r.onHeaderSaveClick=function(){var e=_.map(r.getSelectedModels(),function(e){return e.get("value")});var n=_.compact(t.model.get(t.name));t.model.set(t.name,_.union(n,e));i.controller.disposeDynamic()};e.preventDefault()},_getItemsToShow:function f(){var e=this.model.fields[this.name].options;var t=i.lang.getAppListStrings(this.def.options);var n=i.metadata.getEditableDropdownFilter(this.def.options);var r=[];if(_.isObject(e)&&!_.isEmpty(e)){t=_.pick(t,_.keys(e))}if(!_.isEmpty(n)){var a=_.chain(n).filter(function(e){return e[1]===false}).map(function(e){return e[0]}).value();t=_.omit(t,a)}_.each(t,function(e,t){if(!_.contains(this.value,t)&&t!==""){r.push({label:e,value:t})}},this);return r},highlightRemoveClick:function h(e){$(e.target).addClass("selected-item")},onRemoveClick:function p(e){var t=this.model.get(this.name);var n=$(e.target).is("[item-id]")?$(e.target):$(e.target).closest("[item-id]");var i=n.attr("item-id");var r=_.without(t,i);this.model.set(this.name,r);return false}});i.nomad.registerComponent({cmp:u,baseType:"multienum"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(6);var s=n(4);var o=n(12);var l=e.exports=r.declareComponent(s,{events:{"click .secondary-btn":"onSecondaryClick","click .field":"onClick"},onBeforeRender:function u(){this._super();var e=this.model.get("parent_type");this.hasAccess=i.acl.hasAccess("read",e)&&!_.isEmpty(i.metadata.getModule(e));var t=this.model.get(this.def.id_name);this.link=!_.contains(i.config.modules.readonlyModules,e)&&t&&i.acl.hasAccess("view",e)?i.router.buildRoute(e,t):null},onClick:function c(e){var t=this;if(e.defaultPrevented||this.isDisabled()){return false}var n=i.lang.getAppListStrings(this.def.options)||{};var r=i.metadata.getModuleNames({filter:"visible"});var s=_.intersection(_.keys(n),r);if(_.contains(["Notes","Tasks"],this.module)){s=_.without(s,"Contacts")}s=_.filter(s,function(e){return i.acl.hasAccess("read",e)},this);var l=_.map(s,function(e){return{value:e,label:n[e],module:e}}).sort(function(e,t){return e.label>t.label?1:-1});var u=new a({collection:new i.BeanCollection(l),skipFetch:true});var c=i.controller.loadScreen({isDynamic:true,gaTrack:"parent-picker-list",headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),cancel:true,save:false,search:false},view:o,context:u,initOptions:{preset:"staticItems"}})[0];c.on("selection:change",function(e){var n=e[0];t.createParentListLayout(n.get("value"),t.model)})},createParentListLayout:function d(e,t){var n=new a({module:e}).prepare();var r=n.get("module");var s=i.controller.loadScreen({isDynamic:true,gaTrack:"parent-list",view:o,context:n,headerConfig:{title:i.lang.get("LBL_ASSIGN",r,i.lang.getAppListStrings("moduleListSingular")[r]),rightMenu:true,save:false}})[0];s.on("selection:change",function(n){var r=n[0];t.set({parent_name:r.get("name"),parent_id:r.get("id"),parent_type:e});i.controller.disposeDynamic({layoutsToDispose:2})})},onSecondaryClick:function f(e){this.model.set({parent_name:"",parent_id:"",parent_type:""});return false}});i.nomad.registerComponent({cmp:l,baseType:"parent"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(3);var o=n(4);var l=e.exports=r.declareComponent(o,{events:{"click .field-detail__value a":"onClickNumber"},availableActions:[{name:"sms",label:"LBL_SMS_BUTTON",action:function u(e){a.sendSms(e)}},{name:"call",label:"LBL_CALL_BUTTON",action:function c(e,t){a.callPhone(e,t)}}],onFieldChange:function d(){var e=this.format(this.unformat(this._$fieldEl.val()))||"";var t=this.model.get(this.name);this.model.set(this.name,e);if(t===e){this.model.trigger("change:"+this.name,this.model,e)}},onClickNumber:function f(){var e=this;var t=this.value;var n=_.map(this.availableActions,function(e){return i.lang.get(e.label)});s.showActionSheet(n,{title:t,onSelectCb:function r(n){e.availableActions[n].action(t,{model:e.model})}})}});i.nomad.registerComponent({cmp:l,baseType:"phone"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{events:{"click .btn-group .btn":"onClick"},onClick:function o(e){this.model.set(this.name,$(e.currentTarget).data("value"))}});i.nomad.registerComponent({cmp:s,baseType:"radioenum"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(6);var s=n(4);var o=n(12);var l=e.exports=r.declareComponent(s,{events:{"click .secondary-btn":"onSecondaryClick","click .field":"onClick"},onBeforeRender:function u(){this._super();var e=this.def.module;this.hasAccess=i.acl.hasAccess("read",e)&&!_.isEmpty(i.metadata.getModule(e));var t=this.model.get(this.def.id_name);this.link=!_.contains(i.config.modules.readonlyModules,e)&&t&&i.acl.hasAccess("view",e)?i.router.buildRoute(e,t):null;if(!this.hasAccess&&this.view.name==="edit"){this.action="disabled"}},onClick:function c(e){var t=this;if(e.defaultPrevented||this.isDisabled()){return false}var n=i.metadata.getModule(this.module).fields[this.name];var r=n.module;var s=new a({module:r}).prepare();var l=this.options.def;var u;if(l.initial_filter){u=_.pick(l,["initial_filter","filter_populate","filter_relate","initial_filter_label"]);u.relatedModel=this.model}var c=i.controller.loadScreen({isDynamic:true,gaTrack:"relate",headerConfig:{title:i.lang.get("LBL_ASSIGN",s.get("module"),i.lang.getAppListStrings("moduleListSingular")[s.get("module")]),rightMenu:true,save:false},view:o,context:s,initOptions:{initialFilter:u}})[0];c.on("selection:change",function(e){t.onRelatedItemSelected(e[0]);i.controller.disposeDynamic()})},onRelatedItemSelected:function d(e){var t={};var n=i.metadata.getModule(this.view.module).fields[this.name];t[n.id_name]=e.get("id");t[n.name]=e.get("name");if(n.populate_list&&n.auto_populate){_.each(n.populate_list,function(n,r){r=_.isNumber(r)?n:r;var a=e.get(r);if(!_.isUndefined(a)&&i.acl.hasAccessToModel("edit",this.model,n)){t[n]=a}if(r==="currency_id"&&this.model.get("currency_id")!==a){this.model.changeCurrencyId(a)}},this)}this.model.set(t)},onSecondaryClick:function f(e){this.model.set(this.name,"");this.model.set(this.def.id_name,"");return false}});i.nomad.registerComponent({cmp:l,baseType:"relate"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(4);var s=e.exports=r.declareComponent(a,{initialize:function o(e){if(e.view.name==="edit"){e.viewName="disabled"}this._super(e)}});i.nomad.registerComponent({cmp:s,baseType:"tag"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(6);var s=n(4);var o=n(12);var l=e.exports=r.declareComponent(s,{cacheDisabled:true,events:{"click .primary-btn":"onPrimaryClick","click .selected-btn":"onSelectedClick","click .remove-btn":"onRemoveClick","click .field":"onClick"},initialize:function u(e){this._super(e);this.isTBAEnabled=r.isTeamBasedAclEnabledForModule(this.module);this.model.on("change:team_name",function(){this.$el.find("[team-id]").removeClass("active")},this)},_render:function c(){var e=this.model.get(this.name);if(_.isArray(e)){e=_.sortBy(e,function(e){return e.primary!==true});this.model.set(this.name,e,{silent:true})}this._super()},onClick:function d(e){var t=this;if(e.defaultPrevented||this.isDisabled()){return false}var n="Teams";var r=new a({module:n}).prepare();var s=i.controller.loadScreen({isDynamic:true,gaTrack:"teamset",view:o,context:r,headerConfig:{title:i.lang.get("LBL_MOBILE_SELECT_TEAMS"),saveLabel:"LBL_DONE_BUTTON_LABEL"},initOptions:{multiselect:true,listItemTpl:"list-item-teamset"}})[0];s.onHeaderSaveClick=function(){var e=_.map(s.getSelectedModels(),function(e){return _.pick(e.attributes,"id","name","name_2")});var n=_.compact(t.model.get("team_name"));var r=_.pluck(n,"id");r=_.map(r,function(e){return e.toString()});var a=_.chain(e).reject(function(e){return _.include(r,e.id.toString())}).union(n).value();t.model.set("team_name",a);i.controller.goBack()}},onPrimaryClick:function f(e){var t=i.config.ui.icons.edit.teamsetPrimary;var n=i.config.ui.icons.edit.teamsetSecondary;var r=this.$el.find("[team-id].primary-btn.active");var a=r.removeClass("active").attr("team-id");var s=$(e.currentTarget);r.find(".icondefault").toggleClass(t,false).toggleClass(n,true);s.addClass("active").find(".icondefault").toggleClass(n,false).toggleClass(t,true);var o=_.find(this.model.get("team_name"),function(e){return e.id==a});if(o){o.primary=false}var l=$(e.currentTarget).attr("team-id");var u=_.find(this.model.get("team_name"),function(e){return e.id==l});u.primary=true;return false},onSelectedClick:function h(e){var t=$(e.currentTarget).attr("team-id");var n=_.find(this.model.get("team_name"),function(e){return e.id==t});if(n){n.selected=!n.selected;var r=i.config.ui.icons.edit.unlock;var a=i.config.ui.icons.edit.lock;var s=$(e.currentTarget).toggleClass("active",n.selected).find(".icondefault");if(n.selected){$(s).toggleClass(a,false);$(s).toggleClass(r,true)}else{$(s).toggleClass(r,false);$(s).toggleClass(a,true)}}return false},onRemoveClick:function p(e){var t=this.model.get("team_name");var n=$(e.currentTarget).attr("team-id");var i=_.reject(t,function(e){return e.id==n});this.model.set("team_name",i);return false}});i.nomad.registerComponent({cmp:l,baseType:"teamset"})},function(e,t,n){"use strict";(function(e){var t={createUpdateDelete:function n(t){var n=this;var i=t.method;var r=t.module;var a=t.data;var s=t.params||{};var o=t.callbacks;var l=t.originalApi;var u=t.options;if(!s.deferSync&&e.offline.isOnline()){async.waterfall([function c(t){e.offline.storage.readTransactions({limit:1,success:function n(e){t(null,e)},error:t})}],function d(t,c){if(t&&o.error){e.logger.error("createUpdateDeleteSync failed"+t);o.error(t)}else{if(c){n._offlineSync(i,r,a,s,o)}else{n._serverSync(i,r,a,s,o,l,u)}}})}else{n._offlineSync(i,r,a,s,o)}},_isInitialStateRequired:function i(e,t,n,r){return e==="update"||e==="favorite"||e==="follow"||(e==="create"||e==="delete")&&n.link},_offlineSync:function r(t,n,i,a,s){var o=this;async.series([function l(r){if(o._isInitialStateRequired(t,n,i,a)){var s=a.relate?i.relatedModule:n;var l=a.relate?i.relatedId:i.id;e.offline.storage.readSingleRawRecord(s,{id:l},{success:function u(e){a.initialState=e;r()},error:r})}else r()}],function(r){if(r){var o="Failed to read initial record during offline sync. Module: {0}, data: {1}";o=e.utils.formatString(o,[n,JSON.stringify(i||{})]);e.logger.error(o);if(s.error){s.error(r)}return}e.offline.storage.sync(t,i,n,_.extend({},{ts:e.utils.getTimestamp(),success:function l(n){e.trigger("offline:data:sync:success",n);if(s.success)s.success(n);e.logger.trace("Successfully executed: "+t)},error:function u(e){if(s.error){s.error(e)}},complete:s.complete},a))})},_serverSync:function a(t,n,i,r,s,o,l){var u=this;var c=function h(a){var o;var l=e.acl.hasAccessToModel("access",e.data.createBean(n,a));if(t==="delete"||!l){o=[function(t){e.offline.storage.sync("delete",i,n,_.extend(r,{hardDelete:true,success:function a(){t()},error:t}))}];if(r.relate){o.push(function(t){e.offline.storage.saveRecords({serverData:a.record,module:n,callback:t})});o.push(function(t){e.offline.storage.saveRecords({serverData:a.related_record,module:i.relatedModule,callback:t})})}async.series(o,function c(t){if(t){e.logger.error(t);s.error(t)}else{s.success(a)}})}else{var u=t!=="follow"?a:{id:i.id,following:i.following};if(_.isObject(u)){o=[function(t){e.offline.storage.saveRecords({serverData:r.relate?u.record:u,module:n,callback:t})}];if(r.relate){o.push(function(t){e.offline.storage.saveRecords({serverData:u.related_record,module:n,relationshipData:i,callback:t})})}if(t==="create"&&!r.relate||t==="create"&&r.relate&&!i.relatedId){o.push(function(t){e.offline.storage.updateLastViewed(r.relate?u.related_record:u,{module:r.relate?i.relatedModule:n,callback:t})})}if(t!=="delete"){o.push(function(t){e.offline.storage.markToBeSynced({module:r.relate?i.relatedModule:n,callback:t,action:"update",record:r.relate?u.related_record:u})})}async.series(o,function d(t){if(t){e.logger.error(t);s.error(t)}else{s.success(a);e.trigger("offline:data:updated",{isCollection:false,action:"update"})}})}else{s.success(a)}}};var d=function p(a){if(a&&e.utils.isConnectivityError(a)){u._offlineSync(t,n,i,r,s)}else{if(s.error)s.error(a)}};if(t==="favorite"||t==="follow"){e.offline.api.callOriginalApi(o,[n,i.id,t==="favorite"?i.my_favorite:i.following,{success:c,error:d,complete:s.complete}])}else{if(t==="create"&&!i.relatedId){var f=i.link?i.related:i;f.id=e.utils.generateUUID()}e.offline.api.callOriginalApi(o,[t,n,i,e.offline.utils.getCleanedParams(r),{success:c,error:d,complete:s.complete},l])}}};_.extend(e.offline.api,{createUpdateDelete:_.bind(t.createUpdateDelete,t),_createUpdateDeleteScope:t})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t;e.offline.api={originalMethods:{},NO_CONNECTION_ERROR:{status:0,textStatus:"error",toString:function n(){return"No internet connection"}},override:function i(){_.extend(this.originalMethods,{records:e.api.records,relationships:e.api.relationships,favorite:e.api.favorite,follow:e.api.follow,search:e.api.search,file:e.api.file});_.extend(e.api,{records:this.records,relationships:this.relationships,favorite:this.favorite,follow:this.follow,search:this.search,file:this.file})},restore:function r(){if(_.isEmpty(this.originalMethods))return;_.extend(e.api,{records:this.originalMethods.records,relationships:this.originalMethods.relationships,favorite:this.originalMethods.favorite,follow:this.originalMethods.follow,search:this.originalMethods.search,file:this.originalMethods.file});this.originalMethods={}},records:function a(n,i,r,s,o,l){if(e.offline.isModuleOfflineEnabled(i)||_.contains(e.config.offline.customOfflineModules||[],i)){return t._executeOfflineApi(n,i,r,s,o,t.originalMethods.records,l)}else{return t.originalMethods.records.call(e.api,n,i,r,e.offline.utils.getCleanedParams(s),o,l)}},relationships:function s(n,i,r,a,o,l){var u=e.data.getRelatedModule(i,r.link);if(e.offline.isModuleOfflineEnabled(i)&&e.offline.isModuleOfflineEnabled(u)){a.relate=true;r.relatedModule=u;return t._executeOfflineApi(n,i,r,a,o,t.originalMethods.relationships,l)}else{return t.originalMethods.relationships.call(e.api,n,i,r,e.offline.utils.getCleanedParams(a),o,l)}},favorite:function o(n,i,r,a,s){s=s||{};if(e.offline.isModuleOfflineEnabled(n)){return t._executeOfflineApi("favorite",n,{id:i,my_favorite:r},s,a,t.originalMethods.favorite)}else{return t.originalMethods.favorite.apply(e.api,arguments)}},follow:function l(n,i,r,a,s){s=s||{};if(e.offline.isModuleOfflineEnabled(n)){return t._executeOfflineApi("follow",n,{id:i,following:r},s,a,t.originalMethods.follow)}else{return t.originalMethods.follow.apply(e.api,arguments)}},search:function u(e,n,i){return t._executeOfflineApi("search",null,null,e,n,null,i)},file:function c(n,i,r,a,s){var o=a.success;var l=i.module;if(_.contains(["create","delete"],n)){a.success=function(t,n,r){var a={id:i.id};a[i.field]=_.isEmpty(t.record)?"":t.record[i.field];e.offline.storage.saveRecords({serverData:a,module:l,ignoreRecordDirtiness:true,callback:_.bind(o,e.api,t,n,r)})}}return t.originalMethods.file.apply(e.api,arguments)},callOriginalApi:function d(n,i){var r;var a;var s;var o;var l={search:1,ping:1,follow:3,favorite:3,file:3,records:4,relationships:4};if(_.isString(n)){if(n==="read"){r=e.api.call;a=i[3]}else{r=t.originalMethods[n]||e.api[n];a=i[l[n]]}}else{r=n;_.find(t.originalMethods,function(e,t){if(e===n){a=i[l[t]];return true}})}o=_.last(i)||{};var u=a.error;var c=function f(){e.logger.debug("Original API callback suppressed. Offline layer is not initialized")};var d=o.catchServerRequest||function(){};if(!e.offlineEnabled){return u?u.call(this,e.offline.Error.OfflineDisabledError):c()}_.each(a,function(t,n){if(_.isFunction(t)){a[n]=function(){d(null);if(!e.offlineEnabled){return u?u.call(this,e.offline.Error.OfflineDisabledError):c()}else{t.apply(this,arguments)}}}});s=r.apply(e.api,i);d(s)},_executeOfflineApi:function f(e,t,n,i,r,a,s){s=s||{};var o;var l={method:e,module:t,data:n,params:i,callbacks:r,originalApi:a,options:s};s.catchServerRequest=function(e){o=e};function u(){return o}switch(e){case"search":this.readMixedCollection(l);break;case"read":var c=n&&n.link?n.relatedId:n?n.id:null;var d=c?this.readSingle:this.readCollection;d.call(this,l);break;default:this.createUpdateDelete(l)}return u}};t=e.offline.api})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t=n(282);var i={START:"start",FINISH:"finish"};var r={readCollection:function a(n){var r=this;var a=n.method;var s=n.module;var o=n.data;var l=o&&o.relatedModule||s;var u=n.params;var c=n.callbacks;var d=n.options;var f=[];var h;e.offline.utils.callOnce(c);if(s==="Recents"){return t.readCollection(n,this._onReadCollectionComplete)}if(s==="TxLog"){u.skipServerSync=true}if(!u.skipOfflineRead){h=this._getOfflineReadParams(l,u);if(!h.skipOfflineRead){f.push(_.bind(function m(e){this._offlineRead(e,a,s,o,h,c,d)},this))}}if(e.offline.isOnline()){if(!u.skipServerSync){f.push(_.bind(function(e){if(u.filter&&h&&!h.skipOfflineRead){u.fields=_.union(u.fields?u.fields.split(","):[],h.filterParsed.filterFields).join()}this._serverRead(e,a,s,o,u,c,d)},this))}}else if(c.error){var p=_.extend({request:{params:d}},e.offline.api.NO_CONNECTION_ERROR);c.error(p)}e.events.trigger("offline:collection:read",{status:i.START,apiOptions:d});async.waterfall(f,function(e,t){return r._onReadCollectionComplete(e,t,d,c)})},_offlineRead:function s(t,n,i,r,a,o,l){e.offline.storage.sync("read",r,i,_.extend({},a,{ts:e.utils.getTimestamp(),success:function u(n){var r;n=n||[];n=!_.isArray(n)?[n]:n;if(i==="TxLog"){var s;s=n.pop().totalTransactions;n=_.map(n,function(e){e.id=e._tx_uid;return e});var l=(a.offset||0)+n.length;r=s>l?l:-1;e.offline.storage.fillTxLogData(n,function(){o.success({records:n,next_offset:r})})}else{r=a.max_num>n.length||a.serverNextOffset===-1?-1:(a.offset||0)+n.length;var u={records:n,next_offset:r};if(o.success)o.success(u)}t()},error:function c(e){if(o.error)o.error(e);t(e)},complete:o.complete}))},_getOfflineReadParams:function o(t,n){var i=e.utils.deepCopy(n);var r=e.offline.convertReadRecordsFilter(i,t);if(r){if(r.isSupported){i.filterParsed=r}else{i.skipOfflineRead=true}}return i},_serverRead:function l(t,n,i,r,a,s,o){var l=a.relate?"relationships":"records";e.offline.api.callOriginalApi(l,[n,i,r,e.offline.utils.getCleanedParams(a),{success:function u(n){if(s.success)s.success(n);n=n||{};if(a.serverSyncSuccess&&n.records){a.serverSyncSuccess({records:n.records,next_offset:n.next_offset},a)}if(!_.isEmpty(n.records)){e.offline.storage.saveRecords({module:i,serverData:n.records,relationshipData:a.relate?r:null,callback:function l(s,u){var c=u.isDataUpdated&&!a.skipOfflineRead;t(s,{serverData:n,isDataUpdated:c});if(c){e.trigger("offline:data:updated",{isCollection:true,action:"update",module:i,relationsData:r,serverNextOffset:n.next_offset,requestParams:a,cid:o.cid})}}})}else{t(null,{serverData:n})}},error:function c(e){if(s.error){s.error(e)}t(e)},complete:s.complete},o])},_onReadCollectionComplete:function u(t,n,r,a){n=n||{};if(t){if(a.error){a.error(t)}if(t instanceof e.offline.Error&&t!==e.offline.Error.OfflineDisabledError){e.logger.error("read_collection failed. "+t)}}else{e.trigger("offline:api:read:success")}if(a.complete){a.complete(n.serverData)}e.events.trigger("offline:collection:read",{status:i.FINISH,isDataUpdated:n.isDataUpdated,apiOptions:r})}};_.extend(e.offline.api,{readCollection:_.bind(r.readCollection,r),_readCollectionScope:r,ReadCollectionStatus:i})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t={readMixedCollection:function n(t){var n=this;var i=t.method;var r=t.data;var a=t.params;var s=t.callbacks;var o=t.options;var l=[];e.offline.utils.callOnce(s);if(!a.skipOfflineRead){l.push(_.bind(function c(e){this._offlineRead(e,i,r,a,s,o)},this))}if(e.offline.isOnline()){if(!a.skipServerSync){l.push(_.bind(function d(e){this._serverRead(e,i,r,a,s,o)},this))}}else{if(s.error){var u=_.extend({},e.offline.api.NO_CONNECTION_ERROR,{request:{params:o}});s.error(u)}}e.events.trigger("offline:collection:read",{status:e.offline.api.ReadCollectionStatus.START,isSearchRequest:true,apiOptions:o});async.waterfall(l,function(e,i){return n._onReadCollectionComplete(e,i,t)})},_offlineRead:function i(t,n,r,a,s,o){e.offline.storage.sync("search",null,null,_.extend({},a,{ts:e.utils.getTimestamp(),success:function l(n){var i=a.module_list&&a.module_list.split(",").length>1;var r;var o;var l;var u={};n=n||[];n=!_.isArray(n)?[n]:n;if(!e.offline.utils.checkIsEmptyQuery(a.q)){o=e.offline.utils.compileSearchRegExp(a.q);l=e.offline.utils.compileHighlightRegExp(a.q);_.each(a.module_list.split(","),function(t){u[t]=e.metadata.getModule(t).fields});_.each(n,function(t){r=t._module||t.module;t._search={isOffline:true};_.each(e.offline.storage.offlineMeta[r].searchFields,function(e){var n=e.name;var i=t[n];if((_.isString(i)||_.isNumber(i))&&o.test(i)){t._search.highlighted=t._search.highlighted||{};t._search.highlighted[n]={module:r,text:i.toString().replace(l,"<strong>$1</strong>"),label:u[r][n].vname}}})})}if(i){n=_.sortBy(n,function(e){return e._client_date_modified}).reverse()}if(i){var c=a.max_num||e.config.maxQueryResult;n=n.splice(a.offset||0,c)}var d=a.max_num>n.length?-1:(a.offset||0)+n.length;var f={records:n,next_offset:d};if(s.success)s.success(f);t()},error:function u(e){if(s.error)s.error(e);t(e)},complete:s.complete}))},_serverRead:function r(t,n,i,a,s,o){e.offline.api.callOriginalApi(n,[e.offline.utils.getCleanedParams(a),{success:function l(n){if(s.success)s.success(n);n=n||{};if(a.serverSyncSuccess&&n.records){a.serverSyncSuccess({records:n.records,next_offset:n.next_offset},a)}if(!_.isEmpty(n.records)){e.offline.storage.saveRecords({serverData:n.records,callback:function i(n,r){var s=r.isDataUpdated&&!a.skipOfflineRead;t(n,{isDataUpdated:s});if(s){e.trigger("offline:data:updated",{isCollection:true,action:"update",mixedCollection:true,requestParams:a,cid:o.cid})}}})}else{t()}},error:function u(e){if(s.error){s.error(e)}t(e)},complete:s.complete},o])},_onReadCollectionComplete:function a(t,n,i){n=n||{};if(t){if(t instanceof e.offline.Error&&t!==e.offline.Error.OfflineDisabledError){e.logger.error("readSyncMixedCollection failed. "+t)}}else{e.logger.debug("Read mixed collection success")}if(i.callbacks.complete){i.callbacks.complete(n)}e.events.trigger("offline:collection:read",{status:e.offline.api.ReadCollectionStatus.FINISH,isSearchRequest:true,isDataUpdated:n.isDataUpdated,apiOptions:i.options})}};_.extend(e.offline.api,{readMixedCollection:_.bind(t.readMixedCollection,t),_readMixedCollectionScope:t})})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={readCollection:function r(e,t){var n=this;i.events.trigger("offline:collection:read",{status:i.offline.api.ReadCollectionStatus.START,apiOptions:e.options});var r={};async.waterfall([function(t){return n._localRead(e,t)},function(t){return n._serverRead(r,e,t)},function(e){return n._saveRecords(r,e)},function(e){return n._readLastViewed(r,e)},function(t){return n._updateLastViewed(r,e,t)}],function(n){if(n&&n.stopWaterfall){n=null}var i={isDataUpdated:r.dbSaveResult&&r.dbSaveResult.isDataUpdated,serverData:r.serverData};t(n,i,e.options,e.callbacks)})},_localRead:function a(e,t){var n=e.params;var r=_.without(i.offline.utils.getOfflineModules(),"Teams");var a=n.module_list?_.intersection(n.module_list.split(","),r):r;var s=_.map(a,function(e){return{op:"readRecents",module:e,options:{max_num:i.config.fetchLimit.recents}}});var o=function l(n,i){e.callbacks.complete(n||i);t(n)};i.offline.storage.exec(s,function(t){if(!t){t=[]}else if(!_.isArray(t)){t=[t]}else{t=_.sortBy(t,function(e){return-new Date(e._last_viewed_date)}).slice(0,i.config.fetchLimit.recents)}e.callbacks.success({records:t,next_offset:-1});o(null,t)},o)},_serverRead:function s(e,t,n){var r=t.params;if(r.skipServerSync||!i.offline.isOnline()){n({stopWaterfall:true});return}r=i.offline.utils.getCleanedParams(r);r.module_list=_.intersection(r.module_list.split(","),i.offline.utils.getOfflineModules()).join(",");var a={error:n,success:function s(t){e.serverData=t;var i=_.isEmpty(t.records)?{stopWaterfall:true}:null;n(i)}};i.offline.api.callOriginalApi("records",[t.method,t.module,null,r,a,t.options])},_saveRecords:function o(e,t){i.offline.storage.saveRecords({serverData:e.serverData.records,callback:function n(i,r){e.dbSaveResult=r;t(i)}})},_readLastViewed:function l(e,t){var n=e.serverData;i.offline.storage.exec({op:"readLastViewed",options:{ids:_.pluck(n.records,"id")}},function(i){var r=n.records;if(i){if(!_.isArray(i)){i=[i]}r=_.filter(n.records,function(e){var t=_.findWhere(i,{bean_id:e.id});if(!t){return true}var n=new Date(t.date_last_viewed).getTime();var r=new Date(e._last_viewed_date).getTime();return r>n})}e.lastViewedRecords=r;t(null)},t)},_updateLastViewed:function u(e,t,n){var r={isCollection:true,action:"update",module:"Recents",cid:t.options.cid};if(_.isEmpty(e.lastViewedRecords)){if(e.dbSaveResult.isDataUpdated){i.trigger("offline:data:updated",r)}n()}else{var a=_.map(e.lastViewedRecords,function(e){return{id:e.id,module:e._module,ts:i.utils.getTimestamp(e._last_viewed_date)}});i.offline.storage.exec({op:"updateLastViewed",data:a,options:{}},function(){i.trigger("offline:data:updated",r);n()},n)}}}},function(e,t,n){"use strict";(function(e){var t={readSingle:function n(t){var n={"offline:api:read:success":{}};var i=false;var r=t.method;var a=t.module;var s=t.data;var o=t.params;var l=t.callbacks;var u=t.options;function c(){if(l.error)l.error({status:404})}e.offline.utils.callOnce(l);function d(){e.offline.storage.sync("read",s,a,_.extend({},o,{ts:e.utils.getTimestamp(),success:function t(n){var r=!o.skipServerSync&&e.offline.isOnline();if(n){if(l.success){l.success(n);i=true}r=r&&e.offline.utils.isDataSynchronized(n)}else if(!r){c()}if(r){f(n)}else{h()}},error:function n(e){if(l.error)l.error(e);p(e)},complete:l.complete}))}function f(t){var c=o.relate?"relationships":"records";e.offline.api.callOriginalApi(c,[r,a,s,e.offline.utils.getCleanedParams(o),{success:function d(r){e.offline.storage.saveRecords({serverData:r,module:a,relationshipData:o.relate?s:null,callback:function u(a){if(!a){if(!i&&l.success){l.success(r)}n["offline:data:updated"]={isCollection:false,action:t?"update":"create",id:s.id,date_modified:e.utils.getTimestamp(r.date_modified)};h()}else{p(a)}}})},error:function f(t){if(l.error)l.error(t);if(t===e.offline.Error.OfflineDisabledError){return}var i=o.relate?s.relatedModule:a;var r=o.relate?s.relatedId:s.id;switch(t.status){case 412:return;case 403:case 404:n["offline:data:updated"]={isCollection:false,action:"delete",status:t.status,module:i,data:s,id:s.id}}var u=o.relate?{module:a,data:s,relate:o.relate}:{module:i,id:r,relate:o.relate};e.offline.storage.resolveError({nonTransactionResolve:u,error:t,callback:function c(e){if(e){p(e)}else{h()}}})}},u])}function h(){e.logger.debug("readSyncSingle success");_.each(n,function(t,n){e.trigger(n,t)})}function p(t){e.logger.error("readSyncSingle failed. "+t)}d()}};_.extend(e.offline.api,{readSingle:_.bind(t.readSingle,t),_readSingleScope:t})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){_.extend(e.offline,{declareOfflineBeanCollection:function t(){var t=e.data.beanCollection;e.OfflineBeanCollection=e.data.beanCollection.extend({initialize:function n(e,i){this.cid=_.uniqueId("c");t.prototype.initialize.apply(this,arguments)},fetch:function i(e){this._handleFetchWithQuery(this._mergeCollection,e);return t.prototype.fetch.call(this,e)},_handleFetchWithQuery:function r(e,t){t=t||{};t.params=t.params||{};if(t.params.q){t.params.serverSyncSuccess=_.bind(e,this)}},_mergeCollection:function a(t,n){var i=t.records;var r=t.next_offset;var a=_.filter(i,function(t){var n=this.get(t.id);return!(n&&!e.offline.utils.isDataSynchronized(n))},this);this.set(a,{remove:false});this.offset=r!==-1?r:this.offset+(i||[]).length;this.next_offset=r}});return e.OfflineBeanCollection}})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){_.extend(e.offline,{declareOfflineBean:function t(){var t=e.data.beanModel.prototype.save;e.OfflineBean=e.data.beanModel.extend({save:function n(e,i){if(i&&i.fields&&_.contains(i.fields,"email")){var r;var a;r=_.find(this.attributes,function(e,t){return this.fields[t]&&this.fields[t].type==="email"},this);if(r){a=_.find(r,function(e){return e.primary_address});if(a){i.fields.push("email1");this.attributes.email1=a.email_address}}}t.apply(this,arguments)}});return e.OfflineBean}})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){_.extend(e.offline,{declareOfflineMixedBeanCollection:function t(){var t=e.data.mixedBeanCollection;e.OfflineMixedBeanCollection=e.data.mixedBeanCollection.extend({fetch:function n(i){var r=e.OfflineBeanCollection.prototype;r._handleFetchWithQuery.call(this,r._mergeCollection,i);return t.prototype.fetch.call(this,i)}});return e.OfflineMixedBeanCollection}})})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;function r(e,t,n,r,a){this.code=e;this.message=t;this.label=n;this.err=r;if(a){this.sqlInfo=i.config.env==="dev"?a.transactionSql:_.map(a.transactionSql,function(e){return{module:e.module,sql:e.sql}})}}r.prototype=new Error;_.extend(r.prototype,{localizedMessage:function a(){var e=void 0;try{e=i.lang.get(this.label||"ERR_OFFLINE")}catch(t){e="Offline Error";i.logger.fatal("Failed to localize offline error. "+t)}return e},toString:function s(){var e=this.localizedMessage()+": ("+this.code+") "+this.message;var t=/\\\'/g;if(this.err){var n=void 0;try{n=JSON.stringify(this.err)}catch(i){n=this.err.toString()}e+="\nOriginal error: "+n}if(this.sqlInfo){e+=". All SQL in transaction: "+JSON.stringify(this.sqlInfo).replace(t,'"')}return e}});i.offline.Error=r;_.extend(i.offline.Error,{OfflineDisabledError:new r("offline_disabled","Offline Mode is disabled","Offline is not initialized"),OutOfSpaceError:new r("out_of_space","Out of space","ERR_OFFLINE_OUT_OF_SPACE"),StorageUnavailableError:new r("storage_unavailable","Failed to open db","ERR_OFFLINE_STORAGE_UNAVAILABLE"),EncryptionFailedError:new r("encryption_failed","Failed to encrypt local storage.","ERR_OFFLINE_ENCRYPTION_FAILED"),UnknownError:new r("unknown","Unknown error")});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var r={combiners:["$or","$and"],filterKeys:{my_items:{$owner:""},favorites:{$favorite:"_this"}}};_.extend(i.offline,{_parsedFiltersCache:{},
convertReadRecordsFilter:function a(e,t){var n=[];var a=e.filter?e.filter:[];var s=void 0;var o=void 0;var l=void 0;var u=void 0;_.each(r.filterKeys,function(t,i){if(!_.isUndefined(e[i])){n.push(t)}});if(_.isEmpty(a)&&_.isEmpty(n)){return}s=!_.isEmpty(n)||!_.find(r.combiners,function(e){return a[0][e]});if(s){a=[{$and:_.union(a,n)}]}o=JSON.stringify({module:t,filter:a});if(this._parsedFiltersCache[o]){return this._parsedFiltersCache[o]}l=this._convertFilterRecursive(a,[]);if(!l){this._parsedFiltersCache[o]={isSupported:false};return this._parsedFiltersCache[o]}u=i.offline.storage.convertFilter(t,l)||{};this._parsedFiltersCache[o]={filter:l,filterFields:u.fields,filterSql:u.sql,isSupported:!!u.sql};return this._parsedFiltersCache[o]},_convertFilterRecursive:function s(e,t){var n=this;if(_.isArray(e)){_.each(e,function(e){return n._convertFilterRecursive(e,t)})}else if(_.isObject(e)){_.each(e,function(e,i){if(_.contains(r.combiners,i)){var a=[];t.push({operator:i,filters:a});n._convertFilterRecursive(e,a)}else{if(_.isObject(e)){_.each(e,function(e,n){t.push({field:i,condition:n,value:e})})}else{t.push({field:i,value:e,condition:"$equals"})}}})}return t.length?t:null}})},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}(function(e){function t(){throw new Error("Not implemented. Please override this method with your implementation")}var n={createTransaction:"offline:tx:create",deleteTransaction:"offline:tx:delete"};e.offline.storage={_regularSyncOperations:["create","update","favorite","delete","follow"],basicOfflineFields:[{type:"boolean",name:"my_favorite"},{type:"boolean",name:"following"},{type:"date",name:"_last_fetched"}],RelTypes:{ONE_TO_ONE:"one-to-one",ONE_TO_MANY:"one-to-many",MANY_TO_MANY:"many-to-many",ONE_TO_MANY_BY_ROLE_COLUMN:"one-to-many-byRoleColumn"},offlineMeta:{},_execQueue:null,_migrationSummary:{},getMigrationSummary:function r(){return this._migrationSummary},resetMigrationSummary:function a(){this._migrationSummary={}},exec:function s(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_.noop;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_.noop;var a=function s(t){r(t);e.logger.error(t);e.trigger("offline:failure",t)};if(!e.offlineEnabled){a(e.offline.Error.OfflineDisabledError);return}if(!_.isArray(t)){t=[t]}this._exec(t,function o(r){i(r);_.each(t,function(t){var i=n[t.op];if(i){e.trigger(i,{txOptions:t.options})}})},function l(t){t=e.offlineEnabled?t||e.offline.Error.UnknownError:e.offline.Error.OfflineDisabledError;a(t)})},_exec:function o(e,n,i){t()},execAndSpecificReturn:function l(t,n){var i=!_.isEmpty(n)&&n.regularSync;var r=n.dbSuccess;if(i&&_.contains(this._regularSyncOperations,n.method)){if(n.method!=="delete"){t.unshift({op:"createTransaction",data:n.data,module:n.module,options:n});t.push({op:"readSingle",data:n.data,module:n.module,options:n})}else{t.push({op:"readSingle",data:n.data,module:n.module,options:_.extend(n,{readDeleted:true})});n.dbSuccess=function(e){r.call(this,e?{id:e.id}:{id:n.data.id})}}if(n.relate){t.push({op:"readSingleRelated",data:n.data,module:n.module,options:n});n.dbSuccess=function(e){r.call(this,{record:e[0],related_record:e[1]})}}var a=n.action===e.offline.SyncActions.LINK||n.action===e.offline.SyncActions.UNLINK;if(!a){t.push({op:"updateLastViewed",data:n.relate?{id:n.data.relatedId}:n.data,module:n.relate?n.data.relatedModule:n.module,options:n})}if(n.method!=="delete"){t.push({op:"markToBeSynced",data:{action:"update",record:{id:n.relate?n.data.relatedId:n.data.id}},module:n.relate?n.data.relatedModule:n.module})}}this.exec(t,n.dbSuccess,n.dbFailure)},_executeSynchronized:function u(e){this._execQueue.push(e)},init:function c(e){this.computeOfflineMeta(e);this._init(e);if(!this._execQueue){this.initExecQueue()}},initExecQueue:function d(){var e=this;this._execQueue=async.queue(function(t,n){t.call(e,n)},1)},_init:function f(e){},computeOfflineMeta:function h(e){_.each(e.modules,function(e,t){this.offlineMeta[t]={}},this);this.prepareOfflineRelationships(e.relationships);this.offlineMeta.modules=e.modules;_.each(e.modules,function(t,n){var i=this.offlineMeta[n];i.fields=this._getOfflineModuleFields(t,i);i.searchFields=this.getOfflineModuleSearchFields(n,e)},this)},_getOfflineModuleFields:function p(e,t){var n=_.pluck(e.fields,"name");var i=_.union(["date_modified"],t.oneToManyRelFields,n);var r=[].concat(this.basicOfflineFields);var a=_.where(e.fields,{link_type:"relationship_info"});_.each(a,function(e){_.each(e.relationship_fields,function(e,n){t.fieldsBlacklist=t.fieldsBlacklist||[];if(n!=="id"&&!_.contains(t.fieldsBlacklist,e)){t.fieldsBlacklist.push(e)}})});_.each(e.fields,function(e){if(_.isObject(e)&&e.type!=="link"&&e.name!=="id"&&!_.contains(t.fieldsBlacklist,e.name)&&!_.findWhere(r,{name:e.name})&&_.contains(i,e.name)){r.push(e)}},this);return r},getOfflineModuleSearchFields:function m(t,n){n=n||e.metadata.get();var i=n.modules[t];var r=this.offlineMeta[t];var a=["assigned_user_id","modified_user_id","created_by"];var s=_.getNested(n,"server_info.fts.enabled");var o=_.contains(["Users","Employees"],t);var l=_.select(r.fields,function(e){var t=void 0;if(o){t=e.type==="name"}else if(s&&i.ftsEnabled){var n=e.full_text_search;if(n){t=_.isUndefined(n.searchable)?e.unified_search:n.searchable}}else{t=e.unified_search}return t&&!_.contains(a,e.name)});if(_.isEmpty(l)){var u=_.findWhere(r.fields,{name:"name"});if(u){l.push(u)}}return l},prepareOfflineRelationships:function g(e){var t={};_.each(e,function(e,n){if(n==="_hash"||e.relationship_type==="user-based"){return false}var i=this.getRelationshipType(e);var r=i===this.RelTypes.ONE_TO_MANY||i===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN?"_wrapOneToManyRelationship":"_wrapManyToManyRelationship";t[n]=this[r](e,i);t[n].type=i},this);this.offlineMeta.relationships=_.extend({},this.offlineMeta.relationships,t)},getRelationshipType:function v(e){if(!_.isEmpty(e.join_table)){return this.RelTypes.MANY_TO_MANY}else if(_.isEmpty(e.join_table)&&_.isEmpty(e.relationship_role_column)){return this.RelTypes.ONE_TO_MANY}else if(_.isEmpty(e.join_table)&&!_.isEmpty(e.relationship_role_column)){return this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN}},getRelationshipByLink:function b(t,n){var i=e.metadata.getModule(t).fields[n].relationship;return this.getAdjustedRelationship(t,i)},getAdjustedRelationship:function y(e,t){var n=this.offlineMeta.relationships[t];if(!n){return null}var i=n.type===this.RelTypes.MANY_TO_MANY&&e===n.parentModule;if(i){n=_.extend({},n,{parentModule:n.childModule,childModule:n.parentModule,parentIdColumn:n.childIdColumn,childIdColumn:n.parentIdColumn})}return n},getCUTransactionParams:function x(t,n,i){var r;var a;var s;var o;var l=null;var u=null;var c=i.txId||e.utils.generateUUID();var d=e.utils.getTimestamp(null,{msecPrecision:true});if(i.relate){r=n.relatedId;a=n.relatedModule;s=n.id;o=t;l=n.link;if(i.action===e.offline.SyncActions.UNLINK){u={before:{module:n.relatedModule,id:n.relatedId},after:null}}else if(i.action===e.offline.SyncActions.LINK){var f=this.getRelationshipByLink(t,n.link);if(f.type===this.RelTypes.MANY_TO_MANY){u={before:null,after:{module:n.relatedModule,id:n.relatedId}}}else{var h=i.initialState[f.parentIdColumn];var p=f.type===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN;if(h){u={before:{module:p?i.initialState.parent_type:t,id:p?i.initialState.parent_id:i.initialState[f.parentIdColumn]},after:{module:n.relatedModule,id:n.relatedId}}}else{u={before:null,after:{module:n.relatedModule,id:n.relatedId}}}}}else{u=e.offline.utils.getBeforeAndAfter(n.related,i.initialState)}}else{r=n.id;a=t;s=null;o=null;if(i.action!==e.offline.SyncActions.DELETE){u=e.offline.utils.getBeforeAndAfter(n,i.initialState)}}if(u){u=JSON.stringify(u)}return[i.action,d,r,a,s,o,u,c,l]},_wrapOneToManyRelationship:function S(t,n){var i=this._getParentModule(t);var r=this._isParentOnRight(i,t);var a=r?t.lhs_key:t.rhs_key;var s=r?t.lhs_module:t.rhs_module;var o=this.offlineMeta[s];var l="parent_type";o.oneToManyRelFields=o.oneToManyRelFields||[];if(!_.contains(o.oneToManyRelFields,a)){o.oneToManyRelFields.push(a)}if(n===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN&&!_.contains(o.oneToManyRelFields,l)){o.oneToManyRelFields.push(l)}return{name:t.name,parentModule:i,childModule:s,parentIdColumn:a,parentNameFieldDef:e.data.getRelatedNameField(s,a)}},_wrapManyToManyRelationship:function w(t){var n=this._getParentModule(t);var i=this.offlineMeta[n];var r=this._isParentOnRight(n,t);var a=r?t.lhs_module:t.rhs_module;var s=r?t.lhs_table:t.rhs_table;var o=e.metadata.getModule(n,"fields");var l={};var u=_.findWhere(o,{link_type:"relationship_info",link:s});if(u){l=_.omit(u.relationship_fields,"id")}var c={name:t.name,parentModule:n,relationshipTable:t.join_table,childModule:a,childIdColumn:r?t.join_key_rhs:t.join_key_lhs,parentIdColumn:r?t.join_key_lhs:t.join_key_rhs,childKey:r?t.lhs_key:t.rhs_key,parentKey:r?t.rhs_key:t.lhs_key,additionalColumns:l,singleModule:t.lhs_module===t.rhs_module,originalType:t.relationship_type};if(t.primary_flag_column){c.primaryFlagModule=t.primary_flag_side==="rhs"?t.lhs_module:t.rhs_module;c.link=t[t.primary_flag_side+"_table"]}return c},_isParentOnRight:function L(e,t){var n=this.getRelationshipType(t);if(n===this.RelTypes.MANY_TO_MANY){return e===t.rhs_module}else{return t.rhs_key==="id"}},_getModuleRelationships:function E(t){var n=e.metadata.getModule(t);var i=e.offline.utils.getOfflineModules();var r=[];_.each(n.fields,function(e){if(e.type==="link"){var n=this.getAdjustedRelationship(t,e.relationship);if(n&&_.contains(i,n.parentModule)&&_.contains(i,n.childModule)){r.push(n)}}},this);return r},_shouldCustomRelUpdateChild:function k(e,t){return e.originalType===this.RelTypes.ONE_TO_MANY&&!t.skipUpdateRelRecord||e.originalType===this.RelTypes.ONE_TO_ONE||!!e.primaryFlagModule},_getParentModule:function A(e){return e.rhs_key==="id"?e.rhs_module:e.lhs_module},openDb:function M(e,n,i){t()},migrate:function T(e,n,i){t()},isEncryptionSupported:function C(){return false},encrypt:function R(e,n){t()},upgrade:function D(t,n,i){i=i||{};var r=parseInt(this.getSqlStorageVersion(),10);var a=parseInt(e.cache.get("offline:version"),10);var s=[];var o=i.success||_.noop;var l=i.error||_.noop;if(!Boolean(r-a)){e.logger.debug("Version has not changed. No actual upgrade required");o(t,n);return}n=this._getUpgradedMeta(n);for(;r>a;a++){if(this._upgrade[a]){s.push.apply(s,this._upgrade[a](t))}}if(_.isEmpty(s)){e.logger.debug("Storage structure has not changed");o(t,n)}else{this._runUpgrade(s,function u(){o(t,n)},function c(e){l(e)})}},_runUpgrade:function I(e,n,i){t()},_getUpgradedMeta:function O(t){var n={modules:{},relationships:t.relationships,siteUrl:t.siteUrl,_hash:t.hash||t._hash,_userId:t.userId||t._userId};delete t.relationships;delete t.hash;delete t.userId;_.chain(t).omit(e.config.offline.exclude).each(function(e,t){n.modules[t]={_hash:e.hash,fields:{_hash:e.fieldsHash}}});return n},drop:function N(e){t()},getDetails:function F(){return{type:e.config.offline.storageAdapter}},isOutOfSpace:function B(e){this._isOutOfSpace(e)},open:function U(t){t=_.extend({env:"dev",name:"sidecar",size:5,version:"1.0"},t);var n=t.name+"-"+t.env;var i=t.size*1024*1024;var r=t.version;try{this._db=this.openDb(n,r,i)}catch(a){e.logger.fatal("Failed to open database: "+n+" "+r+" ("+i+" bytes). "+a);return false}return true},isOpened:function P(){return Boolean(this._db)},sync:function Y(t,n,i,r){this._executeSynchronized(function(a){var s=this;e.logger.trace("storageAdapter: "+t+"-"+i+(n&&n.id?"-"+n.id:""));r=_.extend({regularSync:true,method:t,dbSuccess:function l(e){a();if(r.success)r.success(e);if(r.complete)r.complete(e)},dbFailure:function u(e){a();if(r.error)r.error(e);if(r.complete)r.complete(e)}},r||{});switch(t){case"read":r.dbSuccess=function c(e){a();if(r.success){e=s._parseReadSuccessResponse(n,i,e,r)}if(r.complete)r.complete(e)};var o=n&&n.link?n.relatedId:n?n.id:null;if(o){this._readSimpleOrRelated(i,n,r)}else{if(r.relate){this._readManyRelatedRecords(i,n,r)}else if(i==="TxLog"){this._readTxLogRecords(i,n,r)}else{this._readManyRecords(i,r)}}break;case"create":if(r.relate){this._createRelatedRecord(i,n,r)}else{this._createRecord(i,n,r)}break;case"update":if(r.relate){this._updateRelatedRecord(i,n,r)}else{this._updateRecord(i,n,r)}break;case"delete":if(r.relate){this._unlinkRecord(i,n,r)}else if(r.hardDelete){this._hardDelete(i,n,r)}else{this._softDeleteRecord(i,n,r)}break;case"favorite":this._favorite(i,n,r);break;case"follow":this._follow(i,n,r);break;case"search":r.max_num=r.max_num||e.config.maxQueryResult;if(r.module_list.split(",").length>1){r=_.omit(r,"offset");r.max_num=e.config.offline.maxMixedCollectionQueryResult}r.dbSuccess=function d(e){a();if(r.success)r.success(e);if(r.complete)r.complete(e)};this._search(r);break;default:break}})},_parseReadSuccessResponse:function H(e,t,n,i){if(n){var r=false;if(i.relate){r=_.isEmpty(e.relatedId)}else{r=_.isUndefined(e)}if(r&&!_.isArray(n)){n=[n]}else if(!r&&_.isArray(n)){n=n[0]}}i.success(n);return n},_readTxLogRecords:function G(e,t,n){n=_.extend({limit:n.max_num,count:true,errFirst:true},n||{});this.exec([{op:"readTransactions",bean:null,data:t,options:n}],n.dbSuccess,n.dbFailure)},saveRecords:function V(e){var t=_.isArray(e.serverData)?e.serverData:[e.serverData];var n=this._getSaveRecordsTasks(t,e);var i=function r(t){async.waterfall(n,function(n,i){if(t){t()}e.callback(n,i||{})})};if(e.backgroundMode){i()}else{this._executeSynchronized(i)}},_getSaveRecordsTasks:function j(t,n){var i=this;var r=n.relationshipData;var a=r?r.relatedModule:n.module;var s=r?n.relDef||e.offline.storage.getRelationshipByLink(n.module,r.link):null;var o=s&&s.type===this.RelTypes.MANY_TO_MANY;return[function(e){var r=_.groupBy(t,function(e){return e._module||a});var s=[];_.each(r,function(e,t){var i=_.pluck(e,"id");s.push({op:"readModuleRecords",module:t||a,data:{id:i}});if(o){var r=_.extend({},n.relationshipData);r.relatedIds=i;s.push({op:"readManyRelated",module:n.module,data:r,options:{}})}});i.exec(s,function(t){if(t&&!_.isArray(t)){t=[t]}var n={records:t};if(o){n.related={};var i=_.groupBy(t,"id");_.each(i,function(e,t){return n.related[t]=e.length===2})}e(null,n)},e)},function(o,l){var u=o&&o.records;var c=[];_.each(t,function(l){var d=u&&_.findWhere(u,{id:l.id});var f=d&&!e.offline.utils.isDataSynchronized(d);var h=f?n.ignoreRecordDirtiness:!e.offline.utils.checkDatesEqual(d,l)||e.offline.utils.isFavoriteFollowModified(d,l);if(h){var p=e.offline.utils.actionToString(d?e.offline.SyncActions.UPDATE:e.offline.SyncActions.CREATE);if(l.date_modified){l._client_date_modified=l.date_modified}l._last_fetched=e.utils.getTimestamp();c.push({op:p,module:l._module||a,data:l,options:{initialState:d,updateRelatedNames:t.length===1}})}var m=r&&(n.ignoreRecordDirtiness||!f);if(m){switch(d&&s.type){case i.RelTypes.ONE_TO_MANY:m=d[s.parentIdColumn]!==r.id;break;case i.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN:m=!(d[s.parentIdColumn]===r.id&&d.parent_type===n.module);break;case i.RelTypes.MANY_TO_MANY:m=!(o&&o.related[l.id]);break}if(m){var g=_.extend({},r,{related:l,relatedId:l.id});c.push({op:"createLink",module:n.module,data:g,options:{ts:e.utils.getTimestamp(l.date_modified)}})}}});if(c.length){i.exec(c,function(){return l(null,{isDataUpdated:true})},l)}else{l(null)}}]},resolveSuccess:function z(e){this._executeSynchronized(function(t){this._resolveTransaction({transaction:e.transaction,module:e.module,serverData:e.serverData,relationshipData:e.relationshipData,callback:function n(){t();if(e.callback){e.callback.apply(this,arguments)}}})})},_resolveTransaction:function $(t){var n=t.callback;var i=t.relationshipData;var r=false;var a=false;var s=e.utils.getTimestamp();var o=this;async.waterfall([function l(e){o.exec([{op:"countAssociatedTransactions",options:{txData:t.transaction}}],function(t){r=t&&t.count>0;e()},e)},function u(e){if(!i){e();return}o.exec([{op:"countAssociatedTransactions",options:{txData:{_tx_uid:t.transaction._tx_uid,_tx_bean_id:t.transaction._tx_related_id}}}],function(t){a=t&&t.count>0;e()},e)},function c(e){o.exec([{op:"readSingle",data:{id:t.serverData.id},module:i?i.relatedModule:t.module,options:{readDeleted:true}}],function(t){e(null,t)},e)},function d(n,l){var u=t.transaction;var c=u._tx_action;var d=u._tx_bean_module;if(c===e.offline.SyncActions.CREATE){c=e.offline.SyncActions.UPDATE}var f=[{op:"deleteTransaction",data:null,module:null,options:{txId:u._tx_uid}}];function h(e){f.push({op:"updateValuesSingle",data:_.pick(e,"id","date_modified"),module:d})}if(i){if(c===e.offline.SyncActions.UPDATE||c===e.offline.SyncActions.LINK||c===e.offline.SyncActions.UNLINK){if(!_.isEmpty(i.related)){if(!r){i.related._last_fetched=s;f.push({op:"updateValuesSingle",module:i.relatedModule,data:i.related});f.push({op:"resetDateModified",data:{id:i.related.id},module:i.relatedModule})}else{h(i.related)}}if(i.record&&!a){i.record._last_fetched=s;f.push({op:"updateValuesSingle",module:i.recordModule,data:i.record});f.push({op:"resetDateModified",data:{id:i.record.id},module:i.recordModule})}}if(c===e.offline.SyncActions.UNLINK&&!a&&!r){f.push({op:"deleteLink",module:i.recordModule,data:{id:i.id,link:i.link,related:i.related,relatedId:i.relatedId,relatedModule:i.relatedModule},options:{hardDelete:true}})}}else{if(c===e.offline.SyncActions.DELETE){f.push({op:"hardDelete",module:d,data:t.serverData});f.push({op:"deleteLastViewed",data:t.serverData,module:d})}else if(!r){t.serverData._last_fetched=s;f.push({op:e.offline.utils.actionToString(c),data:t.serverData,module:d});f.push({op:"resetDateModified",data:{id:t.serverData.id},module:d})}else{h(t.serverData)}}o.exec(f,function p(){e.trigger("offline:tx:success",{tx:u});l()},function m(e){l(e)})}],n)},resolveError:function q(t){var n;var i;var r;if(t.nonTransactionResolve&&!(t.error.status===404||t.error.status===403)){t.callback();return}if(!e.utils.isConnectivityError(t.error)&&!t.nonTransactionResolve){e.trigger("offline:tx:error",{tx:t.txLog,errorCode:t.error.status})}switch(t.error.status){case 0:if(t.callback){_.defer(t.callback,t.error)}break;case 409:t.error.record=t.error.record||t.error.payload&&t.error.payload.record||{};var a=t.txLog;var s=e.offline.utils.getOfflineModules();var o=[];if(!_.contains(s,a._tx_bean_module)||_.isEmpty(e.utils.getChangedProps(t.updatedFields,t.error.record))){o.push({op:"deleteTransaction",options:{txId:a._tx_uid}})}else{var l={op:"updateValuesSingle",data:null,module:a._tx_bean_module};o=[l,{op:"updateTransaction",data:{txLog:_.extend(_.clone(a),{_tx_error_count:a._tx_error_count+1,_tx_error:t.error.status})}}]}this._executeSynchronized(function(n){var i=function r(e){n();if(t.callback){t.callback(e)}};if(l){this.exec([{op:"countAssociatedTransactions",options:{txData:a}}],_.bind(function(n){if(n&&n.count>0){l.data=_.pick(t.error.record,"id","date_modified")}else{l.data=e.utils.deepCopy(t.error.record);l.data._last_fetched=e.utils.getTimestamp()}this.exec(o,i,i)},this),i)}else{this.exec(o,i,i)}});break;case 404:if(t.nonTransactionResolve){if(t.nonTransactionResolve.relate){n=[{op:"deleteLink",module:t.nonTransactionResolve.module,data:t.nonTransactionResolve.data}]}else{n=[{op:"hardDelete",module:t.nonTransactionResolve.module,data:{id:t.nonTransactionResolve.id}}]}}else{i=t.txLog._tx_bean_module,r=t.txLog._tx_bean_id;n=[{op:"hardDelete",module:i,data:{id:r}}];n.push({op:"deleteTransaction",data:null,module:null,options:{txId:t.txLog._tx_uid}})}this._executeSynchronized(function(e){this.exec(n,function(){e();if(t.callback){t.callback()}},function(n){e();if(t.callback){t.callback(n)}})});break;case 422:if(t.txLog){n=[{op:"deleteTransaction",data:null,module:null,options:{txId:t.txLog._tx_uid}},{op:"updateValuesSingle",data:{id:t.txLog._tx_bean_id,date_modified:t.txLog._tx_ts,_client_date_modified:t.txLog._tx_ts},module:t.txLog._tx_bean_module}]}this._executeSynchronized(function(e){this.exec(n,function(){e();if(t.callback){t.callback()}},function(n){e();if(t.callback){t.callback(n)}})});break;case 403:var u;if(t.nonTransactionResolve){i=t.relate?t.nonTransactionResolve.data.relatedModule:t.nonTransactionResolve.module;var c=t.relate?t.nonTransactionResolve.data.id:t.nonTransactionResolve.id;u={op:"hardDelete",module:i,data:{id:c},options:{skipRelationshipsClean:true}}}else{u={op:"updateTransaction",data:{txLog:_.extend(t.txLog,{_tx_error_count:++t.txLog._tx_error_count,_tx_error:t.error.status})}}}this._executeSynchronized(function(e){this.exec([u],function(){e();if(t.callback){t.callback(t.nonTransactionResolve?null:t.error)}},function(n){e();if(t.callback){t.callback(n)}})});break;case 500:default:this._executeSynchronized(function(e){this.exec([{op:"updateTransaction",data:{txLog:_.extend(t.txLog,{_tx_error_count:++t.txLog._tx_error_count,_tx_error:t.error.status})}}],function(){e();if(t.callback){t.callback(t.error)}},function(n){e();if(t.callback){t.callback(n)}})});break}},rollbackTransaction:function W(t,n,i){n=n||{};var r=this;this._executeSynchronized(function(a){this.exec([{op:"countAssociatedTransactions",options:{txData:t}}],function(s){n.resetDirty=!s||s.count===0;var o=[{op:"deleteTransaction",options:{txId:t._tx_uid}}];var l;if(t._tx_action===e.offline.SyncActions.UPDATE){l=r._getRollbackUpdateTasks}else if(t._tx_action===e.offline.SyncActions.CREATE){l=r._getRollbackCreateTasks}else if(t._tx_action===e.offline.SyncActions.DELETE){l=r._getRollbackDeleteTasks}else if(t._tx_action===e.offline.SyncActions.FAVORITE){l=r._getRollbackFavoriteTasks}else if(t._tx_action===e.offline.SyncActions.FOLLOW){l=r._getRollbackFollowTasks}else if(t._tx_action===e.offline.SyncActions.UNLINK){l=r._getRollbackUnlinkTasks}else if(t._tx_action===e.offline.SyncActions.LINK){l=r._getRollbackLinkTasks}l=_.bind(l,r);o=o.concat(l(t,n));r.exec(o,function u(){a();e.trigger("offline:tx:rollback",{tx:t});i()},function c(e){a();i(e)})},function s(e){a();i(e)})})},_getRollbackUpdateTasks:function K(e,t){var n=this._getTxUpdatedFields(e);var i=e._tx_bean_module;var r={id:e._tx_bean_id};_.each(n,function(e,t){r[t]=e.before},this);var a=[{op:"updateValuesSingle",data:r,module:i,options:t}];if(t.resetDirty){a.push({op:"resetDateModified",module:i,data:r})}return a},_getRollbackCreateTasks:function J(e,t){return[{op:"hardDelete",data:{id:e._tx_bean_id},module:e._tx_bean_module,options:t}]},_getRollbackDeleteTasks:function X(e){return[{op:"resetDeletedSingle",data:{id:e._tx_bean_id},module:e._tx_bean_module}]},_getRollbackFavoriteTasks:function Z(e,t){var n=this._getTxUpdatedFields(e);var i=e._tx_bean_module;var r={id:e._tx_bean_id,my_favorite:n.my_favorite.before};if(n.following){r.following=n.following.before}var a=[{op:"updateValuesSingle",data:r,module:i,options:t}];if(t.resetDirty){a.push({op:"resetDateModified",module:i,data:{id:e._tx_bean_id}})}return a},_getRollbackFollowTasks:function Q(e,t){var n=this._getTxUpdatedFields(e);var i=e._tx_bean_module;var r=[{op:"updateValuesSingle",data:{id:e._tx_bean_id,following:!!n.following.before},module:i,options:t}];if(t.resetDirty){r.push({op:"resetDateModified",module:i,data:{id:e._tx_bean_id}})}return r},_getRollbackUnlinkTasks:function ee(e,t){var n=[{op:"createLink",module:e._tx_related_module,data:{id:e._tx_related_id,link:e._tx_link,related:{id:e._tx_bean_id},relatedId:e._tx_bean_id,relatedModule:e._tx_bean_module}}];if(t.resetDirty){n.push({op:"resetDateModified",module:e._tx_bean_module,data:{id:e._tx_bean_id}})}return n},_getRollbackLinkTasks:function te(e,t){var n=this._getTxUpdatedFields(e);var i;if(n.before){i=[{op:"createLink",module:n.before.module,data:{id:n.before.id,link:e._tx_link,related:{id:e._tx_bean_id},relatedId:e._tx_bean_id,relatedModule:e._tx_bean_module}}]}else{i=[{op:"deleteLink",module:e._tx_related_module,data:{id:e._tx_related_id,link:e._tx_link,related:{id:e._tx_bean_id},relatedId:e._tx_bean_id,relatedModule:e._tx_bean_module}}]}if(t.resetDirty){i.push({op:"resetDateModified",module:e._tx_bean_module,data:{id:e._tx_bean_id}})}return i},_getTxUpdatedFields:function ne(e){return _.isString(e._tx_updated_fields)?JSON.parse(e._tx_updated_fields):e._tx_updated_fields},readSingleRawRecord:function ie(e,t,n){this._executeSynchronized(function(i){this.exec([{op:"readSingle",data:t,module:e,options:_.extend(n,{readDeleted:true})}],function r(){i();if(n.success){n.success.apply(this,arguments)}},function a(){i();if(n.error){n.error.apply(this,arguments)}})})},readRecordsByIds:function re(e,t,n){this._executeSynchronized(function(i){this.exec([{op:"readModuleRecords",data:{id:t},module:e}],function r(){i();if(n.success){n.success.apply(this,arguments)}},function a(){i();if(n.error){n.error.apply(this,arguments)}})})},readTransactions:function ae(e,t){this._executeSynchronized(function(n){this.exec([{op:"readTransactions",bean:null,data:t,options:e}],function i(t){n();if(e.success){e.success.apply(this,arguments)}},function r(){n();if(e.error){e.error.apply(this,arguments)}})})},getStats:function se(t){t=t||{};t=_.defaults(t,{modules:e.offline.utils.getOfflineModules(),success:function r(t){e.logger.debug(t)},error:function a(t){e.logger.error("getStats failed. "+t)}});var n={count:{}};var i=this;this._executeSynchronized(function(e){async.series([function r(e){i.getRecordsCount(t,function(t,i){n.count=i;e(t,i)})},function a(e){i.getStorageSize(t,function(t,i){if(!t){_.extend(n,i)}e(t,i)})}],function s(i){e();if(i){t.error(i)}else{t.success(n)}})})},getRecordsCount:function oe(e,t){this.exec([{op:"getStats",data:null,module:null,options:e}],function(e){t(null,e)},t)},_NO_STORAGE_INFO:{dbSize:-1,totalDiskSpace:-1,freeDiskSpace:-1},getStorageSize:function le(e,t){t(null,_.clone(this._NO_STORAGE_INFO))},compact:function ue(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=n.flushTransactions,r=i===undefined?false:i,a=n.modules,s=n.expirationDate,o=n.callback,l=o===undefined?_.noop:o;var u=Promise.resolve();if(r){u=u.then(function(){return new Promise(function(e,n){t.exec([{op:"clearTransactionLog"}],e,n)})})}this._executeSynchronized(function(n){u.then(function(){return Promise.mapSeries(a,function(e){return t._cleanUpModule({module:e,expirationDate:s})})}).then(function(){n();l()}).catch(function(t){e.logger.error("Failed to clean up database. "+t);n();l(t)})})},_cleanUpModule:function ce(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.module,i=t.expirationDate;return this._getRecordsToCleanUp({module:n,expirationDate:i}).then(function(t){return new Promise(function(i,r){e._hardDelete(n.moduleName,t,{skipOneToManyChildren:true,dbSuccess:i,dbFailure:r})})})},_getRecordsToCleanUp:function de(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=n.module,a=n.expirationDate;var s=e.config.offline.staticModules||[];var o=this._getModuleLimit(r.moduleName);var l=Math.ceil(r.recordsCount-o+(100-e.config.offline.cleanUp.recordsToKeepPercentage)/100*o);var u=[];if(!_.contains(s,r.moduleName)){u=[{expirationDate:a,includeUserRecords:false,limit:l},{expirationDate:a,includeUserRecords:true,limit:l}]}var c=[].concat(i(u),[{includeUserRecords:true,limit:l}]);var d=function f(e){var n=e.expirationDate,i=e.includeUserRecords,a=e.limit;return new Promise(function(e,s){t.exec([{op:"findViewedBefore",module:r.moduleName,options:{expirationDate:n,includeUserRecords:i,limit:a}}],function(t){t=t||[];t=_.isArray(t)?t:[t];e(t)},s)})};return Promise.reduce(c,function(e,n){if(t._shouldCleanMore(r,e.length)){return d(n)}else{return e}},[])},_shouldCleanMore:function fe(e,t){var n=e.moduleName,i=e.recordsCount;var r=this._getModuleLimit(n);return i-t>r},_getModuleLimit:function he(t){var n=e.config.offline.dbLimits;return n.modules[t]||n.default},_favorite:function pe(t,n,i){i.action=e.offline.SyncActions.FAVORITE;n={id:n.id,my_favorite:n.my_favorite,_client_date_modified:i.ts};if(n.my_favorite){n.following=true}this.execAndSpecificReturn([{op:"updateValuesSingle",data:n,module:t,options:i}],_.extend({data:n,module:t},i))},_follow:function me(t,n,i){i.action=e.offline.SyncActions.FOLLOW;this.execAndSpecificReturn([{op:"updateValuesSingle",data:{id:n.id,following:n.following,_client_date_modified:i.ts},module:t,options:i}],_.extend({data:n,module:t},i))},_updateRecord:function _e(t,n,i){i.action=e.offline.SyncActions.UPDATE;n._client_date_modified=i.ts;if(e.offline.utils.isRecordAssignedToLoginUser(n)){n.following=true}this.execAndSpecificReturn([{op:"updateValuesSingle",data:n,module:t,options:i}],_.extend({data:n,module:t},i))},_updateRelatedRecord:function ge(t,n,i){i.action=e.offline.SyncActions.UPDATE;n.related._client_date_modified=i.ts;if(e.offline.utils.isRecordAssignedToLoginUser(n.related)){n.related.following=true}var r=[{op:"updateValuesSingle",data:n.related,module:n.relatedModule,options:i}];var a=this.getRelationshipByLink(t,n.link);var s=this.getRelationshipType(a);var o=e.data.getRelationshipFields(t,n.link);var l=!_.isEmpty(_.pick(n.related,o));if(s===this.RelTypes.MANY_TO_MANY&&l){r.push({op:"createLink",module:t,data:n,options:i})}this.execAndSpecificReturn(r,_.extend({data:n,module:t},i))},_createRecord:function ve(t,n,i){n.id=n.id||e.utils.generateUUID();n.date_entered=n._client_date_modified=i.ts;if(e.offline.utils.isRecordAssignedToLoginUser(n)){n.following=true}i.action=e.offline.SyncActions.CREATE;this.execAndSpecificReturn([{op:"createSingle",data:n,module:t,options:i}],_.extend({data:n,module:t},i))},_createRelatedRecord:function be(t,n,i){var r=this;n.related._client_date_modified=i.ts;if(n.relatedId){var a=function c(){i.action=e.offline.SyncActions.LINK;r.execAndSpecificReturn([{op:"createLink",module:t,data:n,options:i}],_.extend({data:n,module:t},i))};var s=function d(e){var t=e[0];var n=e[1];if(!_.isEmpty(n)){return i.dbSuccess({record:t,relatedRecord:n})}else{a()}};var o=e.offline.storage.getRelationshipByLink(t,n.link);var l=e.offline.storage.getRelationshipType(o);if(l===e.offline.storage.RelTypes.MANY_TO_MANY){r.exec([{op:"readSingle",data:n,module:t,options:_.extend(i,{readDeleted:true})},{op:"readSingleRelated",module:t,data:n,options:i}],s,i.dbFailure)}else{a()}}else{var u=e.utils.generateUUID();n.relatedId=n.related.id=u;i.action=e.offline.SyncActions.CREATE;if(e.offline.utils.isRecordAssignedToLoginUser(n.related)){n.related.following=true}this.execAndSpecificReturn([{op:"createSingle",module:n.relatedModule,data:n.related,options:i},{op:"createLink",module:t,data:n,options:i}],_.extend({data:n,module:t},i))}},_softDeleteRecord:function ye(t,n,i){i.action=e.offline.SyncActions.DELETE;this.execAndSpecificReturn([{op:"createTransaction",module:t,data:n,options:i},{op:"softDeleteSingle",module:t,data:n,options:i}],_.extend({data:n,module:t},i))},_hardDelete:function xe(t,n,i){i.action=e.offline.SyncActions.DELETE;this.execAndSpecificReturn([{op:"hardDelete",module:t,data:n,options:i},{op:"deleteLastViewed",data:n,module:t}],_.extend({data:n,module:t},i))},_unlinkRecord:function Se(t,n,i){i.action=e.offline.SyncActions.UNLINK;var r=[{op:"deleteLink",module:t,data:n,options:i}];if(!i.hardDelete){r.push({op:"createTransaction",module:t,data:n,options:i})}this.execAndSpecificReturn(r,_.extend({data:n,module:t},i))},_readSimpleOrRelated:function we(e,t,n){var i={op:n.relate?"readSingleRelated":"readSingle",data:t,module:e,options:n};var r=[i];if(this._shouldUpdateLastViewedDate(n)){r.splice(0,0,{op:"updateLastViewed",data:n.relate?{id:t.relatedId}:t,module:n.relate?t.relatedModule:e,options:n});r.splice(0,0,{op:"markToBeSynced",module:n.relate?t.relatedModule:e,data:{action:"update",record:{id:n.relate?t.relatedId:t.id}}})}this.exec(r,n.dbSuccess,n.dbFailure)},_readManyRecords:function Le(e,t){this.exec([{op:"readMany",module:e,options:t}],t.dbSuccess,t.dbFailure)},_readManyRelatedRecords:function Ee(e,t,n){this.exec([{op:"readManyRelated",module:e,data:t,options:n}],n.dbSuccess,n.dbFailure)},_search:function ke(e){
this.exec([{op:"search",options:e}],e.dbSuccess,e.dbFailure)},_shouldUpdateLastViewedDate:function Ae(e){return e&&e.viewed},fillTxLogData:function Me(e,t){_.each(e,function(e){if(e._tx_updated_fields){e._tx_updated_fields=JSON.parse(e._tx_updated_fields)}});var n={};function i(e,t){var i=e["_tx_"+t+"_module"];if(!i){return}if(!_.has(n,i)){n[i]=[]}n[i].push(e["_tx_"+t+"_id"])}_.each(e,function(e){i(e,"bean");i(e,"related")});function r(e,t,n){var i=e["_tx_"+t+"_id"];if(!i){return}var r=e["_tx_"+t+"_module"];if(!_.isArray(n[r])){e[t]=n[r]}else{e[t]=_.find(n[r],function(e){return e.id===i})}}this._executeSynchronized(function(i){this.readModuleRecords(n,function(n,a){i();if(!n){_.each(e,function(e){r(e,"bean",a);r(e,"related",a)})}t(n,e)})})},readModuleRecords:function Te(e,t,n){var i=this;_.each(e,function(t,n){var r={op:"readModuleRecords",module:n,data:{id:t},options:{}};e[n]=function(e){i.exec([r],function(t){e(null,t)},e)}});async.parallel(e,t)},markToBeSynced:function Ce(e){this.exec([{op:"markToBeSynced",module:e.module,data:{action:e.action,record:e.record}}],e.callback,e.callback)},resetToBeSynced:function Re(e){this.exec([{op:"resetToBeSynced",module:e.module,data:{records:e.records}}],e.callback,e.callback)},readToBeSynced:function De(e){this.exec([{op:"readToBeSynced",module:e.module,options:e}],function(t){t=t||[];if(!_.isArray(t)){t=[t]}e.callback({records:t})},e.callback)},updateLastViewed:function Ie(e,t){this.exec([{op:"updateLastViewed",data:e,module:t.module,options:t}],t.callback,t.callback)}}})(SUGAR.App)},function(e,t,n){"use strict";(function(e){e.offline.utils={notImplemented:function t(){throw new Error("Not implemented. Please override this method with your implementation")},generateUUID:function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0;var n=e=="x"?t:t&3|8;return n.toString(16)})},isDataSynchronized:function i(t){if(t instanceof e.Bean){return t.get("_client_date_modified")===t.get("date_modified")}else if(_.isObject(t)){return t._client_date_modified&&t.date_modified&&t._client_date_modified===t.date_modified}else return false},prepareHighlightQuery:function r(e){var t="(\\*|\\%)+";e=e?e.trim().replace(/[-\[\]{}()+.,\\\^$|#\s]/g,"\\$&").replace(new RegExp("(^"+t+")|("+t+"$)","g"),"").replace(/%|\*/g,".*").replace(/_|\?/g,"."):"";return e},prepareQuery:function a(e){e=e?e.trim().replace(/[-\[\]{}()+.,\\\^$|#\s]/g,"\\$&").replace(/%|\*/g,".*").replace(/_|\?/g,"."):"";return"^"+e},checkIsEmptyQuery:function s(e){e=e?e:"";e=e.replace(/%|\*/g,"").replace(/_|\?/g,"");e=e.trim();return _.isEmpty(e)},compileHighlightRegExp:function o(e){e=this.prepareHighlightQuery(e);return new RegExp("([^\\s:-;,><]*"+e+"[^\\s:-;,><]*)","i")},compileSearchRegExp:function l(e){return new RegExp(this.prepareQuery(e))},actionToSymbol:function u(t){var n=t._tx_action||t.action;var i=t._tx_related_id||t.relate;return e.offline.SYNC_ACTIONS_SYMBOLS[n]+(i?"_RELATED":"")},getTxAge:function c(e){return parseInt((new Date-new Date(e._tx_ts))/1e3,10)},getCleanedParams:function d(e){return _.omit(e,["changedFields","skipServerSync","skipOfflineRead","serverSyncSuccess","deferSync","initialState","relate"])},actionToString:function f(t){if(t===e.offline.SyncActions.CREATE){return"createSingle"}else if(t===e.offline.SyncActions.UPDATE||t===e.offline.SyncActions.LINK){return"updateValuesSingle"}else if(t===e.offline.SyncActions.DELETE||t===e.offline.SyncActions.UNLINK){return"hardDelete"}else if(t===e.offline.SyncActions.FAVORITE||t===e.offline.SyncActions.FOLLOW){return"updateValuesSingle"}else{throw new Error("Invalid action")}},isRecordAssignedToLoginUser:function h(t){return t.assigned_user_id&&t.assigned_user_id===e.user.id},getOfflineModules:function p(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=_.keys(e.metadata.get().modules);if(t.filter){n=_.intersection(n,e.metadata.getModuleNames({filter:t.filter}))}if(t.includeStatic){n=_.union(e.config.offline.staticModules,n)}if(t.checkAccess){n=_.filter(n,function(t){return e.acl.hasAccess("access",t)})}return _.filter(n,function(t){return e.offline.isModuleOfflineEnabled(t)})},getBeforeAndAfter:function m(e,t){t=t||{};var n={};_.each(e,function(e,i){if(i==="_client_date_modified"||i==="id"||e===t[i]){return}n[i]={after:e,before:t[i]?t[i]:null}},this);return _.isEmpty(n)?null:n},getInitialState:function g(e,t){var n=JSON.parse(e._tx_updated_fields);_.each(n,function(e,n){if(n==="email"){return}t[n]=e.before});return t},fetchPageByPage:function v(t,n,i,r,a){var s=a.maxRecords||20;var o=a.pageSize||20;r=r||0;_.extend(n,{offset:n.offset||0,max_num:o,order_by:n.order_by||"date_modified:DESC"});if(a.isBulkLoad){_.extend(n,{e2e_skip:true})}e.offline.api.callOriginalApi("records",["read",t,null,n,{success:function l(u){if(_.isEmpty(u.records)){return a.callback()}i({module:t,records:u.records,callback:function c(l){if(l){return a.callback(l)}var c=r>=s;r+=o;n.offset+=o;if(a.iterator){a.iterator(c?s:r)}if(c||u.next_offset===-1){a.callback()}else{e.offline.utils.fetchPageByPage.call(e.offline.utils,t,n,i,r,a)}}})},error:a.callback}])},ping:function b(t){var n=+new Date;e.offline.api.callOriginalApi("ping",[null,{success:function i(){var e=new Date-n;t(null,e)},error:function r(e){t(e)}}])},getServerTime:function y(t){e.offline.api.callOriginalApi("ping",["whattimeisit",{success:function n(e){t(null,e)},error:t},{skipMetadataHash:true}])},shouldUpdateLastViewedDate:function x(e){return e&&e.viewed},callOnce:function S(e){var t={success:false,error:false,complete:false};_.each(e,function(n,i){e[i]=function(){if(t[i]){return}t[i]=true;n.apply(this,arguments);n=null}})},paginate:function w(e,t){var n=0;var i;var r=[];if(_.isEmpty(e)){return r}function a(e,n){var i=n*t;var r=(n+1)*t;return e.slice(i,r)}i=a(e,n);while(!_.isEmpty(i)){r.push(i);i=a(e,++n)}return r},getStoppableAsyncFlow:function L(t,n,i){var r=false;var a;a=_.map(n,function(t){return function n(){if(r){e.logger.debug("Async flow interrupted");i()}else{t.apply(null,arguments)}}});async[t](a,i);return function s(){r=true}},checkDatesEqual:function E(t,n){return t&&n&&t.date_modified===t._client_date_modified&&t.date_modified===e.utils.getTimestamp(n.date_modified)},isFavoriteFollowModified:function k(e,t){return e&&t&&(!_.isUndefined(t.my_favorite)&&Boolean(+t.my_favorite)!==Boolean(+e.my_favorite)||!_.isUndefined(t.following)&&Boolean(+t.following)!==Boolean(+e.following))}}})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r="meta:hashes";var a={CREATE:1,UPDATE:2,DELETE:3,LINK:4,UNLINK:5,FAVORITE:6,FOLLOW:7};var s=void 0;var o=void 0;var l=void 0;var u=["offline:toggled","offline:failure","offline:bulkload:progress","offline:cleanup:completed","offline:api:read:success","offline:status:update","offline:collection:read","offline:data:updated","offline:data:sync:success","offline:tx:create","offline:tx:success","offline:tx:delete","offline:tx:error","offline:tx:rollback","offline:wins:completed","offline:encryption:start","offline:encryption:complete","offline:storage:migrate"];var c={INITIALIZED_TS_KEY:"offline:initialized_ts",State:{OK:0,WARNING:1,ERROR:2},SyncActions:a,SYNC_ACTIONS_SYMBOLS:_.invert(a),TransactionStatuses:{UNRECOVERABLE:[403,405,422,500]},status:null,_userEnabled:true,_noConnection:false,set userEnabled(e){this._userEnabled=Boolean(e)},get userEnabled(){return this._userEnabled},isSupported:function d(e){return i.utils.versionCompare(e.version||"",i.config.offline.minServerVersion,">=")},storageExists:function f(){return!!i.cache.get("offline:version")},registerEvents:function h(){_.each(u,function(e){i.events.unregister(i,e);i.events.register(e,i)})},initialize:function p(){$(document).on("ajaxComplete",this._onAjaxComplete);this._setDataModels();this.storage.init(i.metadata.get());this.api.override();this.syncManager.httpErrorHandler=_.bind(i.error.handleStatusCodesFallback,i.error);this.syncManager.init();this._registerSyncExecutors();this.status={state:this.State.OK};this._initialized=true;i.logger.debug("Offline initialized")},isInitialized:function m(){return this._initialized},_registerSyncExecutors:function g(){_.each(i.config.offline.syncManager.executors,function(e,t){e=_.extend(e,{name:t});var n=new(i.offline[i.utils.capitalize(t)+"SyncExecutor"])(e);i.offline.syncManager.registerExecutor(n)})},initStorage:function v(){return i.offline.storage.open({env:i.config.env,name:i.config.appId,size:i.config.offline.storageSize,adapter:i.offline[i.config.offline.storageAdapter+"Adapter"]})},_cutCachedData:function b(){_.each(["offline:version",r,"offline:encrypted","sync:wins:status"],function(e){i.cache.cut(e)})},uninitialize:function y(){$(document).off("ajaxComplete",this._onAjaxComplete);this.api.restore();this._resetDataModels();this.status=null;i.offlineEnabled=false;this._initialized=false;i.logger.debug("Offline stopped")},_setDataModels:function x(){s=i.data.beanModel;o=i.data.beanCollection;l=i.data.mixedBeanCollection;i.data.beanModel=this.declareOfflineBean();i.data.beanCollection=this.declareOfflineBeanCollection();i.data.mixedBeanCollection=this.declareOfflineMixedBeanCollection();i.data.reset();i.data.declareModels()},_resetDataModels:function S(){i.data.beanModel=s;i.data.beanCollection=o;i.data.mixedBeanCollection=l;i.data.reset();i.data.declareModels()},prepareDb:function w(e){var t=this;var n=Promise.resolve();if(e){n=n.then(function(){var e=i.utils.deepCopy(i.metadata.get());e.modules=_.omit(e.modules,i.config.offline.exclude);return t.upgrade(e)}).then(function(e){return t.migrate(e)})}var r=i.cache.get("offline:encrypted");if(i.config.offline.dbEncryptionEnabled&&!r){n=n.then(function(){return t.encrypt()})}return n},isOfflineEnabled:function L(){return i.config.offlineEnabled&&i.config.offline.enabled&&this.userEnabled&&this.isSupported(i.metadata.getServerInfo())},dropStorage:function E(e){var t=this;return new Promise(function(e,n){if(!t.storage.isOpened()){t.initStorage()}i.logger.debug("Dropping storage");t.storage.drop(function(r){t._cutCachedData();if(r){i.logger.error("Failed to drop storage: "+r);n(r)}else{e()}})})},upgrade:function k(e){var t=this;return new Promise(function(n,a){var s=i.cache.get(r);i.logger.debug("Upgrading offline storage");i.offline.storage.upgrade(e,s,{success:function o(e,r){i.logger.debug("Successfully upgraded offline storage");t.storeOfflineMeta(e);i.cache.set("offline:version",t.storage.getSqlStorageVersion());n({metadata:e,prevMetadata:r})},error:function l(e){i.logger.error("Failed to upgrade offline storage. "+e);a(e)}})})},encrypt:function A(){return new Promise(function(e,t){if(i.offline.storage.isEncryptionSupported()){i.trigger("offline:encryption:start");_.defer(function(){i.offline.storage.encrypt(function(){i.logger.debug("Successfully encrypted offline storage");i.trigger("offline:encryption:complete");i.cache.set("offline:encrypted",true);e()},function(e){i.logger.error("Failed to encrypt offline storage. "+e);i.trigger("offline:encryption:complete",i.offline.Error.EncryptionFailedError);t(e)})})}else{e()}})},migrate:function M(e){var t=e.metadata,n=e.prevMetadata;var r=!i.config.offline.debug.forceMigrate&&n&&n._hash===t._hash&&n._userId===i.user.get("id")&&n.siteUrl===i.utils.stripHttpPrefix(i.config.siteUrl);i.offline.storage.resetMigrationSummary();var a=Promise.resolve();if(!r){i.logger.debug("Migrating offline storage");a=a.then(function(){return new Promise(function(e,t){i.offline.utils.getServerTime(function(n,r){if(n){i.logger.error("Failed to get server time: "+n);n=new i.offline.Error("server_time_unavailable","Failed to retrieve server time","ERR_OFFLINE_SERVERTIME_UNAVAILABLE",n);t(n)}else{i.cache.set(i.offline.INITIALIZED_TS_KEY,r);e()}})})}).then(function(){return new Promise(function(e,r){i.offline.storage.migrate(t,n,{forceDrop:i.config.offline.debug.forceMigrate,success:function a(){i.trigger("offline:storage:migrate",{storageRebuilt:i.offline.storage.getMigrationSummary().storageRebuilt});i.logger.debug("Successfully migrated offline storage");e()},error:r})})})}return a.catch(function(e){e.label=i.lang.get("ERR_OFFLINE_STORAGE_CREATE");i.logger.error("Failed to migrate offline storage. "+e);throw e})},compactStorage:function T(e){i.offline.storage.compact(e)},storeOfflineMeta:function C(e){var t={};t._hash=e._hash;t._userId=i.user.id;t.relationships={_hash:e.relationships._hash};t.siteUrl=i.utils.stripHttpPrefix(i.config.siteUrl);t.modules={};_.chain(e.modules).omit(i.config.offline.exclude).each(function(e,n){if(e._hash){t.modules[n]={_hash:e._hash,fields:{_hash:e.fields._hash}};_.each(e.fields,function(e,i){if(i==="_hash"){return}t.modules[n].fields[i]={type:e.type,name:e.name}})}});i.cache.set(r,t)},isOnline:function R(){return i.config.offline.debug.online&&window.navigator.onLine},isModuleOfflineEnabled:function D(e){return(i.config.offline.exclude||[]).indexOf(e)===-1},startSyncManager:function I(){if(i.config.offline.enabled&&i.api.isAuthenticated()){i.offline.syncManager.start()}},stopSyncManager:function O(){i.offline.syncManager.stop()},startMonitorStatus:function N(){var e=this;if(this._monitorIntervalId||!i.config.offline.debug.monitorStatus)return;var t=function n(){async.parallel({transactions:function t(n){e.storage.exec([{op:"countTransactions"}],function(e){n(null,e)},function r(e){i.logger.error("Failed to count transactions: "+e);n(e)})},isOutOfSpace:function n(t){e.storage.isOutOfSpace(function(e){return t(null,e)})}},function(t,n){var r=n.transactions||{};r.noConnection=e._noConnection||!e.isOnline();r.isSyncing=e.syncManager.isSyncing();r.lastSyncTs=e.syncManager.lastSyncTs;r.isOutOfSpace=n.isOutOfSpace;if(r.failedTransactions>0||r.isOutOfSpace){r.state=e.State.ERROR}else if(r.noConnection||r.totalTransactions>0){r.state=e.State.WARNING}else{r.state=e.State.OK}e.status=r;e.showStateAlert();i.trigger("offline:status:update",r)})};t();this._monitorIntervalId=window.setInterval(t,i.config.offline.monitorTimeout||1e4)},stopMonitorStatus:function F(){window.clearInterval(this._monitorIntervalId);this._monitorIntervalId=null},showStateAlert:function B(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.ignoreAlertUid,n=t===undefined?false:t;if(this.status.state===this.State.OK||this.status.state===this.State.WARNING&&!this.status.totalTransactions){return}var r=this.status.state===this.State.ERROR;var a=r?"ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS":"WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS";var s=i.lang.get(a,null,{link:"#Offline"});var o={messages:[new Handlebars.SafeString(s)],level:r?"error":"warning",uid:a};if(r&&n){delete o.uid}i.alert.show("offline_state",o)},_onAjaxComplete:function U(e,t){this._noConnection=!t.aborted&&!t.status}};i.offline=c;e.exports=i.offline},function(e,t,n){"use strict";(function(e){var t=function n(e){this._module=e};_.extend(t.prototype,{combiners:{$or:" OR ",$and:" AND "},conditions:{base:{$equals:"=",$not_equals:"!=",$lt:"<",$lte:"<=",$gt:">",$gte:">=",$starts:function i(e,t){return e+' LIKE "'+t+'%"'},$ends:function r(e,t){return e+' LIKE "%'+t+'"'},$contains:function a(e,t){return e+' LIKE "%'+t+'%"'},$not_contains:function s(e,t){return e+' NOT LIKE "%'+t+'%"'},$in:function o(e,t,n){t=n.value;return e+" IN ("+(_.isArray(t)?t.map(this._quotStr).join():t)+")"},$not_in:function l(e,t,n){t=n.value;return e+" NOT IN ("+(_.isArray(t)?t.map(this._quotStr).join():t)+")"},$is_null:function u(e){return e+" ISNULL"},$not_null:function c(e){return e+" NOTNULL"},$empty:function d(e){return"("+e+'="")'},$not_empty:function f(e){return"("+e+'!="")'},$dateBetween:function h(t,n,i){n=i.value;var r=e.metadata.getModule(this._module).fields[t]||{};var a=r.type==="date";var s=a?n[0]:e.date.utc(n[0]).startOf("day").toDate();var o=a?n[1]:e.date.utc(n[1]).endOf("day").toDate();s=this._quotStr(this._getValue(s,t));o=this._quotStr(this._getValue(o,t));return t+" BETWEEN "+s+" AND "+o},$between:function p(e,t,n){t=n.value;return e+" BETWEEN "+this._quotStr(t[0])+" AND "+this._quotStr(t[1])},$dateRange:function m(e,t,n){t=n.value;var i=this._parseRange(t);if(i){var r={field:e,value:i[0],condition:"$gte"};var a={field:e,value:i[1],condition:"$lte"};return this._buildCondition(r)+" AND "+this._buildCondition(a)}return false}},byType:{tag:{$in:function g(e,t,n){t=n.value.join("|");return e+' REGEXP "^.*""name"":""('+t+')"".*$"'},$not_in:function v(e,t,n){var i=e+" ISNULL OR "+e+' REGEXP "^((?!';i+=_.map(n.value,function(e){return'""name"":""'+e+'""'}).join("|");i+=').)*$"';return i},$empty:function b(e){return e+'="[]" OR '+e+" ISNULL"},$not_empty:function y(e){return e+'!="[]" AND '+e+" NOTNULL"}},team_list:{$equals:function x(e,t){return'team_name LIKE "%""id"":""'+t+'""%"'},$not_equals:function S(e,t){return'team_name NOT LIKE "%""id"":""'+t+'""%"'}},json:{},email:{},teamset:{},metadata:{},multienum:{}}},customFilters:{$favorite:function w(){return{filter:{field:"my_favorite",condition:"$equals",value:1}}},$owner:function L(){return e.metadata.getModule(this._module,"fields").assigned_user_id?{sql:'"assigned_user_id"='+this._quotStr(e.user.get("id")),fields:["assigned_user_id"]}:false},$tracker:function E(t){var n=this._parseDate(t.value);return n?{sql:'id IN (SELECT bean_id FROM _view_dates WHERE bean_module="'+this._module+'" AND date_last_viewed>="'+e.utils.getTimestamp(n)+'")'}:false},$creator:function k(){return{filter:{field:"created_by",condition:"$equals",value:e.user.get("id")},fields:["created_by"]}},$following:function A(){return{filter:{field:"following",condition:"$equals",value:1}}}},getExtractedFields:function M(){return _.unique(this._filterFields)},buildSql:function T(e,t){var n;this._filterFields=[];n=this._buildSql(e,"");if(t&&t.omitParentheses&&n){n=n.replace(/^\(|\)$/g,"")}return n},_buildSql:function C(e,t,n){for(var i=0,r=e.length;i<r;i++){var a=e[i];var s;if(a.operator){s=C.call(this,a.filters,"",this.combiners[a.operator]);if(s){t+="("+s+")"}}else{s=this._buildCondition(a);if(s){t+=s}}if(s&&r-i>1){t+=n}else if(s===false){return false}}return t},_buildCondition:function R(e){var t;var n;var i;var r;var a;var s;var o;t=this.customFilters[e.field];if(t){t=t.call(this,e);if(t===false){return false}else if(t.sql){this._filterFields.push.apply(this._filterFields,t.fields);return t.sql}else if(t.filter){e=t.filter}}r=this._getCondition(e);if(!r){return false}n=e.field;i=e.value;a=this._getField(n);s=this._getValue(i,n);if(!a){return false}if(n.indexOf(".")!==-1){return this._processLink(e)}if(_.isFunction(r)){o=r.call(this,a,s,{field:n,value:i})}else if(_.isString(r)){o=a+r+this._quotStr(s)}if(o){this._filterFields.push(n);return o}return false},_processLink:function D(n){var i=n.field;var r=i.split(".");var a=r[0];var s=e.offline.storage.getRelationshipByLink(this._module,a);var o=e.offline.storage.RelTypes;var l=function h(e){return new t(e).buildSql([{operator:"$and",filters:[{field:i,condition:"$equals",value:n.value}]}],{omitParentheses:true})};var u;var c;var d;var f;i=r[1];if(s.relationship_type===o.MANY_TO_MANY){f=e.offline.storage._wrapManyToManyRelationship(this._module,a);d=l(f.dataTable);if(d){c="SELECT lt."+f.parentKey+" FROM "+f.parentModule+" lt INNER JOIN "+f.relationshipTable+" jt ON lt."+f.parentKey+"="+"jt."+f.parentIdColumn+" INNER JOIN "+f.dataTable+" rt ON rt."+f.childKey+"="+"jt."+f.childIdColumn;u=f.parentKey+" IN ("+c+" WHERE rt."+d+")"}}else if(s.relationship_type===o.ONE_TO_MANY){d=l(s.rhs_module);if(d){c="SELECT lt."+s.lhs_key+" FROM "+s.lhs_table+" lt INNER JOIN "+s.rhs_table+" rt ON lt."+s.lhs_key+"="+"rt."+s.rhs_key;u=s.lhs_key+" IN ("+c+" WHERE rt."+d+")"}}return u||false},_getCondition:function I(t){var n=t.condition;var i=this.conditions;var r=e.metadata.getModule(this._module).fields[t.field];var a=r&&r.type;return i.byType[a]?i.byType[a][n]:i.base[n]},_quotStr:function O(e){return'"'+e+'"'},_getValue:function N(t,n){return e.offline.storage._getValue(t,n,this._module,e.metadata.getModule(this._module).fields)},_getField:function F(e){var t=e;switch(e){case"date_modified":t="_client_date_modified";break}return t},_dateRanges:{yesterday:["days",-1,-1],today:["days",0,0],tomorrow:["days",1,1],last_7_days:["days",-6,0],next_7_days:["days",0,6],last_30_days:["days",-29,0],next_30_days:["days",0,29],next_month:["months",1,1],this_month:["months",0,0],last_month:["months",-1,0],last_year:["years",-1,0],this_year:["years",0,0],next_year:["years",1,1]},_parseRange:function B(t){var n=this._dateRanges[t];if(!n){return false}var i=n[0];var r=e.date.utc().add(n[1],i).startOf(i).toDate();var a=e.date.utc().add(n[2],i).endOf(i).toDate();return[e.utils.getTimestamp(r),e.utils.getTimestamp(a)]},_parseDate:function U(t){var n=e.date.utc();var i="month";var r;switch(t){case"first day of this month":r=n.startOf(i);break;case"first day of next month":r=n.add(1,"month").startOf(i);break;case"last day of this month":r=n.endOf("month");break;case"last day of next month":r=n.add(1,i).endOf(i);break}if(r){return r.toDate()}r=e.date.phpStrToTime(t);if(r){return new Date(r*1e3)}return false}});e.offline.SqlFilterBuilder=t})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t=["date_entered",["date_modified","my_favorite"],["assigned_user_id","date_modified"]];function n(e){return e.replace(/'/g,"''")}function i(e){return c.getSqlTypeByMetaType(e.type)===c.DEFAULT_TEXT_COLUMN_TYPE}function r(e,t){if(_.isArray(t)){t=t.join("_")}return'"'+e+"_"+t+'_IDX"'}function a(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var i=r(e,t);if(_.isArray(t)){t=""+t.join('" '+n+', "')}return"CREATE INDEX IF NOT EXISTS "+i+' ON "'+e+'"("'+t+'" '+n+")"}function s(e,t){return"DROP INDEX IF EXISTS "+r(e,t)}function o(n,i){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},o=r.dropExisting;if(!e.offline.isModuleOfflineEnabled(n)){return}var l=[];_.each(t,function(e){if(!_.isArray(e)){e=[e]}var t=_.all(e,function(e){return i.fields[e]});if(!t){return}e=_.map(e,function(e){return e==="date_modified"?"_client_date_modified":e});if(o){l.push(s(n,e))}l.push(a(n,e))});return l}function l(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.dropExisting;var o=e.offline.storage.offlineMeta[t];var l=[];_.each(o.searchFields,function(e){var n=e.name;if(r){l.push(s(t,n))}l.push(a(t,n,i(e)?"COLLATE NOCASE":""))});return l}function u(t){var n=[];var i=["created_by","modified_user_id","assigned_user_id"];var r=e.metadata.get();_.each(t,function(t){if(t.type===e.offline.storage.RelTypes.MANY_TO_MANY){return}var o=t.childModule;var l=t.parentIdColumn;if(r.modules[o]&&e.offline.isModuleOfflineEnabled(o)&&i.indexOf(l)===-1){var u=a(o,l);if(n.indexOf(u)===-1){n.push(s(o,l),u)}}});return n}var c=function d(e,t,n){this.name=e;this.definition=t;this._tableName=e;this.fields=n;var i=_.map(this.fields,function(e){return'"'+e.name+'"'});i.unshift('"_acl"');i.unshift('"_deleted"');i.unshift('"_client_date_modified"');i.unshift('"id"');var r=_.map(i,function(e){return e+"=?"});var a="("+i.join(",")+")";var s="SET "+r.join(",");var o=[];_.times(i.length,function(){o.push("?")});var l="("+o.join(",")+")";this.sqlCreate='REPLACE INTO "'+this._tableName+'" '+a+" VALUES "+l;this.sqlReplace='REPLACE INTO "'+this._tableName+'" '+a+" VALUES "+l;this.sqlUpdate='REPLACE INTO "'+this._tableName+'" '+s+" WHERE id=?";this.sqlMarkDeleted="UPDATE "+this._tableName+" SET _deleted=1 WHERE id=?";this.sqlResetDeleted="UPDATE "+this._tableName+" SET _deleted=0 WHERE id=?";this.sqlSelectOne="SELECT * FROM "+this._tableName+" WHERE id=? AND _deleted=0";this.sqlSelectOneWithDeleted="SELECT * FROM "+this._tableName+" WHERE id=?"};_.extend(c.prototype,{buildSqlReadModuleRecordsByIds:function f(e,t){e='"'+(_.isArray(e)?e:[e]).join('","')+'"';t=_.isEmpty(t)?"*":'"'+t.join('","')+'"';return"SELECT "+t+' FROM "'+this._tableName+'" WHERE id IN ('+e+")"},getSchema:function h(t,n){var i=[];var r=[];r.push('"id" TEXT PRIMARY KEY COLLATE NOCASE');r.push('"_client_date_modified" TEXT COLLATE NOCASE');r.push('"_deleted" INTEGER DEFAULT 0');r.push('"_acl" TEXT COLLATE NOCASE');function a(e,t){return'"'+e+'"'+t}_.each(this.fields,function(t){if(_.isEmpty(t.name)){return}var i=c.getSqlTypeByMetaType(t.type);var s=a(t.name,i);if(_.contains(r,s)){e.logger.warn(s+" column already exists in "+this.name+" table. Skipping")}else{r.push(s);if(t.type==="email"&&!n.fields.email1){r.push(a("email1",i))}}},this);i.push('DROP TABLE IF EXISTS "'+this._tableName+'"');i.push('CREATE TABLE "'+this._tableName+'" ('+r.join(",")+")");i=i.concat(o(t,n,{dropExisting:true})).concat(l(t,{dropExisting:true}));return i},buildSqlSelectMany:function p(t){var n=t.offset||0;var i=t.max_num||e.config.maxQueryResult;var r=t.selectFields;var a=_.isEmpty(r)?"*":_.isArray(r)?r.join():r;var s=c.buildOrderBy(this.name,t);var o="SELECT {0} FROM {1} "+c.buildWhere(this.name,t,{andSql:"_deleted=0"})+" ORDER BY {4} LIMIT {2},{3}";return e.utils.formatString(o,[a,this._tableName,n,i,s])},buildSqlUpdate:function m(e,t){var n=_.map(t,function(e){return e+"=?"});var i="SET "+n.join(",");return'UPDATE "'+this._tableName+'" '+i+" WHERE id=?"},buildSqlDelete:function g(e){e=_.map(e,function(e){return"'"+e+"'"});return"DELETE FROM '"+this._tableName+"' WHERE id IN ("+e.join()+")"}});c.DEFAULT_TEXT_COLUMN_TYPE=" TEXT COLLATE NOCASE";c.getSqlTypeByMetaType=function v(e){var t;switch(e){case"bool":case"boolean":case"int":case"integer":t=" INTEGER";break;case"float":case"double":case"currency":t=" REAL";break;default:t=this.DEFAULT_TEXT_COLUMN_TYPE;break}return t};c.buildWhere=function(t,n,i){var r=c.buildSearchQuery(t,n,i);var a=n.filter;var s;var o;if(n.filterParsed&&n.filterParsed.isSupported){s=n.filterParsed.filterSql}else{a=e.offline.convertReadRecordsFilter(n,t);s=a&&a.isSupported?a.filterSql:""}o=_.compact([s,r,i.andSql]).join(" AND ");return o?"WHERE "+o:""};c.buildSearchQuery=function(t,r,a){if(!r.q){return""}var s=r.q.indexOf("?")!==-1||r.q.indexOf("*")!==-1;r.q=n(r.q.trim());var o=_.map(e.offline.storage.offlineMeta[t].searchFields,function(e){return s||i(e)?e.name+" "+(s?"GLOB":"LIKE")+" '"+(r.q+(s?"*":"%"))+"'":e.name+" ='"+r.q+"'"}).join(" OR ");return o?"("+o+")":""};c.buildFilterQuery=function(t,n){if(!n){return}var i=new e.offline.SqlFilterBuilder(t);var r=i.buildSql(n);var a=i.getExtractedFields();return{sql:r,fields:a}};c.buildOrderBy=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!n.order_by){return"_client_date_modified DESC"}var i=n.order_by.replace(/\b(?!_client_)date_modified\b/g,"_client_date_modified").replace(/\bemail\b/g,"email1");var r=/\bname\b/g;if(r.test(i)){var a=e.metadata.getModule(t,"fields").name;if(a.group){i=i.replace(r,a.group)}}return i.replace(/:/g," ")};c.relationships={getCreateSchemaStatements:function b(t){var n=[];var i=e.offline.storage.offlineMeta.modules;_.each(t,function(t){if(t.type===e.offline.storage.RelTypes.MANY_TO_MANY){n.push(e.utils.formatString('DROP TABLE IF EXISTS "{0}"',[t.relationshipTable]));if(!(i[t.parentModule]&&i[t.childModule])){return}var r="";var a=t.additionalColumns;if(!_.isEmpty(a)){var s=[];_.each(a,function(t,n){s.push(e.utils.formatString('"{0}" TEXT COLLATE NOCASE',[n]))},this);r=s.join(",")}if(t.primaryFlagModule){r+='"primary_flag" INTEGER DEFAULT 0'}var o='CREATE TABLE "{0}" ("{1}" TEXT COLLATE NOCASE, "{2}" TEXT COLLATE NOCASE, "_client_date_modified" TEXT COLLATE NOCASE, "_deleted" INTEGER DEFAULT 0,{3} PRIMARY KEY ("{1}","{2}"))';o=o.replace(/\{0\}/g,t.relationshipTable);o=o.replace(/\{1\}/g,t.parentIdColumn);o=o.replace(/\{2\}/g,t.childIdColumn);o=o.replace(/\{3\}/g,r?r+",":"");n.push(o)}},this);n.push.apply(n,u(t));return n},_getRelColumnsAliasSql:function y(t){var n="";if(!_.isEmpty(t.additionalColumns)){n+=",";var i=[];_.each(t.additionalColumns,function(t,n){i.push(e.utils.formatString("r.{0} AS {1}",[n,t]))},this);n+=i.join(",")}return n},buildSqlSelectSingleRelated:function x(t,n){var i=e.offline.storage.getRelationshipByLink(t,n.link);var r=i.type;if(r===e.offline.storage.RelTypes.MANY_TO_MANY){var a=this._getRelColumnsAliasSql(i);var s=e.utils.formatString('SELECT d.*,r.*{0} FROM {1} AS d JOIN {2} AS r ON (d.id=r.{3} AND r.{5}="{6}") WHERE (d._deleted=0 AND r._deleted=0 AND d.id="{4}")',[a,n.relatedModule,i.relationshipTable,i.childIdColumn,n.relatedId,i.parentIdColumn,n.id]);if(i.singleModule){var o=e.utils.formatString('SELECT d.*,r.*{0} FROM {1} AS d JOIN {2} AS r ON (d.id=r.{3} AND r.{5}="{6}") WHERE (d._deleted=0 AND d.id="{4}")',[a,n.relatedModule,i.relationshipTable,i.parentIdColumn,n.relatedId,i.childIdColumn,n.id]);s=s+" UNION "+o}return s}else{return e.utils.formatString('SELECT * FROM {0} WHERE id="{1}" AND _deleted=0',[n.relatedModule,n.relatedId])}},buildSqlSelectManyRelated:function S(t,n,i){var r=e.offline.storage.getRelationshipByLink(t,n.link);var a=e.offline.storage.RelTypes;var s=void 0;var o=void 0;if(r.type===a.MANY_TO_MANY){var l='(r._deleted=0 AND d._deleted=0 AND r.{4}="{5}")'+(n.relatedIds?' AND (d.id IN ("'+n.relatedIds.join('","')+'")) ':"");var u=this._getRelColumnsAliasSql(r);var d=c.buildWhere(r.childModule,i,{andSql:l});var f="SELECT d.*,r.*{6} FROM {0} AS r JOIN {1} AS d ON r.{2}=d.id "+d;o=r.parentModule;s=e.utils.formatString(f,[r.relationshipTable,o,r.childIdColumn,r.childIdColumn,r.parentIdColumn,n.id,u]);if(r.singleModule){o=r.childModule;var h=e.utils.formatString(f,[r.relationshipTable,o,r.parentIdColumn,r.childIdColumn,r.childIdColumn,n.id,u]);s+=" UNION "+h}}else if(r.type===a.ONE_TO_MANY||r.type===a.ONE_TO_MANY_BY_ROLE_COLUMN){var p="SELECT * FROM {0} ";var m='({1}="{2}" AND _deleted=0)'+(n.relatedIds?' AND (id IN ("'+n.relatedIds.join('","')+'")) ':"");var _=c.buildWhere(r.childModule,i,{andSql:m});o=r.childModule;s=e.utils.formatString(p+_,[o,r.parentIdColumn,n.id])}if(!n.relatedIds){var g=i.offset||0;var v=i.max_num||e.config.maxQueryResult;var b=r.type===a.MANY_TO_MANY?c.buildOrderBy(o,i.order_by?i:{order_by:"d._client_date_modified:DESC, d._last_fetched:ASC"}):c.buildOrderBy(o,i);s+=" ORDER BY "+b+" LIMIT "+g+","+v}return s},buildSqlReplaceRelationship:function w(t,n,i){i=i||{};var r=n.relDef||e.offline.storage.getRelationshipByLink(t,n.link);var a=r.type;if(a===e.offline.storage.RelTypes.ONE_TO_MANY||a===e.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){if(!n.id||i.skipUpdateRelRecord){return}var s=i.ts?e.utils.formatString(', _client_date_modified="{0}"',[i.ts]):"";var o=r.parentNameFieldDef;if(o&&n.related&&_.isEmpty(n.related[o.name])){s+=e.utils.formatString(', {0}=(SELECT {1} FROM {2} WHERE id="{3}")',[o.name,"name",t,n.id]);if(_.isEmpty(n.related.parent_type)&&a===e.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){s+=e.utils.formatString(', parent_type="{0}"',[t])}}return e.utils.formatString('UPDATE {0} SET {1}="{2}"{3} WHERE id="{4}"',[r.childModule,r.parentIdColumn,n.id,s,n.relatedId])}else{var l='REPLACE INTO "{0}" ({1}) VALUES ({2})';var u=[];var c;c=[r.parentIdColumn,r.childIdColumn,"_client_date_modified","_deleted"];if(!n.id&&r){n.id=n.related[r.parentIdColumn]}if(!n.id){return}var d=[n.id,n.relatedId,i.ts||e.utils.getTimestamp(),0];_.each(r.additionalColumns,function(e,t){if(n.related&&!_.isEmpty(n.related[e])){c.push(t);d.push(n.related[e])}});if(r.primaryFlagModule){if(n.id){c.push("primary_flag");d.push(1);u.push({sql:e.utils.formatString('UPDATE "{0}" SET "{3}"={4} WHERE {1}="{2}"',[r.relationshipTable,r.childIdColumn,n.relatedId,"primary_flag","0"])})}}c='"'+c.join('","')+'"';d='"'+d.join('","')+'"';if(r.originalType===e.offline.storage.RelTypes.ONE_TO_MANY){u.push({sql:e.utils.formatString('DELETE FROM "{0}" WHERE {1}="{2}"',[r.relationshipTable,r.childIdColumn,n.relatedId])})}else if(r.originalType===e.offline.storage.RelTypes.ONE_TO_ONE){u.push({sql:e.utils.formatString('DELETE FROM "{0}" WHERE {1}="{2}"',[r.relationshipTable,r.parentIdColumn,n.id])})}u.push({sql:e.utils.formatString(l,[r.relationshipTable,c,d])});if(e.offline.storage._shouldCustomRelUpdateChild(r,i)){
var f=r.primaryFlagModule?e.metadata.getModule(r.primaryFlagModule):null;var h=f?e.data.getRelateFields(r.primaryFlagModule,r.link)[0]:e.data.getRelateFields(r.childModule,r.name)[0];if(h){[].push.apply(u,this.buildCustomRelUpdateChild(h,r,n,false))}}return u}},buildDeleteRelationship:function L(t,n,i){i=i||{};var r=n.relDef||e.offline.storage.getRelationshipByLink(t,n.link);var a=r.type;var s;if(a===e.offline.storage.RelTypes.ONE_TO_MANY||a===e.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){if(i.skipUpdateRelRecord){return}var o=i.ts?',_client_date_modified="'+i.ts+'"':"";if(a===e.offline.storage.RelTypes.ONE_TO_MANY){var l=r.parentNameFieldDef;if(l){s="UPDATE {0} SET {1}=NULL, "+l.name+'=NULL {3} WHERE id="{2}"'}else{s='UPDATE {0} SET {1}=NULL {3} WHERE id="{2}"'}}else{s='UPDATE {0} SET parent_type=NULL, parent_name=NULL, {1}=NULL {3} WHERE id="{2}"'}return e.utils.formatString(s,[r.childModule,r.parentIdColumn,n.relatedId,o])}else{var u=[];if(!n.id&&r){n.id=n.related[r.parentIdColumn]||i.initialState&&i.initialState[r.parentIdColumn]}if(!n.id){return}if(r.singleModule){var c;if(i.hardDelete){s='DELETE FROM {0} WHERE (({1}="{2}" AND {3}="{4}") OR ({3}="{2}" AND {1}="{4}"))';c=s.replace(/\{0\}/g,r.relationshipTable).replace(/\{1\}/g,r.parentIdColumn).replace(/\{2\}/g,n.id).replace(/\{3\}/g,r.childIdColumn).replace(/\{4\}/g,n.relatedId)}else{s='UPDATE {0} SET _deleted=1,_client_date_modified="{5}" WHERE (({1}="{2}" AND {3}="{4}") OR ({3}="{2}" AND {1}="{4}"))';c=s.replace(/\{0\}/g,r.relationshipTable).replace(/\{1\}/g,r.parentIdColumn).replace(/\{2\}/g,n.id).replace(/\{3\}/g,r.childIdColumn).replace(/\{4\}/g,n.relatedId).replace(/\{5\}/g,i.ts||e.utils.getTimestamp())}return c}else{var d=r.primaryFlagModule?", primary_flag=0":"";s=i.hardDelete?'DELETE FROM {0} WHERE {1}="{2}" AND {3}="{4}"':"UPDATE {0} SET _deleted=1"+d+',_client_date_modified="{5}" WHERE {1}="{2}" AND {3}="{4}"';u.push({sql:e.utils.formatString(s,[r.relationshipTable,r.parentIdColumn,n.id,r.childIdColumn,n.relatedId,i.ts||e.utils.getTimestamp()])})}if(r.primaryFlagModule){u.push({sql:'UPDATE {0} SET primary_flag=1 WHERE {1}="{2}" AND _client_date_modified=(SELECT MAX(_client_date_modified) FROM {0} WHERE {1}="{2}" AND _deleted=0)'.replace(/\{0\}/g,r.relationshipTable).replace(/\{1\}/g,r.childIdColumn).replace(/\{2\}/g,n.relatedId)})}if(e.offline.storage._shouldCustomRelUpdateChild(r,i)){var f=r.primaryFlagModule?e.data.getRelateFields(r.primaryFlagModule,r.link)[0]:e.data.getRelateFields(r.childModule,r.name)[0];if(f){[].push.apply(u,this.buildCustomRelUpdateChild(f,r,n,true))}}return u}},buildCustomRelUpdateChild:function E(t,n,i,r){var a=n.originalType===e.offline.storage.RelTypes.ONE_TO_ONE;var s;var o;var l;var u;var c;var d;var f;var h;var p=[];if(a){s=n.parentIdColumn;o=n.childIdColumn;l=n.childModule;u=n.parentModule;c=r?"":i.relatedId;d=i.id}else{s=n.childIdColumn;o=i.relatedModule?n.parentIdColumn:n.childIdColumn;l=n.parentModule;u=n.childModule;c=r?"":i.id;d=i.relatedId}f=r?"''":e.utils.formatString("(SELECT name FROM {0} WHERE id='{1}')",[u,c]);h="UPDATE {0} SET {1}={2}, {3}='{4}' WHERE id='{5}'";if(a&&!r){var m="(SELECT {0} FROM {1} WHERE id='{2}')";var _="UPDATE {0} SET {1}={2}, {3}='{4}' WHERE id={5}";var g=e.utils.formatString(m,[o,l,d]);var v=e.utils.formatString(m,[s,u,c]);var b=e.utils.formatString(m,["name",u,c]);p.push({sql:e.utils.formatString(_,[u,t.name,"''",s,"",g])});p.push({sql:e.utils.formatString(_,[l,t.name,"''",o,"",v])});p.push({sql:e.utils.formatString(h,[l,t.name,b,o,c,d])})}else if(n.primaryFlagModule){c=e.utils.formatString('(SELECT {0} FROM {1} WHERE {2}="{3}" AND primary_flag=1 AND _deleted=0)',[o,n.relationshipTable,n.childIdColumn,i.relatedId]);f=e.utils.formatString("(SELECT name FROM {0} WHERE id={1})",[t.module,c]);var y="UPDATE {0} SET {1}={2} WHERE id='{3}'";var x="UPDATE {0} SET {1}={2} WHERE id='{3}' AND {4}";var S=e.utils.formatString("EXISTS (SELECT id FROM {0} WHERE id={1})",[u,c]);p.push({sql:e.utils.formatString(x,[l,t.name,f,d,S])});p.push({sql:e.utils.formatString(y,[l,o,c,d])})}else{p.push({sql:e.utils.formatString(h,[l,t.name,f,o,c,d])})}return p},buildSqlUpdateChildren:function k(t,i){var r=[];var a=e.offline.storage._getModuleRelationships(t);var s=_.filter(a,function(n){return n.type!==e.offline.storage.RelTypes.MANY_TO_MANY&&n.parentModule===t},this);_.each(s,function(t){if(t.parentNameFieldDef){r.push(e.utils.formatString("UPDATE {0} SET {1}='{2}' WHERE {3}='{4}'",[t.childModule,t.parentNameFieldDef.name,n(i.name),t.parentIdColumn,i.id]))}},this);return r.length>0?r:null},buildSqlCleanRelationships:function A(t,n,i){i=i||{};var r;var a={};var s=[];var o;var l;r=e.offline.storage._getModuleRelationships(t);_.each(r,function(r){if(r.type!==e.offline.storage.RelTypes.MANY_TO_MANY){if(i.skipOneToManyChildren){return}if(r.parentModule===t){var u=r.childModule;o=r.parentIdColumn;l=e.metadata.getModule(u);if(l.fields[o]){a[u]=a[u]||{};a[u][o]="parent_id"}}}else{var c=r.relationshipTable;o=r.parentIdColumn;s.push(e.utils.formatString('DELETE FROM {0} WHERE {1}="{2}"',[c,o,n.id]))}},this);_.each(a,function(t,n){var i=e.metadata.getModule(n).fields;var r;_.each(t,function(i,r){var a=e.data.getRelatedNameField(n,r);if(a){t[a.name]="parent_name"}});r=_.keys(t);if(_.contains(r,"parent_id")&&_.contains(r,"parent_name")&&i.parent_type){t.parent_type="parent_type"}});_.each(a,function(t,i){var r=[];var a=[];var o="UPDATE {0} SET {1} WHERE {2}";_.each(t,function(e,t){r.push(t+"=NULL");if(e==="parent_id"){a.push(t+'="'+n.id+'"')}});r=r.join(",");a=a.join(" OR ");s.push(e.utils.formatString(o,[i,r,a]))});return s}};c.init=function(e){};c.getDropTableStatement=function(e){return'DROP TABLE "'+e+'"'};c.getSelectTablesStatement=function(){return"SELECT tbl_name FROM sqlite_master WHERE type='table' AND tbl_name<>'__WebKitDatabaseInfoTable__'"};c.getDropTableStatements=function(e){return _.map(e,function(e){return c.getDropTableStatement(e)})};c.getAlterTableStatement=function(t,n){var i=n.name;var r=c.getSqlTypeByMetaType(n.type);return e.utils.formatString('ALTER TABLE {0} ADD COLUMN "{1}" {2}',[t,i,r])};c.getResetDateModifiedStatement=function(t,n){return e.utils.formatString('UPDATE {0} SET _client_date_modified=date_modified WHERE id="{1}"',[t,n.id])};c.getStatsRetrieveStatements=function(e){var t="(SELECT COUNT(*) FROM {0}) AS {0}"+(e.includeRecents?",(SELECT COUNT(*) FROM {0} JOIN _view_dates ON {0}.id=_view_dates.bean_id) AS {0}_Viewed":"");var n=_.map(e.modules,function(e){return t.replace(/\{0\}/g,e)});return"SELECT "+n.join(", ")};c.transactionLog={getCreateSchemaStatements:function M(){var e=[];e.push('DROP TABLE IF EXISTS "_tx_log"');e.push('CREATE TABLE "_tx_log" ("_tx_uid" TEXT COLLATE NOCASE PRIMARY KEY, "_tx_action" INTEGER, "_tx_ts" TEXT COLLATE NOCASE, "_tx_bean_id" TEXT COLLATE NOCASE,"_tx_bean_module" TEXT COLLATE NOCASE, "_tx_related_id" TEXT COLLATE NOCASE, "_tx_related_module" TEXT COLLATE NOCASE, "_tx_updated_fields" TEXT COLLATE NOCASE, "_tx_link" TEXT COLLATE NOCASE, "_tx_error" TEXT COLLATE NOCASE, "_tx_error_count" INTEGER DEFAULT 0)');e.push("DROP INDEX IF EXISTS _tx_log_ts_IDX");e.push('CREATE INDEX _tx_log_ts_IDX ON "_tx_log" ("_tx_ts")');e.push("DROP INDEX IF EXISTS _tx_log_bean_id_IDX");e.push('CREATE INDEX _tx_log_bean_id_IDX ON "_tx_log" ("_tx_bean_id" COLLATE NOCASE)');return e},getCountAssociatedTransactionsStatements:function T(t){return e.utils.formatString('SELECT COUNT(*) AS count FROM _tx_log WHERE _tx_bean_id="{0}" AND _tx_uid!="{1}"',[t._tx_bean_id,t._tx_uid])},getReadTransactionsStatements:function C(t){var n="ORDER BY ";if(t.errFirst){n+='"_tx_error_count" = 0, '}n+='"_tx_ts" '+(t.dateAsc?"ASC":"DESC");return e.utils.formatString('SELECT * FROM "_tx_log" {0} LIMIT ?,?',[n])},sqlTxLogAction:'INSERT INTO "_tx_log" ("_tx_action", "_tx_ts", "_tx_bean_id", "_tx_bean_module", "_tx_related_id", "_tx_related_module", "_tx_updated_fields", "_tx_uid", "_tx_link") VALUES (?,?,?,?,?,?,?,?,?)',updateTransaction:function R(t,n){var i=[];_.each(n,function(e,t){i.push(t+"="+"'"+e+"'")});return e.utils.formatString("UPDATE _tx_log SET "+i.join(",")+" WHERE _tx_uid='{0}'",[t])},getTxLog:'SELECT * FROM "_tx_log" WHERE _tx_uid = ?',_deleteTransaction:"DELETE FROM _tx_log WHERE _tx_uid = ?",clearTransactionLog:"DELETE FROM _tx_log",countTransactions:"SELECT (SELECT COUNT(*) FROM _tx_log WHERE _tx_error in ("+e.offline.TransactionStatuses.UNRECOVERABLE.join(",")+")) AS failedTransactions, (SELECT COUNT(*) FROM _tx_log) AS totalTransactions"};c.lastViewed={buildRead:function D(e){return'SELECT * FROM "_view_dates" ORDER BY "date_last_viewed"'+(e?"":"DESC")+" LIMIT ?"},buildReadForRecords:function I(e){return'SELECT * FROM "_view_dates" WHERE "bean_id" IN ("'+e.join('","')+'")'},buildReadForModule:function O(e){return'SELECT "'+e+'".*, "_view_dates"."date_last_viewed" as "_last_viewed_date" FROM "'+e+'" INNER JOIN "_view_dates" ON "_view_dates"."bean_id" = "'+e+'"."id" WHERE _deleted=0 ORDER BY "_view_dates"."date_last_viewed" DESC LIMIT ?'},getCreateSchemaStatements:function N(){var e=[];e.push('DROP TABLE IF EXISTS "_view_dates"');e.push('CREATE TABLE "_view_dates" ("bean_id" TEXT COLLATE NOCASE PRIMARY KEY, "bean_module" TEXT COLLATE NOCASE, "date_last_viewed" TEXT COLLATE NOCASE)');return e},buildReplace:function F(t,n,i){var r=i.ts||e.utils.getTimestamp();var a=_.isArray(n)?_.map(n,function(e){return'("'+e.id+'","'+e.module+'","'+(e.ts||r)+'")'}).join():'("'+n.id+'","'+t+'","'+r+'")';return'REPLACE INTO "_view_dates" ("bean_id","bean_module", "date_last_viewed") VALUES '+a},buildDelete:function B(e){e=_.map(e,function(e){return"'"+e.id+"'"});return"DELETE FROM _view_dates WHERE bean_id IN ("+e.join()+")"},buildFindViewedBefore:function U(t,n){var i=n.expirationDate,r=n.includeUserRecords,a=n.limit;var s=e.user.get("id");var o="SELECT name, id"+(" FROM "+t+" AS d LEFT JOIN _view_dates AS v on d.id=v.bean_id");if(i){o+=' WHERE (v.date_last_viewed IS NULL OR v.date_last_viewed < "'+i+'")'}if(!r){o+=" AND my_favorite = 0"+" AND following = 0"+(' AND assigned_user_id <> "'+s+'"')}o+=" ORDER BY v.date_last_viewed ASC";if(a){o+=" LIMIT "+a}return o},buildCleanupMyModule:function P(t){return e.utils.formatString('DELETE FROM _view_dates WHERE bean_module="{0}"',[t])}};c.sync={getCreateSchemaStatements:function Y(){var e=[];e.push('DROP TABLE IF EXISTS "_to_be_synced"');e.push('CREATE TABLE "_to_be_synced" ("bean_id" TEXT COLLATE NOCASE PRIMARY KEY, "bean_module" TEXT COLLATE NOCASE, "action" TEXT COLLATE NOCASE)');return e},getMarkToBeSyncedSql:function H(t,n){return e.utils.formatString('REPLACE INTO "_to_be_synced" ("bean_id","bean_module", "action") VALUES ("{0}","{1}","{2}")',[n.record.id,t,n.action])},getResetToBeSyncedSql:function G(e,t){var n=_.pluck(t.records,"id");return'DELETE FROM "_to_be_synced" WHERE "bean_id" IN ("'+n.join('","')+'")'},getReadToBeSyncedSql:function V(t,n,i){var r=e.utils.formatString('SELECT * FROM "_to_be_synced" WHERE bean_module="{0}" ORDER BY bean_id',[t]);if(!_.isUndefined(i.offset)){r+=e.utils.formatString(" LIMIT {0},{1}",[i.offset,i.max_num])}return r}};c.upgrade={getUpgrade1Sql:function j(t){var n=[];_.each(t.relationships,function(t){if(t.primary_flag_column){n.push(e.utils.formatString('ALTER TABLE {0} ADD COLUMN "primary_flag" INTEGER DEFAULT 0',[t.join_table]))}});Array.prototype.push.apply(n,c.sync.getCreateSchemaStatements());return n},getUpgrade3Sql:function z(t){var n=[];function r(t,r){n.push(s(r,"date_modified"));var a=_.pluck(e.offline.storage.offlineMeta[r].searchFields,"name");_.each(t.fields,function(e){if(!e){return}var t=false;if(e.unified_search){t=!(_.contains(a,e.name)&&i(e))}if(e.name==="name"&&!_.contains(a,"name")){t=true}if(t){n.push(s(r,e.name))}})}_.each(t.modules,function(e,t){r(e,t);n.push.apply(n,o(t,e));n.push.apply(n,l(t))});n.push.apply(n,u(e.offline.storage.offlineMeta.relationships));n.push("ANALYZE");return n}};e.offline.SqlHelper=c})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t={};var n={};var i;var r;var a=["email","teamset","multienum","metadata","json","tag"];var s=_.chain(["id","date","datetime","datetimecombo"]).union(a).without("email").value();var o=void 0;function l(){o={};var t=e.metadata.getModules();_.each(t,function(e,t){var n=_.filter(e.fields,function(e){return e.type==="bool"});if(!_.isEmpty(n)){o[t]=_.pluck(n,"name")}})}function u(e,t){_.each(e,function(e){var n=o[t];if(n){_.each(n,function(t){if(!_.isUndefined(e[t])){e[t]=Boolean(e[t])}})}})}function c(e){return _.any(e,function(e){return _.isArray(e.sql)?c(e.sql):/^\s*(UPDATE|INSERT|REPLACE)/i.test(e.sql)})}function d(e){return _.isEmpty(e)||_.isEmpty(e.fields)&&_.isEqual(_.keys(e),["fields"])}function f(t,n){if(t.code===4){return e.offline.Error.OutOfSpaceError}return new e.offline.Error(t.code,t.message,null,t,n)}function h(n,i){var r=[i.id,i._client_date_modified?e.utils.getTimestamp(i._client_date_modified):undefined,i._deleted==1?1:0,d(i._acl)?null:JSON.stringify(i._acl)];var a=e.metadata.getModule(n).fields;_.each(t[n].fields,function(e){r.push(p(i[e.name],e.name,n,a))});return r}function p(t,i,r,a){var s=a[i];if(i==="_acl"){t=d(t)?null:JSON.stringify(t)}else if(i==="_deleted"){t=t==1?1:0}else if(_.isUndefined(t)){t=null}else if(_.isBoolean(t)){t=t?1:0}else if(_.contains(n[r],i)){t=JSON.stringify(t)}else if(i==="_client_date_modified"||t&&s&&(s.type==="datetime"||s.type==="datetimecombo")&&!isNaN(Date.parse(t))){t=e.utils.getTimestamp(t)}if(s&&(t||t===0)&&e.offline.SqlHelper.getSqlTypeByMetaType(s.type)===e.offline.SqlHelper.DEFAULT_TEXT_COLUMN_TYPE){t=String(t)}return t}_.extend(e.offline.storage,{_version:"4.0",_getValues:h,_getValue:p,_init:function m(){t={};n={};e.offline.SqlHelper.init(this.offlineMeta);_.each(this.offlineMeta.modules,function(i,r){t[r]=new e.offline.SqlHelper(r,i,this.offlineMeta[r].fields);n[r]=[];_.each(i.fields,function(e){if(_.contains(a,e.type)){n[r].push(e.name)}})},this);l()},convertFilter:function g(t,n){return e.offline.SqlHelper.buildFilterQuery(t,n)},getSqlStorageVersion:function v(){return this._version},openDb:function b(t,n,a){if(i)return i;i=this._openDb(t,n,a);if(i){r=t}else{throw new Error("`openDatabase` returned nothing")}e.logger.debug("Opened database "+t+" "+n+" ("+a+" bytes)");return i},_openDb:function y(t,n,i){if(e.config.offline.storageAdapter==="native"){return window.sqlitePlugin.openDatabase({name:t,bgType:1,encrypt:e.config.offline.dbEncryptionEnabled})}else{return window.openDatabase(t,n,t,i)}},migrate:function x(n,i,r){var a=this;var s=[];var o=false;var l=false;var u=false;var c=e.offline.storage.basicOfflineFields.map(function(e){return e.name});r=r||{};i=i||{modules:{},relationships:{},serverInfo:{}};a.init(n);if(r.forceDrop||_.isEmpty(i)||i._userId!==e.user.get("id")||n.relationships._hash!==i.relationships._hash||i.siteUrl!==e.utils.stripHttpPrefix(e.config.siteUrl)){o=true;l=true;u=true;a._migrationSummary={storageRebuilt:true};_.each(n.modules,function(n,i){if(e.offline.isModuleOfflineEnabled(i)){s.push(t[i].getSchema(i,n))}})}else if(n._hash!==i._hash){var d=_.filter(_.keys(i.modules),function(t){return e.offline.isModuleOfflineEnabled(t)});var f=_.filter(_.keys(n.modules),function(t){return e.offline.isModuleOfflineEnabled(t)});var h=[];var p=[];_.each(d,function(t){if(!_.contains(f,t)){h.push(t);s.push(e.offline.SqlHelper.getDropTableStatement(t));s.push(e.offline.SqlHelper.lastViewed.buildCleanupMyModule(t));o=true}},this);_.each(f,function(e){if(!_.contains(d,e)){p.push(e);s.push(t[e].getSchema(e,n.modules[e]));o=true}},this);_.each(n.modules,function(t,r){if(_.contains(p,r)){return}if(i.modules[r]._hash!==t._hash&&t.fields._hash!==i.modules[r].fields._hash){var a=_.difference(_.keys(n.modules[r].fields),_.keys(i.modules[r].fields));_.each(a,function(t){var i=n.modules[r].fields[t];if(_.isEmpty(i.name)){return}if(c.indexOf(i.name)!==-1){return}s.push(e.offline.SqlHelper.getAlterTableStatement(r,i))})}},this)}if(o){e.offline.storage.prepareOfflineRelationships(n.relationships);s.push(e.offline.SqlHelper.relationships.getCreateSchemaStatements(this.offlineMeta.relationships))}if(l){s.push(e.offline.SqlHelper.transactionLog.getCreateSchemaStatements())}if(u){s.push(e.offline.SqlHelper.lastViewed.getCreateSchemaStatements())}s.push(e.offline.SqlHelper.sync.getCreateSchemaStatements());if(s.length===0){e.logger.debug("No actual migration required");return r.success()}this._execRawStatements(_.flatten(s),function m(){if(r.success){r.success()}},function g(e){if(r.error){r.error(e)}})},isEncryptionSupported:function S(){return _.isFunction(i.encrypt)},encrypt:function w(e,t){i.encrypt(e,t)},_upgrade:{1:e.offline.SqlHelper.upgrade.getUpgrade1Sql,3:e.offline.SqlHelper.upgrade.getUpgrade3Sql},_runUpgrade:function L(e,t,n){this._execRawStatements(e,t,n)},_execRawStatements:function E(t,n,r){i.transaction(function(n){_.each(t,function(t){e.logger.trace(t);n.executeSql(t)})},function a(e){if(e.code===0){e.code=5}if(r){r(f(e),{transactionSql:t})}},n)},_exec:function k(t,n,r){var a=[];var s=[];var o;var l=this;_.each(t,function(e){var t=_.clone(e.data);var n=_.clone(e.options);var i=l._sqlHandlers[e.op](e.module,t,n);if(!i){return}if(!i.module&&e.options){if(e.options.relate&&e.op!=="readSingle"){i.module=e.data.relatedModule}else{i.module=e.module}}if(e.module){o=e.module}s.push(i)});if(e.config.offline.debug.outOfSpace&&c(s)){_.defer(function(){if(r){r(f({code:4},{transactionSql:s}))}});return}i.transaction(function(n){_.each(s,function(i,r){function s(i){e.logger.trace("Executing SQL: "+i.sql);e.logger.trace("Params: "+(i.params?i.params:"(no params)"));n.executeSql(i.sql,i.params,function s(e,n){n=n?l._recordSetToArray(n,i.module||o):[];if(i.module){n=_.map(n,function(e){e._module=i.module;return e})}var s=t[r]&&t[r].op;if(s==="readSingle"||s==="readSingleRelated"){u(n,i.module)}a=a.concat(n)})}if(_.isArray(i.sql)){_.each(i.sql,s)}else{s(i)}})},function d(e){if(r){r(f(e,{transactionSql:s}))}},function h(){if(a.length===1){a=a[0]}else if(a.length===0){a=null}n(a)})},_isOutOfSpace:function A(t){var n=this;if(e.config.offline.debug.outOfSpace){_.defer(t,true);return}i.transaction(function(e){var t=n._sqlHandlers.updateTransaction("Module",{txLog:{_tx_uid:"tx_id",_tx_error_count:0}});t.sql+=" AND 1 <> 1";e.executeSql(t.sql,t.params)},function(e){t(e.code===4)},function(){t(false)})},drop:function M(t){var n=this;i.transaction(function(t){t.executeSql(e.offline.SqlHelper.getSelectTablesStatement(),null,function(t,i){var r=e.offline.SqlHelper.getDropTableStatements(_.map(n._recordSetToArray(i),function(e){return e.tbl_name}));_.each(r,function(e){t.executeSql(e)})})},function r(e){if(t)t(f(e))},function a(){if(t)t()})},_sqlHandlers:{readSingle:function T(e,n,i){i=i||{};return t[e]?{sql:i.readDeleted?t[e].sqlSelectOneWithDeleted:t[e].sqlSelectOne,params:[n.id]}:null},search:function C(e,n,i){var r=i.module_list.split(",");var a=[];_.each(r,function(e){a.push({sql:t[e].buildSqlSelectMany(i),params:null,module:e})});return{sql:a}},readSingleRelated:function R(t,n,i){i=i||{};return{sql:e.offline.SqlHelper.relationships.buildSqlSelectSingleRelated(t,n,i),params:null}},readMany:function D(e,n,i){return{sql:t[e].buildSqlSelectMany(i),params:null}},readManyRelated:function I(t,n,i){return{sql:e.offline.SqlHelper.relationships.buildSqlSelectManyRelated(t,n,i),params:null}},readModuleRecords:function O(e,n){return t[e]?{sql:t[e].buildSqlReadModuleRecordsByIds(n.id,n.fields),params:null}:null},createSingle:function N(n,i,r){i.id=i.id||e.utils.generateUUID();var a=h(n,i);var s=[];var o=this.updateRelationships(n,i,r);s.push({sql:t[n].sqlCreate,params:a});if(!_.isEmpty(o)){s=s.concat(o)}return{sql:s}},resetDateModified:function F(n,i){return t[n]?{sql:e.offline.SqlHelper.getResetDateModifiedStatement(n,i)}:null},updateValuesSingle:function B(n,i,r){r=r||{};if(_.isEmpty(i.id)){e.error.throwErrorWithCallStack("Undefined id passed to updateValuesSingle")}if(_.isUndefined(t[n])){return null}var a=["id","_client_date_modified","_acl"];_.each(t[n]?t[n].fields:[],function(e){a.push(e.name)});i=_.pick(i,a);var s=[];var o=[];var l=i.id;var u=[];var c=e.metadata.getModule(n).fields;var d=this.updateRelationships(n,i,r);var f=i.name;var h=_.getNested(r,"initialState.name",f);var m=f&&r.updateRelatedNames!==false&&f!==h;if(m){var g=e.offline.SqlHelper.relationships.buildSqlUpdateChildren(n,i);if(g){_.each(g,function(e){u.push({sql:e,params:null})})}}if(!_.isEmpty(d)){u=u.concat(d)}delete i.id;delete i._module;delete i._search;if(_.isEmpty(i)){return null}_.each(i,function(e,t){o.push(t);s.push(p(e,t,n,c))});s.push(l);u.push({sql:t[n].buildSqlUpdate(l,o),params:s});return{sql:u}},updateRelationships:function U(t,n,i){var r=[];var a=e.metadata.getModule(t).fields;var s={};_.each(n,function(t,n){if(a[n]&&a[n].link&&a[a[n].link]){var i=e.metadata.getRelationship(a[a[n].link].relationship);if(i&&!s[i.name]){s[i.name]=i;s[i.name].create=!!t}}});_.each(s,function(a){var s=a.create?e.offline.SqlHelper.relationships.buildSqlReplaceRelationship:e.offline.SqlHelper.relationships.buildDeleteRelationship;var o=a.rhs_module===t?a.lhs_module:a.rhs_module;var l=e.offline.storage.offlineMeta.relationships[a.name];if(!l){return false}var u=s.call(e.offline.SqlHelper.relationships,o,{related:n,relatedId:n.id,relatedModule:t,relDef:l},_.extend({},i,{skipUpdateRelRecord:true}));if(u&&!_.isArray(u)){u=[{sql:u}]}if(!_.isEmpty(u)){_.each(u,function(e){r.push({sql:e.sql,params:null})})}},this);return r},hardDelete:function P(n,i){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=[];var s=[];i=_.isArray(i)?i:[i];if(!r.skipRelationshipsClean){s=_.reduce(i,function(t,i){return t.concat(_.map(e.offline.SqlHelper.relationships.buildSqlCleanRelationships(n,i,r),function(e){return{sql:e}}))},[])}var o=_.pluck(i,"id");var l=a.concat({sql:t[n].buildSqlDelete(o)},s);return{sql:l}},softDeleteSingle:function Y(e,n){return{sql:t[e].sqlMarkDeleted,params:[n.id]}},resetDeletedSingle:function H(e,n){return t[e]?{sql:t[e].sqlResetDeleted,params:[n.id]}:null},createLink:function G(n,i,r){return t[n]?{sql:e.offline.SqlHelper.relationships.buildSqlReplaceRelationship(n,i,r),params:null}:null},deleteLink:function V(n,i,r){return t[n]?{sql:e.offline.SqlHelper.relationships.buildDeleteRelationship(n,i,r),params:null}:null},readTransactions:function j(t,n,i){if(n&&n.id){return{sql:e.offline.SqlHelper.transactionLog.getTxLog,params:[n.id]}}else{var r=[{sql:e.offline.SqlHelper.transactionLog.getReadTransactionsStatements(i),params:[i.offset||0,i.limit]}];if(i.count){r.push({sql:e.offline.SqlHelper.transactionLog.countTransactions})}return{sql:r}}},readToBeSynced:function z(t,n,i){return{sql:e.offline.SqlHelper.sync.getReadToBeSyncedSql(t,n,i),params:null}},markToBeSynced:function $(t,n,i){return{sql:e.offline.SqlHelper.sync.getMarkToBeSyncedSql(t,n,i),params:null}},resetToBeSynced:function q(t,n,i){return{sql:e.offline.SqlHelper.sync.getResetToBeSyncedSql(t,n,i),params:null}},createTransaction:function W(t,n,i){return{sql:e.offline.SqlHelper.transactionLog.sqlTxLogAction,params:e.offline.storage.getCUTransactionParams(t,n,i)}},updateTransaction:function K(t,n,i){var r;var a=n.txLog;var s=["_tx_updated_fields","_tx_error","_tx_error_count","_tx_ts"];if(i&&i.initialState){r=e.offline.storage.getCUTransactionParams(t,n.updatedFields,{action:a._tx_action,txId:a._tx_uid,initialState:i.initialState,relate:i.relate});a._tx_updated_fields=r[6]}return{sql:e.offline.SqlHelper.transactionLog.updateTransaction(a._tx_uid,_.pick(a,s))}},deleteTransaction:function J(t,n,i){return{sql:e.offline.SqlHelper.transactionLog._deleteTransaction,params:[i.txId]}},clearTransactionLog:function X(){return{sql:e.offline.SqlHelper.transactionLog.clearTransactionLog}},countAssociatedTransactions:function Z(t,n,i){return{sql:e.offline.SqlHelper.transactionLog.getCountAssociatedTransactionsStatements(i.txData)}},countTransactions:function Q(){return{sql:e.offline.SqlHelper.transactionLog.countTransactions}},readLastViewed:function ee(t,n,i){if(i.ids){return{sql:e.offline.SqlHelper.lastViewed.buildReadForRecords(i.ids)}}return{sql:e.offline.SqlHelper.lastViewed.buildRead(i.desc),params:[i.max_num]}},readRecents:function te(t,n,i){return{sql:e.offline.SqlHelper.lastViewed.buildReadForModule(t),params:[i.max_num]}},updateLastViewed:function ne(t,n,i){return{sql:e.offline.SqlHelper.lastViewed.buildReplace(t,n,i)}},deleteLastViewed:function ie(t,n,i){n=_.isArray(n)?n:[n];return{sql:e.offline.SqlHelper.lastViewed.buildDelete(n)}},findViewedBefore:function re(t,n,i){return{sql:e.offline.SqlHelper.lastViewed.buildFindViewedBefore(t,i)}},getStats:function ae(t,n,i){return{sql:e.offline.SqlHelper.getStatsRetrieveStatements(i)}}},_deserialize:function se(e,t){var i=_.clone(e);_.each(i,function(e,r){if(_.isString(e)&&e&&_.contains(n[t],r)){i[r]=JSON.parse(e)}});if(i._acl){i._acl=JSON.parse(i._acl)}return i},_recordSetToArray:function oe(e,t){var n=[];if(e){for(var i=0;i<e.rows.length;i++){n.push(this._deserialize(e.rows.item(i),t))}}return n},getDetails:function(){var t=e.offline.storage.getDetails;return function(){return _.extend(t(),{dbName:r})}}(),getOfflineModuleSearchFields:function(){var t=e.offline.storage.getOfflineModuleSearchFields;return function(n,i){var r=t.call(this,n,i);if(r.length){var a=void 0;r=_.filter(r,function(t){if(t.type==="email"){i=i||e.metadata.get();a=i.modules[n].fields.email1;return false}return!_.contains(s,t.type)});if(a){r.push(a)}}return r}}()})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){e.offline.TxLogSyncExecutor=e.offline.SyncExecutor.extend({SYNC_ITERATION_COMPLETE_MESSAGE:"sync_iteration_complete",_immediateStop:false,_getBeanStub:function t(e){return{id:e._tx_bean_id,module:e._tx_bean_module,related_id:e._tx_related_id,related_module:e._tx_related_module}},_sync:function n(t){var n=this;var i=function a(i){e.logger.debug("TxLogSync completed");if(i===n.SYNC_ITERATION_COMPLETE_MESSAGE){i=null}t(i)};function r(){if(n._immediateStop){n._immediateStop=false;e.logger.debug("TxLogSync interrupted");return i()}n._syncOldestTransaction(function(e){if(e){i(e)}else r()})}r()},_syncOldestTransaction:function i(t){var n=this;e.offline.storage.readTransactions({limit:1,dateAsc:true,error:t,success:function i(r){if(!r){return t(n.SYNC_ITERATION_COMPLETE_MESSAGE)}var a=n._getBeanStub(r);e.offline.storage.readSingleRawRecord(a.module,a,{success:function s(i){i=i||{};var s=r._tx_updated_fields?JSON.parse(r._tx_updated_fields):{};var o={};if(r._tx_action!==e.offline.SyncActions.LINK&&r._tx_action!==e.offline.SyncActions.UNLINK){_.each(s,function(e,t){o[t]=e.after});if(r._tx_action!==e.offline.SyncActions.CREATE){o.date_modified=i.date_modified||e.utils.getTimestamp()}o.id=i.id||a.id}n._handleSyncTransaction(r,t,o);o={}},error:t})}})},_handleSyncTransaction:function r(t,n,i){var r;var a={id:t._tx_bean_id,module:t._tx_bean_module,related_id:t._tx_related_id,related_module:t._tx_related_module};if(t._tx_action===e.offline.SyncActions.CREATE||t._tx_action===e.offline.SyncActions.LINK){r="create"}else if(t._tx_action===e.offline.SyncActions.UPDATE){r="update"}else if(t._tx_action===e.offline.SyncActions.DELETE||t._tx_action===e.offline.SyncActions.UNLINK){r="delete"}else if(t._tx_action===e.offline.SyncActions.FAVORITE){r="favorite"}else if(t._tx_action===e.offline.SyncActions.FOLLOW){r="follow"}else{throw new Error("Undefined action in transaction log!")}if(t._tx_related_id&&t._tx_related_module){this._syncRelationships(r,a,t,n,i)}else if(r==="favorite"){this._syncFavorite(r,a,t,n,i)}else if(r==="follow"){this._syncFollow(r,a,t,n,i)}else{this._syncRecords(r,a,t,n,i)}},_syncRecords:function a(t,n,i,r,s){var o={};s=this._addXTimestampHeader(s,o);e.offline.api.callOriginalApi("records",[t,n.module,s,{viewed:true},{success:function l(t){e.offline.storage.resolveSuccess({module:n.module,transaction:i,serverData:t,callback:r})},error:function u(t){e.offline.storage.resolveError({error:t,updatedFields:s,txLog:i,callback:r})}},o])},_syncRelationships:function s(t,n,i,r,a){var s={};a=this._addXTimestampHeader(a,s);var o={id:n.related_id,link:i._tx_link,related:a?a:{id:n.id},relatedId:n.id};if(i._tx_action===e.offline.SyncActions.CREATE){o.relatedId=null}e.offline.api.callOriginalApi("relationships",[t,n.related_module,o,{},{success:function l(t){var a=_.extend(o,{related:t.related_record,record:t.record,recordModule:n.related_module,relatedModule:n.module});e.offline.storage.resolveSuccess({module:i._tx_related_module,transaction:i,serverData:t,relationshipData:a,callback:r})},error:function u(t){e.offline.storage.resolveError({error:t,updatedFields:a,txLog:i,callback:r})}},s])},_syncFavorite:function o(t,n,i,r,a){e.offline.api.callOriginalApi("favorite",[n.module,n.id,a.my_favorite,{success:function s(t){e.offline.storage.resolveSuccess({module:n.module,transaction:i,serverData:t,callback:r})},error:function o(t){e.offline.storage.resolveError({error:t,updatedFields:a,txLog:i,callback:r})}}])},_syncFollow:function l(t,n,i,r,a){e.offline.api.callOriginalApi("follow",[n.module,n.id,a.following,{success:function s(){e.offline.storage.resolveSuccess({module:n.module,transaction:i,serverData:{id:n.id,following:a.following},callback:r})},error:function o(t){e.offline.storage.resolveError({error:t,updatedFields:a,txLog:i,callback:r})}}])},_addXTimestampHeader:function u(e,t){if(e&&e.date_modified){t.headers={"X-TIMESTAMP":e.date_modified};e=_.omit(e,"date_modified")}return e},stop:function c(){this._immediateStop=true}})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){e.offline.WinsSyncExecutor=e.offline.SyncExecutor.extend({SyncPhases:{PRE_SYNC:1,SYNC:2},WINS_STATUS_CACHE_NAME:"sync:wins:status",_status:null,_stopAsyncFlow:null,_updateStatus:function t(n){_.each(n,function(e,t){this._status[t]=e},this);e.cache.set(this.WINS_STATUS_CACHE_NAME,this._status)},_loadStatus:function i(){var t=e.cache.get(this.WINS_STATUS_CACHE_NAME);if(t&&e.user.get("id")===t.userId){this._status=t;if(this._status.winsStartedTime){this._status.winsInterruptedTimes++;this._updateStatus({winsInterruptedTimes:this._status.winsInterruptedTimes})}}else{this._resetStatus()}},_resetStatus:function r(){this._status={phase:this.SyncPhases.PRE_SYNC,preSyncedModules:[],minDate:this._status&&this._status.maxDate||e.cache.get(e.offline.INITIALIZED_TS_KEY),maxDate:null,winsCompletedTime:null,winsStartedTime:null,winsInterruptedTimes:0,syncedRecords:0,userId:e.user.get("id")};this._updateStatus()},_sync:function a(t){var n=this;var i=function r(i){e.logger.debug("WINS completed.");if(i){n._status.winsInterruptedTimes++;n._updateStatus({winsInterruptedTimes:n._status.winsInterruptedTimes})}else{n._updateStatus({winsCompletedTime:+new Date-n._status.winsStartedTime});e.trigger("offline:wins:completed",_.pick(n._status,["winsCompletedTime","winsInterruptedTimes","syncedRecords"]));n._resetStatus()}if(t){t(i)}};this._loadStatus();if(!this._status.winsStartedTime){this._updateStatus({winsStartedTime:+new Date})}if(_.isEmpty(this._status.minDate)){e.logger.debug("Skipping sync as last synced date is unknown. Fetching and saving current server time");e.offline.utils.getServerTime(function(e,t){if(!e){n._updateStatus({minDate:t})}i(e)})}else if(this._status.phase===this.SyncPhases.PRE_SYNC){this._preSync(function(e){if(!e){n._updateStatus({phase:n.SyncPhases.SYNC});n._recordsSync(i)}else{i(e)}})}else{this._recordsSync(i)}},_preSync:function s(t){var n=this;var i=[];if(_.isEmpty(this._status.maxDate)){i.push(function(t){e.offline.utils.getServerTime(function(e,i){if(e){t(e)}else{n._updateStatus({maxDate:i});t()}})})}var r=_.difference(e.offline.utils.getOfflineModules(),this._status.preSyncedModules,e.config.offline.staticModules);r=_.filter(r,function(t){return e.acl.hasAccess("list",t)});if(r.length!==0){_.each(r,function(e){i.push(function(t){n._preSyncModule(e,t)})},this)}this._stopAsyncFlow=e.offline.utils.getStoppableAsyncFlow("series",i,t)},_preSyncModule:function o(t,n){
var i=this;var r={fields:"id",deleted:true,filter:[{date_modified:{$gte:this._status.minDate,$lt:this._status.maxDate}}]};e.offline.utils.fetchPageByPage(t,r,_.bind(this._markLocalRecordsToBeUpdated,this),null,{maxRecords:this.options.preSyncMaxRecords,pageSize:this.options.preSyncPageSize,callback:function a(e){if(!e){i._status.preSyncedModules.push(t);i._updateStatus({preSyncedModules:i._status.preSyncedModules})}n(e)}})},_markLocalRecordsToBeUpdated:function l(t){this._processLocalMatchedRecords(t,function(n,i,r){e.offline.storage.markToBeSynced({module:t.module,action:i.deleted?"delete":"update",record:n,callback:r})})},_recordsSync:function u(t){var n=this;var i=[];_.each(e.offline.utils.getOfflineModules(),function(e){i.push(function(t){n._syncModule(e,t)})},this);this._stopAsyncFlow=e.offline.utils.getStoppableAsyncFlow("series",i,t)},_syncModule:function c(t,n){var i=this;e.offline.storage.readToBeSynced({offset:0,max_num:this.options.syncPageSize||20,module:t,callback:function r(e){if(e.err||_.isEmpty(e.records)){n(e.err)}else{i._syncRecords({module:t,records:e.records,callback:function r(a){if(a){n(a)}else{i._status.syncedRecords+=e.records.length;i._updateStatus({syncedRecords:i._status.syncedRecords});i._syncModule(t,n)}}})}}})},_syncRecords:function d(t){var n=_.map(t.records,function(e){return{id:e.bean_id,module:e.bean_module,action:e.action}});var i=t.module;var r=_.filter(n,function(e){return e.action==="update"});var a=_.filter(n,function(e){return e.action==="delete"});var s=[];if(r.length>0){var o=_.pluck(r,"id");var l=e.metadata.getModule(i).mergedFields;var u={filter:[{id:{$in:o}}]};if(!_.isEmpty(l)){u.fields=l.join(",")}s.push(function(t){e.offline.api.callOriginalApi("records",["read",i,null,u,{success:function n(a){a=a||{records:[]};e.offline.storage.saveRecords({serverData:a.records,module:i,callback:function s(n){if(n){return t(n)}else{e.offline.storage.resetToBeSynced({records:r,callback:t})}}})},error:t}])})}if(a.length>0){_.each(a,function(t){s.push(function(n){e.offline.storage.readSingleRawRecord(i,{id:t.id},{success:function r(t){if(t&&e.offline.utils.isDataSynchronized(t)){e.offline.storage.sync("delete",{id:t.id},i,{hardDelete:true,success:function r(){e.offline.storage.resetToBeSynced({records:a,callback:n})},error:n})}else{e.offline.storage.resetToBeSynced({records:a,callback:n})}},error:n})})})}async.series(s,t.callback)},_processLocalMatchedRecords:function f(t,n){var i=_.pluck(t.records,"id");var r=t.module;e.offline.storage.readRecordsByIds(r,i,{success:function a(e){if(_.isEmpty(e)){return t.callback()}e=_.isArray(e)?e:[e];var i=[];_.each(e,function(e){i.push(function(i){var r=_.find(t.records,function(t){return t.id===e.id});n(e,r,i)})});async.series(i,t.callback)},error:t.callback})},stop:function h(){if(this._stopAsyncFlow){this._stopAsyncFlow();this._stopAsyncFlow=null;e.logger.debug("WinsSync interrupted")}},shouldRun:function p(){var t=n(23);var i=n(18);var r=t.getState().state!==i.State.IDLE;return!r&&e.offline.SyncExecutor.prototype.shouldRun.call(this)}})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){e.offline.SyncExecutor=function(e){this.options=e;this.name=this.options.name;this.init()};_.extend(e.offline.SyncExecutor.prototype,{_working:false,isWorking:function t(){return this._working},_lastSyncTime:null,getLastSyncTime:function n(){return this._lastSyncTime},init:function i(){},shouldRun:function r(){var t=this._lastSyncTime&&(new Date).getTime()-this._lastSyncTime.getTime()<this.options.interval*1e3;if(!this.options.enabled||!e.api.isAuthenticated()||t){return false}return!this._working},beforeSync:function a(){this._working=true},sync:function s(e){if(!this.shouldRun()){e();return}this.beforeSync();this._sync(_.bind(function(t){this.afterSync();e.apply(this,arguments)},this))},afterSync:function o(){this._lastSyncTime=new Date;this._working=false},_sync:function l(){e.offline.utils.notImplemented()},getPriority:function u(){return this.options.priority},stop:function c(){e.offline.utils.notImplemented()}});e.offline.SyncExecutor.extend=Backbone.Model.extend})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;i.offline.syncManager={httpErrorHandler:null,lastSyncTs:null,syncExecutors:[],_currentExecutor:null,start:function r(){var e=this;if(!this.intervalId){this.intervalId=window.setInterval(function(){return e._runSyncIteration()},i.config.offline.syncManager.syncTimeout*1e3||1e4)}},stop:function a(){window.clearInterval(this.intervalId);this.intervalId=null},dispose:function s(){i.events.off("offline:data:sync:success",null,this);i.events.off("offline:bulkload:progress",this._onBulkLoaderProgress,this);this.syncExecutors=[];this.stop()},_onBulkLoaderProgress:function o(e){var t=n(18);if(e===t.ProgressEventType.START){if((this._currentExecutor||{}).name==="wins"){this._currentExecutor.stop()}}},init:function l(){var e=this;this.dispose();i.events.on("offline:data:sync:success",function(){e._runSyncIteration()},this);i.events.on("offline:bulkload:progress",this._onBulkLoaderProgress,this)},registerExecutor:function u(e){this.syncExecutors.push(e);this.syncExecutors=_.sortBy(this.syncExecutors,function(e){return e.getPriority()})},isSyncing:function c(){var c=false;_.each(this.syncExecutors,function(e){c=c||e.isWorking()});return c},_syncErrorHandler:function d(e){if(e instanceof SUGAR.Api.HttpError){if(i.utils.isConnectivityError(e)){return}else if(e.status===412&&this.httpErrorHandler){this.stop();this.httpErrorHandler(e)}else{i.logger.error(e)}}else if(e instanceof i.offline.Error){this.stop();var t=e===i.offline.Error.OfflineDisabledError?e:new i.offline.Error("synchronization_error","Synchronization failed","ERR_OFFLINE_SYNC_ERROR",e);i.trigger("offline:failure",t)}else if(e){i.logger.error(e)}},_runSyncIteration:function f(e){var t=this;if(!i.offline.isOnline()||!i.config.offline.debug.syncManagerEnabled||!i.config.offline.syncManager.enabled||_.isEmpty(this.syncExecutors)){if(e)e();return}var n=[];_.each(this.syncExecutors,function(e){n.push(function(n){t._currentExecutor=e;e.sync.call(e,n)})});async.series(n,function(n){t._currentExecutor=null;t.lastSyncTs=new Date;t._syncErrorHandler(n);if(e)e(n)})},sync:function h(e){if(i.offlineEnabled){this._runSyncIteration(e)}}};e.exports=i.offline.syncManager},function(e,t,n){"use strict";(function(e){e.augment("overlay",{init:function t(){this.overlayHash={}},show:function n(t,i){if(this.overlayHash[t]){return false}i=i||{};i=_.extend({template:"overlay-default",$appendTo:e.$rootEl},i);var r=$(e.template.get(i.template)(i.templateOptions));i.$appendTo.append(r);r.showElement();this.overlayHash[t]=r},hide:function i(e,t){var n=this.overlayHash[e];if(n){if(t){n.animate({opacity:"0"},500,"ease",function(){n.remove()})}else{n.remove()}}delete this.overlayHash[e]},hideAll:function r(){_.each(this.overlayHash,function(e,t){if(e){e.remove();delete this.overlayHash[t]}},this)},isActive:function a(){return!_.isEmpty(e.overlay.overlayHash)}})})(SUGAR.App)},function(e,t,n){"use strict";(function(e){e.events=e.events||{};e.events.on({"offline:toggled":function p(e){r("offline",e)},"app:start":function m(){r("api",true)},"app:login:success":function g(e,t){r("api",true,t)},"app:logout":function v(){r("api",false)}});var t={offline:{readSimpleOrRelated:{status:false,operation:"fakeSelect"},readManyRecords:{status:false,operation:"fakeSelect"},readManyRelatedRecords:{status:false,operation:"fakeSelect"},createRecord:{status:false,operation:"fakeInsert"},createRelatedRecord:{status:false,operation:"fakeInsert"},updateRecord:{status:false,operation:"fakeUpdate"},updateRelatedRecord:{status:false,operation:"fakeUpdate"},softDeleteRecord:{status:false,operation:"fakeUpdate"},hardDeleteRecord:{status:false,operation:"fakeUpdate"},unlinkRecord:{status:false,operation:"fakeUpdate"}}};var n={api:{records:{status:false,callbackIndex:4,optionsIndex:5,dataIndex:2,crudIndex:0,crud:[{name:"create",status:true},{name:"read one",status:false},{name:"read list",status:false},{name:"update",status:false},{name:"delete",status:false}]},relationships:{status:false,callbackIndex:4,optionsIndex:5,dataIndex:2,crudIndex:0,crud:[{name:"create",status:true},{name:"read one",status:false},{name:"read list",status:false},{name:"update",status:false},{name:"delete",status:false}]},favorite:{status:false,callbackIndex:3,optionsIndex:4},follow:{status:false,callbackIndex:3,optionsIndex:4}},http:[{name:"e0",status:false},{name:"e403",status:false},{name:"e404",status:false},{name:"e409",status:false},{name:"e422",status:false},{name:"e500",status:false}],emulationExceptions:{e409:{operation:"update",methods:["records","relationships"]}}};var i={fakeSelect:function b(){return{sql:"select xxxx"}},fakeInsert:function y(){return{sql:"insert into xxxx"}},fakeUpdate:function x(){return{sql:"update xxxx"}}};function r(i,r,u){var c=e.config.errorEmulation.user.toLowerCase();if(e.config.errorEmulation.enabled&&(e.user.get("user_name")===c||u===c)){if(i==="api"){a(r,n);l(r)}else{a(r,t);s(r);o(r);h()}}}function a(t,n){if(t){var i=e.utils.deepCopy(n);_.extend(e.config.errorEmulation,i)}else{_.each(n,function(t,n){delete e.config.errorEmulation[n]})}}function s(t){if(t){e.events.on("app:error:emulation:offline",function(t){var n=e.config.errorEmulation.offline[t];var i=n&&n.status;var r="_"+t;var a=n.operation;u(i,r,a)})}else{e.events.off("app:error:emulation:offline");_.each(e.offline.storage.savedMethods,function(e,t){u(false,t)});delete e.offline.storage.savedMethods}}function o(t){if(t){_.extend(e.offline.storage._sqlHandlers,i)}else{_.each(i,function(t,n){delete e.offline.storage._sqlHandlers[n]})}}function l(t){if(t){if(!e.config.errorEmulation.apiFlag){e.events.on({"app:error:emulation:http":function n(e){f(e);c(e)},"app:error:emulation:api":d,"app:error:emulation:crud":d});e.config.errorEmulation.apiFlag=true}}else{e.events.off("app:error:emulation:http app:error:emulation:api app:error:emulation:crud");delete e.config.errorEmulation.apiFlag;f("default");c("default")}}function u(t,n,i){if(t){e.offline.storage.savedMethods=e.offline.storage.savedMethods||{};if(!e.offline.storage.savedMethods[n]){e.offline.storage.savedMethods[n]=e.offline.storage[n]}e.offline.storage[n]=function(){var e=[{op:i,data:null,module:null,options:null}];var t=arguments[arguments.length-1];this.exec(e,t.dbSuccess,t.dbFailure)}}else{e.offline.storage[n]=e.offline.storage.savedMethods[n];delete e.offline.storage.savedMethods[n]}}function c(t){var n=e.config.errorEmulation.api;var i=[];_.each(n,function(e,t){if(e.status){i.push(t)}});_.each(e.api.savedMethods,function(t,n){e.api[n]=e.api.savedMethods[n]});delete e.api.savedMethods;e.controller.clean();if(t!=="default"){_.each(i,function(i){var r=_.findWhere(n[i].crud,{status:true});e.api.savedMethods=e.api.savedMethods||{};if(!e.api.savedMethods[i]){e.api.savedMethods[i]=e.api[i]}e.api[i]=function(){var e=n[i].callbackIndex;var a=n[i].optionsIndex;var s=n[i].crudIndex;var o=n[i].dataIndex;var l=r&&arguments[s]==="read"&&r.name.indexOf("read")>=0;var u;var c;if(!isNaN(o)){u=arguments[o]?arguments[o].link?arguments[o].relatedId?"one":"list":"one":"list";c=r.name==="read "+u}if(!r||arguments[s]===r.name||l&&c){arguments[e].error(new SUGAR.Api.HttpError({xhr:{status:t.substr(1)-0,responseText:'{"error":"emulated"}',getResponseHeader:function d(){return"application/json"}},params:arguments[a]}));arguments[e].complete()}else{this.savedMethods[i].apply(this,arguments)}}})}}function d(){var t=_.findWhere(e.config.errorEmulation.http,{status:true});if(t){c(t.name)}}function f(t){var i=n.emulationExceptions[t];var r=i?{code:t,operation:i.operation,methods:i.methods}:{code:"enableAll"};e.trigger("app:error:emulation:exceptions",r)}function h(){_.each(e.api.savedMethods,function(t,n){if(e.offline&&!_.isEmpty(e.offline.api.originalMethods)){e.offline.api.originalMethods[n]=e.api.savedMethods[n]}e.api.savedMethods[n]=e.api[n]});d()}})(SUGAR.App)},function(e,t,n){"use strict";(function(e){var t=function n(){this.stack=[];this.hash={}};t.prototype={clear:function i(){this.stack=[];this.hash={}},iterate:function r(e,t){_.each(this.stack,function(t,n){e.call(this,t.item,n)},t)},remove:function a(e,t){var n=[];if(!_.isFunction(e)){var i=-1;var r;for(var a=0;a<this.stack.length;a++){if(_.isString(e)?this.stack[a].uid===e:this.stack[a].item===e){i=a;r=this.stack[a];break}}if(i>-1&&r){delete this.hash[r.uid];this.stack.splice(i,1)}}else{_.each(this.stack,function(i,r){var a=e.call(t,i.item,r);if(a){n.push(i)}},this);_.each(n,function(e){this.remove(e.uid)},this)}},shift:function s(){var e=this.stack.shift();delete this.hash[e.uid];return e.item},pop:function o(){var e=this.stack.pop();delete this.hash[e.uid];return e.item},push:function l(e,t){if(!this.hash[e]){this.stack.push({uid:e,item:t})}this.hash[e]=t},get:function u(e){return this.hash[e]},getByIndex:function c(e){var t=this.stack[e];return t?t.item:null},count:function d(){return this.stack.length},isEmpty:function f(){return!this.stack.length}};e.nomad.hashmap=t})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(8);var o=e.exports=r.declareComponent(s,{_stringType:"about",events:{"click .legal a":function l(e){e.preventDefault();a.openUrl(e.target.href)},"click .support_email":function u(e){e.preventDefault();var t=i.isNative?"\n\n\nrequest ID: "+i.clientInfo.device.uuid:"";a.sendConsoleLog({email:i.config.about.supportEmail,subject:i.config.productName+" support request",body:t})},"click .support_website":function c(e){e.preventDefault();a.openUrl(i.config.about.support)},"click .server_url a":function d(e){e.preventDefault();a.openUrl(this._getServerUrl())},"swipeRight .support_website":function f(e){if(i.config.about.supportEmailVisible!=="concealed")return;this._feedBack=(this._feedBack||0)+1;if(this._feedBack>=3){this.getField("support_email").$el.showElement()}}},onAfterRender:function h(){var e=this;if(i.config.about.supportEmailVisible==="visible"){this.getField("support_email").$el.showElement()}var t=["sdk_version","support_website","trial_until"];[!i.config.about.showSdkVersion,_.isEmpty(i.config.about.support),_.isEmpty(i.config.trialUntil)].forEach(function(n,i){if(n){e.getField(t[i]).$el.hideElement()}})},initialize:function p(e){var t=i.nomad.getServerVersion();var n;this._super(e);_.extend(this,{showAttribution:i.config.about.showAttribution,_displayTrademarks:i.config.about.displayTrademarks,_copyrightText:i.config.about.copyrightText,_trademarkText:i.config.about.trademarkText,_trademark2Text:i.config.about.trademark2Text});n=this._getServerUrl().replace(/(http:\/\/)|(https:\/\/)|(\/rest\/v10\/)/,"");this.model.set({app_version:r.getProductVersion(),trial_until:i.config.trialUntil,sdk_version:r.getSdkVersion(),server_version:t,server_url:n,support_email:i.config.about.supportEmail,support_website:i.config.about.support,privacy:i.config.about.privacy,tos:i.config.about.tos,thirdPartySoftware:i.config.about.thirdPartySoftware})},_getServerUrl:function m(){var e;var t=i.api.isAuthenticated()?i.loginManager.getSetting():i.loginManager.getTempSetting();if(i.isNative){e=t.loginUrl;if(!e&&!i.config.loginSettings.showLoginUrl&&i.config.loginSettings.defaultServerUrl){e=i.config.loginSettings.defaultServerUrl}}else{e=t.siteUrl;if(e.indexOf("..")===0)e=i.nomad.utils.resolveUrl(e,window.location.href)}return e||""}});i.nomad.registerComponent({cmp:o,baseType:"about"})},function(e,t,n){"use strict";(function(e){var t=SUGAR.App;var i=n(1);var r=i.declareComponent(t.view.AlertView,{tpl:"alert",events:{click:"onClick"},initialize:function a(e){if(_.isUndefined(e.closeable)){e.closeable=e.level!=="info"}this._super(e)},close:function s(e){if(this.disposed){return}var t=this.dispose.bind(this);e=e||{};var n=!($.os.android&&this.options.level==="load");n=!_.isUndefined(e.animate)?e.animate:n;if(n){this.$el.animate({minHeight:"0",height:"0",borderTop:"0"},500,"ease",function(){t()})}else{t()}},render:function o(){var e=this.options;var n=t.template.get(e.tpl||this.tpl)||t.template.empty;this.$el.html(n(e))},onClick:function l(){if(this.options.closeable){t.alert.dismiss(this.key)}}});i.registerComponent({baseType:"alert",cmp:r});e.export=r}).call(t,n(46)(e))},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=n(16);var o=n(18);var l=r.declareComponent(a,{_stringType:"bulk-load-setup",className:"view__bulkload",events:function u(){return{"click .btn-cancel":"_onBtnClick","click .btn-download":"_onBtnClick","click .cellular_checkbox":"_onCellularCheckboxClick"}},template:"bulk-load-setup",allowCellular:false,shouldShowCellularCheckbox:false,initialize:function c(e){this._super(e);this.shouldShowCellularCheckbox=i.isNative||i.config.scheme==="e2e";if(!_.isUndefined(s.getSetting(o.SettingsKey.ALLOW_CELLULAR))){this.allowCellular=s.getSetting(o.SettingsKey.ALLOW_CELLULAR)}},onAfterRender:function d(){this._super();i.alert.dismiss("offline_encryption")},_onBtnClick:function f(e){var t=e.target.attributes["data-id"].value==="ok";if(this.options.callback){this.options.callback(t)}},_onCellularCheckboxClick:function h(){this.allowCellular=!this.allowCellular;s.setSetting(o.SettingsKey.ALLOW_CELLULAR,this.allowCellular)}});e.exports=l},function(e,t,n){"use strict";var i=$(document);var r=function l(e){var t=$(e.currentTarget);t.parent().toggleClass("not-empty",t.val())};var a=function u(e){var t=$(e.currentTarget).parent().find("input");var n=s(t.get(0));t.val("").parent().removeClass("not-empty");t.trigger("change",[{triggeredByClearField:true}]);t=$(o(n));t.focus();e.preventDefault();e.stopPropagation()};var s=function c(e){return i.find("input").reduce(function(t,n,i){return t===undefined&&n===e?i:t},undefined)};var o=function d(e){return i.find("input").reduce(function(t,n,i){return t||e===i&&n},undefined)};i.on("keyup.clear-field","input",r).on("focusin.clear-field","input",r).on("touchend.clear-field",".clear-button",a)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(8);e.exports=r.declareComponent(a,{template:"dropdown-switcher",parentCss:"tabs__switcher",initialize:function s(e){this._super(e);var t={};var n=i.data.createBean();n.set("view_index",e.activeIndex);_.each(e.views,function(e,n){t[n]=e.title});this.ddSwitcher={name:"view_index",view:"edit",type:"enum",options:t,model:n,optional:false};this.listenTo(n,"change:view_index",this._onSelect)},updateSubtext:function o(e,t){},syncActive:function l(e){var t=e.index;this.getField("view_index").model.set("view_index",t)},_onSelect:function u(e){var t=+e.get("view_index");this.trigger("view:switch",{index:t})}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(8);e.exports=r.declareComponent(a,{className:"pagination__bar",template:"pagination-switcher",events:function s(){return{swipeRight:"swipeRight",swipeLeft:"swipeLeft"}},onAfterRender:function o(){this._super();var e='<span class="icondefault {0}"></span>';if(this.Swiper){return}this.Swiper=new Swiper(this.options.$parentEl.find(this.options.containerSelector),_.extend({noSwipingClass:"no-swiping",pagination:this.$(".pagination").get(0),bulletClass:i.config.ui.icons.swiper.bullet,bulletActiveClass:i.config.ui.icons.swiper.bulletActive,nextButton:this.$(".next").get(0),prevButton:this.$(".prev").get(0),buttonDisabledClass:"disabled",paginationBulletRender:function t(n,r){return i.utils.formatString(e,[r])},onTouchMove:function n(e,t){if(i.activeComponents.hasActiveComponents()){e.lockSwipes()}else{i.nomad.isSwiping=true}},onTouchEnd:function r(e){i.nomad.isSwiping=false;e.unlockSwipes()},onClickNext:_.bind(function(){this._handleSwipe("next")},this),onClickPrev:_.bind(function(){this._handleSwipe("prev")},this),onSlide:_.bind(function(e){this._handleSwipe(e)},this)},this.options.settings));if(this._activeIndex){this.syncActive({index:this._activeIndex,disableAnimation:true})}},_handleSwipe:function l(e){var t=_.isString(e);if(t){e=this._activeIndex+(e==="next"?1:-1)}var n=e<0||e>=this.options.views.length;if(t&&n){return}if(e===this._activeIndex||n){this.Swiper.slideTo(e)}else{this._activeIndex=e;this.trigger("view:switch",{index:e})}},_dispose:function u(){if(this.Swiper){this.Swiper.destroy();this.Swiper=null}this._super()},update:function c(){if(this.Swiper){this.Swiper.update(true)}},syncActive:function d(e){var t=e.index,n=e.disableAnimation;this._activeIndex=t;if(this.Swiper&&this.Swiper.activeIndex!==t){this.Swiper.slideTo(t,n?0:this.Swiper.params.speed)}},updateSubtext:function f(e,t){},swipeRight:function h(){this._handleSwipe("prev")},swipeLeft:function p(){this._handleSwipe("next")}})},function(e,t,n){"use strict";var i=n(1);var r=n(8);var a=SUGAR.App;e.exports=i.declareComponent(r,{template:"tab-switcher",className:"tabs__scroll-bar",parentCss:"tabs__switcher",subtextCss:"subtitle",activeTabCss:"tab--active",events:function s(){return{"click .tab":"_onTabClick"}},initialize:function o(e){this.tabs=e.views;if(_.isString(e.subtextCss)){this.subtextCss=e.subtextCss}this._super(e)},updateSubtext:function l(e,t){this.$(".tab").eq(e).find("."+this.subtextCss).removeClass("hide").addClass("count").text(t)},syncActive:function u(e){var t=e.index;var n=this.$(".tab");n.removeClass(this.activeTabCss);$(n[t]).addClass(this.activeTabCss);this.tabs=_.map(this.tabs,function(e,n){e.active=n===t;return e})},_onTabClick:function c(e){var t=$(e.currentTarget);var n=t.data("tab-index");var i=this.tabs[n].gaData;this.trigger("view:switch",{index:n});if(i){a.analytics.trackEvent({category:i.category,action:i.action,value:null,label:i.label})}this._scrollToTab(t)},_scrollToTab:function d(e){var t=$(this.$el).width();var n=e[0].offsetLeft;var i=e.width();var r=$(this.el).find(".tabs__scroll-bar__ul");var a=r.scrollLeft();var s=void 0;var o=void 0;var l=void 0;if(t<n+i){s=1;o=n+i-t}else if(a>n){s=-1;o=n}var u=function c(){l=requestAnimationFrame(c);if(s>0&&a>=o||s<0&&a<=o){r.scrollLeft(o);cancelAnimationFrame(l);return}a=a+10*s;r.scrollLeft(a)};if(s){u()}}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(3);var a=n(34);var s=n(1);var o=n(8);var l=215;var u=30;var c=200;var d=s.declareComponent(o,{ACTIVE_COMPONENT_ID:"list_view_context_menu",tagName:"span",events:{"click .context-menu__item:not(.disabled)":"onItemClick"},initialize:function f(e){var t=this;this._super(e);this.parentView=e.parentView;this.listenTo(i,"app:orientation:changed",function(){if(t.activeItem){t._refresh()}});if(!i.isTablet){this.initListItemTouchEvents()}},initListItemTouchEvents:function h(){var e=this;var t=void 0;var n=void 0;var i=s.utils.isDirectionLTR()?1:-1;var r=this.parentView.$el;r.on("touchstart",function(e){n=$(e.target).closest("article");if(_.isEmpty(n)||n&&!n.hasClass("has-drag-menu")){return}t={touchStartX:e.touches[0].pageX,itemElStartPosX:n[0].getBoundingClientRect().left,distance:0};r.on("touchmove",o);r.on("touchend",d)});var a=function f(){r.off("touchmove",o).off("touchend",d);t.touchMoved=false};var o=function h(r){if($.__swipeHelper.swipeOrientation==="horizontal"){if(!t.touchMoved){t.touchMoved=true;var s=n.attr("data-id");var o=e.parentView.getModel(s);if(e.isOpened()&&e.activeItem.$el[0]!==n[0]){e._slideToPosX(e.activeItem.$el,0,c)}if(!e.activeItem||e.activeItem.$el[0]!==n[0]){e.show(n,o)}}if(!e.activeItem){a();return}t.touchMoveX=r.touches[0].pageX;t.distance=Math.floor(t.touchMoveX-t.touchStartX);if(Math.abs(t.distance)<3||i*t.itemElStartPosX>=0&&i*t.distance>0||Math.abs(t.distance)>l||Math.abs(i*t.itemElStartPosX+i*t.distance)>l){return}t.itemPosX=t.itemElStartPosX+t.distance;e._slideToPosX(e.activeItem.$el,t.itemPosX)}};var d=function p(n){if(!e.activeItem){a();return}else if($.__swipeHelper.swipeOrientation!=="horizontal"){return}if(t.itemElStartPosX===0&&i*t.distance>=0){return}else if(Math.abs(t.itemPosX)<=u||i*t.itemElStartPosX<0&&Math.abs(t.itemElStartPosX-t.itemPosX)>u||e._actionSheetIsActive){e._slideToPosX(e.activeItem.$el,0,c)}else{e._slideToPosX(e.activeItem.$el,i*-l,c)}a()}},_getAvailableActions:function p(e){return a.getRecordActions({view:this.parentView,model:e,type:"context-menu"})},_getAndPrepareActionsForDevice:function m(e){var t=i.isTablet?8:3;var n=this._getAvailableActions(e);if(n.length<=t){return n}var a=[];var s={name:"more",googleAnalyticsName:"c-more",types:["context-menu"],label:"LBL_MORE_BUTTON",iconKey:"actions.more",_actions:[],isEnabled:true,handler:function o(e,t){var n=this;var a=_.map(this._actions,function(e){var t=e.label,n=e.googleAnalyticsName;return{name:i.lang.get(t),googleAnalyticsName:n}});r._showGATrackedActionSheet(a,{title:i.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:function s(i){n._actions[i].handler(e,t)}})}};_.each(n,function(e,n){++n;if(n<t){a.push(e)}else if(n>=t){s._actions.push(e)}});a.push(s);return a},onGripClick:function g(e,t){var n=$(e.currentTarget).closest("article");var i=this.isItemHasContextMenuOpened(n.get(0));if(this.isOpened()){this.hide()}if(!i){this.show(n,t)}return false},onItemSwipeLeft:function v(e,t){if(i.isTablet&&$.__swipeHelper.swipeOrientation!=="vertical"){var n=$(e.currentTarget).closest("article");if(this.isItemHasContextMenuOpened(n.get(0))){return false}if(this.isOpened()){this.hide()}this.show(n,t)}},onItemSwipeRight:function b(e,t){if(this.isItemHasContextMenuOpened(e.currentTarget)){this.hide()}},_getDocuments:function y(e,t,n){var i=this;var r=_.findWhere(this._getAndPrepareActionsForDevice(t),{name:"file"});t.once("docs:ready",function(n){t.docData=n;if(i.activeItem.model===t){i.renderContextMenu(e,t)}});t.getDocuments(n)},renderContextMenu:function x(e,t){var n=this._getAndPrepareActionsForDevice(t);var r={contextMenuItems:n,isEmptyMenu:_.isEmpty(n),myFavorite:!!t.get("my_favorite")};var a=e.find(".box__context-menu");if(!_.isEmpty(a)){a.remove()}this.$el.html(i.template.get("context-menu")(r));e.append(this.$el)},_slideToPosX:function S(e,t,n){e.animate({"-webkit-transform":"translate3d("+t+"px, 0, 0)"},n||0)},setActiveItem:function w(e,t){this.activeItem={$el:e,model:t}},show:function L(e,t){var n=e.find(".menu-container");if(_.isEmpty(n)){return}this.setActiveItem(e,t);this._refresh();if(t){this.listenTo(t,"change",this._refresh)}n.addClass("on");this.activeItem.$el.addClass("active-list-item");i.activeComponents.add(this)},hide:function E(){var e=this.isOpened();if(!e){return}var t=this.activeItem.$el;var n=this.activeItem.model;var r=t.find(".menu-container");r.removeClass("on").find(".box__context-menu").remove();t.removeClass("active-list-item");if(n){n.off("docs:ready");this.stopListening(n,"change",this._refresh)}if(!i.isTablet){this._slideToPosX(this.activeItem.$el,0,c)}this.activeItem=undefined;i.activeComponents.remove(this)},onClose:function k(){this.hide()},_refresh:function A(){var e=this.activeItem.model;var t=this.activeItem.$el.find(".menu-container");var n=this.parentView.modContextData&&this.parentView.modContextData[e.module];var i=n&&n.docFields;var r=_.findWhere(this._getAndPrepareActionsForDevice(e),{name:"file"});if(r){this._getDocuments(t,e,i)}this.renderContextMenu(t,e)},isOpened:function M(){return!!this.activeItem&&this.activeItem.$el},isItemHasContextMenuOpened:function T(e){return this.activeItem&&this.activeItem.$el.get(0)===e},onItemClick:function C(e){e.preventDefault();e.stopPropagation();var t=$(e.currentTarget).attr("action");var n=this.activeItem.model;var i=_.findWhere(this._getAndPrepareActionsForDevice(n),{name:t});if(_.isFunction(i.handler)){i.handler(this.parentView,n)}if(!i.isMultipleChoice&&i.autoClose){this.hide()}},onItemLongTap:function R(e,t){if(!$.os.android){return}i.analytics.trackEvent({category:"longTap",action:"c-menu"});if(this.isOpened()){this.hide()}this.showActionSheet(e,t)},showActionSheet:function D(e,t){var n=this;var a=$(e.currentTarget).closest("article");var s=this.parentView.modContextData&&this.parentView.modContextData[t.module];var o=[];var l=[];var u=this._getAvailableActions(t);this.setActiveItem(a,t);if(!_.isEmpty(u)){this._actionSheetIsActive=true;r.showActionSheet(_.map(u,function(e){return i.lang.get(e.label)}),{title:i.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:function c(e){var r=u[e];if(_.isFunction(r.handler)){r.handler(n.parentView,t)}n.onCloseActionSheet(a);if(i.isNative)return;return!r.isMultipleChoice},onCancelCb:function d(){return n.onCloseActionSheet(a)}})}t.once("docs:ready",function(e){t.docData=e});s&&t.getDocuments(s.docFields)},onCloseActionSheet:function I(e){e.removeClass("selected-item");this.activeItem=undefined;this._actionSheetIsActive=false}});s.registerComponent({baseType:"context-menu",cmp:d});e.exports=d},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(39);var s=n(20);var o=r.declareComponent(a,{_stringType:"dashboard",navigationName:s.DASHBOARD,template:"dashboard",lazyRender:true,lazyLoad:true,activeIndex:null,switcherCss:"dashboard-container",hiddenViewCss:"",events:function l(){return{"click .dashlets__list .dashlet__item":"_onDashletItemClick"}},globalEvents:{"app:orientation:changed":"_onOrientationChange"},_dashlets:null,_isRecordDashboard:false,_$dashboard:null,_dashletTypeMap:{"tabbed-dashlet":"tabbed-list-view-dashlet",dashablelist:"list-view-dashlet",casessummary:"cases-summary","sales-pipeline":"forecast-pipeline",twitter:"twitter-container-dashlet"},initialize:function u(e){var t=r.dashboards.getDashboard(e.dashboardId||e.id);this._isRecordDashboard=t.get("dashboard_module")!=="Home"&&t.get("view_name")==="record";if(this._isRecordDashboard){var n=e.context.get("parentModel");this.parentModel=e.parentModel=i.data.createBean(e.parentModule,n?n.toJSON():{id:e.parentModelId});if(!n){this.listenTo(this.parentModel,"sync",function a(){this.updateHeader()});this.parentModel.fetch()}}e.model=t;e.context.set({model:t,parentModel:this.parentModel});this._super(e)},_getDashboardName:function c(){var e=this._isRecordDashboard?this.parentModel.get("name"):this.model.get("name");var t=this._isRecordDashboard?this.module:"Home";return i.lang.get(e,t)||null},updateHeader:function d(){var e=this.currentView;var t=this._isRecordDashboard;var n={subtitle:t&&r.getSingularModuleName(this.parentModel.module),dashboardHome:Boolean(e&&!t),back:false,mainMenu:true,title:this._getDashboardName()||i.lang.get("LBL_LOADING"),offlineEnabled:i.offlineEnabled};var a=void 0;if(e){a=e.title;if(e.dataTitle){a+=e.dataTitle}}else{a=this._getDashboardName()}if(this._isRecordDashboard){this.setSubtitle(a);n.back=i.isTablet?!this.options.isRootScreen:true}else{n.title=a}i.controller.updateHeader(this,function(){return n})},showDashboardHome:function f(){i.controller.goUp()},loadData:function h(){},getFieldNames:function p(e){return null},onAfterShow:function m(){this.handleActiveDashlet();var e=i.controller.layoutManager;var t=this.options.isRootScreen;var n=t&&!!e.getRecordLayout();var r=t&&n?"root":"record";this.setPaginatorVisible(r!=="root");this.updateHeader();this._super()},onHeaderDashboardHomeClick:function g(){this.showDashboardHome();return true},createSwitcher:function v(){this.omitSwitcherForOneView=false;this.viewSwitcher={switcherType:a.SwitcherTypes.PAGINATION,options:{$parentEl:this.$el,containerSelector:".dashlets__slider-area",settings:{wrapperClass:"dashlets__slider",slideClass:"dashlet__b",spaceBetween:2}}};this._super()},getViewDefs:function b(e){var t=e.model.get("metadata")||{};var n=[];this._dashlets=[];_.each(t.dashlets,function(e,t){var r=e.view;this._dashlets.push({index:t,meta:e,title:i.nomad.dashboards.getDashletTitle(r),icon:this._getDashletIcon(r)});n.push(this._getDashletViewCfg(e))},this);return n},_getDashletViewCfg:function y(e){var t=e.view.type;var n=i.metadata.getView(null,t);var r=this.options.parentModel||this.options.context.get("parentModel");var a=i.nomad.dashboards.getDashletTypeRegistry();var s;if(n&&n.tabs){t="tabbed-dashlet"}t=a[t]||this._dashletTypeMap[t]||t;s=_.isFunction(t)?t:i.nomad.getViewClass({baseType:t,module:e.view.module});return{viewId:e.id,dashletId:e.id,name:s,meta:e,module:e.view.module,dashboardId:this.options.model.id,
parentModel:r}},getActiveDashletId:function x(){var e=this._dashlets[this.activeIndex];return e&&e.meta.id},_checkSwiperUpdateRequired:function S(){if(i.navigation.manager.hasStepChanged()){this.viewSwitcher.update()}},handleActiveDashlet:function w(){var e=i.controller.getScreenContext().dashletId;var t=this.getActiveDashletId()===e;this._$dashboard=this._$dashboard||this.$el.parent(".layout__Dashboards");if(!e){this.home()}else{var n=!this.currentView||this.currentView.meta.id!==e;var r=this.currentView&&this.currentView._dataObsolete;this._checkSwiperUpdateRequired();if(n){var a=_.findIndex(this._dashlets,function(t){return t.meta.id===e});this.switchView({index:a,disableAnimation:t})}else if(r){this._loadView(this.currentView)}}},home:function L(){this.setDashletsVisible(false);this.setSubtitleVisible(false);if(this.currentView){this.currentView.onBeforeHide()}this.abortActiveRequests();this._currentOrEachView(function(e){e.unbindGlobalEvents()});this.activeIndex=this.currentView=null;this.trigger("views:switch")},createView:function E(e){var t=this._super(e);t._dataObsolete=true;return t},_onDashletItemClick:function k(e){var t=$(e.currentTarget).data("dashlet-index");var n=this._dashlets[t];if(n.meta.view){_.extend(n.meta.view,{invokedFromDashboard:true})}this.navigateByIndex(t)},switchView:function A(e){if(this.currentView){this.currentView.onBeforeHide()}else{e.disableAnimation=true}this._super(e);var t=this._dashlets[this.activeIndex];if(t.meta.view.invokedFromDashboard){this.currentView.onInvokedFromDashboard();t.meta.view.invokedFromDashboard=false}this.setDashletsVisible(true);if(this._isRecordDashboard){this.setSubtitle(t.title);this.setSubtitleVisible(true)}this.updateHeader(this.currentView)},onSwitchView:function M(e){if(e.index!==this.activeIndex){this.navigateByIndex(e.index)}},navigateByIndex:function T(e){var t=""+this._dashlets[e].meta.id;this.navigateToDashlet(t)},navigateToDashlet:function C(e){var t=this.model;var n=i.controller.getScreenContext();var r;var a;var s;if(this._isRecordDashboard){if(n.link){a=[n.parentModule,n.parentModelId,"link",n.link,n.modelId,"Dashboards",t.id,e]}else if(n.moduleLink){a=[n.linkParentModule,n.linkParentModelId,"link",n.moduleLink,n.parentModelId,"Dashboards",n.dashboardId,e]}else{r=this.options.parentModelId||this.context.get("parentModelId");a=[t.get("dashboard_module"),r,"Dashboards",t.id,e];if(n.root){a.splice(0,0,i.controller.getScreenContextRoot())}}s=a.join("/")}else{s=i.router.buildRoute(this.module,t.id,e)}i.controller.navigate(s,{initiator:this.navigationName})},_getDashletIcon:function R(e){var t=i.nomad.dashboards.getDashletTypeRegistry()[e.type];var n=t&&_.getNested(t.prototype,"iconKey");if(n){return n}var r=e.template==="tabbed-dashlet";var a=r?i.config.ui.icons.dashlets["tabbed-dashlet"]:i.config.ui.icons.dashlets;var s=r?"dashlets.tabbed-dashlet":"dashlets";return a[e.type]&&s+"."+e.type||"dashlets.default"},setSubtitle:function D(e){this.$el.find(".dashlets__title").text(e)},setSubtitleVisible:function I(e){this.$el.find(".dashlets__title").toggleElement(e)},setPaginatorVisible:function O(e){if(!this.currentView||this._dashlets.length===1){e=false}this._$dashboard.toggleClass("show-paginator",e)},setDashletsVisible:function N(e){this._$dashboard.toggleClass("show-dashlets",e);this.setPaginatorVisible(e)},_dispose:function F(){this._super();this._dashlets=this._$dashboard=null}});i.nomad.registerComponent({cmp:o,baseType:"dashboard"});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(38);var s=n(39);var o=n(40);var l=n(89);var u=n(51);var c=e.exports=r.declareComponent(a,{isRecSummaryVisisble:true,isRelatedRecsVisible:true,isActivityStreamVisible:true,isDashboardsTabVisible:true,getViewDefs:function d(e){this.isActivityStreamVisible=this.isActivityStreamVisible&&i.supportedFeatures.activities&&i.metadata.getModule(e.module).activityStreamEnabled;return[{view:o,viewId:"detail",module:e.module,overlayTarget:this.$el},{view:s,viewId:"tabs",className:"view__detail-tabs",partialLoadEnabled:true,views:this.getTabViews(e),viewSwitcher:s.SwitcherTypes.TABS}]},getTabViews:function f(e){var t=[];if(this.isRecSummaryVisisble){t.push(this.getRecSummaryViewDef(e))}if(this.isRelatedRecsVisible){t.push(this.getRelatedRecsViewDef(e))}if(this.isDashboardsTabVisible){t.push(this.getDashboardsDef(e))}if(this.isActivityStreamVisible){t.push(this.getActivityStreamViewDef(e))}return _.compact(t)},getRecSummaryViewDef:function h(e){return{title:i.lang.get("LBL_DETAILS"),view:u,viewId:"recordsummary",module:e.module,overlayTarget:this.$el}},getRelatedRecsViewDef:function p(e){return{title:i.lang.get("LBL_DETAIL_RELATED"),view:l,module:e.module,modelId:e.modelId,viewId:"relatedrecs",gaData:{category:"click",action:"tab-related"}}},getDashboardsDef:function m(e){var t=r.dashboards.getDashboards({module:e.module});var n=e.modelId;var a;if(!i.config.dashboards.recordDashboardsEnabled||_.isEmpty(t)||!i.config.dashboards.enabled){return}a=_.map(t,function(t){return{id:t.id,viewId:t.id,view:i.nomad.getViewClass({baseType:"dashboard"}),module:"Dashboards",title:i.lang.get(t.get("name"),e.module),parentModelId:n,parentModule:e.module,model:t}});return{title:i.lang.get("LBL_DASHBOARDS"),view:s,viewId:"recdashboard",views:a,viewSwitcher:s.SwitcherTypes.DROPDOWN,gaData:{category:"click",action:"tab-dashboard"}}},getActivityStreamViewDef:function g(e){return{title:i.lang.get("LBL_ACTIVITY_STREAM"),view:i.nomad.getViewClass({baseType:"list",module:"Activities"}),viewId:"activities",dashletName:"activitystream-dashlet",module:"Activities",parentModel:e.context.get("model"),gaData:{category:"click",action:"tab-activity-stream"}}}});i.nomad.registerComponent({cmp:c,baseType:"detail"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(7);var o=_.noop;var l=r.declareComponent(s,{events:{"click .delete:not(.disabled)":"rollbackRecord"},globalEvents:{"offline:tx:delete":"onTxDeleted"},template:"detail.TxLog",_render:function u(){if(!this.model.get("_tx_action"))return;this._super()},onBeforeRender:function c(){var e=this.model.get("_tx_bean_module");var t=parseInt(this.model.get("_tx_action"),10);var n=i.metadata.getModule(e);var a=n||{fields:{}};this.updatedFields=i.utils.deepCopy(this.model.get("_tx_updated_fields"));if(this.updatedFields){var s=this.updatedFields.currency_id;var o=this.updatedFields.parent_type;if(o){o=_.clone(o)}else if(this.updatedFields.parent_id){this.model.attributes.parent_type=this.model.attributes.bean.parent_type}switch(t){case i.offline.SyncActions.CREATE:case i.offline.SyncActions.UPDATE:var l=this._getViewableFields(e);this.updatedFields=l?_.pick(this.updatedFields,this._getViewableFields(e)):this.updatedFields}if(i.offline.SyncActions.LINK===t||i.offline.SyncActions.UNLINK===t){this.updatedFields.link=true}else{_.each(this.updatedFields,function(t,l){if(l==="my_favorite"){t.vname="LBL_ACTION_FAVORITE";delete t.before;t.after=""+t.after}else if(l==="following"){if(r.canFollow(this.model)){t.vname="LBL_ACTION_FOLLOW";delete t.before;t.after=""+t.after}else{delete this.updatedFields.following}}else{var u=_.contains(["assigned_user_id","deleted","currency_id"],l)||t.type==="id";if(n&&(!a.fields[l]||!i.config.offline.debug.render&&u)){delete this.updatedFields[l];return}t.vname=a.fields[l]||l;_.extend(t,a.fields[l]);var c={def:a.fields[l]||{type:"varchar",name:l},view:this,model:this.model,module:e};if(c.def.type==="email"){c.def=_.defaults({type:"varchar"},c.def);t.before=_.pluck(t.before,"email_address").join(", ");t.after=_.pluck(t.after,"email_address").join(", ")}var d=i.view.createField(c);var f=i.view.createField(c);if(t.before||t.before===0){d.model.set(l,t.before,{silent:true});if(t.type==="currency"&&s){d.model.set("currency_id",s.before,{silent:true})}else if(t.type==="parent"&&o){d.model.set("parent_type",o.before,{silent:true})}t.before=d.render()}f.model.set(l,t.after,{silent:true});if(t.type==="currency"&&s){f.model.set("currency_id",s.after,{silent:true})}else if(t.type==="parent"&&o){f.model.set("parent_type",o.after,{silent:true})}t.after=f.render()}},this)}}this.fields={};this._super()},_getViewableFields:function d(e){var t=i.metadata.getView(e,"edit");if(t){return _.reduce(t.panels,function(e,t){var n=[];_.each(t.fields,function(e){if(e.fields){n.push.apply(n,_.pluck(e.fields,"name"))}else{n.push(e.name)}});return _.union(e,n)},[])}else return null},onAfterRender:function f(){this._super();_.each(this.updatedFields,function(e,t){if(t==="my_favorite"||t==="following"||!e){return}if(e.before){e.before.dispose();e.before=null}if(e.after){e.after.dispose();e.after=null}},this)},_rollbackTx:function h(){var e=this;a.showConfirm(i.lang.get("LBL_OFFLINE_ROLLBACK_PROMPT"),{callback:function t(n){if(n===2){i.offline.storage.rollbackTransaction(e.model.attributes,{},function(t){if(!t){e.collection.remove(e.collection.get(e.model.id));i.alert.show("rollback_success",{level:"success",messages:i.lang.get("LBL_OFFLINE_ROLLBACK_SUCCESS"),closeable:true,autoClose:true});i.controller.clean();i.controller.goBack()}else{i.alert.show("rollback_success",{level:"error",messages:i.lang.get("LBL_OFFLINE_ROLLBACK_FAILED"),closeable:true,autoClose:true});i.logger.error(""+t)}})}}})},rollbackRecord:function p(e,t){if(i.offline.syncManager.isSyncing()){a.showAlert(i.lang.get("LBL_OFFLINE_SYNC_IN_PROGRESS"))}else{this._rollbackTx()}},onTxDeleted:function m(e){if(e.txOptions.txId===this.model.get("_tx_uid")){this.$el.find(".btn.delete").addClass("disabled").html(i.lang.get("LBL_OFFLINE_TRANSACTION_SYNCED"))}},loadData:function g(e){var t=this;this.model.sync=function(e,n,r){var a=r.success;async.waterfall([function(e){r.success=function(t){e(null,t)};i.offline.storage.readTransactions(r,{id:n.id})},function(e,t){if(!e){t(new o)}else{i.offline.storage.fillTxLogData([e],function(){t(null,e)})}}],function(e,n){if(!e){a(n);t.render()}else if(e instanceof o){i.controller.clean();i.controller.goBack()}})};this.model.fetch(e)}});i.nomad.registerComponent({cmp:l,baseType:"detail",module:"TxLog"});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(48);var s=n(7);var o=r.declareComponent(s,{_stringType:"address-edit",addressFields:null,template:"address-edit",_bodyScroll:true,initialize:function l(e){var t=this;this._super(e);this.action="edit";this.fallbackFieldTemplate="edit";this.addressFields=this.context.get("addressFields");this.addressFieldsNames=_.pluck(this.addressFields,"name");this.model=this.context.get("model");this.parentModel=this.context.get("parentModel");_.each(this.addressFields,function(e){var n="change:"+e.name;t.listenTo(t.model,n,function(e,i,r){t.parentModel.trigger(n,t.model,i,r)})})},save:function u(){var e=this;a.showOverlay();this.model.doValidate(this.addressFieldsNames,function(t){a.hideOverlay();if(t){_.each(e.addressFields,function(t){e.parentModel.set(t.name,e.model.get(t.name))});i.controller.goBack()}})},onHeaderSaveClick:function c(){this.save()}});i.nomad.registerComponent({cmp:o,baseType:"address-edit"});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(77);var s=n(19);var o=r.declareComponent({parent:a},{_isDateRangeMode:false,initialize:function l(e){this._super(e);this._initDateRangeProperty();if(this._isDateRangeMode){this.model.addValidationTask("date_range_validation",_.bind(this._validateRange,this))}},_initDateRangeProperty:function u(){var e=["date_start","date_end"];this._isDateRangeMode=_.some(this.options.meta.panels[0].fields,function(t){return t.type==="fieldset"&&_.intersection(t.related_fields,e).length===e.length})},onAfterRender:function c(){if(!this.context.isCreate()){var e=this.getField("invitees");if(e)e.$el.hideElement()}this._super();this._setDefaultDateValues()},setCallData:function d(e){this.model.set(e);if(this._isDateRangeMode){this._populateEndDateByDuration(e)}this._skipSetDefaults=true},save:function f(e){e=e||[];e.push("send_invites");if(this._isDateRangeMode){if(_.intersection(this._getChangedFields(),["date_start","date_end"]).length){e.push("duration_hours","duration_minutes")}}else{this.model.unset("date_end")}this.sendInvites=this.model.get("send_invites");this._super(e)},_saveRecord:function h(e,t){t=_.without(t,"invitees");this._populateDurationValues();this._super(e,t)},_validateRange:function p(e,t,n){var r=this.model.get("date_start");var a=this.model.get("date_end");var s;var o;var l;if(r&&a){l=i.date.compare(r,a)<1;if(!l){s=this.getField("date_start");o=this.getField("date_end");t.date_start={isBefore:o.label};t.date_end={isAfter:s.label}}}n(null,e,t||{})},_setDefaultDateValues:function m(){var e=i.date().seconds(0);if(this._skipSetDefaults||!this.context.isCreate()){return}if(e.minutes()>30){e.add("h",1).minutes(0)}else if(e.minutes()>0){e.minutes(30)}this.model.set({date_start:e.formatServer(),duration_hours:0,duration_minutes:30});if(this._isDateRangeMode){this._populateEndDateByDuration()}this.model.set({send_invites:false});this._skipSetDefaults=true},_populateEndDateByDuration:function g(e){var t=this.model;var n=t.get("date_start");var r;var a;var s;if(!n){return}a=e?e.duration_hours:t.get("duration_hours");s=e?e.duration_minutes:t.get("duration_minutes");r=i.date(n).add("h",a).add("m",s).formatServer();t.set("date_end",r)},_populateDurationValues:function v(){var e;var t;if(!this._isDateRangeMode){return}t=this.model;e=i.date(t.get("date_end")).diff(t.get("date_start"));t.set("duration_hours",Math.floor(i.date.duration(e).asHours()));t.set("duration_minutes",i.date.duration(e).minutes())},_getSavingTasks:function b(e){var t=s.prototype._getSavingTasks.call(this,e);var n=this;var r=this.model.get("invitees");if(r){_.each(r,function(e){t.push(function(t){var r=i.data.createRelatedBean(n.model,e.id,e.link);r.save(null,{relate:true,fields:["id"],success:function a(){t()},error:function s(e){t(e)}})})})}if(this.sendInvites&&this.context.isCreate()){t.push(function(e){n.model.set({send_invites:true},{silent:true});n._saveRecord(e,["send_invites"])})}return t},onBeforeValidate:function y(){if(this.context.isCreate()){this.model.unset("send_invites",{silent:true})}},handleSaveError:function x(e){this._super(e);if(!e.isFileUploadError){if(this.model){this.model.set({send_invites:this.sendInvites},{silent:true})}}}});i.nomad.registerComponent({cmp:o,baseType:"edit",module:"Meetings"});i.nomad.registerComponent({cmp:o,baseType:"edit",module:"Calls"});e.exports=o},function(e,t,n){"use strict";(function(e){var t=SUGAR.App;var i=n(1);var r=n(19);var a=i.declareComponent(r,{onAfterRender:function s(){this._super();var e;if(this.model.link){e=this.model.link.bean.id}if(this.context.isCreate()&&_.isEmpty(this.model.get("opportunity_id"))){this.model.set("opportunity_id",e)}}});t.nomad.registerComponent({cmp:a,module:"RevenueLineItems"});e.exporst=a}).call(t,n(46)(e))},function(e,t,n){"use strict";(function(e){var t=SUGAR.App;var i=n(1);var r=n(19);var a=i.declareComponent(r,{initialize:function s(e){this._super(e);this.model.on("change:attachment_list",_.bind(this._onChangeAttachmentList,this))},_onChangeAttachmentList:function o(){if(this.model.hasChanged("picture")){this.trigger(this.ACTION_NAME,{name:"user:picture:change",options:{pictureId:this.model.get("picture")}})}}});t.nomad.registerComponent({cmp:a,module:"Users"});e.exporst=a}).call(t,n(46)(e))},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=r.declareComponent(a,{_stringType:"textarea-edit",editElTag:"textarea",setValue:function o(e){var t=this.$(this.editElTag);var n=!!this.options.isReadOnly;t.val(e);if(n){t.attr("readOnly",n)}if(e||n)return;t.attr("tabindex",1e5).attr("name","somename").get(0).focus()},getValue:function l(){return this.$(this.editElTag).val()},save:function u(){var e=this.getValue();var t=r.utils.stripLastEmptyStrings(e);this.context.get("parentModel").set(this.context.get("fieldName"),t);i.controller.goBack()},onHeaderSaveClick:function c(){this.save()}});r.registerComponent({cmp:s,baseType:"textarea-edit"});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=e.exports=r.declareComponent(a,{_stringType:"error-emulation",globalEvents:{"app:error:emulation:exceptions":"processExceptions"},events:{"click .error-emulation-check input":"onClick","change .error-emulation-select":"onSelectChange"},initialize:function o(e){var t=["app:error:emulation:offline","app:error:emulation:http","app:error:emulation:api","app:error:emulation:crud","app:error:emulation:exceptions"];_.each(t,function(e){i.events.unregister(i,e);i.events.register(e,i)});this._super(e)},loadData:function l(){},onBeforeRender:function u(){var e=i.config.errorEmulation;var t=e.emulationExceptions;var n=_.findWhere(e.http,{status:true});var r=_.keys(e.api);var a;var s;if(n){a=_.contains(_.keys(t),n.name);if(t[n.name]){s=_.difference(r,t[n.name].methods)}}this.crudDisabled=a;this.offlineErrorItems={};_.each(e.offline,function(e,t){this.offlineErrorItems[t]=e.status},this);this.offlineDisabled=_.isEmpty(this.offlineErrorItems);this.httpErrorItems={};_.each(e.http,function(e){this.httpErrorItems[e.name]=e.status},this);this.apiErrorItems={};_.each(e.api,function(e,t){this.apiErrorItems[t]={status:e.status,crud:e.crud,disabled:s&&_.contains(s,t)}},this);if(!i.serverInfo.isSevenUp){delete this.apiErrorItems.follow}},onAfterRender:function c(){this.$crudSelects=this.$el.find("[data-type=crud]");this.$apiBoxes=this.$el.find("[data-type=api]")},onClick:function d(e){var t=$(e.target).data("type");var n=$(e.target).data("key");var r="app:error:emulation:"+t;i.config.errorEmulation[t][n].status=!i.config.errorEmulation[t][n].status;i.trigger(r,n)},onSelectChange:function f(e){var t=$(e.target).attr("data-type");var n=$(e.target).attr("data-parent-type");var r=e.target.value;var a="app:error:emulation:"+t;var s=n?i.config.errorEmulation.api[n][t]:i.config.errorEmulation[t];this.updateConfig(s,r);i.trigger(a,r)},updateConfig:function h(e,t){var n=_.findWhere(e,{name:t});_.each(e,function(e){e.status=false});if(t!=="default"){n.status=true}},processExceptions:function p(e){var t=this;if(e.code==="enableAll"){this.$crudSelects.prop("disabled",false);this.$apiBoxes.prop("disabled",false)}else{if(e.operation){this.$crudSelects.val(e.operation);_.each(this.$crudSelects,function(n){var r=$(n).attr("data-parent-type");var a=i.config.errorEmulation.api[r].crud;t.updateConfig(a,e.operation)});this.$crudSelects.prop("disabled","disabled")}if(e.methods){var n=_.map(e.methods,function(e){return"."+e}).join(", ");var r=this.$apiBoxes.not(n).prop("disabled","disabled").prop("checked",false);_.each(r,function(e){var t=$(e).data("key");i.config.errorEmulation.api[t].status=false})}}}});i.nomad.registerComponent({cmp:s,baseType:"errorEmulation"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(7);var o=e.exports=r.declareComponent(s,{className:"list-layout",_stringType:"error",events:{"click #sugar_url":function l(e){e.preventDefault();a.openUrl(e.target.href)}},errors:{403:"ERR_MOBILE_NOT_AUTHORIZED"},defaultErrorLabel:"ERR_GENERIC_TITLE",onBeforeRender:function u(){if(this.context.get("backToSugar")){this.showSugarBackLink=true;this.sugarLink=r.getDesktopUrl()+"#"+this.context.get("sugarRoute")}this.errorCode=this.context.get("code");this.errorLabel=this.errors[this.errorCode]||this.defaultErrorLabel}});i.nomad.registerComponent({cmp:o,baseType:"error"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=false;function a(e){_.delay(function(){var t=$(e.target);if(!r&&!t.hasClass("inert")&&!t.hasClass("grip")&&!t.attr("disabled")){$(e.currentTarget).addClass("selected-item")}},50)}function s(e){_.delay(function(){$(e.currentTarget).removeClass("selected-item");r=false},50)}function o(e){if(!r){$(e.currentTarget).removeClass("selected-item")}r=true}$(function(){$(document.body).on({"touchstart.fast-click-highlight":a,"touchmove.fast-click-highlight":o,"touchend.fast-click-highlight":s,"touchcancel.fast-click-highlight":s},".fast-click-highlighted")})},function(e,t,n){"use strict";var i=SUGAR.App;var r=void 0;function a(e){s(true,e.target);if($.os.ios){var t=e.target;var n=setInterval(function(e){if(!r){clearInterval(n);return}if(t!==document.activeElement){s(false,t);clearInterval(n)}},100)}if(!i.isTablet||!$.os.android){return}var a=$(e.target);var o=a.parents(".scroll").get(0);var l=a.parents("span[sfuuid]").get(0);if(o&&l){_.delay(function(){o.scrollTop=l.offsetTop},1e3)}}function s(e,t){r=e;$(document.body).toggleClass("body--field-onfocus",e);var n=$(t).parents(".field");if(n){n.toggleClass("field--onfocus",e)}}$(function(){$(document.body).on({"focus.focus-on-input":a,"blur.focus-on-input":function e(t){return s(false,t.target)}},"input").on({"focus.focus-on-input":function t(e){return s(true,e.target)},"blur.focus-on-input":function n(e){return s(false,e.target)}},"select")})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(79);var s=n(3);var o=n(34);var l=r.declareComponent(a,{events:{"click .header__btn--save":"onSaveClicked","click .header__btn--cancel":"onCancelClicked","click .header__btn--caret":"onCaretClicked"},initHeaderActions:function u(){this._super();var e={additionalAction:"additional:action"};_.extend(this.headerActions,e)},onBeforeRender:function c(){if(this.config.save&&!this.context.get("create")&&!i.controller.getScreenContext().isDynamic){this.config.saveHidden=true}},onAfterRender:function d(){this._super();this.addCancelSaveHandlers()},addCancelSaveHandlers:function f(){var e=this;this.model.on("data:sync:start",function(t,n,i){return e.setButtonsEnabled(false)},this).on("sync",function(t,n,i,r){return e.setButtonsEnabled(true,null,i.method)},this).on("data:sync:error",function(t,n,i){return e.setButtonsEnabled(true,i,t)},this)},setButtonsEnabled:function h(e,t,n){if(e){var r=this._hasAccessToSave();if(r){this._refreshHeaderActions()}this.$(".header__save-container").toggleElement(r);if(t&&(t.status===404||t.status===403&&n==="read"||n==="read"&&(!i.offlineEnabled||t instanceof i.offline.Error))){this.$(".header__save-container").hideElement()}if(!this._saveBtnDisabled){this.$(".header__btn--save").removeClass("disabled")}this.$(".header__btn--cancel").removeClass("disabled")}else{this.$(".header__btn--save").addClass("disabled");this.$(".header__btn--cancel").addClass("disabled")}},_refreshHeaderActions:function p(){this.availableAdditionalActions=o.getEditViewActions({view:this,model:this.model});var e=!_.isEmpty(this.availableAdditionalActions);this.$(".header__btn--caret").toggleElement(e);this.$(".header__btn--save").toggleClass("header__btn__save--combined",e)},onBackClicked:function m(){},onDashboardHomeClicked:function g(){},onHomeClicked:function v(){},onTitleClicked:function b(){},onCaretClicked:function y(e){var t=this;e.preventDefault();e.stopPropagation();var n=_.map(this.availableAdditionalActions,function(e){var n=e.label,r=e.name;return{name:_.unescape(i.lang.get(n,null,t)),googleAnalyticsName:r}});if(n.length){s._showGATrackedActionSheet(n,{title:i.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:function r(n){t._processAction(e,t.headerActions.additionalAction,{action:t.availableAdditionalActions[n].handler})}})}},_hasAccessToSave:function x(){return!this.model.get("id")||this.model.hasEditAccess()}});i.nomad.registerComponent({cmp:l,baseType:"headerEdit"});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;e.exports=function(){return{initiate:function e(){this._initiateTime=(new Date).getTime()},trackDuplicatesFound:function t(e){i.analytics.trackEvent({category:"lead-conversion",action:"dupe",label:e})},trackConvert:function n(e){var t=(new Date).getTime();var n=((t-this._initiateTime)/1e3).toFixed();this._initiateTime=undefined;i.analytics.trackEvent({category:"lead-conversion",action:"success",label:e.join(", "),value:n})},trackError:function r(e){i.analytics.trackEvent({category:"lead-conversion",action:"error",label:e.status})}}}},function(e,t,n){"use strict";var i=n(9);var r=3;i.registerListItemDataProvider({name:"lead-conversion-list-item-radio-selector",prepareItemData:function a(e,t){var n=this.parent.prepareItemData(e,t);var i=this.prepareFields(e,t);var a=_.filter(i,function(t){var n=e.get(t.name);return _.isObject(n)?!_.isEmpty(n):!_.isUndefined(n)&&n!==""});n.itemId=n.itemId||e.cid;var s=_.first(a,r);var o=_.rest(a,r);return _.extend({},n,{showLabel:true,headFields:s,restFields:o,links:{showMore:t.collection.length>1&&!_.isEmpty(o),edit:e.isNew()}})},prepareFields:function s(e,t){return t.additionalListFields},buildId:function o(e){return this.parent.buildId(e)||e.cid}})},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var r=SUGAR.App;var a=n(6);var s=n(9);var o=n(38);var l=n(19);var u=n(12);var c=n(82);var d=n(15);e.exports=s.extend(o,{lazyRender:true,isInitialSwitch:true,inSync:false,duplicatesCheckFailed:false,template:"lead-conversion-list-switcher",events:function f(){var e=this;return{"click .duplicates-list__search":"onSearchClick","click .duplicates-list__create":"onCreateClick","click .reload-duplicates":function t(){return e.fetchDuplicates()}}},initialize:function h(e){var t=this;this._super(e);this.listenTo(this.collection,"data:sync:start",function(){return t.onCollectionSyncStart()}).listenTo(this.collection,"sync",function(){return t.onCollectionSync()}).listenTo(this.collection,"data:sync:error",function(){return t.onCollectionSyncError()}).listenTo(this.collection,"data:sync:complete reset",function(){return t.render()});this.hasListAccess=r.acl.hasAccess("list",e.module);this.hasCreateAccess=r.nomad.canCreateModule(e.module)},onCollectionSyncStart:function p(){this.inSync=true},onCollectionSync:function m(){this.inSync=false;this.duplicatesCheckFailed=false},onCollectionSyncError:function g(){this.inSync=false;this.duplicatesCheckFailed=true},onInitialSwitch:function v(){this.createDefaultRecord();this.isInitialSwitch=false},onAfterShow:function b(){var e=this;this._super();this.trigger("view:show",this.getSelectedItem());if(this.duplicatesCheckFailed){this.isInitialSwitch=false;return}if(this.isDuplicatesCheckAvailable()){this.loadData({viewSwitched:true}).then(function(){return e.onInitialSwitch()}).catchReturn()}else if(this.isInitialSwitch){this.onInitialSwitch()}},onAfterRender:function y(){var e=this;this._super();this.dupecheckList=this.getViewById("duplicates");this.listenTo(this.dupecheckList,"selection:change",function(){return e.onSelectionChange()}).listenTo(this.dupecheckList,"edit:click",function(t){return e.showCreateView(t)})},onSelectionChange:function x(){this.trigger("selection:change",this.getSelectedItem())},loadData:function S(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.viewSwitched,i=n===undefined?false:n;return d.try(function(){if(!e.duplicatesCheckFailed&&(e.options.shouldCheckOnStart||i)){return e.fetchDuplicates()}})},getViewDefs:function w(e){return[{viewId:"duplicates",view:c,context:new a({module:this.collection.module,collection:this.collection}),subType:"dupecheck",module:e.module,sugarLogicEnabled:false,submitAfterSelect:false,multiselect:false,isPtrEnabled:false,isPaginationEnabled:false,buttonType:"radio"}]},onSearchClick:function L(){var e=this;var t=r.controller.loadScreen({isDynamic:true,view:u,context:new a({module:this.module,collection:r.data.createBeanCollection(this.module),model:r.data.createBean(this.module)}),multiselect:false})[0];t.onSelectionChange=_.noop;t.getCurrentList().on("selection:change",function(t){e.setSelectedItems(t);r.controller.disposeDynamic()});var n=t._searchBox;n.showSearch({skipAnimation:true});n.onCancelSearch=function(){return r.controller.disposeDynamic()}},onCreateClick:function E(){this.showCreateView()},createDefaultRecord:function k(){if(this.isRequired()&&this.collection.length===0){this.setDefaultRecord()}},setDefaultRecord:function A(){var e=this;var t=r.view.createView({name:r.nomad.getViewClass({baseType:"edit",module:this.module}),context:new a({create:true,module:this.module,model:this.model.clone()}),serverSync:false});t.onValidationError=_.noop;t.handleSaveSuccess=_.wrap(t.handleSaveSuccess,function(n){return e.setSelectedItems([t.model])});t.handleSaveError=_.wrap(t.handleSaveError,function(n){return e.showCreateView(t.model)});t.save()},showCreateView:function M(e){var t=this;e=e?e.clone():this.model.clone();var n=this.options.conversionMetadata.hiddenFields;var i=r.controller.loadScreen({isDynamic:true,view:r.nomad.getViewClass({baseType:"edit",module:this.module}),context:new a({create:true,module:this.module,model:e}),initOptions:{conversionMetadata:this.options.conversionMetadata,serverSync:false,getDisplayFields:function s(e){if(!n){return e}return e.map(function(e){if(!n[e.name]){return e}return _.extend({},e,{required:false,readonly:true})})}},headerConfig:{save:true,cancel:true,mainMenu:false,title:r.lang.get("LBL_CREATE_MODULE",this.module,r.lang.getModuleName(this.module))}})[0];i.onValidationError=_.noop;i.handleSaveSuccess=_.wrap(i.handleSaveSuccess,function(e){t.setSelectedItems([i.model]);r.controller.disposeDynamic()})},setSelectedItems:function T(e){this.collection.reset([].concat(i(e)));if(e.length===1){this.dupecheckList.clearSelection();this.dupecheckList.toggleItemSelected(e[0].cid)}},getSelectedItem:function C(){return this.dupecheckList.getSelectedModels()[0]},isRequired:function R(){return this.options.conversionMetadata.required},isDuplicatesCheckAvailable:function D(){var e=this.options.conversionMetadata;return e.copyData&&!this.inSync&&!this.collection.dataFetched&&r.acl.hasAccess("list",this.module)&&this.areDuplicateRequiredFieldsFilled()},fetchDuplicates:function I(){var e=this;return new d(function(t,n){if(e.isDuplicatesCheckAvailable()){e.collection.fetch({success:function i(e){t(e)},error:function r(e,t){n(new Error(t))}})}})},areDuplicateRequiredFieldsFilled:function O(){var e=this;var t=this.options.conversionMetadata.duplicateCheckRequiredFields;return!_.any(t,function(t){return _.isEmpty(e.model.get(t))})}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(8);var a=n(9);var s=n(37);e.exports=a.extend(r,{template:"lead-conversion-navigation-view",events:function o(){return{"click .lead-conversion__prev":"navigate","click .lead-conversion__next":"navigate"}},initialize:function l(e){this._super(e);this.state={nextBtn:{show:true,icon:"leadConversion.next",enabled:false,label:"LBL_NEXT_BUTTON_LABEL"},backBtn:{show:false,icon:"leadConversion.back",enabled:true,label:"LBL_BACK"}}},navigate:function u(e){e.preventDefault();e.stopPropagation();var t=$(e.currentTarget);if(t.hasClass("disabled")){return}var n=t.hasClass("lead-conversion__next");var i=n?this._activeIndex+1:this._activeIndex-1;this.trigger("view:switch",{index:i})},update:function c(e){this.state.nextBtn=_.extend({},this.state.nextBtn,e.nextBtn);this.state.backBtn=_.extend({},this.state.backBtn,e.backBtn);this.render()},syncActive:function d(e){var t=e.index;this._activeIndex=t}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(15);var a=n(39);var s=n(325);var o=n(326);var l=n(323);var u=n(9);var c=n(3);var d={DEFAULT:"default",FULFILLED:"fulfilled",INVALID:"invalid"};e.exports=u.extend(a,{_stringType:"lead-conversion-container",lazyLoad:false,lazyRender:false,shouldFetchContext:false,omitSwitcherForOneView:false,loadViewOnSwitch:true,viewSwitcher:o,template:"lead-conversion-view",initialize:function f(e){this.conversionModules=e.data.conversionModules;this.sourceFields=i.metadata.getModule("Leads","fields");this.leadModel=e.data.leadModel;this.stepsCount=this.conversionModules.length;this.$loadingScreenTargetEl=i.$rootEl.find("#content-child");this._super(e);this.leadConversionAnalytics=l();this.leadConversionAnalytics.initiate()},listenToChildViewsEvents:function h(){var e=this;_.each(this._views,function(t){e.listenTo(t,"selection:change",function(t){
e.updateViewSwitcher(t)}).listenTo(t,"view:show",function(t){e.updateViewSwitcher(t);var n=e.currentView.module;i.controller.updateHeader(e,function(t){var r=e.currentView.isRequired();var a=r?n:n+" ("+i.lang.get("LBL_OPTIONAL")+")";t.setTitle(i.lang.getModuleName(a,{plural:false}))});e.updateProgressBar()})})},updateViewSwitcher:function p(e){this.viewSwitcher.update(this.getNavigationState(e))},onAfterRender:function m(){this._super();this.$progress=this.$(".progress-bar");if(i.isTablet){i.overlay.show("hide-content-column",{$appendTo:i.$contentEl,templateOptions:{additionalClass:"overlay--shadow"}})}this.updateProgressBar();this.listenToChildViewsEvents();this.updateViewSwitcher()},headerConfig:function g(e){var t=this._views[this.activeIndex];var n=i.lang.getModuleName(t.module);var r=this.currentView.isRequired();var a=r?n:n+" ("+i.lang.get("LBL_OPTIONAL")+")";return _.extend({},e,{title:a,buttons:{cancel:true}})},createDuplicatesCollection:function v(e){var t=e.module,n=e.duplicatesCheckModel;return i.data.createBeanCollection(t).setOption("endpoint",function(e,r,a,s){var o=i.api.buildURL(t,"duplicateCheck");var l=_.keys(n.attributes);var u=i.data.getEditableFields(n,l);return i.api.call("create",o,u,s)})},getDuplicateCheckModel:function b(e){var t=e.moduleMetadata,n=e.sourceFields,r=e.sourceModel;if(!t.copyData){return}var a=!_.isEmpty(t.fieldMapping)?t.fieldMapping:{};var s=i.metadata.getModule(t.module,"fields");var o=i.data.createBean(t.module);_.each(r.attributes,function(e,t){var l=n[t];var u=s[t];if(_.isUndefined(l)||_.isUndefined(u)||!_.isUndefined(a[t])){return}if(i.acl.hasAccessToModel("edit",o,t)&&l.type===u.type&&l["duplicate_on_record_copy"]!=="no"&&r.has(t)&&r.get(t)!==o.get(t)){a[t]=t}});this.populateRecord(r,o,a);return o},populateRecord:function y(e,t,n){var r=this;var a=false;_.each(n,function(n,s){if(e.has(n)&&r.shouldSourceValueBeCopied(e.get(n))&&e.get(n)!==t.get(s)){var o=e.get(n);if(_.isObject(o)){o=i.utils.deepCopy(o)}t.setDefault(s,o);t.set(s,o);a=true}});return a},updateDependentModels:function x(e){var t=this;var n=e.module;_.each(this._views,function(i){var r=i.model;var a=_.findWhere(t.conversionModules,{module:r.module});var s=a&&a.dependentModules;var o=s&&s[n]&&s[n].fieldMapping;if(o){var l=t.populateRecord(e,r,o);if(l){i.collection.dataFetched=false}}})},shouldSourceValueBeCopied:function S(e){return _.isNumber(e)||_.isBoolean(e)||!_.isEmpty(e)},showLoadingScreen:function w(){i.overlay.show("lead-conversion",{template:"preloader-convert-lead",$appendTo:this.layout.$el})},hideLoadingScreen:function L(){i.overlay.hide("lead-conversion",true)},getViewDefs:function E(e){var t=this;var n=[];var a=_.map(this.conversionModules,function(a){var o=a.module;var l=a.duplicateCheckOnStart;var u=t.getDuplicateCheckModel({moduleMetadata:a,sourceFields:t.sourceFields,sourceModel:e.data.leadModel});var c=t.createDuplicatesCollection({module:o,duplicatesCheckModel:u});var d=new r(function(e,n){t.listenTo(c,"data:sync:start",function(){t.showLoadingScreen()}).listenTo(c,"sync",function(){t.hideLoadingScreen();if(c.length){t.leadConversionAnalytics.trackDuplicatesFound(o)}e()}).listenTo(c,"data:sync:error",function(e){t.hideLoadingScreen();n(new Error(e))})});n.push(d);return{module:o,shouldCheckOnStart:l,viewId:"list-switcher-"+o,conversionMetadata:a,collection:c,model:u||i.data.createBean(o),view:s,title:i.nomad.getSingularModuleName(o)}});r.all(n).catchReturn();return a},switchView:function k(e){var t=this;var n=e.index;var i=this._views[n];if(!i){this.convert();return}var r=_.keys(i.options.conversionMetadata.dependentModules);_.chain(this._views).map(function(e){return e.getSelectedItem()}).each(function(e,n){var i=t._views[n];if(_.contains(r,i.module)){t.updateDependentModels(e)}});this._super(e)},getNavigationState:function A(e){var t=this._views[this.activeIndex+1];var n=t?i.lang.getModuleName(t.module,{plural:true}):"LBL_CONVERT";var r=Boolean(t);var a=this._views[this.activeIndex-1];var s=a&&i.lang.getModuleName(a.module,{plural:true});var o={label:n,enabled:!this.currentView.isRequired()||!t&&e||e};var l={show:Boolean(s),label:s};if(!t){o.icon=false}return{nextBtn:o,backBtn:l}},getProgress:function M(){return((this.activeIndex+1)/this.stepsCount*100).toFixed(0)},updateProgressBar:function T(){var e=this.getProgress();this.$progress.css("left",e+"%");this.$progress.attr("data-progress",e+"%")},convert:function C(){var e=this;var t=function s(e){return e.getSelectedItem()};var n=this._views.filter(t);var r=n.map(t);var a=n.map(function(e){return e.module});this.leadConversionAnalytics.trackConvert(a);return this.moveRelatedActivitiesConfirm().then(function(){return e.requestLeadConversion(r)}).then(function(){return e.onConversionSuccess()}).catch(function(t){return e.onConversionError(t)}).tap(function(){i.syncAlertManager.hideSyncAlert()})},requestLeadConversion:function R(e){var t=this;var n=new Backbone.Model(_.extend({modules:this.parseEditableFields(e)},this.getTransferActivitiesAttributes()));var a=i.api.buildURL("Leads","convert",{id:this.leadModel.id});i.syncAlertManager.showSyncAlert("update");return new r(function(e,r){i.api.call("create",a,n,{success:e,error:function s(e){t.leadConversionAnalytics.trackError(e);i.error.handleHttpError(e);r(new Error(e))}})})},moveRelatedActivitiesConfirm:function D(){var e=this;return new r(function(t,n){var r=i.metadata.getConfig().leadConvActivityOpt;if(r==="donothing"){return t()}c.showConfirm(i.lang.get("LBL_MOVE_RELATED_ACTIVITIES_PROMPT"),{callback:function a(n){if(n===2){e.model.set("transfer_activities",true,{silent:true})}t()}})})},onConversionSuccess:function I(){i.alert.show("conversion_success",{level:"success",messages:i.lang.get("LBL_LEAD_CONVERSION_SUCCESS",null,{name:this.leadModel.get("name")}),autoClose:true});i.controller.goBack()},onConversionError:function O(e){},parseEditableFields:function N(e){var t={};_.each(e,function(e){var n=_.keys(e.attributes);t[e.module]=i.data.getEditableFields(e,n)});return t},getTransferActivitiesAttributes:function F(){var e=i.metadata.getConfig().leadConvActivityOpt;var t=this.model.get("transfer_activities");return{transfer_activities_action:e==="move"&&t?"move":"donothing"}},_dispose:function B(){if(i.isTablet){i.overlay.hide("hide-content-column")}this._super()}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(41);var s=n(81);var o=n(84);var l=n(6);var u=r.declareComponent(a,{_stringType:"global-search",defaultSorting:{field:"date_modified",direction:"desc"},initialize:function c(e){this._super(e);this._ownContext=this.context},_dispose:function d(){this.context=this._ownContext;this._ownContext=null;this._super()},getListViewDef:function f(e){return[{view:o,viewId:"recentsList",module:"Recents",isEnabled:i.supportedFeatures.recents},{view:s,viewId:"searchList",module:"Search"}]},getViewContext:function h(e){var t=this.context;if(e.viewId==="recentsList"){t=new l({collection:i.data.createBeanCollection("Recents")});t.isDataFetched=function(){var e=i.navigation.history.getPrevStep();var t=l.prototype.isDataFetched.call(this);return t?e&&e.screenOptions.root==="Search":false}}else if(e.viewId==="searchList"){t=new l({collection:i.data.createMixedBeanCollection()})}return t},onAfterRender:function p(){this._super();var e=i.supportedFeatures.recents;this.searchView=this.getViewById("searchList");this.recentsView=this.getViewById("recentsList");var t=e?this.recentsView:this.searchView;this.setActiveView(t)},setActiveView:function m(e){if(this.getCurrentList()===e){return}if(e===this.searchView){e.collection=this._adjustSearchCollectionParams(e.collection)}_.each(this.getListViews(),function(e){return e.active=false});e.active=true;this.resetCollectionEvents();this.layout.context=this.context=e.context},getCurrentList:function g(){return _.find(this.getListViews(),function(e){return e.active})},filterChanged:function v(e){this.toggleSearchList(!e.recents);this._super(e)},search:function b(){var e=this;var t=this._searchBox.getPreparedState().q;var n=Boolean(t)||!this._getRecentsState();var r=this.getCurrentList().collection;if(i.supportedFeatures.recents){this.toggleSearchList(n)}r=this._adjustSearchCollectionParams(r,t);this.listenTo(r,"data:sync:complete",function(t,n,i){e._searchBox.hideProgress()});this._super()},_getRecentsState:function y(){return this._filter.getPreparedState().recents},onAfterShow:function x(){this._super();var e=this._getRecentsState();this.toggleSearchList(!e)},toggleSearchList:function S(e){var t=this.getCurrentList();var n=e?this.searchView:this.recentsView;if(t.collection.getFetchRequest()){t.collection.abortFetchRequest()}_.each(this.getListViews(),function(e){return e.getViewContainer().addClass("hide")});n.getViewContainer().removeClass("hide");this.setActiveView(n)},_adjustSearchCollectionParams:function w(e,t){e.orderBy=t?null:this.defaultSorting;delete e.limit;e.query=t;e.module_list=i.nomad.getFtsEnabledModules();return e},getFieldNames:function L(e){var t=i.metadata.getModuleNames({filter:"visible",access:"list"});var n=this._super(e);_.each(t,function(e){var t=i.metadata.getModule(e).mergedFields;if(t){n=_.union(n,t)}});return n}});i.nomad.registerComponent({cmp:u,baseType:"list",module:"Search"});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=n(66);var o=r.declareComponent(a,{template:"comments-list",events:{"click .comments-more-btn":"_showMoreComments"},_moreCommentsCount:0,initialize:function l(e){this._super(e);var t=this.options.parentModel;var n=[];if(t.get("last_comment").id){n.push(t.get("last_comment"))}this.collection=i.data.createRelatedCollection(t,"comments",n);this.listenTo(this.collection,"sync",this.onDataSyncSuccess);this.listenTo(this.collection,"data:sync:error",this.onDataSyncError);this._updateMoreCommentsCount(this.collection.length)},_updateMoreCommentsCount:function u(e){this._moreCommentsCount=this.options.parentModel.get("comment_count")-e;if(this._moreCommentsCount<0){this._moreCommentsCount=0}},_showMoreComments:function c(e){e.preventDefault();this.collection.paginate({relate:true,add:true})},onDataSyncSuccess:function d(){this._updateMoreCommentsCount(this.collection.length);this.render()},onCreateCommentItem:function f(e){var t=i.data.createRelatedBean(e,i.data.createBean("Comments"),"comments",{parent_id:e.get("id")});var n=this;s.createPost(t,{appendTo:"root",savePost:function r(e){t.save(null,{relate:true,fields:["parent_id","data"],success:function i(t){n.collection.unshift(t);n.render();e(null)},error:e})}})},onDataSyncError:function h(e){}});i.nomad.registerComponent({cmp:o,baseType:"list",module:"Comments"});e.exports=o},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var r=n(1);var a=n(9);var s=n(11);var o=a.extend(s,{listItemTpl:"leads-list-item",listItemDataProvider:"list-item-leads"});a.registerListItemDataProvider({name:"list-item-leads",prepareFields:function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}var r=t[0],a=t[1];var s=this.parent.prepareFields.apply(this,[].concat(t));var o=_.findWhere(a.displayFields,{name:"status"});var l=Boolean(_.findWhere([].concat(i(s.additionalFields),[a.sortBy,s.titleField]),{name:"status"}));if(o&&!l){s=_.extend({},s,{statusFieldDef:o})}return s}});a.register(o,{module:"Leads"});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(11);var o=e.exports=r.declareComponent(s,{contextMenuActions:[{name:"delete",types:["context-menu"],label:"LBL_ROLLBACK_BUTTON",iconKey:"actions.delete",handler:function l(e,t){if(i.offline.syncManager.isSyncing()){a.showAlert(i.lang.get("LBL_OFFLINE_SYNC_IN_PROGRESS"))}else{e._rollbackTx(t)}}}],globalEvents:{"offline:tx:delete":"onTxDeleted"},listItemTpl:"list-item-tx-log",onAfterRender:function u(){this._super();this.toggleNoRecLbl()},onAfterShow:function c(){this._super();this.loadData()},_rollbackTx:function d(e){var t=this;a.showConfirm(i.lang.get("LBL_OFFLINE_ROLLBACK_PROMPT"),{callback:function n(r){if(r===2){i.offline.storage.rollbackTransaction(e.attributes,{},function(n){if(!n){t.collection.remove(t.collection.get(e.id));i.alert.show("rollback_success",{level:"success",messages:i.lang.get("LBL_OFFLINE_ROLLBACK_SUCCESS"),closeable:true,autoClose:true});i.controller.clean();if(i.controller.getScreenContext().modelId){i.controller.goBack()}t.toggleNoRecLbl()}else{i.alert.show("rollback_success",{level:"error",messages:i.lang.get("LBL_OFFLINE_ROLLBACK_FAILED"),closeable:true,autoClose:true});i.logger.error(""+n)}})}}})},onTxDeleted:function f(e){var t=this.collection.where({_tx_uid:e.txOptions.txId})[0];this.collection.remove(t);this.toggleNoRecLbl();this.scroll.reflow()},toggleNoRecLbl:function h(){if(!this.collection.length){this.$(".no-records-found").show()}}});i.nomad.registerComponent({cmp:o,module:"TxLog"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(11);var s=r.declareComponent(a,{events:{},fallbackFieldTemplate:"list",contextMenuDisabled:true,initialize:function o(e){e.meta=i.metadata.getView(e.module,"list");this._super(e);this.modContextData=r.getContextMeta("list")}});i.nomad.registerComponent({cmp:s,baseType:"list",module:"Teams"});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(5);var s=n(80);var o=n(59);var l=function u(e,t,n){var r=i.utils.formatString(e,[n.id]);a.openUrl(r)};e.exports=r.declareComponent(s,{contextMenuActions:[{name:"reply",types:["context-menu"],label:"LBL_TWITTER_REPLY",iconKey:"actions.reply",handler:function c(e,t){l(e._urlTweetReply,e,t)}},{name:"retweet",types:["context-menu"],label:"LBL_TWITTER_RETWEET",iconKey:"actions.retweet",handler:function d(e,t){l(e._urlRetweet,e,t)}},{name:"favorite",types:["context-menu"],label:"LBL_TWITTER_FAVORITE",iconKey:"actions.favorite",handler:function f(e,t){l(e._urlTweetFavorite,e,t)}}],_urlTweetReply:"https://twitter.com/intent/tweet?in_reply_to={0}",_urlRetweet:"https://twitter.com/intent/retweet?tweet_id={0}",_urlTweetFavorite:"https://twitter.com/intent/favorite?tweet_id={0}",_urlTweetOpen:"https://twitter.com/{0}/status/{1}",_urlTwitterProfile:"https://twitter.com/{0}",isPaginationEnabled:false,initialize:function h(e){this.connectorCriteria=["eapm_bean","test_passed"];this._super(e)},onItemClick:function p(e){var t=i.utils.formatString(this._urlTweetOpen,[e.screen_name,e.id]);a.openUrl(t)},refresh:function m(e){this.loaded=false;this.loadData(e)},loadData:function g(e){if(this.loaded){return}this.tried=false;this._checkConnector(e)},loadDataWithValidConnector:function v(e,t){var n=this;t=t||{};var r=function a(t,r,s,l){if(!n.getTwitterName()){return}var u=parseInt(n.listParams.limit||i.config.maxQueryResult);var c=i.api.buildURL("connector/twitter","",{id:n.twitter},{count:u,connectorHash:e.connectorHash});var d=l.success;var f=l.error;l.success=function(e,t){if(_.isArray(e)){_.each(e,function(e){e=_.extend(e,n.processRawTweet(e))},this)}else{e=[]}if(d)d({next_offset:-1,records:e},t)};l.error=function(e){if(d)d({next_offset:-1,records:[]},e.request);if(e.code){if(!n.tried){n.tried=true;o.getConnectors(function(){return n._checkConnector(s)})}else{n.handleLoadError(null)}}else{f(e)}};return i.api.call("read",c,null,l)};this.collection.fetch({endpoint:r,complete:function s(){n.loaded=true;if(_.isFunction(t.complete)){t.complete()}}})},_checkConnector:function b(e){var t=this;o.checkConnector({name:"ext_rest_twitter",criteria:this.connectorCriteria,success:function n(i){t.loadDataWithValidConnector(i,e)},error:function i(n){t.handleLoadError(n);if(e&&e.complete){e.complete()}}})},processRawTweet:function y(e){var t=i.date(e.created_at,"ddd MMM DD HH:mm:ss Z YYYY").toDate();var n=e.retweeted_status?"RT @"+e.retweeted_status.user.screen_name+": "+e.retweeted_status.text:e.text;var r=e.source;var a=e.id_str;var s=e.user.name;var o=n.split(" ");var l=e.user.screen_name;var u=i.utils.formatString(this._urlTwitterProfile,[e.user.screen_name]);var c=e.user.profile_image_url_https;var d;var f=new Date;var h=(f.getTime()-t.getTime())/(1e3*60*60*24);var p=h>1;for(d=0;d<o.length;d++){if(o[d].charAt(0)==="h"&&o[d].charAt(1)==="t"){o[d]="<a class='tw__as_content_url' href="+'"'+o[d]+'"'+" target='_blank'>"+o[d]+"</a>"}}n=o.join(" ");return{id:a,name:s,screen_name:l,tw_profile_url:u,tw_profile_image_url:c,text:n,source:r,date:t,useAbsTime:p}},handleLoadError:function x(e){var t=i.lang.get("LBL_CONFIGURE_TWITTER");if(!e&&this.twitter){t=i.lang.get("LBL_ERROR_CANNOT_FIND_TWITTER")+this.twitter}else if(e&&!e.test_passed&&e.testing_enabled){t=i.lang.get("LBL_CONNECT_TEST_FAIL")}this.$(".no-records-found").showElement();i.alert.show("twitter_error",{level:"error",messages:t,autoClose:true})},getTwitterName:function S(){var e=this.listParams;var t=e.parentModel;var n;var i;if(e.twitter){n=e.twitter}else if(t){i=o.getConnectorModuleFieldMapping("ext_rest_twitter",t.module)||{};n=t.get("twitter")||t.get(i.name)||t.get("name")||t.get("account_name")||t.get("full_name")}if(n){n=n.replace(/ /g,"");this.twitter=n}return n}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(16);var s=n(85);e.exports=r.declareComponent(s,{className:"view__login login__settings",template:"login-settings",events:function o(){var e=this;var o=this._super();_.extend(o,{"click .continue_btn":"onContinue","keyup input":function t(){return e._updateSettingsBtnsState()},"change input":function n(){return e._updateSettingsBtnsState()},"keypress input":function i(t){if(t.which===13){t.srcElement.blur();e.onContinue()}}});return o},initialize:function l(e){this._super(e);var t=a.getTempSetting();this.serverUrl=t.loginUrl;this.useHttps=t.useHttps;this.isSSO=t.isSSO},onContinue:function u(){var e=this;if(!this.$(".continue_btn").is("[disabled=disabled]")){this.updateLoginSettings(function(){e.trigger("settings:submit")})}}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=e.exports=r.declareComponent(a,{_stringType:"offline-settings",_cacheKey:"offline_debug",events:function o(){return{"change .offline-property input":"onPropChange"}},initialize:function l(e){var t=this;this._super(e);this._restoreSettings();var n=i.config.offline.debug;this.sections={configProperties:{}};_.each(["online","forceMigrate","syncManagerEnabled","monitorStatus","outOfSpace"],function(e){t.sections.configProperties[e]={isBoolean:true,value:n[e]}});if(n.performanceTracing.enabled){this.sections.performanceTracing={enableZipkin:{isBoolean:true,value:n.performanceTracing.defaultReporter==="zipkin"},zipkinServerUrl:{isString:true,value:n.performanceTracing.zipkinServerUrl}}}},onPropChange:function u(e){var t=$(e.target);var n=t.data("section");var i=t.data("key");var r=this.sections[n][i].isBoolean?e.target.checked:t.val();if(n==="configProperties"){this._updateBaseConfig(i,r)}else{this._updatePerfConfig(i,r)}},_updateBaseConfig:function c(e,t){i.config.offline.debug[e]=t},_updatePerfConfig:function d(e,t){var n=i.config.offline.debug.performanceTracing;if(e==="enableZipkin"){n.defaultReporter=t?"zipkin":"console"}else{n.zipkinServerUrl=t}this._storeSettings()},_restoreSettings:function f(){var e=i.cache.get(this._cacheKey);_.extend(i.config.offline.debug.performanceTracing,e&&e.performanceTracing)},_storeSettings:function h(){i.cache.set(this._cacheKey,{performanceTracing:i.config.offline.debug.performanceTracing})}});i.nomad.registerComponent({cmp:s,baseType:"offlineSettings"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(7);var o=n(23);var l=n(18);var u=n(16);var c=e.exports=r.declareComponent(s,{_stringType:"offline-stats",globalEvents:{"offline:bulkload:progress":function d(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._updateBulkLoaderView();var n=l.ProgressEventType;if(!(e===n.START||e===n.PAGE_START)){var i={modules:t.module?[t.module]:undefined,updateRecCount:true};this._updateDbStatsView(i)}},"offline:cleanup:completed":function f(){this._updateBulkLoaderView();this._updateDbStatsView({updateRecCount:true})}},dbStats:null,bulkLoaderEnabled:false,events:function h(){return{"click .offline__start-stop-btn":"_onStartStopButtClick","click .js-checkbox-toggle--cellular":"_onCellularCheckboxClick"}},useCellularData:false,showCellularCb:false,statusText:null,startStopButtText:null,initialize:function p(e){var t=this;this._super(e);this.bulkLoaderEnabled=i.config.offline.bulkLoad.enabled;if(this.bulkLoaderEnabled){this.useCellularData=!!u.getSetting(l.SettingsKey.ALLOW_CELLULAR);this.showCellularCb=i.isNative||i.config.scheme==="e2e";this.listenTo(this,"render",function(){return t._updateBulkLoaderView()})}this._updateDbStatsView()},_toggleSpinner:function m(e){var t=e.state===l.State.WORKING;this.$el.find(".el__spinner").toggleElement(t)},_populateTimestamp:function g(){var e=this.$(".bh__timestamp");var t=o.getCache().lastCompletedTs;if(t){$("span",e).text(i.date.format(new Date(t),"m/d/Y g:iA"))}},_getStatusText:function v(e){switch(e.state){case l.State.WORKING:return i.lang.get("LBL_BULK_LOAD_STATUS_DOWNLOADING",null,{module:r.getPluralModuleName(e.module),count:e.count});case l.State.IDLE:return i.lang.get("LBL_BULK_LOAD_STATUS_IDLE");case l.State.PAUSED_BY_CONNECTION:return i.lang.get("LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION");case l.State.PAUSED_BY_USER:return i.lang.get("LBL_BULK_LOAD_STATUS_PAUSED");default:return"Unknown error. Please connect support."}},_getButtonText:function b(e){switch(e.state){case l.State.WORKING:return i.lang.get("LBL_BULK_LOAD_BTN_PAUSE");case l.State.IDLE:return i.lang.get("LBL_BULK_LOAD_BTN_DOWNLOAD");case l.State.PAUSED_BY_CONNECTION:return i.lang.get("LBL_BULK_LOAD_BTN_PAUSE");case l.State.PAUSED_BY_USER:return i.lang.get("LBL_BULK_LOAD_BTN_RESUME");default:return"Error!"}},_updateBulkLoaderView:function y(){var e=o.getState();if(!(e.state===l.State.WORKING&&!e.module)){this.$el.find(".status-text").text(this._getStatusText(e))}this.$el.find(".offline__start-stop-btn").text(this._getButtonText(e));this._populateTimestamp(e);this._updateModuleIconsView()},_updateModuleIconsView:function x(){var e=this;var t=o.getCache().status;_.each(t,function(n,i){var r=t[i];var a=e.$("tr[data-id="+i+"] i");if(r.status===200){a.hideElement()}else{var s=void 0;a.removeClass();s=r.status==="in_progress"?"warning":"error";a.addClass("offline-icon status-"+s)}})},_onStartStopButtClick:function S(e){if(this.$el.find(".offline__start-stop-btn").hasClass("disabled")){return}var t=o.getState();switch(t.state){case l.State.WORKING:this._pauseBulkLoader();break;case l.State.IDLE:o.queueCompleteDownload();this._updateBulkLoaderView();break;case l.State.PAUSED_BY_CONNECTION:this._pauseBulkLoader();break;case l.State.PAUSED_BY_USER:o.userResume();this._updateBulkLoaderView();break;default:}},_pauseBulkLoader:function w(){var e=this;this.$el.find(".status-text").text(i.lang.get("LBL_BULK_LOAD_STATUS_STOPPING"));this.$el.find(".offline__start-stop-btn").toggleClass("disabled",true);o.userPause(function(){if(e.disposed){return}e.$el.find(".offline__start-stop-btn").toggleClass("disabled",false);e._updateDbStatsView()})},_updateDbStatsView:function L(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i.offline.storage.getStats({modules:t.modules,success:function n(a){if(e.disposed){return}if(a.dbSize){i.logger.trace("Database size as calculated by offline.storage.getStats: "+a.dbSize)}var s=i.offline.utils.getOfflineModules({filter:"visible",includeStatic:true,checkAccess:true});var o=_.chain(s).map(function(t){var n=r.getPluralModuleName(t);var s=_.contains(i.config.offline.staticModules,t);var o=a.count[t];if(!_.isNumber(o)){o=e.dbStats?_.findWhere(e.dbStats.modules,{name:t}).count:0}return{moduleName:n,name:t,count:o,isStatic:s}}).sort(function(e,t){return e.isStatic===t.isStatic?e.moduleName.localeCompare(t.moduleName):e.isStatic?1:-1}).value();e.dbStats={modules:o,totalRecordsCount:_.reduce(o,function(e,t){return e+t.count},0)};if(t.updateRecCount){e._renderRecCount(a)}else{e.render()}}})},_renderRecCount:function E(e){var t=this;_.each(e.count,function(e,n){return t.$("tr[data-id="+n+"] span.lbl-count").text(e)});this.$("span.total-count").text(this.dbStats.totalRecordsCount)},_onCellularCheckboxClick:function k(){this.useCellularData=!this.useCellularData;u.setSetting(l.SettingsKey.ALLOW_CELLULAR,this.useCellularData);o.processChangingConnection()}});i.nomad.registerComponent({cmp:c,baseType:"offlineStats"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=e.exports=r.declareComponent(a,{_stringType:"offline",_devMode:i.config.offline.debug.render,globalEvents:{"offline:status:update":"onOfflineStatusUpdated"},offlineStatusIconPartial:"offline-status-icon",offlineStatusBar:"offline-statusbar",initialize:function o(e){this._super(e);this.offlineDbEncrypted=i.cache.get("offline:encrypted")},render:function l(e){this.updatePropsForOfflineBar();this._super(e)},updatePropsForOfflineBar:function u(){this.offlineStatusClass=r.utils.getOfflineStatusClass();this.offlineMessage=this.getOfflineMessage();this.isSyncing=status.isSyncing},onOfflineStatusUpdated:function c(){var e=this.$el.find(".offline-statusbar");var t=i.template.get(this.offlineStatusBar);this.updatePropsForOfflineBar();e.html(t(this))},getOfflineMessage:function d(){var e=i.offline.status;var t="";var n="LBL_OFFLINE_STATUS_ONLINE";var r="LBL_OFFLINE_STATUS_NO_PENDING_TX";var a="ERR_OFFLINE_OUT_OF_SPACE";if(!e)return{message:"..."};if(e.lastSyncTs&&e.totalTransactions>0){t=i.lang.get("LBL_OFFLINE_LAST_SYNC_TS",null,{ts:e.lastSyncTs.toLocaleString()})}if(!i.offline.isOnline()){n="LBL_OFFLINE_STATUS_OFFLINE"}else if(e.noConnection){n="LBL_OFFLINE_STATUS_BAD_NETWORK"}if(e.state===i.offline.State.ERROR){r="LBL_OFFLINE_STATUS_SYNC_FAILED"}else if(e.state===i.offline.State.WARNING&&e.totalTransactions>0){r="LBL_OFFLINE_STATUS_PENDING_TX"}return{isSyncing:e.isSyncing,message:(e.isOutOfSpace?i.lang.get(a)+" ":"")+i.lang.get(r),networkMessage:n,lastSyncMessage:t}}});i.nomad.registerComponent({cmp:s,baseType:"offline"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(8);var s=n(41);var o=n(34);var l=r.declareComponent(a,{template:"right-menu",events:{click:function u(){this.toggle(false)},"click .menu-item__link":"onItemClick"},quickAction:undefined,quickActionTypes:["create","create-related","create-parent"],initialize:function c(e){this._super(e);this.$body=$(document.body);var t=e.parentView instanceof s;this.options.viewBaseType=t?"list":"detail";if(t){this._parentView=e.parentView.name==="global-search"?e.parentView:e.parentView.getCurrentList()}else{this._parentView=e.parentView.getViewById("detail")}this.availableActions=this.getAvailableActions();var n=_.first(this.availableActions);if(this.availableActions.length===1&&_.contains(this.quickActionTypes,n.name)){this.quickAction=n}},onAfterRender:function d(){this._super();this.$contentWrapper=i.$rootEl.find("#wrapper")},isActionListAvailable:function f(){return!_.isEmpty(this.availableActions)&&!this.quickAction},getAvailableActions:function h(){return o.getRightMenuActions({model:this._parentView.model||this._parentView.collection,viewType:this.options.viewBaseType,viewSubType:this.options.viewSubType,view:this._parentView})},refillMenu:function p(){this.availableActions=this.getAvailableActions();this.render()},toggle:function m(e,t,n){var a=this;var s=void 0;var o=r.utils.isDirectionLTR()?1:-1;e=_.isUndefined(e)?!this._isRightMenuOpened:e;s={show:e,disableAnimation:t,callback:n,view:this};if(e){this.refillMenu();this.$body.on("touchstart.header"+this.cid,function(e){if(a.disposed){return}var t=$(e.target);var n=(t.hasClass("create-entity")||t.hasClass("header-icon__plus"))&&!_.isEmpty(a.options.headerRef.$el.find(t));var r=i.isTablet?!_.isEmpty(a.$el.find(t)):!_.isEmpty($("#right-menu").find(t));if(!(n||r)){a.toggle(false)}if(i.isTablet){e.stopPropagation()}})}else{this.$body.off("touchstart.header"+this.cid)}if(i.isTablet){this._isRightMenuOpened=e;this.$(".createBtn").toggleClass("active",e);i.$rootEl.find(".box__header").toggleClass("box__header_full-height",e);i.$rootEl.find(".overlay__right-menu").toggleElement(e);this.$(".right-menu")[e?"fadeIn":"fadeOut"]();this.registerActiveComponent(s)}else{this.registerActiveComponent(s);var l=t||!i.supportedFeatures.menuAnimation?0:200;var u=this.$(".right-menu");var c={contentAnimation:{"-webkit-transform":e?"translate3d("+o*-86+"%, 0, 0)":"translate3d(0, 0, 0)"},overlayAnimation:{"-webkit-transform":e?"translate3d("+o*-86+"%, 0, 0)":"translate3d("+o*-100+"%, 0, 0)"}};var d=function f(){a.$body.toggleClass("show-right-menu",e);a._isRightMenuOpened=e;if(n){n()}};this.animateMenu({isShowing:e,data:c,$menu:u,callback:d,duration:l})}},registerActiveComponent:function g(e){var t=this;if(e.show){this.onClose=function(){return t.toggle(false,e.disableAnimation,e.callback)};i.activeComponents.add(this)}else{this.onClose=undefined;i.activeComponents.remove(this)}},animateMenu:function v(e){var t=e.data,n=e.isShowing,r=e.$menu,a=e.callback,s=a===undefined?_.noop:a,o=e.duration;this._isShowing=n;if(n){r.addClass("show")}this.$contentWrapper.animate(t.contentAnimation,o,"ease-out",function(){if(!n){_.delay(function(){return r.removeClass("show")},o)}if(t.overlayAnimation){i.$rootEl.find("#content-overlay").animate(t.overlayAnimation,0)}s({isShowing:n})})},onItemClick:function b(e){e.preventDefault();e.stopPropagation();var t=$(e.currentTarget).attr("action");var n=_.findWhere(this.availableActions,{name:t});this.executeAction(n)},executeAction:function y(e){if(e&&_.isFunction(e.handler)){e.handler(this._parentView,this.model)}}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(3);var s=n(7);var o=n(17);var l=n(23);var u=n(31);var c=e.exports=r.declareComponent(s,{_stringType:"settings",_bodyScroll:true,_defaultViewSplitter:":",_defaultViewFieldName:"default_view",events:{"change #touchid-toggle":"_enableTouchIdClicked"},initialize:function d(e){this._modelBackup=null;this._showOfflineButton=i.config.offline.enabled&&(i.config.offlineEnabled||i.config.offline.debug.ignoreEnabled)&&i.supportedFeatures.offline;this._offlineEnabled=i.offlineEnabled;this._configurableFontSize=i.config.ui.configurableFontSize;var t=new Backbone.Model(i.user.get("preferences"));var n=i.logger.levels[i.config.logger.level];if(n){t.set("logging",n.value-1)}var r=i.loginManager.getSetting("fontSize")||"normal";if(this._configurableFontSize&&r){t.set("fontSize",r)}this._showTouchIdButton=o.isTouchIdAuthenticationSupported();this._touchIdEnabled=o.isTouchIdForLoginSetup();t.set("touchIdEnabled",this._touchIdEnabled);e.context.set("model",t);e.model=t;this._super(e);if(this._configurableFontSize){var a=this.getFieldMeta("fontSize");a.options={};_.each([["tiny","LBL_FONTSIZE_TINY"],["small","LBL_FONTSIZE_SMALL"],["normal","LBL_FONTSIZE_NORMAL"],["large","LBL_FONTSIZE_LARGE"],["larger","LBL_FONTSIZE_LARGER"],["huge","LBL_FONTSIZE_HUGE"],["extra_huge","LBL_FONTSIZE_EXTRA_HUGE"]],function(e){a.options[e[0]]=i.lang.get(e[1])})}else{this.meta.panels[0].fields=_.filter(this.meta.panels[0].fields,function(e){return e.name!=="fontSize"})}if(i.supportedFeatures.settingsDefaultView){this._defineDefaultViewFields();this._adjustDefaultViewOptions();this.applyDefaultViewOnModel()}this.listenTo(this.model,"change",this.onSettingChange)},isEditView:function f(){return true},_canSetValue:function h(e,t){if(!t.dependencies.length)return true;return!!_.find(t.dependencies,function(t){var n=this.model.get(t.parentField);return!t.result||_.has(t.result(n),e)},this)},_defineDefaultViewFields:function p(){var e=this.meta.panels[0].fields;this._defaultViewFields=[{name:"default_view",label:"LBL_MOBILE_DEFAULT_VIEW",options:{Modules:i.lang.get("LBL_MOBILE_SPECIFIC_MODULE")},view:"edit",type:"enum",dependencies:[]},{name:"default_module",
label:"LBL_MOBILE_DEFAULT_MODULE",options:{},view:"edit",type:"enum",dependencies:[{parentField:"default_view",condition:function t(e){var t=e.get(this.parentField);return t==="Modules"},result:function n(){var e=i.metadata.getModuleNames({filter:"visible"});return _.object(e,_.map(e,r.getPluralModuleName))}}]},{name:"default_dashboard",label:"LBL_MOBILE_DEFAULT_DASHBOARD",options:{},view:"edit",type:"enum",dependencies:[{parentField:"default_view",condition:function a(e){var t=e.get(this.parentField);return t==="Dashboards"},result:function s(){var e={};_.each(r.dashboards.getDashboards({type:"home"}),function(t){e[t.id]=i.lang.get(t.get("name"),"Home")});return e}}]},{name:"default_dashlet",label:"LBL_MOBILE_DEFAULT_DASHLET",options:{},view:"edit","default":"-1",type:"enum",dependencies:[{parentField:"default_dashboard",condition:function o(e){var t=e.get("default_view");return t==="Dashboards"},result:this._getDashboardDashlets}]}];_.each(this._defaultViewFields,function(t){var n=_.find(e,function(e){return e.name===t.name});if(!n){e.push(t)}},this);this._defaultViewFieldNames=_.pluck(this._defaultViewFields,"name")},resetDefaultView:function m(){this.defaultView=i.config.ui.defaultViewScheme;_.each(this._defaultViewFields,function(e){this.model.unset(e.name,{silent:true})},this);this.applyDefaultViewOnModel()},applyDefaultViewOnModel:function g(){this.defaultView=this.defaultView||i.loginManager.getSetting(this._defaultViewFieldName)||i.config.ui.defaultViewScheme;if(!this.defaultView)return;var e=this.defaultView.split(this._defaultViewSplitter);_.find(this._defaultViewFields,function(t){var n=!_.isEmpty(t.dependencies)&&t.dependencies[0].parentField;var i=this.model.get(n);var r=true;var a;if(i){r=!!_.find(t.dependencies,function(e){return e.condition(this.model)},this)}if(r){a=e.shift();if(!this._canSetValue(a,t)){this.resetDefaultView();return true}this.model.set(t.name,a,{silent:true})}return _.isEmpty(e)},this)},onSettingChange:function v(e){var t=_.keys(e.changed);var n=_.intersection(this._defaultViewFieldNames,t);_.each(n,function(e){this._onDefaultViewChange(e)},this)},_adjustDefaultViewOptions:function b(){var e=_.find(this.meta.panels[0].fields,function(e){return e.name===this._defaultViewFieldName},this);if(i.supportedFeatures.dashboards){var t=r.dashboards.getDashboards({type:"home"});e.options.Search=i.lang.get("LBL_MOBILE_GLOBAL_SEARCH");if(!_.isEmpty(t)){e.options.Dashboards=i.lang.get("LBL_MOBILE_SPECIFIC_DASHBOARD")}}if(i.supportedFeatures.activities){e.options.Activities=i.lang.get("LBL_ACTIVITY_STREAM")}},_getDependentFields:function y(e){var t=[];_.each(this._defaultViewFields,function(n){if(_.contains(_.pluck(n.dependencies,"parentField"),e)){t.push(n)}});return t},_getDashboardDashlets:function x(e){var t=r.dashboards.getDashboard(e).get("metadata");var n=t.dashlets;var a=_.chain(n).pluck("view").pluck("label").value();var s;a=_.map(a,function(e,t){var i=n[t].view;var a=_.defaults({label:e},i);return r.dashboards.getDashletTitle(a)});s=_.object(_.pluck(n,"id"),a);s[-1]=i.lang.get("LBL_ALL_DASHLETS");return s},_onDefaultViewChange:function S(e,t){var n=this.getField(e);var i=n.getValue();var r=this._getDependentFields(e);_.each(r,function(e){var n=e.name;var r=this.getField(n);var a={};if(!r){return}_.each(e.dependencies,function(e){if(e.condition(this.model)){a=e.result;if(_.isFunction(a)&&!_.isUndefined(i)){a=a(i)}}},this);this._adjustSubviewGrid(r,a,t)},this)},_adjustSubviewGrid:function w(e,t,n){if(_.isObject(t)){e.def.options=t;if(!n&&!_.isEmpty(this.model.changed)||_.isUndefined(this.model.get(e.name))){this.model.set(e.name,e.getDefaultValue())}e.render()}},onAfterRender:function L(){var e=this.$(".pad");var t=this.$(".settings__other-fields");var n=this.$(".modal-footer");this.backupModel();this.$touchidItem=this.$("#touchid-toggle");if(!i.config.ui.showLogLevelSetting){this.getField("logging").remove()}_.each(this._defaultViewFieldNames,function(e){this.getField(e).$el.detach().appendTo(t);this._onDefaultViewChange(e,true)},this);n.detach().appendTo(e)},onHeaderSaveClick:function E(){this.save()},save:function k(){this.setFontSize();var e=this;var t=this.model.get("language");var n=this.$el.find("#offline-toggle").attr("checked");var a=n!==i.offlineEnabled;var s=false;var u=this.$touchidItem.attr("checked");var c=false;var d=false;var f=_.once(function g(){i.controller.clean()});var h=[function(){return e._showOfflineButton&&a},function(){return e.model.get("fontSize")!==e._modelBackup.fontSize},function(){var t=false;_.each(e._defaultViewFieldNames,function(n){if(t){return}var i=e.model.get(n);if(i){t=i!==e._modelBackup[n]}},this);return t},function(){return e.model.get("logging")!==e._modelBackup.logging},function(){var e=t!==i.user.getLanguage();if(e){d=true}return e},function(){var t=e._showOfflineButton&&a;if(t&&n){d=true}return t},function(){c=e._showTouchIdButton&&(u&&o.getTempCredential()||u!==Boolean(e._modelBackup.touchIdEnabled));return c}];var p=[function(t){e._showOfflineToggleConfirm(!i.offlineEnabled,function(e){if(e){s=e}t()})},function(t){var n=e.model?e.model.get("fontSize"):e._modelBackup.fontSize;i.loginManager.setSetting("fontSize",n);t(null)},function(t){var n=e._modelBackup.default_view;if(e.model){n=_.reduce(e._defaultViewFieldNames,function(t,n){var i=e.model.get(n);if(n==="default_dashlet"&&parseInt(i,10)===-1){return t}if(i){t.push(e.model.get(n))}return t},[]).join(e._defaultViewSplitter)}i.loginManager.setSetting(e._defaultViewFieldName,n);t(null)},function(t){var n=e.getField("logging");i.config.logger.level=n.options.def.options[n.value];i.config.debugSugarApi=n.value<=1;t(null)},function(e){f();i.lang.setLanguage(t,function(t){e(t)})},function(t){if(s){f();e.toggleOffline(!i.offlineEnabled,t)}else{t()}},function(e){if(c){if(u){o.moveTempCredentialsToStorage()}else{o.resetCredentials()}}e()}];var m;m=_.select(p,function(t,n){return h[n].call(e)});if(m.length){if(d){i.overlay.show("app:sync",{template:"preloader-panel"})}async.series(m,function(e){i.overlay.hide("app:sync");if(!e){if(i.offlineEnabled&&s){l.setupBulkLoad(function(){r.mainMenu.render();i.controller.goUp()})}else{r.mainMenu.render();i.controller.goUp()}}})}else{i.controller.goUp()}},onHeaderCancelClick:function A(){this.cancel()},cancel:function M(){r.setFontSize(i.loginManager.getSetting("fontSize"));o.resetTempCredential();this.restoreModel()},backupModel:function T(){var e=JSON.stringify(this.model.toJSON());this._modelBackup=JSON.parse(e)},restoreModel:function C(){i.user.set("preferences",this._modelBackup)},toggleOffline:function R(e,t){var n=this;if(e&&!r.isOnline()){this.showOfflineConnectionError(t);return false}i.logger.debug("Offline enabled: "+e);this.toggleOfflineUserSetting(e);if(e){u.start().then(function(){return n.onOfflineEnabled()}).catch(function(e){return n.onOfflineFailure(e)}).finally(t)}else{this.stopOffline(t)}},showOfflineConnectionError:function D(e){e=e||function(){};var t="offline_enable_error";i.alert.show(t,{level:"error",messages:i.lang.get("ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR"),autoClose:true});e(t)},onOfflineEnabled:function I(e){if(e){l.start({isInitialBulkLoad:true})}},onOfflineFailure:function O(e){this.toggleOfflineUserSetting(false);if(!e.err){return}if(e.err.status===0&&_.contains(["error","abort","timeout"],e.err.textStatus)){i.alert.dismiss("offline_error");this.showOfflineConnectionError()}this.stopOffline()},toggleOfflineUserSetting:function N(e){i.offline.userEnabled=e;r.setSetting("offlineEnabled",e)},stopOffline:function F(e){e=e||_.noop;var t=[function(e){return r.dashboards.cleanDashletsCache(e)},function(e){return u.stop({dropStorage:true}).then(function(){return e()}).catch(e)}];async.parallel(t,e)},_showOfflineToggleConfirm:function B(e,t){var n=e?"LBL_OFFLINE_ENABLE_PROMPT":"LBL_OFFLINE_DISABLE_PROMPT";a.showConfirm(i.lang.get(n),{callback:function r(e){t(e===2)}})},_enableTouchIdClicked:function U(e){if(this.$touchidItem.attr("checked")){var t=this;o.performTouchIdSetup(function(e){if(!e){t.$touchidItem.prop("checked",false);t.$touchidItem.next(".checkbox-icon").removeClass(i.config.ui.icons.edit.checkboxOn).addClass(i.config.ui.icons.edit.checkboxOff)}})}},setFontSize:function P(){var e=this.model.get("fontSize");r.setFontSize(e)}});i.nomad.registerComponent({cmp:c,baseType:"settings"})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=n(53);var o=2;var l=30;var u=8;var c=100;var d=50;var f=s.searchDelay;var h="@";var p="#";var m=["name","first_name","last_name"].join();e.exports=r.declareComponent(a,{className:"view__taggable",template:"taggable",tagListOptionTemplate:Handlebars.compile('<li><a class="taggable-listItem {{#if noAccess}}disabled{{/if}}">{{#if noAccess }}<span class="taggable-status">{{str "LBL_NO_ACCESS_LOWER"}}</span>{{/if}}<div class="label label-module-sm label-{{module}}" {{debugAttributes "record_id" id}}>{{moduleIconLabel module}}</div>{{{htmlName}}}</a></li>'),tagShadowTemplate:Handlebars.compile('<span class="sugar_tag {{class}} label-{{module}}">{{text}}</span>'),tagTextTemplate:Handlebars.compile("@[{{module}}:{{id}}:{{name}}]"),_taggableEnabled:false,_taggableListOpen:false,_taggableModuleName:null,_taggableModuleList:null,_taggableModelId:null,_searchForTagsTimerId:null,_lastSearch:null,_prevValue:"",_tags:null,_textareaSelector:".taggable",_shadowSelector:".taggable-shadow",_dropdownSelector:".taggable-dropdown",$textarea:null,textarea:null,$shadow:null,$dropdown:null,events:{"input .taggable":"onInput","click .taggable-dropdown li":"onSearchResultClick","click .sugar_tag":function g(){this.$textarea.focus()}},initialize:function v(e){this._super(e);this._tags={};this._taggableModuleList=_.filter(i.metadata.getModuleNames({filter:"visible"}),function(e){return e!=="Employees"&&e!=="Users"});if(this.model.link){this._taggableModuleName=this.model.link.bean.get("parent_type");this._taggableModelId=this.model.link.bean.get("parent_id")}else{this._taggableModuleName=this.model.module;this._taggableModelId=this.model.id}this._resetLastSearch()},_dispose:function b(){this._abortRequests(true);this._super()},getPost:function y(){var e={};var t=this.textarea.value;var n=0;var i=t.length;var r;var a={};var s;e.value="";while(n<i){r=this._tags[n];if(r){s={id:r.model.get("id"),module:r.model.get("_module"),name:r.model.get("name")};a[s.id]=s;e.value+=this.tagTextTemplate(s);n+=r.text.length}else{e.value+=t[n];++n}}e.tags=_.values(a);return e},save:function x(){var e=this.getPost();var t=r.utils.stripLastEmptyStrings(e.value);this.model.set("tags",e.tags,{silent:true});this.model.set("value",t);this.model.trigger("save")},onHeaderSaveClick:function S(){this.save()},onAfterRender:function w(){this.$shadow=this.$el.find(this._shadowSelector);this.$dropdown=this.$el.find(this._dropdownSelector);this.$textarea=this.$el.find(this._textareaSelector);this.textarea=this.$textarea[0];this.$textarea.focus().scroll(_.bind(this.onScroll,this))},onScroll:_.throttle(function(){var e=this.$textarea.scrollTop();this.$shadow.scrollTop(e)},d),onInput:function L(){_.defer(_.bind(function e(){if(this.disposed)return;var e;var t;if(this.textarea.value!==this._prevValue){this._fixTags();this._refreshShadow();e=this._findSearchTerm();t=e.offset!==-1;if(!t&&this._taggableEnabled){this._closeDropdown();this._resetLastSearch()}this._taggableEnabled=t;this._abortRequests(!this._taggableEnabled);this._taggableEnabled&&this._searchForTags(e);this._prevValue=this.textarea.value}},this))},onSearchResultClick:function E(e){var t=$(e.target).closest("li");var n=t.closest("ul").children("li").index(t);var i=this._lastSearch.results.models[n];i.get("has_access")===false||this._insertSearchResult(i,this._lastSearch.searchTerm)},onDataFetch:function k(e,t){if(this._taggableEnabled&&_.isEqual(this._findSearchTerm(),e)){this._lastSearch.searchTerm=e;this._lastSearch.results=t;this._populateTagList(t,e)}},_isReferenceOrMention:function A(e){return e===h||e===p},_refreshShadow:_.throttle(function M(){if(this.disposed)return;var e;var t=this.textarea.value;var n=0;var i=t.length;var a="";var s=r.utils.charToHtmlEntity;while(n<i){e=this._tags[n];if(e){a+=e.html;n+=e.text.length}else{a+=s(t[n]);++n}}this.$shadow.html(a).trigger("scroll")},c),_findSearchTerm:function T(){var e={offset:-1,action:"",term:""};var t="";var n=0;var i=this.textarea.selectionEnd-1;var r=l;var a=this.textarea.value;if(this.textarea.selectionEnd&&this.textarea.selectionStart===this.textarea.selectionEnd){while(i>=0&&r){if(this._isReferenceOrMention(a[i])){if(n>=o){e.offset=i;e.action=a[i];e.term=t}break}else if(a[i]==="\n"){break}else if(a[i]!==" "){++n;--r}t=a[i]+t;--i}}return e},_abortRequests:function C(e){var t=false;if(this._searchForTagsTimerId){window.clearTimeout(this._searchForTagsTimerId);this._searchForTagsTimerId=null}if(this._lastSearch.referenceCollection.getFetchRequest()){this._lastSearch.referenceCollection.abortFetchRequest();t=true}if(this._lastSearch.mentionCollection.getFetchRequest()){this._lastSearch.mentionCollection.abortFetchRequest();t=true}e&&t&&i.alert.dismiss("data_syncing")},_resetLastSearch:function R(){var e={offset:-1,action:"",term:""};if(this._lastSearch){this._lastSearch.searchTerm=e;this._lastSearch.results=[]}else{this._lastSearch={searchTerm:e,results:[],referenceCollection:i.data.createMixedBeanCollection(),mentionCollection:i.data.createBeanCollection("Users")}}},_matchLastSearch:function D(e){var t=this._lastSearch.searchTerm;var n=false;if(t.action===e.action){if(t.action===e.action&&t.offset===e.offset&&(t.term.trim()===e.term.trim()||!e.term.trim().indexOf(t.term.trim())&&!this._lastSearch.results.length)){n=true}}return n},_getUserFilter:function I(e){var t=e.term.trim();var n=null;var i;var r;var a;i=t.match(/([^\s]+)(\s?)(.*)/);if(i){r=i[1].trim();a=i[3].trim();n=[{$and:[{status:{$not_equals:"Inactive"}},{$or:[{first_name:{$starts:t}},{last_name:{$starts:t}}]}]}];if(a){n[0].$and[1].$or.push({$and:[{first_name:{$starts:r}},{last_name:{$starts:a}}]});n[0].$and[1].$or.push({$and:[{first_name:{$starts:a}},{last_name:{$starts:r}}]})}}return n},_searchForTags:function O(e){this._searchForTagsTimerId=window.setTimeout(_.bind(function t(e){this._searchForTagsTimerId=null;if(this.disposed||this._matchLastSearch(e)||!r.isOnline()){return}var t=_.bind(this.onDataFetch,this,e);if(e.action===h){var n=this._getUserFilter(e);if(n){this._lastSearch.mentionCollection.offlineReadDisabled=i.offlineEnabled;this.listenTo(this._lastSearch.mentionCollection,"sync",t);this._lastSearch.mentionCollection.fetch({limit:u,filter:n,params:{has_access_module:this._taggableModuleName,has_access_record:this._taggableModelId}})}}else if(e.action===p){this._lastSearch.referenceCollection.offlineReadDisabled=i.offlineEnabled;this.listenTo(this._lastSearch.referenceCollection,"sync",t);this._lastSearch.referenceCollection.fetch({limit:u,fields:["name"],module_list:this._taggableModuleList,params:{search_fields:m,q:e.term}})}},this,e),f)},_populateTagList:function N(e,t){if(!e.length){this._closeDropdown();return}this.$dropdown.empty();e.each(function(e){var n=r.utils.escapeRegExp(r.utils.stringToHtmlEntities({stringToTransform:t.term}));var i=Handlebars.Utils.escapeExpression(e.get("name")).replace(new RegExp("("+n+")","ig"),function(e,t){return"<strong>"+t+"</strong>"});var a={module:e.get("_module"),id:e.get("id"),name:e.get("name"),htmlName:i,noAccess:e.get("has_access")===false};var s=$(this.tagListOptionTemplate(a));this.$dropdown.append(s)},this);if(!this._taggableListOpen){this._taggableListOpen=true;this.$el.addClass("show-dropdown");document.activeElement.blur();this.textarea.focus();this.$dropdown.showElement()}},_closeDropdown:function F(){if(this._taggableListOpen){this.$el.removeClass("show-dropdown");this.$dropdown.empty().hideElement();this._taggableListOpen=false}},_insertSearchResult:function B(e,t){var n=this.textarea.value||"";var i=n.slice(t.offset,t.offset+t.term.length+1);var r;var a=e.get("name");var s=this.textarea.selectionStart;var o=this.textarea.selectionEnd;var l;var u;var c;var d;if(i===t.action+t.term){r=n.slice(0,t.offset)+a+n.slice(t.offset+i.length);this.textarea.value=r;this._fixTags();this._prevValue=r;this.textarea.focus();if(this.textarea.setSelectionRange){l=Math.min(s,o);u=Math.max(s,o);if(l>t.offset&&l<t.offset+i.length||u>t.offset&&u<t.offset+i.length||l<=t.offset&&u>=t.offset+i.length){c=t.offset+a.length;d=c}else if(u>=t.offset+i.length){c=s-i.length+a.length;d=o-i.length+a.length}else{c=s;d=o}this.textarea.setSelectionRange(c,d)}this._addTag({model:e,offset:t.offset,text:a});this._refreshShadow()}this._closeDropdown()},_addTag:function U(e){var t={text:e.text,module:e.model.get("_module")};t.class=t.module==="Users"?"mention":"reference";this._tags[e.offset]=e;this._tags[e.offset].html=this.tagShadowTemplate(t)},_fixTags:function P(){var e=this.textarea.value;var t=e.length-this._prevValue.length;var n;var i={};if(t===-1){n=_.find(this._tags,function(t){return t.text.length>1&&e.slice(t.offset,t.offset+t.text.length)!==t.text&&e.slice(t.offset,t.offset+t.text.length-1)===t.text.slice(0,-1)});if(n){e=e.slice(0,n.offset)+e.slice(n.offset+n.text.length-1);this.textarea.value=e;this.textarea.setSelectionRange(n.offset,n.offset);t=-n.text.length}}_.each(this._tags,function(n){if(e.slice(n.offset,n.offset+n.text.length)===n.text){}else if(e.slice(n.offset+t,n.offset+n.text.length+t)===n.text){n.offset+=t}else{return}i[n.offset]=n});this._tags=i}})},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=n(7);var s=n(17);e.exports=r.declareComponent(a,{_bodyScroll:true,events:{"click .sbSkipBtn":"onTouchIdSkip","click .sbEnableBtn":"onTouchIdEnableClick","click .sbOkBtn":"onTouchIdOkClick"},initialize:function o(e){this._super(e);this.setupBuddy=n(27);this.template=i.template.get("touchid-setup")},onAppResume:function l(){this.loadData()},loadData:function u(){var e=this;s.isTouchIdEnrolled(function(t){e._isTouchIdEnrolled=t;e.sbHeader=i.lang.get(t?"LBL_ENABLE_TOUCHID":"LBL_SETUP_TOUCHID");e.sbDescription=t?i.lang.get("LBL_TOUCH_ID_DISCLAIMER",null,{brandName:i.config.brandName}):i.lang.get("LBL_TOUCH_ID_NOT_ENROLLED_MSG",null,{brandName:i.config.brandName});e.render()})},onTouchIdSkip:function c(e){this.setupBuddy.setupStepCompleted()},onTouchIdOkClick:function d(e){this.setupBuddy.setupStepCompleted()},onTouchIdEnableClick:function f(e){s.moveTempCredentialsToStorage();this.setupBuddy.setupStepCompleted()}})},function(e,t,n){"use strict";(function(e){var t={"list~Step1":{updatedVersion:2.7,content:[{selector:".logo",text:"LBL_MOBILE_TUTORIAL_HOME_MENU"},{selector:".createBtn",text:"LBL_MOBILE_TUTORIAL_HOME_PLUS"}]},list:{updatedVersion:2.7,content:[{show:"native",selector:".list-item.has-menu:nth-child(1)",text:"LBL_MOBILE_TUTORIAL_HOME_SWIPE",fromRight:true,vertAdj:5,horizAdj:-50,customMarker:"tutorial-swipe"}]},"detail~TxLog~Dashboards":{updatedVersion:2.7,content:[{selector:".bizcard .goedit-icon",text:"LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION",vertAdj:2,horizAdj:-2}]}};e.tutorial=e.tutorial||{};e.tutorial.config=t})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var r=n(1);var a=20;var s=2;var o=_.extend({instance:null,show:function u(e,t){if(!i.config.ui.showTutorial){return}else if(i.tutorial.data){this.doTutorial(e,t)}else{i.tutorial.data=this.prepareData(i.tutorial.config);this.doTutorial(e,t)}},prepareData:function c(e){var t={};_.each(e,function(e,n){var r=_.filter(e.content,function(e){var t;if(e.show){t=e.show==="native"&&i.isNative||e.show==="web"&&!i.isNative}else{t=true}return t});if(r.length){t[n]=e;t[n].content=r}});return t},doTutorial:function d(e,t){var n=this.getStepName(e,t);var r=i.tutorial.data[n];var a=this.getPrefs();if(r&&!i.tutorial.instance){this.createInstance(r,n,a)}},getStepName:function f(e,t){var n=this.getPrefs();var r=new RegExp("^"+e+"([~:].*)?$","i");var a=_.chain(i.tutorial.data).keys().select(function(e){return r.test(e)}).value().sort(function(e,t){return e.indexOf(":")>-1?1:e.indexOf("~")>-1&&t.indexOf(":")<0?1:-1});var s=this;var o;_.each(a,function(n){if(n.indexOf(":")>-1&&_.contains(n.split(":"),t)&&s.isNewStep(n)){o=n}else if(n.indexOf("~")>-1&&!_.contains(n.split("~"),t)&&s.isNewStep(n)){o=n}else if(n===e&&s.isNewStep(n)){o=n}});return o},isNewStep:function h(e){var t=i.tutorial.getPrefs();var n=i.tutorial.data[e];var r=n?n.updatedVersion||0:0;var a=t.viewed[e]||0;return!t.viewed[e]||i.utils.versionCompare(a,r,"<")},createInstance:function p(e,t,n){var i=this;var r=_.any(e.content,function(e){return i.getItem(e.selector).length});if(!r){return}this.instance=new l(_.extend(e,{tutorialName:t}));this.instance.show()},getPrefs:function m(){var e=i.loginManager.getSetting("tutorialPrefs")||{};e.viewed=e.viewed||{};return e},resetPrefs:function g(e){e=e||{};e.viewed={};i.loginManager.setSetting("tutorialPrefs",e)},hasStepToShow:function v(e,t){if(!i.config.ui.showTutorial){return}else if(!i.tutorial.data){return true}else{return!!this.getStepName(e,t)}},getItem:function b(e){var t=i.controller.layoutManager.getRootLayout();var n=i.controller.layoutManager.getRecordLayout();var a;if(n){a=n.$el.find(e)}else{a=t.$el.find(e)}if(!r.utils.isElVisible(a)){a=[]}return a}});var l=Backbone.View.extend({events:{click:"onClose",swipe:"onClose"},name:"tutorial",initialize:function y(e){this.content=e.content;this.tutorialName=e.tutorialName;this.tplContext={brandName:i.config.brandName};i.events.on("app:orientation:changed",this._onOrientationChange,this)},_onOrientationChange:function x(){var e=this;this.removeHighlight();_.each(this.content,function(t){e.highlightItem(t)})},onClose:function S(e){var t=this;if(e&&!_.isString(e)){e.preventDefault();e.stopPropagation()}this.setStepViewed();$(this.$el).animate({opacity:0},300,"ease",function(){t.remove()})},show:function w(){var e=this;this.render();_.each(e.content,function(t){e.highlightItem(t)});$(this.$el).css({opacity:"1"});i.activeComponents.add(this)},setStepViewed:function L(){var e=i.tutorial.getPrefs();e.viewed[this.tutorialName]=r.getNomadVersion();i.loginManager.setSetting("tutorialPrefs",e)},highlightItem:function E(e){var t=i.tutorial.getItem(e.selector);var n=this;if(_.isEmpty(t)){return}var a=document.createElementNS("http://www.w3.org/2000/svg","use");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.customMarker?"#"+e.customMarker:"#marker");this.$marker=$(a);this.$svg.append(a);var s=e.horizAdj||0;var o=t.offset().left;var l=t.offset().top+(e.vertAdj||0);var u=t.offset().width;var c=this.$marker.width();var d;if(r.utils.isDirectionLTR()){d=o+s+(e.fromRight?u-c:0);o=d}else{d=-(o-s+(e.fromRight?c:u));o=-d-c;a.setAttributeNS(null,"transform","scale(-1, 1)")}a.setAttributeNS(null,"x",d);a.setAttributeNS(null,"y",l);this.appendItemGlow(e,o,l);this.showHighlightText(e,o,l)},appendItemMarker:function k(e,t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","use");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.customMarker?"#"+e.customMarker:"#marker");this.$marker=$(i);this.$svg.append(i)},appendItemGlow:function A(e,t,n){var i=r.utils.isDirectionLTR()?s:-s;if(e.customMarker){return}this.glow=document.createElementNS("http://www.w3.org/2000/svg","circle");this.glow.setAttributeNS(null,"cx",t+a+i);this.glow.setAttributeNS(null,"cy",n+a+s);this.glow.setAttributeNS(null,"r",a);this.glow.setAttributeNS(null,"fill","black");this.glow.setAttributeNS(null,"class","marker-glow");this.$glowWrap.append(this.glow)},showHighlightText:function M(e,t,n){var r=i.lang.get(e.text,null,this.tplContext);var s=$('<div class="text">'+r+"</div>").appendTo(this.$textWrap);var o=this.$marker;var l=t;var u=n;var c=o.width();var d=o.height();var f=s.width();var h=s.height();var p=$(window).width();var m=$(window).height();if(l-f>0){s.css("left",t-f+c);s.css("text-align","right")}else if(l+c+f<p){s.css("left",l);s.css("text-align","left")}else{s.css("left","50%");s.css("marginLeft",-f/2);s.css("text-align","center")}if(u+d+h<m){s.css("top",u+d)}else{s.css("top",u-h-a*1.5)}},render:function T(){var e=i.template.get("tutorial");$("body").append(e());this.$el=$("#tutorial__view");this.$svg=this.$el.find("#tutorial");this.$glowWrap=this.$el.find("#marker-glow");this.$textWrap=this.$el.find("#tutorial-content");this.delegateEvents();return this},remove:function C(){delete this.$marker;delete this.$svg;delete this.$textWrap;Backbone.View.prototype.remove.call(this);i.activeComponents.remove(this);i.events.off("app:orientation:changed",this._onOrientationChange,this);i.tutorial.instance=null},removeHighlight:function R(){this.$textWrap.empty();this.$glowWrap.find(".marker-glow").remove();this.$svg.find("use").remove()}});i.tutorial=i.tutorial||{};i.tutorial=_.extend(i.tutorial,o);e.exports=i.tutorial},function(e,t,n){"use strict";var i=SUGAR.App.config;i.analytics.enabled=false;if(!i.siteUrl){i.siteUrl="../../../sugarcrm"}if(i.scheme!=="e2e"){i.offline.enabled=false}i.keyValueStoreEncryptionEnabled=false;i.offline.dbEncryptionEnabled=false},function(e,t,n){"use strict";var i=n(1);var r=n(3);var a=SUGAR.App;e.exports={_showEmailComposer:function s(e,t,n){window.location="mailto:"+e+"?subject="+t+"&body="+n},_getConsoleLogFilename:function o(e){e()},_share:function l(e,t){var n=this;var i=a.lang.get("LBL_RECORD_SHARE_BUTTON");var s=[a.lang.get("LBL_EMAIL_BUTTON"),a.lang.get("LBL_SMS_BUTTON")];r.showActionSheet(s,{title:i,onSelectCb:function o(t,i){var r=encodeURIComponent(e.body+"\r\n\r\n"+e.url);if(i===0){n._showEmailComposer("",e.subject,r)}else{n._showSmsComposer("",r)}}})},_showSmsComposer:function u(e,t){if(t){if($.os.ios){window.location="sms:"+e+"&body="+t}else{window.location="sms:"+e+"?body="+t}}else{window.location="sms:"+e}},_callPhone:function c(e){window.location="tel:"+e},_browseUrl:function d(e){window.open(e)},_browseWebPage:function f(e){window.open(e)},_showDateTimePicker:function h(e,t,n){},_removeCachedDoc:function p(e){},_browseDoc:function m(e){if(e.oauth){this._downloadDoc(e)}else{this._browseUrl(e.url)}},_downloadDoc:function _(e){var t=this;var n=new window.XMLHttpRequest;var i="download_doc";n.open("GET",e.url);n.addEventListener("loadend",function(){a.alert.dismiss(i);var r=t._getBlob(n.response,e.file_mime_type);t._makeBlobUrl(r,function(e){window.location=e})},false);n.setRequestHeader("OAuth-Token",a.api.getOAuthToken());n.overrideMimeType("application/octet-stream; charset=x-user-defined");n.responseType="arraybuffer";n.send(null);a.alert.show(i,{level:"info",messages:a.lang.get("LBL_MOBILE_DOWNLOAD_STARTED",null,e.filename),autoClose:true,closeable:false})},_getBlob:function g(e,t){var n;try{n=new Blob([e],{type:t})}catch(i){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(i.name=="TypeError"&&window.BlobBuilder){var r=new BlobBuilder;r.append([e.buffer]);n=r.getBlob(t)}else if(i.name=="InvalidStateError"){n=new Blob([e.buffer],{type:t})}else{throw i}}return n},_makeBlobUrl:function v(e,t){var n=window.URL||window.webkitURL;var i=$.os.ios&&(a.utils.versionCompare($.os.version,7,"<")||$.browser.chromeMobile);if(n&&!i){t(n.createObjectURL(e))}else{r.onloadend=function(){t(r.result)};var r=new window.FileReader;r.readAsDataURL(e)}},_getGeoPlacemarks:function b(e,t){if(t&&t.errorCb){t.errorCb({code:4})}},_redirectToNativeApp:function y(){if($.os.desktop||i.getSetting("redirectDone")){i.setSetting("redirectDone",false);return}var e=window.location.hash.substr(1);var t=new RegExp("^Configure\\?/?","i");var n=t.test(e)?e:"Configure?page="+encodeURIComponent(e);var r;if($.os.ios){i.setSetting("redirectDone",true);window.setTimeout(function(){window.location.reload()},5e3);r=a.config.deepLinking.scheme+":///"+n}else{r="intent://"+n+"#Intent;scheme="+a.config.deepLinking.scheme+";end"}window.location=r},_registerForPushNotifications:function x(){},_sendLocalNotification:function S(e){},_startMobileDeviceManagement:function w(e){},_getManagedConfig:function L(e){e()},_getImportedFileInfo:function E(e){e()}}},function(e,t,n){"use strict";var i=n(50);e.exports={_showAlert:function r(e,t,n,i){alert(e);if(t){t()}},_showConfirm:function a(e,t,n,i){var r=confirm(e)?2:1;t(r)},_showActionSheet:function s(e,t){i.show(t.title,e,t.onSelectCb,t.onCancelCb)},_showPrompt:function o(e,t){var n=window.prompt(e,"");var i={buttonIndex:n!==null?2:1,input1:n};t.callback(i)}}},function(e,t,n){"use strict";var i=SUGAR.App;_.extend(i.loginManager,{handleExternalLogin:function r(e,t){window.location.href=t.payload.url},handleExternalLogout:function a(e){var t=new Image;t.src=e},handleAuthTokens:function s(){var e;var t;var n=i[i.config.authStore];var r=["_AuthAccessToken","_AuthRefreshToken","_DownloadToken"];_.each(r,function(i){e=window.localStorage.getItem(i);if(e){t=true;n.set(i.slice(1),e);window.localStorage.removeItem(i)}});if(t){i.api.setExternalLogin(true);i.trigger("app:login:success")}}})},function(e,t,n){"use strict";(function(e){var t=n(3);_.extend(e.nomad,{preInit:function i(t,n){t.app.productVersion=e.config.appVersion;t.app.productBuild=e.config.appBuild;t.device=$.os;if(window.navigator.standalone){e.controller.navigateToDefaultView()}this.initAppCache();this.initAnalytics();if($.browser.chromeWeb){window.addEventListener("contextmenu",function(e){return e.preventDefault()})}if(e.offline&&e.config.offline)e.config.offline.storageAdapter="webSql";n()},initAppCache:function r(){var n=window.applicationCache;if(!n)return;n.addEventListener("updateready",function(i){t.showConfirm(e.lang.get("LBL_NEW_WEB_VERSION"),{callback:function r(){e.logger.debug("Swapping application cache and reloading page");n.swapCache();window.location.reload()}})},false)},openAppStore:function a(){},initAnalytics:function s(){window.Analytics=function(){};function e(e,t){var n=Array.prototype.slice.call(arguments,1);if(e){n[0]=e+"."+t}if(window.ga){ga.apply(window,n)}}_.extend(Analytics.prototype,{start:function t(n,i){var r=i.trackerName;e(null,"create",{trackingId:n,cookieDomain:"none",name:r});if(i.optOut){window["ga-disable-"+n]=true}e(r,"set","anonymizeIp",i.anonymize)},startSession:function n(){},trackPageView:function i(t){e(t.trackerName,"send","pageview",t.view)},trackEvent:function r(t){e(t.trackerName,"send","event",t.category,t.action,t.label,t.value)},setDimension:function a(t){e(t.trackerName,"set","dimension"+t.index,t.value)},setMetric:function s(t){e(t.trackerName,"set","metric"+t.index,t.value)}});window.analytics=new Analytics},loadAnalytics:function o(){(function(e,t,n,i,r,a,s){e["GoogleAnalyticsObject"]=r;e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date;a=t.createElement(n),s=t.getElementsByTagName(n)[0];a.async=1;a.src=i;s.parentNode.insertBefore(a,s)})(window,document,"script","//www.google-analytics.com/analytics.js","ga")},getConnectionType:function l(){return"none"},isOnline:function u(){return e.config.offline.debug.online&&window.navigator.onLine},openDb:function c(e){return window.openDatabase(e.name,"1.0",e.name,5)},_isPlatformSupported:function d(){return $.os.ios&&$.browser.safari&&e.utils.versionCompare($.os.version,"8",">=")||$.os.android&&$.browser.chrome&&e.utils.versionCompare($.os.version,"4.1",">=")||!$.os.ios&&!$.os.android&&$.browser.webkit||e.config.env==="dev"}})})(SUGAR.App)},function(e,t,n){"use strict";e.exports={adjustTemplateName:function i(e){var t=e.split("/");var n=t.length;var i;t[n-1]=t[n-1].replace(".hbs","");i=t[n-1];if(t[n-3]==="fields"){var r=t[n-2];var a=t[n-1];i=["f",r,a].join(".")}else if(t[n-2]==="modules"){i=t[n-1].replace("-",".")}return i},requireModulesWithinContext:function r(e,t,n){n=_.isFunction(t)?t:n;var i=function r(t){e(t)};t=_.isArray(t)?t:e.keys();t.forEach(n||i)}}},function(e,t,n){"use strict";var i=n(21);var r=n(6);var a=n(26);e.exports=Backbone.View.extend({initialize:function s(){this.context=new r;i.on("app:sync:complete",function(){SUGAR.App.api.setStateProperty("loadingAfterSync",true);_.each(SUGAR.App.additionalComponents,function(e){
if(e&&_.isFunction(e._setLabels)){e._setLabels()}e.render()});SUGAR.App.router.reset();SUGAR.App.api.clearStateProperty("loadingAfterSync")});i.on("app:login:success",function(){SUGAR.App.sync()})},loadView:function o(e){var t=this.layout;if(!SUGAR.App.triggerBefore("app:view:change")||!SUGAR.App.triggerBefore("app:view:load")){return}this.context.clear({silent:true});this.context.set(e);this.context.prepare();this.layout=a.createLayout({name:e.layout,module:e.module,context:this.context});if(t){var n=document.createDocumentFragment();n.appendChild(t.el)}SUGAR.App.$contentEl.append(this.layout.$el);this.layout.initComponents();if(!e||e&&!e.skipFetch){this.layout.loadData()}this.layout.render();if(t){t.dispose()}SUGAR.App.trigger("app:view:change",e.layout,e)},loadAdditionalComponents:function l(e){if(!_.isEmpty(SUGAR.App.additionalComponents)){SUGAR.App.logger.error("`Controller.loadAdditionalComponents` has already been called. "+"It can not be called twice.");return}SUGAR.App.additionalComponents={};_.each(e,function(e,t){if(e.target){var n=this.$(e.target);if(!n.get(0)){SUGAR.App.logger.error('Unable to place additional component "'+t+'": the target specified '+"does not exist.");return}if(e.layout){SUGAR.App.additionalComponents[t]=a.createLayout({context:this.context,type:e.layout,el:n});SUGAR.App.additionalComponents[t].initComponents()}else{SUGAR.App.additionalComponents[t]=a.createView({type:e.view||t,context:this.context,el:n})}SUGAR.App.additionalComponents[t].render()}else{SUGAR.App.logger.error('Unable to place additional component "'+t+'": no target specified.')}},this)}})},function(module,exports,__webpack_require__){"use strict";var Acl=__webpack_require__(24);var Events=__webpack_require__(21);var Template=__webpack_require__(22);var User=__webpack_require__(14);var Utils=__webpack_require__(10);var Language=__webpack_require__(13);var ViewManager=__webpack_require__(26);var DataManager=__webpack_require__(44);var _keyPrefix="meta:";var _metadata={};var _mdLoaded={};var _syncing=false;function _setHash(e,t){var n=t?"public:":"";SUGAR.App.cache.set(_keyPrefix+n+"hash",e._hash)}function _cacheMeta(e){SUGAR.App.cache.set(_keyPrefix+"data",e)}function _getCachedMeta(){return SUGAR.App.cache.get(_keyPrefix+"data")}function _injectLabels(e,t){_.each(t,function(n,i){if(i!=="_hash"){e[i]=t[i]}});delete e.labels}function _fetchLabels(e,t){var n,i,r;var a=User.getLanguage();n=e.ordered_labels||e.labels;Language.setDefaultLanguage(n["default"]);if(t.language&&n[t.language]){i=t.language}else if(n[a]){i=a}else{i=Language.getDefaultLanguage();if(User.id){User.updateLanguage(i)}}Language.setCurrentLanguage(i);r=Utils.buildUrl(n[i]);SUGAR.App.api.call("read",r,null,{success:function s(e){try{e=_.isString(e)?JSON.parse(e):e}catch(n){SUGAR.App.logger.fatal("Failed to parse labels data: "+n);t.error({code:"sync_failed",label:"ERR_SYNC_FAILED"});return}t.success(e)},error:function o(e){e.code="sync_failed";e.label="ERR_SYNC_FAILED";t.error(e)}})}function _initCustomComponents(e,t){var n=this,i=SUGAR.App.config.platform!=="base"?["base",SUGAR.App.config.platform]:["base"];_.each({layout:"layout",view:"view",fieldTemplate:"field",data:"data"},function(r,a){if(n._metaTypeIsSeparatedByPlatform(e,a,i)){_.each(i,function(i){var s=e[a+"s"][i];n._sortAndDeclareComponents(s,r,t,i)})}_.each(e[a+"s"],function(e,n){if(r==="view"&&e.templates){_.each(e.templates,function(e,i){var r=n===i;i=r?i:n+"."+i;Template.setView(i,t,e,true)})}if(r==="layout"&&e.templates){_.each(e.templates,function(e,i){i=n===i?i:n+"."+i;Template.setLayout(i,t,e,true)})}if(r==="field"&&e.templates){_.each(e.templates,function(e,i){Template.setField(n,i,t,e,true)})}})},this)}module.exports={fieldTypeMap:{varchar:"text",datetime:"datetimecombo",multienum:"enum",text:"textarea",decimal:"float"},_patchMetadata:function e(t,n){if(!n||n._patched===true){return n}_.each(n.views,function(e){if(e.meta){_.each(e.meta.panels,function(e){e.fields=this._patchFields(t,n,e.fields)},this)}},this);n._patched=true;return n},_patchFields:function t(e,n,i){var r=this;_.each(i,function(t,a){var s=_.isString(t)?t:t.name;var o=n.fields[s];if(t.fields){t.fields=r._patchFields(e,n,t.fields);return}if(!_.isEmpty(o)){if(_.isString(t)){t={name:t}}if(_.isObject(t.displayParams)){_.extend(t,t.displayParams);delete t.displayParams}t.type=t.type||o.custom_type||o.type||"base";t.type=r.fieldTypeMap[t.type]||t.type;t.label=t.label||o.vname||t.name;i[a]=t}else{if(t===""){t={view:"detail"};i[a]=t}}},this);return i},_sortControllers:function _sortControllers(type,components,module){var updated={},nameMap={},entries={},updateWeights=function e(t){var n=t.controller;if(t.type==="base"){entries["Base"+Utils.capitalize(type)].weight=-99999}if(_.isObject(n)&&_.isString(n.extendsFrom)&&entries[n.extendsFrom]&&!updated[n.extendsFrom]){entries[n.extendsFrom].weight--;updated[n.extendsFrom]=true;e(entries[n.extendsFrom])}};_.each(components,function(entry,name){if(entry.controller){var controller=entry.controller,className=(module||"")+Utils.capitalizeHyphenated(name)+Utils.capitalize(type);nameMap[className]=name;if(_.isString(controller)){try{controller=eval("["+controller+"][0]")}catch(e){SUGAR.App.logger.error("Failed to eval view controller for "+className+": "+e+":\n"+entry.controller)}}else{var emptyController=type!=="field"&&Object.getOwnPropertyNames(controller).length===1&&controller.hasOwnProperty("extendsFrom");if(emptyController){SUGAR.App.logger.warn("Instead of creating an empty js controller `"+className+"` and specify the parent with extendsFrom, please use `type` property in the metadata `"+name+"`, to specify controller to use. It will allow you to delete your empty controllers and save memory.")}}entries[className]={type:name,controller:controller,weight:0}}});_.each(entries,function(e,t){var n=e.controller,i;if(_.isObject(n)&&_.isString(n.extendsFrom)){i="Custom"+n.extendsFrom;if(i in entries&&t!=i){n.extendsFrom=i}}});_.each(entries,function(e){updated={};updateWeights(e)});return _.sortBy(entries,"weight")},_sortAndDeclareComponents:function n(e,t,i,r){var a,s=this;if(!_.isUndefined(e)&&e){a=s._sortControllers(t,e,i);if(t==="data"){var o,l;_.each(a,function(e){if(e.type==="model"){o=e.controller}else if(e.type==="collection"){l=e.controller}});DataManager.declareModelClass(i,null,r,o);DataManager.declareCollectionClass(i,r,l)}else{_.each(a,function(e){ViewManager.declareComponent(t,e.type,i,e.controller,true,r)})}}},_metaTypeIsSeparatedByPlatform:function i(e,t,n){if(!_.isUndefined(e[t+"s"])){for(var i=0;i<n.length;i++){if(!_.isUndefined(e[t+"s"][n[i]])){if(_.isUndefined(e[t+"s"][n[i]].controller)){return true}}}}return false},_declareClasses:function r(e){var t=this,n=SUGAR.App.config.platform!=="base"?["base",SUGAR.App.config.platform]:["base"];_.each(["field","view","layout","data"],function(i){var r;if(t._metaTypeIsSeparatedByPlatform(e,i,n)){_.each(n,function(n){r=e[i+"s"][n];t._sortAndDeclareComponents(r,i,null,n)},this)}},this);_.each(e.modules,function(e,t){_initCustomComponents.call(this,e,t)},this)},getModules:function a(){return _metadata.modules},getHiddenSubpanels:function s(){return _metadata.hidden_subpanels},getModule:function o(e,t){var n=this.getModules();if(n)n=n[e];if(n&&t)n=n[t];return n},getRelationship:function l(e){return _metadata.relationships?_metadata.relationships[e]:null},getField:function u(e){if(_.isString(e)||e===void 0){var t=e;SUGAR.App.logger.warn("`Core.Metadata#getField` signature is deprecated since 7.8 "+"and will be removed in 7.9. Please update your code.");var n=_metadata.fields?_metadata.fields[t]||_metadata.base:null;return n?this.copy(n,{field:t}):n}if(!e.module){throw new Error("Cannot get vardefs without a module")}var i=this.getModule(e.module,"fields");if(i&&e.name){return i[e.name]}return i},getView:function c(e,t,n){if(!e&&!t){return _metadata.views}var i=this.getModule(e,"views");if(t){if(i&&i[t]&&i[t].meta!==void 0){i=i[t].meta}else if(n){i=this.getModule(n,"views");i=i&&i[t]?i[t].meta:null}else if(_metadata.views&&_metadata.views[t]){i=_metadata.views[t].meta}else{i=null}}return i?this.copy(i,{module:e,view:t}):i},getLayout:function d(e,t,n){if(!e&&!t){return _metadata.layouts}var i=this.getModule(e,"layouts");if(t){if(i&&i[t]&&i[t].meta!==void 0){i=i[t].meta}else if(n){i=this.getModule(n,"layouts");i=i&&i[t]?i[t].meta:null}else if(_metadata.layouts&&_metadata.layouts[t]){i=_metadata.layouts[t].meta}else{i=null}}return i?this.copy(i,{module:e,layout:t}):i},getModuleNames:function f(e){var t=["enabled","!enabled","visible","!visible","display_tab","!display_tab","show_subpanels","!show_subpanels","quick_create","!quick_create"];e=e||{};var n=[];var i=_.isUndefined(_metadata.modules_info);if(i){n=_.clone(User.get("module_list"));if(e.access){n=_.filter(n,function(t){return Acl.hasAccess(e.access,t)})}return n||[]}var r,a=false;if(e.filter){if(!_.isArray(e.filter)){e.filter=[e.filter]}r=[];_.each(e.filter,function(e){if(e&&_.indexOf(t,e)>-1){r.push(e);a=e==="display_tab"}else if(e){SUGAR.App.logger.warn("Can't filter getModuleNames by "+e)}});if(_.isEmpty(r)){r=undefined}}n=_.chain(_metadata.modules_info).keys().without("_hash").value();if(r){_.each(r,function(t){var i=t.charAt(0)==="!";if(i){var r=this.getModuleNames({filter:t.substring(1),access:e.access});n=_.difference(n,r)}else{n=_.filter(n,function(e){return _metadata.modules_info[e][t]})}},this)}if(!_.isEmpty(User.get("module_list"))){if(a){n=_.intersection(User.get("module_list"),n)}else if(!r){n=_.union(User.get("module_list"),n)}}if(e.access){n=_.filter(n,function(t){return Acl.hasAccess(e.access,t)})}return n},getStrings:function h(e){return _metadata[e]||{}},getFullModuleList:function p(){return _metadata.full_module_list||{}},getConfig:function m(){return _metadata.config||{}},getBaseCurrencyId:function g(){return"-99"},getCurrency:function v(e){return this.getCurrencies()[e]},getCurrencies:function b(){return _metadata.currencies||{}},getLogoUrl:function y(){return _metadata.logo_url},getServerInfo:function x(){return _metadata.server_info||{}},getModuleTabMap:function S(){return _metadata.module_tab_map||{}},getTabMappedModule:function w(e){var t=this.getModuleTabMap();return t[e]||e},getFilterOperators:function L(e){var t=_metadata.filters&&_metadata.filters.operators&&_metadata.filters.operators.meta||{};var n=e&&this.getModule(e,"filters");var i=n&&n.operators&&n.operators.meta;if(i){return _.extend({},t,i)}return t},get:function E(){return _metadata},getEditableDropdownFilter:function k(e){var t=_metadata.editable_dropdown_filters;if(t&&t[e]){return this.copy(t[e])}return{}},copy:function A(e,t){return Utils.deepCopy(e)},set:function M(e,t,n){_.each(e.modules,function(e,t){this._patchMetadata(t,e)},this);this._declareClasses(e);if(e.config){SUGAR.App.setConfig(e.config)}Template.set(e,e._hash&&e._hash!=this.getHash(t));if(!_.isEmpty(e._hash))_setHash(e,t);if(!n){var i=e._override_values||[];delete e._override_values;_.each(e,function(e,t){_metadata[t]=_.isObject(e)&&!_.contains(i,t)?_.extend(_metadata[t]||{},e):e})}else{_metadata=e}if(SUGAR.App.config.cacheMeta&&!t){_cacheMeta(_metadata)}if(SUGAR.App.config.env!="prod"){this._dev_data=_metadata}},getHash:function T(e){var t=e?_keyPrefix+"public:hash":_keyPrefix+"hash";return SUGAR.App.cache.get(t)||_metadata._hash||""},sync:function C(e,t){_syncing=true;t=t||{};t.params=t.params||{};var n=this,i=t.metadataTypes||(t.getPublic?SUGAR.App.config.publicMetadataTypes:SUGAR.App.config.metadataTypes)||[],r=function s(i){SUGAR.App.logger.debug("Failed fetching metadata");if(!t.getPublic){SUGAR.App.error.handleHttpError(i)}e.call(n,i)},a=e;e=function o(e){_syncing=false;if(_.isFunction(a))a(e)};SUGAR.App.api.getMetadata({types:i,callbacks:{success:function l(a){var s;t=t||{};if(!_.isEmpty(a)){SUGAR.App.logger.debug("Updating metadata");if(_mdLoaded[t.getPublic?"public:md":"md"]&&n.getHash(t.getPublic)==a._hash&&!t.forceRefresh){SUGAR.App.logger.debug("Skipping update as metadata hash matches");return e.call(n)}if(_.isEmpty(i)||_.include(i,"server_info")&&!t.getPublic){s=SUGAR.App.isServerCompatible(a.server_info);if(s!==true){return e(s)}}_mdLoaded[t.getPublic?"public:md":"md"]=true;if(a.jssource){n._loadJSSource(a,t,e,r,n)}else{if(a.labels||a.ordered_labels){_fetchLabels(a,{language:t.language,success:function o(i){_injectLabels(a,i);n.set(a,t.getPublic);e.call(n)},error:r})}else{e.call(n)}}}else{e.call(n,{code:"sync_failed",label:"ERR_SYNC_FAILED"})}},error:r},"public":t.getPublic,params:t.params})},isSyncing:function R(){return _syncing},_loadJSSource:function D(e,t,n,i,r){var a,s=this._checkJSSourceUpdated(e,!!t.getPublic);if(s==="reload"){return Utils.hardRefresh()}else if(s){SUGAR.jssource=false;a=document.createElement("script");a.src=Utils.buildUrl(e.jssource);document.head.appendChild(a)}async.parallel([function(e){if(s){Utils.doWhen("SUGAR.jssource",function(){r._declareClasses(SUGAR.jssource);e()})}else{e()}},function(n){_fetchLabels(e,{language:t.language,success:function a(i){_injectLabels(e,i);r.set(e,t.getPublic);n()},error:function s(){i.apply(r,arguments);n()}})}],function(){if(n){n.call(r)}})},_checkJSSourceUpdated:function I(e,t){if(t){if(this._publicJSSourceFile){if(this._publicJSSourceFile!=e.jssource){return"reload"}return false}else{this._publicJSSourceFile=e.jssource;return true}}if(e.jssource_public&&this._publicJSSourceFile&&e.jssource_public!=this._publicJSSourceFile){Utils.hardRefresh();return"reload"}if(this._jsSourceFile){if(this._jsSourceFile!=e.jssource){return"reload"}return false}this._jsSourceFile=e.jssource;return true},init:function O(){_.bindAll(this,"storageHandler");window.addEventListener("storage",this.storageHandler);if(SUGAR.App.config.cacheMeta){var e=_getCachedMeta();if(e)this.set(e,false)}Events.on("cache:clean",function(e){e([_keyPrefix+"public:hash",_keyPrefix+"hash",_keyPrefix+"data"])})},storageHandler:function N(){if(!_syncing&&(this.getHash()!=_metadata._hash&&_mdLoaded.md||SUGAR.App.api.getUserprefHash()&&User.get("_hash")&&SUGAR.App.api.getUserprefHash()!=User.get("_hash"))){_syncing=true;_mdLoaded.md=false;SUGAR.App.sync({getPublic:!SUGAR.App.api.isAuthenticated()})}},clearCache:function F(){SUGAR.App.cache.cut(_keyPrefix+"public:hash");SUGAR.App.cache.cut(_keyPrefix+"hash");SUGAR.App.cache.cut(_keyPrefix+"data")},reset:function B(){_metadata={};this.clearCache()}}},function(e,t,n){"use strict";var i=n(24);var r=n(56);var a=n(10);var s=n(13);var o=n(92);var l=n(21);var u=n(93);var c=Backbone.Router.extend({initialize:function d(e){e=e||{};this._previousFragment="";this._currentFragment=""},_routeHandler:function f(e){var t=Array.prototype.slice.call(arguments,1),n=e.route;if(u.beforeRoute(n,t)){this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment();e.apply(this,t);u.after(n,t)}},_moduleExists:function h(e){if(e&&_.isUndefined(SUGAR.App.metadata.getModule(e))){o.handleHttpError({status:404});return false}return true},_addDefaultRoutes:function p(){var e=[{name:"notFound",route:/^.*$/,callback:function t(){o.handleHttpError({status:404})}}];this.addRoutes(e)},route:function m(e,t,n){if(!t){SUGAR.App.logger.warn("Route names will be required in 7.9.")}else if(!_.isEmpty(this._routes[t])){SUGAR.App.logger.error('Route "'+t+'" is being overridden. This is highly NOT advisable.')}this._routes[t]=n;if(!n){n=this[t]}n.route=t;n=_.wrap(n,this._routeHandler);Backbone.Router.prototype.route.call(this,e,t,n)},getFragment:function g(){return Backbone.history.getFragment()},navigate:function v(e,t){Backbone.Router.prototype.navigate.apply(this,arguments);if(!(t&&t.trigger)){this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment()}return this},getPreviousFragment:function b(){return this._previousFragment},goBack:function y(){window.history.back()},go:function x(e){window.history.go(e)},init:function S(){this._routes={};this._addDefaultRoutes();l.trigger("router:init")},start:function w(){if(!Backbone.History.started){Backbone.history.start()}},stop:function L(){Backbone.history.stop()},reset:function E(){SUGAR.App.router.stop();Backbone.history.handlers=[];SUGAR.App.router.init();SUGAR.App.router.start()},addRoutes:function k(e){if(!e){return}var t=e.reverse();_.each(t,function(e){this.route(e.route,e.name,e.callback)},this)},get:function A(e){return this._routes[e]},refresh:function M(){Backbone.history.loadUrl(Backbone.history.fragment)},buildRoute:function T(e,t,n){var i;if(_.isFunction(a.customBuildRoute)){i=a.customBuildRoute.apply(this,arguments);if(!_.isEmpty(i)){return i}}if(e){i=_.isString(e)?e:e.get("module");if(t){i+="/"+t}if(n){i+="/"+n}}else{i=n}return i},redirect:function C(e,t){this.navigate(e,_.extend({trigger:true,replace:true},t))},index:function R(){SUGAR.App.logger.debug("Route changed to index");if(SUGAR.App.config.defaultModule){this.navigate(SUGAR.App.config.defaultModule,{trigger:true})}else if(i.hasAccess("read","Home")){this.navigate("Home",{trigger:true})}},list:function D(e){if(!this._moduleExists(e)){return}SUGAR.App.logger.debug("Route changed to list of "+e);SUGAR.App.controller.loadView({module:e,layout:"records"})},layout:function I(e,t){if(!this._moduleExists(e)){return}SUGAR.App.logger.debug("Route changed to layout: "+t+" for "+e);SUGAR.App.controller.loadView({module:e,layout:t})},create:function O(e){if(!this._moduleExists(e)){return}SUGAR.App.logger.debug("Route changed: create "+e);SUGAR.App.controller.loadView({module:e,create:true,layout:"edit"})},login:function N(){SUGAR.App.logger.debug("Logging in");SUGAR.App.controller.loadView({module:"Login",layout:"login",create:true});l.trigger("app:login");if(SUGAR.App.config.externalLogin){SUGAR.App.api.ping(null,{success:function e(){l.trigger("app:login:success");SUGAR.App.router.refresh()},error:function t(){r.show("needs_login_error",{level:"error",messages:s.getAppString("LBL_PORTAL_INVALID_CREDS_TITLE"),title:s.get("LBL_PORTAL_INVALID_CREDS_TITLE")})}})}},logout:function F(e){if(!SUGAR.App.api.isAuthenticated()){this.redirect("/");return}e=e==="1";SUGAR.App.logger.debug("Logging out: "+e);SUGAR.App.logout({complete:function t(){SUGAR.App.router.navigate("#");if(e){window.location.reload()}else{if(SUGAR.App.config.externalLogin){SUGAR.App.controller.loadView({module:"Login",layout:"logout",skipFetch:true,create:true})}else{SUGAR.App.router.login()}}},success:function n(e){l.trigger("app:logout:success",e)}},e)},record:function B(e,t,n,i){if(!this._moduleExists(e)){return}var r=SUGAR.App.controller.context.get("collection"),a=SUGAR.App.controller.context.get("listCollection"),s={module:e,layout:i||"record",action:n||"detail"};if(t!=="create"){_.extend(s,{modelId:t})}else{_.extend(s,{create:true});s.layout="create"}if(r&&r.module===e&&r.get(t)){s.listCollection=r}if(a&&a.module===e&&a.get(t)){s.listCollection=a}SUGAR.App.controller.loadView(s)}});e.exports=c},function(e,t,n){"use strict";var i=n(10);var r=window.location.pathname.replace(/\/[^\/]*$/,"/cookie.html");var a=function o(){return{}};var s={initAsync:function l(e){var t=document.createElement("iframe");t.style.display="none";t.src=r;document.body.appendChild(t);t.contentWindow.onload=function(){a=function n(){return t.contentWindow.getCookie()};e()}},has:function u(e){return e in a()},get:function c(e){return a()[e]},set:function d(e,t){i.cookie.setCookie(e,t,null,r)},cut:function f(e){i.cookie.setCookie(e,"",-1,r)}};e.exports=s},function(e,t,n){"use strict";var i={level:"error",formatter:"SimpleFormatter",consoleWriter:"ConsoleWriter",serverWriter:"ServerWriter"};var r={ConsoleWriter:{write:function o(e,t){if(!window.console)window.console={};if(!window.console.log)window.console.log=function(){};if(e.value<=s.levels.INFO.value){console.log(t)}else if(e.value==s.levels.WARN.value){console.warn(t)}else{console.error(t)}}},ServerWriter:{write:function l(e,t){if(e.value<s.levels.WARN.value){return}if(!SUGAR.App.api.isAuthenticated()){return}var l=i.writeToServer||false;if(!l||!t.trim().length){return}var n=SUGAR.App.api.buildURL(undefined,"logger");var r={level:e.name.toLowerCase(),message:t};SUGAR.App.api.call("create",n,r,{success:function a(e){if(!e.status){throw"Failed to write log message {"+t+"} onto server"}},error:function o(e){throw e}})}}};var a={SimpleFormatter:{format:function u(e,t,n){var i=n.getUTCFullYear()+"-"+(n.getUTCMonth()+1)+"-"+n.getUTCDate()+" "+n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds();return e.name+"["+i+"]: "+t}}};var s={levels:{TRACE:{value:1,name:"TRACE"},DEBUG:{value:2,name:"DEBUG"},INFO:{value:3,name:"INFO"},WARN:{value:4,name:"WARN"},ERROR:{value:5,name:"ERROR"},FATAL:{value:6,name:"FATAL"}},trace:function c(e){this.log(this.levels.TRACE,e)},debug:function d(e){this.log(this.levels.DEBUG,e)},info:function f(e){this.log(this.levels.INFO,e)},warn:function h(e){this.log(this.levels.WARN,e)},error:function p(e){this.log(this.levels.ERROR,e)},fatal:function m(e){this.log(this.levels.FATAL,e)},getLevel:function g(){var e=i.level;if(!e){return this.levels.ERROR}e=e.toUpperCase();return this.levels[e]||this.levels.ERROR},log:function v(e,t){try{var n=this.getLevel();if(e.value<n.value){return}t=t||"<none>";if(_.isFunction(t)){t=t.call(this)}if(_.isObject(t)){try{t=JSON.stringify(t)}catch(s){t=t.toString()}}var o=a[i.formatter]||a.SimpleFormatter;var l=r[i.consoleWriter]||r.ConsoleWriter;var u=r[i.serverWriter]||r.ServerWriter;t=o.format(e,t,new Date);l.write(e,t);u.write(e,t)}catch(s){console.log("Failed to log message {"+t+"} due to exception: "+s)}}};Object.defineProperty(s,"SimpleFormatter",{get:function b(){SUGAR.App.logger.warn("`Utils.Logger.SimpleFormatter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return a.SimpleFormatter}});Object.defineProperty(s,"ServerWriter",{get:function y(){SUGAR.App.logger.warn("`Utils.Logger.ServerWriter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return r.ServerWriter}});Object.defineProperty(s,"ConsoleWriter",{get:function x(){SUGAR.App.logger.warn("`Utils.Logger.ConsoleWriter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return r.ConsoleWriter}});e.exports=function(e){i=e||{};return s}},function(e,t,n){"use strict";var i={isEmptyValue:function r(e){return!_.isNumber(e)&&!_.isBoolean(e)&&!_.isDate(e)&&_.isEmpty(e)},changed:function a(e,t){if(_.isEmpty(e)&&_.isEmpty(t)){return}var n={};var i=_.keys(_.extend(n,t,e));_.each(i,function(i){var r=false;if(!_.has(e,i)||!_.has(t,i)||!_.isEqual(e[i],t[i])){r=true}n[i]=r});return n}};e.exports=i},function(e,t,n){"use strict";var i=n(96);var r=n(45);var a=n(99);var s=n(10);var o=n(13);var l=n(100);var u=n(22);var c=n(101);var d=n(26);var f={field:function h(e,t){var h=d.createField({def:this,viewDefs:this,view:e,model:t.hash.model,viewName:t.hash.template});if(t.hash.parent&&_.isArray(t.hash.parent.fields)){t.hash.parent.fields.push(h)}return h.getPlaceholder()},fieldOfType:function p(e,t){var n={type:e,name:e,label:t};var i=d.createField({def:n,view:this});return i.getPlaceholder()},component:function m(e,t){var n,i,r="";n=_.find(e.meta.components,function(e){var n,i;i=e.layout||e.view;if(_.isString(i)){n=i}else{n=i.name||i.type}return n===t});if(_.isObject(n)&&!_.isEmpty(n)){i=e.initComponents([n])[0];n.initializedInTemplate=true;r=i.getPlaceholder()}return r},eachOptions:function g(e,t){var n,i="",r;n=_.isString(e)?o.getAppListStrings(e):e;if(_.isArray(n)){r=function a(e,n){i=i+t.fn({key:n,value:e})}}else if(_.isObject(n)){r=function s(e,n){i=i+t.fn({key:n,value:e})}}else{n=null}if(n)_.each(n,r,this);return i},buildRoute:function v(e){var t=e.hash.context,n=e.hash.model||(t&&t.get("model")?t.get("model"):{}),i=e.hash.module||n.module||(t&&t.get("module")?t.get("module"):null),r=e.hash.id||n.id,a=e.hash.action;return SUGAR.App.router.buildRoute(i,r,a)},fieldValue:function b(e,t,n){return e.get(t)||n.hash.defaultValue||""},has:function y(e,t,n){if(!_.isArray(t)&&!_.isObject(t)){t=[t]}return _.include(t,e)?n.fn(this):n.inverse(this)},notHas:function x(e,t,n){var i=n.fn,r=n.inverse;n.fn=r;n.inverse=i;return Handlebars.helpers.has.call(this,e,t,n)},isSortable:function S(e,t,n){if(s.isSortable(e,t)){return n.fn(this)}else{return""}},eq:function w(e,t,n){return e==t?n.fn(this):n.inverse(this)},notEq:function L(e,t,n){return e!=t?n.fn(this):n.inverse(this)},match:function E(e,t,n){var i=new RegExp(t);if(i.test(e)){return n.fn(this)}else{return n.inverse(this)}},notMatch:function k(e,t,n){var i=new RegExp(t);if(!i.test(e)){return n.fn(this)}else{return n.inverse(this)}},log:function A(e){SUGAR.App.logger.debug("*****HBS: Current Context*****");SUGAR.App.logger.debug(this);SUGAR.App.logger.debug("*****HBS: Current Value*****");SUGAR.App.logger.debug(e);console.log(e);SUGAR.App.logger.debug("***********************")},str:function M(e,t,n){t=_.isString(t)?t:null;return o.get(e,t,n)},relativeTime:function T(e,t){var n=r(e);var i,a;t.hash.title=t.hash.title||n.formatUser(t.hash.dateOnly);i=_.map(t.hash,function(e,t){return t+'="'+Handlebars.Utils.escapeExpression(e)+'"'}).join(" ");a='<time datetime="'+n.format()+'" '+i+">"+n.fromNow()+"</time>";return new Handlebars.SafeString(a)},arrayJoin:function C(e,t){return e.join(t)},nl2br:function R(e){e=Handlebars.Utils.escapeExpression(e);var R=e.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+"<br>");return new Handlebars.SafeString(R)},formatCurrency:function D(e,t){if(_.isObject(t)){t=t.hash.currencyId||undefined}return i.formatAmountLocale(e,t)},firstChars:function I(e,t){return e.substring(0,t)},formatDate:function O(e,t){e=r(e);return e.formatUser(t.hash.dateOnly)},getModuleName:function N(e,t){var n={plural:t.hash.plural,defaultValue:t.hash.defaultValue};return o.getModuleName(e,n)},partial:function F(e,t,n,i){var r,s,o;if(!i&&n.hash){i=n;n={}}o=_.extend({templateComponent:t},n,i.hash);r=i.hash.module||t.module;if(t&&t.options.templateOptions&&t.options.templateOptions.partials){s=t.options.templateOptions.partials[e]}else if(t instanceof a){var d=i.hash.fallbackTemplate;s=u.getField(t.type,e||"detail",r,d)}else if(t instanceof c){var f=t.tplName;s=u.getView(t.name+"."+e,r)||u.getView(t.name+"."+e);if(!s&&f){s=u.getView(f+"."+e,r)||u.getView(f+"."+e)}}else if(t instanceof l){s=u.getLayout(t.name+"."+e,r)||u.getLayout(t.name+"."+e)}return new Handlebars.SafeString(s?s(o):"")}};e.exports=f},function(e,t,n){t=e.exports=n(102)();t.push([e.i,"#smartbanner { position:absolute; left:0; top:-82px; border-bottom:1px solid #e8e8e8; width:100%; height:78px; font-family:'Helvetica Neue',sans-serif; background:-webkit-linear-gradient(top, #f4f4f4 0%,#cdcdcd 100%); background-image: -ms-linear-gradient(top, #F4F4F4 0%, #CDCDCD 100%); background-image: -moz-linear-gradient(top, #F4F4F4 0%, #CDCDCD 100%); box-shadow:0 1px 2px rgba(0,0,0,0.5); z-index:9998; -webkit-font-smoothing:antialiased; overflow:hidden; -webkit-text-size-adjust:none; }\n#smartbanner, html.sb-animation {-webkit-transition: all .3s ease;}\n#smartbanner .sb-container { margin: 0 auto; }\n#smartbanner .sb-close { position:absolute; left:5px; top:5px; display:block; border:2px solid #fff; width:14px; height:14px; font-family:'ArialRoundedMTBold',Arial; font-size:15px; line-height:15px; text-align:center; color:#fff; background:#070707; text-decoration:none; text-shadow:none; border-radius:14px; box-shadow:0 2px 3px rgba(0,0,0,0.4); -webkit-font-smoothing:subpixel-antialiased; }\n#smartbanner .sb-close:active { font-size:13px; color:#aaa; }\n#smartbanner .sb-icon { position:absolute; left:30px; top:10px; display:block; width:57px; height:57px; background:rgba(0,0,0,0.6); background-size:cover; border-radius:10px; box-shadow:0 1px 3px rgba(0,0,0,0.3); }\n#smartbanner.no-icon .sb-icon { display:none; }\n#smartbanner .sb-info { position:absolute; left:98px; top:18px; width:44%; font-size:11px; line-height:1.2em; font-weight:bold; color:#6a6a6a; text-shadow:0 1px 0 rgba(255,255,255,0.8); }\n#smartbanner #smartbanner.no-icon .sb-info { left:34px; }\n#smartbanner .sb-info strong { display:block; font-size:13px; color:#4d4d4d; line-height: 18px; }\n#smartbanner .sb-info > span { display:block; }\n#smartbanner .sb-info em { font-style:normal; text-transform:uppercase; }\n#smartbanner .sb-button { position:absolute; right:20px; top:24px; border:1px solid #bfbfbf; padding: 0 10px; min-width: 10%; height:24px; font-size:14px; line-height:24px; text-align:center; font-weight:bold; color:#6a6a6a; background:-webkit-linear-gradient(top, #efefef 0%,#dcdcdc 100%); text-transform:uppercase; text-decoration:none; text-shadow:0 1px 0 rgba(255,255,255,0.8); border-radius:3px; box-shadow:0 1px 0 rgba(255,255,255,0.6),0 1px 0 rgba(255,255,255,0.7) inset; }\n#smartbanner .sb-button:active, #smartbanner .sb-button:hover { background:-webkit-linear-gradient(top, #dcdcdc 0%,#efefef 100%); }\n\n#smartbanner .sb-icon.gloss:after { content:''; position:absolute; left:0; top:-1px; border-top:1px solid rgba(255,255,255,0.8); width:100%; height:50%; background:-webkit-linear-gradient(top, rgba(255,255,255,0.7) 0%,rgba(255,255,255,0.2) 100%); border-radius:10px 10px 12px 12px; }\n\n#smartbanner.android { border-color:#212228; background-color: #3D3D3D; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAAG0lEQVQIW2MMDQ39v3r1akYGIAATMAEwByYAANRhCgK+E5vTAAAAAElFTkSuQmCC); border-top: 5px solid #88B131; box-shadow: none; }\n#smartbanner.android .sb-close { border:0; width:17px; height:17px; line-height:17px; color:#b1b1b3; background:#1c1e21; text-shadow:0 1px 1px #000; box-shadow:0 1px 2px rgba(0,0,0,0.8) inset,0 1px 1px rgba(255,255,255,0.3); }\n#smartbanner.android .sb-close:active { color:#eee; }\n#smartbanner.android .sb-info { color:#ccc; text-shadow:0 1px 2px #000; }\n#smartbanner.android .sb-info strong { color:#fff; }\n#smartbanner.android .sb-button { min-width: 12%; border:1px solid #DDDCDC; padding:1px; color:#d1d1d1; background: none; border-radius: 0; box-shadow: none; }\n#smartbanner.android .sb-button span { text-align: center; display: block; padding: 0 10px; background-color: #42B6C9; background-image: -webkit-gradient(linear,0 0,0 100%,from(#42B6C9),to(#39A9BB)); background-image: -moz-linear-gradient(top,#42B6C9,#39A9BB); text-transform:none; text-shadow:none; box-shadow:none; }\n#smartbanner.android .sb-button:active, #smartbanner.android .sb-button:hover { background: none; }\n#smartbanner.android .sb-button:active span, #smartbanner.android .sb-button:hover span { background:#2AC7E1; }\n\n#smartbanner.windows .sb-icon { border-radius: 0px; }",""])},function(e,t,n){t=e.exports=n(102)();t.push([e.i,'/*!\n * Bootstrap v2.0.1\n *\n * Copyright 2012 Twitter, Inc\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Designed and built with all the love in the world @twitter by @mdo and @fat.\n */\n/*!\n// https://github.com/FortAwesome/Font-Awesome\n// MIT License\n\nThis Font Software is licensed under the SIL Open Font License, Version 1.1.\nThis license is copied below, and is also available with a FAQ at:\nhttp://scripts.sil.org/OFL\n\n\n-----------------------------------------------------------\nSIL OPEN FONT LICENSE Version 1.1 - 26 February 2007\n-----------------------------------------------------------\n\nPREAMBLE\nThe goals of the Open Font License (OFL) are to stimulate worldwide\ndevelopment of collaborative font projects, to support the font creation\nefforts of academic and linguistic communities, and to provide a free and\nopen framework in which fonts may be shared and improved in partnership\nwith others.\n\nThe OFL allows the licensed fonts to be used, studied, modified and\nredistributed freely as long as they are not sold by themselves. The\nfonts, including any derivative works, can be bundled, embedded,\nredistributed and/or sold with any software provided that any reserved\nnames are not used by derivative works. The fonts and derivatives,\nhowever, cannot be released under any other type of license. The\nrequirement for fonts to remain under this license does not apply\nto any document created using the fonts or their derivatives.\n\nDEFINITIONS\n"Font Software" refers to the set of files released by the Copyright\nHolder(s) under this license and clearly marked as such. This may\ninclude source files, build scripts and documentation.\n\n"Reserved Font Name" refers to any names specified as such after the\ncopyright statement(s).\n\n"Original Version" refers to the collection of Font Software components as\ndistributed by the Copyright Holder(s).\n\n"Modified Version" refers to any derivative made by adding to, deleting,\nor substituting -- in part or in whole -- any of the components of the\nOriginal Version, by changing formats or by porting the Font Software to a\nnew environment.\n\n"Author" refers to any designer, engineer, programmer, technical\nwriter or other person who contributed to the Font Software.\n\nPERMISSION & CONDITIONS\nPermission is hereby granted, free of charge, to any person obtaining\na copy of the Font Software, to use, study, copy, merge, embed, modify,\nredistribute, and sell modified and unmodified copies of the Font\nSoftware, subject to the following conditions:\n\n1) Neither the Font Software nor any of its individual components,\nin Original or Modified Versions, may be sold by itself.\n\n2) Original or Modified Versions of the Font Software may be bundled,\nredistributed and/or sold with any software, provided that each copy\ncontains the above copyright notice and this license. These can be\nincluded either as stand-alone text files, human-readable headers or\nin the appropriate machine-readable metadata fields within text or\nbinary files as long as those fields can be easily viewed by the user.\n\n3) No Modified Version of the Font Software may use the Reserved Font\nName(s) unless explicit written permission is granted by the corresponding\nCopyright Holder. This restriction only applies to the primary font name as\npresented to the users.\n\n4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font\nSoftware shall not be used to promote, endorse or advertise any\nModified Version, except to acknowledge the contribution(s) of the\nCopyright Holder(s) and the Author(s) or with their explicit written\npermission.\n\n5) The Font Software, modified or unmodified, in part or in whole,\nmust be distributed entirely under this license, and must not be\ndistributed under any other license. The requirement for fonts to\nremain under this license does not apply to any document created\nusing the Font Software.\n\nTERMINATION\nThis license becomes null and void if any of the above conditions are\nnot met.\n\nDISCLAIMER\nTHE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\nOF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE\nCOPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nINCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\nDAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\nOTHER DEALINGS IN THE FONT SOFTWARE.\n*/\n/*!\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/* boxing */\n@keyframes triggerRepaint {\n  0% {\n    width: 100%;\n  }\n  50% {\n    width: 100.001%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n@-webkit-keyframes triggerRepaint {\n  0% {\n    width: 100%;\n  }\n  50% {\n    width: 100.001%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n@-webkit-keyframes rotate {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n.rotation {\n  -webkit-animation-name: rotate;\n  -webkit-animation-duration: 2s;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n}\n@-webkit-keyframes spinner_bounce {\n  0%,\n  100%,\n  80% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n@keyframes spinner_bounce {\n  0%,\n  100%,\n  80% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n@-webkit-keyframes pulse {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes pulse {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-family: \'Open Sans Bold\';\n  font-style: normal;\n  font-weight: 900;\n  src: url('+n(370)+") format('truetype');\n}\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src: url("+n(372)+") format('truetype');\n}\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url("+n(371)+') format(\'truetype\');\n}\n/* NVD3\n  ----------------*/\n/********************\n * SVG CSS\n */\nsvg {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  user-select: none;\n  /* Trying to get SVG to act like a greedy block in all browsers */\n  display: block;\n  width: 100%;\n  height: 100%;\n  max-height: 500px;\n}\nsvg text {\n  font: normal 13px "Helvetica Neue", Helvetica, Arial, sans-serif;\n  fill: #000;\n  stroke: none;\n  cursor: default;\n}\nsvg .title {\n  font: bold 13px + 2 "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n/********************\n * General CSS\n */\n/* Chart colors defined in colors.less */\n.nv-background {\n  fill: #fff;\n}\n.nv-chart {\n  height: 100%;\n  min-width: 300px;\n  min-height: 100px;\n  position: relative;\n  /*\n    Minimum height and width is a good idea to prevent negative SVG dimensions...\n    For example width should be =< margin.left + margin.right + 1,\n    of course 1 pixel for the entire chart would not be very useful, BUT should not have errors\n  */\n}\n.nv-chart svg {\n  max-height: none;\n}\n.nv-noData {\n  font-size: 17px;\n  font-weight: bold;\n}\n.nv-title {\n  font-size: 15px;\n}\n.nv-labels text {\n  font-weight: bold;\n  fill: #666;\n}\n.nv-label-value text,\ntext.nv-label-value {\n  font-size: 15px;\n}\n.ios .nv-label-value text,\n.ios text.nv-label-value {\n  transform: scaleY(0.98);\n}\n.nv-label-box {\n  fill: transparent;\n}\n.nvtooltip {\n  pointer-events: none;\n}\n.nvtooltip-pending-removal {\n  position: absolute;\n  pointer-events: none;\n}\n/**********\n*  Brush\n*/\n/**********\n*  Legend\n*/\n.nv-legend .nv-series {\n  cursor: pointer;\n  font-size: 13px;\n}\n.nv-legend .nv-series line {\n  fill: none;\n}\n.nv-legend .nv-series text {\n  cursor: pointer;\n}\n.nv-legend .disabled circle {\n  fill: #fff;\n}\n.nv-legend-background {\n  fill: rgba(255, 255, 255, 0.9);\n  stroke: rgba(161, 160, 160, 0.75);\n  stroke-width: 1px;\n}\n.nv-legend-link {\n  cursor: pointer;\n  fill: #0679c8;\n}\n.nv-legend-link:hover {\n  fill: #005088;\n  text-decoration: underline;\n}\n.nv-lineLegend .nv-series {\n  cursor: default;\n}\n.nv-lineLegend .nv-series text {\n  cursor: default;\n}\n/**********\n*  Axes\n*/\n.nv-axis path,\n.nv-axis line,\n.nv-axis polyline {\n  fill: none;\n  stroke: #CDCCCB;\n  stroke-width: 2px;\n  shape-rendering: crispEdges;\n  pointer-events: none;\n}\n.nv-axis line,\n.nv-axis polyline {\n  stroke-opacity: .3;\n}\n.nv-axis path,\n.nv-axis line.zero {\n  stroke-opacity: .75;\n}\n.nv-axis path.domain {\n  stroke-width: 2px;\n  stroke: #bbb;\n}\n.nv-axis .nv-axisMaxMin text {\n  font-weight: bold;\n}\n.nv-x.nv-axis text {\n  font-size: 13px;\n}\n.nv-axislabel {\n  font-weight: 900;\n  font-style: italic;\n}\n/**********\n*  MultiBars\n*/\n.nv-multibar .nv-group rect {\n  stroke-opacity: 1;\n  stroke-width: 2px;\n  stroke: #fff;\n}\n.nv-multibar .nv-group.hover rect {\n  fill-opacity: .75;\n}\n/**********\n*  Texture\n*/\n.nv-texture {\n  fill-opacity: 0 !important;\n  pointer-events: none;\n}\n.texture-line {\n  stroke-width: 1px;\n}\n.nv-active .nv-texture {\n  fill-opacity: 1 !important;\n}\n.nv-active .nv-label-box {\n  fill: inherit;\n}\n.nv-inactive .nv-texture {\n  fill-opacity: 0 !important;\n}\n.calc-text-strings,\n.nv-multibar .nv-groups text {\n  fill: #000000;\n  stroke: rgba(0, 0, 0, 0);\n  pointer-events: none;\n}\n/***********\n*  Pie Chart\n*/\n.nv-pie .nv-slice.hover path {\n  fill-opacity: .75;\n}\n.nv-pie .nv-slice polyline {\n  stroke-width: 1px;\n  pointer-events: none;\n}\n.nv-holeWrap text {\n  text-anchor: middle;\n}\ntext.nv-pie-hole-value {\n  font-size: 32px;\n  font-weight: bold;\n}\ntext.nv-pie-hole-label {\n  font-size: 11px;\n}\n/**********\n* Lines\n*/\n.nv-groups path.nv-line {\n  fill: none;\n  stroke-width: 2.5px;\n  stroke-linecap: round;\n  shape-rendering: geometricPrecision;\n}\n.nv-groups path.nv-area {\n  stroke: none;\n  stroke-linecap: round;\n  shape-rendering: geometricPrecision;\n}\n.nv-line.hover path {\n  stroke-width: 6px;\n}\n.nv-line .nv-scatter .nv-groups .nv-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n  stroke: #fff;\n}\n.nv-scatter.nv-single-point .nv-groups .nv-point {\n  stroke-width: 2px;\n}\n.nv-scatter .nv-groups .nv-point.hover,\n.nv-groups .nv-point.hover {\n  stroke-width: 16px;\n  stroke-opacity: .5 !important;\n  stroke: inherit;\n}\n.nv-point-paths path {\n  stroke: transparent;\n  stroke-opacity: 0;\n  fill: transparent;\n  fill-opacity: 0;\n}\n.nv-indexLine {\n  cursor: ew-resize;\n}\n/**********\n* Distribution\n*/\n.nv-distribution {\n  pointer-events: none;\n}\n/**********\n*  Scatter\n*/\n.nv-groups .nv-point {\n  pointer-events: none;\n}\n.nv-groups .nv-point.hover {\n  stroke-width: 20px;\n  stroke-opacity: .5;\n}\n.nv-scatter .nv-point.hover {\n  fill-opacity: 1;\n}\n/**********\n*  Stacked Area\n*/\n.nv-stackedarea path.nv-area {\n  fill-opacity: .7;\n  stroke-opacity: 0;\n}\n.nv-stackedarea path.nv-area.hover {\n  fill-opacity: .9;\n}\n.nv-stackedarea .nv-groups .nv-point {\n  stroke-opacity: 0;\n  fill-opacity: 0;\n}\n.nv-stackedarea .nv-groups .nv-point.hover {\n  stroke-width: 20px;\n  stroke-opacity: .75;\n  fill-opacity: 1;\n}\n/**********\n*  Line Plus Bar\n*/\n/**********\n* Sparkline plus\n*/\n/**********\n* Guage\n*/\n.nv-odomText {\n  font-weight: bold;\n  fill: #000;\n}\n.nv-arc-group {\n  fill: steelblue;\n}\n.nv-pointer {\n  fill: #888888;\n  stroke: #fff;\n}\n/**********\n* Funnel\n*/\n.nv-funnelChart .nv-slice.hover polygon {\n  fill-opacity: .75;\n}\n.nv-funnelChart .nv-y path {\n  stroke: none;\n}\n.nv-funnelChart .nv-label-value text.nv-label {\n  font-size: 13px;\n}\n.nv-funnelChart .nv-label-value text.nv-value {\n  font-size: 15px;\n}\n/**********\n* Bubble\n*/\n.nv-bubbleChart .nv-scatter.nv-single-point .nv-groups .nv-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n}\n/**********\n* Pareto\n*/\n.nv-multiBarWithLegend .nv-line .nv-scatter .nv-groups .nv-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n  stroke-width: 2px;\n}\n.nv-pareto .nv-quotaWrap line {\n  opacity: .8;\n  stroke: #444;\n  stroke-width: 4px;\n  fill: none;\n  /*stroke-dasharray: \'20, 5\'; dashed lines must be defined in JS*/\n}\n.nv-pareto .nv-quotaWrap line.nv-quotaLineTarget {\n  stroke: #777;\n}\n.nv-pareto .nv-quotaWrap line.nv-quotaLineBackground {\n  opacity: 0;\n  stroke-width: 12px;\n}\n.nv-pareto .nv-y.nv-axis .domain {\n  display: none;\n}\n.nv-pareto .nv-y.nv-axis text.nv-quotaValue,\n.nv-pareto .nv-y.nv-axis text.nv-targetQuotaValue {\n  font-weight: bold;\n}\n.nv-pareto .nv-line .nv-groups path {\n  stroke-width: 4px;\n}\n.nv-pareto .nv-linesWrap1 .nv-line .nv-groups path {\n  stroke-width: 6px;\n}\n.nv-pareto .nv-linesWrap2 .nv-scatter .nv-groups circle {\n  stroke: #fff;\n}\n/**********\n* Treemap\n*/\n.nv-treemap {\n  background-color: #fff;\n}\n.nv-treemap text {\n  pointer-events: none;\n  fill: #fff;\n}\n.nv-treemap .nv-depth text {\n  fill: #fff;\n}\n.nv-treemap .nv-grandparent text {\n  font-weight: bold;\n  fill: #58595B;\n}\n.nv-treemap rect {\n  stroke: #fff;\n}\n.nv-treemap .nv-children.hover .nv-parent {\n  fill: #fff;\n  opacity: 0.3;\n}\n.nv-treemap .nv-parent,\n.nv-treemap .nv-grandparent rect {\n  stroke-width: 3px;\n}\n.nv-treemap .nv-child {\n  stroke-width: 1px;\n}\n.nv-treemap .nv-parent {\n  fill: none;\n  font-weight: normal;\n}\n.nv-treemap .nv-grandparent rect {\n  fill: #fff;\n}\n.nv-treemap .nv-children .nv-parent,\n.nv-treemap .nv-grandparent rect {\n  cursor: pointer;\n}\n.nv-treemap .nv-parent {\n  pointer-events: all;\n}\n/**********\n* Dendrogram\n*/\n.nv-card {\n  fill: #E9EFEF;\n  stroke: #AAA;\n  stroke-width: .5px;\n}\n.nv-card .nv-circ-front {\n  stroke-width: 0;\n}\n.nv-card line {\n  stroke-width: 2;\n}\n.nv-card .nv-expcoll {\n  cursor: pointer;\n}\n.nv-tree path.link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 1.5px;\n}\n/***********\n* Colors\n*/\n.nv-fill-green {\n  fill: #33800d;\n  background-color: #33800d;\n}\n.nv-fill-red {\n  fill: #e61718;\n  background-color: #e61718;\n}\n.nv-fill-blue {\n  fill: #176de5;\n  background-color: #176de5;\n}\n.nv-fill00 {\n  fill: #e61718;\n  background-color: #e61718;\n}\n.nv-fill01 {\n  fill: #cc3314;\n  background-color: #cc3314;\n}\n.nv-fill02 {\n  fill: #e5a117;\n  background-color: #e5a117;\n}\n.nv-fill03 {\n  fill: #6a800d;\n  background-color: #6a800d;\n}\n.nv-fill04 {\n  fill: #33800d;\n  background-color: #33800d;\n}\n.nv-fill05 {\n  fill: #0d8046;\n  background-color: #0d8046;\n}\n.nv-fill06 {\n  fill: #0d806c;\n  background-color: #0d806c;\n}\n.nv-fill07 {\n  fill: #0f7799;\n  background-color: #0f7799;\n}\n.nv-fill08 {\n  fill: #1378bf;\n  background-color: #1378bf;\n}\n.nv-fill09 {\n  fill: #176de5;\n  background-color: #176de5;\n}\n.nv-fill10 {\n  fill: #1f12b3;\n  background-color: #1f12b3;\n}\n.nv-fill11 {\n  fill: #6d17e5;\n  background-color: #6d17e5;\n}\n.nv-fill12 {\n  fill: #e5176d;\n  background-color: #e5176d;\n}\n.nv-fill13 {\n  fill: #ff6fcf;\n  background-color: #ff6fcf;\n}\n.nv-legend .nv-fill00 {\n  stroke: #e61718;\n}\n.nv-legend .nv-fill01 {\n  stroke: #cc3314;\n}\n.nv-legend .nv-fill02 {\n  stroke: #e5a117;\n}\n.nv-legend .nv-fill03 {\n  stroke: #6a800d;\n}\n.nv-legend .nv-fill04 {\n  stroke: #33800d;\n}\n.nv-legend .nv-fill05 {\n  stroke: #0d8046;\n}\n.nv-legend .nv-fill06 {\n  stroke: #0d806c;\n}\n.nv-legend .nv-fill07 {\n  stroke: #0f7799;\n}\n.nv-legend .nv-fill08 {\n  stroke: #1378bf;\n}\n.nv-legend .nv-fill09 {\n  stroke: #176de5;\n}\n.nv-legend .nv-fill10 {\n  stroke: #1f12b3;\n}\n.nv-legend .nv-fill11 {\n  stroke: #6d17e5;\n}\n.nv-legend .nv-fill12 {\n  stroke: #e5176d;\n}\n.nv-legend .nv-fill13 {\n  stroke: #ff6fcf;\n}\n.nv-stroke00 {\n  stroke: #e61718;\n  color: #e61718;\n}\n.nv-stroke01 {\n  stroke: #cc3314;\n  color: #cc3314;\n}\n.nv-stroke02 {\n  stroke: #e5a117;\n  color: #e5a117;\n}\n.nv-stroke03 {\n  stroke: #6a800d;\n  color: #6a800d;\n}\n.nv-stroke04 {\n  stroke: #33800d;\n  color: #33800d;\n}\n.nv-stroke05 {\n  stroke: #0d8046;\n  color: #0d8046;\n}\n.nv-stroke06 {\n  stroke: #0d806c;\n  color: #0d806c;\n}\n.nv-stroke07 {\n  stroke: #0f7799;\n  color: #0f7799;\n}\n.nv-stroke08 {\n  stroke: #1378bf;\n  color: #1378bf;\n}\n.nv-stroke09 {\n  stroke: #58595B;\n  color: #58595B;\n}\n.nv-stroke10 {\n  stroke: #1f12b3;\n  color: #1f12b3;\n}\n.nv-stroke11 {\n  stroke: #6d17e5;\n  color: #6d17e5;\n}\n.nv-stroke12 {\n  stroke: #e5176d;\n  color: #e5176d;\n}\n.nv-stroke13 {\n  stroke: #ff6fcf;\n  color: #ff6fcf;\n}\n@media screen and (max-width: 767px) {\n  svg text,\n  .nv-legend .nv-series,\n  .nv-x.nv-axis text {\n    font-size: 11px;\n  }\n  .nv-funnelChart .nv-label-value text.nv-label {\n    font-size: 11px;\n  }\n  .nv-funnelChart .nv-label-value text.nv-value {\n    font-size: 14px;\n  }\n}\n.tooltip {\n  position: absolute;\n  z-index: 1020;\n  display: block;\n  visibility: visible;\n  padding: 5px;\n  font-size: 11px;\n  opacity: 0;\n}\n.tooltip.in {\n  opacity: 0.8;\n}\n.tooltip.top {\n  margin-top: -3px;\n}\n.tooltip.right {\n  margin-left: 3px;\n}\n.tooltip.bottom {\n  margin-top: 3px;\n}\n.tooltip.left {\n  margin-left: -3px;\n}\n.tooltip-inner {\n  max-width: 200px;\n  padding: 3px 8px;\n  color: #fff;\n  text-align: center;\n  text-decoration: none;\n  background-color: #000;\n  border-radius: 3px;\n}\n.tooltip-inner p b {\n  unicode-bidi: bidi-override;\n}\n.tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.tooltip.top .tooltip-arrow {\n  bottom: 0;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px 5px 0;\n  border-top-color: #000;\n}\n.tooltip.right .tooltip-arrow {\n  top: 50%;\n  left: 0;\n  margin-top: -5px;\n  border-width: 5px 5px 5px 0;\n  border-right-color: #000;\n}\n.tooltip.left .tooltip-arrow {\n  top: 50%;\n  right: 0;\n  margin-top: -5px;\n  border-width: 5px 0 5px 5px;\n  border-left-color: #000;\n}\n.tooltip.bottom .tooltip-arrow {\n  top: 0;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 0 5px 5px;\n  border-bottom-color: #000;\n}\n/* TOOLTIP\n  ----------------*/\n.tooltip {\n  z-index: 1020;\n  text-shadow: none;\n  font-weight: normal;\n  word-wrap: break-word;\n  pointer-events: none;\n}\n.tooltip.bottom {\n  margin-top: 8px;\n}\n.tooltip.in {\n  opacity: 1;\n}\n.tooltip div,\n.tooltip span,\n.tooltip a {\n  color: #fff;\n}\n.tooltip-inner {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.tooltip-inner > div {\n  text-align: left;\n}\n.tooltip-inner > p {\n  margin: 0;\n}\n.tooltip-inner h3 {\n  font-size: 13px;\n  color: #CDCCCB;\n  line-height: normal;\n  margin: 3px 0;\n}\nhtml {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  font-size: 14px;\n}\nbody {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background: #fff;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-focus-ring-color: rgba(0, 0, 0, 0);\n  /*-webkit-transform-style: preserve-3d;\n  -webkit-transform: perspective(-900);*/\n  /* Disable certain interactions on touch devices */\n  -webkit-touch-callout: none;\n  -webkit-text-size-adjust: none;\n  -webkit-user-select: none;\n  -webkit-highlight: none;\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  focus-ring-color: rgba(0, 0, 0, 0);\n  touch-callout: none;\n  text-size-adjust: none;\n  user-select: none;\n  highlight: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 1em;\n  line-height: 1.286em;\n  color: #000;\n}\nul,\nimg,\nform,\nfieldset,\ninput,\nlabel,\nselect {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: none;\n}\ndiv,\nspan,\nbutton {\n  outline: 0;\n}\n/* hack for KitKat */\nbutton {\n  font-family: "Open Sans", sans-serif;\n}\n#nomad {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.icondefault {\n  font-size: 16px;\n  vertical-align: middle;\n}\na {\n  color: #0679c8;\n  -webkit-touch-callout: none;\n  outline: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-focus-ring-color: rgba(0, 0, 0, 0);\n  text-decoration: none;\n}\na.selected-item {\n  color: #005088;\n}\np {\n  margin: 0 0 0.643em;\n}\np small {\n  font-size: 0.857em;\n  color: #CDCCCB;\n}\nh1,\nh3 {\n  margin: 0;\n  font-weight: bold;\n  color: #58595B;\n  text-rendering: optimizelegibility;\n}\nh1 {\n  font-size: 30px;\n  line-height: 36px;\n}\nh3 {\n  line-height: 27px;\n  font-size: 18px;\n}\nh3 small {\n  font-size: 14px;\n}\nstrong {\n  font-weight: bold;\n}\nem {\n  font-style: italic;\n}\n.line-through {\n  text-decoration: line-through;\n}\n.clip {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\ninput,\ntextarea,\nselect,\n.placeholder,\n.actionsheet-select {\n  background-color: transparent;\n  border: none;\n  font-size: 1.214rem;\n  font-family: "Open Sans", sans-serif;\n  color: #111;\n}\n.actionsheet-select {\n  display: block;\n}\ntextarea {\n  height: auto;\n}\ninput[disabled],\nselect[disabled],\ntextarea[disabled],\ninput[readonly],\nselect[readonly],\ntextarea[readonly] {\n  cursor: not-allowed;\n  background-color: #f5f5f5;\n  border-color: #ddd;\n}\n.field.error > label,\n.field.error .help-block,\n.field.error .help-inline {\n  color: #4d1e1e;\n}\n.field.error input,\n.field.error select,\n.field.error textarea {\n  color: #4d1e1e;\n}\n.field.error .input-prepend .add-on,\n.field.error .input-append .add-on {\n  color: #4d1e1e;\n  background-color: #f2dede;\n}\n::-webkit-input-placeholder {\n  color: #d3dbe1;\n}\n.checkbox-toggle {\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  width: 46px;\n  height: 26px;\n}\n.checkbox-toggle .checkbox-toggle__checkbox {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 46px;\n  height: 26px;\n  opacity: 0;\n  z-index: 2;\n}\n.checkbox-toggle .checkbox-toggle__checkbox[disabled] + .checkbox-toggle__slider {\n  opacity: .3;\n}\n.checkbox-toggle.checkbox-toggle--js .checkbox-toggle__slider,\n.checkbox-toggle .checkbox-toggle__slider {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 42px;\n  height: 22px;\n  border: solid 2px #9aa5ad;\n  border-radius: 13px;\n}\n.checkbox-toggle.checkbox-toggle--js .checkbox-toggle__slider:before,\n.checkbox-toggle .checkbox-toggle__slider:before {\n  position: absolute;\n  content: " ";\n  height: 22px;\n  width: 22px;\n  left: -2px;\n  top: -2px;\n  border: solid 2px #9aa5ad;\n  background: #fff;\n  border-radius: 13px;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n.checkbox-toggle.checkbox-toggle--on .checkbox-toggle__slider,\n.checkbox-toggle:not(.checkbox-toggle--js) .checkbox-toggle__checkbox:checked + .checkbox-toggle__slider {\n  background: #54cb14;\n  border-color: #54cb14;\n}\n.checkbox-toggle.checkbox-toggle--on .checkbox-toggle__slider:before,\n.checkbox-toggle:not(.checkbox-toggle--js) .checkbox-toggle__checkbox:checked + .checkbox-toggle__slider:before {\n  transform: translateX(20px);\n  border-color: #54cb14;\n}\n.field {\n  clear: both;\n  position: relative;\n  padding: 6px 0 0;\n}\n.field:after {\n  display: table;\n  clear: both;\n}\n.field.selected-item {\n  background-color: #ededed;\n}\n.field .field__label {\n  display: block;\n  padding-top: 4px;\n  padding-bottom: 2px;\n  font-size: 0.857rem;\n  line-height: 1em;\n  color: #7e878d;\n}\n.field .field__controls {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  min-height: 2.286rem;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #d3dbe1;\n  transition: border-bottom 0.3s ease-out 0s;\n  font-size: 1.143rem;\n}\n.field .field__controls .checkbox_custom {\n  width: 65%;\n  height: 34px;\n  margin-top: -5px;\n  margin-bottom: -5px;\n}\n.field .field__controls .checkbox_custom + .checkbox-icon {\n  margin: 5px 0 0 -65%;\n}\n.field .field__controls--readonly {\n  word-wrap: break-word;\n  padding-top: 5px;\n  color: #b5b5b5;\n}\n.field .field__controls--readonly .placeholder {\n  margin-top: -15px;\n  margin-bottom: -10px;\n}\n.field .field__controls--readonly.color-def {\n  color: #111;\n}\n.field .field__controls--flex {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field .field__controls--flex .input-wrapper,\n.field .field__controls--flex .picture-wrap {\n  display: block;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.field .field__controls--flex .txt-value {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1.214rem;\n  color: #111;\n}\n.field .field__controls--flex .btn-group {\n  display: -webkit-box;\n}\n.field .field__controls--flex + .field__controls--flex {\n  margin-top: 6px;\n}\n.field .placeholder {\n  display: block;\n  height: 3.286rem;\n  line-height: 3.286rem;\n  width: 100%;\n  padding: 0;\n  margin: -10px 0 -3.286rem 0;\n  font-size: 1.214rem;\n  color: #d3dbe1;\n}\n.field .placeholder.hide {\n  display: none !important;\n}\n.field.error .field__label {\n  color: #e61718;\n}\n.field.error .error-icon {\n  position: absolute;\n  top: 1.1rem;\n  right: 15px;\n  line-height: 1em;\n  color: #e61718;\n}\n.field.error .input-wrapper input::-webkit-input-placeholder,\n.field.error .placeholder {\n  opacity: 0;\n}\n.field.error .field__controls,\n.field.error.field--datetime .time,\n.field.error.field--currency .field__controls .selector {\n  border-color: #e61718;\n}\n.field .field__error-message {\n  padding-top: 4px;\n  padding-bottom: 4px;\n  clear: both;\n  border-color: #e61718;\n  font-size: 0.857rem;\n  line-height: 1.2em;\n  color: #e61718;\n}\n.field.field--onfocus .field__label {\n  color: #0679c8;\n}\n.field.field--onfocus .field__controls,\n.field.field--onfocus.field--currency .field__controls .selector,\n.field.field--onfocus.field--datetime .time {\n  border-color: #0679c8;\n}\n.field.field--readonly input,\n.field.field--readonly select,\n.field.field--readonly label,\n.field.field--readonly .textarea-div {\n  color: #b5b5b5;\n}\n.field input:not([type=checkbox]),\n.field textarea,\n.field select,\n.field .actionsheet-select {\n  position: relative;\n  box-sizing: border-box;\n  height: 3.286rem;\n  line-height: normal;\n  width: 100%;\n  padding: 0;\n  margin: -10px 0 -10px 0;\n  z-index: 2;\n}\n.field select,\n.field .actionsheet-select {\n  display: inline-block;\n  line-height: 3.286rem;\n  padding-right: 20px;\n  margin-right: -20px;\n  -webkit-appearance: none;\n}\n.field select + .icondefault,\n.field .actionsheet-select + .icondefault {\n  height: 3.286rem;\n  line-height: 3.286rem;\n  margin-top: -10px;\n  margin-bottom: -10px;\n}\n.field .selector .actionsheet-select {\n  width: auto;\n}\n.field textarea {\n  padding-top: 5px;\n  height: 48px;\n  line-height: 17px;\n}\n.field .textarea-div {\n  overflow-y: auto;\n  padding-top: 0.357rem;\n  min-height: 48px;\n  max-height: 86px;\n  line-height: 1.214em;\n  white-space: pre-wrap;\n  color: #000;\n}\n.field .textarea-div .placeholder {\n  margin-top: -15px;\n}\n.field .input-wrapper input::-webkit-input-placeholder {\n  font-size: 1.214rem;\n  color: #d3dbe1;\n}\n.field .clear-button .btn {\n  border: none;\n}\n.field--enum .field__controls {\n  overflow: hidden;\n}\n.field--enum .placeholder {\n  padding-bottom: 10px;\n}\n.field--bool .checkbox-toggle {\n  margin-top: 4px;\n}\n.field--currency .field__controls {\n  display: flex;\n  padding-bottom: 0;\n}\n.field--currency .field__controls .selector {\n  position: relative;\n  width: 4.4rem;\n  margin-right: 10px;\n  border-width: 0 1px 0 0;\n  border-style: solid;\n  border-color: #d3dbe1;\n}\n.field--currency .field__controls .selector .selectArrow-icon {\n  height: 2.286rem;\n  line-height: 2.286rem;\n  margin: -10px 0;\n  font-size: 1rem;\n}\n.field--currency .field__controls .selector select {\n  width: 100%;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  padding: 0 0 0 15px;\n  line-height: 1;\n}\n.field--currency .field__controls .input-wrapper {\n  flex: 1;\n}\n.field--date .input-wrapper input {\n  line-height: 3.286rem;\n  -webkit-appearance: listitem;\n  background: transparent;\n}\n.field--date .input-wrapper input.empty {\n  opacity: 0;\n}\n.field--date .input-wrapper input::-webkit-inner-spin-button,\n.field--date .input-wrapper input::-webkit-outer-spin-button,\n.field--date .input-wrapper input::-webkit-clear-button,\n.field--date .input-wrapper input::-webkit-calendar-picker-indicator {\n  display: none;\n  -webkit-appearance: none;\n}\n.field--date .input-wrapper input[disabled] {\n  -webkit-text-fill-color: #111;\n  opacity: 1;\n}\n.field--datetime .field__controls {\n  overflow: hidden;\n  padding-bottom: 0;\n}\n.field--datetime .field__controls .field__controls--has-btns {\n  padding-right: 1.5rem;\n}\n.field--datetime .date {\n  float: left;\n  overflow: hidden;\n  width: 8rem;\n  margin: 0 0 -15px;\n}\n.field--datetime .time {\n  float: left;\n  overflow: hidden;\n  width: 7rem;\n  height: 3.286rem;\n  margin: 0 0 -15px;\n  border-width: 0 0 0 1px;\n  border-style: solid;\n  border-color: #d3dbe1;\n}\n.field--datetime .time input {\n  width: auto;\n  padding-left: 10px;\n}\n.field--datetime input {\n  float: none;\n  -webkit-appearance: none;\n  background: transparent;\n  opacity: 1;\n  white-space: nowrap;\n}\n.field--datetime input.empty {\n  opacity: 0;\n}\n.field--datetime input::-webkit-inner-spin-button,\n.field--datetime input::-webkit-outer-spin-button,\n.field--datetime input::-webkit-clear-button,\n.field--datetime input::-webkit-calendar-picker-indicator {\n  display: none;\n  -webkit-appearance: none;\n}\n.field--datetime input[disabled] {\n  -webkit-text-fill-color: #111;\n}\n.field--datetime .btn-group {\n  position: absolute;\n  top: 1.429rem;\n  right: 0;\n}\n.email_type_invalid {\n  text-decoration: line-through;\n}\n.email_type_opt-out {\n  opacity: 0.6;\n}\n.field--email .field__controls--flex .input-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field--email .field__controls--flex .input-wrapper .input-email {\n  height: 1.858rem;\n  margin-top: 0;\n  padding-top: 0;\n  margin-bottom: 0;\n  padding-bottom: 0;\n  line-height: 1;\n}\n.field--email .field__controls--flex .input-wrapper .clear-button {\n  margin-right: 5px;\n}\n.field--email .field__controls--flex.error {\n  position: relative;\n}\n.field--email .field__controls--flex.error .input-wrapper {\n  margin-right: 15px;\n}\n.field--email .field__controls--flex.error .input-wrapper .input-email {\n  color: red;\n}\n.field--email .primary-address .input-email,\n.field--email .primary-address .txt-value {\n  font-weight: bold;\n}\n.field--email .invalid-email .input-email,\n.field--email.field--readonly .invalid-email .txt-value {\n  text-decoration: line-through;\n  font-weight: normal;\n}\n.field--email .opt-out .input-email {\n  color: #58595B;\n  font-weight: normal;\n}\n.field--email.field--readonly .opt-out .txt-value {\n  color: #b5b5b5;\n  font-weight: normal;\n}\n.field--email .btn {\n  min-width: 35px;\n  color: #262626;\n}\n.field--email .field--email__add {\n  position: relative;\n  padding-top: 7px;\n  font-size: 1rem;\n  color: #0679c8;\n  z-index: 2;\n}\n.field--email.error .field__controls--flex {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field--file .field__controls {\n  overflow: hidden;\n  min-height: 40px;\n}\n.field--file .picture-wrap {\n  height: 2rem;\n  float: left;\n}\n.field--file .picture-wrap img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  max-width: none;\n}\n.field--file .picture-wrap img.hide {\n  display: none;\n}\n.field--file .picture-wrap .picture-icon .icondefault {\n  line-height: 26px;\n  font-size: 24px;\n  color: #ccc;\n}\n.field--file .picture-wrap .input_upload {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  opacity: 0;\n}\n.field--file .picture-wrap .value {\n  display: none;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  color: #111;\n}\n.field--file .picture-wrap .picture-icon + .placeholder {\n  display: inline-block;\n  position: static;\n  width: auto;\n}\n.field--file .picture-wrap .picture-icon.hide + .value,\n.field--file .picture-wrap .picture-icon.hide + .placeholder + .value {\n  display: block;\n}\n.field--file .file-remove {\n  z-index: 2;\n}\n.field--file .clear-button {\n  float: right;\n  height: 28px;\n  padding: 0.33em 5px 5px 5px;\n  margin: -0.33em -5px -5px 0;\n  font-size: 1.143rem;\n  line-height: 28px;\n  color: #c2c2c2;\n}\n.field--invitees .placeholder {\n  margin-bottom: -10px;\n}\n.multienum-list {\n  width: 100%;\n  min-height: 21px;\n  padding-top: 5px;\n  cursor: pointer;\n}\n.multienum-list .placeholder {\n  margin-top: -15px;\n  margin-bottom: -10px;\n}\n.multienum-list .multienum-list__label {\n  display: inline-block;\n  position: relative;\n  padding: 8px 25px 8px 8px;\n  margin-bottom: 6px;\n  background: #ebebeb;\n  border-radius: 3px;\n  color: #696969;\n  font-size: 0.929rem;\n  line-height: 1;\n  white-space: normal;\n}\n.multienum-list .multienum-list__remove {\n  position: absolute;\n  top: 8px;\n  right: 0;\n  height: 100%;\n  padding: 0 8px 0 10px;\n  font-size: 0.857rem;\n  color: #828282;\n}\n.multienum-list .multienum-list__remove.selected-item {\n  color: #1c1c1c;\n}\n.field--radio .field__controls {\n  overflow: hidden;\n  padding-top: 5px;\n}\n.field--radio .field__controls .btn-group .btn {\n  position: relative;\n  left: -5px;\n  min-height: 1.786rem;\n  line-height: 1.786rem;\n  min-width: 30px;\n  padding: 0 5px !important;\n  margin: 0 0 5px 5px;\n  border: solid 1px #9aa5ad;\n  border-radius: 1rem;\n  font-size: 1rem;\n  font-weight: 300;\n  color: #9aa5ad;\n}\n.field--radio .field__controls .btn-group .btn.active {\n  color: #fff !important;\n  background: #0679c8;\n  border-color: #0679c8;\n}\n.field--teamset .placeholder {\n  margin-bottom: -10px;\n}\n.field--relate .placeholder {\n  margin-bottom: -10px;\n}\n.email-body-content {\n  padding: 4px;\n}\n/*\n------------------------- */\n.control__btn_remove {\n  font-size: 1.143rem;\n}\ntable {\n  max-width: 100%;\n  background-color: transparent;\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n.table {\n  width: 100%;\n  margin-bottom: 18px;\n}\n.table th,\n.table td {\n  padding: 8px;\n  line-height: 18px;\n  text-align: left;\n  vertical-align: top;\n  border-bottom: 1px solid #ecedef;\n}\n.table th {\n  font-weight: bold;\n}\n.table thead th {\n  vertical-align: bottom;\n}\n.table caption + thead tr:first-child th,\n.table caption + thead tr:first-child td,\n.table colgroup + thead tr:first-child th,\n.table colgroup + thead tr:first-child td,\n.table thead:first-child tr:first-child th,\n.table thead:first-child tr:first-child td {\n  border-top: 0;\n}\n.table tbody + tbody {\n  border-top: 2px solid #ecedef;\n}\n.layout__def {\n  position: absolute;\n  top: 50px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n}\n.layout__def .box__header {\n  top: -50px;\n}\n.layout__def .box__edit {\n  top: 50px;\n}\n/*!\n *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: \'FontAwesome\';\n  src: url('+n(373)+') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.icon {\n  display: inline-block;\n  font-family: FontAwesome;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/* makes the font 33% larger relative to the icon container */\n.icon-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.icon-2x {\n  font-size: 2em;\n}\n.icon-3x {\n  font-size: 3em;\n}\n.icon-4x {\n  font-size: 4em;\n}\n.icon-5x {\n  font-size: 5em;\n}\n.icon-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n.icon-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.icon-ul > li {\n  position: relative;\n}\n.icon-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.icon-li.icon-lg {\n  left: -1.85714286em;\n}\n.icon-border {\n  padding: .2em .25em .15em;\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n}\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.icon.pull-left {\n  margin-right: .3em;\n}\n.icon.pull-right {\n  margin-left: .3em;\n}\n.icon-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n  animation: fa-spin 2s infinite linear;\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n.icon-rotate-90 {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1);\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.icon-rotate-180 {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.icon-rotate-270 {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.icon-flip-horizontal {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);\n  -webkit-transform: scale(-1, 1);\n  -ms-transform: scale(-1, 1);\n  transform: scale(-1, 1);\n}\n.icon-flip-vertical {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);\n  -webkit-transform: scale(1, -1);\n  -ms-transform: scale(1, -1);\n  transform: scale(1, -1);\n}\n.icon-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.icon-stack-1x,\n.icon-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.icon-stack-1x {\n  line-height: inherit;\n}\n.icon-stack-2x {\n  font-size: 2em;\n}\n.icon-inverse {\n  color: #fff;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.icon-circle-thin:before {\n  content: "\\f1db";\n}\n.icon-glass:before {\n  content: "\\f000";\n}\n.icon-music:before {\n  content: "\\f001";\n}\n.icon-search:before {\n  content: "\\f002";\n}\n.icon-envelope-o:before {\n  content: "\\f003";\n}\n.icon-heart:before {\n  content: "\\f004";\n}\n.icon-star:before {\n  content: "\\f005";\n}\n.icon-star-o:before {\n  content: "\\f006";\n}\n.icon-user:before {\n  content: "\\f007";\n}\n.icon-film:before {\n  content: "\\f008";\n}\n.icon-th-large:before {\n  content: "\\f009";\n}\n.icon-th:before {\n  content: "\\f00a";\n}\n.icon-th-list:before {\n  content: "\\f00b";\n}\n.icon-check:before {\n  content: "\\f00c";\n}\n.icon-remove:before,\n.icon-close:before,\n.icon-times:before {\n  content: "\\f00d";\n}\n.icon-search-plus:before {\n  content: "\\f00e";\n}\n.icon-search-minus:before {\n  content: "\\f010";\n}\n.icon-power-off:before {\n  content: "\\f011";\n}\n.icon-signal:before {\n  content: "\\f012";\n}\n.icon-gear:before,\n.icon-cog:before {\n  content: "\\f013";\n}\n.icon-trash-o:before {\n  content: "\\f014";\n}\n.icon-home:before {\n  content: "\\f015";\n}\n.icon-file-o:before {\n  content: "\\f016";\n}\n.icon-clock-o:before {\n  content: "\\f017";\n}\n.icon-road:before {\n  content: "\\f018";\n}\n.icon-download:before {\n  content: "\\f019";\n}\n.icon-arrow-circle-o-down:before {\n  content: "\\f01a";\n}\n.icon-arrow-circle-o-up:before {\n  content: "\\f01b";\n}\n.icon-inbox:before {\n  content: "\\f01c";\n}\n.icon-play-circle-o:before {\n  content: "\\f01d";\n}\n.icon-rotate-right:before,\n.icon-repeat:before {\n  content: "\\f01e";\n}\n.icon-refresh:before {\n  content: "\\f021";\n}\n.icon-list-alt:before {\n  content: "\\f022";\n}\n.icon-lock:before {\n  content: "\\f023";\n}\n.icon-flag:before {\n  content: "\\f024";\n}\n.icon-headphones:before {\n  content: "\\f025";\n}\n.icon-volume-off:before {\n  content: "\\f026";\n}\n.icon-volume-down:before {\n  content: "\\f027";\n}\n.icon-volume-up:before {\n  content: "\\f028";\n}\n.icon-qrcode:before {\n  content: "\\f029";\n}\n.icon-barcode:before {\n  content: "\\f02a";\n}\n.icon-tag:before {\n  content: "\\f02b";\n}\n.icon-tags:before {\n  content: "\\f02c";\n}\n.icon-book:before {\n  content: "\\f02d";\n}\n.icon-bookmark:before {\n  content: "\\f02e";\n}\n.icon-print:before {\n  content: "\\f02f";\n}\n.icon-camera:before {\n  content: "\\f030";\n}\n.icon-font:before {\n  content: "\\f031";\n}\n.icon-bold:before {\n  content: "\\f032";\n}\n.icon-italic:before {\n  content: "\\f033";\n}\n.icon-text-height:before {\n  content: "\\f034";\n}\n.icon-text-width:before {\n  content: "\\f035";\n}\n.icon-align-left:before {\n  content: "\\f036";\n}\n.icon-align-center:before {\n  content: "\\f037";\n}\n.icon-align-right:before {\n  content: "\\f038";\n}\n.icon-align-justify:before {\n  content: "\\f039";\n}\n.icon-list:before {\n  content: "\\f03a";\n}\n.icon-dedent:before,\n.icon-outdent:before {\n  content: "\\f03b";\n}\n.icon-indent:before {\n  content: "\\f03c";\n}\n.icon-video-camera:before {\n  content: "\\f03d";\n}\n.icon-photo:before,\n.icon-image:before,\n.icon-picture-o:before {\n  content: "\\f03e";\n}\n.icon-pencil:before {\n  content: "\\f040";\n}\n.icon-map-marker:before {\n  content: "\\f041";\n}\n.icon-adjust:before {\n  content: "\\f042";\n}\n.icon-tint:before {\n  content: "\\f043";\n}\n.icon-edit:before,\n.icon-pencil-square-o:before {\n  content: "\\f044";\n}\n.icon-share-square-o:before {\n  content: "\\f045";\n}\n.icon-check-square-o:before {\n  content: "\\f046";\n}\n.icon-arrows:before {\n  content: "\\f047";\n}\n.icon-step-backward:before {\n  content: "\\f048";\n}\n.icon-fast-backward:before {\n  content: "\\f049";\n}\n.icon-backward:before {\n  content: "\\f04a";\n}\n.icon-play:before {\n  content: "\\f04b";\n}\n.icon-pause:before {\n  content: "\\f04c";\n}\n.icon-stop:before {\n  content: "\\f04d";\n}\n.icon-forward:before {\n  content: "\\f04e";\n}\n.icon-fast-forward:before {\n  content: "\\f050";\n}\n.icon-step-forward:before {\n  content: "\\f051";\n}\n.icon-eject:before {\n  content: "\\f052";\n}\n.icon-chevron-left:before {\n  content: "\\f053";\n}\n.icon-chevron-right:before {\n  content: "\\f054";\n}\n.icon-plus-circle:before {\n  content: "\\f055";\n}\n.icon-minus-circle:before {\n  content: "\\f056";\n}\n.icon-times-circle:before {\n  content: "\\f057";\n}\n.icon-check-circle:before {\n  content: "\\f058";\n}\n.icon-question-circle:before {\n  content: "\\f059";\n}\n.icon-info-circle:before {\n  content: "\\f05a";\n}\n.icon-crosshairs:before {\n  content: "\\f05b";\n}\n.icon-times-circle-o:before {\n  content: "\\f05c";\n}\n.icon-check-circle-o:before {\n  content: "\\f05d";\n}\n.icon-ban:before {\n  content: "\\f05e";\n}\n.icon-arrow-left:before {\n  content: "\\f060";\n}\n.icon-arrow-right:before {\n  content: "\\f061";\n}\n.icon-arrow-up:before {\n  content: "\\f062";\n}\n.icon-arrow-down:before {\n  content: "\\f063";\n}\n.icon-mail-forward:before,\n.icon-share:before {\n  content: "\\f064";\n}\n.icon-expand:before {\n  content: "\\f065";\n}\n.icon-compress:before {\n  content: "\\f066";\n}\n.icon-plus:before {\n  content: "\\f067";\n}\n.icon-minus:before {\n  content: "\\f068";\n}\n.icon-asterisk:before {\n  content: "\\f069";\n}\n.icon-exclamation-circle:before {\n  content: "\\f06a";\n}\n.icon-gift:before {\n  content: "\\f06b";\n}\n.icon-leaf:before {\n  content: "\\f06c";\n}\n.icon-fire:before {\n  content: "\\f06d";\n}\n.icon-eye:before {\n  content: "\\f06e";\n}\n.icon-eye-slash:before {\n  content: "\\f070";\n}\n.icon-warning:before,\n.icon-exclamation-triangle:before {\n  content: "\\f071";\n}\n.icon-plane:before {\n  content: "\\f072";\n}\n.icon-calendar:before {\n  content: "\\f073";\n}\n.icon-random:before {\n  content: "\\f074";\n}\n.icon-comment:before {\n  content: "\\f075";\n}\n.icon-magnet:before {\n  content: "\\f076";\n}\n.icon-chevron-up:before {\n  content: "\\f077";\n}\n.icon-chevron-down:before {\n  content: "\\f078";\n}\n.icon-retweet:before {\n  content: "\\f079";\n}\n.icon-shopping-cart:before {\n  content: "\\f07a";\n}\n.icon-folder:before {\n  content: "\\f07b";\n}\n.icon-folder-open:before {\n  content: "\\f07c";\n}\n.icon-arrows-v:before {\n  content: "\\f07d";\n}\n.icon-arrows-h:before {\n  content: "\\f07e";\n}\n.icon-bar-chart-o:before,\n.icon-bar-chart:before {\n  content: "\\f080";\n}\n.icon-twitter-square:before {\n  content: "\\f081";\n}\n.icon-facebook-square:before {\n  content: "\\f082";\n}\n.icon-camera-retro:before {\n  content: "\\f083";\n}\n.icon-key:before {\n  content: "\\f084";\n}\n.icon-gears:before,\n.icon-cogs:before {\n  content: "\\f085";\n}\n.icon-comments:before {\n  content: "\\f086";\n}\n.icon-thumbs-o-up:before {\n  content: "\\f087";\n}\n.icon-thumbs-o-down:before {\n  content: "\\f088";\n}\n.icon-star-half:before {\n  content: "\\f089";\n}\n.icon-heart-o:before {\n  content: "\\f08a";\n}\n.icon-sign-out:before {\n  content: "\\f08b";\n}\n.icon-linkedin-square:before {\n  content: "\\f08c";\n}\n.icon-thumb-tack:before {\n  content: "\\f08d";\n}\n.icon-external-link:before {\n  content: "\\f08e";\n}\n.icon-sign-in:before {\n  content: "\\f090";\n}\n.icon-trophy:before {\n  content: "\\f091";\n}\n.icon-github-square:before {\n  content: "\\f092";\n}\n.icon-upload:before {\n  content: "\\f093";\n}\n.icon-lemon-o:before {\n  content: "\\f094";\n}\n.icon-phone:before {\n  content: "\\f095";\n}\n.icon-square-o:before {\n  content: "\\f096";\n}\n.icon-bookmark-o:before {\n  content: "\\f097";\n}\n.icon-phone-square:before {\n  content: "\\f098";\n}\n.icon-twitter:before {\n  content: "\\f099";\n}\n.icon-facebook:before {\n  content: "\\f09a";\n}\n.icon-github:before {\n  content: "\\f09b";\n}\n.icon-unlock:before {\n  content: "\\f09c";\n}\n.icon-credit-card:before {\n  content: "\\f09d";\n}\n.icon-rss:before {\n  content: "\\f09e";\n}\n.icon-hdd-o:before {\n  content: "\\f0a0";\n}\n.icon-bullhorn:before {\n  content: "\\f0a1";\n}\n.icon-bell:before {\n  content: "\\f0f3";\n}\n.icon-certificate:before {\n  content: "\\f0a3";\n}\n.icon-hand-o-right:before {\n  content: "\\f0a4";\n}\n.icon-hand-o-left:before {\n  content: "\\f0a5";\n}\n.icon-hand-o-up:before {\n  content: "\\f0a6";\n}\n.icon-hand-o-down:before {\n  content: "\\f0a7";\n}\n.icon-arrow-circle-left:before {\n  content: "\\f0a8";\n}\n.icon-arrow-circle-right:before {\n  content: "\\f0a9";\n}\n.icon-arrow-circle-up:before {\n  content: "\\f0aa";\n}\n.icon-arrow-circle-down:before {\n  content: "\\f0ab";\n}\n.icon-globe:before {\n  content: "\\f0ac";\n}\n.icon-wrench:before {\n  content: "\\f0ad";\n}\n.icon-tasks:before {\n  content: "\\f0ae";\n}\n.icon-filter:before {\n  content: "\\f0b0";\n}\n.icon-briefcase:before {\n  content: "\\f0b1";\n}\n.icon-arrows-alt:before {\n  content: "\\f0b2";\n}\n.icon-group:before,\n.icon-users:before {\n  content: "\\f0c0";\n}\n.icon-chain:before,\n.icon-link:before {\n  content: "\\f0c1";\n}\n.icon-cloud:before {\n  content: "\\f0c2";\n}\n.icon-flask:before {\n  content: "\\f0c3";\n}\n.icon-cut:before,\n.icon-scissors:before {\n  content: "\\f0c4";\n}\n.icon-copy:before,\n.icon-files-o:before {\n  content: "\\f0c5";\n}\n.icon-paperclip:before {\n  content: "\\f0c6";\n}\n.icon-save:before,\n.icon-floppy-o:before {\n  content: "\\f0c7";\n}\n.icon-square:before {\n  content: "\\f0c8";\n}\n.icon-navicon:before,\n.icon-reorder:before,\n.icon-bars:before {\n  content: "\\f0c9";\n}\n.icon-list-ul:before {\n  content: "\\f0ca";\n}\n.icon-list-ol:before {\n  content: "\\f0cb";\n}\n.icon-strikethrough:before {\n  content: "\\f0cc";\n}\n.icon-underline:before {\n  content: "\\f0cd";\n}\n.icon-table:before {\n  content: "\\f0ce";\n}\n.icon-magic:before {\n  content: "\\f0d0";\n}\n.icon-truck:before {\n  content: "\\f0d1";\n}\n.icon-pinterest:before {\n  content: "\\f0d2";\n}\n.icon-pinterest-square:before {\n  content: "\\f0d3";\n}\n.icon-google-plus-square:before {\n  content: "\\f0d4";\n}\n.icon-google-plus:before {\n  content: "\\f0d5";\n}\n.icon-money:before {\n  content: "\\f0d6";\n}\n.icon-caret-down:before {\n  content: "\\f0d7";\n}\n.icon-caret-up:before {\n  content: "\\f0d8";\n}\n.icon-caret-left:before {\n  content: "\\f0d9";\n}\n.icon-caret-right:before {\n  content: "\\f0da";\n}\n.icon-columns:before {\n  content: "\\f0db";\n}\n.icon-unsorted:before,\n.icon-sort:before {\n  content: "\\f0dc";\n}\n.icon-sort-down:before,\n.icon-sort-desc:before {\n  content: "\\f0dd";\n}\n.icon-sort-up:before,\n.icon-sort-asc:before {\n  content: "\\f0de";\n}\n.icon-envelope:before {\n  content: "\\f0e0";\n}\n.icon-linkedin:before {\n  content: "\\f0e1";\n}\n.icon-rotate-left:before,\n.icon-undo:before {\n  content: "\\f0e2";\n}\n.icon-legal:before,\n.icon-gavel:before {\n  content: "\\f0e3";\n}\n.icon-dashboard:before,\n.icon-tachometer:before {\n  content: "\\f0e4";\n}\n.icon-comment-o:before {\n  content: "\\f0e5";\n}\n.icon-comments-o:before {\n  content: "\\f0e6";\n}\n.icon-flash:before,\n.icon-bolt:before {\n  content: "\\f0e7";\n}\n.icon-sitemap:before {\n  content: "\\f0e8";\n}\n.icon-umbrella:before {\n  content: "\\f0e9";\n}\n.icon-paste:before,\n.icon-clipboard:before {\n  content: "\\f0ea";\n}\n.icon-lightbulb-o:before {\n  content: "\\f0eb";\n}\n.icon-exchange:before {\n  content: "\\f0ec";\n}\n.icon-cloud-download:before {\n  content: "\\f0ed";\n}\n.icon-cloud-upload:before {\n  content: "\\f0ee";\n}\n.icon-user-md:before {\n  content: "\\f0f0";\n}\n.icon-stethoscope:before {\n  content: "\\f0f1";\n}\n.icon-suitcase:before {\n  content: "\\f0f2";\n}\n.icon-bell-o:before {\n  content: "\\f0a2";\n}\n.icon-coffee:before {\n  content: "\\f0f4";\n}\n.icon-cutlery:before {\n  content: "\\f0f5";\n}\n.icon-file-text-o:before {\n  content: "\\f0f6";\n}\n.icon-building-o:before {\n  content: "\\f0f7";\n}\n.icon-hospital-o:before {\n  content: "\\f0f8";\n}\n.icon-ambulance:before {\n  content: "\\f0f9";\n}\n.icon-medkit:before {\n  content: "\\f0fa";\n}\n.icon-fighter-jet:before {\n  content: "\\f0fb";\n}\n.icon-beer:before {\n  content: "\\f0fc";\n}\n.icon-h-square:before {\n  content: "\\f0fd";\n}\n.icon-plus-square:before {\n  content: "\\f0fe";\n}\n.icon-angle-double-left:before {\n  content: "\\f100";\n}\n.icon-angle-double-right:before {\n  content: "\\f101";\n}\n.icon-angle-double-up:before {\n  content: "\\f102";\n}\n.icon-angle-double-down:before {\n  content: "\\f103";\n}\n.icon-angle-left:before {\n  content: "\\f104";\n}\n.icon-angle-right:before {\n  content: "\\f105";\n}\n.icon-angle-up:before {\n  content: "\\f106";\n}\n.icon-angle-down:before {\n  content: "\\f107";\n}\n.icon-desktop:before {\n  content: "\\f108";\n}\n.icon-laptop:before {\n  content: "\\f109";\n}\n.icon-tablet:before {\n  content: "\\f10a";\n}\n.icon-mobile-phone:before,\n.icon-mobile:before {\n  content: "\\f10b";\n}\n.icon-circle-o:before {\n  content: "\\f10c";\n}\n.icon-quote-left:before {\n  content: "\\f10d";\n}\n.icon-quote-right:before {\n  content: "\\f10e";\n}\n.icon-spinner:before {\n  content: "\\f110";\n}\n.icon-circle:before {\n  content: "\\f111";\n}\n.icon-mail-reply:before,\n.icon-reply:before {\n  content: "\\f112";\n}\n.icon-github-alt:before {\n  content: "\\f113";\n}\n.icon-folder-o:before {\n  content: "\\f114";\n}\n.icon-folder-open-o:before {\n  content: "\\f115";\n}\n.icon-smile-o:before {\n  content: "\\f118";\n}\n.icon-frown-o:before {\n  content: "\\f119";\n}\n.icon-meh-o:before {\n  content: "\\f11a";\n}\n.icon-gamepad:before {\n  content: "\\f11b";\n}\n.icon-keyboard-o:before {\n  content: "\\f11c";\n}\n.icon-flag-o:before {\n  content: "\\f11d";\n}\n.icon-flag-checkered:before {\n  content: "\\f11e";\n}\n.icon-terminal:before {\n  content: "\\f120";\n}\n.icon-code:before {\n  content: "\\f121";\n}\n.icon-mail-reply-all:before,\n.icon-reply-all:before {\n  content: "\\f122";\n}\n.icon-star-half-empty:before,\n.icon-star-half-full:before,\n.icon-star-half-o:before {\n  content: "\\f123";\n}\n.icon-location-arrow:before {\n  content: "\\f124";\n}\n.icon-crop:before {\n  content: "\\f125";\n}\n.icon-code-fork:before {\n  content: "\\f126";\n}\n.icon-unlink:before,\n.icon-chain-broken:before {\n  content: "\\f127";\n}\n.icon-question:before {\n  content: "\\f128";\n}\n.icon-info:before {\n  content: "\\f129";\n}\n.icon-exclamation:before {\n  content: "\\f12a";\n}\n.icon-superscript:before {\n  content: "\\f12b";\n}\n.icon-subscript:before {\n  content: "\\f12c";\n}\n.icon-eraser:before {\n  content: "\\f12d";\n}\n.icon-puzzle-piece:before {\n  content: "\\f12e";\n}\n.icon-microphone:before {\n  content: "\\f130";\n}\n.icon-microphone-slash:before {\n  content: "\\f131";\n}\n.icon-shield:before {\n  content: "\\f132";\n}\n.icon-calendar-o:before {\n  content: "\\f133";\n}\n.icon-fire-extinguisher:before {\n  content: "\\f134";\n}\n.icon-rocket:before {\n  content: "\\f135";\n}\n.icon-maxcdn:before {\n  content: "\\f136";\n}\n.icon-chevron-circle-left:before {\n  content: "\\f137";\n}\n.icon-chevron-circle-right:before {\n  content: "\\f138";\n}\n.icon-chevron-circle-up:before {\n  content: "\\f139";\n}\n.icon-chevron-circle-down:before {\n  content: "\\f13a";\n}\n.icon-html5:before {\n  content: "\\f13b";\n}\n.icon-css3:before {\n  content: "\\f13c";\n}\n.icon-anchor:before {\n  content: "\\f13d";\n}\n.icon-unlock-alt:before {\n  content: "\\f13e";\n}\n.icon-bullseye:before {\n  content: "\\f140";\n}\n.icon-ellipsis-h:before {\n  content: "\\f141";\n}\n.icon-ellipsis-v:before {\n  content: "\\f142";\n}\n.icon-rss-square:before {\n  content: "\\f143";\n}\n.icon-play-circle:before {\n  content: "\\f144";\n}\n.icon-ticket:before {\n  content: "\\f145";\n}\n.icon-minus-square:before {\n  content: "\\f146";\n}\n.icon-minus-square-o:before {\n  content: "\\f147";\n}\n.icon-level-up:before {\n  content: "\\f148";\n}\n.icon-level-down:before {\n  content: "\\f149";\n}\n.icon-check-square:before {\n  content: "\\f14a";\n}\n.icon-pencil-square:before {\n  content: "\\f14b";\n}\n.icon-external-link-square:before {\n  content: "\\f14c";\n}\n.icon-share-square:before {\n  content: "\\f14d";\n}\n.icon-compass:before {\n  content: "\\f14e";\n}\n.icon-toggle-down:before,\n.icon-caret-square-o-down:before {\n  content: "\\f150";\n}\n.icon-toggle-up:before,\n.icon-caret-square-o-up:before {\n  content: "\\f151";\n}\n.icon-toggle-right:before,\n.icon-caret-square-o-right:before {\n  content: "\\f152";\n}\n.icon-euro:before,\n.icon-eur:before {\n  content: "\\f153";\n}\n.icon-gbp:before {\n  content: "\\f154";\n}\n.icon-dollar:before,\n.icon-usd:before {\n  content: "\\f155";\n}\n.icon-rupee:before,\n.icon-inr:before {\n  content: "\\f156";\n}\n.icon-cny:before,\n.icon-rmb:before,\n.icon-yen:before,\n.icon-jpy:before {\n  content: "\\f157";\n}\n.icon-ruble:before,\n.icon-rouble:before,\n.icon-rub:before {\n  content: "\\f158";\n}\n.icon-won:before,\n.icon-krw:before {\n  content: "\\f159";\n}\n.icon-bitcoin:before,\n.icon-btc:before {\n  content: "\\f15a";\n}\n.icon-file:before {\n  content: "\\f15b";\n}\n.icon-file-text:before {\n  content: "\\f15c";\n}\n.icon-sort-alpha-asc:before {\n  content: "\\f15d";\n}\n.icon-sort-alpha-desc:before {\n  content: "\\f15e";\n}\n.icon-sort-amount-asc:before {\n  content: "\\f160";\n}\n.icon-sort-amount-desc:before {\n  content: "\\f161";\n}\n.icon-sort-numeric-asc:before {\n  content: "\\f162";\n}\n.icon-sort-numeric-desc:before {\n  content: "\\f163";\n}\n.icon-thumbs-up:before {\n  content: "\\f164";\n}\n.icon-thumbs-down:before {\n  content: "\\f165";\n}\n.icon-youtube-square:before {\n  content: "\\f166";\n}\n.icon-youtube:before {\n  content: "\\f167";\n}\n.icon-xing:before {\n  content: "\\f168";\n}\n.icon-xing-square:before {\n  content: "\\f169";\n}\n.icon-youtube-play:before {\n  content: "\\f16a";\n}\n.icon-dropbox:before {\n  content: "\\f16b";\n}\n.icon-stack-overflow:before {\n  content: "\\f16c";\n}\n.icon-instagram:before {\n  content: "\\f16d";\n}\n.icon-flickr:before {\n  content: "\\f16e";\n}\n.icon-adn:before {\n  content: "\\f170";\n}\n.icon-bitbucket:before {\n  content: "\\f171";\n}\n.icon-bitbucket-square:before {\n  content: "\\f172";\n}\n.icon-tumblr:before {\n  content: "\\f173";\n}\n.icon-tumblr-square:before {\n  content: "\\f174";\n}\n.icon-long-arrow-down:before {\n  content: "\\f175";\n}\n.icon-long-arrow-up:before {\n  content: "\\f176";\n}\n.icon-long-arrow-left:before {\n  content: "\\f177";\n}\n.icon-long-arrow-right:before {\n  content: "\\f178";\n}\n.icon-apple:before {\n  content: "\\f179";\n}\n.icon-windows:before {\n  content: "\\f17a";\n}\n.icon-android:before {\n  content: "\\f17b";\n}\n.icon-linux:before {\n  content: "\\f17c";\n}\n.icon-dribbble:before {\n  content: "\\f17d";\n}\n.icon-skype:before {\n  content: "\\f17e";\n}\n.icon-foursquare:before {\n  content: "\\f180";\n}\n.icon-trello:before {\n  content: "\\f181";\n}\n.icon-female:before {\n  content: "\\f182";\n}\n.icon-male:before {\n  content: "\\f183";\n}\n.icon-gittip:before {\n  content: "\\f184";\n}\n.icon-sun-o:before {\n  content: "\\f185";\n}\n.icon-moon-o:before {\n  content: "\\f186";\n}\n.icon-archive:before {\n  content: "\\f187";\n}\n.icon-bug:before {\n  content: "\\f188";\n}\n.icon-vk:before {\n  content: "\\f189";\n}\n.icon-weibo:before {\n  content: "\\f18a";\n}\n.icon-renren:before {\n  content: "\\f18b";\n}\n.icon-pagelines:before {\n  content: "\\f18c";\n}\n.icon-stack-exchange:before {\n  content: "\\f18d";\n}\n.icon-arrow-circle-o-right:before {\n  content: "\\f18e";\n}\n.icon-arrow-circle-o-left:before {\n  content: "\\f190";\n}\n.icon-toggle-left:before,\n.icon-caret-square-o-left:before {\n  content: "\\f191";\n}\n.icon-dot-circle-o:before {\n  content: "\\f192";\n}\n.icon-wheelchair:before {\n  content: "\\f193";\n}\n.icon-vimeo-square:before {\n  content: "\\f194";\n}\n.icon-turkish-lira:before,\n.icon-try:before {\n  content: "\\f195";\n}\n.icon-plus-square-o:before {\n  content: "\\f196";\n}\n.icon-space-shuttle:before {\n  content: "\\f197";\n}\n.icon-slack:before {\n  content: "\\f198";\n}\n.icon-envelope-square:before {\n  content: "\\f199";\n}\n.icon-wordpress:before {\n  content: "\\f19a";\n}\n.icon-openid:before {\n  content: "\\f19b";\n}\n.icon-institution:before,\n.icon-bank:before,\n.icon-university:before {\n  content: "\\f19c";\n}\n.icon-mortar-board:before,\n.icon-graduation-cap:before {\n  content: "\\f19d";\n}\n.icon-yahoo:before {\n  content: "\\f19e";\n}\n.icon-google:before {\n  content: "\\f1a0";\n}\n.icon-reddit:before {\n  content: "\\f1a1";\n}\n.icon-reddit-square:before {\n  content: "\\f1a2";\n}\n.icon-stumbleupon-circle:before {\n  content: "\\f1a3";\n}\n.icon-stumbleupon:before {\n  content: "\\f1a4";\n}\n.icon-delicious:before {\n  content: "\\f1a5";\n}\n.icon-digg:before {\n  content: "\\f1a6";\n}\n.icon-pied-piper:before {\n  content: "\\f1a7";\n}\n.icon-pied-piper-alt:before {\n  content: "\\f1a8";\n}\n.icon-drupal:before {\n  content: "\\f1a9";\n}\n.icon-joomla:before {\n  content: "\\f1aa";\n}\n.icon-language:before {\n  content: "\\f1ab";\n}\n.icon-fax:before {\n  content: "\\f1ac";\n}\n.icon-building:before {\n  content: "\\f1ad";\n}\n.icon-child:before {\n  content: "\\f1ae";\n}\n.icon-paw:before {\n  content: "\\f1b0";\n}\n.icon-spoon:before {\n  content: "\\f1b1";\n}\n.icon-cube:before {\n  content: "\\f1b2";\n}\n.icon-cubes:before {\n  content: "\\f1b3";\n}\n.icon-behance:before {\n  content: "\\f1b4";\n}\n.icon-behance-square:before {\n  content: "\\f1b5";\n}\n.icon-steam:before {\n  content: "\\f1b6";\n}\n.icon-steam-square:before {\n  content: "\\f1b7";\n}\n.icon-recycle:before {\n  content: "\\f1b8";\n}\n.icon-automobile:before,\n.icon-car:before {\n  content: "\\f1b9";\n}\n.icon-cab:before,\n.icon-taxi:before {\n  content: "\\f1ba";\n}\n.icon-tree:before {\n  content: "\\f1bb";\n}\n.icon-spotify:before {\n  content: "\\f1bc";\n}\n.icon-deviantart:before {\n  content: "\\f1bd";\n}\n.icon-soundcloud:before {\n  content: "\\f1be";\n}\n.icon-database:before {\n  content: "\\f1c0";\n}\n.icon-file-pdf-o:before {\n  content: "\\f1c1";\n}\n.icon-file-word-o:before {\n  content: "\\f1c2";\n}\n.icon-file-excel-o:before {\n  content: "\\f1c3";\n}\n.icon-file-powerpoint-o:before {\n  content: "\\f1c4";\n}\n.icon-file-photo-o:before,\n.icon-file-picture-o:before,\n.icon-file-image-o:before {\n  content: "\\f1c5";\n}\n.icon-file-zip-o:before,\n.icon-file-archive-o:before {\n  content: "\\f1c6";\n}\n.icon-file-sound-o:before,\n.icon-file-audio-o:before {\n  content: "\\f1c7";\n}\n.icon-file-movie-o:before,\n.icon-file-video-o:before {\n  content: "\\f1c8";\n}\n.icon-file-code-o:before {\n  content: "\\f1c9";\n}\n.icon-vine:before {\n  content: "\\f1ca";\n}\n.icon-codepen:before {\n  content: "\\f1cb";\n}\n.icon-jsfiddle:before {\n  content: "\\f1cc";\n}\n.icon-life-bouy:before,\n.icon-life-buoy:before,\n.icon-life-saver:before,\n.icon-support:before,\n.icon-life-ring:before {\n  content: "\\f1cd";\n}\n.icon-circle-o-notch:before {\n  content: "\\f1ce";\n}\n.icon-ra:before,\n.icon-rebel:before {\n  content: "\\f1d0";\n}\n.icon-ge:before,\n.icon-empire:before {\n  content: "\\f1d1";\n}\n.icon-git-square:before {\n  content: "\\f1d2";\n}\n.icon-git:before {\n  content: "\\f1d3";\n}\n.icon-hacker-news:before {\n  content: "\\f1d4";\n}\n.icon-tencent-weibo:before {\n  content: "\\f1d5";\n}\n.icon-qq:before {\n  content: "\\f1d6";\n}\n.icon-wechat:before,\n.icon-weixin:before {\n  content: "\\f1d7";\n}\n.icon-send:before,\n.icon-paper-plane:before {\n  content: "\\f1d8";\n}\n.icon-send-o:before,\n.icon-paper-plane-o:before {\n  content: "\\f1d9";\n}\n.icon-history:before {\n  content: "\\f1da";\n}\n.icon-header:before {\n  content: "\\f1dc";\n}\n.icon-paragraph:before {\n  content: "\\f1dd";\n}\n.icon-sliders:before {\n  content: "\\f1de";\n}\n.icon-share-alt:before {\n  content: "\\f1e0";\n}\n.icon-share-alt-square:before {\n  content: "\\f1e1";\n}\n.icon-bomb:before {\n  content: "\\f1e2";\n}\n.icon-soccer-ball-o:before,\n.icon-futbol-o:before {\n  content: "\\f1e3";\n}\n.icon-tty:before {\n  content: "\\f1e4";\n}\n.icon-binoculars:before {\n  content: "\\f1e5";\n}\n.icon-plug:before {\n  content: "\\f1e6";\n}\n.icon-slideshare:before {\n  content: "\\f1e7";\n}\n.icon-twitch:before {\n  content: "\\f1e8";\n}\n.icon-yelp:before {\n  content: "\\f1e9";\n}\n.icon-newspaper-o:before {\n  content: "\\f1ea";\n}\n.icon-wifi:before {\n  content: "\\f1eb";\n}\n.icon-calculator:before {\n  content: "\\f1ec";\n}\n.icon-paypal:before {\n  content: "\\f1ed";\n}\n.icon-google-wallet:before {\n  content: "\\f1ee";\n}\n.icon-cc-visa:before {\n  content: "\\f1f0";\n}\n.icon-cc-mastercard:before {\n  content: "\\f1f1";\n}\n.icon-cc-discover:before {\n  content: "\\f1f2";\n}\n.icon-cc-amex:before {\n  content: "\\f1f3";\n}\n.icon-cc-paypal:before {\n  content: "\\f1f4";\n}\n.icon-cc-stripe:before {\n  content: "\\f1f5";\n}\n.icon-bell-slash:before {\n  content: "\\f1f6";\n}\n.icon-bell-slash-o:before {\n  content: "\\f1f7";\n}\n.icon-trash:before {\n  content: "\\f1f8";\n}\n.icon-copyright:before {\n  content: "\\f1f9";\n}\n.icon-at:before {\n  content: "\\f1fa";\n}\n.icon-eyedropper:before {\n  content: "\\f1fb";\n}\n.icon-paint-brush:before {\n  content: "\\f1fc";\n}\n.icon-birthday-cake:before {\n  content: "\\f1fd";\n}\n.icon-area-chart:before {\n  content: "\\f1fe";\n}\n.icon-pie-chart:before {\n  content: "\\f200";\n}\n.icon-line-chart:before {\n  content: "\\f201";\n}\n.icon-lastfm:before {\n  content: "\\f202";\n}\n.icon-lastfm-square:before {\n  content: "\\f203";\n}\n.icon-toggle-off:before {\n  content: "\\f204";\n}\n.icon-toggle-on:before {\n  content: "\\f205";\n}\n.icon-bicycle:before {\n  content: "\\f206";\n}\n.icon-bus:before {\n  content: "\\f207";\n}\n.icon-ioxhost:before {\n  content: "\\f208";\n}\n.icon-angellist:before {\n  content: "\\f209";\n}\n.icon-cc:before {\n  content: "\\f20a";\n}\n.icon-shekel:before,\n.icon-sheqel:before,\n.icon-ils:before {\n  content: "\\f20b";\n}\n.icon-meanpath:before {\n  content: "\\f20c";\n}\n.close {\n  float: right;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 18px;\n  color: #000;\n  text-shadow: 0 1px 0 #ffffff;\n  opacity: 0.2;\n}\n.close:active {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  opacity: 0.4;\n}\nbutton.close {\n  padding: 0;\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n  -webkit-appearance: none;\n}\n.btn {\n  display: inline-block;\n  padding: 4px 10px 4px;\n  margin: 0;\n  font-size: 1.143rem;\n  line-height: 1.286em;\n  color: #6b7479;\n  font-weight: 500;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  border-radius: 3px;\n  border: solid 1px transparent;\n  background: transparent;\n  outline: none;\n}\n.btn.active {\n  background: none;\n  color: #0679c8 !important;\n  outline: 0;\n}\n.btn--large {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding: 15px 15px;\n  border-radius: 4px;\n  font-size: 1.143rem;\n  font-weight: 600;\n  line-height: normal;\n}\n.btn--large.btn--danger {\n  font-weight: normal;\n}\n.btn-small {\n  padding: 5px 9px;\n  font-size: 12px;\n  line-height: 16px;\n}\n.btn-small .icondefault {\n  margin-top: -1px;\n}\n.btn-mini {\n  padding: 2px 6px;\n  font-size: 12px;\n  line-height: 14px;\n}\n.btn--secondary {\n  background: #f8fbfd;\n  border: 1px solid #ccd6dc;\n  color: #000;\n}\n.btn--secondary.selected-item {\n  background: #d3dbe1;\n  border-color: #d3dbe1;\n  color: #000;\n}\n.btn--secondary.disabled,\n.btn--secondary[disabled] {\n  background-color: #f8fafd;\n  border-color: #d3dbe1;\n  color: rgba(107, 116, 121, 0.5);\n}\n.btn--primary {\n  background: #0b89d2;\n  border-color: #0a75b3;\n  color: #fff;\n}\n.btn--primary.selected-item,\n.btn-area-more.selected-item .btn--primary {\n  background: #005088;\n  border-color: #033d64;\n  color: #fff;\n}\n.btn--primary.disabled,\n.btn--primary[disabled] {\n  color: rgba(255, 255, 255, 0.5);\n  opacity: .3;\n}\n.btn--danger {\n  background: transparent;\n  border-color: transparent;\n  color: #e61718;\n}\n.btn--danger.selected-item {\n  background-color: transparent;\n  border-color: transparent;\n  color: #c30304;\n}\n.btn--danger.disabled,\n.btn--danger[disabled] {\n  background-color: transparent;\n  border-color: transparent;\n  color: rgba(230, 23, 24, 0.5);\n  opacity: 0.3;\n}\n.btn-transparent {\n  background-color: transparent;\n  border: 1px solid #717171;\n}\n.btn-filter {\n  display: inline-block;\n  min-width: 20px;\n  height: 26px;\n  line-height: 26px;\n  padding: 0 8px;\n  background: transparent;\n  border: solid 1px #ccd6dc;\n  border-radius: 2px;\n  text-align: center;\n  color: #000;\n  font-size: 1rem;\n  font-weight: bold;\n}\n.btn-filter.selected-item {\n  background: #d3dbe1;\n  border-color: #ccd6dc;\n  color: #000;\n}\n.btn-filter.active {\n  background: #d4d4d4;\n  border-color: #ccd6dc;\n  color: #000;\n}\n.btn-group {\n  position: relative;\n}\n.btn-group:after {\n  display: table;\n  clear: both;\n}\n.btn-group + .btn-group {\n  margin-left: 5px;\n}\n.btn-group .btn {\n  position: relative;\n  float: left;\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.btn-group .btn:last-child {\n  padding-right: 0;\n}\n.btn-group .btn:active,\n.btn-group .btn.active {\n  z-index: 2;\n}\n.box__edit_header {\n  position: absolute;\n  top: 0px;\n  height: 54px;\n  line-height: 54px;\n  background: #f7f8f9;\n  width: 100%;\n}\n.box__edit_header .edit_header_controls {\n  float: right;\n}\n.box__edit_header .edit_header_controls .edit_header_search {\n  padding: 0 15px;\n}\n.box__edit_header .edit_header_title {\n  padding: 0 15px;\n  font-size: 1.143em;\n  font-weight: bold;\n}\n.box__edit_header + .box__edit .scroll {\n  top: 54px;\n  height: auto;\n  bottom: 0;\n}\n.box__edit {\n  display: block;\n  height: 100%;\n  margin: 0;\n}\n.box__edit .avatar {\n  height: 32px;\n  width: 32px;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n}\n.box__edit .field {\n  margin-left: 15px;\n  margin-right: 15px;\n}\n.box__edit.box__edit_readonly .field {\n  padding-left: 15px;\n  padding-right: 15px;\n  margin-left: 0;\n  margin-right: 0;\n  border-bottom: solid 1px #d3dbe1;\n}\n.box__edit.box__edit_readonly .field .field__controls {\n  border-bottom: none;\n}\n.box__edit.box__edit_readonly .field.field--readonly input,\n.box__edit.box__edit_readonly .field.field--readonly select,\n.box__edit.box__edit_readonly .field.field--readonly label {\n  color: #7e878d;\n}\n.box__edit.box__edit_readonly .field.field--readonly .subvalue {\n  color: #111;\n}\n.box__edit.box__edit_readonly .field__controls.field__controls--readonly {\n  color: #111;\n}\n.box__edit.box__edit_readonly .field__controls.field__controls--readonly .value {\n  display: block;\n}\n.box__edit .horizontal-fieldset {\n  display: -webkit-box;\n}\n.box__edit .horizontal-fieldset > span {\n  display: block;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.box__edit .horizontal-fieldset .field {\n  padding: 0;\n  margin: 0;\n}\n.box__edit .horizontal-fieldset .field .field__controls {\n  border-bottom: none;\n}\n.box__edit .horizontal-fieldset .field__label {\n  display: none;\n}\n.box__edit .horizontal-fieldset .checkbox_custom {\n  min-width: 25px;\n}\n.box__edit .horizontal-fieldset .checkbox_custom + .checkbox-icon {\n  width: 18px;\n}\n.box__edit .edit__footer {\n  padding: 18px 15px 30px;\n  text-align: center;\n}\n.box__edit .edit__footer .btn--danger {\n  display: block;\n  margin: 0 auto;\n  font-size: 1.214rem;\n}\n.body--field-onfocus .scroll {\n  -webkit-overflow-scrolling: auto;\n}\n/* Details list\n------------------------------ */\n.view__detail {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 140px;\n  background: #837e90 url('+n(377)+') 0 0 repeat;\n}\n.view__detail .avatar {\n  position: absolute;\n  overflow: hidden;\n  top: 15px;\n  left: 17px;\n  height: 60px;\n  width: 60px;\n  border-radius: 30px;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: 100%;\n  text-align: center;\n}\n.view__detail .avatar:empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n.view__detail .avatar .icondefault {\n  width: 1em;\n  height: 1em;\n  line-height: 60px;\n  font-size: 38px;\n  color: #fff;\n}\n.view__detail .avatar .user-icon {\n  width: 60px;\n  height: 60px;\n}\n.view__detail .label-module-sm {\n  position: absolute;\n  top: 15px;\n  left: 17px;\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n  font-size: 28px;\n  text-align: center;\n}\n.view__detail .label-module-sm .icondefault {\n  font-size: 60px;\n  line-height: 1em;\n}\n.view__detail .input_upload {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 80px;\n  height: 80px;\n  opacity: 0;\n  z-index: 5;\n}\n.view__detail .favorite-icon {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 45px;\n  height: 45px;\n  line-height: 45px;\n  text-align: center;\n  color: #fff;\n}\n.view__detail .favorite-icon.icon-star {\n  color: #fff;\n}\n.view__detail .box_detail__title {\n  position: absolute;\n  top: 15px;\n  left: 90px;\n  right: 30px;\n  height: 60px;\n}\n.view__detail .box_detail__title .field-detail {\n  padding: 0;\n  border-bottom: none;\n  overflow: visible;\n}\n.view__detail .box_detail__title .field-detail__label {\n  display: none;\n}\n.view__detail .box_detail__title .field-detail__value {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  left: 0;\n  max-height: 3em;\n  line-height: 1.5em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: inherit;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  font-size: 1.286rem;\n  color: #fff;\n}\n.view__detail .box__record-actions__wrapper {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.view__detail.view__detail_noactions {\n  height: 90px;\n}\n.view__detail.view__detail_noactions .box__record-actions__wrapper {\n  display: none;\n}\n.view__detail-bg {\n  height: 100%;\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(204, 204, 204, 0.14));\n}\n.view__detail-bg_Bugs {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(247, 95, 96, 0.14));\n}\n.view__detail-bg_Cases {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(232, 84, 121, 0.14));\n}\n.view__detail-bg_Prospects {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(170, 203, 45, 0.14));\n}\n.view__detail-bg_ProspectLists {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(170, 203, 45, 0.14));\n}\n.view__detail-bg_Targets {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(66, 158, 16, 0.14));\n}\n.view__detail-bg_TargetLists {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(66, 158, 16, 0.14));\n}\n.view__detail-bg_Campaigns {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 207, 0, 0.14));\n}\n.view__detail-bg_CampaignLog {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 207, 0, 0.14));\n}\n.view__detail-bg_Opportunitie {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(160, 92, 255, 0.14));\n}\n.view__detail-bg_RevenueLineItems {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(0, 203, 243, 0.14));\n}\n.view__detail-bg_Products {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(1, 21, 35, 0.14));\n}\n.view__detail-bg_Forecasts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(31, 206, 109, 0.14));\n}\n.view__detail-bg_Quotes {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(14, 186, 97, 0.14));\n}\n.view__detail-bg_Accounts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(81, 205, 21, 0.14));\n}\n.view__detail-bg_Contacts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(204, 108, 217, 0.14));\n}\n.view__detail-bg_Leads {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(118, 81, 252, 0.14));\n}\n.view__detail-bg_Reports {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 151, 62, 0.14));\n}\n.view__detail-bg_Files {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(251, 192, 45, 0.14));\n}\n.view__detail-bg_Documents {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(98, 107, 245, 0.14));\n}\n.view__detail-bg_Calendar {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(0, 189, 156, 0.14));\n}\n.view__detail-bg_Meetings {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(46, 224, 205, 0.14));\n}\n.view__detail-bg_Calls {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(1, 209, 255, 0.14));\n}\n.view__detail-bg_Emails {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(44, 151, 222, 0.14));\n}\n.view__detail-bg_Tasks {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 90, 156, 0.14));\n}\n.view__detail-bg_Notes {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(40, 189, 240, 0.14));\n}\n.view__detail-bg_Workflow {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(65, 183, 209, 0.14));\n}\n.view__detail-bg_Users {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(107, 115, 121, 0.14));\n}\n.view__detail-bg_Employees {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(44, 151, 222, 0.14));\n}\n.box__record-actions__wrapper {\n  display: block;\n  height: 54px;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: scroll;\n}\n.box__record-actions {\n  display: inline-block;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.box__record-actions .context-menu__item {\n  position: relative;\n  display: inline-block;\n  height: 54px;\n  width: 50px;\n  margin-right: -3px;\n  text-align: center;\n  color: #fff;\n}\n.box__record-actions .context-menu__item:active {\n  opacity: .7;\n}\n.box__record-actions .context-menu__item .icondefault {\n  margin-top: 10px;\n  margin-bottom: 2px;\n  line-height: 18px;\n  font-size: 24px;\n}\n.box__record-actions .context-menu__item.disabled {\n  color: #cecece;\n}\n.box__record-actions .context-menu__item .action-label {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  position: absolute;\n  left: 0;\n  right: 0;\n  font-size: 11px;\n}\n.box__record-actions .context-menu__item .action-label:first-letter {\n  text-transform: uppercase;\n}\n.box__record-actions .context-menu__item .icon-spinner {\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n}\n/* Details list\n------------------------------ */\n.view__detail-tabs {\n  position: absolute;\n  top: 140px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.view__detail_noactions + .view__detail-tabs {\n  top: 90px;\n}\n.view__detail-tabs .tabs__scroll-bar .tabs__scroll-bar__ul .tab {\n  -webkit-box-flex: 1 0 auto;\n  -webkit-flex: 1 0 auto;\n  flex: 1 0 auto;\n}\n.view__detail-tabs .tabs__scroll-bar .tabs__scroll-bar__ul .tab .tab__title {\n  padding-top: 2px;\n}\n.view__record-summary {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  background: #fff;\n}\n.field-detail {\n  padding: 10px 10px 11px 120px;\n  border-bottom: solid 1px #ebedef;\n  overflow: hidden;\n  font-size: 1rem;\n  color: #000;\n}\n.field-detail .field-detail__label {\n  float: left;\n  width: 100px;\n  margin-left: -105px;\n  font-size: 0.857rem;\n  color: #6b747f;\n}\n.field-detail .field-detail__value {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.field-detail .field-detail__value + .field-detail__value {\n  padding-top: 12px;\n}\n.field-detail .subvalue {\n  color: #6b747f;\n}\n.field-detail .horizontal-fieldset .field-detail {\n  display: inline;\n  padding: 0;\n}\n.field-detail .horizontal-fieldset .field-detail__label {\n  display: none;\n}\n.field-detail .horizontal-fieldset .field-detail__value {\n  display: inline;\n}\n.field-detail--textarea .field-detail__value {\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  white-space: normal;\n}\n.field-detail--textarea.field-detail--expanded .field-detail__value {\n  -webkit-line-clamp: initial;\n}\n/* Login page\n------------------------- */\n.layout__Login,\n.layout__loginSettingsNoHeader {\n  overflow: auto;\n  top: 0 !important;\n}\n.view__login {\n  position: relative;\n  min-height: 100%;\n  width: 100%;\n  overflow: auto;\n  background: #fff;\n  opacity: 0;\n}\n.view__login .page__login {\n  position: relative;\n  min-height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.view__login .login__header {\n  padding: 5px 0;\n}\n.view__login .login__settings_div {\n  padding: 10px 0 0;\n  text-align: right;\n  position: absolute;\n  width: 100%;\n}\n.view__login .login__settings_btn {\n  color: #0679c8;\n  padding: 0 15px 15px 20px;\n}\n.view__login .login__body {\n  min-width: 290px;\n  max-width: 330px;\n  padding: 0 15px;\n  margin: auto;\n}\n.view__login .login__footer {\n  border: none;\n  padding: 0 15px 5rem;\n  margin-top: 60px;\n  text-align: center;\n}\n.view__login .login__footer.login__footer_show-attribution {\n  padding-bottom: 10rem;\n}\n.view__login .field {\n  padding-top: 10px;\n}\n.view__login .input-wrapper input {\n  width: 100%;\n  height: 2rem;\n  margin: 0;\n  line-height: 2rem;\n  font-size: 1.143rem;\n  color: black;\n}\n.view__login .input-wrapper input::-webkit-input-placeholder {\n  opacity: 0.3;\n  color: black;\n  white-space: nowrap;\n  text-overflow: ellipsis !important;\n}\n.view__login .input-wrapper input.login_settings_server_url {\n  font-size: 1.214rem;\n}\n.view__login .btn {\n  display: block;\n  min-width: 290px;\n  max-width: 330px;\n  padding-left: 0;\n  padding-right: 0;\n  margin: 20px auto;\n}\n.view__login .btn.btn--primary .icon-spinner .icon-spinner-path {\n  fill: #fff;\n}\n.view__login .btn.btn--secondary .icon-spinner .icon-spinner-path {\n  fill: #000;\n}\n.view__login .btn .icon-spinner {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-top: -1px;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n.view__login .btn .icon-spinner .icon-spinner-path {\n  fill: #fff;\n}\n.view__login .field.error {\n  position: relative;\n  color: red;\n}\n.view__login .field.error .icondefault {\n  position: absolute;\n  top: 50%;\n  right: -1.25em;\n  margin-top: -0.5em;\n}\n.view__login .field.error .field__error-message {\n  display: none;\n}\n.view__login .login__links {\n  position: absolute;\n  bottom: 25px;\n  left: 0;\n  width: 100%;\n  font-size: 0.857rem;\n  color: black;\n  text-align: center;\n}\n.view__login .login__links .version {\n  padding-bottom: 15px;\n  opacity: .3;\n}\n.view__login .login__links .separator {\n  position: relative;\n  top: -1px;\n  display: inline-block;\n  width: 1px;\n  height: 11px;\n  background: black;\n  opacity: .3;\n  font-size: 0;\n  line-height: 0;\n  vertical-align: middle;\n}\n.view__login .login__links .login-links__link {\n  padding: 0 8px;\n  color: black;\n}\n.view__login .box__copyright {\n  color: black;\n}\n.view__login .box__copyright .copyright-logo__svg-color {\n  fill: black;\n}\n/* Login Settings\n------------------------- */\n.login__settings {\n  opacity: 1;\n}\n.login__settings .settings__header {\n  text-align: center;\n  font-size: 1.214rem;\n  color: #000;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n.login__settings .settings__header__desc {\n  font-size: 1rem;\n  color: #000;\n}\n.login__settings .settings__controls_group {\n  margin-top: 15px;\n  text-align: left;\n}\n.login__settings .settings__controls_group .settings__control_checkbox {\n  text-align: right;\n}\n.login__settings .settings__controls_group .field.no-border .field__controls {\n  border: transparent;\n}\n.login__settings .settings__controls_group .field.no-border .settings__control_label {\n  font-size: 1.143rem;\n  font-weight: 600;\n}\n.login__settings .settings__control_label {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1rem;\n  color: #000;\n}\n.login__settings .login_settings_server_url[readonly] {\n  background: transparent;\n  color: #b5b5b5;\n}\n/* SugarCRM Copyright\n------------------------- */\n.box__copyright {\n  text-align: center;\n  color: #000;\n  opacity: .3;\n}\n.copyright__text {\n  display: block;\n  padding-bottom: 3px;\n  font-size: 0.857rem;\n  line-height: 1;\n}\n.copyright__logo {\n  display: block;\n  width: 125px;\n  height: 14px;\n  margin: 5px auto 6px;\n}\n.copyright__logo .copyright-logo__svg-color {\n  fill: #000;\n}\n.copyright__version {\n  position: relative;\n  display: block;\n  width: 100px;\n  margin: 4px auto 25px;\n  text-align: center;\n}\n/* About page\n------------------------- */\n.page__about .pad {\n  position: relative;\n}\n.page__about .field > label {\n  font-size: 0.857em;\n}\n.page__about .show-attribution {\n  padding-top: 20px;\n  padding-bottom: 5rem;\n  border-bottom: none !important;\n}\n.page__about .box__copyright {\n  position: absolute;\n  bottom: 15px;\n  width: 100%;\n}\n.page__about .about__legal {\n  display: block;\n  clear: both;\n  font-size: 0.786em;\n}\n.uneditable-link {\n  padding-top: 4px;\n  height: 1.857em;\n  display: block;\n  vertical-align: middle;\n}\n.legal:not(a) {\n  color: #696969;\n}\n/* Offline page\n------------------------- */\n.page__offline .text-container {\n  padding: 10px;\n}\n.page__offline .bh__timestamp {\n  margin-top: 4px;\n  font-size: 0.857rem;\n  font-weight: normal;\n  color: #6b7479;\n}\n.page__offline .table {\n  table-layout: fixed;\n  margin-bottom: -1px;\n  font-size: 1.143rem;\n  color: #000;\n}\n.page__offline .table tr td:first-child {\n  padding-left: 15px;\n}\n.page__offline .table tr td:last-child {\n  padding-right: 15px;\n}\n.page__offline .offline__text-container {\n  overflow: hidden;\n  position: relative;\n  padding: 16px 15px 0;\n  margin-bottom: 24px;\n}\n.page__offline .offline__text-container .el__spinner {\n  display: none;\n  float: right;\n  margin-top: 4px;\n  margin-right: 6px;\n}\n.page__offline .offline__text-container .status-text {\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #000;\n}\n.page__offline .btn-container {\n  padding: 0 10px 0;\n  margin-bottom: 18px;\n}\n.page__offline .listing .content {\n  margin: 0 0 10px 10px;\n}\n.page__offline .listing .content:before {\n  content: \'\';\n  display: block;\n  clear: both;\n}\n.page__offline .listing h4 {\n  margin: 8px 0 0 10px;\n  font-weight: bold;\n}\n.page__offline .listing select {\n  width: 92%;\n  height: auto;\n  margin: 2px 0 10px 10px;\n  padding: 4px 10px;\n  border: 1px solid #999;\n}\n.page__offline .listing .emulation-item {\n  overflow: hidden;\n}\n.page__offline .listing .emulation-item .error-emulation-check {\n  float: left;\n}\n.page__offline .listing .emulation-item .error-emulation-select {\n  float: right;\n  width: 40%;\n  margin: 8px 10px 0 0;\n}\n.page__offline .error-emulation-check .checkbox_default,\n.page__offline .offline-property .checkbox_default {\n  height: 35px;\n  width: 35px;\n  margin: 8px 10px 8px 0;\n  vertical-align: middle;\n}\n.page__offline .more {\n  font-size: 14px;\n}\n.page__offline .modal-footer {\n  padding-left: 10px;\n  text-align: left;\n}\n.page__offline .btn--primary {\n  line-height: 1.575em;\n}\n.page__offline .offline__start-stop-btn {\n  float: right;\n  padding: 6px 10px;\n  margin-top: 2px;\n  margin-left: 8px;\n  font-size: 1rem;\n  line-height: 1.3em;\n}\n.page__offline .offline__start-stop-btn.active {\n  background: #0679c8;\n  color: #fff !important;\n}\n.page__offline .td-count {\n  text-align: right;\n  vertical-align: middle;\n  color: #6b7479;\n}\n.page__offline .td-count .lbl-count {\n  float: right;\n  padding-top: 2px;\n}\n.page__offline .td-count .icons {\n  width: 20px;\n  min-height: 22px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.page__offline .td-count .icon-check-circle,\n.page__offline .td-count .icon-exclamation-circle {\n  font-size: 1.6em;\n  color: #368f01;\n  display: none;\n}\n.page__offline .td-count .icon-exclamation-circle {\n  color: #bf2020;\n}\n.page__offline .offline__control-group {\n  margin-top: 24px;\n  margin-bottom: 24px;\n  position: relative;\n  overflow: visible;\n  padding: 0 15px;\n}\n.page__offline .offline__control-group .offline__control-label {\n  font-size: 1.143rem;\n  font-weight: bold;\n  text-transform: capitalize;\n}\n.page__offline .offline__control-group .offline__checkbox-data {\n  float: right;\n  padding-top: 13px;\n}\n.page__offline .offline__control-group .offline__checkbox-data .checkbox_custom {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.page__offline .offline__control-group .offline__message-wifi {\n  margin-top: 4px;\n  font-size: 0.857rem;\n  color: #6b7479;\n}\n.page__offline .ellipsis {\n  line-height: 24px;\n}\n.page__offline .ellipsis .label-module-sm {\n  vertical-align: middle;\n}\n.page__offline .offline__encryption-message {\n  padding: 10px 15px;\n  color: #6b7479;\n}\n.offline-statusbar {\n  min-height: 122px;\n  padding: 36px 22.5px 15px;\n  border-bottom: 1px solid #d3dbe1;\n  background: #f8fbfd;\n  text-align: center;\n}\n.offline-statusbar .offline-statusbar__icon {\n  margin-bottom: 12px;\n}\n.offline-statusbar .offline-statusbar__icon .offline-icon {\n  width: 24px;\n  height: 24px;\n}\n.offline-statusbar .offline-statusbar__message {\n  margin-bottom: 5px;\n  font-size: 1.143rem;\n  line-height: 1.4em;\n}\n.offline-statusbar .offline-statusbar__timestamp {\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.offline-statusbar .offline-statusbar__isSyncing {\n  color: #9aa5ad;\n}\n.offline-statusbar .offline-statusbar__isSyncing .icon-spinner {\n  display: block;\n  float: none;\n  width: 24px;\n  height: 24px;\n  margin: 20px auto 10px;\n}\n.offline-statusbar .offline-statusbar__isSyncing .icon-spinner-path {\n  fill: #9aa5ad;\n}\n.box__offline-list {\n  margin: 0;\n  padding: 0;\n}\n.box__offline-list li {\n  list-style: none;\n}\n.box__offline-list .offline-list__item {\n  display: block;\n  padding: 24px 15px;\n  border-bottom: 1px solid #d3dbe1;\n  font-size: 1.143rem;\n}\n.box__offline-list .offline-list__item.selected-item {\n  background-color: #ededed;\n}\n.box__offline-list .offline-list__item .more {\n  position: absolute;\n  top: 0;\n  right: 10px;\n  line-height: inherit;\n}\n@media screen and (max-width: 350px) {\n  .page__offline .bucket-header .bh__timestamp {\n    float: none;\n    display: block;\n  }\n}\n/* Bulk load setup page\n------------------------- */\n.layout__bulkload {\n  top: 0 !important;\n}\n.layout__bulkload .pad {\n  position: relative;\n  padding-bottom: 0!important;\n}\n.layout__bulkload .view__bulkload {\n  position: relative;\n  min-height: 100%;\n  width: 100%;\n  overflow: auto;\n  background: #fff;\n  text-align: center;\n}\n.layout__bulkload .view__bulkload .bulkload__title {\n  font-size: 1.214rem;\n  color: #262626;\n  font-weight: bold;\n  padding-top: 10%;\n}\n.layout__bulkload .view__bulkload .bulkload__message {\n  line-height: 1.3em;\n  margin: 12px 15px 40px;\n}\n.layout__bulkload .view__bulkload .bulkload__form {\n  text-align: left;\n  margin-top: 10%;\n  padding-bottom: 190px;\n  position: relative;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field {\n  border: 1px solid #cdcdcd;\n  border-width: 1px 0;\n  padding: 22px 15px 17px;\n  overflow: visible;\n  position: relative;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field .field__label {\n  width: 80%;\n  float: left;\n  font-size: 1.143rem;\n  font-weight: 600;\n  color: #000;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field .field__controls {\n  width: 20%;\n  margin-left: 80%;\n  text-align: right;\n  border: none;\n}\n.layout__bulkload .view__bulkload .bulkload__form .bulkload__connect-message {\n  padding: 10px 15px;\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.layout__bulkload .view__bulkload .bulkload__btns {\n  padding: 0 15px;\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.layout__bulkload .view__bulkload .bulkload__btns .btn {\n  display: block;\n  min-width: 290px;\n  max-width: 330px;\n  margin: 0 auto 16px;\n}\n/* Header\n------------------------- */\n.box__header {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n}\n.box__header.box__header_full-height {\n  height: 100%;\n}\n.box__header .header__inner {\n  background: #fff;\n  border-bottom: 1px solid #d3dbe1;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 50px;\n  z-index: 9000;\n}\n.box__header .header__inner .header__title {\n  position: absolute;\n  left: 80px;\n  right: 80px;\n  top: 50%;\n  max-height: 2em;\n  padding: 2px 0;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  text-align: center;\n  color: #000;\n  font-size: 1.143em;\n  font-family: \'Open Sans Bold\';\n  font-weight: bold;\n  line-height: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  letter-spacing: -0.4px;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  z-index: -1;\n}\n.box__header .header__inner .header-subtitle {\n  display: inline;\n  position: relative;\n  top: -4px;\n  font-size: 0.785rem;\n  font-weight: normal;\n}\n.box__header .header__inner .header-subtitle:empty {\n  display: none;\n}\n.box__header .header__inner .header-subtitle:after {\n  content: "\\A";\n  white-space: pre;\n}\n.box__header .header__inner .btn {\n  max-width: 50px;\n  margin: 0;\n  line-height: 22px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  z-index: 9002;\n}\n.box__header .header__inner .offline-status {\n  position: absolute;\n  top: 10px;\n  right: 7px;\n  line-height: normal;\n  /* hide offline icon if offline status is success */\n}\n.box__header .header__inner .offline-status .offline-icon {\n  border: 2px solid #fff;\n}\n.box__header .header__inner .offline-status.status-success {\n  display: none;\n}\n.box__header.btns-long .btn {\n  max-width: 100px;\n}\n.box__header.has-edit-button.has-search .header__title {\n  right: 110px;\n}\n/* Header buttons\n------------------------- */\n.createBtn,\n.backBtn,\n.dashHomeBtn,\n.menuBtn,\n.offline-status,\n.searchBtn {\n  float: left;\n  height: 49px;\n  width: 44px;\n  line-height: 50px;\n  color: #0679c8;\n  text-align: center;\n  z-index: 2000;\n}\n.createBtn.selected-item,\n.backBtn.selected-item,\n.dashHomeBtn.selected-item,\n.menuBtn.selected-item,\n.offline-status.selected-item,\n.searchBtn.selected-item {\n  color: #005088;\n  background: transparent;\n}\n.createBtn .icondefault,\n.backBtn .icondefault,\n.dashHomeBtn .icondefault,\n.menuBtn .icondefault,\n.offline-status .icondefault,\n.searchBtn .icondefault {\n  font-size: 1.286rem;\n}\n.menuBtn {\n  position: relative;\n  text-decoration: none;\n}\n.menuBtn::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.offline-icon {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background: transparent;\n  line-height: 0;\n  font-size: 0;\n  vertical-align: middle;\n  border-radius: 50%;\n}\n.offline-icon.status-default {\n  background: transparent;\n}\n.offline-icon.status-success {\n  background: #54cb13;\n}\n.offline-icon.status-warning {\n  background: #fbc02d;\n}\n.offline-icon.status-error {\n  background: #e61718;\n}\n.offline-status {\n  width: 12px;\n}\n.createBtn,\n.searchBtn {\n  float: right;\n}\n.createBtn.active,\n.searchBtn.active {\n  background: rgba(0, 0, 0, 0.5);\n}\n.header__btn {\n  float: left;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 15px;\n  color: #0679c8;\n  font-size: 1.143rem;\n}\n.header__btn.selected-item {\n  color: #005088;\n  background: transparent;\n}\n.header__btn.disabled {\n  background: none;\n  opacity: .7;\n}\n.rtl .header__btn {\n  float: right;\n}\n.header__save-container {\n  float: right;\n}\n.rtl .header__save-container {\n  float: left;\n}\n.header__btn__save--combined {\n  padding-right: 0;\n}\n.rtl .header__btn__save--combined {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.header__btn--caret {\n  width: 22px;\n  padding-left: 0;\n  text-align: right;\n}\n.header__btn--caret .saveArrow-icon {\n  margin-top: -2px;\n}\n.rtl .header__btn--caret {\n  float: left;\n  text-align: left;\n  padding-right: 0;\n  padding-left: 10px;\n}\n/* Menu\n------------------------- */\n#menu-left {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: 9999;\n  -webkit-transform: translate3d(-100%, 0px, 0px);\n}\n.mobile #menu-left {\n  width: 80%;\n}\n.tablet #menu-left {\n  width: 300px;\n}\n.rtl #menu-left {\n  left: 100%;\n  -webkit-transform: translate3d(100%, 0px, 0px);\n}\n.box__menu {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n}\n.box__menu .menu__inner {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  list-style: none;\n  background: #d3dbe1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.box__menu .menu__item {\n  background: #d3dbe1;\n  border-bottom: solid 1px transparent;\n}\n.box__menu .menu__item:first-child {\n  min-height: 48px;\n}\n.box__menu .menu__item:first-child .menu-item__link {\n  padding-top: 15px;\n}\n.box__menu .menu__item.selected-item {\n  background: #9aa5ad;\n}\n.box__menu .menu__item.selected-item .menu-item__link {\n  color: #000;\n}\n.box__menu .menu__item.current .menu-item__link {\n  color: #fff;\n  background: #9aa5ad;\n}\n.box__menu .menu__item .menu-item__link {\n  padding: 13px 15px;\n  color: #000;\n  line-height: 1.357rem;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.box__menu .menu__item .menu-item__link.offline-settings .menu-item__icon {\n  position: relative;\n}\n.box__menu .menu__item .menu-item__icon {\n  display: inline-block;\n  width: 24px;\n  text-align: center;\n}\n.box__menu .menu__item .menu-item__icon .offline-icon {\n  position: absolute;\n  bottom: 2px;\n  right: -4px;\n}\n.box__menu .menu__item .menu-item__icon .icondefault {\n  font-size: 24px;\n  color: #6b7479;\n}\n.box__menu .menu__item .menu-item__icon,\n.box__menu .menu__item .label-module-sm,\n.box__menu .menu__item .user-icon {\n  margin: -6px 7px -6px 0;\n}\n.box__menu .menu__divider {\n  display: block;\n  height: 1px;\n  background-color: #9aa5ad;\n}\n/*  Right menu\n------------------------- */\n.right-menu .icon {\n  margin: 0 8px 0 -2px;\n  line-height: 1;\n  vertical-align: inherit;\n  color: #6b7479;\n}\n.right-menu .icon.icondefault {\n  font-size: 20px !important;\n}\n.mobile .right-menu {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 14%;\n}\n.mobile .right-menu.show {\n  display: block;\n}\n.tablet .right-menu__corner {\n  position: absolute;\n  top: -8px;\n  right: 10px;\n  width: 0;\n  height: 0;\n  border-bottom: solid 8px #fff;\n  border-left: solid 8px transparent;\n  border-right: solid 8px transparent;\n  z-index: 9999;\n}\n.tablet .right-menu {\n  display: none;\n  position: absolute;\n  top: 50px;\n  right: 4px;\n  bottom: -50px;\n  width: 212px;\n  z-index: 9999;\n}\n.tablet .right-menu .box__menu {\n  position: static;\n  top: 140px;\n  height: auto;\n  max-height: 100%;\n  overflow-y: auto;\n}\n.tablet .right-menu .box__menu .menu__item {\n  background: transparent;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__link {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 0 15px;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__icon {\n  margin: auto 11px auto auto;\n  vertical-align: middle;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__label {\n  flex: 1;\n  padding: 12px 0;\n  border-bottom: solid 1px #d8d8d8;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tablet .right-menu .box__menu .menu__item:last-child .menu-item__label {\n  border-bottom: none;\n}\n.tablet .right-menu .menu__inner {\n  width: auto;\n  border-radius: 3px;\n  background: #fff;\n}\n.tablet .overlay__right-menu {\n  position: absolute;\n  top: -50px;\n  left: 0;\n  right: 0;\n  bottom: -50px;\n  z-index: 9998;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  background: rgba(0, 0, 0, 0.5);\n  transition: opacity .2s;\n  opacity: 1;\n}\n.tablet .overlay__right-menu.hide {\n  display: block !important;\n  opacity: 0;\n  bottom: 150%;\n  transition: opacity .2s, bottom 0s .4s;\n}\n.tablet #content .overlay__right-menu {\n  left: -56px;\n}\n/*  Menu icons styles\n------------------------- */\n.user-icon {\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  padding: 0;\n  background: #9aa5ad;\n  border: none;\n  border-radius: 50%;\n  text-align: center;\n  font-size: 13px;\n  color: #fff;\n}\n.user-icon.withPicture {\n  background-size: 100%;\n  background-position: 50% 50%;\n}\n.user-icon.withPicture:before {\n  content: "";\n}\n#me {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: bold;\n}\n#moduleList,\n#createList {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n#createList {\n  -webkit-transform: translate3d(-100%, 0px, 0px);\n}\n.nps-popup {\n  overflow: hidden;\n  border-radius: 18px;\n  max-width: 85%;\n  font-weight: normal;\n}\n.nps-popup .nps-header {\n  padding-top: 28px;\n  text-align: center;\n  font-weight: bold;\n}\n.nps-popup .nps-confirm-header {\n  padding: 42px 10px 16px 10px;\n  text-align: center;\n  font-weight: bold;\n}\n.nps-popup .nps-description {\n  padding: 32px 10px 16px 10px;\n  text-align: center;\n}\n.nps-popup .nps-app-rate-desc {\n  padding: 26px 10px 22px 10px;\n  text-align: center;\n}\n.nps-popup .nps-stars {\n  width: 244px;\n  margin: 0 auto;\n  padding: 0 20px 24px 20px;\n  text-align: center;\n}\n.nps-popup .nps-star-icon {\n  font-size: 36px;\n  color: #0679c8;\n}\n.nps-popup .rate-btn {\n  padding: 5px;\n}\n.nps-popup .nps-footer {\n  border-top: 1px solid #d3dbe1;\n}\n.nps-popup .nps-footer .actions-ul {\n  height: 50px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-flow: row;\n  list-style: none;\n}\n.nps-popup .nps-footer .actions-li {\n  border-right: 1px solid #d3dbe1;\n  position: relative;\n  padding: 0 15px;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  list-style: none;\n}\n.nps-popup .nps-footer .actions-li:last-child {\n  border-right: none;\n}\n.nps-popup .nps-footer .action-item {\n  color: #0679c8;\n  padding: 16px;\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n}\n.nps-popup .nps-footer .action-item.selected-item {\n  color: #005088;\n}\n#tutorial__view {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  z-index: 999981;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s linear;\n  transition: opacity 0.3s linear;\n}\n#tutorial {\n  position: absolute;\n  left: 0;\n  top: 0;\n  max-height: inherit;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  z-index: 999981;\n}\n#tutorial-content .text {\n  position: absolute;\n  width: 160px;\n  padding: 4px 10px 0;\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1.25;\n  color: #fff;\n  z-index: 999982;\n}\n#tutorial-content .text-container {\n  top: 15%;\n  position: absolute;\n  left: 50%;\n  width: 186px;\n}\n#tutorial-content .text-container .text {\n  position: relative;\n  left: -50%;\n  font-size: 1.071em;\n  font-weight: normal;\n  text-align: center;\n  width: 100%;\n  border-radius: 10px;\n  border: 2px solid #000;\n  background-color: #313130;\n  opacity: 0.8;\n  padding: 10px;\n  margin-left: -12px;\n}\n.label,\n.badge {\n  font-size: 11.844px;\n  line-height: 14px;\n  color: #fff;\n  vertical-align: baseline;\n  white-space: nowrap;\n  background-color: #CDCCCB;\n}\n.label {\n  padding: 1px 4px 2px;\n  border-radius: 3px;\n}\n.badge {\n  padding: 1px 9px 2px;\n  border-radius: 9px;\n}\na.label:hover,\na.badge:hover {\n  color: #fff;\n  text-decoration: none;\n  cursor: pointer;\n}\n.c-,\n.dashlet__item {\n  background-color: #6b7379;\n}\n.c-active-tasks {\n  background-color: #ff5a9c;\n}\n.c-planned-activities {\n  background-color: #01d1ff;\n}\n.c-inactive-tasks {\n  background-color: #ff5a9c;\n}\n.c-bubblechart {\n  background-color: #aacb2d;\n}\n.c-sales-pipeline {\n  background-color: #aacb2d;\n}\n.c-history {\n  background-color: #f2c500;\n}\n.c-saved-reports-chart {\n  background-color: #ff973e;\n}\n.c-activitystream-dashlet {\n  background-color: #e61718;\n}\n.c-forecast-pipeline {\n  background-color: #1fce6d;\n}\n.c-forecastdetails {\n  background-color: #1fce6d;\n}\n.c-webpage {\n  background-color: #1cc8d3;\n}\n.c-dashablelist {\n  background-color: #18e8d2;\n}\n.c-forecast-pareto {\n  background-color: #1fce6d;\n}\n.c-twitter {\n  background-color: #4099ff;\n}\n.c-opportunity-metrics {\n  background-color: #a05cff;\n}\n.c-casessummary {\n  background-color: #e85479;\n}\n/* Dashboards\n------------------------- */\n.layout__Dashboards.show-paginator .backBtn {\n  display: block;\n}\n.dashboard {\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.dashboard .dashlets__slider-area {\n  visibility: hidden;\n}\n.dashboard + .pagination__bar {\n  display: none;\n}\n.show-paginator .dashboard {\n  bottom: 51px;\n}\n.show-paginator .dashboard + .pagination__bar {\n  display: block;\n}\n.show-dashlets .dashboard .dashlets__list {\n  display: none;\n}\n.show-dashlets .dashboard .dashlets__slider-area {\n  visibility: visible;\n}\n.show-dashlets .dashboard .dashlets__slider {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.dashlets__slider-area {\n  position: absolute;\n  z-index: 1;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.dashlets__list {\n  position: relative;\n  z-index: 2;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n  padding: 10px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  background: #fff;\n}\n.dashlets__list:after {\n  display: table;\n  clear: both;\n}\n.dashlets__list:after {\n  clear: both;\n}\n.dashlets__list .dashlet__item {\n  overflow: hidden;\n  height: 7rem;\n  border-radius: 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  font-size: 1rem;\n  text-align: center;\n  color: #fff;\n}\n.dashlets__list .dashlet__item .dashlet__title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  margin: 15px 10px 12px;\n}\n.dashlets__list .dashlet__item .dashlet__icon {\n  height: 45px;\n}\n.dashlets__list .dashlet__item .icondefault {\n  font-size: 30px;\n  line-height: 1em;\n}\n.dashlets__list .dashlet__item.selected-item {\n  opacity: 0.9;\n}\n.dashlets__list__col {\n  float: left;\n  padding: 5px;\n  width: 50%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.layout__detail .dashlets__list__col {\n  width: 50%;\n}\n@media screen and (min-width: 700px) {\n  .dashlets__list__col {\n    width: 33.33333333%;\n  }\n}\n@media screen and (min-width: 768px) {\n  .dashlets__list__col {\n    width: 25%;\n  }\n}\n@media screen and (min-width: 1024px) {\n  .dashlets__list__col {\n    width: 20%;\n  }\n  .layout__detail .dashlets__list__col {\n    width: 33.33333333%;\n  }\n}\n.dashlets__title {\n  position: relative;\n  width: 100%;\n  height: 44px;\n  line-height: 44px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: center;\n  background: #fff;\n  font-size: 1.143rem;\n  font-weight: bold;\n  z-index: 1;\n}\n.dashlets__title + .dashlets__slider-area {\n  top: 44px;\n}\n.dashlets__title.hide + .dashlets__slider-area {\n  top: 0;\n}\n.dashlets__slider {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  box-shadow: content-box;\n  -webkit-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n  -webkit-transition-property: -webkit-transform;\n  transition-property: transform;\n}\n.dashlets__slider .dashlet__b {\n  height: 100%;\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  transform-style: preserve-3d;\n  -webkit-flex-shrink: 0;\n  flex-shrink: 0;\n}\n.dashlets__slider .dashlet__b:empty {\n  background: #fff;\n}\n/* Pagination\n------------------------- */\n.pagination__bar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 50px;\n  line-height: 50px;\n  border-top: solid 1px #e5e5e5;\n  background: #fff;\n  text-align: center;\n  color: #676767;\n}\n.pagination__bar .icondefault {\n  height: 50px;\n  line-height: 50px;\n  padding: 0 2px;\n  margin: 0 2px;\n  font-size: 10px;\n}\n.pagination__bar .icondefault.disabled {\n  color: #ccc;\n}\n.pagination__bar .prev,\n.pagination__bar .next {\n  padding: 0 12px;\n  font-size: 20px;\n}\n.pagination__bar .prev {\n  float: left;\n}\n.pagination__bar .next {\n  float: right;\n}\n.pagination__bar .icon-circle-thin {\n  color: #a8a8a8;\n}\n/* Tabbed dashlet view\n------------------------- */\n.hide-tab {\n  position: absolute;\n  display: block;\n  visibility: hidden;\n  -webkit-overflow-scrolling: auto !important;\n}\n.tabbed__dashlet {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.tabbed__dashlet .tabs__switcher {\n  position: absolute;\n  z-index: 2;\n}\n.tabbed__dashlet.has-dashlet-options .easy-scroller-parent {\n  top: 40px;\n}\n.tabs__switcher {\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 49px;\n  flex-flow: wrap;\n  background: #fff;\n  border-bottom: solid 1px #d8d8d8;\n  z-index: 2;\n}\n.views__switcher {\n  overflow: hidden;\n}\n.tabs__scroll-bar {\n  display: block;\n  height: 50px;\n}\n.tabs__scroll-bar::before,\n.tabs__scroll-bar::after {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 25px;\n  box-shadow: 0 0 15px 12px #fff;\n  z-index: 3;\n}\n.tabs__scroll-bar::after {\n  left: auto;\n  right: 0;\n}\n.tabs__scroll-bar .tabs__scroll-bar__ul {\n  height: 55px;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: scroll;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-flow: row;\n}\n.tabs__scroll-bar .tabs__scroll-bar__ul::-webkit-scrollbar {\n  height: 0;\n}\n.tabs__scroll-bar .tab {\n  position: relative;\n  padding: 0 15px;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  border-bottom: 9px solid transparent;\n  list-style: none;\n}\n.tabs__scroll-bar .tab:after {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  height: 17px;\n  background: transparent;\n  content: \' \';\n}\n.tabs__scroll-bar .tab .tab__title {\n  width: 100%;\n  max-height: 54px;\n  font-size: 0.857rem;\n  font-weight: bold;\n  text-align: center;\n  text-transform: uppercase;\n  color: #000;\n}\n.tabs__scroll-bar .tab .step-number {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 1px;\n  border-radius: 8px;\n  background: #ccd6dc;\n  line-height: 16px;\n  text-align: center;\n  color: #fff;\n}\n.tabs__scroll-bar .tab .step-number.fulfilled-state {\n  background: #54cb14;\n}\n.tabs__scroll-bar .tab .step-number.invalid-state {\n  background: #e61718;\n}\n.tabs__scroll-bar .tab .title {\n  display: block;\n  white-space: nowrap;\n}\n.tabs__scroll-bar .tab .count {\n  display: inline-block;\n  font-size: 0.857rem;\n  min-width: 22px;\n  width: auto;\n  padding: 3px;\n  background-color: #e61718;\n  border-color: transparent;\n  border-radius: 3px;\n  margin: 2px 0px 2px 0px;\n  color: #fff;\n}\n.tabs__scroll-bar .tab.selected-item {\n  background: #f6f6f6;\n  border-color: transparent;\n  color: #000;\n}\n.tabs__scroll-bar .tab.selected-item .tab__title {\n  color: #000;\n}\n.tabs__scroll-bar .tab.tab--active {\n  background: #fff;\n  border-color: #e61718;\n  color: #000;\n}\n.tabs__scroll-bar .tab.tab--active .tab__title {\n  color: #000;\n}\n.tabs__switcher--dd {\n  left: 0;\n  right: 0;\n  height: 50px;\n  padding: 0 15px;\n  border-bottom: 1px solid;\n  background: #f6f6f6;\n}\n.tabs__switcher--dd .filter {\n  padding-right: 0;\n}\n.tabs__switcher--dd .field {\n  padding-top: 0;\n}\n.tabs__switcher--dd .field .field__controls {\n  padding-bottom: 0;\n}\n.tabs__switcher--dd .field select {\n  width: 100%;\n}\n.tabs__switcher--dd .field select,\n.tabs__switcher--dd .field .icondefault,\n.tabs__switcher--dd .field .actionsheet-select {\n  height: 50px;\n  line-height: 50px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.tabs__switcher--dd .field .actionsheet-select {\n  overflow: hidden;\n  width: 100%;\n}\n.tabs__switcher--dd .field .actionsheet-select__value {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tabs__container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.tabs__container .easy-scroller-holder {\n  background: #fff;\n}\n.tabs__switcher + .tabs__container {\n  top: 50px;\n}\n/* Activity stream\n------------------------- */\n.activitystream-item {\n  padding: 0 !important;\n}\n.panel__addpost {\n  height: 46px;\n  line-height: 46px;\n  border-bottom: solid 1px #d3dbe1;\n}\n.panel-addpost-link {\n  display: block;\n  padding: 0 15px;\n}\n.as__detail {\n  position: relative;\n  min-height: 46px;\n  padding: 8px 28px 8px 50px;\n}\n.as__detail .label-module-sm,\n.as__detail .as__icon {\n  float: left;\n  margin: 4px 0 0 -36px;\n}\n.as__detail .user-icon {\n  border: solid 2px #999;\n}\n.as__detail .as__title {\n  padding-bottom: 2px;\n}\n.as__detail .as__info {\n  font-size: 0.785rem;\n  color: #717171;\n}\n.comments-container {\n  margin-left: 46px;\n}\n.comment__item {\n  overflow: hidden;\n  border-top: 1px dotted #ebedef;\n  padding: 6px 10px 6px 38px;\n  font-size: 0.857rem;\n}\n.comment__item .user-icon {\n  float: left;\n  margin: 4px 0 0 -38px;\n  border: solid 2px #999;\n}\n.comment__item .comment__info {\n  padding-top: 3px;\n  font-size: 0.785rem;\n  color: #717171;\n}\n.comments-more-btn {\n  display: block;\n  padding: 10px 0;\n  border-top: 1px dotted #ebedef;\n}\n.sugar_tag {\n  display: inline-block;\n  padding: 2px 4px 1px;\n  border-radius: 2px;\n  color: #fff;\n  background: #000;\n}\n.tb__detail {\n  padding-left: 35px;\n  padding-top: 4px;\n}\n.tb__detail .tb__icon {\n  float: left;\n  padding-top: 2px;\n  margin-left: -35px;\n}\n.tb__detail .tb__info {\n  color: #717171;\n}\n.tb__detail .user-icon {\n  border: solid 2px #999;\n}\n/* Autocomplete  */\n.view__taggable {\n  position: relative;\n  height: 100%;\n  background: #fff;\n}\n.taggable,\n.taggable-shadow {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  padding: 10px;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  text-indent: 0;\n  display: block;\n  resize: none;\n  -webkit-box-sizing: border-box;\n  -webkit-line-break: after-white-space;\n  -webkit-appearance: none;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  font-size: 1.214rem;\n  line-height: 1.286em;\n  outline: none;\n}\n.taggable {\n  -webkit-overflow-scrolling: auto;\n  background-color: transparent;\n  z-index: 4;\n  -webkit-box-shadow: 0;\n  letter-spacing: 0;\n}\n.ios .taggable {\n  -webkit-transform: translate3d(-4px, 0, 0);\n  transform: translate3d(-4px, 0, 0);\n  left: 0;\n  right: -10px;\n  width: auto;\n}\n.taggable-shadow {\n  background: #fff;\n  border-color: transparent;\n  color: transparent;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  pointer: none;\n  -webkit-user-select: none;\n  word-spacing: 0px;\n  letter-spacing: normal;\n}\n.taggable-shadow .sugar_tag {\n  display: inline;\n  position: relative;\n  z-index: 5;\n  padding: 0;\n  color: #fff;\n}\n.taggable-dropdown {\n  position: absolute;\n  top: 100px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow-y: scroll;\n  border-top: solid 1px #2d2d2d;\n  border-bottom: solid 1px #2d2d2d;\n  background: #fff;\n  z-index: 5;\n}\n.taggable-dropdown .taggable-listItem {\n  padding: 0 10px;\n  line-height: 2.5rem;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.taggable-dropdown .taggable-listItem.disabled {\n  color: #717275;\n}\n.taggable-dropdown .taggable-status {\n  float: right;\n  font-style: italic;\n}\n.taggable-dropdown .label-module-sm {\n  margin: 0 10px 0 0;\n  vertical-align: middle;\n}\n.show-dropdown .taggable,\n.show-dropdown .taggable-shadow {\n  height: 60px;\n}\n.show-dropdown .taggable-dropdown {\n  top: 60px;\n}\n/* Charts\n------------------------- */\n.nv-chart {\n  height: 100%;\n}\n.chart-wrapper {\n  width: 100%;\n  min-height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: #fff;\n  overflow-y: auto;\n}\n.chart-wrapper.has-scroll {\n  position: static;\n}\n.chart-wrapper .chart {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n}\n.chart-wrapper.has-dashlet-options .chart {\n  top: 40px;\n}\n.chart-wrapper .warning-message {\n  padding: 20px 0;\n}\n/* In Forecast dashlet\n------------------------- */\n.forecast-details .fd__b {\n  padding: 20px;\n}\n.forecast-details .fd__b .row-fluid {\n  padding: 10px;\n  border-bottom: 1px solid #e9e9e9;\n  box-sizing: border-box;\n}\n.forecast-details .fd__b .row-fluid:after {\n  clear: both;\n  display: table;\n  content: "";\n  line-height: 0;\n}\n.forecast-details .fd__b .row-fluid.deficitRow {\n  border-top: 1px solid #e9e9e9;\n  font-weight: 600;\n}\n.forecast-details .fd__b .row-fluid.deficitRow.font-green {\n  color: #33800d;\n}\n.forecast-details .fd__b .row-fluid.deficitRow.font-red {\n  color: #e61718;\n}\n.forecast-details .fd__b .row-fluid.details-cols {\n  padding: 10px 0;\n  border-bottom: none;\n}\n.forecast-details .fd__b .row-fluid .span1 {\n  float: left;\n  width: 100%;\n}\n.forecast-details .fd__b .row-fluid .span2 {\n  float: left;\n  width: 48.9%;\n  margin-left: 2.2%;\n}\n.forecast-details .fd__b .row-fluid .span2:first-child {\n  margin-left: 0;\n}\n.forecast-details .fd__b .row-fluid .span3 {\n  float: left;\n  width: 32%;\n  margin-left: 2%;\n}\n.forecast-details .fd__b .row-fluid .span3:first-child {\n  margin-left: 0;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline {\n  display: block !important;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.green {\n  background: #33800d;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.grayLight {\n  background: #717171;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.red {\n  background: #e61718;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label,\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount,\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback {\n  display: block;\n}\n.forecast-details .fd__b .row-fluid:last-child div[class*="span"] > .forecast_details_default_feedback {\n  font-size: 11px;\n  line-height: 16px;\n  color: #fff;\n  border-radius: 3px;\n  padding: 8px;\n  margin-top: 4px;\n}\n.forecast-details .fd__b .row-fluid .forecast_details_no_access {\n  padding: 3px 6px;\n  color: #fff;\n  background: #666;\n  border-radius: 4px;\n  font-size: 11px;\n  display: inline-block;\n  margin-top: 3px;\n}\n.forecast-details .warning-message {\n  padding: 20px;\n}\n@media screen and (max-height: 360px) {\n  .landscape .forecast-details .fd__b {\n    padding: 5px 20px 20px;\n  }\n  .landscape .forecast-details .fd__b .row-fluid {\n    padding: 5px;\n  }\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback {\n    display: inline;\n  }\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label .fdf_ln1,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount .fdf_ln1,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback .fdf_ln1 {\n    display: inline;\n  }\n}\n/* Dashlet Options */\n.filters-wrap {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 5px 5px 5px 15px;\n}\n.filter {\n  white-space: nowrap;\n  padding-right: 20px;\n}\n.filter .field__label,\n.filter .placeholder {\n  display: none;\n}\n.filter .field__controls {\n  border-bottom: none;\n}\n.filter select,\n.filter .actionsheet-select {\n  width: auto;\n}\n.dashlet-options {\n  position: relative;\n  height: 40px;\n  background: #fff;\n  border-bottom: 1px solid #e5e5e5;\n  z-index: 2;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.dashlet-options .dashlet-options_bigbar {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.dashlet-options .dashlet-options_bigbar .field {\n  padding-top: 0;\n}\n.dashlet-options .dashlet-options_bigbar .field--enum,\n.dashlet-options .dashlet-options_bigbar .field--radio .field__controls {\n  padding-top: 2px;\n}\n.dashlet-options .visibility-switcher .visibility-switcher__btn {\n  height: 40px;\n  line-height: 40px;\n  padding: 0 15px;\n  background: transparent;\n  border: none;\n  line-height: 1.286em;\n  color: #6b7479;\n}\n.dashlet-options .visibility-switcher .visibility-switcher__btn.active {\n  color: #0679c8;\n}\n.dashlet-options .my-items-btn {\n  width: 32px;\n  height: 36px;\n  line-height: 36px;\n  padding: 0;\n  border: none;\n  font-size: 16px;\n  text-align: center;\n  color: #555;\n  position: absolute;\n  top: 0px;\n  right: 5px;\n}\n.dashlet-options .my-items-btn.active {\n  background-color: transparent;\n  color: inherit !important;\n}\n.dashlet-options .my-items-btn.active .user-icon:before {\n  content: "\\f007";\n}\n.twitter-wrapper .tw__user_icon {\n  border: none !important;\n  border-radius: 5px !important;\n  background-color: #fff;\n  width: 26px;\n  height: 26px;\n  background-size: 100%;\n  background-position: 50% 50%;\n}\n.twitter-wrapper .tw__as__title {\n  padding-top: 2px;\n}\n.twitter-wrapper .tw__as_profile_link {\n  color: #585858;\n}\n.twitter-wrapper .tw__as_content_url {\n  word-wrap: break-word;\n  width: 100%;\n}\n.dashlet-webpage {\n  height: 100%;\n  width: 100%;\n  background: #fff;\n}\n.dashlet-webpage .wp__wrapper {\n  position: absolute;\n  top: 40%;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n.dashlet-webpage .wp__container {\n  display: inline-block;\n  min-width: 60%;\n  max-width: 70%;\n  border: 1px solid #ddd;\n  padding: 5px;\n  -webkit-border-radius: 3px;\n  background-color: #f5f5f5;\n}\n.dashlet-webpage .wp__favlogo {\n  position: absolute;\n  float: left;\n  top: 38%;\n  padding-left: 10px;\n  color: #666;\n}\n.dashlet-webpage .wp__content {\n  overflow: hidden;\n  text-align: left;\n  padding-left: 35px;\n}\n.dashlet-webpage .wp__title {\n  right: auto;\n  padding: 2px;\n  color: #000;\n}\n.dashlet-webpage .wp__url {\n  font-size: 0.885rem;\n  right: auto;\n  padding: 2px;\n  word-wrap: break-word;\n}\n.donut-chart {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n.donut-chart .nv-chart {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  min-height: 50px;\n  min-width: 100px;\n  top: 0;\n  bottom: 0;\n}\n.donut-chart .donut-chart-metric-container {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  bottom: 0;\n  left: 0;\n}\n.donut-chart .chart-metric {\n  text-align: center;\n  width: 33%;\n  position: relative;\n  border-top: 1px solid #e8e8e8;\n  border-right: 1px solid #e8e8e8;\n  float: left;\n  padding: 14px 0 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  bottom: 0px;\n}\n.donut-chart .chart-metric:last-child {\n  border-right: none;\n}\n.donut-chart .chart-metric span.label {\n  width: 26px;\n  height: 26px;\n  padding: 3px;\n  position: absolute;\n  top: -22px;\n  left: 50%;\n  margin-left: -12px;\n  border: none;\n  font-size: 1rem;\n  line-height: 1.786rem;\n}\n.donut-chart .chart-metric div.metric-description span {\n  float: none;\n  display: inline-block;\n  font-weight: bold;\n  font-size: 10px;\n  text-align: center;\n  text-shadow: 0 1px 0 #636363;\n  margin-right: 3px!important;\n}\n.donut-chart .chart-metric div.metric-amount {\n  font-weight: bold;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.opportunity-metrics-wrapper {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n.opportunity-metrics-wrapper .nv-chart {\n  bottom: 70px;\n}\n.opportunity-metrics-wrapper .nv-chart .active {\n  fill: #176de5;\n}\n.opportunity-metrics-wrapper .nv-chart .won {\n  fill: #33800d;\n}\n.opportunity-metrics-wrapper .nv-chart .lost {\n  fill: #e61718;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.won {\n  background-color: #33800d;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.lost {\n  background-color: #e61718;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.active {\n  background-color: #176de5;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.won {\n  color: #33800d;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.lost {\n  color: #e61718;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.active {\n  color: #176de5;\n}\n.layout__switch-container {\n  top: 0;\n}\n.layout__switch-container .tabs__switcher + .tabs__container {\n  bottom: 73px;\n}\n.lead-conversion__section--relative .scroll .pad {\n  background: #f7f8f9;\n  padding-bottom: 73px;\n}\n.lead-conversion__content--relative {\n  margin-bottom: 24px;\n  border-bottom: solid 1px #d3dbe1;\n}\n.lead-conversion__content--relative .easy-scroller-parent {\n  position: relative;\n}\n.lead-conversion__content--relative .easy-scroller-holder {\n  position: relative;\n}\n.duplicates-check-failed,\n.duplicates-check-no-records-found {\n  padding: 16px 15px 13px;\n  background: #f7f8f9;\n  font-size: 1.143rem;\n}\n.box__header-context {\n  padding: 16px 15px 13px;\n  background: #f7f8f9;\n  border-bottom: solid 1px #d3dbe1;\n}\n.box__header-context .header-context__title {\n  font-size: 1.143rem;\n  font-weight: 600;\n}\n.box__header-context .header-context__title--optional {\n  font-weight: 400;\n}\n.box__header-context .header-context__subtitle {\n  margin-top: 8px;\n}\n.box__link-duplicates {\n  display: block;\n  position: relative;\n  padding: 12px 40px 12px 15px;\n  margin-bottom: 24px;\n  background: #fff;\n  border-top: solid 1px #d3dbe1;\n  border-bottom: solid 1px #d3dbe1;\n  font-size: 1.143rem;\n}\n.box__link-duplicates .icondefault {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  width: 40px;\n  margin-top: -11px;\n  font-size: 22px;\n  color: #000;\n  text-align: center;\n}\n.lead-conversion__footer {\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 73px;\n  width: 100%;\n  padding: 14px 15px 0;\n  background: #f7f8f9;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.5);\n}\n.lead-conversion__prev {\n  float: left;\n  height: 44px;\n  line-height: 44px;\n  padding-right: 20px;\n  background: transparent;\n  font-size: 1.143rem;\n  color: #0c89d1;\n}\n.lead-conversion__prev.selected-item {\n  opacity: .6;\n}\n.lead-conversion__prev .icondefault {\n  font-weight: bold;\n}\n.rtl .lead-conversion__prev .icondefault {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n  position: relative;\n  top: -2px;\n}\n.rtl .lead-conversion__prev {\n  float: right;\n  padding-left: 20px;\n  padding-right: 0;\n}\n.lead-conversion__next {\n  float: right;\n  height: 44px;\n  padding: 0 20px;\n  line-height: 44px;\n}\n.lead-conversion__next .icondefault {\n  padding-left: 5px;\n  font-weight: bold;\n}\n.rtl .lead-conversion__next .icondefault {\n  position: relative;\n  top: -2px;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .lead-conversion__next {\n  float: left;\n}\n.progress {\n  width: 40px;\n  height: 10px;\n}\n.progress-wrap {\n  background: #3aca50;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  right: 15px;\n  margin-top: -30px;\n  z-index: 9999;\n}\n.progress-wrap .progress-bar {\n  background: #ddd;\n  left: 0;\n  position: absolute;\n  top: 0;\n  -webkit-transition: left 0.6s linear;\n  transition: left 0.6s linear;\n}\n.rtl .progress-wrap {\n  left: 15px;\n  right: auto;\n}\n.field-dupecheck-list__label {\n  float: left;\n  width: 120px;\n  padding-right: 16px;\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.rtl .field-dupecheck-list__label {\n  float: right;\n  padding-right: 0;\n  padding-left: 16px;\n}\n/* Default overlay\n------------------------- */\n.box__overlay {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 999990;\n  font-size: 1.357rem;\n  font-weight: bold;\n  text-align: center;\n}\n.box__overlay .overlay-message {\n  font-size: 1.714rem;\n}\n.box__overlay .overlay-spinner {\n  height: 40px;\n  width: 40px;\n  margin-top: 20px;\n  display: none;\n}\n.box__overlay .overlay-spinner .icon-spinner {\n  width: 32px;\n  height: 32px;\n}\n.box__overlay .current {\n  display: inline-block;\n  padding-bottom: 10px;\n}\n.box__overlay .completed {\n  font-size: 0.632em;\n  color: #CDCCCB;\n}\n.box__overlay .icon-spinner {\n  display: inline-block;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  margin-right: 3px;\n}\n.box__overlay .icon-spinner-path {\n  fill: black;\n}\n.box__overlay.spinner .overlay-message,\n.box__overlay.spinner .overlay-spinner {\n  position: relative;\n  top: 40%;\n}\n.box__overlay.spinner .overlay-spinner {\n  display: inline-block;\n}\n.box__overlay.tint {\n  background: #fff;\n  color: black;\n}\n.box__overlay.tint .icon-spinner-path {\n  fill: black;\n}\n.box__overlay.overlay--shadow {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n/* Preloader on login\n------------------------- */\n.box__preloader {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 9998;\n  background: #fff;\n}\n.box__preloader .preloader__header {\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  margin-top: -100px;\n  text-align: center;\n}\n.box__preloader .preloader__message {\n  text-align: center;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: black;\n}\n.box__preloader .preloader__message .icon-spinner {\n  display: inline-block;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  margin-right: 3px;\n}\n.box__preloader .preloader__message .icon-spinner-path {\n  fill: black !important;\n}\n/* Record overlay\n------------------------- */\n.box__overlay-record {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1001;\n}\n.box__overlay-record .overlay-record__message {\n  position: absolute;\n  top: 45%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  opacity: .8;\n  color: #fff;\n}\n/* Lead preloader\n------------------------- */\n.box__lead-preloader {\n  position: absolute;\n  top: -50px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 99999;\n  background: #f7f8f9;\n}\n.box__lead-preloader .lead-preloader__tabs {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 49px;\n  padding: 0 20px;\n  border-bottom: solid 1px #d3dbe1;\n  background: #fff;\n  justify-content: space-between;\n}\n.box__lead-preloader .lead-preloader__tab {\n  margin-top: 21px;\n  width: 66px;\n}\n.box__lead-preloader .lead-preloader__tab--2 {\n  width: 85px;\n}\n.box__lead-preloader .lead-preloader__tab--3 {\n  width: 35px;\n}\n.box__lead-preloader .lead-preloader__content {\n  position: relative;\n  background: #fff;\n  padding: 21px 15px 11px 46px;\n  border-bottom: solid 1px #ebedef;\n}\n.rtl .box__lead-preloader .lead-preloader__content {\n  padding-left: 15px;\n  padding-right: 46px;\n}\n.box__lead-preloader .lead-preloader__line-content {\n  width: 150px;\n  margin-bottom: 21px;\n}\n.box__lead-preloader .lead-preloader__line-content--2 {\n  width: 130px;\n}\n.box__lead-preloader .lead-preloader__line-content--3 {\n  width: 100px;\n}\n.box__lead-preloader .lead-preloader__line-radio {\n  position: absolute;\n  top: 50%;\n  left: 15px;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n  background: #d8d8d8;\n  border-radius: 8px;\n  line-height: 0;\n  animation: pulse .65s infinite alternate;\n}\n.rtl .box__lead-preloader .lead-preloader__line-radio {\n  right: 15px;\n  left: auto;\n}\n.box__lead-preloader .lead-preloader__tab,\n.box__lead-preloader .lead-preloader__line-content {\n  height: 9px;\n  background: #d8d8d8;\n  line-height: 0;\n  animation: pulse .65s infinite alternate;\n}\n.box__lead-preloader .lead-preloader__btn1 {\n  float: left;\n  width: 65px;\n  height: 9px;\n  margin-top: 15px;\n  background: #d8d8d8;\n}\n.rtl .box__lead-preloader .lead-preloader__btn1 {\n  float: right;\n}\n.box__lead-preloader .lead-preloader__btn2 {\n  float: right;\n  width: 110px;\n  height: 46px;\n  background: #d8d8d8;\n  border-radius: 3px;\n}\n.rtl .box__lead-preloader .lead-preloader__btn2 {\n  float: left;\n}\n/* Body and structure\n------------------------- */\n.background {\n  position: absolute !important;\n  top: 50px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fff;\n  z-index: 9999 !important;\n}\n.fno {\n  float: none !important;\n}\n.fleft {\n  float: left !important;\n}\n.fright {\n  float: right !important;\n}\n.altview {\n  display: none;\n}\n/*.hidden   { display: none !important; } */\nsvg text {\n  font-family: "Open Sans", sans-serif;\n}\n.vis_action_hidden {\n  display: none !important;\n}\n/* Typography */\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n}\nh1 {\n  font-size: 26px;\n}\n.tcenter {\n  text-align: center;\n}\n.tleft {\n  text-align: left;\n}\n.tright {\n  text-align: right;\n}\n.ellipsis {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.line-clamp {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n/* Checkboxes */\n.checkbox_default {\n  -webkit-appearance: none;\n  width: 1.286rem;\n  height: 1.286rem;\n  border-width: 1px;\n  border-style: solid;\n  border-color: #999;\n  border-radius: 3px;\n}\n.checkbox_default:checked:after {\n  content: "\\2713";\n  font-size: 130%;\n  line-height: 16px;\n}\n.checkbox_custom {\n  width: 1.286rem;\n  height: 1.571rem;\n  -webkit-appearance: none;\n  position: relative;\n  border: none;\n  background: transparent;\n  box-shadow: none;\n  vertical-align: middle;\n  z-index: 2;\n}\n.checkbox_custom + .checkbox-icon {\n  width: 1.286rem;\n  margin-left: -1.286rem;\n  z-index: 1;\n}\n.checkbox-icon {\n  position: relative;\n  display: inline-block;\n  font-size: 1.357rem;\n  line-height: 1;\n  color: #111;\n  vertical-align: middle;\n  text-align: left;\n  z-index: 1;\n}\n/* Blocks */\n.modal {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  right: 10px;\n  width: auto;\n  margin: 0;\n}\n.modal.fade.in {\n  top: auto;\n}\n.modal .modal-header .close {\n  padding: 10px;\n  margin: -10px;\n}\n/* icons for Modules */\n.label-module-sm {\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 24px;\n  width: 24px;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 24px;\n  border-radius: 50%;\n  background: #6b7479;\n  white-space: nowrap;\n  text-align: center;\n  color: #fff;\n}\n.label-module-sm .icondefault {\n  font-size: 18px;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n  text-align: center;\n  color: #58595b;\n}\n.label-module-sm.has-icon-inside .label-module-sm_title {\n  position: absolute;\n  top: 4px;\n  left: 4px;\n}\n.label-module-sm .icon-th {\n  margin-top: 1px;\n  color: #2b2b2b;\n}\n.label-Accounts {\n  background-color: #51cd15;\n}\n.label-Bugs {\n  background-color: #f75f60;\n}\n.label-Calendar {\n  background-color: #00bd9c;\n}\n.label-Calls {\n  background-color: #01d1ff;\n}\n.label-Campaigns {\n  background-color: #ffcf00;\n}\n.label-CampaignLog {\n  background-color: #ffcf00;\n}\n.label-Cases {\n  background-color: #e85479;\n}\n.label-Contacts {\n  background-color: #cc6cd9;\n}\n.label-Documents {\n  background-color: #626bf5;\n}\n.label-Emails {\n  background-color: #2c97de;\n}\n.label-Employees {\n  background-color: #2c97de;\n}\n.label-Files {\n  background-color: #fbc02d;\n}\n.label-Forecasts {\n  background-color: #1fce6d;\n}\n.label-KBDocuments {\n  background-color: #f72b74;\n}\n.label-KBContents {\n  background-color: #f72b74;\n}\n.label-Leads {\n  background-color: #7651fc;\n}\n.label-Meetings {\n  background-color: #2ee0cd;\n}\n.label-Notes {\n  background-color: #28bdf0;\n}\n.label-Opportunities {\n  background-color: #a05cff;\n}\n.label-Products {\n  background-color: #011523;\n}\n.label-Prospects {\n  background-color: #aacb2d;\n}\n.label-ProspectLists {\n  background-color: #aacb2d;\n}\n.label-Quotes {\n  background-color: #0eba61;\n}\n.label-Quotas {\n  background-color: #18e7d2;\n}\n.label-Reports {\n  background-color: #ff973e;\n}\n.label-RevenueLineItems {\n  background-color: #00cbf3;\n}\n.label-Targets {\n  background-color: #429e10;\n}\n.label-TargetLists {\n  background-color: #429e10;\n}\n.label-Tasks {\n  background-color: #ff5a9c;\n}\n.label-Users {\n  background-color: #6b7379;\n}\n.label-Workflow {\n  background-color: #41b7d1;\n}\n.label-empty {\n  background: #fff;\n  border: 1px solid #555;\n  color: #555;\n}\n/* Filter Box\n------------------------- */\n.view__filters.filters-hidden {\n  display: none;\n}\n.box__filter {\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 44px;\n  padding: 8px 15px 7px;\n  background: #f8f9f9;\n  border-bottom: solid 1px #d3dbe1;\n  white-space: nowrap;\n}\n.box__filter .filter__item:first-child {\n  flex-shrink: 1;\n  overflow: hidden;\n}\n.box__filter .filter__seporate {\n  -webkit-box-flex: 1 1 15px;\n  -webkit-flex: 1 1 15px;\n  flex: 1 1 15px;\n}\n.box__filter .filter__item-by {\n  max-width: 160px;\n}\n.box__filter .filter__item-sort {\n  flex: 0 0 30px;\n  margin-left: -1px;\n}\n.box__filter .filter__item-sort .btn-filter {\n  position: relative;\n  width: 20px;\n  padding: 0 5px;\n  border-radius: 0 2px 2px 0;\n  color: #d3dbe1;\n}\n.box__filter .filter__item-sort .filter-item-sort__asc {\n  position: absolute;\n  top: 2px;\n  left: 11px;\n}\n.desc .box__filter .filter__item-sort .filter-item-sort__asc {\n  color: #000;\n}\n.box__filter .filter__item-sort .filter-item-sort__desc {\n  position: absolute;\n  top: 10px;\n  left: 11px;\n}\n.box__filter .filter__item-sort.asc .filter-item-sort__asc,\n.box__filter .filter__item-sort.desc .filter-item-sort__desc {\n  color: #000;\n}\n.box__filter .btn-filter {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.view__search {\n  display: none;\n  position: absolute;\n  top: -51px;\n  left: 0;\n  width: 100%;\n  height: 50px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-transition: all 0.6s linear;\n  transition: all 0.6s linear;\n  background: #fff;\n  align-items: center;\n  z-index: 9002;\n  opacity: 0;\n}\n.view__search.show-search {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.view__search .box__search-query {\n  position: relative;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.view__search .box__search-icon {\n  position: absolute;\n  top: 0;\n  left: 15px;\n  height: 50px;\n  line-height: 50px;\n  color: #0679c8;\n  font-size: 1.286rem;\n}\n.view__search .icon-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 15px;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n}\n.view__search .icon-spinner .icon-spinner-path {\n  fill: #0679c8;\n}\n.view__search .search-query {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  height: 50px;\n  padding: 0 35px 0 44px;\n  background: transparent;\n  font-size: 1.143rem;\n}\n.view__search .search-query::-webkit-input-placeholder {\n  white-space: nowrap;\n  text-overflow: ellipsis !important;\n}\n.view__search .search-query::-webkit-search-cancel-button {\n  display: none;\n}\n.view__search .clear-button {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 12px;\n  font-size: 1.143rem;\n  color: #6b7479;\n}\n.view__search .not-empty .clear-button {\n  display: block;\n}\n.view__search .search__cancel-btn {\n  line-height: 50px;\n  padding: 0 15px;\n  font-size: 1.143rem;\n  color: #0679c8;\n}\n.view__search .search__cancel-btn.selected-item {\n  color: #0679c8;\n  background: transparent;\n}\n.view__search-box.in-progress .box__search-icon {\n  display: none;\n}\n.view__search-box.in-progress .icon-spinner {\n  display: block;\n}\n.overlay-dropdown {\n  position: absolute;\n  top: 44px;\n  left: 0;\n  width: 100%;\n  height: 1500px;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n}\n.dropdown {\n  position: absolute;\n  overflow-y: auto;\n  top: 44px;\n  border-radius: 0 0 2px 2px;\n  background: #fff;\n  z-index: 2;\n  max-height: 70%;\n}\n.dropdown.dropdown__filter {\n  left: 7px;\n  width: 190px;\n}\n.dropdown.dropdown__sortBy {\n  right: 7px;\n  width: 183px;\n}\n.dropdown li {\n  display: block;\n  border-top: 1px solid #e8e8e8;\n}\n.dropdown li:first-child {\n  border: none;\n}\n.dropdown li.filters-preloader .icon-spinner {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 8px;\n  vertical-align: top;\n}\n.dropdown li.filters-preloader .icon-spinner .icon-spinner-path {\n  fill: #c2c2c2;\n}\n.dropdown li.selected-item {\n  background: #f6f6f6;\n}\n.dropdown li.selected-item a {\n  color: #323232;\n}\n.dropdown li.filters-fetching-error {\n  padding: 8px 10px 8px 10px;\n  text-align: center;\n}\n.dropdown li.filters-fetching-error.show {\n  display: block;\n}\n.dropdown li.filters-fetching-error span {\n  font-size: 0.857rem;\n}\n.dropdown li.filters-fetching-error .filters-try-again {\n  font-size: 1rem;\n  color: #0679c8;\n  text-decoration: underline;\n}\n.dropdown li a {\n  position: relative;\n  display: block;\n  height: 2.857rem;\n  color: #323232;\n}\n.dropdown li a.active {\n  background: #fff;\n  color: #0679c8;\n}\n.dropdown li a.active .check-icon {\n  display: block;\n}\n.dropdown li a.filters-reload {\n  height: auto;\n}\n.dropdown li .name {\n  position: absolute;\n  top: 50%;\n  left: 22px;\n  right: 7px;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  max-height: 2.857rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.dropdown li .check-icon {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 6px;\n  margin-top: -7px;\n  font-size: 13px;\n}\n.dropdown li .loading-error {\n  height: auto;\n  padding: 12px 0;\n  text-align: center;\n}\n.dropdown li .loading-error .message {\n  display: block;\n  padding-bottom: 6px;\n}\n.dropdown li .loading-error .link {\n  color: #0679c8;\n  text-decoration: underline;\n}\n/* Content\n------------------------- */\n.mobile.show-content-child #content {\n  display: none;\n}\n.mobile.show-content-child #content-child {\n  display: block;\n}\n.tablet #wrapper {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  background: #fff;\n}\n.tablet.show-content-child #content {\n  display: block;\n  width: 340px;\n}\n.tablet.show-content-child #content-child {\n  display: block;\n  box-shadow: -2px 0 7px rgba(0, 0, 0, 0.1);\n}\n.tablet.show-content-child.body--search-onfocus #content {\n  width: 100% !important;\n  z-index: 2003;\n}\n.tablet #moduleList {\n  -webkit-transform: translate3d(0, 0, 0);\n}\n#wrapper {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n#content,\n#content-child {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 2002;\n}\n#content-child {\n  display: none;\n}\n.duplicates-list .items .layout__list {\n  position: relative;\n  top: 0px;\n  height: 300px;\n}\n#content-overlay {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 50px;\n  bottom: 0;\n  z-index: 2003;\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  opacity: 0;\n  -webkit-transition: opacity 0.2s linear;\n  transition: opacity 0.2s linear;\n}\n#content-overlay.full {\n  top: 0;\n}\n.show-menu-left #content-overlay {\n  top: 0;\n  background: rgba(0, 0, 0, 0.5);\n  opacity: 1;\n}\n.easy-scroller-parent {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n}\n.view__filters ~ .easy-scroller-parent {\n  top: 44px;\n}\n.filters-hidden .easy-scroller-parent {\n  top: 0;\n}\n.easy-scroller-holder {\n  position: absolute;\n  top: 0;\n  min-height: 100%;\n  left: 0;\n  right: 0;\n  z-index: 1;\n}\n.layout__list .easy-scroller-holder,\n.layout__Dashboards .easy-scroller-holder {\n  background: #fff;\n}\n.actionsheet-overlay {\n  top: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 9999;\n  width: 100%;\n  bottom: 0;\n  position: absolute;\n}\n.actionsheet-overlay .popup {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  min-width: 250px;\n  max-width: 90%;\n  font-size: 19px;\n  font-weight: bold;\n  background-color: #fff;\n  color: #000;\n  font-size: 16px;\n  position: absolute;\n}\n.actionsheet-overlay .popup .header {\n  border-bottom: 3px solid #d3dbe1;\n  padding: 16px 0;\n  text-align: center;\n}\n.actionsheet-overlay .popup .items {\n  max-height: 120px;\n  overflow: auto;\n  overflow-x: hidden;\n}\n.actionsheet-overlay .popup .items .item {\n  height: 40px !important;\n  line-height: 40px;\n  width: auto;\n  padding-left: 20px;\n  padding-right: 20px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.actionsheet-overlay .popup .items .item.selected-item {\n  background: #666;\n}\n.actionsheet-overlay .popup.compact .header {\n  padding: 10px !important;\n}\n.actionsheet-overlay .popup.compact .items {\n  max-height: 80px !important;\n}\n.actionsheet-overlay .popup.compact .footer .cancel {\n  padding: 10px !important;\n}\n.actionsheet-overlay .popup .footer {\n  border-top: 2px solid #d3dbe1;\n}\n.actionsheet-overlay .popup .footer .cancel {\n  display: block;\n  color: #0679c8;\n  text-align: center;\n  padding: 16px;\n}\n.actionsheet-overlay .popup .footer .cancel.selected-item {\n  color: #005088;\n}\n.view__summary .scroll > ul > li,\n.items article {\n  position: relative;\n}\n.ios .view__summary .scroll > ul > li,\n.ios .items article {\n  -webkit-transform: translatez(0);\n}\n/* List\n------------------------- */\n.listing {\n  background: #fff;\n  min-height: 100%;\n  width: 100%;\n  padding-bottom: 1px;\n  overflow: hidden;\n  z-index: 2;\n}\n.listing .no-records-found {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  color: #6b7479;\n  background-color: #f0f2f5;\n  padding: 24px 15px 26px;\n  font-size: 1.214rem;\n  text-align: center;\n}\n.listing#listing-Activities .no-records-found {\n  top: 47px;\n}\n.listing .bucket-header {\n  min-height: 15px;\n  padding: 10px 15px;\n  background: #ecedef;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #000;\n}\n.listing article {\n  display: block;\n  padding: 8px 8px 8px 15px;\n  background: #fff;\n  border-bottom: 1px solid #ebedef;\n  min-height: 52px;\n}\n.listing article p {\n  display: block;\n}\n.listing article p:last-child {\n  margin: 0;\n}\n.listing article.selected-item,\n.listing article.item-checkbox_checked {\n  background: #ededed !important;\n  color: #000;\n}\n.listing article.selected-item a,\n.listing article.item-checkbox_checked a,\n.listing article.selected-item .item-name,\n.listing article.item-checkbox_checked .item-name,\n.listing article.selected-item .tb__info,\n.listing article.item-checkbox_checked .tb__info {\n  color: #005088 !important;\n}\n.listing article.selected-item .module-name,\n.listing article.item-checkbox_checked .module-name,\n.listing article.selected-item .module-name-comma,\n.listing article.item-checkbox_checked .module-name-comma,\n.listing article.selected-item .item-label,\n.listing article.item-checkbox_checked .item-label,\n.listing article.selected-item div.search-result,\n.listing article.item-checkbox_checked div.search-result,\n.listing article.selected-item .fields .value,\n.listing article.item-checkbox_checked .fields .value {\n  color: #000 !important;\n}\n.listing article.selected-item .menu-container a,\n.listing article.item-checkbox_checked .menu-container a {\n  color: #262626 !important;\n}\n.listing article.current {\n  background: #9aa5ad;\n  color: #fff;\n}\n.listing article.current a,\n.listing article.current .item-name,\n.listing article.current .tb__info {\n  color: #fff !important;\n}\n.listing article.current .module-name,\n.listing article.current .module-name-comma,\n.listing article.current .item-label,\n.listing article.current div.search-result,\n.listing article.current .fields .value {\n  color: #fff !important;\n}\n.listing article.current .menu-container a {\n  color: #262626 !important;\n}\n.listing article.deleted {\n  opacity: 0;\n}\n.listing .list-item {\n  position: relative;\n}\n.listing .list-item .txt {\n  margin-top: 6px;\n  min-height: 2.7em;\n}\n.listing .list-item .txt.line-clamp {\n  line-height: 1.3em;\n}\n.listing .list-item .txt .clip a em {\n  font-style: normal;\n  color: #000;\n}\n.listing .list-item .txt > .clip:first-child,\n.listing .list-item .txt .item-name {\n  font-size: 1.214rem;\n  line-height: 1.3em;\n}\n.listing .list-item .txt .module-name {\n  float: left;\n  max-width: 50%;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-style: normal;\n  color: #000;\n  font-size: 1.214rem;\n  line-height: 1.3em;\n}\n.listing .list-item .txt .module-name-comma {\n  float: left;\n  font-size: 1.214rem;\n  line-height: 1.3em;\n  padding-right: 4px;\n  color: #000;\n}\n.listing .list-item .txt .highlight {\n  font-weight: bold;\n  color: inherit;\n}\n.listing .list-item .txt div.search-result {\n  color: #000;\n  font-size: 1rem;\n}\n.listing .list-item .txt div.search-result .highlight {\n  padding: 0 2px;\n  background: #dfdfdf;\n  color: #000;\n  font-weight: normal;\n}\n.listing .list-item .txt div.search-result .relate-link {\n  color: #000;\n}\n.listing .list-item .search {\n  height: auto;\n}\n.listing .list-item .additional {\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  font-size: 0.929rem;\n}\n.listing .list-item .additional div.search-result {\n  display: block;\n}\n.listing .list-item .txt.has-access .item-name {\n  color: #0679c8;\n}\n.listing .list-item .fields {\n  padding-top: 2px;\n}\n.listing .list-item .fields .value {\n  color: #000;\n}\n.listing .list-item .fields .field {\n  padding-top: 0;\n  overflow: hidden;\n}\n.listing .list-item .fields .item-label {\n  float: left;\n  width: 46%;\n  padding-right: 10px;\n  font-weight: 500;\n  color: #000;\n}\n.listing .list-item .field-leads-status-value {\n  float: right;\n}\n.rtl .listing .list-item .field-leads-status-value {\n  float: left;\n}\n.listing .list-item.tx-item {\n  font-size: 1.214rem;\n  color: #0679c8;\n}\n.listing .list-item.error {\n  color: #fff;\n  background: #e61718;\n  border-top: none;\n  border-bottom: solid 3px #8a1a0f;\n}\n.listing .list-item.error .module-name,\n.listing .list-item.error .module-name-comma {\n  color: #fff;\n}\n.listing .list-item.warning {\n  color: #fff;\n  background: #ffa800;\n  border-top: none;\n  border-bottom: solid 3px #b27500;\n}\n.listing .list-item.warning .module-name,\n.listing .list-item.warning .module-name-comma {\n  color: #fff;\n}\n.listing article.has-grip {\n  padding-right: 32px;\n}\n.listing article.item-checkbox {\n  position: relative;\n  padding-right: 32px;\n}\n.listing article.item-checkbox .asscacct,\n.listing article.item-checkbox .checkbox-icon {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  width: 31px;\n  margin-top: -0.5em;\n}\n.listing article.list-item-radio {\n  position: relative;\n  padding: 11px 15px 11px 46px;\n}\n.listing article.list-item-radio .radio-icon {\n  position: absolute;\n  top: 50%;\n  left: 15px;\n  margin-top: -8px;\n  text-align: center;\n  color: #979797;\n  font-size: 16px;\n}\n.listing article.list-item-radio .item-name {\n  font-size: 1.143rem;\n}\n.listing article.list-item-radio.list-item-radio--selected .radio-icon {\n  font-weight: bold;\n  color: #0679c8;\n}\n.listing article.list-item-radio:last-child {\n  border-bottom: none;\n}\n.listing article.list-item-radio .row--head:first-child {\n  font-size: 1.143rem;\n}\n.listing article.list-item-radio .row {\n  padding-bottom: 5px;\n}\n.listing article.list-item-radio .edit-link,\n.listing article.list-item-radio .show-more-link,\n.listing article.list-item-radio .show-less-link {\n  display: block;\n  padding: 20px 0 14px;\n  margin: -15px 0 -10px;\n  text-transform: capitalize;\n}\n.listing .show-more-btn {\n  background: #f5f5f5;\n  border-top: 1px solid #ebedef;\n  padding: 0 15px;\n  margin-bottom: 0;\n  min-height: 42px;\n  line-height: 42px;\n  text-transform: capitalize;\n}\n.listing .show-more-btn.show-more-top-btn {\n  z-index: 1;\n}\n.listing .show-more-btn:first-child,\n.listing .show-more-btn:nth-child(2),\n.listing .show-more-btn:nth-child(3) {\n  border-bottom: 1px solid #ebedef;\n  margin-bottom: -1px;\n}\n.picker-list-row {\n  line-height: 52px;\n  font-size: 1.143rem;\n}\n.picker-list-row .label-module-sm {\n  margin: -2px 9px 0 0;\n  vertical-align: middle;\n}\n.picker-list-row a {\n  color: #000;\n}\n.menu-container-grip {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 20px;\n  padding: 0 0 0 15px;\n  font-size: 14px;\n  font-style: normal;\n  line-height: 68px;\n}\n.menu-container {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 100%;\n  width: 100%;\n  background: #f4f5f6;\n  text-align: center;\n  -webkit-transition-duration: 0.15s;\n  transition-duration: 0.15s;\n}\n.menu-container.on {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.mobile .has-drag-menu .menu-container.on {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.menu-container .context-menu__item {\n  display: inline-block;\n  padding: 18px 0 300px;\n  height: 26px;\n  width: 62px;\n  color: #262626;\n  text-align: center;\n  font-size: 11px;\n  line-height: 18px;\n}\n.menu-container .context-menu__item .icondefault {\n  font-size: 20px;\n  color: #262626;\n}\n.menu-container .context-menu__item.selected-item .icondefault {\n  color: #262626;\n}\n.menu-container .context-menu__item .icon-spinner {\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n}\n.menu-container .context-menu__item .icon-spinner .icon-spinner-path {\n  fill: #262626;\n}\n.menu-container .grip {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  line-height: 68px;\n  width: 16px;\n  padding: 0 2px 0 10px;\n  font-size: 14px;\n  color: #262626;\n}\n.menu-container .box__context-menu {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  justify-content: center;\n}\n.menu-container .box__context-menu .disabled {\n  opacity: 0.2;\n}\n.menu-container .action-label {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.mobile .menu-container {\n  top: -1px;\n  border-top: solid 1px #ebedef;\n}\n.mobile .menu-container .box__context-menu {\n  position: absolute;\n}\n.mobile .menu-container a {\n  width: 72px;\n}\n.mobile .menu-container-grip + .menu-container .box__context-menu {\n  position: inherit;\n}\n.error-box {\n  padding: 18px 15px 20px;\n  background-color: transparent;\n  font-weight: bold;\n  color: #fff;\n}\n/* Related Actions List\n------------------------- */\n.box__related-actions {\n  margin: 0;\n  padding: 0;\n}\n.box__related-actions .related-action__item {\n  list-style: none;\n  padding: 0 0 0 10px;\n  line-height: 39px;\n  border-bottom: 1px solid #ebedef;\n  min-height: 40px;\n  position: relative;\n}\n.box__related-actions .related-action__item.selected-item {\n  background-color: #ededed;\n}\n.box__related-actions .related-action__item .related-action-item__link {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 40px;\n  color: #000;\n  font-size: 1.071rem;\n  text-decoration: none;\n}\n.box__related-actions .related-action__item .label-module-sm {\n  margin: 0 6px -6px 0;\n}\n.box__related-actions .related-action__item .more {\n  position: absolute;\n  top: 0;\n  right: 10px;\n  line-height: inherit;\n}\n.box__related-actions .related-action__item .related-action-item__add {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 40px;\n  padding: 0;\n  text-align: center;\n  text-indent: 3px;\n  font-size: 0.857rem;\n  color: #525252;\n}\n.box__related-actions .related-action__item.related-action__item_empty .related-action-item__link {\n  color: rgba(0, 0, 0, 0.3);\n}\n.brand {\n  background: url('+n(376)+") 50% 50% no-repeat;\n  background-size: contain;\n  text-indent: -7000px;\n  overflow: hidden;\n  margin: 15px auto;\n  width: 240px;\n  height: 80px;\n}\n/* Edit view\n--------------*/\n.scroll {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.scroll .pad {\n  padding-bottom: 1px;\n  min-height: 100%;\n  width: 100%;\n  background: #fff;\n}\n.textarea .scroll .pad {\n  height: 100%;\n}\n.textarea .scroll .pad > textarea {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n}\n#nomad .box__edit.box__edit_readonly .field.field--readonly .textarea-div {\n  color: #111;\n}\n.input-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.input-wrapper input {\n  display: block;\n  width: 100%;\n  padding-right: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  line-height: 1;\n}\n.input-wrapper input:focus {\n  outline: 0;\n  outline-offset: 0;\n}\n.input-wrapper .clear-button {\n  display: none;\n  position: relative;\n  box-sizing: border-box;\n  height: 3.286rem;\n  line-height: 3.286rem;\n  align-self: center;\n  padding: 0 15px 0 20px;\n  margin: -10px -15px -10px 0;\n  font-size: 1.143rem;\n  cursor: pointer;\n  color: #6b7479;\n  z-index: 99;\n}\n.input-wrapper.not-empty input:focus + .clear-button {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.modal-footer {\n  padding: 20px 0 10px;\n  border-top: 1px solid #e8e8e8;\n  text-align: center;\n}\n/* Icons\n------------------------- */\n.btn .icondefault {\n  margin-top: 3px;\n}\nselect {\n  box-sizing: border-box;\n  width: 100%;\n  padding-right: 20px;\n  margin-right: -20px;\n}\nselect + .icondefault,\n.actionsheet-select + .icondefault {\n  float: right;\n  width: 20px;\n  font-size: 18px;\n  text-align: right;\n}\n.icon-size-md {\n  font-size: 20px;\n}\n/* Alerts\n------------------------- */\n.ios .alert {\n  -webkit-transform: translateZ(0);\n}\n.alert {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  min-height: 22px;\n  overflow: hidden;\n  padding: 12px 15px;\n  margin: 0;\n  z-index: 2002;\n  font-size: 1.071rem;\n  background: #f5f5f5;\n  color: #5b5b5b;\n}\n.alert.closeable {\n  padding-right: 38px;\n}\n.alert .icondefault {\n  position: absolute;\n  top: 14px;\n  right: 15px;\n  font-size: 14px;\n  line-height: 1;\n}\n.alert a {\n  text-decoration: underline;\n}\n.alert .icon-spinner {\n  display: inline-block;\n  position: absolute;\n  top: 16px;\n  left: 15px;\n  right: auto;\n  width: 14px;\n  height: 14px;\n}\n.alert .icon-spinner .icon-spinner-path {\n  fill: #6b7479;\n}\n.alert .close-icon {\n  top: 50%;\n  margin-top: -9px;\n  font-size: 18px;\n}\n.alert .icon-spinner + .message {\n  padding-left: 24px;\n}\n.alert .message {\n  line-height: 1.3em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  font-weight: lighter;\n}\n#alerts {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: auto;\n  width: 100%;\n  overflow: hidden;\n  z-index: 9999;\n}\n.syncApp #alerts {\n  z-index: 999999;\n}\n.has-pagination #alerts {\n  bottom: 50px;\n}\n.tablet #alerts .alert {\n  margin-top: 2px;\n}\n.data-unavailable-label {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  margin-top: -20px;\n  text-align: center;\n}\n/* Alert overrider */\n.alert--warning {\n  background: #fbc02d;\n  color: #fff;\n}\n.alert--warning a {\n  color: #fff;\n}\n.alert--info {\n  background: #0679c8;\n  color: #fff;\n}\n.alert--info a {\n  color: #fff;\n}\n.alert--success {\n  background: #54cb14;\n  color: #fff;\n}\n.alert--success a {\n  color: #fff;\n}\n.alert--error {\n  background: #e61718;\n  color: #fff;\n}\n.alert--error a {\n  color: #fff;\n}\n.alert--load {\n  background: #ecedef;\n  color: #6b7479;\n}\n.alert--load a {\n  color: #6b7479;\n}\n.alert--load .close-icon {\n  color: #6b7479;\n}\n.alert[id^=\"demo-\"] {\n  display: none;\n}\n.layout__Error {\n  background: #000;\n}\n/* portrait */\n.portrait .tablet .layout__list .menuBtn {\n  display: block;\n}\n.portrait .tablet #content .menuBtn {\n  display: block;\n}\n.portrait .tablet #content-child {\n  left: 340px;\n}\n.portrait .tablet #content-child .menuBtn {\n  display: none;\n}\n.portrait .tablet #content-child .backBtn {\n  left: 0;\n}\n.portrait .tablet #content-child .offline-status {\n  display: none;\n}\n/* landscape */\n.landscape .tablet #content-child {\n  left: 340px;\n}\n.landscape .tablet #content-child .menuBtn {\n  display: none;\n}\n.landscape .tablet #content-child .offline-status {\n  display: none;\n}\n/* Settings page */\n.page__settings .modal-footer {\n  border-top: none;\n}\n.page__settings .settings__other-fields {\n  margin-bottom: 10px;\n}\n.page__settings .field--bool {\n  overflow: hidden;\n  padding-top: 12px;\n}\n.page__settings .field--bool .field__controls {\n  border-bottom: transparent;\n}\n.page__settings .field--bool .field__label {\n  float: left;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #111;\n}\n.page__settings .field--bool .field__controls {\n  float: right;\n}\n/* Errors page */\n.b-vc-w {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n}\n.b-vc-w:before {\n  content: '';\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n  margin-right: -0.25em;\n}\n.b-vc {\n  display: inline-block;\n  width: 90%;\n  vertical-align: middle;\n}\n.error-message {\n  color: #f00;\n  font-size: 18px;\n}\n/** back to sugar url **/\n.sugar-back-link {\n  color: #000;\n  font-weight: bold;\n  padding: 30px;\n  text-align: center;\n}\n/* cut css3 for android */\n.android .background {\n  opacity: 0;\n}\n.android .field__controls--flex .input-wrapper {\n  overflow: hidden;\n}\n/* input scrolling in Android */\n.bodyScroll,\n.bodyScroll body {\n  overflow: visible;\n}\n.bodyScroll body {\n  background: #fff;\n}\n.bodyScroll.loginView body {\n  min-height: 100%;\n  height: auto;\n  background: #fff;\n}\n.bodyScroll.loginView body .view__login {\n  position: static;\n  background: none;\n}\n.bodyScroll.loginView body #wrapper,\n.bodyScroll.loginView body #content {\n  -webkit-transform: none !important;\n}\n.bodyScroll #menu-left {\n  overflow: hidden;\n  position: absolute;\n}\n.bodyScroll .menu__inner {\n  background: none;\n}\n.bodyScroll #menu-left:not(.hide) + #content {\n  padding-top: 50px;\n}\n.bodyScroll .header-actions {\n  top: 50px;\n}\n.bodyScroll #nomad,\n.bodyScroll #wrapper,\n.bodyScroll #content,\n.bodyScroll #content .layout__def,\n.bodyScroll #content-child,\n.bodyScroll #content-child .layout__def,\n.bodyScroll .box__header,\n.bodyScroll .header__inner,\n.bodyScroll .box__menu,\n.bodyScroll .easy-scroller-parent,\n.bodyScroll .easy-scroller-holder,\n.bodyScroll .scroll {\n  position: static;\n}\n.bodyScroll .header__inner {\n  height: 50px;\n}\n.bodyScroll .scroll {\n  overflow: visible;\n}\n.bodyScroll #alerts {\n  position: fixed;\n}\n.bodyScroll .rotate #alerts {\n  position: absolute;\n}\n.bodyScroll #nomad {\n  -webkit-animation: triggerRepaint 0.4s 1;\n  animation: triggerRepaint 0.4s 1;\n}\n.bodyScroll .dw-modal {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.bodyScroll .actionsheet-overlay {\n  position: fixed;\n}\n.bodyScroll .mobile #wrapper {\n  box-shadow: none;\n}\n.bodyScroll #smartbanner {\n  position: relative !important;\n}\n.ellipsis .label-module-sm {\n  margin-right: 7px;\n}\n/* media query */\n@media screen and (max-width: 767px) {\n  .portrait .tablet.show-content-child #content {\n    width: 44%;\n  }\n  .portrait .tablet #content-child {\n    left: 44%;\n  }\n}\n/* Narrow Tablet Mode */\n.portrait .tablet.narrow-tablet-mode #moduleList {\n  width: 100%;\n}\n.portrait .tablet.narrow-tablet-mode #content {\n  right: 0;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .menuBtn {\n  display: block;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .offline-status {\n  display: block;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .status-success {\n  display: none;\n}\n.portrait .tablet.narrow-tablet-mode.show-content-child #content {\n  display: none;\n}\n.portrait .tablet.narrow-tablet-mode.show-content-child #content-child {\n  left: 0;\n  display: block;\n}\n/* Font Awesome */\n.btn .icondefault,\n.nav-tabs .icondefault {\n  /* keeps button heights with and without icons the same */\n  line-height: .9em;\n  vertical-align: baseline;\n}\n.icon-pipeline {\n  width: 1em;\n  height: 1em;\n  background: url("+n(374)+") 50% 50% no-repeat;\n  background-size: contain;\n}\n.rotate {\n  opacity: 0.99;\n}\n.rotate #moduleList {\n  overflow: hidden;\n}\n.desktop .taggable {\n  width: 100% !important;\n}\n/* Tags */\n.layout-detail .tag-item {\n  display: inline-block;\n  padding: 2px 13px 1px;\n  margin: 5px 4px 5px 0;\n  background-color: #fff;\n  border-radius: 11px;\n  font-size: .86rem;\n  color: #222;\n}\n/* Setup Buddy */\n.setupbuddy__wrapper {\n  min-height: 100%;\n  background-color: #fff;\n  -webkit-overflow-scrolling: auto;\n}\n.setupbuddy__wrapper .pad {\n  position: relative;\n}\n.setupbuddy__wrapper .sb__text__container {\n  padding-top: 30%;\n  padding-bottom: 200px;\n}\n.landscape .setupbuddy__wrapper .sb__text__container {\n  padding-top: 30px;\n}\n.landscape .setupbuddy__wrapper .sb__text__container .sb__icon {\n  margin-bottom: 20px;\n}\n.setupbuddy__wrapper .sb__text__container .sb__text {\n  min-width: 290px;\n  max-width: 330px;\n  padding: 0 15px;\n  margin: auto;\n  text-align: center;\n}\n.setupbuddy__wrapper .sb__text__container .sb__header {\n  font-size: 17px;\n  font-weight: bold;\n  margin: 10px 0 20px 0;\n}\n.setupbuddy__wrapper .sb__text__container .sb__icon {\n  margin-bottom: 40px;\n}\n.setupbuddy__wrapper .sb__text__container .icon-touch-id {\n  display: inline-block;\n  width: 95px;\n  height: 95px;\n  background: url("+n(375)+") no-repeat;\n  background-size: contain;\n}\n.setupbuddy__wrapper .sb__text__container .sb__description {\n  margin-top: 10px;\n}\n.setupbuddy__wrapper .sb__footer {\n  position: absolute;\n  bottom: 30px;\n  left: 15px;\n  right: 15px;\n  text-align: center;\n}\n.setupbuddy__wrapper .sb__footer .btn--large {\n  display: block;\n  margin: 20px auto 0;\n  min-width: 290px;\n  max-width: 330px;\n}\n.setupbuddy__wrapper .sb__footer.sb__footer--single {\n  position: static;\n  padding: 0 15px 50px;\n  margin: -100px auto 0;\n}\n/* Elements */\n.el__spinner {\n  width: 38px;\n}\n.el__spinner .spinner__circle {\n  width: 8px;\n  height: 8px;\n  background-color: #ccc;\n  border-radius: 100%;\n  display: inline-block;\n  animation: spinner_bounce 1.4s infinite ease-in-out;\n  animation-fill-mode: both;\n}\n.el__spinner .spinner__circle_1 {\n  animation-delay: -0.32s;\n}\n.el__spinner .spinner__circle_2 {\n  animation-delay: -0.16s;\n}\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.hide {\n  display: none !important;\n}\n.show {\n  display: block;\n}\n.view-holder-hide {\n  display: none !important;\n}\n.invisible {\n  visibility: hidden;\n}\n.tcenter {\n  text-align: center !important;\n}\n.tleft {\n  text-align: left !important;\n}\n.tright {\n  text-align: right !important;\n}\n.brake-lines {\n  white-space: pre-line !important;\n}\n.rotate1 {\n  -webkit-animation: rotation1 0.15s 1 linear;\n  -webkit-transform: rotate(180deg);\n}\n@-webkit-keyframes rotation1 {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(180deg);\n  }\n}\n.rotate2 {\n  -webkit-animation: rotation2 0.15s 1 linear;\n  -webkit-transform: rotate(0deg);\n}\n@-webkit-keyframes rotation2 {\n  from {\n    -webkit-transform: rotate(180deg);\n  }\n  to {\n    -webkit-transform: rotate(0deg);\n  }\n}\n.rotate360 {\n  -webkit-animation: spin 0.7s infinite linear;\n}\n@-webkit-keyframes spin {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(359deg);\n  }\n}\n.pull-to-refresh {\n  z-index: -1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  background: #f0f2f5;\n  height: 50%;\n  min-height: 50%;\n  padding-top: 23px;\n  text-align: center;\n}\n.pull-to-refresh .ptr__wrap-spinner {\n  position: relative;\n  width: 28px;\n  height: 28px;\n  margin: 0 auto;\n}\n.pull-to-refresh .ptr__spinner {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n@-webkit-keyframes animationScale {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n.animation--scale-once {\n  animation: animationScale 0.4s linear;\n  -webkit-animation: animationScale 0.4s linear;\n  -webkit-animation-iteration-count: 1;\n  -webkit-animation-fill-mode: forwards;\n}\nhtml {\n  direction: ltr;\n}\n.rtl {\n  direction: rtl;\n  /* header */\n  /* search */\n  /* filter Box */\n  /* list view */\n  /* detail view */\n  /* edit view */\n  /* Lead conversion */\n  /* dashlets */\n  /* alerts */\n  /* tutorial */\n  /* portrait */\n  /* landscape */\n  /* Offline Stats page */\n}\n.rtl .backBtn,\n.rtl .menuBtn,\n.rtl .offline-status,\n.rtl .dashHomeBtn {\n  float: right;\n}\n.rtl .backBtn {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .createBtn,\n.rtl .searchBtn {\n  float: left;\n}\n.rtl .label-module-sm.has-icon-inside .label-module-sm_title {\n  right: 4px;\n}\n.rtl .box__header .saveBtn,\n.rtl .box__menu .saveBtn {\n  padding-left: 0;\n}\n.rtl .box__header .right-menu .icondefault,\n.rtl .box__menu .right-menu .icondefault {\n  margin: 0 -2px 0 8px;\n}\n.rtl .box__header .menu__item .menu-item__icon,\n.rtl .box__menu .menu__item .menu-item__icon,\n.rtl .box__header .menu__item .label-module-sm,\n.rtl .box__menu .menu__item .label-module-sm,\n.rtl .box__header .menu__item .user-icon,\n.rtl .box__menu .menu__item .user-icon {\n  margin: -6px 0 -6px 7px;\n}\n.rtl .box__header.has-edit-button.has-search .header__title {\n  left: 110px;\n  right: 80px;\n}\n.rtl #menu-left .menu__inner .menu__item .menu-item__link .user-icon {\n  margin-left: 5px;\n  margin-right: 0;\n}\n.rtl .view__search-box .search-query {\n  padding: 0 44px 0 35px;\n}\n.rtl .view__search-box .view__search-box__actions {\n  left: 10px;\n  right: auto;\n}\n.rtl .view__search-box .clear-button {\n  right: auto;\n  left: 0px;\n}\n.rtl .view__search-box .box__search-icon {\n  right: 15px;\n  left: auto;\n}\n.rtl .view__search-box .icon-spinner {\n  right: 15px;\n  left: auto;\n}\n.rtl .view__search-box .favoriteable {\n  padding-left: 134px;\n}\n.rtl .view__search-box .favoriteable .search-query {\n  padding-left: 95px;\n}\n.rtl .view__search-box .favoriteable .clear-button {\n  left: 70px;\n  right: auto;\n}\n.rtl .view__search-box .hidden-my-items {\n  padding-left: 74px;\n}\n.rtl .taggable-dropdown .label-module-sm {\n  margin: 0 0 0 10px;\n}\n.rtl .box__filter .filter__item-sort {\n  margin-left: 0;\n  margin-right: -1px;\n}\n.rtl .dropdown.dropdown__filter {\n  left: auto;\n  right: 7px;\n}\n.rtl .dropdown.dropdown__sortBy {\n  left: 7px;\n  right: auto;\n}\n.rtl .filters-wrap {\n  padding-right: 15px;\n  padding-left: 5px;\n}\n.rtl .filter {\n  padding-right: 0;\n  padding-left: 20px;\n}\n.rtl .listing article {\n  padding: 8px 15px 8px 8px;\n}\n.rtl .listing article.has-grip {\n  padding-left: 32px;\n}\n.rtl .listing article.item-checkbox {\n  padding-left: 32px;\n}\n.rtl .listing article.list-item-radio {\n  padding: 11px 46px 11px 15px;\n}\n.rtl .listing article.list-item-radio .radio-icon {\n  right: 15px;\n  left: auto;\n}\n.rtl .menu-container-grip {\n  left: 0;\n  right: auto;\n  padding: 0 15px 0 0;\n}\n.rtl .menu-container {\n  left: auto;\n  right: 100%;\n}\n.rtl .menu-container.on {\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.rtl .menu-container .grip {\n  right: 0;\n  left: auto;\n  padding: 0 10px 0 2px;\n}\n.rtl .listing .list-view-item .module-name,\n.rtl .listing .parent-item .module-name,\n.rtl .listing .list-item .module-name,\n.rtl .listing .list-view-item .module-name-comma,\n.rtl .listing .parent-item .module-name-comma,\n.rtl .listing .list-item .module-name-comma {\n  float: right;\n}\n.rtl .listing article.item-checkbox .asscacct,\n.rtl .listing article.item-checkbox .checkbox-icon {\n  left: 0;\n  right: auto;\n}\n.rtl .picker-list-row .label-module-sm {\n  margin: -2px 0 0 9px;\n}\n.rtl .view__detail .avatar,\n.rtl .view__detail .label-module-sm {\n  left: auto;\n  right: 17px;\n}\n.rtl .view__detail .input_upload {\n  left: auto;\n  right: 0;\n}\n.rtl .view__detail .box_detail__title {\n  left: 30px;\n  right: 90px;\n}\n.rtl .view__detail .favorite-icon {\n  left: 0;\n  right: auto;\n}\n.rtl .field-detail {\n  padding: 10px 120px 11px 10px;\n}\n.rtl .field-detail .field-detail__label {\n  float: right;\n  margin-left: auto;\n  margin-right: -109px;\n}\n.rtl .box__related-actions .related-action__item {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .box__related-actions .related-action__item .related-action-item__link {\n  padding-left: 44px;\n  padding-right: 0;\n}\n.rtl .box__related-actions .related-action__item .label-module-sm {\n  margin-right: 0;\n  margin-left: 9px;\n}\n.rtl .box__related-actions .related-action__item .records-count {\n  display: inline-block;\n}\n.rtl .box__related-actions .related-action__item .related-action-item__add {\n  left: 0;\n  right: auto;\n}\n.rtl .box__related-actions .related-action__item .more {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n  left: 10px;\n  right: auto;\n}\n.rtl .btn-group .btn {\n  float: right;\n  border-radius: 0;\n}\n.rtl .btn-group .btn:last-child {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .field .field__controls .checkbox_custom + .checkbox-icon {\n  margin: 4px -65% 0 0;\n}\n.rtl .field input:not([type=checkbox]),\n.rtl .field textarea,\n.rtl .field select {\n  padding-right: 0;\n  text-align: right;\n}\n.rtl .field select {\n  margin-right: 0;\n  margin-left: -20px;\n  padding-right: 0;\n  padding-left: 20px;\n}\n.rtl .field .horizontal-fieldset .field .field__controls {\n  float: none;\n  margin: 0;\n}\n.rtl .field--datetime .date {\n  float: right;\n  margin-right: 0;\n  margin-left: 10px;\n  border-right: none;\n}\n.rtl .field--datetime .date input {\n  padding-left: 0;\n}\n.rtl .field--datetime .time {\n  float: right;\n  border-width: 0 1px 0 0;\n}\n.rtl .field--datetime .time input {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .field--datetime .field__controls.field__controls--has-btns {\n  padding-left: 1.5rem;\n  padding-right: 0;\n}\n.rtl .field--datetime .btn-group {\n  right: auto;\n  left: 0;\n}\n.rtl .field--file .picture-wrap {\n  float: right;\n}\n.rtl .field--file .picture-wrap .picture-icon + .placeholder {\n  margin-left: 0;\n  margin-right: 35px;\n}\n.rtl .field--radio .field__controls .btn {\n  left: 0;\n}\n.rtl .field--currency .field__controls .selector {\n  margin-left: 10px;\n  margin-right: 0;\n  border-width: 0 0 0 1px;\n}\n.rtl .field--currency .field__controls .selector select {\n  padding: 0 15px 0 0;\n  margin-left: 0;\n}\n.rtl .box__link-duplicates {\n  padding: 12px 15px 12px 40px;\n}\n.rtl .box__link-duplicates .icondefault {\n  right: auto;\n  left: 0;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .dashboard,\n.rtl .pagination__bar {\n  direction: ltr;\n}\n.rtl .dashlets__list,\n.rtl .dashlet__b {\n  direction: rtl;\n}\n.rtl .as__detail {\n  padding: 8px 50px 8px 28px;\n}\n.rtl .as__detail .as__icon .icondefault {\n  margin-right: 0;\n}\n.rtl .as__detail .label-module-sm,\n.rtl .as__detail .as__icon {\n  float: right;\n  margin: 4px -36px 0 0;\n}\n.rtl .comments-container {\n  margin-left: 0;\n  margin-right: 46px;\n}\n.rtl .comment__item {\n  padding: 6px 38px 6px 10px;\n}\n.rtl .comment__item .user-icon {\n  float: right;\n  margin: 4px -38px 0 0;\n}\n.rtl .tb__detail {\n  padding-left: 0;\n  padding-right: 35px;\n}\n.rtl .tb__detail .tb__icon {\n  float: right;\n  margin-left: 0;\n  margin-right: -35px;\n}\n.rtl .chart {\n  direction: ltr;\n}\n.rtl .learning-resources .resource-list .resource .resource-info {\n  margin-right: 44px;\n  margin-left: 0;\n}\n.rtl .alert.closeable {\n  padding-left: 38px;\n  padding-right: 15px;\n}\n.rtl .alert .icondefault {\n  right: auto;\n  left: 15px;\n}\n.rtl .alert .icon-spinner {\n  right: 15px;\n  left: auto;\n}\n.rtl .alert .icon-spinner + .message {\n  padding: 0 24px 0 0;\n}\n.rtl #tutorial {\n  direction: ltr;\n}\n.rtl .view__login .icon-spinner {\n  margin-right: 0;\n  margin-left: 2px;\n}\n.rtl .page__offline .offline-list__item .more {\n  left: 10px;\n  right: auto;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .page__offline .offline__start-stop-btn {\n  float: left;\n  margin-left: 0;\n  margin-right: 8px;\n}\n.rtl .page__offline .offline__control-group .offline__checkbox-data {\n  float: left;\n}\n.rtl .page__offline .offline__control-group .offline__checkbox-data .checkbox-icon {\n  margin-left: 0;\n}\n.rtl .mobile .right-menu {\n  left: 0;\n  right: 14%;\n}\n.rtl .tablet .right-menu {\n  left: 0;\n  right: auto;\n}\n.rtl .tablet .right-menu__corner {\n  left: 10px;\n  right: auto;\n}\n.rtl .tablet #wrapper {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.rtl .tablet #content .overlay__right-menu {\n  left: 0px;\n  right: -56px;\n}\n.rtl.portrait .tablet.narrow-tablet-mode.show-content-child #content-child {\n  right: 0;\n}\n.rtl.portrait .tablet #moduleList {\n  -webkit-transform: translate(100%, 0, 0);\n  transform: translate(100%, 0, 0);\n}\n.rtl.portrait .tablet #content-child {\n  left: 0;\n  right: 340px;\n}\n.rtl.portrait .tablet #content-child .backBtn {\n  left: 0;\n  right: 0;\n}\n.rtl.landscape .tablet #content-child {\n  left: 0;\n  right: 340px;\n}\n.rtl select + .icondefault {\n  float: left;\n  text-align: left;\n}\n.rtl .table th,\n.rtl .table td {\n  text-align: right;\n}\n.rtl .pull-right {\n  float: left;\n}\n.rtl .pull-left {\n  float: right;\n}\n.rtl .input-wrapper .clear-button {\n  padding: 0 20px 0 15px;\n  margin-right: 0;\n  margin-left: -15px;\n}\n.rtl .checkbox-icon {\n  text-align: right;\n}\n.rtl .page__offline .td-count {\n  text-align: left;\n}\n.rtl .page__offline .td-count .lbl-count {\n  float: left;\n}\n.rtl .page__offline .td-count .icons {\n  padding-left: 7px;\n  margin-right: 3px;\n}\n@media screen and (max-width: 767px) {\n  .rtl.portrait .tablet #content-child {\n    right: 44%;\n    left: 0;\n  }\n}\n.brand {\n  width: 224px;\n  height: 60px;\n}\n.view__login .control-ssl {\n  opacity: 1;\n}\n.view__login .control-ssl .icondefault {\n  color: #0679c8;\n}\n.view__login .login__links .separator {\n  opacity: 1;\n  background: #91969f;\n}\n.view__login .login__links .login-links__link {\n  color: #0679c8;\n}\n.view__login .login__links .login-links__link.selected-item {\n  color: #005088;\n}\n#overlay.spinner {\n  color: #9aa5ad;\n}\n#overlay.spinner .icon-spinner-path {\n  fill: #9aa5ad;\n}\n.radio-icon {\n  display: inline-block;\n}\n.radio-icon.icon-circle-thin {\n  width: 14px;\n  height: 14px;\n  border: solid 1px #979797;\n  border-radius: 9px;\n}\n.radio-icon.icon-circle-o {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border: solid 4px #0679c8;\n  border-radius: 9px;\n}\n.radio-icon::before {\n  display: none;\n}\n",""]);

},function(e,t){var n=function(){var e,t,n,i,r=[],a=r.slice,s=r.filter,o=window.document,l={},u={},c={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},d=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,p=/^(?:body|html)$/i,m=/([A-Z])/g,_=["val","css","html","text","data","width","height","offset"],g=["after","prepend","before","append"],v=o.createElement("table"),b=o.createElement("tr"),y={tr:o.createElement("tbody"),tbody:v,thead:v,tfoot:v,td:b,th:b,"*":o.createElement("div")},x=/complete|loaded|interactive/,S=/^[\w-]*$/,w={},L=w.toString,E={},k,A,M=o.createElement("div"),T={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C=Array.isArray||function(e){return e instanceof Array};E.matches=function(e,t){if(!t||!e||e.nodeType!==1)return false;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,a=!r;if(a)(r=M).appendChild(e);i=~E.qsa(r,t).indexOf(e);a&&M.removeChild(e);return i};function R(e){return e==null?String(e):w[L.call(e)]||"object"}function D(e){return R(e)=="function"}function I(e){return e!=null&&e==e.window}function O(e){return e!=null&&e.nodeType==e.DOCUMENT_NODE}function N(e){return R(e)=="object"}function F(e){return N(e)&&!I(e)&&Object.getPrototypeOf(e)==Object.prototype}function B(e){return typeof e.length=="number"}function U(e){return s.call(e,function(e){return e!=null})}function P(e){return e.length>0?n.fn.concat.apply([],e):e}k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})};function Y(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}A=function(e){return s.call(e,function(t,n){return e.indexOf(t)==n})};function H(e){return e in u?u[e]:u[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function G(e,t){return typeof t=="number"&&!c[Y(e)]?t+"px":t}function V(e){var t,n;if(!l[e]){t=o.createElement(e);o.body.appendChild(t);n=getComputedStyle(t,"").getPropertyValue("display");t.parentNode.removeChild(t);n=="none"&&(n="block");l[e]=n}return l[e]}function j(e){return"children"in e?a.call(e.children):n.map(e.childNodes,function(e){if(e.nodeType==1)return e})}E.fragment=function(t,i,r){var s,l,u;if(f.test(t))s=n(o.createElement(RegExp.$1));if(!s){if(t.replace)t=t.replace(h,"<$1></$2>");if(i===e)i=d.test(t)&&RegExp.$1;if(!(i in y))i="*";u=y[i];u.innerHTML=""+t;s=n.each(a.call(u.childNodes),function(){u.removeChild(this)})}if(F(r)){l=n(s);n.each(r,function(e,t){if(_.indexOf(e)>-1)l[e](t);else l.attr(e,t)})}return s};E.Z=function(e,t){e=e||[];e.__proto__=n.fn;e.selector=t||"";return e};E.isZ=function(e){return e instanceof E.Z};E.init=function(t,i){var r;if(!t)return E.Z();else if(typeof t=="string"){t=t.trim();if(t[0]=="<"&&d.test(t))r=E.fragment(t,RegExp.$1,i),t=null;else if(i!==e)return n(i).find(t);else r=E.qsa(o,t)}else if(D(t))return n(o).ready(t);else if(E.isZ(t))return t;else{if(C(t))r=U(t);else if(N(t))r=[t],t=null;else if(d.test(t))r=E.fragment(t.trim(),RegExp.$1,i),t=null;else if(i!==e)return n(i).find(t);else r=E.qsa(o,t)}return E.Z(r,t)};n=function(e,t){return E.init(e,t)};function z(n,i,r){for(t in i)if(r&&(F(i[t])||C(i[t]))){if(F(i[t])&&!F(n[t]))n[t]={};if(C(i[t])&&!C(n[t]))n[t]=[];z(n[t],i[t],r)}else if(i[t]!==e)n[t]=i[t]}n.extend=function(e){var t,n=a.call(arguments,1);if(typeof e=="boolean"){t=e;e=n.shift()}n.forEach(function(n){z(e,n,t)});return e};E.qsa=function(e,t){var n,i=t[0]=="#",r=!i&&t[0]==".",s=i||r?t.slice(1):t,o=S.test(s);return O(e)&&o&&i?(n=e.getElementById(s))?[n]:[]:e.nodeType!==1&&e.nodeType!==9?[]:a.call(o&&!i?r?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))};function $(e,t){return t==null?n(e):n(e).filter(t)}n.contains=o.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t&&(t=t.parentNode))if(t===e)return true;return false};function q(e,t,n,i){return D(t)?t.call(e,n,i):t}function W(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function K(t,n){var i=t.className||"",r=i&&i.baseVal!==e;if(n===e)return r?i.baseVal:i;r?i.baseVal=n:t.className=n}function J(e){try{return e?e=="true"||(e=="false"?false:e=="null"?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}n.type=R;n.isFunction=D;n.isWindow=I;n.isArray=C;n.isPlainObject=F;n.isEmptyObject=function(e){var t;for(t in e)return false;return true};n.inArray=function(e,t,n){return r.indexOf.call(t,e,n)};n.camelCase=k;n.trim=function(e){return e==null?"":String.prototype.trim.call(e)};n.uuid=0;n.support={};n.expr={};n.map=function(e,t){var n,i=[],r,a;if(B(e))for(r=0;r<e.length;r++){n=t(e[r],r);if(n!=null)i.push(n)}else for(a in e){n=t(e[a],a);if(n!=null)i.push(n)}return P(i)};n.each=function(e,t){var n,i;if(B(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===false)return e}else{for(i in e)if(t.call(e[i],i,e[i])===false)return e}return e};n.grep=function(e,t){return s.call(e,t)};if(window.JSON)n.parseJSON=JSON.parse;n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){w["[object "+t+"]"]=t.toLowerCase()});n.fn={forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,indexOf:r.indexOf,concat:r.concat,map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(a.apply(this,arguments))},ready:function(e){if(x.test(o.readyState)&&o.body)e(n);else o.addEventListener("DOMContentLoaded",function(){e(n)},false);return this},get:function(t){return t===e?a.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null)this.parentNode.removeChild(this)})},each:function(e){r.every.call(this,function(t,n){return e.call(t,n,t)!==false});return this},filter:function(e){if(D(e))return this.not(this.not(e));return n(s.call(this,function(t){return E.matches(t,e)}))},add:function(e,t){return n(A(this.concat(n(e,t))))},is:function(e){return this.length>0&&E.matches(this[0],e)},not:function(t){var i=[];if(D(t)&&t.call!==e)this.each(function(e){if(!t.call(this,e))i.push(this)});else{var r=typeof t=="string"?this.filter(t):B(t)&&D(t.item)?a.call(t):n(t);this.forEach(function(e){if(r.indexOf(e)<0)i.push(e)})}return n(i)},has:function(e){return this.filter(function(){return N(e)?n.contains(this,e):n(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!N(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!N(e)?e:n(e)},find:function(e){var t,i=this;if(!e)t=n();else if(typeof e=="object")t=n(e).filter(function(){var e=this;return r.some.call(i,function(t){return n.contains(t,e)})});else if(this.length==1)t=n(E.qsa(this[0],e));else t=this.map(function(){return E.qsa(this,e)});return t},closest:function(e,t){var i=this[0],r=false;if(typeof e=="object")r=n(e);while(i&&!(r?r.indexOf(i)>=0:E.matches(i,e)))i=i!==t&&!O(i)&&i.parentNode;return n(i)},parents:function(e){var t=[],i=this;while(i.length>0)i=n.map(i,function(e){if((e=e.parentNode)&&!O(e)&&t.indexOf(e)<0){t.push(e);return e}});return $(t,e)},parent:function(e){return $(A(this.pluck("parentNode")),e)},children:function(e){return $(this.map(function(){return j(this)}),e)},contents:function(){return this.map(function(){return a.call(this.childNodes)})},siblings:function(e){return $(this.map(function(e,t){return s.call(j(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none")this.style.display=V(this.nodeName)})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=D(e);if(this[0]&&!t)var i=n(e).get(0),r=i.parentNode||this.length>1;return this.each(function(a){n(this).wrapAll(t?e.call(this,a):r?i.cloneNode(true):i)})},wrapAll:function(e){if(this[0]){n(this[0]).before(e=n(e));var t;while((t=e.children()).length)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=D(e);return this.each(function(i){var r=n(this),a=r.contents(),s=t?e.call(this,i):e;a.length?a.wrapAll(s):r.append(s)})},unwrap:function(){this.parent().each(function(){n(this).replaceWith(n(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var i=n(this);(t===e?i.css("display")=="none":t)?i.show():i.hide()})},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var i=this.innerHTML;n(this).empty().append(q(this,e,t,i))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=q(this,e,t,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this[0].textContent:null},attr:function(n,i){var r;return typeof n=="string"&&!(1 in arguments)?!this.length||this[0].nodeType!==1?e:!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:this.each(function(e){if(this.nodeType!==1)return;if(N(n))for(t in n)W(this,t,n[t]);else W(this,n,q(this,i,e,this.getAttribute(n)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&e.split(" ").forEach(function(e){W(this,e)},this)})},prop:function(e,t){e=T[e]||e;return 1 in arguments?this.each(function(n){this[e]=q(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(t,n){var i="data-"+t.replace(m,"-$1").toLowerCase();var r=1 in arguments?this.attr(i,n):this.attr(i);return r!==null?J(r):e},val:function(e){return 0 in arguments?this.each(function(t){this.value=q(this,e,t,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var i=n(this),r=q(this,e,t,i.offset()),a=i.offsetParent().offset(),s={top:r.top-a.top,left:r.left-a.left};if(i.css("position")=="static")s["position"]="relative";i.css(s)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,i){if(arguments.length<2){var r,a=this[0];if(!a)return;r=getComputedStyle(a,"");if(typeof e=="string")return a.style[k(e)]||r.getPropertyValue(e);else if(C(e)){var s={};n.each(e,function(e,t){s[t]=a.style[k(t)]||r.getPropertyValue(t)});return s}}var o="";if(R(e)=="string"){if(!i&&i!==0)this.each(function(){this.style.removeProperty(Y(e))});else o=Y(e)+":"+G(e,i)}else{for(t in e)if(!e[t]&&e[t]!==0)this.each(function(){this.style.removeProperty(Y(t))});else o+=Y(t)+":"+G(t,e[t])+";"}return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){if(!e)return false;return r.some.call(this,function(e){return this.test(K(e))},H(e))},addClass:function(e){if(!e)return this;return this.each(function(t){if(!("className"in this))return;i=[];var r=K(this),a=q(this,e,t,r);a.split(/\s+/g).forEach(function(e){if(!n(this).hasClass(e))i.push(e)},this);i.length&&K(this,r+(r?" ":"")+i.join(" "))})},removeClass:function(t){return this.each(function(n){if(!("className"in this))return;if(t===e)return K(this,"");i=K(this);q(this,t,n,i).split(/\s+/g).forEach(function(e){i=i.replace(H(e)," ")});K(this,i.trim())})},toggleClass:function(t,i){if(!t)return this;return this.each(function(r){var a=n(this),s=q(this,t,r,K(this));s.split(/\s+/g).forEach(function(t){(i===e?!a.hasClass(t):i)?a.addClass(t):a.removeClass(t)})})},scrollTop:function(t){if(!this.length)return;var n="scrollTop"in this[0];if(t===e)return n?this[0].scrollTop:this[0].pageYOffset;return this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})},scrollLeft:function(t){if(!this.length)return;var n="scrollLeft"in this[0];if(t===e)return n?this[0].scrollLeft:this[0].pageXOffset;return this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})},position:function(){if(!this.length)return;var e=this[0],t=this.offsetParent(),i=this.offset(),r=p.test(t[0].nodeName)?{top:0,left:0}:t.offset();i.top-=parseFloat(n(e).css("margin-top"))||0;i.left-=parseFloat(n(e).css("margin-left"))||0;r.top+=parseFloat(n(t[0]).css("border-top-width"))||0;r.left+=parseFloat(n(t[0]).css("border-left-width"))||0;return{top:i.top-r.top,left:i.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.body;while(e&&!p.test(e.nodeName)&&n(e).css("position")=="static")e=e.offsetParent;return e})}};n.fn.detach=n.fn.remove;["width","height"].forEach(function(t){var i=t.replace(/./,function(e){return e[0].toUpperCase()});n.fn[t]=function(r){var a,s=this[0];if(r===e)return I(s)?s["inner"+i]:O(s)?s.documentElement["scroll"+i]:(a=this.offset())&&a[t];else return this.each(function(e){s=n(this);s.css(t,q(this,r,e,s[t]()))})}});function X(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)X(e.childNodes[n],t)}g.forEach(function(e,t){var i=t%2;n.fn[e]=function(){var e,r=n.map(arguments,function(t){e=R(t);return e=="object"||e=="array"||t==null?t:E.fragment(t)}),a,s=this.length>1;if(r.length<1)return this;return this.each(function(e,l){a=i?l:l.parentNode;l=t==0?l.nextSibling:t==1?l.firstChild:t==2?l:null;var u=n.contains(o.documentElement,a);r.forEach(function(e){if(s)e=e.cloneNode(true);else if(!a)return n(e).remove();a.insertBefore(e,l);if(u)X(e,function(e){if(e.nodeName!=null&&e.nodeName.toUpperCase()==="SCRIPT"&&(!e.type||e.type==="text/javascript")&&!e.src)window["eval"].call(window,e.innerHTML)})})})};n.fn[i?e+"To":"insert"+(t?"Before":"After")]=function(t){n(t)[e](this);return this}});E.Z.prototype=n.fn;E.uniq=A;E.deserializeValue=J;n.zepto=E;return n}();window.Zepto=n;window.$===undefined&&(window.$=n);e.exports=$},function(e,t){var n=function(e,t,i){this.content=e;this.container=t;this.options=i||{};var r=this;this.scroller=new Scroller(function(e,t,n){r.render(e,t,n)},i);this.bindEvents();this.content.style[n.vendorPrefix+"TransformOrigin"]="left top";this.reflow()};n.prototype.render=function(){var e=document.documentElement.style;var t;if(window.opera&&Object.prototype.toString.call(opera)==="[object Opera]"){t="presto"}else if("MozAppearance"in e){t="gecko"}else if("WebkitAppearance"in e){t="webkit"}else if(typeof navigator.cpuClass==="string"){t="trident"}var i=n.vendorPrefix={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[t];var r=document.createElement("div");var a;var s=i+"Perspective";var o=i+"Transform";if(r.style[s]!==a){return function(e,t,n){if(this.content){this.content.style[o]="translate3d("+-e+"px,"+-t+"px,0) scale("+n+")"}}}else if(r.style[o]!==a){return function(e,t,n){if(this.content){this.content.style[o]="translate("+-e+"px,"+-t+"px) scale("+n+")"}}}else{return function(e,t,n){this.content.style.marginLeft=e?-e/n+"px":"";this.content.style.marginTop=t?-t/n+"px":"";this.content.style.zoom=n||""}}}();n.prototype.reflow=function(){if(!this.container){return}this.scroller.setDimensions(this.container.clientWidth,this.container.clientHeight,this.content.offsetWidth,this.content.offsetHeight);var e=this.container.getBoundingClientRect();this.scroller.setPosition(e.left+this.container.clientLeft,e.top+this.container.clientTop)};n.prototype.destroy=function(){$(window).off("resize.zynga");if("ontouchstart"in window){$(this.container).off("touchstart.zynga");$(this.container).off("touchmove.zynga");$(this.container).off("touchend.zynga");$(this.container).off("touchcancel.zynga")}else{$(this.container).off("mousedown.zynga");$(this.container).off("mousemove.zynga");$(this.container).off("mouseup.zynga");$(this.container).off("mousewheel.zynga")}this.content=null;this.container=null};n.prototype.bindEvents=function(){var e=this;if("ontouchstart"in window){$(this.container).on("touchstart.zynga",function(t){if(t.touches[0]&&t.touches[0].target&&t.touches[0].target.tagName&&t.touches[0].target.tagName.match(/input|textarea|select/i)){return}e.scroller.doTouchStart(t.touches,t.timeStamp)},false);$(this.container).on("touchmove.zynga",function(t){t.preventDefault();if($.__swipeHelper.swipeOrientation==="vertical"){e.scroller.doTouchMove(t.touches,t.timeStamp,t.scale)}if($.os.ios&&SUGAR.App.isNative&&t.changedTouches[0].pageY<0){e.scroller.doTouchEnd(t.timeStamp)}},false);$(this.container).on("touchend.zynga",function(t){e.scroller.doTouchEnd(t.timeStamp)},false);$(this.container).on("touchcancel.zynga",function(t){e.scroller.doTouchEnd(t.timeStamp)},false)}else{var t=false;$(this.container).on("mousedown.zynga",function(n){if(n.target.tagName.match(/input|textarea|select/i)){return}e.scroller.doTouchStart([{pageX:n.pageX,pageY:n.pageY}],n.timeStamp);t=true;n.preventDefault()},false);$(this.container).on("mousemove.zynga",function(n){if(!t){return}e.scroller.doTouchMove([{pageX:n.pageX,pageY:n.pageY}],n.timeStamp);t=true},false);$(this.container).on("mouseup.zynga",function(n){if(!t){return}e.scroller.doTouchEnd(n.timeStamp);t=false},false);$(this.container).on("mousewheel.zynga",function(t){if(e.options.zooming){e.scroller.doMouseZoom(t.wheelDelta,t.timeStamp,t.pageX,t.pageY);t.preventDefault()}},false)}};document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-scrollable],[data-zoomable]"),t;for(var i=0;i<e.length;i++){t=e[i];var r=t.dataset.scrollable;var a=t.dataset.zoomable||"";var s=a.split("-");var o=s.length>1&&parseFloat(s[0]);var l=s.length>1&&parseFloat(s[1]);new n(t,{scrollingX:r==="true"||r==="x",scrollingY:r==="true"||r==="y",zooming:a==="true"||s.length>1,minZoom:o,maxZoom:l})}},false);e.exports=n},function(e,t){function n(e){var t=this;var n=Math.round;var i=Math.floor;var r=new Array(64);var a=new Array(64);var s=new Array(64);var o=new Array(64);var l;var u;var c;var d;var f=new Array(65535);var h=new Array(65535);var p=new Array(64);var m=new Array(64);var _=[];var g=0;var v=7;var b=new Array(64);var y=new Array(64);var x=new Array(64);var S=new Array(256);var w=new Array(2048);var L;var E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63];var k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];var A=[0,1,2,3,4,5,6,7,8,9,10,11];var M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125];var T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250];var C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];var R=[0,1,2,3,4,5,6,7,8,9,10,11];var D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119];var I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e){var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99];for(var n=0;n<64;n++){var l=i((t[n]*e+50)/100);if(l<1){l=1}else if(l>255){l=255}r[E[n]]=l}var u=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(var c=0;c<64;c++){var d=i((u[c]*e+50)/100);if(d<1){d=1}else if(d>255){d=255}a[E[c]]=d}var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379];var h=0;for(var p=0;p<8;p++){for(var m=0;m<8;m++){s[h]=1/(r[E[h]]*f[p]*f[m]*8);o[h]=1/(a[E[h]]*f[p]*f[m]*8);h++}}}function N(e,t){var n=0;var i=0;var r=new Array;for(var a=1;a<=16;a++){for(var s=1;s<=e[a];s++){r[t[i]]=[];r[t[i]][0]=n;r[t[i]][1]=a;i++;n++}n*=2}return r}function F(){l=N(k,A);u=N(C,R);c=N(M,T);d=N(D,I)}function B(){var e=1;var t=2;for(var n=1;n<=15;n++){for(var i=e;i<t;i++){h[32767+i]=n;f[32767+i]=[];f[32767+i][1]=n;f[32767+i][0]=i}for(var r=-(t-1);r<=-e;r++){h[32767+r]=n;f[32767+r]=[];f[32767+r][1]=n;f[32767+r][0]=t-1+r}e<<=1;t<<=1}}function U(){for(var e=0;e<256;e++){w[e]=19595*e;w[e+256>>0]=38470*e;w[e+512>>0]=7471*e+32768;w[e+768>>0]=-11059*e;w[e+1024>>0]=-21709*e;w[e+1280>>0]=32768*e+8421375;w[e+1536>>0]=-27439*e;w[e+1792>>0]=-5329*e}}function P(e){var t=e[0];var n=e[1]-1;while(n>=0){if(t&1<<n){g|=1<<v}n--;v--;if(v<0){if(g==255){Y(255);Y(0)}else{Y(g)}v=7;g=0}}}function Y(e){_.push(S[e])}function H(e){Y(e>>8&255);Y(e&255)}function G(e,t){var n,i,r,a,s,o,l,u;var c=0;var d;const f=8;const h=64;for(d=0;d<f;++d){n=e[c];i=e[c+1];r=e[c+2];a=e[c+3];s=e[c+4];o=e[c+5];l=e[c+6];u=e[c+7];var m=n+u;var _=n-u;var g=i+l;var v=i-l;var b=r+o;var y=r-o;var x=a+s;var S=a-s;var w=m+x;var L=m-x;var E=g+b;var k=g-b;e[c]=w+E;e[c+4]=w-E;var A=(k+L)*.707106781;e[c+2]=L+A;e[c+6]=L-A;w=S+y;E=y+v;k=v+_;var M=(w-k)*.382683433;var T=.5411961*w+M;var C=1.306562965*k+M;var R=E*.707106781;var D=_+R;var I=_-R;e[c+5]=I+T;e[c+3]=I-T;e[c+1]=D+C;e[c+7]=D-C;c+=8}c=0;for(d=0;d<f;++d){n=e[c];i=e[c+8];r=e[c+16];a=e[c+24];s=e[c+32];o=e[c+40];l=e[c+48];u=e[c+56];var O=n+u;var N=n-u;var F=i+l;var B=i-l;var U=r+o;var P=r-o;var Y=a+s;var H=a-s;var G=O+Y;var V=O-Y;var j=F+U;var z=F-U;e[c]=G+j;e[c+32]=G-j;var $=(z+V)*.707106781;e[c+16]=V+$;e[c+48]=V-$;G=H+P;j=P+B;z=B+N;var q=(G-z)*.382683433;var W=.5411961*G+q;var K=1.306562965*z+q;var J=j*.707106781;var X=N+J;var Z=N-J;e[c+40]=Z+W;e[c+24]=Z-W;e[c+8]=X+K;e[c+56]=X-K;c++}var Q;for(d=0;d<h;++d){Q=e[d]*t[d];p[d]=Q>0?Q+.5|0:Q-.5|0}return p}function V(){H(65504);H(16);Y(74);Y(70);Y(73);Y(70);Y(0);Y(1);Y(1);Y(0);H(1);H(1);Y(0);Y(0)}function j(e,t){H(65472);H(17);Y(8);H(t);H(e);Y(3);Y(1);Y(17);Y(0);Y(2);Y(17);Y(1);Y(3);Y(17);Y(1)}function z(){H(65499);H(132);Y(0);for(var e=0;e<64;e++){Y(r[e])}Y(1);for(var t=0;t<64;t++){Y(a[t])}}function $(){H(65476);H(418);Y(0);for(var e=0;e<16;e++){Y(k[e+1])}for(var t=0;t<=11;t++){Y(A[t])}Y(16);for(var n=0;n<16;n++){Y(M[n+1])}for(var i=0;i<=161;i++){Y(T[i])}Y(1);for(var r=0;r<16;r++){Y(C[r+1])}for(var a=0;a<=11;a++){Y(R[a])}Y(17);for(var s=0;s<16;s++){Y(D[s+1])}for(var o=0;o<=161;o++){Y(I[o])}}function q(){H(65498);H(12);Y(3);Y(1);Y(0);Y(2);Y(17);Y(3);Y(17);Y(0);Y(63);Y(0)}function W(e,t,n,i,r){var a=r[0];var s=r[240];var o;const l=16;const u=63;const c=64;var d=G(e,t);for(var p=0;p<c;++p){m[E[p]]=d[p]}var _=m[0]-n;n=m[0];if(_==0){P(i[0])}else{o=32767+_;P(i[h[o]]);P(f[o])}var g=63;for(;g>0&&m[g]==0;g--){}if(g==0){P(a);return n}var v=1;var b;while(v<=g){var y=v;for(;m[v]==0&&v<=g;++v){}var x=v-y;if(x>=l){b=x>>4;for(var S=1;S<=b;++S)P(s);x=x&15}o=32767+m[v];P(r[(x<<4)+h[o]]);P(f[o]);v++}if(g!=u){P(a)}return n}function K(){var e=String.fromCharCode;for(var t=0;t<256;t++){S[t]=e(t)}}this.encode=function(e,t){var n=(new Date).getTime();if(t)J(t);_=new Array;g=0;v=7;H(65496);V();z();j(e.width,e.height);$();q();var i=0;var r=0;var a=0;g=0;v=7;this.encode.displayName="_encode_";var f=e.data;var h=e.width;var p=e.height;var m=h*4;var S=h*3;var L,E=0;var k,A,M;var T,C,R,D,I;while(E<p){L=0;while(L<m){T=m*E+L;C=T;R=-1;D=0;for(I=0;I<64;I++){D=I>>3;R=(I&7)*4;C=T+D*m+R;if(E+D>=p){C-=m*(E+1+D-p)}if(L+R>=m){C-=L+R-m+4}k=f[C++];A=f[C++];M=f[C++];b[I]=(w[k]+w[A+256>>0]+w[M+512>>0]>>16)-128;y[I]=(w[k+768>>0]+w[A+1024>>0]+w[M+1280>>0]>>16)-128;x[I]=(w[k+1280>>0]+w[A+1536>>0]+w[M+1792>>0]>>16)-128}i=W(b,s,i,l,c);r=W(y,o,r,u,d);a=W(x,o,a,u,d);L+=32}E+=8}if(v>=0){var O=[];O[1]=v+1;O[0]=(1<<v+1)-1;P(O)}H(65497);var N="data:image/jpeg;base64,"+btoa(_.join(""));_=[];var F=(new Date).getTime()-n;return N};function J(e){if(e<=0){e=1}if(e>100){e=100}if(L==e)return;var t=0;if(e<50){t=Math.floor(5e3/e)}else{t=Math.floor(200-e*2)}O(t);L=e}function X(){var t=(new Date).getTime();if(!e)e=50;K();F();B();U();J(e);var n=(new Date).getTime()-t}X()}function i(e){var t=typeof e=="string"?document.getElementById(e):e;var n=document.createElement("canvas");n.width=t.width;n.height=t.height;var i=n.getContext("2d");i.drawImage(t,0,0);return i.getImageData(0,0,n.width,n.height)}e.exports=n},function(e,t){(function(){if(this.JpegMeta){throw Error("Library included multiple times")}var e={};e.parseNum=function t(e,n,i,r){var a;var s;var o=e===">";if(i===undefined)i=0;if(r===undefined)r=n.length-i;for(o?a=i:a=i+r-1;o?a<i+r:a>=i;o?a++:a--){s<<=8;s+=n.charCodeAt(a)}return s};e.parseSnum=function n(e,t,i,r){var a;var s;var o;var l=e===">";if(i===undefined)i=0;if(r===undefined)r=t.length-i;for(l?a=i:a=i+r-1;l?a<i+r:a>=i;l?a++:a--){if(o===undefined){o=(t.charCodeAt(a)&128)===128}s<<=8;s+=o?~t.charCodeAt(a)&255:t.charCodeAt(a)}if(o){s+=1;s*=-1}return s};e.Rational=function i(e,t){this.num=e;this.den=t||1;return this};e.Rational.prototype.toString=function r(){if(this.num===0){return""+this.num}if(this.den===1){return""+this.num}if(this.num===1){return this.num+" / "+this.den}return this.num/this.den};e.Rational.prototype.asFloat=function a(){return this.num/this.den};e.MetaGroup=function s(e,t){this.fieldName=e;this.description=t;this.metaProps={};return this};e.MetaGroup.prototype._addProperty=function o(t,n,i){var r=new e.MetaProp(t,n,i);this[r.fieldName]=r;this.metaProps[r.fieldName]=r};e.MetaGroup.prototype.toString=function l(){return"[MetaGroup "+this.description+"]"};e.MetaProp=function u(e,t,n){this.fieldName=e;this.description=t;this.value=n;return this};e.MetaProp.prototype.toString=function c(){return""+this.value};this.JpegMeta=e;this.JpegMeta.JpegFile=function d(t,n){var i=this._SOS;this.metaGroups={};this._binary_data=t;this.filename=n;var r=0;var a=0;var s;var o;var l;var u;var c;var d;var f;if(this._binary_data.slice(0,2)!==this._SOI_MARKER){throw new Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".")}r+=2;while(r<this._binary_data.length){s=this._binary_data.charCodeAt(r++);o=this._binary_data.charCodeAt(r++);a=r;if(s!=this._DELIM){break}if(o===i){break}c=e.parseNum(">",this._binary_data,r,2);r+=c;while(r<this._binary_data.length){s=this._binary_data.charCodeAt(r++);if(s==this._DELIM){l=this._binary_data.charCodeAt(r++);if(l!=0){r-=2;break}}}u=r-a;if(this._markers[o]){d=this._markers[o][0];f=this._markers[o][1]}else{d="UNKN";f=undefined}if(f){this[f](o,a+2)}}if(this.general===undefined){throw Error("Invalid JPEG file.")}return this};this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"};this.JpegMeta.JpegFile.prototype._SOI_MARKER="ÿØ";this.JpegMeta.JpegFile.prototype._DELIM=255;this.JpegMeta.JpegFile.prototype._EOI=217;this.JpegMeta.JpegFile.prototype._SOS=218;this.JpegMeta.JpegFile.prototype._sofHandler=function f(t,n){if(this.general!==undefined){throw Error("Unexpected multiple-frame image")}this._addMetaGroup("general","General");this.general._addProperty("depth","Depth",e.parseNum(">",this._binary_data,n,1));this.general._addProperty("pixelHeight","Pixel Height",e.parseNum(">",this._binary_data,n+1,2));this.general._addProperty("pixelWidth","Pixel Width",e.parseNum(">",this._binary_data,n+3,2));this.general._addProperty("type","Type",this._markers[t][2])};this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\x00";this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\x00";this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\x00";this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]};this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip","StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make","Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]};this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient","OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],
37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response","SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode","Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]};this.JpegMeta.JpegFile.prototype._gpstags={0:["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision","GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]};this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count “0”"],209:["RST1",null,"Restart with modulo 8 count “1”"],210:["RST2",null,"Restart with modulo 8 count “2”"],211:["RST3",null,"Restart with modulo 8 count “3”"],212:["RST4",null,"Restart with modulo 8 count “4”"],213:["RST5",null,"Restart with modulo 8 count “5”"],214:["RST6",null,"Restart with modulo 8 count “6”"],215:["RST7",null,"Restart with modulo 8 count “7”"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["APP13",null],238:["APP14",null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM",null],1:["JPG13",null]};this.JpegMeta.JpegFile.prototype._addMetaGroup=function h(t,n){var i=new e.MetaGroup(t,n);this[i.fieldName]=i;this.metaGroups[i.fieldName]=i;return i};this.JpegMeta.JpegFile.prototype._parseIfd=function p(t,n,i,r,a,s,o){var l=e.parseNum(t,n,i+r,2);var u,c;var d;var f;var h,p,m;var _;var g;var v;var b;var y;var x;var S;S=this._addMetaGroup(s,o);for(var u=0;u<l;u++){d=i+r+2+u*12;f=e.parseNum(t,n,d,2);p=e.parseNum(t,n,d+2,2);_=e.parseNum(t,n,d+4,4);g=e.parseNum(t,n,d+8,4);if(this._types[p]===undefined){continue}h=this._types[p][0];m=this._types[p][1];if(m*_<=4){g=d+8}else{g=i+g}if(h=="UNDEFINED"){v=n.slice(g,g+_)}else if(h=="ASCII"){v=n.slice(g,g+_);v=v.split("\x00")[0]}else{v=new Array;for(c=0;c<_;c++,g+=m){if(h=="BYTE"||h=="SHORT"||h=="LONG"){v.push(e.parseNum(t,n,g,m))}if(h=="SBYTE"||h=="SSHORT"||h=="SLONG"){v.push(e.parseSnum(t,n,g,m))}if(h=="RATIONAL"){y=e.parseNum(t,n,g,4);x=e.parseNum(t,n,g+4,4);v.push(new e.Rational(y,x))}if(h=="SRATIONAL"){y=e.parseSnum(t,n,g,4);x=e.parseSnum(t,n,g+4,4);v.push(new e.Rational(y,x))}v.push()}if(_===1){v=v[0]}}S._addProperty(a[f][1],a[f][0],v)}};this.JpegMeta.JpegFile.prototype._jfifHandler=function m(t,n){if(this.jfif!==undefined){throw Error("Multiple JFIF segments found")}this._addMetaGroup("jfif","JFIF");this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(n+5));this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(n+6));this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value);this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(n+7));this.jfif._addProperty("Xdensity","X density",e.parseNum(">",this._binary_data,n+8,2));this.jfif._addProperty("Ydensity","Y Density",e.parseNum(">",this._binary_data,n+10,2));this.jfif._addProperty("Xthumbnail","X Thumbnail",e.parseNum(">",this._binary_data,n+12,1));this.jfif._addProperty("Ythumbnail","Y Thumbnail",e.parseNum(">",this._binary_data,n+13,1))};this.JpegMeta.JpegFile.prototype._app0Handler=function _(e,t){var n=this._binary_data.slice(t,t+5);if(n==this._JFIF_IDENT){this._jfifHandler(e,t)}else if(n==this._JFXX_IDENT){}else{}};this.JpegMeta.JpegFile.prototype._app1Handler=function g(e,t){var n=this._binary_data.slice(t,t+5);if(n==this._EXIF_IDENT){this._exifHandler(e,t+6)}else{}};e.JpegFile.prototype._exifHandler=function v(t,n){if(this.exif!==undefined){throw new Error("Multiple JFIF segments found")}var i;var r;var a;var s,o,l;var u=this._binary_data.slice(n,n+2);if(u==="II"){i="<"}else if(u==="MM"){i=">"}else{throw new Error("Malformed TIFF meta-data. Unknown endianess: "+u)}r=e.parseNum(i,this._binary_data,n+2,2);if(r!==42){throw new Error("Malformed TIFF meta-data. Bad magic: "+r)}a=e.parseNum(i,this._binary_data,n+4,4);this._parseIfd(i,this._binary_data,n,a,this._tifftags,"tiff","TIFF");if(this.tiff.ExifIfdPointer){this._parseIfd(i,this._binary_data,n,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif")}if(this.tiff.GPSInfoIfdPointer){this._parseIfd(i,this._binary_data,n,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS");if(this.gps.GPSLatitude){var c;c=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat();if(this.gps.GPSLatitudeRef.value==="S"){c=-c}this.gps._addProperty("latitude","Dec. Latitude",c)}if(this.gps.GPSLongitude){var d;d=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat();if(this.gps.GPSLongitudeRef.value==="W"){d=-d}this.gps._addProperty("longitude","Dec. Longitude",d)}}}}).call(window);e.exports=JpegMeta},function(e,t,n){var i,r;(function(n,a){"use strict";var s={remoteFetching:false,collectWindowErrors:true,linesOfContext:7};var o=[].slice;var l="?";s.wrap=function V(e){function t(){try{return e.apply(this,arguments)}catch(t){s.report(t);throw t}}return t};s.report=function j(){var e=[],t=null,i=null,r=null;function l(t){m();e.push(t)}function u(t){for(var n=e.length-1;n>=0;--n){if(e[n]===t){e.splice(n,1)}}}function c(){_();e=[]}function d(t,n){var i=null;if(n&&!s.collectWindowErrors){return}for(var r in e){if(M(e,r)){try{e[r].apply(null,[t].concat(o.call(arguments,2)))}catch(a){i=a}}}if(i){throw i}}var f,h;function p(e,t,n,i,a){var o=null;if(r){s.computeStackTrace.augmentStackTraceWithInitialElement(r,t,n,e);g()}else if(a){o=s.computeStackTrace(a);d(o,true)}else{var l={url:t,line:n,column:i};l.func=s.computeStackTrace.guessFunctionName(l.url,l.line);l.context=s.computeStackTrace.gatherContext(l.url,l.line);o={message:e,url:document.location.href,stack:[l]};d(o,true)}if(f){return f.apply(this,arguments)}return false}function m(){if(h){return}f=n.onerror;n.onerror=p;h=true}function _(){if(!h){return}n.onerror=f;h=false;f=a}function g(){var e=r,n=t;t=null;r=null;i=null;d.apply(null,[e,false].concat(n))}function v(e,a){var l=o.call(arguments,1);if(r){if(i===e){return}else{g()}}var u=s.computeStackTrace(e);r=u;i=e;t=l;n.setTimeout(function(){if(i===e){g()}},u.incomplete?2e3:0);if(a!==false){throw e}}v.subscribe=l;v.unsubscribe=u;v.uninstall=c;return v}();s.computeStackTrace=function z(){var e=false,t={};function i(e){if(!s.remoteFetching){return""}try{var t=function(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject("Microsoft.XMLHTTP")}};var i=t();i.open("GET",e,false);i.send("");return i.responseText}catch(r){return""}}function r(e){if(!k(e))return[];if(!M(t,e)){var n="";if(e.indexOf(document.domain)!==-1){n=i(e)}t[e]=n?n.split("\n"):[]}return t[e]}function a(e,t){var n=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",s=10,o=r(e),u;if(!o.length){return l}for(var c=0;c<s;++c){a=o[t-c]+a;if(!L(a)){if(u=i.exec(a)){return u[1]}else if(u=n.exec(a)){return u[1]}}}return l}function o(e,t){var n=r(e);if(!n.length){return null}var i=[],a=Math.floor(s.linesOfContext/2),o=a+s.linesOfContext%2,l=Math.max(0,t-a-1),u=Math.min(n.length,t+o-1);t-=1;for(var c=l;c<u;++c){if(!L(n[c])){i.push(n[c])}}return i.length>0?i:null}function u(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function c(e){return u(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function d(e,t){var n,i;for(var a=0,s=t.length;a<s;++a){if((n=r(t[a])).length){n=n.join("\n");if(i=e.exec(n)){return{url:t[a],line:n.substring(0,i.index).split("\n").length,column:i.index-n.lastIndexOf("\n",i.index)-1}}}}return null}function f(e,t,n){var i=r(t),a=new RegExp("\\b"+u(e)+"\\b"),s;n-=1;if(i&&i.length>n&&(s=a.exec(i[n]))){return s.index}return null}function h(e){var t=[n.location.href],i=document.getElementsByTagName("script"),r,a=""+e,s=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,l,f,h;for(var p=0;p<i.length;++p){var m=i[p];if(m.src){t.push(m.src)}}if(!(f=s.exec(a))){l=new RegExp(u(a).replace(/\s+/g,"\\s+"))}else{var _=f[1]?"\\s+"+f[1]:"",g=f[2].split(",").join("\\s*,\\s*");r=u(f[3]).replace(/;$/,";?");l=new RegExp("function"+_+"\\s*\\(\\s*"+g+"\\s*\\)\\s*{\\s*"+r+"\\s*}")}if(h=d(l,t)){return h}if(f=o.exec(a)){var v=f[1];r=c(f[2]);l=new RegExp("on"+v+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i");if(h=d(l,t[0])){return h}l=new RegExp(r);if(h=d(l,t)){return h}}return null}function p(e){if(!e.stack){return null}var t=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?).*?):(\d+)(?::(\d+))?\s*$/i,i=e.stack.split("\n"),r=[],s,u,c=/^(.*) is undefined$/.exec(e.message);for(var d=0,h=i.length;d<h;++d){if(s=n.exec(i[d])){u={url:s[3],func:s[1]||l,args:s[2]?s[2].split(","):"",line:+s[4],column:s[5]?+s[5]:null}}else if(s=t.exec(i[d])){u={url:s[2],func:s[1]||l,line:+s[3],column:s[4]?+s[4]:null}}else{continue}if(!u.func&&u.line){u.func=a(u.url,u.line)}if(u.line){u.context=o(u.url,u.line)}r.push(u)}if(!r.length){return null}if(r[0].line&&!r[0].column&&c){r[0].column=f(c[1],r[0].url,r[0].line)}else if(!r[0].column&&!L(e.columnNumber)){r[0].column=e.columnNumber+1}return{name:e.name,message:e.message,url:document.location.href,stack:r}}function m(e){var t=e.stacktrace;var n=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,i=t.split("\n"),r=[],s;for(var l=0,u=i.length;l<u;l+=2){if(s=n.exec(i[l])){var c={line:+s[1],column:+s[2],func:s[3]||s[4],args:s[5]?s[5].split(","):[],url:s[6]};if(!c.func&&c.line){c.func=a(c.url,c.line)}if(c.line){try{c.context=o(c.url,c.line)}catch(d){}}if(!c.context){c.context=[i[l+1]]}r.push(c)}}if(!r.length){return null}return{name:e.name,message:e.message,url:document.location.href,stack:r}}function _(e){var t=e.message.split("\n");if(t.length<4){return null}var i=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of function script\s*$/i,u=[],f=document.getElementsByTagName("script"),h=[],p,m,_,g;for(m in f){if(M(f,m)&&!f[m].src){h.push(f[m])}}for(m=2,_=t.length;m<_;m+=2){var v=null;if(p=i.exec(t[m])){v={url:p[2],func:p[3],line:+p[1]}}else if(p=s.exec(t[m])){v={url:p[3],func:p[4]};var b=+p[1];var y=h[p[2]-1];if(y){g=r(v.url);if(g){g=g.join("\n");var x=g.indexOf(y.innerText);if(x>=0){v.line=b+g.substring(0,x).split("\n").length}}}}else if(p=l.exec(t[m])){var S=n.location.href.replace(/#.*$/,""),w=p[1];var L=new RegExp(c(t[m+1]));g=d(L,[S]);v={url:S,line:g?g.line:w,func:""}}if(v){if(!v.func){v.func=a(v.url,v.line)}var E=o(v.url,v.line);var k=E?E[Math.floor(E.length/2)]:null;if(E&&k.replace(/^\s*/,"")===t[m+1].replace(/^\s*/,"")){v.context=E}else{v.context=[t[m+1]]}u.push(v)}}if(!u.length){return null}return{name:e.name,message:t[0],url:document.location.href,stack:u}}function g(e,t,n,i){var r={url:t,line:n};if(r.url&&r.line){e.incomplete=false;if(!r.func){r.func=a(r.url,r.line)}if(!r.context){r.context=o(r.url,r.line)}var s=/ '([^']+)' /.exec(i);if(s){r.column=f(s[1],r.url,r.line)}if(e.stack.length>0){if(e.stack[0].url===r.url){if(e.stack[0].line===r.line){return false}else if(!e.stack[0].line&&e.stack[0].func===r.func){e.stack[0].line=r.line;e.stack[0].context=r.context;return false}}}e.stack.unshift(r);e.partial=true;return true}else{e.incomplete=true}return false}function v(e,t){var n=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],r={},o=false,u,c,d;for(var p=v.caller;p&&!o;p=p.caller){if(p===b||p===s.report){continue}c={url:null,func:l,line:null,column:null};if(p.name){c.func=p.name}else if(u=n.exec(p.toString())){c.func=u[1]}if(d=h(p)){c.url=d.url;c.line=d.line;if(c.func===l){c.func=a(c.url,c.line)}var m=/ '([^']+)' /.exec(e.message||e.description);if(m){c.column=f(m[1],d.url,d.line)}}if(r[""+p]){o=true}else{r[""+p]=true}i.push(c)}if(t){i.splice(0,t)}var _={name:e.name,message:e.message,url:document.location.href,stack:i};g(_,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description);return _}function b(t,n){var i=null;n=n==null?0:+n;try{i=m(t);if(i){return i}}catch(r){if(e){throw r}}try{i=p(t);if(i){return i}}catch(r){if(e){throw r}}try{i=_(t);if(i){return i}}catch(r){if(e){throw r}}try{i=v(t,n+1);if(i){return i}}catch(r){if(e){throw r}}return{}}function y(e){e=(e==null?0:+e)+1;try{throw new Error}catch(t){return b(t,e+1)}}b.augmentStackTraceWithInitialElement=g;b.guessFunctionName=a;b.gatherContext=o;b.ofCaller=y;return b}();"use strict";var u=n.Raven,c=!!(n.JSON&&n.JSON.stringify),d,f,h,p,m,_,g={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:true,tags:{},extra:{}};var v={VERSION:"1.1.11",TraceKit:s,afterLoad:function(){var e=n.RavenConfig;if(e){this.config(e.dsn,e.config).install()}},noConflict:function(){n.Raven=u;return v},config:function(e,t){if(!e)return v;var n=w(e),i=n.path.lastIndexOf("/"),r=n.path.substr(1,i);if(t){T(t,function(e,t){g[e]=t})}g.ignoreErrors.push("Script error.");g.ignoreErrors.push("Script error");g.ignoreErrors=H(g.ignoreErrors);g.ignoreUrls=g.ignoreUrls.length?H(g.ignoreUrls):false;g.whitelistUrls=g.whitelistUrls.length?H(g.whitelistUrls):false;g.includePaths=H(g.includePaths);m=n.user;_=n.path.substr(i+1);h="//"+n.host+(n.port?":"+n.port:"")+"/"+r+"api/"+_+"/store/";if(n.protocol){h=n.protocol+":"+h}if(g.fetchContext){s.remoteFetching=true}if(g.linesOfContext){s.linesOfContext=g.linesOfContext}s.collectWindowErrors=!!g.collectWindowErrors;return v},install:function(){if(Y()){s.report.subscribe(D)}return v},context:function(e,t,n){if(E(e)){n=t||[];t=e;e=a}return v.wrap(e,t).apply(this,n)},wrap:function(e,t){if(L(t)&&!E(e)){return e}if(E(e)){t=e;e=a}if(!E(t)){return t}if(t.__raven__){return t}function n(){var n=[],i=arguments.length,r=!e||e&&e.deep!==false;while(i--)n[i]=r?v.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,n)}catch(a){v.captureException(a,e);throw a}}for(var i in t){if(t.hasOwnProperty(i)){n[i]=t[i]}}n.__raven__=true;return n},uninstall:function(){s.report.uninstall();return v},captureException:function(e,t){if(k(e))return v.captureMessage(e,t);d=e;try{s.report(e,t)}catch(n){if(e!==n){throw n}}return v},captureMessage:function(e,t){U(F({message:e},t));return v},setUser:function(e){p=e;return v},lastException:function(){return d},lastEventId:function(){return f}};function b(e,t){var n,i;t=t||{};e="raven"+e.substr(0,1).toUpperCase()+e.substr(1);if(document.createEvent){n=document.createEvent("HTMLEvents");n.initEvent(e,true,true)}else{n=document.createEventObject();n.eventType=e}for(i in t)if(t.hasOwnProperty(i)){n[i]=t[i]}if(document.createEvent){document.dispatchEvent(n)}else{try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(r){}}}var y="source protocol user pass host port path".split(" "),x=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;function S(e){this.name="RavenConfigError";this.message=e}S.prototype=new Error;S.prototype.constructor=S;function w(e){var t=x.exec(e),n={},i=7;try{while(i--)n[y[i]]=t[i]||""}catch(r){throw new S("Invalid DSN: "+e)}if(n.pass)throw new S("Do not specify your private key in the DSN!");return n}function L(e){return typeof e==="undefined"}function E(e){return typeof e==="function"}function k(e){return typeof e==="string"}function A(e){for(var t in e)return false;return true}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){var n,i;if(L(e.length)){for(n in e){if(e.hasOwnProperty(n)){t.call(null,n,e[n])}}}else{i=e.length;if(i){for(n=0;n<i;n++){t.call(null,n,e[n])}}}}var C;function R(){if(C)return C;var e=["sentry_version=4","sentry_client=raven-js/"+v.VERSION];if(m){e.push("sentry_key="+m)}C="?"+e.join("&");return C}function D(e,t){var n=[];if(e.stack&&e.stack.length){T(e.stack,function(e,t){var i=I(t);if(i){n.push(i)}})}b("handle",{stackInfo:e,options:t});N(e.name,e.message,e.url,e.lineno,n,t)}function I(e){if(!e.url)return;var t={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},n=O(e),i;if(n){var r=["pre_context","context_line","post_context"];i=3;while(i--)t[r[i]]=n[i]}t.in_app=!(!g.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t["function"])||/raven\.(min\.)js$/.test(t.filename));return t}function O(e){if(!e.context||!g.fetchContext)return;var t=e.context,n=~~(t.length/2),i=t.length,r=false;while(i--){if(t[i].length>300){r=true;break}}if(r){if(L(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}function N(e,t,n,i,r,a){var s,o,l;if(!t)return;if(g.ignoreErrors.test(t))return;if(r&&r.length){n=r[0].filename||n;r.reverse();s={frames:r}}else if(n){s={frames:[{filename:n,lineno:i}]}}if(g.ignoreUrls&&g.ignoreUrls.test(n))return;if(g.whitelistUrls&&!g.whitelistUrls.test(n))return;o=i?t+" at "+i:t;U(F({exception:{type:e,value:t},stacktrace:s,culprit:n,message:o},a))}function F(e,t){if(!t){return e}T(t,function(t,n){e[t]=n});return e}function B(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};if(document.referrer){e.headers.Referer=document.referrer}return e}function U(e){if(!Y())return;e=F({project:_,logger:g.logger,site:g.site,platform:"javascript",request:B()},e);e.tags=F(g.tags,e.tags);e.extra=F(g.extra,e.extra);if(A(e.tags))delete e.tags;if(A(e.extra))delete e.extra;if(p){e.user=p}if(E(g.dataCallback)){e=g.dataCallback(e)}if(E(g.shouldSendCallback)&&!g.shouldSendCallback(e)){return}f=e.event_id||(e.event_id=G());P(e)}function P(e){var t=new Image,n=h+R()+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.onload=function i(){b("success",{data:e,src:n})};t.onerror=t.onabort=function r(){b("failure",{data:e,src:n})};t.src=n}function Y(){if(!c)return false;if(!h){if(n.console&&console.error){console.error("Error: Raven has not been configured.")}return false}return true}function H(e){var t=[],n=0,i=e.length,r;for(;n<i;n++){r=e[n];if(k(r)){t.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"))}else if(r&&r.source){t.push(r.source)}}return new RegExp(t.join("|"),"i")}function G(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}v.afterLoad();n.Raven=v;if(true){!(i=[],r=function(){return v}.apply(t,i),r!==a&&(e.exports=r))}})(window);e.exports=Raven},function(e,t,n){"use strict";var i=n(55);var r=n(354);var a=n(91);var s=n(10);var o=n(350);var l=n(13);var u=n(93);var c=n(351);var d=d||{};d.App=function(){var e,t={};var n=false;var f=[];var h=function m(e){return e instanceof $?e:$(e)};function p(e){var t=_.uniqueId("SugarApp_");e=e||{};return _.extend({appId:t,$rootEl:h(e.el||"body"),$contentEl:h(e.contentEl||"#content"),additionalComponents:{}},this,Backbone.Events)}return{init:function g(t){e=e||_.extend(this,new p(t));_.extend(e,i);e.events.register("app:init",this);e.events.register("app:start",this);e.events.register("app:sync",this);e.events.register("app:sync:complete",this);e.events.register("app:sync:error",this);e.events.register("app:sync:public:error",this);e.events.register("app:login",this);e.events.register("app:login:success",this);e.events.register("app:logout",this);e.events.register("app:view:change",this);e.events.register("app:locale:change",this);e.events.register("lang:direction:change",this);if(e.cache){e.cache.init(this)}var n=s.capitalize(e.config?e.config.appId:"")+"Controller";var r=this[n]||o;this.controller=new r;e.api=d.Api.getInstance({defaultErrorHandler:t&&t.defaultErrorHandler?t.defaultErrorHandler:d.App.error.handleHttpError,serverUrl:e.config.serverUrl,platform:e.config.platform,timeout:e.config.serverTimeout,keyValueStore:e[e.config.authStore||"cache"],clientID:e.config.clientID,disableBulkApi:e.config.disableBulkApi,externalLoginUICallback:t&&t.externalLoginUICallback});this._init(t);return e},_init:function v(t){var n=this;var i=function s(i){if(!e){return}if(i){n.trigger("app:sync:public:error",i);return}n._initModules();if(!t.silent){e.controller.setElement(e.$rootEl);e.trigger("app:init",n)}if(t.callback&&_.isFunction(t.callback)){t.callback(e)}};var r=function o(t){if(e.config.loadCss){e.loadCss(t)}else{t()}};if(e.config.syncConfig!==false){var a={getPublic:true};r(function(){c.sync(i,a)})}else{r(function(){i()})}return e},_initModules:function b(){_.each(t,function(e){if(_.isFunction(e.init)){e.init(this)}},this)},_loadConfig:function y(){this.logger.warn("`App._loadConfig` is deprecated since 7.10. Please use `App.setConfig` instead.");e.config=e.config||{};e.config=_.extend(e.config,c.getConfig())},setConfig:function x(e){this.config=this.config||{};this.config=_.extend(this.config,e);this.logger=r(this.config.logger);this.cache=a({uniqueKey:this.config.uniqueKey,env:this.config.env,appId:this.config.appId})},loadCss:function S(t){e.api.css(e.config.platform,e.config.themeName,{success:function n(i){if(e.config.loadCss==="url"){_.each(i.url,function(e){$("<link>").attr({rel:"stylesheet",href:s.buildUrl(e)}).appendTo("head")})}else{_.each(i.text,function(e){$("<style>").html(e).appendTo("head")})}if(_.isFunction(t)){t()}}})},start:function w(){e.events.registerAjaxEvents();e.controller.loadAdditionalComponents(e.config.additionalComponents);e.trigger("app:start",this);u.start()},destroy:function L(){if(Backbone.history){Backbone.history.stop()}e=null},augment:function E(n,i,r){this[n]=i;t[n]=i;if(n==="config"){this.setConfig(i)}if(r&&i.init&&_.isFunction(i.init)){i.init.call(i,e)}},sync:function k(t){var i=this;t=t||{};if(t.getPublic){return i.syncPublic(t)}if(t.callback){f.push(t.callback)}if(n){return}n=true;async.waterfall([function(n){i.isSynced=false;i.trigger("app:sync");var r=!t.noUserUpdate&&(t.language||i.cache.get("langHasChanged"));if(r){var a=t.language||l.getLanguage();i.user.updateLanguage(a,n);e.cache.cut("langHasChanged")}else{n()}},function(e){async.parallel([function(e){i.user.load(e)},function(e){i.metadata.sync(function(t){i.data.declareModels();e(t)},t)}],function(t){e(t)})},function(e){var t=i.metadata.getServerInfo();i.config.sugarLogic=i.config.sugarLogic||{};if(t&&i.config.sugarLogic.enabled&&i.utils.versionCompare(t.version,i.config.sugarLogic.minServerVersion,">=")){i.fetchSugarLogic(e)}else{i.config.sugarLogic.enabled=false;e()}}],function(e){if(e){i.trigger("app:sync:error",e)}else{i.isSynced=true;i.trigger("app:sync:complete");if(window.jQuery){jQuery.migrateMute=i.logger.getLevel().value>i.logger.levels.WARN.value}}_.each(f,function(t){t(e)});n=false;f=[]})},syncPublic:function A(e){e=e||{};e.getPublic=true;this.metadata.sync(e.callback,e)},navigate:function M(t,n,i){var r,a,s;t=t||e.controller.context;n=n||t.get("model");a=n.id;s=t.get("module")||n.module;r=this.router.buildRoute(s,a,i);this.router.navigate(r,{trigger:true})},login:function T(t,n,i){i=i||{};n=n||{};n.current_language=l.getLanguage();e.api.login(t,n,{success:function r(n){e.trigger("app:login:success",n,t.username);if(i.success)i.success(n)},error:function a(t){e.error.handleHttpError(t);if(i.error)i.error(t)},complete:i.complete})},logout:function C(t,n,i){var r,a;t=t||{};r=t.complete;a=t.error;t.complete=function(t){e.trigger("app:logout",n);if(r){r(t)}};t.error=function(t){e.error.handleHttpError(t);if(a)a(t)};return e.api.logout(t,i)},fetchSugarLogic:function R(t){if(e.config.sugarLogic.isDynamic){e.api.call("read",e.api.buildURL("ExpressionEngine","functions"),null,{success:function n(i){e.cacheSugarLogicExpressions(i);e.loadSugarLogic(i,t)},error:function i(e){t(e)}},{dataType:"application/text"})}else t()},cacheSugarLogicExpressions:function D(t){e.cache.set("sugarlogic",t)},_loadSugarLogic:function I(){return e.cache.get("sugarlogic")},loadSugarLogic:function O(t,n){return e.compileJs(t||e._loadSugarLogic(),n)},compileJs:function N(e,t){try{eval.call(window,e);if(t)t()}catch(n){r.fatal("Failed to compile js");if(t)t(n);return n}return null},isServerCompatible:function F(e){var t=this.config.supportedServerFlavors,n=this.config.minServerVersion,i,r,a;if(_.isEmpty(t)&&!n){return true}i=!!(_.isEmpty(t)||e&&_.contains(t,e.flavor));r=!!(!n||e&&this.utils.versionCompare(e.version,n,">="));if(i&&r){return true}else if(!r){a={code:"server_version_incompatible",label:"ERR_SERVER_VERSION_INCOMPATIBLE"}}else{a={code:"server_flavor_incompatible",label:"ERR_SERVER_FLAVOR_INCOMPATIBLE"}}a.server_info=e;return a},modules:t}}();var f=n(6);d.App.Context=f;var h={getContext:function m(e){d.App.logger.warn("The function `app.context.getContext()` is deprecated in 7.10. "+"Please use the `new` keyword to create a context.");return new f(e)}};d.App.augment("Bean",n(32));d.App.augment("BeanCollection",n(43));d.App.augment("MixedBeanCollection",n(94));d.App.augment("error",n(92));d.App.augment("context",h);d.App.augment("utils",s);d.App.augment("cookie",n(353));d.App.augment("Controller",o);d.App.augment("events",n(21));d.App.augment("acl",n(24));d.App.augment("metadata",c);d.App.augment("currency",n(96));d.App.augment("date",n(45));d.App.augment("math",n(97));d.App.augment("plugins",n(25));_.mixin(n(355));d.App.augment("user",n(14));Handlebars.registerHelper(n(356));d.App.augment("validation",n(95));d.App.augment("data",n(44));d.App.augment("lang",l);d.App.augment("template",n(22));d.App.Router=n(352);d.App.augment("routing",u);var p=n(26);d.App.augment("view",p);p.Component=n(33);d.App.augment("alert",n(56));p.AlertView=n(98);p.Field=n(99);p.Layout=n(100);p.View=n(101);e.exports=d},function(e,t){var n=function(e){var t,n;e=e||document.querySelector(e);if(!e)return;e.addEventListener("touchstart",function(i){t=i.touches[0].pageY;n=e.scrollTop;if(n<=0)e.scrollTop=1;if(n+e.offsetHeight>=e.scrollHeight)e.scrollTop=e.scrollHeight-e.offsetHeight-1},false)};e.exports=n},function(e,t){var n;(function(){n=function(e,t){this.__callback=e;this.options={scrollingX:true,scrollingY:true,animating:true,animationDuration:250,bouncing:true,locking:true,paging:false,snapping:false,zooming:false,minZoom:.5,maxZoom:3,speedMultiplier:1};for(var n in t){this.options[n]=t[n]}};var e=function(e){return Math.pow(e-1,3)+1};var t=function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)};var i={__isSingleTouch:false,__isTracking:false,__isGesturing:false,__isDragging:false,__isDecelerating:false,__isAnimating:false,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:false,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,n,i){var r=this;if(e===+e){r.__clientWidth=e}if(t===+t){r.__clientHeight=t}if(n===+n){r.__contentWidth=n}if(i===+i){r.__contentHeight=i}r.__computeScrollMax();r.scrollTo(r.__scrollLeft,r.__scrollTop,true)},setPosition:function(e,t){var n=this;n.__clientLeft=e||0;n.__clientTop=t||0},setSnapSize:function(e,t){var n=this;n.__snapWidth=e;n.__snapHeight=t},activatePullToRefresh:function(e,t,n,i,r){var a=this;a.__refreshHeight=e;a.__refreshActivate=t;a.__refreshDeactivate=n;a.__refreshStart=i;a.__refreshPreActivate=r},finishPullToRefresh:function(){var e=this;e.__refreshActive=false;if(e.__refreshDeactivate){e.__refreshDeactivate()}e.scrollTo(e.__scrollLeft,e.__scrollTop,true)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop
}},zoomTo:function(e,t,n,i){var r=this;if(!r.options.zooming){throw new Error("Zooming is not enabled!")}if(r.__isDecelerating){core.effect.Animate.stop(r.__isDecelerating);r.__isDecelerating=false}var a=r.__zoomLevel;if(n==null){n=r.__clientWidth/2}if(i==null){i=r.__clientHeight/2}e=Math.max(Math.min(e,r.options.maxZoom),r.options.minZoom);r.__computeScrollMax(e);var s=(n+r.__scrollLeft)*e/a-n;var o=(i+r.__scrollTop)*e/a-i;if(s>r.__maxScrollLeft){s=r.__maxScrollLeft}else if(s<0){s=0}if(o>r.__maxScrollTop){o=r.__maxScrollTop}else if(o<0){o=0}r.__publish(s,o,e,t)},zoomBy:function(e,t,n,i){var r=this;r.zoomTo(r.__zoomLevel*e,t,n,i)},scrollTo:function(e,t,n,i){var r=this;if(r.__isDecelerating){core.effect.Animate.stop(r.__isDecelerating);r.__isDecelerating=false}if(i!=null&&i!==r.__zoomLevel){if(!r.options.zooming){throw new Error("Zooming is not enabled!")}e*=i;t*=i;r.__computeScrollMax(i)}else{i=r.__zoomLevel}if(!r.options.scrollingX){e=r.__scrollLeft}else{if(r.options.paging){e=Math.round(e/r.__clientWidth)*r.__clientWidth}else if(r.options.snapping){e=Math.round(e/r.__snapWidth)*r.__snapWidth}}if(!r.options.scrollingY){t=r.__scrollTop}else{if(r.options.paging){t=Math.round(t/r.__clientHeight)*r.__clientHeight}else if(r.options.snapping){t=Math.round(t/r.__snapHeight)*r.__snapHeight}}e=Math.max(Math.min(r.__maxScrollLeft,e),0);t=Math.max(Math.min(r.__maxScrollTop,t),0);if(e===r.__scrollLeft&&t===r.__scrollTop){n=false}r.__publish(e,t,i,n)},scrollBy:function(e,t,n){var i=this;var r=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft;var a=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(r+(e||0),a+(t||0),n)},doMouseZoom:function(e,t,n,i){var r=this;var a=e>0?.97:1.03;return r.zoomTo(r.__zoomLevel*a,false,n-r.__clientLeft,i-r.__clientTop)},doTouchStart:function(e,t){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var n=this;if(n.__isDecelerating){core.effect.Animate.stop(n.__isDecelerating);n.__isDecelerating=false}if(n.__isAnimating){core.effect.Animate.stop(n.__isAnimating);n.__isAnimating=false}var i,r;var a=e.length===1;if(a){i=e[0].pageX;r=e[0].pageY}else{i=Math.abs(e[0].pageX+e[1].pageX)/2;r=Math.abs(e[0].pageY+e[1].pageY)/2}n.__initialTouchLeft=i;n.__initialTouchTop=r;n.__zoomLevelStart=n.__zoomLevel;n.__lastTouchLeft=i;n.__lastTouchTop=r;n.__lastTouchMove=t;n.__lastScale=1;n.__enableScrollX=!a&&n.options.scrollingX;n.__enableScrollY=!a&&n.options.scrollingY;n.__isTracking=true;n.__isDragging=!a;n.__isSingleTouch=a;n.__positions=[]},doTouchMove:function(e,t,n){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var i=this;if(!i.__isTracking){return}var r,a;if(e.length===2){r=Math.abs(e[0].pageX+e[1].pageX)/2;a=Math.abs(e[0].pageY+e[1].pageY)/2}else{r=e[0].pageX;a=e[0].pageY}var s=i.__positions;if(i.__isDragging){var o=r-i.__lastTouchLeft;var l=a-i.__lastTouchTop;var u=i.__scrollLeft;var c=i.__scrollTop;var d=i.__zoomLevel;if(n!=null&&i.options.zooming){var f=d;d=d/i.__lastScale*n;d=Math.max(Math.min(d,i.options.maxZoom),i.options.minZoom);if(f!==d){var h=r-i.__clientLeft;var p=a-i.__clientTop;u=(h+u)*d/f-h;c=(p+c)*d/f-p;i.__computeScrollMax(d)}}if(i.__enableScrollX){u-=o*this.options.speedMultiplier;var m=i.__maxScrollLeft;if(u>m||u<0){if(i.options.bouncing){u+=o/2*this.options.speedMultiplier}else if(u>m){u=m}else{u=0}}}if(i.__enableScrollY){c-=l*this.options.speedMultiplier;var _=i.__maxScrollTop;if(c>_||c<0){if(i.options.bouncing){c+=l/2*this.options.speedMultiplier;if(!i.__enableScrollX&&i.__refreshHeight!=null){if(!i.__refreshActive&&c>-i.__refreshHeight){if(i.__refreshPreActivate){i.__refreshPreActivate(c)}}if(!i.__refreshActive&&c<=-i.__refreshHeight){i.__refreshActive=true;if(i.__refreshActivate){i.__refreshActivate()}}else if(i.__refreshActive&&c>-i.__refreshHeight){i.__refreshActive=false;if(i.__refreshDeactivate){i.__refreshDeactivate()}}}}else if(c>_){c=_}else{c=0}}}if(s.length>60){s.splice(0,30)}s.push(u,c,t);i.__publish(u,c,d)}else{var g=i.options.locking?3:0;var v=5;var b=Math.abs(r-i.__initialTouchLeft);var y=Math.abs(a-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&b>=g;i.__enableScrollY=i.options.scrollingY&&y>=g;s.push(i.__scrollLeft,i.__scrollTop,t);i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(b>=v||y>=v)}i.__lastTouchLeft=r;i.__lastTouchTop=a;i.__lastTouchMove=t;i.__lastScale=n},doTouchEnd:function(e){if(e instanceof Date){e=e.valueOf()}if(typeof e!=="number"){throw new Error("Invalid timestamp value: "+e)}var t=this;if(!t.__isTracking){return}t.__isTracking=false;if(t.__isDragging){t.__isDragging=false;if(t.__isSingleTouch&&t.options.animating&&e-t.__lastTouchMove<=100){var n=t.__positions;var i=n.length-1;var r=i;for(var a=i;a>0&&n[a]>t.__lastTouchMove-100;a-=3){r=a}if(r!==i){var s=n[i]-n[r];var o=t.__scrollLeft-n[r-2];var l=t.__scrollTop-n[r-1];t.__decelerationVelocityX=o/s*(1e3/60);t.__decelerationVelocityY=l/s*(1e3/60);var u=t.options.paging||t.options.snapping?4:1;if(Math.abs(t.__decelerationVelocityX)>u||Math.abs(t.__decelerationVelocityY)>u){if(!t.__refreshActive){t.__startDeceleration(e)}}}}}if(!t.__isDecelerating){if(t.__refreshActive&&t.__refreshStart){t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,true);if(t.__refreshStart){t.__refreshStart()}}else{t.scrollTo(t.__scrollLeft,t.__scrollTop,true,t.__zoomLevel);if(t.__refreshActive){t.__refreshActive=false;if(t.__refreshDeactivate){t.__refreshDeactivate()}}}}t.__positions.length=0},__publish:function(n,i,r,a){var s=this;var o=s.__isAnimating;if(o){core.effect.Animate.stop(o);s.__isAnimating=false}if(a&&s.options.animating){s.__scheduledLeft=n;s.__scheduledTop=i;s.__scheduledZoom=r;var l=s.__scrollLeft;var u=s.__scrollTop;var c=s.__zoomLevel;var d=n-l;var f=i-u;var h=r-c;var p=function(e,t,n){if(n){s.__scrollLeft=l+d*e;s.__scrollTop=u+f*e;s.__zoomLevel=c+h*e;if(s.__callback){s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel)}}};var m=function(e){return s.__isAnimating===e};var _=function(e,t,n){if(t===s.__isAnimating){s.__isAnimating=false}if(s.options.zooming){s.__computeScrollMax()}};s.__isAnimating=core.effect.Animate.start(p,m,_,s.options.animationDuration,o?e:t)}else{s.__scheduledLeft=s.__scrollLeft=n;s.__scheduledTop=s.__scrollTop=i;s.__scheduledZoom=s.__zoomLevel=r;if(s.__callback){s.__callback(n,i,r)}if(s.options.zooming){s.__computeScrollMax()}}},__computeScrollMax:function(e){var t=this;if(e==null){e=t.__zoomLevel}t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0);t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var n=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0);var i=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0);var r=t.__clientWidth;var a=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(n/r)*r;t.__minDecelerationScrollTop=Math.floor(i/a)*a;t.__maxDecelerationScrollLeft=Math.ceil(n/r)*r;t.__maxDecelerationScrollTop=Math.ceil(i/a)*a}else{t.__minDecelerationScrollLeft=0;t.__minDecelerationScrollTop=0;t.__maxDecelerationScrollLeft=t.__maxScrollLeft;t.__maxDecelerationScrollTop=t.__maxScrollTop}var s=function(e,n,i){t.__stepThroughDeceleration(i)};var o=t.options.snapping?4:.1;var l=function(){return Math.abs(t.__decelerationVelocityX)>=o||Math.abs(t.__decelerationVelocityY)>=o};var u=function(e,n,i){t.__isDecelerating=false;t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(s,l,u)},__stepThroughDeceleration:function(e){var t=this;var n=t.__scrollLeft+t.__decelerationVelocityX;var i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var r=Math.max(Math.min(t.__maxDecelerationScrollLeft,n),t.__minDecelerationScrollLeft);if(r!==n){n=r;t.__decelerationVelocityX=0}var a=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);if(a!==i){i=a;t.__decelerationVelocityY=0}}if(e){t.__publish(n,i,t.__zoomLevel)}else{t.__scrollLeft=n;t.__scrollTop=i}if(!t.options.paging){var s=.95;t.__decelerationVelocityX*=s;t.__decelerationVelocityY*=s}if(t.options.bouncing){var o=0;var l=0;var u=.03;var c=.08;if(n<t.__minDecelerationScrollLeft){o=t.__minDecelerationScrollLeft-n}else if(n>t.__maxDecelerationScrollLeft){o=t.__maxDecelerationScrollLeft-n}if(i<t.__minDecelerationScrollTop){l=t.__minDecelerationScrollTop-i}else if(i>t.__maxDecelerationScrollTop){l=t.__maxDecelerationScrollTop-i}if(o!==0){if(o*t.__decelerationVelocityX<=0){t.__decelerationVelocityX+=o*u}else{t.__decelerationVelocityX=o*c}}if(l!==0){if(l*t.__decelerationVelocityY<=0){t.__decelerationVelocityY+=l*u}else{t.__decelerationVelocityY=l*c}}}}};for(var r in i){n.prototype[r]=i[r]}})();e.exports=n},function(e,t,n){var i,r;!function(){function a(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function s(e){return null===e?0/0:+e}function o(e){return!isNaN(e)}function l(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);r>i;){var a=i+r>>>1;e(t[a],n)<0?i=a+1:r=a}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);r>i;){var a=i+r>>>1;e(t[a],n)>0?r=a:i=a+1}return i}}}function u(e){return e.length}function c(e){for(var t=1;e*t%1;)t*=10;return t}function d(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function f(){this._=Object.create(null)}function h(e){return(e+="")===xs||e[0]===Ss?Ss+e:e}function p(e){return(e+="")[0]===Ss?e.slice(1):e}function m(e){return h(e)in this._}function _(e){return(e=h(e))in this._&&delete this._[e]}function g(){var e=[];for(var t in this._)e.push(p(t));return e}function v(){var e=0;for(var t in this._)++e;return e}function b(){for(var e in this._)return!1;return!0}function y(){this._=Object.create(null)}function x(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function S(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=ws.length;i>n;++n){var r=ws[n]+t;if(r in e)return r}}function w(){}function L(){}function E(e){function t(){for(var t,i=n,r=-1,a=i.length;++r<a;)(t=i[r].on)&&t.apply(this,arguments);return e}var n=[],i=new f;return t.on=function(t,r){var a,s=i.get(t);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,a=n.indexOf(s)).concat(n.slice(a+1)),i.remove(t)),r&&n.push(i.set(t,{on:r})),e)},t}function k(){ss.event.preventDefault()}function A(){for(var e,t=ss.event;e=t.sourceEvent;)t=e;return t}function M(e){for(var t=new L,n=0,i=arguments.length;++n<i;)t[arguments[n]]=E(t);return t.of=function(n,i){return function(r){try{var a=r.sourceEvent=ss.event;r.target=e,ss.event=r,t[r.type].apply(n,i)}finally{ss.event=a}}},t}function T(e){return Es(e,Cs),e}function C(e){return"function"==typeof e?e:function(){return ks(e,this)}}function R(e){return"function"==typeof e?e:function(){return As(e,this)}}function D(e,t){function n(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ss.ns.qualify(e),null==t?e.local?i:n:"function"==typeof t?e.local?o:s:e.local?a:r}function I(e){return e.trim().replace(/\s+/g," ")}function O(e){return new RegExp("(?:^|\\s+)"+ss.requote(e)+"(?:\\s+|$)","g")}function N(e){return(e+"").trim().split(/^|\s+/)}function F(e,t){function n(){for(var n=-1;++n<r;)e[n](this,t)}function i(){for(var n=-1,i=t.apply(this,arguments);++n<r;)e[n](this,i)}e=N(e).map(B);var r=e.length;return"function"==typeof t?i:n}function B(e){var t=O(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",I(r+" "+e))):n.setAttribute("class",I(r.replace(t," ")))}}function U(e,t,n){function i(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,t,n)}function a(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}return null==t?i:"function"==typeof t?a:r}function P(e,t){function n(){delete this[e]}function i(){this[e]=t}function r(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?r:i}function Y(e){return"function"==typeof e?e:(e=ss.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function H(){var e=this.parentNode;e&&e.removeChild(this)}function G(e){return{__data__:e}}function V(e){return function(){return Ts(this,e)}}function j(e){return arguments.length||(e=a),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function z(e,t){for(var n=0,i=e.length;i>n;n++)for(var r,a=e[n],s=0,o=a.length;o>s;s++)(r=a[s])&&t(r,s,n);return e}function $(e){return Es(e,Ds),e}function q(e){var t,n;return function(i,r,a){var s,o=e[a].update,l=o.length;for(a!=n&&(n=a,t=0),r>=t&&(t=r+1);!(s=o[t])&&++t<l;);return s}}function W(e,t,n){function i(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function r(){var r=l(t,ls(arguments));i.call(this),this.addEventListener(e,this[s]=r,r.$=n),r._=t}function a(){var t,n=new RegExp("^__on([^.]+)"+ss.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}var s="__on"+e,o=e.indexOf("."),l=K;o>0&&(e=e.slice(0,o));var u=Os.get(e);return u&&(e=u,l=J),o?t?r:i:t?w:a}function K(e,t){return function(n){var i=ss.event;ss.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ss.event=i}}}function J(e,t){var n=K(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}function X(){var e=".dragsuppress-"+ ++Fs,t="click"+e,n=ss.select(ds).on("touchmove"+e,k).on("dragstart"+e,k).on("selectstart"+e,k);if(Ns){var i=cs.style,r=i[Ns];i[Ns]="none"}return function(a){if(n.on(e,null),Ns&&(i[Ns]=r),a){var s=function(){n.on(t,null)};n.on(t,function(){k(),s()},!0),setTimeout(s,0)}}}function Z(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Bs&&(ds.scrollX||ds.scrollY)){n=ss.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();Bs=!(r.f||r.e),n.remove()}return Bs?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function Q(){return ss.event.changedTouches[0].identifier}function ee(){return ss.event.target}function te(){return ds}function ne(e){return e>0?1:0>e?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function re(e){return e>1?0:-1>e?Ys:Math.acos(e)}function ae(e){return e>1?Vs:-1>e?-Vs:Math.asin(e)}function se(e){return((e=Math.exp(e))-1/e)/2}function oe(e){return((e=Math.exp(e))+1/e)/2}function le(e){return((e=Math.exp(2*e))-1)/(e+1)}function ue(e){return(e=Math.sin(e/2))*e}function ce(){}function de(e,t,n){return this instanceof de?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof de?new de(e.h,e.s,e.l):Ee(""+e,ke,de):new de(e,t,n)}function fe(e,t,n){function i(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(s-a)*e/60:180>e?s:240>e?a+(s-a)*(240-e)/60:a}function r(e){return Math.round(255*i(e))}var a,s;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+t):n+t-n*t,a=2*n-s,new xe(r(e+120),r(e),r(e-120))}function he(e,t,n){return this instanceof he?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof he?new he(e.h,e.c,e.l):e instanceof me?ge(e.l,e.a,e.b):ge((e=Ae((e=ss.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new he(e,t,n)}function pe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new me(n,Math.cos(e*=js)*t,Math.sin(e)*t)}function me(e,t,n){return this instanceof me?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof me?new me(e.l,e.a,e.b):e instanceof he?pe(e.h,e.c,e.l):Ae((e=xe(e)).r,e.g,e.b):new me(e,t,n)}function _e(e,t,n){var i=(e+16)/116,r=i+t/500,a=i-n/200;return r=ve(r)*to,i=ve(i)*no,a=ve(a)*io,new xe(ye(3.2404542*r-1.5371385*i-.4985314*a),ye(-.969266*r+1.8760108*i+.041556*a),ye(.0556434*r-.2040259*i+1.0572252*a))}function ge(e,t,n){return e>0?new he(Math.atan2(n,t)*zs,Math.sqrt(t*t+n*n),e):new he(0/0,0/0,e)}function ve(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function be(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ye(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function xe(e,t,n){return this instanceof xe?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof xe?new xe(e.r,e.g,e.b):Ee(""+e,xe,fe):new xe(e,t,n)}function Se(e){return new xe(e>>16,255&e>>8,255&e)}function we(e){return Se(e)+""}function Le(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ee(e,t,n){var i,r,a,s=0,o=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(e))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(Te(r[0]),Te(r[1]),Te(r[2]))}return(a=so.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(s=(3840&a)>>4,s=s>>4|s,o=240&a,o=o>>4|o,l=15&a,l=l<<4|l):7===e.length&&(s=(16711680&a)>>16,o=(65280&a)>>8,l=255&a)),t(s,o,l))}function ke(e,t,n){var i,r,a=Math.min(e/=255,t/=255,n/=255),s=Math.max(e,t,n),o=s-a,l=(s+a)/2;return o?(r=.5>l?o/(s+a):o/(2-s-a),i=e==s?(t-n)/o+(n>t?6:0):t==s?(n-e)/o+2:(e-t)/o+4,i*=60):(i=0/0,r=l>0&&1>l?0:i),new de(i,r,l)}function Ae(e,t,n){e=Me(e),t=Me(t),n=Me(n);var i=be((.4124564*e+.3575761*t+.1804375*n)/to),r=be((.2126729*e+.7151522*t+.072175*n)/no),a=be((.0193339*e+.119192*t+.9503041*n)/io);return me(116*r-16,500*(i-r),200*(r-a))}function Me(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Te(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ce(e){return"function"==typeof e?e:function(){return e}}function Re(e){return e}function De(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Ie(t,n,e,i)}}function Ie(e,t,n,i){function r(){var e,t=l.status;if(!t&&Ne(l)||t>=200&&300>t||304===t){try{e=n.call(a,l)}catch(i){return s.error.call(a,i),void 0}s.load.call(a,e)}else s.error.call(a,l)}var a={},s=ss.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,u=null;return!ds.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(e){var t=ss.event;ss.event=e;try{s.progress.call(a,l)}finally{ss.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?o[e]:(null==t?delete o[e]:o[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(u=e,a):u},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(ls(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,e,!0),null==t||"accept"in o||(o.accept=t+",*/*"),l.setRequestHeader)for(var c in o)l.setRequestHeader(c,o[c]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=u&&(l.responseType=u),null!=r&&a.on("error",r).on("load",function(e){r(null,e)}),s.beforesend.call(a,l),l.send(null==i?null:i),a},a.abort=function(){return l.abort(),a},ss.rebind(a,s,"on"),null==i?a:a.get(Oe(i))}function Oe(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ne(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Fe(){var e=Be(),t=Ue()-e;t>24?(isFinite(t)&&(clearTimeout(co),co=setTimeout(Fe,t)),uo=0):(uo=1,ho(Fe))}function Be(){var e=Date.now();for(fo=oo;fo;)e>=fo.t&&(fo.f=fo.c(e-fo.t)),fo=fo.n;return e}function Ue(){for(var e,t=oo,n=1/0;t;)t.f?t=e?e.n=t.n:oo=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return lo=e,n}function Pe(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ye(e,t){var n=Math.pow(10,3*ys(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function He(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,a=i&&n?function(e,t){for(var r=e.length,a=[],s=0,o=i[0],l=0;r>0&&o>0&&(l+o+1>t&&(o=Math.max(1,t-l)),a.push(e.substring(r-=o,r+o)),!((l+=o+1)>t));)o=i[s=(s+1)%i.length];return a.reverse().join(n)}:Re;return function(e){var n=mo.exec(e),i=n[1]||" ",s=n[2]||">",o=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],f=n[8],h=n[9],p=1,m="",_="",g=!1,v=!0;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),h){case"n":d=!0,h="g";break;case"%":p=100,_="%",h="f";break;case"p":p=100,_="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+h.toLowerCase());case"c":v=!1;case"d":g=!0,f=0;break;case"s":p=-1,h="r"}"$"===l&&(m=r[0],_=r[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):("e"==h||"f"==h)&&(f=Math.max(0,Math.min(20,f)))),h=_o.get(h)||Ge;var b=u&&d;return function(e){var n=_;if(g&&e%1)return"";var r=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===o?"":o;if(0>p){var l=ss.formatPrefix(e,f);e=l.scale(e),n=l.symbol+_}else e*=p;e=h(e,f);var y,x,S=e.lastIndexOf(".");if(0>S){var w=v?e.lastIndexOf("e"):-1;0>w?(y=e,x=""):(y=e.substring(0,w),x=e.substring(w))}else y=e.substring(0,S),x=t+e.substring(S+1);!u&&d&&(y=a(y,1/0));var L=m.length+y.length+x.length+(b?0:r.length),E=c>L?new Array(L=c-L+1).join(i):"";return b&&(y=a(E+y,E.length?c-x.length:1/0)),r+=m,e=y+x,("<"===s?r+e+E:">"===s?E+r+e:"^"===s?E.substring(0,L>>=1)+r+e+E.substring(L):r+(b?e:E+e))+n}}}function Ge(e){return e+""}function Ve(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function je(e,t,n){function i(t){var n=e(t),i=a(n,1);return i-t>t-n?n:i}function r(n){return t(n=e(new vo(n-1)),1),n}function a(e,n){return t(e=new vo(+e),n),e}function s(e,i,a){var s=r(e),o=[];if(a>1)for(;i>s;)n(s)%a||o.push(new Date(+s)),t(s,1);else for(;i>s;)o.push(new Date(+s)),t(s,1);return o}function o(e,t,n){try{vo=Ve;var i=new Ve;return i._=e,s(i,t,n)}finally{vo=Date}}e.floor=e,e.round=i,e.ceil=r,e.offset=a,e.range=s;var l=e.utc=ze(e);return l.floor=l,l.round=ze(i),l.ceil=ze(r),l.offset=ze(a),l.range=o,e}function ze(e){return function(t,n){try{vo=Ve;var i=new Ve;return i._=t,e(i,n)._}finally{vo=Date}}}function $e(e){function t(e){function t(t){for(var n,r,a,s=[],o=-1,l=0;++o<i;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(r=yo[n=e.charAt(++o)])&&(n=e.charAt(++o)),(a=M[n])&&(n=a(t,null==r?"e"===n?" ":"0":r)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}var i=e.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,e,t,0);if(r!=t.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&vo!==Ve,s=new(a?Ve:vo);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+(0|i.Z/100),i.M+i.Z%100,i.S,i.L),a?s._:s},t.toString=function(){return e},t}function n(e,t,n,i){for(var r,a,s,o=0,l=t.length,u=n.length;l>o;){if(i>=u)return-1;if(r=t.charCodeAt(o++),37===r){if(s=t.charAt(o++),a=T[s in yo?t.charAt(o++):s],!a||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(e,t,n){S.lastIndex=0;var i=S.exec(t.slice(n));return i?(e.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function r(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function a(e,t,n){k.lastIndex=0;var i=k.exec(t.slice(n));return i?(e.m=A.get(i[0].toLowerCase()),n+i[0].length):-1}function s(e,t,n){L.lastIndex=0;var i=L.exec(t.slice(n));return i?(e.m=E.get(i[0].toLowerCase()),n+i[0].length):-1}function o(e,t,i){return n(e,M.c.toString(),t,i)}function l(e,t,i){return n(e,M.x.toString(),t,i)}function u(e,t,i){return n(e,M.X.toString(),t,i)}function c(e,t,n){var i=b.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)}var d=e.dateTime,f=e.date,h=e.time,p=e.periods,m=e.days,_=e.shortDays,g=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{vo=Ve;var t=new vo;return t._=e,i(t)}finally{vo=Date}}var i=t(e);return n.parse=function(e){try{vo=Ve;var t=i.parse(e);return t&&t._}finally{vo=Date}},n.toString=i.toString,n},t.multi=t.utc.multi=ft;var b=ss.map(),y=We(m),x=Ke(m),S=We(_),w=Ke(_),L=We(g),E=Ke(g),k=We(v),A=Ke(v);p.forEach(function(e,t){b.set(e.toLowerCase(),t)});var M={a:function(e){return _[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return g[e.getMonth()]},c:t(d),d:function(e,t){return qe(e.getDate(),t,2)},e:function(e,t){return qe(e.getDate(),t,2)},H:function(e,t){return qe(e.getHours(),t,2)},I:function(e,t){return qe(e.getHours()%12||12,t,2)},j:function(e,t){return qe(1+go.dayOfYear(e),t,3)},L:function(e,t){return qe(e.getMilliseconds(),t,3)},m:function(e,t){return qe(e.getMonth()+1,t,2)},M:function(e,t){return qe(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return qe(e.getSeconds(),t,2)},U:function(e,t){return qe(go.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qe(go.mondayOfYear(e),t,2)},x:t(f),X:t(h),y:function(e,t){return qe(e.getFullYear()%100,t,2)},Y:function(e,t){return qe(e.getFullYear()%1e4,t,4)},Z:ct,"%":function(){return"%"}},T={a:i,A:r,b:a,B:s,c:o,d:rt,e:rt,H:st,I:st,j:at,L:ut,m:it,M:ot,p:c,S:lt,U:Xe,w:Je,W:Ze,x:l,X:u,y:et,Y:Qe,Z:tt,"%":dt};return t}function qe(e,t,n){var i=0>e?"-":"",r=(i?-e:e)+"",a=r.length;return i+(n>a?new Array(n-a+1).join(t)+r:r)}function We(e){return new RegExp("^(?:"+e.map(ss.requote).join("|")+")","i")}function Ke(e){for(var t=new f,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Je(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Xe(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Ze(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Qe(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function et(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+2));return i?(e.y=nt(+i[0]),n+i[0].length):-1}function tt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function nt(e){return e+(e>68?1900:2e3)}function it(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function rt(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function at(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function st(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function ot(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function lt(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function ut(e,t,n){xo.lastIndex=0;var i=xo.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function ct(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=0|ys(t)/60,r=ys(t)%60;return n+qe(i,"0",2)+qe(r,"0",2)}function dt(e,t,n){So.lastIndex=0;var i=So.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function ft(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}function ht(){}function pt(e,t,n){var i=n.s=e+t,r=i-e,a=i-r;n.t=e-a+(t-r)}function mt(e,t){e&&ko.hasOwnProperty(e.type)&&ko[e.type](e,t)}function _t(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function gt(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)_t(e[n],t,1);t.polygonEnd()}function vt(){function e(e,t){e*=js,t=t*js/2+Ys/4;var n=e-i,s=n>=0?1:-1,o=s*n,l=Math.cos(t),u=Math.sin(t),c=a*u,d=r*l+c*Math.cos(o),f=c*s*Math.sin(o);Mo.add(Math.atan2(f,d)),i=e,r=l,a=u}var t,n,i,r,a;To.point=function(s,o){To.point=e,i=(t=s)*js,r=Math.cos(o=(n=o)*js/2+Ys/4),a=Math.sin(o)},To.lineEnd=function(){e(t,n)}}function bt(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function yt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function xt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function St(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function wt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Lt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Et(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function kt(e,t){return ys(e[0]-t[0])<Us&&ys(e[1]-t[1])<Us}function At(e,t){e*=js;var n=Math.cos(t*=js);Mt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Mt(e,t,n){++Co,Do+=(e-Do)/Co,Io+=(t-Io)/Co,Oo+=(n-Oo)/Co}function Tt(){function e(e,r){e*=js;var a=Math.cos(r*=js),s=a*Math.cos(e),o=a*Math.sin(e),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*o)*u+(u=i*s-t*l)*u+(u=t*o-n*s)*u),t*s+n*o+i*l);Ro+=u,No+=u*(t+(t=s)),Fo+=u*(n+(n=o)),Bo+=u*(i+(i=l)),Mt(t,n,i)}var t,n,i;Ho.point=function(r,a){r*=js;var s=Math.cos(a*=js);t=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(a),Ho.point=e,Mt(t,n,i)}}function Ct(){Ho.point=At}function Rt(){function e(e,t){e*=js;var n=Math.cos(t*=js),s=n*Math.cos(e),o=n*Math.sin(e),l=Math.sin(t),u=r*l-a*o,c=a*s-i*l,d=i*o-r*s,f=Math.sqrt(u*u+c*c+d*d),h=i*s+r*o+a*l,p=f&&-re(h)/f,m=Math.atan2(f,h);Uo+=p*u,Po+=p*c,Yo+=p*d,Ro+=m,No+=m*(i+(i=s)),Fo+=m*(r+(r=o)),Bo+=m*(a+(a=l)),Mt(i,r,a)}var t,n,i,r,a;Ho.point=function(s,o){t=s,n=o,Ho.point=e,s*=js;var l=Math.cos(o*=js);i=l*Math.cos(s),r=l*Math.sin(s),a=Math.sin(o),Mt(i,r,a)},Ho.lineEnd=function(){e(t,n),Ho.lineEnd=Ct,Ho.point=At}}function Dt(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n}function It(){return!0}function Ot(e,t,n,i,r){var a=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(kt(n,i)){r.lineStart();for(var o=0;t>o;++o)r.point((n=e[o])[0],n[1]);return r.lineEnd(),void 0}var l=new Ft(n,e,null,!0),u=new Ft(n,null,l,!1);l.o=u,a.push(l),s.push(u),l=new Ft(i,e,null,!1),u=new Ft(i,null,l,!0),l.o=u,a.push(l),s.push(u)}}),s.sort(t),Nt(a),Nt(s),a.length){for(var o=0,l=n,u=s.length;u>o;++o)s[o].e=l=!l;for(var c,d,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var o=0,u=c.length;u>o;++o)r.point((d=c[o])[0],d[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p){c=h.p.z;for(var o=c.length-1;o>=0;--o)r.point((d=c[o])[0],d[1])}else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);r.lineEnd()}}}function Nt(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Ft(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Bt(e,t,n,i){return function(r,a){function s(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&a.point(t,n)}function o(e,t){var n=r(e,t);_.point(n[0],n[1])}function l(){v.point=o,_.lineStart()}function u(){v.point=s,_.lineEnd()}function c(e,t){m.push([e,t]);var n=r(e,t);y.point(n[0],n[1])}function d(){y.lineStart(),m=[]}function f(){c(m[0][0],m[0][1]),y.lineEnd();var e,t=y.clean(),n=b.buffer(),i=n.length;if(m.pop(),p.push(m),m=null,i)if(1&t){e=n[0];var r,i=e.length-1,s=-1;if(i>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++s<i;)a.point((r=e[s])[0],r[1]);a.lineEnd();

}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ut))}var h,p,m,_=t(a),g=r.invert(i[0],i[1]),v={point:s,lineStart:l,lineEnd:u,polygonStart:function(){v.point=c,v.lineStart=d,v.lineEnd=f,h=[],p=[]},polygonEnd:function(){v.point=s,v.lineStart=l,v.lineEnd=u,h=ss.merge(h);var e=jt(g,p);h.length?(x||(a.polygonStart(),x=!0),Ot(h,Yt,e,n,a)):e&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),h=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=Pt(),y=t(b),x=!1;return v}}function Ut(e){return e.length>1}function Pt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Yt(e,t){return((e=e.x)[0]<0?e[1]-Vs-Us:Vs-e[1])-((t=t.x)[0]<0?t[1]-Vs-Us:Vs-t[1])}function Ht(e){var t,n=0/0,i=0/0,r=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(a,s){var o=a>0?Ys:-Ys,l=ys(a-n);ys(l-Ys)<Us?(e.point(n,i=(i+s)/2>0?Vs:-Vs),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(o,i),e.point(a,i),t=0):r!==o&&l>=Ys&&(ys(n-r)<Us&&(n-=r*Us),ys(a-o)<Us&&(a-=o*Us),i=Gt(n,i,a,s),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(o,i),t=0),e.point(n=a,i=s),r=o},lineEnd:function(){e.lineEnd(),n=i=0/0},clean:function(){return 2-t}}}function Gt(e,t,n,i){var r,a,s=Math.sin(e-n);return ys(s)>Us?Math.atan((Math.sin(t)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*a*s)):(t+i)/2}function Vt(e,t,n,i){var r;if(null==e)r=n*Vs,i.point(-Ys,r),i.point(0,r),i.point(Ys,r),i.point(Ys,0),i.point(Ys,-r),i.point(0,-r),i.point(-Ys,-r),i.point(-Ys,0),i.point(-Ys,r);else if(ys(e[0]-t[0])>Us){var a=e[0]<t[0]?Ys:-Ys;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(t[0],t[1])}function jt(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],a=0,s=0;Mo.reset();for(var o=0,l=t.length;l>o;++o){var u=t[o],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Ys/4,p=Math.sin(h),m=Math.cos(h),_=1;;){_===c&&(_=0),e=u[_];var g=e[0],v=e[1]/2+Ys/4,b=Math.sin(v),y=Math.cos(v),x=g-f,S=x>=0?1:-1,w=S*x,L=w>Ys,E=p*b;if(Mo.add(Math.atan2(E*S*Math.sin(w),m*y+E*Math.cos(w))),a+=L?x+S*Hs:x,L^f>=n^g>=n){var k=xt(bt(d),bt(e));Lt(k);var A=xt(r,k);Lt(A);var M=(L^x>=0?-1:1)*ae(A[2]);(i>M||i===M&&(k[0]||k[1]))&&(s+=L^x>=0?1:-1)}if(!_++)break;f=g,p=b,m=y,d=e}}return(-Us>a||Us>a&&0>Mo)^1&s}function zt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>a}function n(e){var n,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],m=t(d,f),_=s?m?0:r(d,f):m?r(d+(0>d?Ys:-Ys),f):0;if(!n&&(u=l=m)&&e.lineStart(),m!==l&&(h=i(n,p),(kt(n,h)||kt(p,h))&&(p[0]+=Us,p[1]+=Us,m=t(p[0],p[1]))),m!==l)c=0,m?(e.lineStart(),h=i(p,n),e.point(h[0],h[1])):(h=i(n,p),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(o&&n&&s^m){var g;_&a||!(g=i(p,n,!0))||(c=0,s?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||n&&kt(n,p)||e.point(p[0],p[1]),n=p,l=m,a=_},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(e,t,n){var i=bt(e),r=bt(t),s=[1,0,0],o=xt(i,r),l=yt(o,o),u=o[0],c=l-u*u;if(!c)return!n&&e;var d=a*l/c,f=-a*u/c,h=xt(s,o),p=wt(s,d),m=wt(o,f);St(p,m);var _=h,g=yt(p,_),v=yt(_,_),b=g*g-v*(yt(p,p)-1);if(!(0>b)){var y=Math.sqrt(b),x=wt(_,(-g-y)/v);if(St(x,p),x=Et(x),!n)return x;var S,w=e[0],L=t[0],E=e[1],k=t[1];w>L&&(S=w,w=L,L=S);var A=L-w,M=ys(A-Ys)<Us,T=M||Us>A;if(!M&&E>k&&(S=E,E=k,k=S),T?M?E+k>0^x[1]<(ys(x[0]-w)<Us?E:k):E<=x[1]&&x[1]<=k:A>Ys^(w<=x[0]&&x[0]<=L)){var C=wt(_,(-g+y)/v);return St(C,p),[x,Et(C)]}}}function r(t,n){var i=s?e:Ys-e,r=0;return-i>t?r|=1:t>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var a=Math.cos(e),s=a>0,o=ys(a)>Us,l=bn(e,6*js);return Bt(t,n,l,s?[0,-e]:[-Ys,e-Ys])}function $t(e,t,n,i){return function(r){var a,s=r.a,o=r.b,l=s.x,u=s.y,c=o.x,d=o.y,f=0,h=1,p=c-l,m=d-u;if(a=e-l,p||!(a>0)){if(a/=p,0>p){if(f>a)return;h>a&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=n-l,p||!(0>a)){if(a/=p,0>p){if(a>h)return;a>f&&(f=a)}else if(p>0){if(f>a)return;h>a&&(h=a)}if(a=t-u,m||!(a>0)){if(a/=m,0>m){if(f>a)return;h>a&&(h=a)}else if(m>0){if(a>h)return;a>f&&(f=a)}if(a=i-u,m||!(0>a)){if(a/=m,0>m){if(a>h)return;a>f&&(f=a)}else if(m>0){if(f>a)return;h>a&&(h=a)}return f>0&&(r.a={x:l+f*p,y:u+f*m}),1>h&&(r.b={x:l+h*p,y:u+h*m}),r}}}}}}function qt(e,t,n,i){function r(i,r){return ys(i[0]-e)<Us?r>0?0:3:ys(i[0]-n)<Us?r>0?2:1:ys(i[1]-t)<Us?r>0?1:0:r>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){function l(e){for(var t=0,n=_.length,i=e[1],r=0;n>r;++r)for(var a,s=1,o=_[r],l=o.length,u=o[0];l>s;++s)a=o[s],u[1]<=i?a[1]>i&&ie(u,a,e)>0&&++t:a[1]<=i&&ie(u,a,e)<0&&--t,u=a;return 0!==t}function u(a,o,l,u){var c=0,d=0;if(null==a||(c=r(a,l))!==(d=r(o,l))||s(a,o)<0^l>0){do u.point(0===c||3===c?e:n,c>1?i:t);while((c=(c+l+4)%4)!==d)}else u.point(o[0],o[1])}function c(r,a){return r>=e&&n>=r&&a>=t&&i>=a}function d(e,t){c(e,t)&&o.point(e,t)}function f(){T.point=p,_&&_.push(g=[]),L=!0,w=!1,x=S=0/0}function h(){m&&(p(v,b),y&&w&&A.rejoin(),m.push(A.buffer())),T.point=d,w&&o.lineEnd()}function p(e,t){e=Math.max(-Vo,Math.min(Vo,e)),t=Math.max(-Vo,Math.min(Vo,t));var n=c(e,t);if(_&&g.push([e,t]),L)v=e,b=t,y=n,L=!1,n&&(o.lineStart(),o.point(e,t));else if(n&&w)o.point(e,t);else{var i={a:{x:x,y:S},b:{x:e,y:t}};M(i)?(w||(o.lineStart(),o.point(i.a.x,i.a.y)),o.point(i.b.x,i.b.y),n||o.lineEnd(),E=!1):n&&(o.lineStart(),o.point(e,t),E=!1)}x=e,S=t,w=n}var m,_,g,v,b,y,x,S,w,L,E,k=o,A=Pt(),M=$t(e,t,n,i),T={point:d,lineStart:f,lineEnd:h,polygonStart:function(){o=A,m=[],_=[],E=!0},polygonEnd:function(){o=k,m=ss.merge(m);var t=l([e,i]),n=E&&t,r=m.length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),u(null,null,1,o),o.lineEnd()),r&&Ot(m,a,t,u,o),o.polygonEnd()),m=_=g=null}};return T}}function Wt(e){var t=0,n=Ys/3,i=dn(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Ys/180,n=e[1]*Ys/180):[180*(t/Ys),180*(n/Ys)]},r}function Kt(e,t){function n(e,t){var n=Math.sqrt(a-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var i=Math.sin(e),r=(i+Math.sin(t))/2,a=1+i*(2*r-i),s=Math.sqrt(a)/r;return n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,ae((a-(e*e+n*n)*r*r)/(2*r))]},n}function Jt(){function e(e,t){zo+=r*e-i*t,i=e,r=t}var t,n,i,r;Jo.point=function(a,s){Jo.point=e,t=i=a,n=r=s},Jo.lineEnd=function(){e(t,n)}}function Xt(e,t){$o>e&&($o=e),e>Wo&&(Wo=e),qo>t&&(qo=t),t>Ko&&(Ko=t)}function Zt(){function e(e,t){s.push("M",e,",",t,a)}function t(e,t){s.push("M",e,",",t),o.point=n}function n(e,t){s.push("L",e,",",t)}function i(){o.point=e}function r(){s.push("Z")}var a=Qt(4.5),s=[],o={point:e,lineStart:function(){o.point=t},lineEnd:i,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=i,o.point=e},pointRadius:function(e){return a=Qt(e),o},result:function(){if(s.length){var e=s.join("");return s=[],e}}};return o}function Qt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function en(e,t){Do+=e,Io+=t,++Oo}function tn(){function e(e,i){var r=e-t,a=i-n,s=Math.sqrt(r*r+a*a);No+=s*(t+e)/2,Fo+=s*(n+i)/2,Bo+=s,en(t=e,n=i)}var t,n;Zo.point=function(i,r){Zo.point=e,en(t=i,n=r)}}function nn(){Zo.point=en}function rn(){function e(e,t){var n=e-i,a=t-r,s=Math.sqrt(n*n+a*a);No+=s*(i+e)/2,Fo+=s*(r+t)/2,Bo+=s,s=r*e-i*t,Uo+=s*(i+e),Po+=s*(r+t),Yo+=3*s,en(i=e,r=t)}var t,n,i,r;Zo.point=function(a,s){Zo.point=e,en(t=i=a,n=r=s)},Zo.lineEnd=function(){e(t,n)}}function an(e){function t(t,n){e.moveTo(t+s,n),e.arc(t,n,s,0,Hs)}function n(t,n){e.moveTo(t,n),o.point=i}function i(t,n){e.lineTo(t,n)}function r(){o.point=t}function a(){e.closePath()}var s=4.5,o={point:t,lineStart:function(){o.point=n},lineEnd:r,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=r,o.point=t},pointRadius:function(e){return s=e,o},result:w};return o}function sn(e){function t(e){return(o?i:n)(e)}function n(t){return un(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})}function i(t){function n(n,i){n=e(n,i),t.point(n[0],n[1])}function i(){b=0/0,L.point=a,t.lineStart()}function a(n,i){var a=bt([n,i]),s=e(n,i);r(b,y,v,x,S,w,b=s[0],y=s[1],v=n,x=a[0],S=a[1],w=a[2],o,t),t.point(b,y)}function s(){L.point=n,t.lineEnd()}function l(){i(),L.point=u,L.lineEnd=c}function u(e,t){a(d=e,f=t),h=b,p=y,m=x,_=S,g=w,L.point=a}function c(){r(b,y,v,x,S,w,h,p,d,m,_,g,o,t),L.lineEnd=s,s()}var d,f,h,p,m,_,g,v,b,y,x,S,w,L={point:n,lineStart:i,lineEnd:s,polygonStart:function(){t.polygonStart(),L.lineStart=l},polygonEnd:function(){t.polygonEnd(),L.lineStart=i}};return L}function r(t,n,i,o,l,u,c,d,f,h,p,m,_,g){var v=c-t,b=d-n,y=v*v+b*b;if(y>4*a&&_--){var x=o+h,S=l+p,w=u+m,L=Math.sqrt(x*x+S*S+w*w),E=Math.asin(w/=L),k=ys(ys(w)-1)<Us||ys(i-f)<Us?(i+f)/2:Math.atan2(S,x),A=e(k,E),M=A[0],T=A[1],C=M-t,R=T-n,D=b*C-v*R;(D*D/y>a||ys((v*C+b*R)/y-.5)>.3||s>o*h+l*p+u*m)&&(r(t,n,i,o,l,u,M,T,k,x/=L,S/=L,w,_,g),g.point(M,T),r(M,T,k,x,S,w,c,d,f,h,p,m,_,g))}}var a=.5,s=Math.cos(30*js),o=16;return t.precision=function(e){return arguments.length?(o=(a=e*e)>0&&16,t):Math.sqrt(a)},t}function on(e){var t=sn(function(t,n){return e([t*zs,n*zs])});return function(e){return fn(t(e))}}function ln(e){this.stream=e}function un(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function cn(e){return dn(function(){return e})()}function dn(e){function t(e){return e=o(e[0]*js,e[1]*js),[e[0]*f+l,u-e[1]*f]}function n(e){return e=o.invert((e[0]-l)/f,(u-e[1])/f),e&&[e[0]*zs,e[1]*zs]}function i(){o=Dt(s=mn(g,v,b),a);var e=a(m,_);return l=h-e[0]*f,u=p+e[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),t}var a,s,o,l,u,c,d=sn(function(e,t){return e=a(e,t),[e[0]*f+l,u-e[1]*f]}),f=150,h=480,p=250,m=0,_=0,g=0,v=0,b=0,y=Go,x=Re,S=null,w=null;return t.stream=function(e){return c&&(c.valid=!1),c=fn(y(s,d(x(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(y=null==e?(S=e,Go):zt((S=+e)*js),r()):S},t.clipExtent=function(e){return arguments.length?(w=e,x=e?qt(e[0][0],e[0][1],e[1][0],e[1][1]):Re,r()):w},t.scale=function(e){return arguments.length?(f=+e,i()):f},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],i()):[h,p]},t.center=function(e){return arguments.length?(m=e[0]%360*js,_=e[1]%360*js,i()):[m*zs,_*zs]},t.rotate=function(e){return arguments.length?(g=e[0]%360*js,v=e[1]%360*js,b=e.length>2?e[2]%360*js:0,i()):[g*zs,v*zs,b*zs]},ss.rebind(t,d,"precision"),function(){return a=e.apply(this,arguments),t.invert=a.invert&&n,i()}}function fn(e){return un(e,function(t,n){e.point(t*js,n*js)})}function hn(e,t){return[e,t]}function pn(e,t){return[e>Ys?e-Hs:-Ys>e?e+Hs:e,t]}function mn(e,t,n){return e?t||n?Dt(gn(e),vn(t,n)):gn(e):t||n?vn(t,n):pn}function _n(e){return function(t,n){return t+=e,[t>Ys?t-Hs:-Ys>t?t+Hs:t,n]}}function gn(e){var t=_n(e);return t.invert=_n(-e),t}function vn(e,t){function n(e,t){var n=Math.cos(t),o=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*i+o*r;return[Math.atan2(l*a-c*s,o*i-u*r),ae(c*a+l*s)]}var i=Math.cos(e),r=Math.sin(e),a=Math.cos(t),s=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),o=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*a-l*s;return[Math.atan2(l*a+u*s,o*i+c*r),ae(c*i-o*r)]},n}function bn(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,a,s,o){var l=s*t;null!=r?(r=yn(n,r),a=yn(n,a),(s>0?a>r:r>a)&&(r+=s*Hs)):(r=e+s*Hs,a=e-.5*l);for(var u,c=r;s>0?c>a:a>c;c-=l)o.point((u=Et([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function yn(e,t){var n=bt(t);n[0]-=e,Lt(n);var i=re(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Us)%(2*Math.PI)}function xn(e,t,n){var i=ss.range(e,t-Us,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Sn(e,t,n){var i=ss.range(e,t-Us,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function wn(e){return e.source}function Ln(e){return e.target}function En(e,t,n,i){var r=Math.cos(t),a=Math.sin(t),s=Math.cos(i),o=Math.sin(i),l=r*Math.cos(e),u=r*Math.sin(e),c=s*Math.cos(n),d=s*Math.sin(n),f=2*Math.asin(Math.sqrt(ue(i-t)+r*s*ue(n-e))),h=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*h,n=Math.sin(f-e)*h,i=n*l+t*c,r=n*u+t*d,s=n*a+t*o;return[Math.atan2(r,i)*zs,Math.atan2(s,Math.sqrt(i*i+r*r))*zs]}:function(){return[e*zs,t*zs]};return p.distance=f,p}function kn(){function e(e,r){var a=Math.sin(r*=js),s=Math.cos(r),o=ys((e*=js)-t),l=Math.cos(o);Qo+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=i*a-n*s*l)*o),n*a+i*s*l),t=e,n=a,i=s}var t,n,i;el.point=function(r,a){t=r*js,n=Math.sin(a*=js),i=Math.cos(a),el.point=e},el.lineEnd=function(){el.point=el.lineEnd=w}}function An(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),a=e(i*r);return[a*r*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),a=Math.sin(r),s=Math.cos(r);return[Math.atan2(e*a,i*s),Math.asin(i&&n*a/i)]},n}function Mn(e,t){function n(e,t){s>0?-Vs+Us>t&&(t=-Vs+Us):t>Vs-Us&&(t=Vs-Us);var n=s/Math.pow(r(t),a);return[n*Math.sin(a*e),s-n*Math.cos(a*e)]}var i=Math.cos(e),r=function(e){return Math.tan(Ys/4+e/2)},a=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(r(t)/r(e)),s=i*Math.pow(r(e),a)/a;return a?(n.invert=function(e,t){var n=s-t,i=ne(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(s/i,1/a))-Vs]},n):Cn}function Tn(e,t){function n(e,t){var n=a-t;return[n*Math.sin(r*e),a-n*Math.cos(r*e)]}var i=Math.cos(e),r=e===t?Math.sin(e):(i-Math.cos(t))/(t-e),a=i/r+e;return ys(r)<Us?hn:(n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,a-ne(r)*Math.sqrt(e*e+n*n)]},n)}function Cn(e,t){return[e,Math.log(Math.tan(Ys/4+t/2))]}function Rn(e){var t,n=cn(e),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var s=a.apply(n,arguments);if(s===n){if(t=null==e){var o=Ys*i(),l=r();a([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(s=null);return s},n.clipExtent(null)}function Dn(e,t){return[Math.log(Math.tan(Ys/4+t/2)),-e]}function In(e){return e[0]}function On(e){return e[1]}function Nn(e){for(var t=e.length,n=[0,1],i=2,r=2;t>r;r++){for(;i>1&&ie(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Fn(e,t){return e[0]-t[0]||e[1]-t[1]}function Bn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Un(e,t,n,i){var r=e[0],a=n[0],s=t[0]-r,o=i[0]-a,l=e[1],u=n[1],c=t[1]-l,d=i[1]-u,f=(o*(l-u)-d*(r-a))/(d*s-o*c);return[r+f*s,l+f*c]}function Pn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Yn(){oi(this),this.edge=this.site=this.circle=null}function Hn(e){var t=fl.pop()||new Yn;return t.site=e,t}function Gn(e){Zn(e),ul.remove(e),fl.push(e),oi(e)}function Vn(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},a=e.P,s=e.N,o=[e];Gn(e);for(var l=a;l.circle&&ys(n-l.circle.x)<Us&&ys(i-l.circle.cy)<Us;)a=l.P,o.unshift(l),Gn(l),l=a;o.unshift(l),Zn(l);for(var u=s;u.circle&&ys(n-u.circle.x)<Us&&ys(i-u.circle.cy)<Us;)s=u.N,o.push(u),Gn(u),u=s;o.push(u),Zn(u);var c,d=o.length;for(c=1;d>c;++c)u=o[c],l=o[c-1],ri(u.edge,l.site,u.site,r);l=o[0],u=o[d-1],u.edge=ni(l.site,u.site,null,r),Xn(l),Xn(u)}function jn(e){for(var t,n,i,r,a=e.x,s=e.y,o=ul._;o;)if(i=zn(o,s)-a,i>Us)o=o.L;else{if(r=a-$n(o,s),!(r>Us)){i>-Us?(t=o.P,n=o):r>-Us?(t=o,n=o.N):t=n=o;break}if(!o.R){t=o;break}o=o.R}var l=Hn(e);if(ul.insert(t,l),t||n){if(t===n)return Zn(t),n=Hn(t.site),ul.insert(l,n),l.edge=n.edge=ni(t.site,l.site),Xn(t),Xn(n),void 0;if(!n)return l.edge=ni(t.site,l.site),void 0;Zn(t),Zn(n);var u=t.site,c=u.x,d=u.y,f=e.x-c,h=e.y-d,p=n.site,m=p.x-c,_=p.y-d,g=2*(f*_-h*m),v=f*f+h*h,b=m*m+_*_,y={x:(_*v-h*b)/g+c,y:(f*b-m*v)/g+d};ri(n.edge,u,p,y),l.edge=ni(u,e,null,y),n.edge=ni(e,p,null,y),Xn(t),Xn(n)}}function zn(e,t){var n=e.site,i=n.x,r=n.y,a=r-t;if(!a)return i;var s=e.P;if(!s)return-1/0;n=s.site;var o=n.x,l=n.y,u=l-t;if(!u)return o;var c=o-i,d=1/a-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+r-a/2)))/d+i:(i+o)/2}function $n(e,t){var n=e.N;if(n)return zn(n,t);var i=e.site;return i.y===t?i.x:1/0}function qn(e){this.site=e,this.edges=[]}function Wn(e){for(var t,n,i,r,a,s,o,l,u,c,d=e[0][0],f=e[1][0],h=e[0][1],p=e[1][1],m=ll,_=m.length;_--;)if(a=m[_],a&&a.prepare())for(o=a.edges,l=o.length,s=0;l>s;)c=o[s].end(),i=c.x,r=c.y,u=o[++s%l].start(),t=u.x,n=u.y,(ys(i-t)>Us||ys(r-n)>Us)&&(o.splice(s,0,new ai(ii(a.site,c,ys(i-d)<Us&&p-r>Us?{x:d,y:ys(t-d)<Us?n:p}:ys(r-p)<Us&&f-i>Us?{x:ys(n-p)<Us?t:f,y:p}:ys(i-f)<Us&&r-h>Us?{x:f,y:ys(t-f)<Us?n:h}:ys(r-h)<Us&&i-d>Us?{x:ys(n-h)<Us?t:d,y:h}:null),a.site,null)),++l)}function Kn(e,t){return t.angle-e.angle}function Jn(){oi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,a=n.site;if(i!==a){var s=r.x,o=r.y,l=i.x-s,u=i.y-o,c=a.x-s,d=a.y-o,f=2*(l*d-u*c);if(!(f>=-Ps)){var h=l*l+u*u,p=c*c+d*d,m=(d*h-u*p)/f,_=(l*p-c*h)/f,d=_+o,g=hl.pop()||new Jn;g.arc=e,g.site=r,g.x=m+s,g.y=d+Math.sqrt(m*m+_*_),g.cy=d,e.circle=g;for(var v=null,b=dl._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}dl.insert(v,g),v||(cl=g)}}}}function Zn(e){var t=e.circle;t&&(t.P||(cl=t.N),dl.remove(t),hl.push(t),oi(t),e.circle=null)}function Qn(e){for(var t,n=ol,i=$t(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)t=n[r],(!ei(t,e)||!i(t)||ys(t.a.x-t.b.x)<Us&&ys(t.a.y-t.b.y)<Us)&&(t.a=t.b=null,n.splice(r,1))}function ei(e,t){var n=e.b;if(n)return!0;var i,r,a=e.a,s=t[0][0],o=t[1][0],l=t[0][1],u=t[1][1],c=e.l,d=e.r,f=c.x,h=c.y,p=d.x,m=d.y,_=(f+p)/2,g=(h+m)/2;if(m===h){if(s>_||_>=o)return;if(f>p){if(a){if(a.y>=u)return}else a={x:_,y:l};n={x:_,y:u}}else{if(a){if(a.y<l)return}else a={x:_,y:u};n={x:_,y:l}}}else if(i=(f-p)/(m-h),r=g-i*_,-1>i||i>1)if(f>p){if(a){if(a.y>=u)return}else a={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(m>h){if(a){if(a.x>=o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}else{if(a){if(a.x<s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}return e.a=a,e.b=n,!0}function ti(e,t){this.l=e,this.r=t,this.a=this.b=null}function ni(e,t,n,i){var r=new ti(e,t);return ol.push(r),n&&ri(r,e,t,n),i&&ri(r,t,e,i),ll[e.i].edges.push(new ai(r,e,t)),ll[t.i].edges.push(new ai(r,t,e)),r}function ii(e,t,n){var i=new ti(e,null);return i.a=t,i.b=n,ol.push(i),i}function ri(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function ai(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function si(){this._=null}function oi(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function li(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ui(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ci(e){for(;e.L;)e=e.L;return e}function di(e,t){var n,i,r,a=e.sort(fi).pop();for(ol=[],ll=new Array(e.length),ul=new si,dl=new si;;)if(r=cl,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))(a.x!==n||a.y!==i)&&(ll[a.i]=new qn(a),jn(a),n=a.x,i=a.y),a=e.pop();else{if(!r)break;Vn(r.arc)}t&&(Qn(t),Wn(t));var s={cells:ll,edges:ol};return ul=dl=ol=ll=null,s}function fi(e,t){return t.y-e.y||t.x-e.x}function hi(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function pi(e){return e.x}function mi(e){return e.y}function _i(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gi(e,t,n,i,r,a){if(!e(t,n,i,r,a)){var s=.5*(n+r),o=.5*(i+a),l=t.nodes;l[0]&&gi(e,l[0],n,i,s,o),l[1]&&gi(e,l[1],s,i,r,o),l[2]&&gi(e,l[2],n,o,s,a),l[3]&&gi(e,l[3],s,o,r,a)}}function vi(e,t,n,i,r,a,s){var o,l=1/0;return function u(e,c,d,f,h){if(!(c>a||d>s||i>f||r>h)){if(p=e.point){var p,m=t-p[0],_=n-p[1],g=m*m+_*_;if(l>g){var v=Math.sqrt(l=g);i=t-v,r=n-v,a=t+v,s=n+v,o=p}}for(var b=e.nodes,y=.5*(c+f),x=.5*(d+h),S=t>=y,w=n>=x,L=w<<1|S,E=L+4;E>L;++L)if(e=b[3&L])switch(3&L){case 0:u(e,c,d,y,x);break;case 1:u(e,y,d,f,x);break;case 2:u(e,c,x,y,h);break;case 3:u(e,y,x,f,h)}}}(e,i,r,a,s),o}function bi(e,t){e=ss.rgb(e),t=ss.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,s=t.g-i,o=t.b-r;return function(e){return"#"+Le(Math.round(n+a*e))+Le(Math.round(i+s*e))+Le(Math.round(r+o*e))}}function yi(e,t){var n,i={},r={};for(n in e)n in t?i[n]=wi(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function xi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Si(e,t){var n,i,r,a=ml.lastIndex=_l.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=ml.exec(e))&&(i=_l.exec(t));)(r=i.index)>a&&(r=t.slice(a,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:xi(n,i)})),a=_l.lastIndex;return a<t.length&&(r=t.slice(a),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;t>i;++i)o[(n=l[i]).i]=n.x(e);return o.join("")})}function wi(e,t){for(var n,i=ss.interpolators.length;--i>=0&&!(n=ss.interpolators[i](e,t)););return n}function Li(e,t){var n,i=[],r=[],a=e.length,s=t.length,o=Math.min(e.length,t.length);for(n=0;o>n;++n)i.push(wi(e[n],t[n]));for(;a>n;++n)r[n]=e[n];for(;s>n;++n)r[n]=t[n];return function(e){for(n=0;o>n;++n)r[n]=i[n](e);return r}}function Ei(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function ki(e){return function(t){return 1-e(1-t)}}function Ai(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Mi(e){return e*e}function Ti(e){return e*e*e}function Ci(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Ri(e){return function(t){return Math.pow(t,e)}}function Di(e){return 1-Math.cos(e*Vs)}function Ii(e){return Math.pow(2,10*(e-1))}function Oi(e){return 1-Math.sqrt(1-e*e)}function Ni(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Hs*Math.asin(1/e):(e=1,n=t/4),function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*Hs/t)}}function Fi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Bi(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ui(e,t){e=ss.hcl(e),t=ss.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,s=t.c-i,o=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.c:i),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return pe(n+a*e,i+s*e,r+o*e)+""}}function Pi(e,t){e=ss.hsl(e),t=ss.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,s=t.s-i,o=t.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?t.s:i),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return fe(n+a*e,i+s*e,r+o*e)+""}}function Yi(e,t){e=ss.lab(e),t=ss.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,s=t.a-i,o=t.b-r;return function(e){return _e(n+a*e,i+s*e,r+o*e)+""}}function Hi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Gi(e){var t=[e.a,e.b],n=[e.c,e.d],i=ji(t),r=Vi(t,n),a=ji(zi(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*zs,this.translate=[e.e,e.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*zs:0}function Vi(e,t){return e[0]*t[0]+e[1]*t[1]}function ji(e){var t=Math.sqrt(Vi(e,e));return t&&(e[0]/=t,e[1]/=t),t}function zi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function $i(e,t){var n,i=[],r=[],a=ss.transform(e),s=ss.transform(t),o=a.translate,l=s.translate,u=a.rotate,c=s.rotate,d=a.skew,f=s.skew,h=a.scale,p=s.scale;return o[0]!=l[0]||o[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:xi(o[0],l[0])},{i:3,x:xi(o[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:xi(u,c)})):c&&i.push(i.pop()+"rotate("+c+")"),d!=f?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:xi(d,f)}):f&&i.push(i.pop()+"skewX("+f+")"),h[0]!=p[0]||h[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:xi(h[0],p[0])},{i:n-2,x:xi(h[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(e){for(var t,a=-1;++a<n;)i[(t=r[a]).i]=t.x(e);return i.join("")}}function qi(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Wi(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Ki(e){for(var t=e.source,n=e.target,i=Xi(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Ji(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Xi(e,t){if(e===t)return e;for(var n=Ji(e),i=Ji(t),r=n.pop(),a=i.pop(),s=null;r===a;)s=r,r=n.pop(),a=i.pop();return s}function Zi(e){e.fixed|=2}function Qi(e){e.fixed&=-7}function er(e){e.fixed|=4,e.px=e.x,e.py=e.y}function tr(e){e.fixed&=-5}function nr(e,t,n){var i=0,r=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,o=s.length,l=-1;++l<o;)a=s[l],null!=a&&(nr(a,t,n),e.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,i+=u*e.point.x,r+=u*e.point.y}e.cx=i/e.charge,e.cy=r/e.charge}function ir(e,t){return ss.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ur,e}function rr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function ar(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(a=e.children)&&(r=a.length))for(var r,a,s=-1;++s<r;)n.push(a[s]);for(;null!=(e=i.pop());)t(e)}function sr(e){return e.children}function or(e){return e.value}function lr(e,t){return t.value-e.value}function ur(e){return ss.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function cr(e){return e.x}function dr(e){return e.y}function fr(e,t,n){e.y0=t,e.y=n}function hr(e){return ss.range(e.length)}function pr(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function mr(e){for(var t,n=1,i=0,r=e[0][1],a=e.length;a>n;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function _r(e){return e.reduce(gr,0)}function gr(e,t){return e+t[1]}function vr(e,t){return br(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function br(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,a=[];++n<=t;)a[n]=r*n+i;return a}function yr(e){return[ss.min(e),ss.max(e)]}function xr(e,t){return e.value-t.value}function Sr(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function wr(e,t){e._pack_next=t,t._pack_prev=e}function Lr(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function Er(e){function t(e){c=Math.min(e.x-e.r,c),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(u=n.length)){var n,i,r,a,s,o,l,u,c=1/0,d=-1/0,f=1/0,h=-1/0;if(n.forEach(kr),i=n[0],i.x=-i.r,i.y=0,t(i),u>1&&(r=n[1],r.x=r.r,r.y=0,t(r),u>2))for(a=n[2],Tr(i,r,a),t(a),Sr(i,a),i._pack_prev=a,Sr(a,r),r=i._pack_next,s=3;u>s;s++){Tr(i,r,a=n[s]);var p=0,m=1,_=1;for(o=r._pack_next;o!==r;o=o._pack_next,m++)if(Lr(o,a)){p=1;break}if(1==p)for(l=i._pack_prev;l!==o._pack_prev&&!Lr(l,a);l=l._pack_prev,_++);p?(_>m||m==_&&r.r<i.r?wr(i,r=o):wr(i=l,r),s--):(Sr(i,a),r=a,t(a))}var g=(c+d)/2,v=(f+h)/2,b=0;for(s=0;u>s;s++)a=n[s],a.x-=g,a.y-=v,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,n.forEach(Ar)}}function kr(e){e._pack_next=e._pack_prev=e}function Ar(e){delete e._pack_next,delete e._pack_prev}function Mr(e,t,n,i){var r=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,r)for(var a=-1,s=r.length;++a<s;)Mr(r[a],t,n,i)}function Tr(e,t,n){var i=e.r+n.r,r=t.x-e.x,a=t.y-e.y;if(i&&(r||a)){var s=t.r+n.r,o=r*r+a*a;s*=s,i*=i;var l=.5+(i-s)/(2*o),u=Math.sqrt(Math.max(0,2*s*(i+o)-(i-=o)*i-s*s))/(2*o);n.x=e.x+l*r+u*a,n.y=e.y+l*a-u*r}else n.x=e.x+i,n.y=e.y}function Cr(e,t){return e.parent==t.parent?1:2}function Rr(e){var t=e.children;return t.length?t[0]:e.t}function Dr(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ir(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function Or(e){for(var t,n=0,i=0,r=e.children,a=r.length;--a>=0;)t=r[a],t.z+=n,t.m+=n,n+=t.s+(i+=t.c)}function Nr(e,t,n){return e.a.parent===t.parent?e.a:n}function Fr(e){return 1+ss.max(e,function(e){return e.y})}function Br(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ur(e){var t=e.children;return t&&t.length?Ur(t[0]):e}function Pr(e){var t,n=e.children;return n&&(t=n.length)?Pr(n[t-1]):e}function Yr(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Hr(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>r&&(n+=r/2,r=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Gr(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Vr(e){return e.rangeExtent?e.rangeExtent():Gr(e.range())}function jr(e,t,n,i){var r=n(e[0],e[1]),a=i(t[0],t[1]);return function(e){return a(r(e))}}function zr(e,t){var n,i=0,r=e.length-1,a=e[i],s=e[r];return a>s&&(n=i,i=r,r=n,n=a,a=s,s=n),e[i]=t.floor(a),e[r]=t.ceil(s),e}function $r(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Al}function qr(e,t,n,i){var r=[],a=[],s=0,o=Math.min(e.length,t.length)-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=o;)r.push(n(e[s-1],e[s])),a.push(i(t[s-1],t[s]));return function(t){var n=ss.bisect(e,t,1,o)-1;return a[n](r[n](t))}}function Wr(e,t,n,i){function r(){var r=Math.min(e.length,t.length)>2?qr:jr,l=i?Wi:qi;return s=r(e,t,l,n),o=r(t,e,l,wi),a}function a(e){return s(e)}var s,o;return a.invert=function(e){return o(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),r()):e},a.range=function(e){return arguments.length?(t=e,r()):t},a.rangeRound=function(e){return a.range(e).interpolate(Hi)},a.clamp=function(e){return arguments.length?(i=e,r()):i},a.interpolate=function(e){return arguments.length?(n=e,r()):n},a.ticks=function(t){return Zr(e,t)},a.tickFormat=function(t,n){return Qr(e,t,n)},a.nice=function(t){return Jr(e,t),r()},a.copy=function(){return Wr(e,t,n,i)},r()}function Kr(e,t){return ss.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Jr(e,t){return zr(e,$r(Xr(e,t)[2]))}function Xr(e,t){null==t&&(t=10);var n=Gr(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),a=t/i*r;return.15>=a?r*=10:.35>=a?r*=5:.75>=a&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Zr(e,t){return ss.range.apply(ss,Xr(e,t))}function Qr(e,t,n){var i=Xr(e,t);if(n){var r=mo.exec(n);if(r.shift(),"s"===r[8]){var a=ss.formatPrefix(Math.max(ys(i[0]),ys(i[1])));return r[7]||(r[7]="."+ea(a.scale(i[2]))),r[8]="f",n=ss.format(r.join("")),function(e){return n(a.scale(e))+a.symbol}}r[7]||(r[7]="."+ta(r[8],i)),n=r.join("")}else n=",."+ea(i[2])+"f";return ss.format(n)}function ea(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ta(e,t){var n=ea(t[2]);return e in Ml?Math.abs(n-ea(Math.max(ys(t[0]),ys(t[1]))))+ +("e"!==e):n-2*("%"===e)}function na(e,t,n,i){function r(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(r(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(t=+n,e.domain(i.map(r)),s):t},s.nice=function(){var t=zr(i.map(r),n?Math:Cl);return e.domain(t),i=t.map(a),s},s.ticks=function(){var e=Gr(i),s=[],o=e[0],l=e[1],u=Math.floor(r(o)),c=Math.ceil(r(l)),d=t%1?2:t;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;d>f;f++)s.push(a(u)*f);s.push(a(u))}else for(s.push(a(u));u++<c;)for(var f=d-1;f>0;f--)s.push(a(u)*f);for(u=0;s[u]<o;u++);for(c=s.length;s[c-1]>l;c--);s=s.slice(u,c)}return s},s.tickFormat=function(e,t){if(!arguments.length)return Tl;

arguments.length<2?t=Tl:"function"!=typeof t&&(t=ss.format(t));var i,o=Math.max(.1,e/s.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(e){return e/a(l(r(e)+i))<=o?t(e):""}},s.copy=function(){return na(e.copy(),t,n,i)},Kr(s,e)}function ia(e,t,n){function i(t){return e(r(t))}var r=ra(t),a=ra(1/t);return i.invert=function(t){return a(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),i):n},i.ticks=function(e){return Zr(n,e)},i.tickFormat=function(e,t){return Qr(n,e,t)},i.nice=function(e){return i.domain(Jr(n,e))},i.exponent=function(s){return arguments.length?(r=ra(t=s),a=ra(1/t),e.domain(n.map(r)),i):t},i.copy=function(){return ia(e.copy(),t,n)},Kr(i,e)}function ra(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function aa(e,t){function n(n){return a[((r.get(n)||("range"===t.t?r.set(n,e.push(n)):0/0))-1)%a.length]}function i(t,n){return ss.range(e.length).map(function(e){return t+n*e})}var r,a,s;return n.domain=function(i){if(!arguments.length)return e;e=[],r=new f;for(var a,s=-1,o=i.length;++s<o;)r.has(a=i[s])||r.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(a=e,s=0,t={t:"range",a:arguments},n):a},n.rangePoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],u=r[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+o);return a=i(l+c*o/2,c),s=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],u=r[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):0|(u-l)/(e.length-1+o);return a=i(l+Math.round(c*o/2+(u-l-(e.length-1+o)*c)/2),c),s=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],f=(d-c)/(e.length-o+2*l);return a=i(c+f*l,f),u&&a.reverse(),s=f*(1-o),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=r[1]<r[0],c=r[u-0],d=r[1-u],f=Math.floor((d-c)/(e.length-o+2*l));return a=i(c+Math.round((d-c-(e.length-o)*f)/2),f),u&&a.reverse(),s=Math.round(f*(1-o)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Gr(t.a[0])},n.copy=function(){return aa(e,t)},n.domain(e)}function sa(e,t){function n(){var n=0,a=t.length;for(r=[];++n<a;)r[n-1]=ss.quantile(e,n/a);return i}function i(e){return isNaN(e=+e)?void 0:t[ss.bisect(r,e)]}var r;return i.domain=function(t){return arguments.length?(e=t.map(s).filter(o).sort(a),n()):e},i.range=function(e){return arguments.length?(t=e,n()):t},i.quantiles=function(){return r},i.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?r[n-1]:e[0],n<r.length?r[n]:e[e.length-1]]},i.copy=function(){return sa(e,t)},n()}function oa(e,t,n){function i(t){return n[Math.max(0,Math.min(s,Math.floor(a*(t-e))))]}function r(){return a=n.length/(t-e),s=n.length-1,i}var a,s;return i.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],r()):[e,t]},i.range=function(e){return arguments.length?(n=e,r()):n},i.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/a+e,[t,t+1/a]},i.copy=function(){return oa(e,t,n)},r()}function la(e,t){function n(n){return n>=n?t[ss.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return la(e,t)},n}function ua(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Zr(e,t)},t.tickFormat=function(t,n){return Qr(e,t,n)},t.copy=function(){return ua(e)},t}function ca(){return 0}function da(e){return e.innerRadius}function fa(e){return e.outerRadius}function ha(e){return e.startAngle}function pa(e){return e.endAngle}function ma(e){return e&&e.padAngle}function _a(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function ga(e,t,n,i,r){var a=e[0]-t[0],s=e[1]-t[1],o=(r?i:-i)/Math.sqrt(a*a+s*s),l=o*s,u=-o*a,c=e[0]+l,d=e[1]+u,f=t[0]+l,h=t[1]+u,p=(c+f)/2,m=(d+h)/2,_=f-c,g=h-d,v=_*_+g*g,b=n-i,y=c*h-f*d,x=(0>g?-1:1)*Math.sqrt(b*b*v-y*y),S=(y*g-_*x)/v,w=(-y*_-g*x)/v,L=(y*g+_*x)/v,E=(-y*_+g*x)/v,k=S-p,A=w-m,M=L-p,T=E-m;return k*k+A*A>M*M+T*T&&(S=L,w=E),[[S-l,w-u],[S*n/b,w*n/b]]}function va(e){function t(t){function s(){u.push("M",a(e(c),o))}for(var l,u=[],c=[],d=-1,f=t.length,h=Ce(n),p=Ce(i);++d<f;)r.call(this,l=t[d],d)?c.push([+h.call(this,l,d),+p.call(this,l,d)]):c.length&&(s(),c=[]);return c.length&&s(),u.length?u.join(""):null}var n=In,i=On,r=It,a=ba,s=a.key,o=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(r=e,t):r},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=Fl.get(e)||ba).key,t):s},t.tension=function(e){return arguments.length?(o=e,t):o},t}function ba(e){return e.join("L")}function ya(e){return ba(e)+"Z"}function xa(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Sa(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function wa(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function La(e,t){return e.length<4?ba(e):e[1]+Aa(e.slice(1,-1),Ma(e,t))}function Ea(e,t){return e.length<3?ba(e):e[0]+Aa((e.push(e[0]),e),Ma([e[e.length-2]].concat(e,[e[1]]),t))}function ka(e,t){return e.length<3?ba(e):e[0]+Aa(e,Ma(e,t))}function Aa(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ba(e);var n=e.length!=t.length,i="",r=e[0],a=e[1],s=t[0],o=s,l=1;if(n&&(i+="Q"+(a[0]-2*s[0]/3)+","+(a[1]-2*s[1]/3)+","+a[0]+","+a[1],r=e[1],l=2),t.length>1){o=t[1],a=e[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1];for(var u=2;u<t.length;u++,l++)a=e[l],o=t[u],i+="S"+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1]}if(n){var c=e[l];i+="Q"+(a[0]+2*o[0]/3)+","+(a[1]+2*o[1]/3)+","+c[0]+","+c[1]}return i}function Ma(e,t){for(var n,i=[],r=(1-t)/2,a=e[0],s=e[1],o=1,l=e.length;++o<l;)n=a,a=s,s=e[o],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function Ta(e){if(e.length<3)return ba(e);var t=1,n=e.length,i=e[0],r=i[0],a=i[1],s=[r,r,r,(i=e[1])[0]],o=[a,a,a,i[1]],l=[r,",",a,"L",Ia(Pl,s),",",Ia(Pl,o)];for(e.push(e[n-1]);++t<=n;)i=e[t],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),Oa(l,s,o);return e.pop(),l.push("L",i),l.join("")}function Ca(e){if(e.length<4)return ba(e);for(var t,n=[],i=-1,r=e.length,a=[0],s=[0];++i<3;)t=e[i],a.push(t[0]),s.push(t[1]);for(n.push(Ia(Pl,a)+","+Ia(Pl,s)),--i;++i<r;)t=e[i],a.shift(),a.push(t[0]),s.shift(),s.push(t[1]),Oa(n,a,s);return n.join("")}function Ra(e){for(var t,n,i=-1,r=e.length,a=r+4,s=[],o=[];++i<4;)n=e[i%r],s.push(n[0]),o.push(n[1]);for(t=[Ia(Pl,s),",",Ia(Pl,o)],--i;++i<a;)n=e[i%r],s.shift(),s.push(n[0]),o.shift(),o.push(n[1]),Oa(t,s,o);return t.join("")}function Da(e,t){var n=e.length-1;if(n)for(var i,r,a=e[0][0],s=e[0][1],o=e[n][0]-a,l=e[n][1]-s,u=-1;++u<=n;)i=e[u],r=u/n,i[0]=t*i[0]+(1-t)*(a+r*o),i[1]=t*i[1]+(1-t)*(s+r*l);return Ta(e)}function Ia(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Oa(e,t,n){e.push("C",Ia(Bl,t),",",Ia(Bl,n),",",Ia(Ul,t),",",Ia(Ul,n),",",Ia(Pl,t),",",Ia(Pl,n))}function Na(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Fa(e){for(var t=0,n=e.length-1,i=[],r=e[0],a=e[1],s=i[0]=Na(r,a);++t<n;)i[t]=(s+(s=Na(r=a,a=e[t+1])))/2;return i[t]=s,i}function Ba(e){for(var t,n,i,r,a=[],s=Fa(e),o=-1,l=e.length-1;++o<l;)t=Na(e[o],e[o+1]),ys(t)<Us?s[o]=s[o+1]=0:(n=s[o]/t,i=s[o+1]/t,r=n*n+i*i,r>9&&(r=3*t/Math.sqrt(r),s[o]=r*n,s[o+1]=r*i));for(o=-1;++o<=l;)r=(e[Math.min(l,o+1)][0]-e[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),a.push([r||0,s[o]*r||0]);return a}function Ua(e){return e.length<3?ba(e):e[0]+Aa(e,Ba(e))}function Pa(e){for(var t,n,i,r=-1,a=e.length;++r<a;)t=e[r],n=t[0],i=t[1]-Vs,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function Ya(e){function t(t){function l(){m.push("M",o(e(g),d),c,u(e(_.reverse()),d),"Z")}for(var f,h,p,m=[],_=[],g=[],v=-1,b=t.length,y=Ce(n),x=Ce(r),S=n===i?function(){return h}:Ce(i),w=r===a?function(){return p}:Ce(a);++v<b;)s.call(this,f=t[v],v)?(_.push([h=+y.call(this,f,v),p=+x.call(this,f,v)]),g.push([+S.call(this,f,v),+w.call(this,f,v)])):_.length&&(l(),_=[],g=[]);return _.length&&l(),m.length?m.join(""):null}var n=In,i=In,r=0,a=On,s=It,o=ba,l=o.key,u=o,c="L",d=.7;return t.x=function(e){return arguments.length?(n=i=e,t):i},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(r=a=e,t):a},t.y0=function(e){return arguments.length?(r=e,t):r},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?o=e:(o=Fl.get(e)||ba).key,u=o.reverse||o,c=o.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Ha(e){return e.radius}function Ga(e){return[e.x,e.y]}function Va(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Vs;return[n*Math.cos(i),n*Math.sin(i)]}}function ja(){return 64}function za(){return"circle"}function $a(e){var t=Math.sqrt(e/Ys);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function qa(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?(delete t[t.active],t.active+=.5):delete this[e],n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wa(e,t,n){return Es(e,$l),e.namespace=t,e.id=n,e}function Ka(e,t,n,i){var r=e.id,a=e.namespace;return z(e,"function"==typeof n?function(e,s,o){e[a][r].tween.set(t,i(n.call(e,e.__data__,s,o)))}:(n=i(n),function(e){e[a][r].tween.set(t,n)}))}function Ja(e){return null==e&&(e=""),function(){this.textContent=e}}function Xa(e){return null==e?"__transition__":"__transition_"+e+"__"}function Za(e,t,n,i,r){var a=e[n]||(e[n]={active:0,count:0}),s=a[i];if(!s){var o=r.time;s=a[i]={tween:new f,time:o,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++a.count,ss.timer(function(r){function l(n){if(a.active>i)return c();var r=a[a.active];r&&(--a.count,delete a[a.active],r.event&&r.event.interrupt.call(e,e.__data__,r.index)),a.active=i,s.event&&s.event.start.call(e,e.__data__,t),s.tween.forEach(function(n,i){(i=i.call(e,e.__data__,t))&&m.push(i)}),f=s.ease,d=s.duration,ss.timer(function(){return p.c=u(n||1)?It:u,1},0,o)}function u(n){if(a.active!==i)return 1;for(var r=n/d,o=f(r),l=m.length;l>0;)m[--l].call(e,o);return r>=1?(s.event&&s.event.end.call(e,e.__data__,t),c()):void 0}function c(){return--a.count?delete a[i]:delete e[n],1}var d,f,h=s.delay,p=fo,m=[];return p.t=h+o,r>=h?l(r-h):(p.c=l,void 0)},0,o)}}function Qa(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function es(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}function ts(e){return e.toISOString()}function ns(e,t,n){function i(t){return e(t)}function r(e,n){var i=e[1]-e[0],r=i/n,a=ss.bisect(tu,r);return a==tu.length?[t.year,Xr(e.map(function(e){return e/31536e6}),n)[2]]:a?t[r/tu[a-1]<tu[a]/r?a-1:a]:[ru,Xr(e,n)[2]]}return i.invert=function(t){return is(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(is)},i.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,is(+n+1),t).length}var a=i.domain(),s=Gr(a),o=null==e?r(s,10):"number"==typeof e&&r(s,e);return o&&(e=o[0],t=o[1]),i.domain(zr(a,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=is(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=is(+t+1);return t}}:e))},i.ticks=function(e,t){var n=Gr(i.domain()),a=null==e?r(n,10):"number"==typeof e?r(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],is(+n[1]+1),1>t?1:t)},i.tickFormat=function(){return n},i.copy=function(){return ns(e.copy(),t,n)},Kr(i,e)}function is(e){return new Date(e)}function rs(e){return JSON.parse(e.responseText)}function as(e){var t=us.createRange();return t.selectNode(us.body),t.createContextualFragment(e.responseText)}var ss={version:"3.5.2"};Date.now||(Date.now=function(){return+new Date});var os=[].slice,ls=function(e){return os.call(e)},us=document,cs=us.documentElement,ds=window;try{ls(cs.childNodes)[0].nodeType}catch(fs){ls=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{us.createElement("div").style.setProperty("opacity",0,"")}catch(hs){var ps=ds.Element.prototype,ms=ps.setAttribute,_s=ps.setAttributeNS,gs=ds.CSSStyleDeclaration.prototype,vs=gs.setProperty;ps.setAttribute=function(e,t){ms.call(this,e,t+"")},ps.setAttributeNS=function(e,t,n){_s.call(this,e,t,n+"")},gs.setProperty=function(e,t,n){vs.call(this,e,t+"",n)}}ss.ascending=a,ss.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},ss.min=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},ss.max=function(e,t){var n,i,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},ss.extent=function(e,t){var n,i,r,a=-1,s=e.length;if(1===arguments.length){for(;++a<s;)if(null!=(i=e[a])&&i>=i){n=r=i;break}for(;++a<s;)null!=(i=e[a])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++a<s;)if(null!=(i=t.call(e,e[a],a))&&i>=i){n=r=i;break}for(;++a<s;)null!=(i=t.call(e,e[a],a))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},ss.sum=function(e,t){var n,i=0,r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)o(n=+e[a])&&(i+=n);else for(;++a<r;)o(n=+t.call(e,e[a],a))&&(i+=n);return i},ss.mean=function(e,t){var n,i=0,r=e.length,a=-1,l=r;if(1===arguments.length)for(;++a<r;)o(n=s(e[a]))?i+=n:--l;else for(;++a<r;)o(n=s(t.call(e,e[a],a)))?i+=n:--l;return l?i/l:void 0},ss.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],a=n-i;return a?r+a*(e[i]-r):r},ss.median=function(e,t){var n,i=[],r=e.length,l=-1;if(1===arguments.length)for(;++l<r;)o(n=s(e[l]))&&i.push(n);else for(;++l<r;)o(n=s(t.call(e,e[l],l)))&&i.push(n);return i.length?ss.quantile(i.sort(a),.5):void 0},ss.variance=function(e,t){var n,i,r=e.length,a=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<r;)o(n=s(e[u]))&&(i=n-a,a+=i/++c,l+=i*(n-a));else for(;++u<r;)o(n=s(t.call(e,e[u],u)))&&(i=n-a,a+=i/++c,l+=i*(n-a));return c>1?l/(c-1):void 0},ss.deviation=function(){var e=ss.variance.apply(this,arguments);return e?Math.sqrt(e):e};var bs=l(a);ss.bisectLeft=bs.left,ss.bisect=ss.bisectRight=bs.right,ss.bisector=function(e){return l(1===e.length?function(t,n){return a(e(t),n)}:e)},ss.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,2>a&&(t=0));for(var i,r,a=n-t;a;)r=0|Math.random()*a--,i=e[a+t],e[a+t]=e[r+t],e[r+t]=i;return e},ss.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},ss.pairs=function(e){for(var t,n=0,i=e.length-1,r=e[0],a=new Array(0>i?0:i);i>n;)a[n]=[t=r,r=e[++n]];return a},ss.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=ss.min(arguments,u),n=new Array(t);++e<t;)for(var i,r=-1,a=n[e]=new Array(i);++r<i;)a[r]=arguments[r][e];return n},ss.transpose=function(e){return ss.zip.apply(ss,e)},ss.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ss.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ss.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ss.merge=function(e){for(var t,n,i,r=e.length,a=-1,s=0;++a<r;)s+=e[a].length;for(n=new Array(s);--r>=0;)for(i=e[r],t=i.length;--t>=0;)n[--s]=i[t];return n};var ys=Math.abs;ss.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/n)throw new Error("infinite range");var i,r=[],a=c(ys(n)),s=-1;if(e*=a,t*=a,n*=a,0>n)for(;(i=e+n*++s)>t;)r.push(i/a);else for(;(i=e+n*++s)<t;)r.push(i/a);return r},ss.map=function(e,t){var n=new f;if(e instanceof f)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,a=e.length;if(1===arguments.length)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t.call(e,i=e[r],r),i)}else for(var s in e)n.set(s,e[s]);return n};var xs="__proto__",Ss="\x00";d(f,{has:m,get:function(e){return this._[h(e)]},set:function(e,t){return this._[h(e)]=t},remove:_,keys:g,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:p(t),value:this._[t]});return e},size:v,empty:b,forEach:function(e){for(var t in this._)e.call(this,p(t),this._[t])}}),ss.nest=function(){function e(t,s,o){if(o>=a.length)return i?i.call(r,s):n?s.sort(n):s;for(var l,u,c,d,h=-1,p=s.length,m=a[o++],_=new f;++h<p;)(d=_.get(l=m(u=s[h])))?d.push(u):_.set(l,[u]);return t?(u=t(),c=function(n,i){u.set(n,e(t,i,o))}):(u={},c=function(n,i){u[n]=e(t,i,o)}),_.forEach(c),u}function t(e,n){if(n>=a.length)return e;var i=[],r=s[n++];return e.forEach(function(e,r){i.push({key:e,values:t(r,n)})}),r?i.sort(function(e,t){return r(e.key,t.key)}):i}var n,i,r={},a=[],s=[];return r.map=function(t,n){return e(n,t,0)},r.entries=function(n){return t(e(ss.map,n,0),0)},r.key=function(e){return a.push(e),r},r.sortKeys=function(e){return s[a.length-1]=e,r},r.sortValues=function(e){return n=e,r},r.rollup=function(e){return i=e,r},r},ss.set=function(e){var t=new y;if(e)for(var n=0,i=e.length;i>n;++n)t.add(e[n]);return t},d(y,{has:m,add:function(e){return this._[h(e+="")]=!0,e},remove:_,values:g,size:v,empty:b,forEach:function(e){for(var t in this._)e.call(this,p(t))}}),ss.behavior={},ss.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=x(e,t,t[n]);return e};var ws=["webkit","ms","moz","Moz","o","O"];ss.dispatch=function(){for(var e=new L,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=E(e);return e},L.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},ss.event=null,ss.requote=function(e){return e.replace(Ls,"\\$&")};var Ls=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Es={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},ks=function(e,t){return t.querySelector(e)},As=function(e,t){return t.querySelectorAll(e)},Ms=cs.matches||cs[S(cs,"matchesSelector")],Ts=function(e,t){return Ms.call(e,t)};"function"==typeof Sizzle&&(ks=function(e,t){return Sizzle(e,t)[0]||null},As=Sizzle,Ts=Sizzle.matchesSelector),ss.selection=function(){return Is};var Cs=ss.selection.prototype=[];Cs.select=function(e){var t,n,i,r,a=[];e=C(e);for(var s=-1,o=this.length;++s<o;){a.push(t=[]),t.parentNode=(i=this[s]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return T(a)},Cs.selectAll=function(e){var t,n,i=[];e=R(e);for(var r=-1,a=this.length;++r<a;)for(var s=this[r],o=-1,l=s.length;++o<l;)(n=s[o])&&(i.push(t=ls(e.call(n,n.__data__,o,r))),t.parentNode=n);return T(i)};var Rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ss.ns={prefix:Rs,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Rs.hasOwnProperty(n)?{space:Rs[n],local:e}:e}},Cs.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ss.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(D(t,e[t]));return this}return this.each(D(e,t))},Cs.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=N(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!O(e[r]).test(t))return!1;return!0}for(t in e)this.each(F(t,e[t]));return this}return this.each(F(e,t))},Cs.style=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t="");for(n in e)this.each(U(n,e[n],t));return this}if(2>i)return ds.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(U(e,t,n))},Cs.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},Cs.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Cs.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Cs.append=function(e){return e=Y(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Cs.insert=function(e,t){return e=Y(e),t=C(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Cs.remove=function(){return this.each(H)},Cs.data=function(e,t){function n(e,n){var i,r,a,s=e.length,c=n.length,d=Math.min(s,c),h=new Array(c),p=new Array(c),m=new Array(s);if(t){var _,g=new f,v=new Array(s);for(i=-1;++i<s;)g.has(_=t.call(r=e[i],r.__data__,i))?m[i]=r:g.set(_,r),v[i]=_;for(i=-1;++i<c;)(r=g.get(_=t.call(n,a=n[i],i)))?r!==!0&&(h[i]=r,r.__data__=a):p[i]=G(a),g.set(_,!0);for(i=-1;++i<s;)g.get(v[i])!==!0&&(m[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],a=n[i],r?(r.__data__=a,h[i]=r):p[i]=G(a);for(;c>i;++i)p[i]=G(n[i]);for(;s>i;++i)m[i]=e[i]}p.update=h,p.parentNode=h.parentNode=m.parentNode=e.parentNode,o.push(p),l.push(h),u.push(m)}var i,r,a=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(i=this[0]).length);++a<s;)(r=i[a])&&(e[a]=r.__data__);return e}var o=$([]),l=T([]),u=T([]);if("function"==typeof e)for(;++a<s;)n(i=this[a],e.call(i,i.parentNode.__data__,a));else for(;++a<s;)n(i=this[a],e);return l.enter=function(){return o},l.exit=function(){return u},l},Cs.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Cs.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=V(e));for(var a=0,s=this.length;s>a;a++){r.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var o=0,l=n.length;l>o;o++)(i=n[o])&&e.call(i,i.__data__,o,a)&&t.push(i)}return T(r)},Cs.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Cs.sort=function(e){e=j.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Cs.each=function(e){return z(this,function(t,n,i){e.call(t,t.__data__,n,i)})},Cs.call=function(e){var t=ls(arguments);return e.apply(t[0]=this,t),this},Cs.empty=function(){return!this.node()},Cs.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],i=0,r=n.length;r>i;i++){var a=n[i];if(a)return a}return null},Cs.size=function(){var e=0;return z(this,function(){++e}),e};var Ds=[];ss.selection.enter=$,ss.selection.enter.prototype=Ds,Ds.append=Cs.append,Ds.empty=Cs.empty,Ds.node=Cs.node,Ds.call=Cs.call,Ds.size=Cs.size,Ds.select=function(e){for(var t,n,i,r,a,s=[],o=-1,l=this.length;++o<l;){i=(r=this[o]).update,s.push(t=[]),t.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(a=r[u])?(t.push(i[u]=n=e.call(r.parentNode,a.__data__,u,o)),n.__data__=a.__data__):t.push(null)}return T(s)},Ds.insert=function(e,t){return arguments.length<2&&(t=q(this)),Cs.insert.call(this,e,t)},ss.select=function(e){var t=["string"==typeof e?ks(e,us):e];return t.parentNode=cs,T([t])},ss.selectAll=function(e){var t=ls("string"==typeof e?As(e,us):e);return t.parentNode=cs,T([t])};var Is=ss.select(cs);Cs.on=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t=!1);for(n in e)this.each(W(n,e[n],t));return this}if(2>i)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(W(e,t,n))};var Os=ss.map({mouseenter:"mouseover",mouseleave:"mouseout"});Os.forEach(function(e){"on"+e in us&&Os.remove(e)});var Ns="onselectstart"in us?null:S(cs.style,"userSelect"),Fs=0;ss.mouse=function(e){return Z(e,A())};var Bs=/WebKit/.test(ds.navigator.userAgent)?-1:0;ss.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=A().changedTouches),t)for(var i,r=0,a=t.length;a>r;++r)if((i=t[r]).identifier===n)return Z(e,i)},ss.behavior.drag=function(){function e(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function t(e,t,r,a,s){return function(){function o(){var e,n,i=t(f,m);i&&(e=i[0]-b[0],n=i[1]-b[1],p|=e|n,b=i,h({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:e,dy:n}))}function l(){t(f,m)&&(g.on(a+_,null).on(s+_,null),v(p&&ss.event.target===d),h({type:"dragend"}))}var u,c=this,d=ss.event.target,f=c.parentNode,h=n.of(c,arguments),p=0,m=e(),_=".drag"+(null==m?"":"-"+m),g=ss.select(r()).on(a+_,o).on(s+_,l),v=X(),b=t(f,m);i?(u=i.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],h({type:"dragstart"})}}var n=M(e,"drag","dragstart","dragend"),i=null,r=t(w,ss.mouse,te,"mousemove","mouseup"),a=t(Q,ss.touch,ee,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},ss.rebind(e,n,"on")},ss.touches=function(e,t){return arguments.length<2&&(t=A().touches),t?ls(t).map(function(t){var n=Z(e,t);return n.identifier=t.identifier,n}):[]};var Us=1e-6,Ps=Us*Us,Ys=Math.PI,Hs=2*Ys,Gs=Hs-Us,Vs=Ys/2,js=Ys/180,zs=180/Ys,$s=Math.SQRT2,qs=2,Ws=4;ss.interpolateZoom=function(e,t){function n(e){var t=e*v;if(g){var n=oe(m),s=a/(qs*f)*(n*le($s*t+m)-se(m));return[i+s*u,r+s*c,a*n/oe($s*t+m)]}return[i+e*u,r+e*c,a*Math.exp($s*t)]}var i=e[0],r=e[1],a=e[2],s=t[0],o=t[1],l=t[2],u=s-i,c=o-r,d=u*u+c*c,f=Math.sqrt(d),h=(l*l-a*a+Ws*d)/(2*a*qs*f),p=(l*l-a*a-Ws*d)/(2*l*qs*f),m=Math.log(Math.sqrt(h*h+1)-h),_=Math.log(Math.sqrt(p*p+1)-p),g=_-m,v=(g||Math.log(l/a))/$s;return n.duration=1e3*v,n},ss.behavior.zoom=function(){function e(e){e.on(C,c).on(Xs+".zoom",f).on("dblclick.zoom",h).on(I,d)}function t(e){return[(e[0]-w.x)/w.k,(e[1]-w.y)/w.k]}function n(e){return[e[0]*w.k+w.x,e[1]*w.k+w.y]}function i(e){w.k=Math.max(E[0],Math.min(E[1],e))}function r(e,t){t=n(t),w.x+=e[0]-t[0],w.y+=e[1]-t[1]}function a(t,n,a,s){t.__chart__={x:w.x,y:w.y,k:w.k},i(Math.pow(2,s)),r(m=n,a),t=ss.select(t),A>0&&(t=t.transition().duration(A)),t.call(e.event)}function s(){y&&y.domain(b.range().map(function(e){return(e-w.x)/w.k}).map(b.invert)),S&&S.domain(x.range().map(function(e){return(e-w.y)/w.k}).map(x.invert))}function o(e){T++||e({type:"zoomstart"})}function l(e){s(),e({type:"zoom",scale:w.k,translate:[w.x,w.y]})}function u(e){--T||e({type:"zoomend"}),m=null}function c(){function e(){c=1,r(ss.mouse(i),f),l(s)}function n(){d.on(R,null).on(D,null),h(c&&ss.event.target===a),u(s)}var i=this,a=ss.event.target,s=O.of(i,arguments),c=0,d=ss.select(ds).on(R,e).on(D,n),f=t(ss.mouse(i)),h=X();zl.call(i),o(s)}function d(){function e(){var e=ss.touches(p);return h=w.k,e.forEach(function(e){e.identifier in _&&(_[e.identifier]=t(e))}),e}function n(){var t=ss.event.target;ss.select(t).on(y,s).on(x,f),S.push(t);for(var n=ss.event.changedTouches,i=0,r=n.length;r>i;++i)_[n[i].identifier]=null;var o=e(),l=Date.now();if(1===o.length){if(500>l-v){var u=o[0];a(p,u,_[u.identifier],Math.floor(Math.log(w.k)/Math.LN2)+1),k()}v=l}else if(o.length>1){var u=o[0],c=o[1],d=u[0]-c[0],h=u[1]-c[1];g=d*d+h*h}}function s(){var e,t,n,a,s=ss.touches(p);zl.call(p);for(var o=0,u=s.length;u>o;++o,a=null)if(n=s[o],a=_[n.identifier]){if(t)break;e=n,t=a}if(a){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,d=g&&Math.sqrt(c/g);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+a[0])/2,(t[1]+a[1])/2],i(d*h)}v=null,r(e,t),l(m)}function f(){if(ss.event.touches.length){for(var t=ss.event.changedTouches,n=0,i=t.length;i>n;++n)delete _[t[n].identifier];for(var r in _)return void e()}ss.selectAll(S).on(b,null),L.on(C,c).on(I,d),E(),u(m)}var h,p=this,m=O.of(p,arguments),_={},g=0,b=".zoom-"+ss.event.changedTouches[0].identifier,y="touchmove"+b,x="touchend"+b,S=[],L=ss.select(p),E=X();n(),o(m),L.on(C,null).on(I,n)}function f(){var e=O.of(this,arguments);g?clearTimeout(g):(p=t(m=_||ss.mouse(this)),zl.call(this),o(e)),g=setTimeout(function(){g=null,u(e)},50),k(),i(Math.pow(2,.002*Ks())*w.k),r(m,p),l(e)}function h(){var e=ss.mouse(this),n=Math.log(w.k)/Math.LN2;a(this,e,t(e),ss.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,m,_,g,v,b,y,x,S,w={x:0,y:0,k:1},L=[960,500],E=Js,A=250,T=0,C="mousedown.zoom",R="mousemove.zoom",D="mouseup.zoom",I="touchstart.zoom",O=M(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=O.of(this,arguments),t=w;Vl?ss.select(this).transition().each("start.zoom",function(){w=this.__chart__||{x:0,y:0,k:1},o(e)}).tween("zoom:zoom",function(){var n=L[0],i=L[1],r=m?m[0]:n/2,a=m?m[1]:i/2,s=ss.interpolateZoom([(r-w.x)/w.k,(a-w.y)/w.k,n/w.k],[(r-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(t){var i=s(t),o=n/i[2];this.__chart__=w={x:r-i[0]*o,y:a-i[1]*o,k:o},l(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=w,o(e),l(e),u(e))})},e.translate=function(t){return arguments.length?(w={x:+t[0],y:+t[1],k:w.k},s(),e):[w.x,w.y]},e.scale=function(t){return arguments.length?(w={x:w.x,y:w.y,k:+t},s(),e):w.k},e.scaleExtent=function(t){return arguments.length?(E=null==t?Js:[+t[0],+t[1]],e):E},e.center=function(t){return arguments.length?(_=t&&[+t[0],+t[1]],e):_},e.size=function(t){return arguments.length?(L=t&&[+t[0],+t[1]],e):L},e.duration=function(t){return arguments.length?(A=+t,e):A},e.x=function(t){return arguments.length?(y=t,b=t.copy(),w={x:0,y:0,k:1},e):y},e.y=function(t){return arguments.length?(S=t,x=t.copy(),w={x:0,y:0,k:1},e):S},ss.rebind(e,O,"on")};var Ks,Js=[0,1/0],Xs="onwheel"in us?(Ks=function(){return-ss.event.deltaY*(ss.event.deltaMode?120:1)},"wheel"):"onmousewheel"in us?(Ks=function(){return ss.event.wheelDelta},"mousewheel"):(Ks=function(){return-ss.event.detail},"MozMousePixelScroll");ss.color=ce,ce.prototype.toString=function(){return this.rgb()+""},ss.hsl=de;var Zs=de.prototype=new ce;Zs.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new de(this.h,this.s,this.l/e)},Zs.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new de(this.h,this.s,e*this.l)},Zs.rgb=function(){return fe(this.h,this.s,this.l)},ss.hcl=he;var Qs=he.prototype=new ce;Qs.brighter=function(e){return new he(this.h,this.c,Math.min(100,this.l+eo*(arguments.length?e:1)))},Qs.darker=function(e){return new he(this.h,this.c,Math.max(0,this.l-eo*(arguments.length?e:1)))},Qs.rgb=function(){return pe(this.h,this.c,this.l).rgb()},ss.lab=me;var eo=18,to=.95047,no=1,io=1.08883,ro=me.prototype=new ce;ro.brighter=function(e){return new me(Math.min(100,this.l+eo*(arguments.length?e:1)),this.a,this.b)},ro.darker=function(e){return new me(Math.max(0,this.l-eo*(arguments.length?e:1)),this.a,this.b)},ro.rgb=function(){return _e(this.l,this.a,this.b)},ss.rgb=xe;var ao=xe.prototype=new ce;ao.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&r>t&&(t=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new xe(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new xe(r,r,r)},ao.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new xe(e*this.r,e*this.g,e*this.b)},ao.hsl=function(){return ke(this.r,this.g,this.b)},ao.toString=function(){return"#"+Le(this.r)+Le(this.g)+Le(this.b)};var so=ss.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,
beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});so.forEach(function(e,t){so.set(e,Se(t))}),ss.functor=Ce,ss.xhr=De(Re),ss.dsv=function(e,t){function n(e,n,a){arguments.length<3&&(a=n,n=null);var s=Ie(e,t,null==n?i:r(n),a);return s.row=function(e){return arguments.length?s.response(null==(n=e)?i:r(e)):n},s}function i(e){return n.parse(e.responseText)}function r(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(s).join(e)}function s(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var o=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var i;return n.parseRows(e,function(e,n){if(i)return i(e,n-1);var r=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");i=t?function(e,n){return t(r(e),n)}:r})},n.parseRows=function(e,t){function n(){if(c>=u)return s;if(r)return r=!1,a;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var i=e.charCodeAt(n+1);return 13===i?(r=!0,10===e.charCodeAt(n+2)&&++c):10===i&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u>c;){var i=e.charCodeAt(c++),o=1;if(10===i)r=!0;else if(13===i)r=!0,10===e.charCodeAt(c)&&(++c,++o);else if(i!==l)continue;return e.slice(t,c-o)}return e.slice(t)}for(var i,r,a={},s={},o=[],u=e.length,c=0,d=0;(i=n())!==s;){for(var f=[];i!==a&&i!==s;)f.push(i),i=n();t&&null==(f=t(f,d++))||o.push(f)}return o},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var i=new y,r=[];return t.forEach(function(e){for(var t in e)i.has(t)||r.push(i.add(t))}),[r.map(s).join(e)].concat(t.map(function(t){return r.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},ss.csv=ss.dsv(",","text/csv"),ss.tsv=ss.dsv("	","text/tab-separated-values");var oo,lo,uo,co,fo,ho=ds[S(ds,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ss.timer=function(e,t,n){var i=arguments.length;2>i&&(t=0),3>i&&(n=Date.now());var r=n+t,a={c:e,t:r,f:!1,n:null};lo?lo.n=a:oo=a,lo=a,uo||(co=clearTimeout(co),uo=1,ho(Fe))},ss.timer.flush=function(){Be(),Ue()},ss.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var po=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ye);ss.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=ss.round(e,Pe(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),po[8+n/3]};var mo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,_o=ss.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ss.round(e,Pe(e,t))).toFixed(Math.max(0,Math.min(20,Pe(e*(1+1e-15),t))))}}),go=ss.time={},vo=Date;Ve.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){bo.setUTCDate.apply(this._,arguments)},setDay:function(){bo.setUTCDay.apply(this._,arguments)},setFullYear:function(){bo.setUTCFullYear.apply(this._,arguments)},setHours:function(){bo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){bo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){bo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){bo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){bo.setUTCSeconds.apply(this._,arguments)},setTime:function(){bo.setTime.apply(this._,arguments)}};var bo=Date.prototype;go.year=je(function(e){return e=go.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),go.years=go.year.range,go.years.utc=go.year.utc.range,go.day=je(function(e){var t=new vo(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),go.days=go.day.range,go.days.utc=go.day.utc.range,go.dayOfYear=function(e){var t=go.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=go[e]=je(function(e){return(e=go.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=go.year(e).getDay();return Math.floor((go.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});go[e+"s"]=n.range,go[e+"s"].utc=n.utc.range,go[e+"OfYear"]=function(e){var n=go.year(e).getDay();return Math.floor((go.dayOfYear(e)+(n+t)%7)/7)}}),go.week=go.sunday,go.weeks=go.sunday.range,go.weeks.utc=go.sunday.utc.range,go.weekOfYear=go.sundayOfYear;var yo={"-":"",_:" ",0:"0"},xo=/^\s*\d+/,So=/^%/;ss.locale=function(e){return{numberFormat:He(e),timeFormat:$e(e)}};var wo=ss.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ss.format=wo.numberFormat,ss.geo={},ht.prototype={s:0,t:0,add:function(e){pt(e,this.t,Lo),pt(Lo.s,this.s,this),this.s?this.t+=Lo.t:this.s=Lo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Lo=new ht;ss.geo.stream=function(e,t){e&&Eo.hasOwnProperty(e.type)?Eo[e.type](e,t):mt(e,t)};var Eo={Feature:function(e,t){mt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)mt(n[i].geometry,t)}},ko={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){_t(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)_t(n[i],t,0)},Polygon:function(e,t){gt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)gt(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)mt(n[i],t)}};ss.geo.area=function(e){return Ao=0,ss.geo.stream(e,To),Ao};var Ao,Mo=new ht,To={sphere:function(){Ao+=4*Ys},point:w,lineStart:w,lineEnd:w,polygonStart:function(){Mo.reset(),To.lineStart=vt},polygonEnd:function(){var e=2*Mo;Ao+=0>e?4*Ys+e:e,To.lineStart=To.lineEnd=To.point=w}};ss.geo.bounds=function(){function e(e,t){b.push(y=[c=e,f=e]),d>t&&(d=t),t>h&&(h=t)}function t(t,n){var i=bt([t*js,n*js]);if(g){var r=xt(g,i),a=[r[1],-r[0],0],s=xt(a,r);Lt(s),s=Et(s);var l=t-p,u=l>0?1:-1,m=s[0]*zs*u,_=ys(l)>180;if(_^(m>u*p&&u*t>m)){var v=s[1]*zs;v>h&&(h=v)}else if(m=(m+360)%360-180,_^(m>u*p&&u*t>m)){var v=-s[1]*zs;d>v&&(d=v)}else d>n&&(d=n),n>h&&(h=n);_?p>t?o(c,t)>o(c,f)&&(f=t):o(t,f)>o(c,f)&&(c=t):f>=c?(c>t&&(c=t),t>f&&(f=t)):t>p?o(c,t)>o(c,f)&&(f=t):o(t,f)>o(c,f)&&(c=t)}else e(t,n);g=i,p=t}function n(){x.point=t}function i(){y[0]=c,y[1]=f,x.point=e,g=null}function r(e,n){if(g){var i=e-p;v+=ys(i)>180?i+(i>0?360:-360):i}else m=e,_=n;To.point(e,n),t(e,n)}function a(){To.lineStart()}function s(){r(m,_),To.lineEnd(),ys(v)>Us&&(c=-(f=180)),y[0]=c,y[1]=f,g=null}function o(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,d,f,h,p,m,_,g,v,b,y,x={point:e,lineStart:n,lineEnd:i,polygonStart:function(){x.point=r,x.lineStart=a,x.lineEnd=s,v=0,To.polygonStart()},polygonEnd:function(){To.polygonEnd(),x.point=e,x.lineStart=n,x.lineEnd=i,0>Mo?(c=-(f=180),d=-(h=90)):v>Us?h=90:-Us>v&&(d=-90),y[0]=c,y[1]=f}};return function(e){h=f=-(c=d=1/0),b=[],ss.geo.stream(e,x);var t=b.length;if(t){b.sort(l);for(var n,i=1,r=b[0],a=[r];t>i;++i)n=b[i],u(n[0],r)||u(n[1],r)?(o(r[0],n[1])>o(r[0],r[1])&&(r[1]=n[1]),o(n[0],r[1])>o(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var s,n,p=-1/0,t=a.length-1,i=0,r=a[t];t>=i;r=n,++i)n=a[i],(s=o(r[1],n[0]))>p&&(p=s,c=n[0],f=r[1])}return b=y=null,1/0===c||1/0===d?[[0/0,0/0],[0/0,0/0]]:[[c,d],[f,h]]}}(),ss.geo.centroid=function(e){Co=Ro=Do=Io=Oo=No=Fo=Bo=Uo=Po=Yo=0,ss.geo.stream(e,Ho);var t=Uo,n=Po,i=Yo,r=t*t+n*n+i*i;return Ps>r&&(t=No,n=Fo,i=Bo,Us>Ro&&(t=Do,n=Io,i=Oo),r=t*t+n*n+i*i,Ps>r)?[0/0,0/0]:[Math.atan2(n,t)*zs,ae(i/Math.sqrt(r))*zs]};var Co,Ro,Do,Io,Oo,No,Fo,Bo,Uo,Po,Yo,Ho={sphere:w,point:At,lineStart:Tt,lineEnd:Ct,polygonStart:function(){Ho.lineStart=Rt},polygonEnd:function(){Ho.lineStart=Tt}},Go=Bt(It,Ht,Vt,[-Ys,-Ys/2]),Vo=1e9;ss.geo.clipExtent=function(){var e,t,n,i,r,a,s={stream:function(e){return r&&(r.valid=!1),r=a(e),r.valid=!0,r},extent:function(o){return arguments.length?(a=qt(e=+o[0][0],t=+o[0][1],n=+o[1][0],i=+o[1][1]),r&&(r.valid=!1,r=null),s):[[e,t],[n,i]]}};return s.extent([[0,0],[960,500]])},(ss.geo.conicEqualArea=function(){return Wt(Kt)}).raw=Kt,ss.geo.albers=function(){return ss.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ss.geo.albersUsa=function(){function e(e){var a=e[0],s=e[1];return t=null,n(a,s),t||(i(a,s),t)||r(a,s),t}var t,n,i,r,a=ss.geo.albers(),s=ss.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=ss.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=a.scale(),n=a.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?s:r>=.166&&.234>r&&i>=-.214&&-.115>i?o:a).invert(e)},e.stream=function(e){var t=a.stream(e),n=s.stream(e),i=o.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),o.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),o.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var u=a.scale(),c=+t[0],d=+t[1];return n=a.translate(t).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,i=s.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Us,d+.12*u+Us],[c-.214*u-Us,d+.234*u-Us]]).stream(l).point,r=o.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Us,d+.166*u+Us],[c-.115*u-Us,d+.234*u-Us]]).stream(l).point,e},e.scale(1070)};var jo,zo,$o,qo,Wo,Ko,Jo={point:w,lineStart:w,lineEnd:w,polygonStart:function(){zo=0,Jo.lineStart=Jt},polygonEnd:function(){Jo.lineStart=Jo.lineEnd=Jo.point=w,jo+=ys(zo/2)}},Xo={point:Xt,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Zo={point:en,lineStart:tn,lineEnd:nn,polygonStart:function(){Zo.lineStart=rn},polygonEnd:function(){Zo.point=en,Zo.lineStart=tn,Zo.lineEnd=nn}};ss.geo.path=function(){function e(e){return e&&("function"==typeof o&&a.pointRadius(+o.apply(this,arguments)),s&&s.valid||(s=r(a)),ss.geo.stream(e,s)),a.result()}function t(){return s=null,e}var n,i,r,a,s,o=4.5;return e.area=function(e){return jo=0,ss.geo.stream(e,r(Jo)),jo},e.centroid=function(e){return Do=Io=Oo=No=Fo=Bo=Uo=Po=Yo=0,ss.geo.stream(e,r(Zo)),Yo?[Uo/Yo,Po/Yo]:Bo?[No/Bo,Fo/Bo]:Oo?[Do/Oo,Io/Oo]:[0/0,0/0]},e.bounds=function(e){return Wo=Ko=-($o=qo=1/0),ss.geo.stream(e,r(Xo)),[[$o,qo],[Wo,Ko]]},e.projection=function(e){return arguments.length?(r=(n=e)?e.stream||on(e):Re,t()):n},e.context=function(e){return arguments.length?(a=null==(i=e)?new Zt:new an(e),"function"!=typeof o&&a.pointRadius(o),t()):i},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(a.pointRadius(+t),+t),e):o},e.projection(ss.geo.albersUsa()).context(null)},ss.geo.transform=function(e){return{stream:function(t){var n=new ln(t);for(var i in e)n[i]=e[i];return n}}},ln.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ss.geo.projection=cn,ss.geo.projectionMutator=dn,(ss.geo.equirectangular=function(){return cn(hn)}).raw=hn.invert=hn,ss.geo.rotation=function(e){function t(t){return t=e(t[0]*js,t[1]*js),t[0]*=zs,t[1]*=zs,t}return e=mn(e[0]%360*js,e[1]*js,e.length>2?e[2]*js:0),t.invert=function(t){return t=e.invert(t[0]*js,t[1]*js),t[0]*=zs,t[1]*=zs,t},t},pn.invert=hn,ss.geo.circle=function(){function e(){var e="function"==typeof i?i.apply(this,arguments):i,t=mn(-e[0]*js,-e[1]*js,0).invert,r=[];return n(null,null,1,{point:function(e,n){r.push(e=t(e,n)),e[0]*=zs,e[1]*=zs}}),{type:"Polygon",coordinates:[r]}}var t,n,i=[0,0],r=6;return e.origin=function(t){return arguments.length?(i=t,e):i},e.angle=function(i){return arguments.length?(n=bn((t=+i)*js,r*js),e):t},e.precision=function(i){return arguments.length?(n=bn(t*js,(r=+i)*js),e):r},e.angle(90)},ss.geo.distance=function(e,t){var n,i=(t[0]-e[0])*js,r=e[1]*js,a=t[1]*js,s=Math.sin(i),o=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*s)*n+(n=u*c-l*d*o)*n),l*c+u*d*o)},ss.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ss.range(Math.ceil(a/_)*_,r,_).map(f).concat(ss.range(Math.ceil(u/g)*g,l,g).map(h)).concat(ss.range(Math.ceil(i/p)*p,n,p).filter(function(e){return ys(e%_)>Us}).map(c)).concat(ss.range(Math.ceil(o/m)*m,s,m).filter(function(e){return ys(e%g)>Us}).map(d))}var n,i,r,a,s,o,l,u,c,d,f,h,p=10,m=p,_=90,g=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(h(l).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],r=+t[1][0],u=+t[0][1],l=+t[1][1],a>r&&(t=a,a=r,r=t),u>l&&(t=u,u=l,l=t),e.precision(v)):[[a,u],[r,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],o=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),o>s&&(t=o,o=s,s=t),e.precision(v)):[[i,o],[n,s]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(_=+t[0],g=+t[1],e):[_,g]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(v=+t,c=xn(o,s,90),d=Sn(i,n,v),f=xn(u,l,90),h=Sn(a,r,v),e):v},e.majorExtent([[-180,-90+Us],[180,90-Us]]).minorExtent([[-180,-80-Us],[180,80+Us]])},ss.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}var t,n,i=wn,r=Ln;return e.distance=function(){return ss.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},e.source=function(n){return arguments.length?(i=n,t="function"==typeof n?null:n,e):i},e.target=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,e):r},e.precision=function(){return arguments.length?e:0},e},ss.geo.interpolate=function(e,t){return En(e[0]*js,e[1]*js,t[0]*js,t[1]*js)},ss.geo.length=function(e){return Qo=0,ss.geo.stream(e,el),Qo};var Qo,el={sphere:w,point:w,lineStart:kn,lineEnd:w,polygonStart:w,polygonEnd:w},tl=An(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ss.geo.azimuthalEqualArea=function(){return cn(tl)}).raw=tl;var nl=An(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},Re);(ss.geo.azimuthalEquidistant=function(){return cn(nl)}).raw=nl,(ss.geo.conicConformal=function(){return Wt(Mn)}).raw=Mn,(ss.geo.conicEquidistant=function(){return Wt(Tn)}).raw=Tn;var il=An(function(e){return 1/e},Math.atan);(ss.geo.gnomonic=function(){return cn(il)}).raw=il,Cn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Vs]},(ss.geo.mercator=function(){return Rn(Cn)}).raw=Cn;var rl=An(function(){return 1},Math.asin);(ss.geo.orthographic=function(){return cn(rl)}).raw=rl;var al=An(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ss.geo.stereographic=function(){return cn(al)}).raw=al,Dn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Vs]},(ss.geo.transverseMercator=function(){var e=Rn(Dn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Dn,ss.geom={},ss.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,r=Ce(n),a=Ce(i),s=e.length,o=[],l=[];for(t=0;s>t;t++)o.push([+r.call(this,e[t],t),+a.call(this,e[t],t),t]);for(o.sort(Fn),t=0;s>t;t++)l.push([o[t][0],-o[t][1]]);var u=Nn(o),c=Nn(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(t=u.length-1;t>=0;--t)h.push(e[o[u[t]][2]]);for(t=+d;t<c.length-f;++t)h.push(e[o[c[t]][2]]);return h}var n=In,i=On;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t)},ss.geom.polygon=function(e){return Es(e,sl),e};var sl=ss.geom.polygon.prototype=[];sl.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},sl.centroid=function(e){var t,n,i=-1,r=this.length,a=0,s=0,o=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=o,o=this[i],n=t[0]*o[1]-o[0]*t[1],a+=(t[0]+o[0])*n,s+=(t[1]+o[1])*n;return[a*e,s*e]},sl.clip=function(e){for(var t,n,i,r,a,s,o=Pn(e),l=-1,u=this.length-Pn(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,r=this[l],a=t[(i=t.length-o)-1],n=-1;++n<i;)s=t[n],Bn(s,c,r)?(Bn(a,c,r)||e.push(Un(a,s,c,r)),e.push(s)):Bn(a,c,r)&&e.push(Un(a,s,c,r)),a=s;o&&e.push(e[0]),c=r}return e};var ol,ll,ul,cl,dl,fl=[],hl=[];qn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Kn),t.length},ai.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},si.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ci(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(li(this,n),e=n,n=e.U),n.C=!1,i.C=!0,ui(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(ui(this,n),e=n,n=e.U),n.C=!1,i.C=!0,li(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,a=e.L,s=e.R;if(n=a?s?ci(s):a:s,r?r.L===e?r.L=n:r.R=n:this._=n,a&&s?(i=n.C,n.C=e.C,n.L=a,a.U=n,n!==s?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=s,s.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i){if(e&&e.C)return e.C=!1,void 0;do{if(e===this._)break;if(e===r.L){if(t=r.R,t.C&&(t.C=!1,r.C=!0,li(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ui(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,li(this,r),e=this._;break}}else if(t=r.L,t.C&&(t.C=!1,r.C=!0,ui(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,li(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,ui(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},ss.geom.voronoi=function(e){function t(e){var t=new Array(e.length),i=o[0][0],r=o[0][1],a=o[1][0],s=o[1][1];return di(n(e),o).cells.forEach(function(n,o){var l=n.edges,u=n.site,c=t[o]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=i&&u.x<=a&&u.y>=r&&u.y<=s?[[i,s],[a,s],[a,r],[i,r]]:[];c.point=e[o]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/Us)*Us,y:Math.round(s(e,t)/Us)*Us,i:t}})}var i=In,r=On,a=i,s=r,o=pl;return e?t(e):(t.links=function(e){return di(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return di(n(e)).cells.forEach(function(n,i){for(var r,a,s=n.site,o=n.edges.sort(Kn),l=-1,u=o.length,c=o[u-1].edge,d=c.l===s?c.r:c.l;++l<u;)r=c,a=d,c=o[l].edge,d=c.l===s?c.r:c.l,i<a.i&&i<d.i&&hi(s,a,d)<0&&t.push([e[i],e[a.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(a=Ce(i=e),t):i},t.y=function(e){return arguments.length?(s=Ce(r=e),t):r},t.clipExtent=function(e){return arguments.length?(o=null==e?pl:e,t):o===pl?null:o},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):o===pl?null:o&&o[1]},t)};var pl=[[-1e6,-1e6],[1e6,1e6]];ss.geom.delaunay=function(e){return ss.geom.voronoi().triangles(e)},ss.geom.quadtree=function(e,t,n,i,r){function a(e){function a(e,t,n,i,r,a,s,o){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(ys(l-n)+ys(c-i)<.01)u(e,t,n,i,r,a,s,o);else{var d=e.point;e.x=e.y=e.point=null,u(e,d,l,c,r,a,s,o),u(e,t,n,i,r,a,s,o)}else e.x=n,e.y=i,e.point=t}else u(e,t,n,i,r,a,s,o)}function u(e,t,n,i,r,s,o,l){var u=.5*(r+o),c=.5*(s+l),d=n>=u,f=i>=c,h=f<<1|d;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=_i()),d?r=u:o=u,f?s=c:l=c,a(e,t,n,i,r,s,o,l)}var c,d,f,h,p,m,_,g,v,b=Ce(o),y=Ce(l);if(null!=t)m=t,_=n,g=i,v=r;else if(g=v=-(m=_=1/0),d=[],f=[],p=e.length,s)for(h=0;p>h;++h)c=e[h],c.x<m&&(m=c.x),c.y<_&&(_=c.y),c.x>g&&(g=c.x),c.y>v&&(v=c.y),d.push(c.x),f.push(c.y);else for(h=0;p>h;++h){var x=+b(c=e[h],h),S=+y(c,h);m>x&&(m=x),_>S&&(_=S),x>g&&(g=x),S>v&&(v=S),d.push(x),f.push(S)}var w=g-m,L=v-_;w>L?v=_+w:g=m+L;var E=_i();if(E.add=function(e){a(E,e,+b(e,++h),+y(e,h),m,_,g,v)},E.visit=function(e){gi(e,E,m,_,g,v)},E.find=function(e){return vi(E,e[0],e[1],m,_,g,v)},h=-1,null==t){for(;++h<p;)a(E,e[h],d[h],f[h],m,_,g,v);--h}else e.forEach(E.add);return d=f=e=c=null,E}var s,o=In,l=On;return(s=arguments.length)?(o=pi,l=mi,3===s&&(r=n,i=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(o=e,a):o},a.y=function(e){return arguments.length?(l=e,a):l},a.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),a):null==t?null:[[t,n],[i,r]]},a.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),a):null==t?null:[i-t,r-n]},a)},ss.interpolateRgb=bi,ss.interpolateObject=yi,ss.interpolateNumber=xi,ss.interpolateString=Si;var ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_l=new RegExp(ml.source,"g");ss.interpolate=wi,ss.interpolators=[function(e,t){var n=typeof t;return("string"===n?so.has(t)||/^(#|rgb\(|hsl\()/.test(t)?bi:Si:t instanceof ce?bi:Array.isArray(t)?Li:"object"===n&&isNaN(t)?yi:xi)(e,t)}],ss.interpolateArray=Li;var gl=function(){return Re},vl=ss.map({linear:gl,poly:Ri,quad:function(){return Mi},cubic:function(){return Ti},sin:function(){return Di},exp:function(){return Ii},circle:function(){return Oi},elastic:Ni,back:Fi,bounce:function(){return Bi}}),bl=ss.map({"in":Re,out:ki,"in-out":Ai,"out-in":function(e){return Ai(ki(e))}});ss.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=vl.get(n)||gl,i=bl.get(i)||Re,Ei(i(n.apply(null,os.call(arguments,1))))},ss.interpolateHcl=Ui,ss.interpolateHsl=Pi,ss.interpolateLab=Yi,ss.interpolateRound=Hi,ss.transform=function(e){var t=us.createElementNS(ss.ns.prefix.svg,"g");return(ss.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Gi(n?n.matrix:yl)})(e)},Gi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var yl={a:1,b:0,c:0,d:1,e:0,f:0};ss.interpolateTransform=$i,ss.layout={},ss.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(Ki(e[n]));return t}},ss.layout.chord=function(){function e(){var e,u,d,f,h,p={},m=[],_=ss.range(a),g=[];for(n=[],i=[],e=0,f=-1;++f<a;){for(u=0,h=-1;++h<a;)u+=r[f][h];m.push(u),g.push(ss.range(a)),e+=u}for(s&&_.sort(function(e,t){return s(m[e],m[t])}),o&&g.forEach(function(e,t){e.sort(function(e,n){return o(r[t][e],r[t][n])})}),e=(Hs-c*a)/e,u=0,f=-1;++f<a;){for(d=u,h=-1;++h<a;){var v=_[f],b=g[v][h],y=r[v][b],x=u,S=u+=y*e;p[v+"-"+b]={index:v,subindex:b,startAngle:x,endAngle:S,value:y}}i[v]={index:v,startAngle:d,endAngle:u,value:(u-d)/e},u+=c}for(f=-1;++f<a;)for(h=f-1;++h<a;){var w=p[f+"-"+h],L=p[h+"-"+f];(w.value||L.value)&&n.push(w.value<L.value?{source:L,target:w}:{source:w,target:L})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,i,r,a,s,o,l,u={},c=0;return u.matrix=function(e){return arguments.length?(a=(r=e)&&r.length,n=i=null,u):r},u.padding=function(e){return arguments.length?(c=e,n=i=null,u):c},u.sortGroups=function(e){return arguments.length?(s=e,n=i=null,u):s},u.sortSubgroups=function(e){return arguments.length?(o=e,n=null,u):o},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return i||e(),i},u},ss.layout.force=function(){function e(e){return function(t,n,i,r){if(t.point!==e){var a=t.cx-e.x,s=t.cy-e.y,o=r-n,l=a*a+s*s;if(l>o*o/_){if(p>l){var u=t.charge/l;e.px-=a*u,e.py-=s*u}return!0}if(t.point&&l&&p>l){var u=t.pointCharge/l;e.px-=a*u,e.py-=s*u}}return!t.charge}}function t(e){e.px=ss.event.x,e.py=ss.event.y,o.resume()}var n,i,r,a,s,o={},l=ss.dispatch("start","tick","end"),u=[1,1],c=.9,d=xl,f=Sl,h=-30,p=wl,m=.1,_=.64,g=[],v=[];return o.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var t,n,o,d,f,p,_,b,y,x=g.length,S=v.length;for(n=0;S>n;++n)o=v[n],d=o.source,f=o.target,b=f.x-d.x,y=f.y-d.y,(p=b*b+y*y)&&(p=i*a[n]*((p=Math.sqrt(p))-r[n])/p,b*=p,y*=p,f.x-=b*(_=d.weight/(f.weight+d.weight)),f.y-=y*_,d.x+=b*(_=1-_),d.y+=y*_);if((_=i*m)&&(b=u[0]/2,y=u[1]/2,n=-1,_))for(;++n<x;)o=g[n],o.x+=(b-o.x)*_,o.y+=(y-o.y)*_;if(h)for(nr(t=ss.geom.quadtree(g),i,s),n=-1;++n<x;)(o=g[n]).fixed||t.visit(e(o));for(n=-1;++n<x;)o=g[n],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*c,o.y-=(o.py-(o.py=o.y))*c);l.tick({type:"tick",alpha:i})},o.nodes=function(e){return arguments.length?(g=e,o):g},o.links=function(e){return arguments.length?(v=e,o):v},o.size=function(e){return arguments.length?(u=e,o):u},o.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,o):d},o.distance=o.linkDistance,o.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,o):f},o.friction=function(e){return arguments.length?(c=+e,o):c},o.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,o):h},o.chargeDistance=function(e){return arguments.length?(p=e*e,o):Math.sqrt(p)},o.gravity=function(e){return arguments.length?(m=+e,o):m},o.theta=function(e){return arguments.length?(_=e*e,o):Math.sqrt(_)},o.alpha=function(e){return arguments.length?(e=+e,i?i=e>0?e:0:e>0&&(l.start({type:"start",alpha:i=e}),ss.timer(o.tick)),o):i},o.start=function(){function e(e,i){if(!n){for(n=new Array(l),o=0;l>o;++o)n[o]=[];for(o=0;u>o;++o){var r=v[o];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,s=n[t],o=-1,u=s.length;++o<u;)if(!isNaN(a=s[o][e]))return a;return Math.random()*i}var t,n,i,l=g.length,c=v.length,p=u[0],m=u[1];for(t=0;l>t;++t)(i=g[t]).index=t,i.weight=0;for(t=0;c>t;++t)i=v[t],"number"==typeof i.source&&(i.source=g[i.source]),"number"==typeof i.target&&(i.target=g[i.target]),++i.source.weight,++i.target.weight;for(t=0;l>t;++t)i=g[t],isNaN(i.x)&&(i.x=e("x",p)),isNaN(i.y)&&(i.y=e("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof d)for(t=0;c>t;++t)r[t]=+d.call(this,v[t],t);else for(t=0;c>t;++t)r[t]=d;if(a=[],"function"==typeof f)for(t=0;c>t;++t)a[t]=+f.call(this,v[t],t);else for(t=0;c>t;++t)a[t]=f;if(s=[],"function"==typeof h)for(t=0;l>t;++t)s[t]=+h.call(this,g[t],t);else for(t=0;l>t;++t)s[t]=h;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return n||(n=ss.behavior.drag().origin(Re).on("dragstart.force",Zi).on("drag.force",t).on("dragend.force",Qi)),arguments.length?(this.on("mouseover.force",er).on("mouseout.force",tr).call(n),void 0):n},ss.rebind(o,l,"on")};var xl=20,Sl=1,wl=1/0;ss.layout.hierarchy=function(){function e(r){var a,s=[r],o=[];for(r.depth=0;null!=(a=s.pop());)if(o.push(a),(u=n.call(e,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)s.push(c=u[l]),c.parent=a,c.depth=a.depth+1;i&&(a.value=0),a.children=u}else i&&(a.value=+i.call(e,a,a.depth)||0),delete a.children;return ar(r,function(e){var n,r;t&&(n=e.children)&&n.sort(t),i&&(r=e.parent)&&(r.value+=e.value);

}),o}var t=lr,n=sr,i=or;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(i=t,e):i},e.revalue=function(t){return i&&(rr(t,function(e){e.children&&(e.value=0)}),ar(t,function(t){var n;t.children||(t.value=+i.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ss.layout.partition=function(){function e(t,n,i,r){var a=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,a&&(s=a.length)){var s,o,l,u=-1;for(i=t.value?i/t.value:0;++u<s;)e(o=a[u],n,l=o.value*i,r),n+=l}}function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,t(n[a]));return 1+i}function n(n,a){var s=i.call(this,n,a);return e(s[0],0,r[0],r[1]/t(s[0])),s}var i=ss.layout.hierarchy(),r=[1,1];return n.size=function(e){return arguments.length?(r=e,n):r},ir(n,i)},ss.layout.pie=function(){function e(s){var o,l=s.length,u=s.map(function(n,i){return+t.call(e,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),d=("function"==typeof r?r.apply(this,arguments):r)-c,f=Math.min(Math.abs(d)/l,+("function"==typeof a?a.apply(this,arguments):a)),h=f*(0>d?-1:1),p=(d-l*h)/ss.sum(u),m=ss.range(l),_=[];return null!=n&&m.sort(n===Ll?function(e,t){return u[t]-u[e]}:function(e,t){return n(s[e],s[t])}),m.forEach(function(e){_[e]={data:s[e],value:o=u[e],startAngle:c,endAngle:c+=o*p+h,padAngle:f}}),_}var t=Number,n=Ll,i=0,r=Hs,a=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(i=t,e):i},e.endAngle=function(t){return arguments.length?(r=t,e):r},e.padAngle=function(t){return arguments.length?(a=t,e):a},e};var Ll={};ss.layout.stack=function(){function e(o,l){if(!(f=o.length))return o;var u=o.map(function(n,i){return t.call(e,n,i)}),c=u.map(function(t){return t.map(function(t,n){return[a.call(e,t,n),s.call(e,t,n)]})}),d=n.call(e,c,l);u=ss.permute(u,d),c=ss.permute(c,d);var f,h,p,m,_=i.call(e,c,l),g=u[0].length;for(p=0;g>p;++p)for(r.call(e,u[0][p],m=_[p],c[0][p][1]),h=1;f>h;++h)r.call(e,u[h][p],m+=c[h-1][p][1],c[h][p][1]);return o}var t=Re,n=hr,i=pr,r=fr,a=cr,s=dr;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:El.get(t)||hr,e):n},e.offset=function(t){return arguments.length?(i="function"==typeof t?t:kl.get(t)||pr,e):i},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(s=t,e):s},e.out=function(t){return arguments.length?(r=t,e):r},e};var El=ss.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(mr),a=e.map(_r),s=ss.range(i).sort(function(e,t){return r[e]-r[t]}),o=0,l=0,u=[],c=[];for(t=0;i>t;++t)n=s[t],l>o?(o+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return ss.range(e.length).reverse()},"default":hr}),kl=ss.map({silhouette:function(e){var t,n,i,r=e.length,a=e[0].length,s=[],o=0,l=[];for(n=0;a>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];i>o&&(o=i),s.push(i)}for(n=0;a>n;++n)l[n]=(o-s[n])/2;return l},wiggle:function(e){var t,n,i,r,a,s,o,l,u,c=e.length,d=e[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;f>n;++n){for(t=0,r=0;c>t;++t)r+=e[t][n][1];for(t=0,a=0,o=d[n][0]-d[n-1][0];c>t;++t){for(i=0,s=(e[t][n][1]-e[t][n-1][1])/(2*o);t>i;++i)s+=(e[i][n][1]-e[i][n-1][1])/o;a+=s*e[t][n][1]}h[n]=l-=r?a/r*o:0,u>l&&(u=l)}for(n=0;f>n;++n)h[n]-=u;return h},expand:function(e){var t,n,i,r=e.length,a=e[0].length,s=1/r,o=[];for(n=0;a>n;++n){for(t=0,i=0;r>t;t++)i+=e[t][n][1];if(i)for(t=0;r>t;t++)e[t][n][1]/=i;else for(t=0;r>t;t++)e[t][n][1]=s}for(n=0;a>n;++n)o[n]=0;return o},zero:pr});ss.layout.histogram=function(){function e(e,a){for(var s,o,l=[],u=e.map(n,this),c=i.call(this,u,a),d=r.call(this,c,u,a),a=-1,f=u.length,h=d.length-1,p=t?1:1/f;++a<h;)s=l[a]=[],s.dx=d[a+1]-(s.x=d[a]),s.y=0;if(h>0)for(a=-1;++a<f;)o=u[a],o>=c[0]&&o<=c[1]&&(s=l[ss.bisect(d,o,1,h)-1],s.y+=p,s.push(e[a]));return l}var t=!0,n=Number,i=yr,r=vr;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(i=Ce(t),e):i},e.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return br(e,t)}:Ce(t),e):r},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ss.layout.pack=function(){function e(e,a){var s=n.call(this,e,a),o=s[0],l=r[0],u=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,ar(o,function(e){e.r=+c(e.value)}),ar(o,Er),i){var d=i*(t?1:Math.max(2*o.r/l,2*o.r/u))/2;ar(o,function(e){e.r+=d}),ar(o,Er),ar(o,function(e){e.r-=d})}return Mr(o,l/2,u/2,t?1:1/Math.max(2*o.r/l,2*o.r/u)),s}var t,n=ss.layout.hierarchy().sort(xr),i=0,r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(i=+t,e):i},ir(e,n)},ss.layout.tree=function(){function e(e,r){var c=s.call(this,e,r),d=c[0],f=t(d);if(ar(f,n),f.parent.m=-f.z,rr(f,i),u)rr(d,a);else{var h=d,p=d,m=d;rr(d,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>m.depth&&(m=e)});var _=o(h,p)/2-h.x,g=l[0]/(p.x+o(p,h)/2+_),v=l[1]/(m.depth||1);rr(d,function(e){e.x=(e.x+_)*g,e.y=e.depth*v})}return c}function t(e){for(var t,n={A:null,children:[e]},i=[n];null!=(t=i.pop());)for(var r,a=t.children,s=0,o=a.length;o>s;++s)i.push((a[s]=r={_:a[s],parent:t,children:(r=a[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){Or(e);var a=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+o(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+o(e._,i._));e.parent.A=r(e,i,e.parent.A||n[0])}function i(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e,t,n){if(t){for(var i,r=e,a=e,s=t,l=r.parent.children[0],u=r.m,c=a.m,d=s.m,f=l.m;s=Dr(s),r=Rr(r),s&&r;)l=Rr(l),a=Dr(a),a.a=e,i=s.z+d-r.z-u+o(s._,r._),i>0&&(Ir(Nr(s,e,n),e,i),u+=i,c+=i),d+=s.m,u+=r.m,f+=l.m,c+=a.m;s&&!Dr(a)&&(a.t=s,a.m+=d-c),r&&!Rr(l)&&(l.t=r,l.m+=u-f,n=e)}return n}function a(e){e.x*=l[0],e.y=e.depth*l[1]}var s=ss.layout.hierarchy().sort(null).value(null),o=Cr,l=[1,1],u=null;return e.separation=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(u=null==(l=t)?a:null,e):u?null:l},e.nodeSize=function(t){return arguments.length?(u=null==(l=t)?null:a,e):u?l:null},ir(e,s)},ss.layout.cluster=function(){function e(e,a){var s,o=t.call(this,e,a),l=o[0],u=0;ar(l,function(e){var t=e.children;t&&t.length?(e.x=Br(t),e.y=Fr(t)):(e.x=s?u+=n(e,s):0,e.y=0,s=e)});var c=Ur(l),d=Pr(l),f=c.x-n(c,d)/2,h=d.x+n(d,c)/2;return ar(l,r?function(e){e.x=(e.x-l.x)*i[0],e.y=(l.y-e.y)*i[1]}:function(e){e.x=(e.x-f)/(h-f)*i[0],e.y=(1-(l.y?e.y/l.y:1))*i[1]}),o}var t=ss.layout.hierarchy().sort(null).value(null),n=Cr,i=[1,1],r=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=null==(i=t),e):r?null:i},e.nodeSize=function(t){return arguments.length?(r=null!=(i=t),e):r?i:null},ir(e,t)},ss.layout.treemap=function(){function e(e,t){for(var n,i,r=-1,a=e.length;++r<a;)i=(n=e[r]).value*(0>t?0:t),n.area=isNaN(i)||0>=i?0:i}function t(n){var a=n.children;if(a&&a.length){var s,o,l,u=d(n),c=[],f=a.slice(),p=1/0,m="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(s=f[l-1]),c.area+=s.area,"squarify"!==h||(o=i(c,m))<=p?(f.pop(),p=o):(c.area-=c.pop().area,r(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,m,u,!0),c.length=c.area=0),a.forEach(t)}}function n(t){var i=t.children;if(i&&i.length){var a,s=d(t),o=i.slice(),l=[];for(e(o,s.dx*s.dy/t.value),l.area=0;a=o.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?s.dx:s.dy,s,!o.length),l.length=l.area=0);i.forEach(n)}}function i(e,t){for(var n,i=e.area,r=0,a=1/0,s=-1,o=e.length;++s<o;)(n=e[s].area)&&(a>n&&(a=n),n>r&&(r=n));return i*=i,t*=t,i?Math.max(t*r*p/i,i/(t*a*p)):1/0}function r(e,t,n,i){var r,a=-1,s=e.length,o=n.x,u=n.y,c=t?l(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<s;)r=e[a],r.x=o,r.y=u,r.dy=c,o+=r.dx=Math.min(n.x+n.dx-o,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-o,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<s;)r=e[a],r.x=o,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function a(i){var r=s||o(i),a=r[0];return a.x=0,a.y=0,a.dx=u[0],a.dy=u[1],s&&o.revalue(a),e([a],a.dx*a.dy/a.value),(s?n:t)(a),f&&(s=r),r}var s,o=ss.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Yr,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(u=e,a):u},a.padding=function(e){function t(t){var n=e.call(a,t,t.depth);return null==n?Yr(t):Hr(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Hr(t,e)}if(!arguments.length)return c;var i;return d=null==(c=e)?Yr:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,a},a.round=function(e){return arguments.length?(l=e?Math.round:Number,a):l!=Number},a.sticky=function(e){return arguments.length?(f=e,s=null,a):f},a.ratio=function(e){return arguments.length?(p=e,a):p},a.mode=function(e){return arguments.length?(h=e+"",a):h},ir(a,o)},ss.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=ss.random.normal.apply(ss,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ss.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},ss.scale={};var Al={floor:Re,ceil:Re};ss.scale.linear=function(){return Wr([0,1],[0,1],wi,!1)};var Ml={s:1,g:1,p:1,r:1,e:1};ss.scale.log=function(){return na(ss.scale.linear().domain([0,1]),10,!0,[1,10])};var Tl=ss.format(".0e"),Cl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ss.scale.pow=function(){return ia(ss.scale.linear(),1,[0,1])},ss.scale.sqrt=function(){return ss.scale.pow().exponent(.5)},ss.scale.ordinal=function(){return aa([],{t:"range",a:[[]]})},ss.scale.category10=function(){return ss.scale.ordinal().range(Rl)},ss.scale.category20=function(){return ss.scale.ordinal().range(Dl)},ss.scale.category20b=function(){return ss.scale.ordinal().range(Il)},ss.scale.category20c=function(){return ss.scale.ordinal().range(Ol)};var Rl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(we),Dl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(we),Il=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(we),Ol=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(we);ss.scale.quantile=function(){return sa([],[])},ss.scale.quantize=function(){return oa(0,1,[0,1])},ss.scale.threshold=function(){return la([.5],[0,1])},ss.scale.identity=function(){return ua([0,1])},ss.svg={},ss.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=s.apply(this,arguments)-Vs,d=o.apply(this,arguments)-Vs,f=Math.abs(d-c),h=c>d?0:1;if(e>u&&(p=u,u=e,e=p),f>=Gs)return t(u,h)+(e?t(e,1-h):"")+"Z";var p,m,_,g,v,b,y,x,S,w,L,E,k=0,A=0,M=[];if((g=(+l.apply(this,arguments)||0)/2)&&(_=a===Nl?Math.sqrt(e*e+u*u):+a.apply(this,arguments),h||(A*=-1),u&&(A=ae(_/u*Math.sin(g))),e&&(k=ae(_/e*Math.sin(g)))),u){v=u*Math.cos(c+A),b=u*Math.sin(c+A),y=u*Math.cos(d-A),x=u*Math.sin(d-A);var T=Math.abs(d-c-2*A)<=Ys?0:1;if(A&&_a(v,b,y,x)===h^T){var C=(c+d)/2;v=u*Math.cos(C),b=u*Math.sin(C),y=x=null}}else v=b=0;if(e){S=e*Math.cos(d-k),w=e*Math.sin(d-k),L=e*Math.cos(c+k),E=e*Math.sin(c+k);var R=Math.abs(c-d+2*k)<=Ys?0:1;if(k&&_a(S,w,L,E)===1-h^R){var D=(c+d)/2;S=e*Math.cos(D),w=e*Math.sin(D),L=E=null}}else S=w=0;if((p=Math.min(Math.abs(u-e)/2,+r.apply(this,arguments)))>.001){m=u>e^h?0:1;var I=null==L?[S,w]:null==y?[v,b]:Un([v,b],[L,E],[y,x],[S,w]),O=v-I[0],N=b-I[1],F=y-I[0],B=x-I[1],U=1/Math.sin(Math.acos((O*F+N*B)/(Math.sqrt(O*O+N*N)*Math.sqrt(F*F+B*B)))/2),P=Math.sqrt(I[0]*I[0]+I[1]*I[1]);if(null!=y){var Y=Math.min(p,(u-P)/(U+1)),H=ga(null==L?[S,w]:[L,E],[v,b],u,Y,h),G=ga([y,x],[S,w],u,Y,h);p===Y?M.push("M",H[0],"A",Y,",",Y," 0 0,",m," ",H[1],"A",u,",",u," 0 ",1-h^_a(H[1][0],H[1][1],G[1][0],G[1][1]),",",h," ",G[1],"A",Y,",",Y," 0 0,",m," ",G[0]):M.push("M",H[0],"A",Y,",",Y," 0 1,",m," ",G[0])}else M.push("M",v,",",b);if(null!=L){var V=Math.min(p,(e-P)/(U-1)),j=ga([v,b],[L,E],e,-V,h),z=ga([S,w],null==y?[v,b]:[y,x],e,-V,h);p===V?M.push("L",z[0],"A",V,",",V," 0 0,",m," ",z[1],"A",e,",",e," 0 ",h^_a(z[1][0],z[1][1],j[1][0],j[1][1]),",",1-h," ",j[1],"A",V,",",V," 0 0,",m," ",j[0]):M.push("L",z[0],"A",V,",",V," 0 0,",m," ",j[0])}else M.push("L",S,",",w)}else M.push("M",v,",",b),null!=y&&M.push("A",u,",",u," 0 ",T,",",h," ",y,",",x),M.push("L",S,",",w),null!=L&&M.push("A",e,",",e," 0 ",R,",",1-h," ",L,",",E);return M.push("Z"),M.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=da,i=fa,r=ca,a=Nl,s=ha,o=pa,l=ma;return e.innerRadius=function(t){return arguments.length?(n=Ce(t),e):n},e.outerRadius=function(t){return arguments.length?(i=Ce(t),e):i},e.cornerRadius=function(t){return arguments.length?(r=Ce(t),e):r},e.padRadius=function(t){return arguments.length?(a=t==Nl?Nl:Ce(t),e):a},e.startAngle=function(t){return arguments.length?(s=Ce(t),e):s},e.endAngle=function(t){return arguments.length?(o=Ce(t),e):o},e.padAngle=function(t){return arguments.length?(l=Ce(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,t=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Vs;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Nl="auto";ss.svg.line=function(){return va(Re)};var Fl=ss.map({linear:ba,"linear-closed":ya,step:xa,"step-before":Sa,"step-after":wa,basis:Ta,"basis-open":Ca,"basis-closed":Ra,bundle:Da,cardinal:ka,"cardinal-open":La,"cardinal-closed":Ea,monotone:Ua});Fl.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Bl=[0,2/3,1/3,0],Ul=[0,1/3,2/3,0],Pl=[0,1/6,2/3,1/6];ss.svg.line.radial=function(){var e=va(Pa);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Sa.reverse=wa,wa.reverse=Sa,ss.svg.area=function(){return Ya(Re)},ss.svg.area.radial=function(){var e=Ya(Pa);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ss.svg.chord=function(){function e(e,o){var l=t(this,a,e,o),u=t(this,s,e,o);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function t(e,t,n,i){var r=t.call(e,n,i),a=o.call(e,r,i),s=l.call(e,r,i)-Vs,c=u.call(e,r,i)-Vs;return{r:a,a0:s,a1:c,p0:[a*Math.cos(s),a*Math.sin(s)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ys)+",1 "+t}function r(e,t,n,i){return"Q 0,0 "+i}var a=wn,s=Ln,o=Ha,l=ha,u=pa;return e.radius=function(t){return arguments.length?(o=Ce(t),e):o},e.source=function(t){return arguments.length?(a=Ce(t),e):a},e.target=function(t){return arguments.length?(s=Ce(t),e):s},e.startAngle=function(t){return arguments.length?(l=Ce(t),e):l},e.endAngle=function(t){return arguments.length?(u=Ce(t),e):u},e},ss.svg.diagonal=function(){function e(e,r){var a=t.call(this,e,r),s=n.call(this,e,r),o=(a.y+s.y)/2,l=[a,{x:a.x,y:o},{x:s.x,y:o},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=wn,n=Ln,i=Ga;return e.source=function(n){return arguments.length?(t=Ce(n),e):t},e.target=function(t){return arguments.length?(n=Ce(t),e):n},e.projection=function(t){return arguments.length?(i=t,e):i},e},ss.svg.diagonal.radial=function(){var e=ss.svg.diagonal(),t=Ga,n=e.projection;return e.projection=function(e){return arguments.length?n(Va(t=e)):t},e},ss.svg.symbol=function(){function e(e,i){return(Yl.get(t.call(this,e,i))||$a)(n.call(this,e,i))}var t=za,n=ja;return e.type=function(n){return arguments.length?(t=Ce(n),e):t},e.size=function(t){return arguments.length?(n=Ce(t),e):n},e};var Yl=ss.map({circle:$a,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Gl)),n=t*Gl;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Hl),n=t*Hl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Hl),n=t*Hl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ss.svg.symbolTypes=Yl.keys();var Hl=Math.sqrt(3),Gl=Math.tan(30*js);Cs.transition=function(e){for(var t,n,i=Vl||++ql,r=Xa(e),a=[],s=jl||{time:Date.now(),ease:Ci,delay:0,duration:250},o=-1,l=this.length;++o<l;){a.push(t=[]);for(var u=this[o],c=-1,d=u.length;++c<d;)(n=u[c])&&Za(n,c,r,i,s),t.push(n)}return Wa(a,r,i)},Cs.interrupt=function(e){return this.each(null==e?zl:qa(Xa(e)))};var Vl,jl,zl=qa(Xa()),$l=[],ql=0;$l.call=Cs.call,$l.empty=Cs.empty,$l.node=Cs.node,$l.size=Cs.size,ss.transition=function(e,t){return e&&e.transition?Vl?e.transition(t):e:Is.transition(e)},ss.transition.prototype=$l,$l.select=function(e){var t,n,i,r=this.id,a=this.namespace,s=[];e=C(e);for(var o=-1,l=this.length;++o<l;){s.push(t=[]);for(var u=this[o],c=-1,d=u.length;++c<d;)(i=u[c])&&(n=e.call(i,i.__data__,c,o))?("__data__"in i&&(n.__data__=i.__data__),Za(n,c,a,r,i[a][r]),t.push(n)):t.push(null)}return Wa(s,a,r)},$l.selectAll=function(e){var t,n,i,r,a,s=this.id,o=this.namespace,l=[];e=R(e);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(i=d[f]){a=i[o][s],n=e.call(i,i.__data__,f,u),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(r=n[p])&&Za(r,p,o,s,a),t.push(r)}return Wa(l,o,s)},$l.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=V(e));for(var a=0,s=this.length;s>a;a++){r.push(t=[]);for(var n=this[a],o=0,l=n.length;l>o;o++)(i=n[o])&&e.call(i,i.__data__,o,a)&&t.push(i)}return Wa(r,this.namespace,this.id)},$l.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):z(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},$l.attr=function(e,t){function n(){this.removeAttribute(o)}function i(){this.removeAttributeNS(o.space,o.local)}function r(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(o);return n!==e&&(t=s(n,e),function(e){this.setAttribute(o,t(e))})})}function a(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(o.space,o.local);return n!==e&&(t=s(n,e),function(e){this.setAttributeNS(o.space,o.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var s="transform"==e?$i:wi,o=ss.ns.qualify(e);return Ka(this,"attr."+e,t,o.local?a:r)},$l.attrTween=function(e,t){function n(e,n){var i=t.call(this,e,n,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function i(e,n){var i=t.call(this,e,n,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=ss.ns.qualify(e);return this.tween("attr."+e,r.local?i:n)},$l.style=function(e,t,n){function i(){this.style.removeProperty(e)}function r(t){return null==t?i:(t+="",function(){var i,r=ds.getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=wi(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Ka(this,"style."+e,t,r)},$l.styleTween=function(e,t,n){function i(i,r){var a=t.call(this,i,r,ds.getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,i)},$l.text=function(e){return Ka(this,"text",e,Ja)},$l.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},$l.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ss.ease.apply(ss,arguments)),z(this,function(i){i[n][t].ease=e}))},$l.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:z(this,"function"==typeof e?function(i,r,a){i[n][t].delay=+e.call(i,i.__data__,r,a)}:(e=+e,function(i){i[n][t].delay=e}))},$l.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:z(this,"function"==typeof e?function(i,r,a){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,a))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},$l.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var r=jl,a=Vl;try{Vl=n,z(this,function(t,r,a){jl=t[i][n],e.call(t,t.__data__,r,a)})}finally{jl=r,Vl=a}}else z(this,function(r){var a=r[i][n];(a.event||(a.event=ss.dispatch("start","end","interrupt"))).on(e,t)});return this},$l.transition=function(){for(var e,t,n,i,r=this.id,a=++ql,s=this.namespace,o=[],l=0,u=this.length;u>l;l++){o.push(e=[]);for(var t=this[l],c=0,d=t.length;d>c;c++)(n=t[c])&&(i=n[s][r],Za(n,c,s,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),e.push(n)}return Wa(o,s,a)},ss.svg.axis=function(){function e(e){e.each(function(){var e,u=ss.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,o):d.domain():l,h=null==t?d.tickFormat?d.tickFormat.apply(d,o):Re:t,p=u.selectAll(".tick").data(f,d),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Us),_=ss.transition(p.exit()).style("opacity",Us).remove(),g=ss.transition(p.order()).style("opacity",1),v=Math.max(r,0)+s,b=Vr(d),y=u.selectAll(".domain").data([0]),x=(y.enter().append("path").attr("class","domain"),ss.transition(y));m.append("line"),m.append("text");var S,w,L,E,k=m.select("line"),A=g.select("line"),M=p.select("text").text(h),T=m.select("text"),C=g.select("text"),R="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(e=Qa,S="x",L="y",w="x2",E="y2",M.attr("dy",0>R?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+R*a+"V0H"+b[1]+"V"+R*a)):(e=es,S="y",L="x",w="y2",E="x2",M.attr("dy",".32em").style("text-anchor",0>R?"end":"start"),x.attr("d","M"+R*a+","+b[0]+"H0V"+b[1]+"H"+R*a)),k.attr(E,R*r),T.attr(L,R*v),A.attr(w,0).attr(E,R*r),C.attr(S,0).attr(L,R*v),d.rangeBand){var D=d,I=D.rangeBand()/2;c=d=function(e){return D(e)+I}}else c.rangeBand?c=d:_.call(e,d,c);m.call(e,c,d),g.call(e,d,d)})}var t,n=ss.scale.linear(),i=Wl,r=6,a=6,s=3,o=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(i=t in Kl?t+"":Wl,e):i},e.ticks=function(){return arguments.length?(o=arguments,e):o},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(r=+t,a=+arguments[n-1],e):r},e.innerTickSize=function(t){return arguments.length?(r=+t,e):r},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(){return arguments.length&&e},e};var Wl="bottom",Kl={top:1,right:1,bottom:1,left:1};ss.svg.brush=function(){function e(a){a.each(function(){var a=ss.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),s=a.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=a.selectAll(".resize").data(p,Re);o.exit().remove(),o.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Jl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",e.empty()?"none":null);var c,d=ss.transition(a),f=ss.transition(s);l&&(c=Vr(l),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(d)),u&&(c=Vr(u),f.attr("y",c[0]).attr("height",c[1]-c[0]),i(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",c[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function i(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){32==ss.event.keyCode&&(M||(v=null,C[0]-=c[1],C[1]-=d[1],M=2),k())}function p(){32==ss.event.keyCode&&2==M&&(C[0]+=c[1],C[1]+=d[1],M=0,k())}function m(){var e=ss.mouse(y),r=!1;b&&(e[0]+=b[0],e[1]+=b[1]),M||(ss.event.altKey?(v||(v=[(c[0]+c[1])/2,(d[0]+d[1])/2]),C[0]=c[+(e[0]<v[0])],C[1]=d[+(e[1]<v[1])]):v=null),E&&_(e,l,0)&&(n(w),r=!0),A&&_(e,u,1)&&(i(w),r=!0),r&&(t(w),S({type:"brush",mode:M?"move":"resize"}))}function _(e,t,n){var i,r,o=Vr(t),l=o[0],u=o[1],p=C[n],m=n?d:c,_=m[1]-m[0];return M&&(l-=p,u-=_+p),i=(n?h:f)?Math.max(l,Math.min(u,e[n])):e[n],M?r=(i+=p)+_:(v&&(p=Math.max(l,Math.min(u,2*v[n]-i))),i>p?(r=i,i=p):r=p),m[0]!=i||m[1]!=r?(n?s=null:a=null,m[0]=i,m[1]=r,!0):void 0}function g(){m(),w.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ss.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),S({type:"brushend"})}var v,b,y=this,x=ss.select(ss.event.target),S=o.of(y,arguments),w=ss.select(y),L=x.datum(),E=!/^(n|s)$/.test(L)&&l,A=!/^(e|w)$/.test(L)&&u,M=x.classed("extent"),T=X(),C=ss.mouse(y),R=ss.select(ds).on("keydown.brush",r).on("keyup.brush",p);if(ss.event.changedTouches?R.on("touchmove.brush",m).on("touchend.brush",g):R.on("mousemove.brush",m).on("mouseup.brush",g),w.interrupt().selectAll("*").interrupt(),M)C[0]=c[0]-C[0],C[1]=d[0]-C[1];else if(L){var D=+/w$/.test(L),I=+/^n/.test(L);b=[c[1-D]-C[0],d[1-I]-C[1]],C[0]=c[D],C[1]=d[I]}else ss.event.altKey&&(v=C.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),ss.select("body").style("cursor",x.style("cursor")),S({type:"brushstart"}),m()}var a,s,o=M(e,"brushstart","brush","brushend"),l=null,u=null,c=[0,0],d=[0,0],f=!0,h=!0,p=Xl[0];return e.event=function(e){e.each(function(){var e=o.of(this,arguments),t={x:c,y:d,i:a,j:s},n=this.__chart__||t;this.__chart__=t,Vl?ss.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,c=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Li(c,t.x),i=Li(d,t.y);return a=s=null,function(r){c=t.x=n(r),d=t.y=i(r),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,p=Xl[!l<<1|!u],e):l},e.y=function(t){return arguments.length?(u=t,p=Xl[!l<<1|!u],e):u},e.clamp=function(t){return arguments.length?(l&&u?(f=!!t[0],h=!!t[1]):l?f=!!t:u&&(h=!!t),e):l&&u?[f,h]:l?f:u?h:null},e.extent=function(t){var n,i,r,o,f;return arguments.length?(l&&(n=t[0],i=t[1],u&&(n=n[0],i=i[0]),a=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(f=n,n=i,i=f),(n!=c[0]||i!=c[1])&&(c=[n,i])),u&&(r=t[0],o=t[1],l&&(r=r[1],o=o[1]),s=[r,o],u.invert&&(r=u(r),o=u(o)),r>o&&(f=r,r=o,o=f),(r!=d[0]||o!=d[1])&&(d=[r,o])),e):(l&&(a?(n=a[0],i=a[1]):(n=c[0],i=c[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(f=n,n=i,i=f))),u&&(s?(r=s[0],o=s[1]):(r=d[0],o=d[1],u.invert&&(r=u.invert(r),o=u.invert(o)),r>o&&(f=r,r=o,o=f))),l&&u?[[n,r],[i,o]]:l?[n,i]:u&&[r,o])},e.clear=function(){return e.empty()||(c=[0,0],d=[0,0],a=s=null),e},e.empty=function(){return!!l&&c[0]==c[1]||!!u&&d[0]==d[1]},ss.rebind(e,o,"on")};var Jl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Zl=go.format=wo.timeFormat,Ql=Zl.utc,eu=Ql("%Y-%m-%dT%H:%M:%S.%LZ");Zl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ts:eu,ts.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ts.toString=eu.toString,go.second=je(function(e){return new vo(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),go.seconds=go.second.range,go.seconds.utc=go.second.utc.range,go.minute=je(function(e){return new vo(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),go.minutes=go.minute.range,go.minutes.utc=go.minute.utc.range,go.hour=je(function(e){var t=e.getTimezoneOffset()/60;return new vo(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),go.hours=go.hour.range,go.hours.utc=go.hour.utc.range,go.month=je(function(e){return e=go.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),go.months=go.month.range,go.months.utc=go.month.utc.range;var tu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],nu=[[go.second,1],[go.second,5],[go.second,15],[go.second,30],[go.minute,1],[go.minute,5],[go.minute,15],[go.minute,30],[go.hour,1],[go.hour,3],[go.hour,6],[go.hour,12],[go.day,1],[go.day,2],[go.week,1],[go.month,1],[go.month,3],[go.year,1]],iu=Zl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",It]]),ru={range:function(e,t,n){return ss.range(Math.ceil(e/n)*n,+t,n).map(is)},floor:Re,ceil:Re};nu.year=go.year,go.scale=function(){return ns(ss.scale.linear(),nu,iu)};var au=nu.map(function(e){return[e[0].utc,e[1]]}),su=Ql.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",It]]);au.year=go.year.utc,go.scale.utc=function(){return ns(ss.scale.linear(),au,su)},ss.text=De(function(e){return e.responseText}),ss.json=function(e,t){return Ie(e,"application/json",rs,t)},ss.html=function(e,t){return Ie(e,"text/html",as,t)},ss.xml=De(function(e){return e.responseXML}),true?!(i=ss,r=typeof i==="function"?i.call(t,n,t,e):i,r!==undefined&&(e.exports=r)):"object"==typeof e&&e.exports&&(e.exports=ss),this.d3=ss}();e.exports=d3},function(e,t,n){(function(i){var r,a;(function(i){var s={},o=i.document,l="localStorage",u;s.disabled=false;s.set=function(e,t){};s.get=function(e){};s.remove=function(e){};s.clear=function(){};s.transact=function(e,t,n){var i=s.get(e);if(n==null){n=t;t=null}if(typeof i=="undefined"){i=t||{}}n(i);s.set(e,i)};s.getAll=function(){};

s.forEach=function(){};s.serialize=function(e){return JSON.stringify(e)};s.deserialize=function(e){if(typeof e!="string"){return undefined}try{return JSON.parse(e)}catch(t){return e||undefined}};function c(){try{return l in i&&i[l]}catch(e){return false}}if(c()){u=i[l];s.set=function(e,t){u.setItem(e,s.serialize(t));return t};s.get=function(e){return s.deserialize(u.getItem(e))};s.remove=function(e){u.removeItem(e)};s.clear=function(){u.clear()};s.getAll=function(){var e={};s.forEach(function(t,n){e[t]=n});return e};s.forEach=function(e){for(var t=0;t<u.length;t++){var n=u.key(t);e(n,s.get(n))}}}else if(o.documentElement.addBehavior){var d,f;try{f=new ActiveXObject("htmlfile");f.open();f.write("<s"+"cript>document.w=window</s"+'cript><iframe src="/favicon.ico"></iframe>');f.close();d=f.w.frames[0].document;u=d.createElement("div")}catch(h){u=o.createElement("div");d=o.body}function p(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(u);d.appendChild(u);u.addBehavior("#default#userData");u.load(l);var n=e.apply(s,t);d.removeChild(u);return n}}var m=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function _(e){return e.replace(m,"___")}s.set=p(function(e,t,n){t=_(t);if(n===undefined){return s.remove(t)}e.setAttribute(t,s.serialize(n));e.save(l);return n});s.get=p(function(e,t){t=_(t);return s.deserialize(e.getAttribute(t))});s.remove=p(function(e,t){t=_(t);e.removeAttribute(t);e.save(l)});s.clear=p(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n=0,i;i=t[n];n++){e.removeAttribute(i.name)}e.save(l)});s.getAll=p(function(e){var t={};s.forEach(function(e,n){t[e]=n});return t});s.forEach=p(function(e,t){var n=e.XMLDocument.documentElement.attributes;for(var i=0,r;r=n[i];++i){var a=_(r.name);t(ret[r.name],s.deserialize(e.getAttribute(a)))}})}try{var g="__storejs__";s.set(g,g);if(s.get(g)!=g){s.disabled=true}s.remove(g)}catch(h){s.disabled=true}s.enabled=!s.disabled;if(typeof e!="undefined"&&e.exports){e.exports=s}else if(true){!(r=s,a=typeof r==="function"?r.call(t,n,t,e):r,a!==undefined&&(e.exports=a))}else{i.store=s}s.cut=s.remove;s.deserialize=function(e){if(typeof e!=="string"){return undefined}try{return JSON.parse(e)}catch(t){return undefined}};s.has=function(e){return window.localStorage.getItem(e)!==null};i.stash=s;if(s.enabled)return;u={getItem:function(e){return this[e]},setItem:function(e,t){this[e]=String(t)},removeItem:function(e){delete this[e]},clear:function(){for(var e in this){if(typeof this[e]!=="function"){delete this[e]}}}}})(this.window||i);e.exports=stash}).call(t,n(58))},function(e,t){function n(e,t,n){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var i=0,r=0,a=0,s={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:-1,pl:-1},o=function(e){e=(""+e).replace(/[_\-+]/g,".");e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return!e.length?[-8]:e.split(".")},l=function(e){return!e?0:isNaN(e)?s[e]||-7:parseInt(e,10)};e=o(e);t=o(t);r=Math.max(e.length,t.length);for(i=0;i<r;i++){if(e[i]==t[i]){continue}e[i]=l(e[i]);t[i]=l(t[i]);if(e[i]<t[i]){a=-1;break}else if(e[i]>t[i]){a=1;break}}if(!n){return a}switch(n){case">":case"gt":return a>0;case">=":case"ge":return a>=0;case"<=":case"le":return a<=0;case"==":case"=":case"eq":return a===0;case"<>":case"!=":case"ne":return a!==0;case"":case"<":case"lt":return a<0;default:return null}}e.exports=n},function(e,t,n){e.exports=n.p+"../font/OpenSans-Bold.ttf"},function(e,t,n){e.exports=n.p+"../font/OpenSans-Regular.ttf"},function(e,t,n){e.exports=n.p+"../font/OpenSans-Semibold.ttf"},function(e,t,n){e.exports=n.p+"../font/fontawesome-webfont.ttf"},function(e,t,n){e.exports=n.p+"../img/icon-pipeline.svg"},function(e,t,n){e.exports=n.p+"../img/icon-touchid.svg"},function(e,t,n){e.exports=n.p+"../img/logo-login.svg"},function(e,t,n){e.exports=n.p+"../img/pattern-tiled.svg"},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'    <article data-id="'+e.escapeExpression((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:r}):s))+'" class="activitystream-item">\n        <div class="as__detail">\n'+((a=n["with"].call(o,(a=t!=null?t.model:t)!=null?a.attributes:a,{name:"with",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        </div>\n    </article>\n"},2:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <span class="label-module-sm label-'+u((a=(a=n.display_parent_type||(t!=null?t.display_parent_type:t))!=null?a:o,typeof a===l?a.call(s,{name:"display_parent_type",hash:{},data:r}):a))+'">'+u((n.moduleIconLabel||t&&t.moduleIconLabel||o).call(s,t!=null?t.display_parent_type:t,{name:"moduleIconLabel",hash:{},data:r}))+'</span>\n                <div class="as__title">\n                    '+u((n.activityItem||t&&t.activityItem||o).call(s,t,{name:"activityItem",hash:{},data:r}))+'\n                </div>\n                <div class="as__info">\n                    <a href="#Users/'+u((a=(a=n.created_by||(t!=null?t.created_by:t))!=null?a:o,typeof a===l?a.call(s,{name:"created_by",hash:{},data:r}):a))+'">'+u((n.str||t&&t.str||o).call(s,t!=null?t.created_by_name:t,{name:"str",hash:{},data:r}))+"</a> "+u((n.relativeTime||t&&t.relativeTime||o).call(s,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:r}))+"\n                </div>\n"},4:function(e,t,n,i,r){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"menu-list-item",t,{name:"partial",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=(n.isActivityItemValid||t&&t.isActivityItemValid||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.model:t)!=null?a.attributes:a,{name:"isActivityItemValid",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="panel__addpost">\n    <a href="javascript:void(0)" class="panel-addpost-link fast-click-highlighted">'+u((n.str||t&&t.str||l).call(o,"LBL_COMMENT_ADD",{name:"str",hash:{},data:r}))+'</a>\n</div>\n\n<div class="listing" id="listing-'+u((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"module",hash:{},data:r}):s))+'">\n    '+u((n.partial||t&&t.partial||l).call(o,"list-no-records",t,{name:"partial",hash:{},data:r}))+"\n    "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-top",t,{name:"partial",hash:{},data:r}))+'\n    <div class="items">\n        '+u((n.listItems||t&&t.listItems||l).call(o,(a=t!=null?t.collection:t)!=null?a.models:a,t,{name:"listItems",hash:{},data:r}))+"\n    </div>\n    "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-bottom",t,{name:"partial",hash:{},data:r}))+"\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'        <div class="as__detail">\n            <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:r}):s))+'/edit" class="as__icon">'+c((n.userPicture||t&&t.userPicture||l).call(o,t!=null?t.created_by:t,{name:"userPicture",hash:{},data:r}))+'</a>\n            <div class="as__title">\n                '+c((n.comment||t&&t.comment||l).call(o,(a=t!=null?t.data:t)!=null?a.value:a,(a=t!=null?t.data:t)!=null?a.tags:a,{name:"comment",hash:{},data:r}))+'\n            </div>\n            <div class="as__info">\n                <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:r}):s))+'">'+c((n.str||t&&t.str||l).call(o,t!=null?t.created_by_name:t,{name:"str",hash:{},data:r}))+"</a> "+c((n.relativeTime||t&&t.relativeTime||l).call(o,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:r}))+"\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:r}):s))+'" class="activitystream-item">\n'+((a=n["with"].call(o,(a=t!=null?t.model:t)!=null?a.attributes:a,{name:"with",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"    "+u((n.partial||t&&t.partial||l).call(o,"menu-list-item",t,{name:"partial",hash:{},data:r}))+"\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return"<p>"+l((n.str||t&&t.str||o).call(s,"LBL_CREATED","Opportunities",{name:"str",hash:{},data:r}))+": <b>"+l((a=(a=n.assigned_user_name||(t!=null?t.assigned_user_name:t))!=null?a:o,typeof a===u?a.call(s,{name:"assigned_user_name",hash:{},data:r}):a))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_LIKELY","Opportunities",{name:"str",hash:{},data:r}))+": <b>"+l((a=(a=n.amount||(t!=null?t.amount:t))!=null?a:o,typeof a===u?a.call(s,{name:"amount",hash:{},data:r}):a))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_DATE_CLOSED","Opportunities",{name:"str",hash:{},data:r}))+": <b>"+l((a=(a=n.close_date||(t!=null?t.close_date:t))!=null?a:o,typeof a===u?a.call(s,{name:"close_date",hash:{},data:r}):a))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_PROBABILITY","Opportunities",{name:"str",hash:{},data:r}))+": <b>"+l((a=(a=n.probability||(t!=null?t.probability:t))!=null?a:o,typeof a===u?a.call(s,{name:"probability",hash:{},data:r}):a))+"%</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_ACCOUNTS",{name:"str",hash:{},data:r}))+": <b>"+l((a=(a=n.account_name||(t!=null?t.account_name:t))!=null?a:o,typeof a===u?a.call(s,{name:"account_name",hash:{},data:r}):a))+"</b></p>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="chart">\n    <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:r}))+'</span>\n    <div class="nv-chart nv-chart-bubble"></div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o;return'        <div class="filters-wrap">\n'+((o=n.each.call(t!=null?t:{},(o=t!=null?t.viewState:t)!=null?o.filtersDef:o,{name:"each",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"        </div>\n"},2:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing;return'                <div class="filter '+((o=(l=(l=n.name||(t!=null?t.name:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"name",hash:{},data:r}):l))!=null?o:"")+'">\n                    '+e.escapeExpression((n.field||t&&t.field||c).call(u,s[1],{name:"field",hash:{parent:s[1],model:(o=s[1]!=null?s[1].viewState:s[1])!=null?o.filters:o},data:r}))+"\n                </div>\n"},4:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},(a=t!=null?t.viewState:t)!=null?a.visibility:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:""},5:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="visibility-switcher">\n                <button class="visibility-switcher__btn '+((a=n["if"].call(s,(a=t!=null?t.viewState:t)!=null?a.myItemsOnly:a,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" data-value="user" track="click:mine">'+l((n.icon||t&&t.icon||o).call(s,"sorting.myItemsOnly",{name:"icon",hash:{},data:r}))+'</button>\n                <button class="visibility-switcher__btn '+((a=n.unless.call(s,(a=t!=null?t.viewState:t)!=null?a.myItemsOnly:a,{name:"unless",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" data-value="group" track="click:all">'+l((n.icon||t&&t.icon||o).call(s,"sorting.teamItems",{name:"icon",hash:{},data:r}))+"</button>\n            </div>\n"},6:function(e,t,n,i,r){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'<div class="dashlet-options">\n    <div class="dashlet-options_bigbar">\n'+((o=n["if"].call(l,(o=t!=null?t.viewState:t)!=null?o.filtersDef:o,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"    </div>\n"+((o=n["if"].call(l,t!=null?t.isManager:t,{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</div>\n\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=e.lambda,l=e.escapeExpression;return'        <div class="chart-metric">\n            <span class="label '+l(o((a=t!=null?t.value:t)!=null?a.cssClass:a,t))+'">'+l(o((a=t!=null?t.value:t)!=null?a.count:a,t))+'</span>\n            <div class="metric-amount '+l((s=(s=n.key||(t!=null?t.key:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:{},{name:"key",hash:{},data:r}):s))+'">'+l(o((a=t!=null?t.value:t)!=null?a.formattedAmount:a,t))+'</div>\n            <div class="metric-description">'+l(o((a=t!=null?t.value:t)!=null?a.stageLabel:a,t))+"</div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing;return'<div class="donut-chart">\n    <div class="nv-chart nv-chart-donut"></div>\n    <div class="donut-chart-metric-container">\n'+((a=(n.eachOptions||t&&t.eachOptions||o).call(s,t!=null?t.metricsCollection:t,{name:"eachOptions",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'    </div>\n    <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_CHART_NO_DATA",{name:"str",hash:{},data:r}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'        <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:r}))+'</span>\n\n        <div class="nv-chart nv-pareto"></div>\n'},3:function(e,t,n,i,r){var a,s;return"        "+((a=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:{},{name:"forecastsNotSetUpMsg",hash:{},data:r}):s))!=null?a:"")+"\n"},5:function(e,t,n,i,r){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:r}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="chart">\n'+((a=n["if"].call(s,t!=null?t.isForecastSetup:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"\n"+((a=n.unless.call(s,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s;return"        "+((a=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:{},{name:"forecastsNotSetUpMsg",hash:{},data:r}):s))!=null?a:"")+"\n"},3:function(e,t,n,i,r){return'        <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:r}))+'</span>\n        <div class="nv-chart nv-funnelChart"></div>\n'},5:function(e,t,n,i,r){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:r}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="chart">\n'+((a=n["if"].call(s,t!=null?t.forecastsNotSetUpMsg:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"\n"+((a=n.unless.call(s,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o;return'        <div class="fd__wrapper">\n\n            <div class="fd__b">\n'+((o=n["with"].call(t!=null?t:{},(o=t!=null?t.model:t)!=null?o.attributes:o,{name:"with",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n            </div>\n        </div>\n"},2:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return((o=n["if"].call(u,t!=null?t.showTargetQuota:t,{name:"if",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n                    <div class="row-fluid">\n                        <span class="span2">\n                            '+f((l=(l=n.quota_label||(t!=null?t.quota_label:t))!=null?l:c,typeof l===d?l.call(u,{name:"quota_label",hash:{},data:r}):l))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.quota_amount_str||(t!=null?t.quota_amount_str:t))!=null?l:c,typeof l===d?l.call(u,{name:"quota_amount_str",hash:{},data:r}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid">\n                        <span class="span2">\n                            '+f((n.str||t&&t.str||c).call(u,"LBL_CLOSED","Forecasts",{name:"str",hash:{},data:r}))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.closed_amount_str||(t!=null?t.closed_amount_str:t))!=null?l:c,typeof l===d?l.call(u,{name:"closed_amount_str",hash:{},data:r}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid deficitRow">\n                        <span class="span2">\n                            '+f((l=(l=n.deficit_label||(t!=null?t.deficit_label:t))!=null?l:c,typeof l===d?l.call(u,{name:"deficit_label",hash:{},data:r}):l))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.deficit_amount_str||(t!=null?t.deficit_amount_str:t))!=null?l:c,typeof l===d?l.call(u,{name:"deficit_amount_str",hash:{},data:r}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid details-cols">\n'+((o=n.each.call(u,t!=null?t.detailsOpts:t,{name:"each",hash:{},fn:e.program(5,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"                    </div>\n"},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="row-fluid">\n                        <span class="span2">\n                            '+l((n.str||t&&t.str||o).call(s,"LBL_QUOTA","Forecasts",{name:"str",hash:{},data:r}))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+l((a=(a=n.target_quota_amount_str||(t!=null?t.target_quota_amount_str:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"target_quota_amount_str",hash:{},data:r}):a))+"\n                        </span>\n                    </div>\n"},5:function(e,t,n,i,r,a,s){var o;return'                            <div class="span'+((o=e.lambda(s[1]!=null?s[1].spanCSS:s[1],t))!=null?o:"")+' tcenter">\n'+((o=n["if"].call(t!=null?t:{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(6,r,0,a,s),inverse:e.program(8,r,0,a,s),data:r}))!=null?o:"")+"                            </div>\n"},6:function(e,t,n,i,r){var a,s,o=e.lambda,l=e.escapeExpression,u=t!=null?t:{},c=n.helperMissing,d="function";return'                                    <div class="forecast_details_default_numbers forecast_details_'+l(o(t!=null?t["case"]:t,t))+'_numbers ellipsis_inline">\n                                        <span class="forecast_details_label">\n                                            '+l((s=(s=n.label||(t!=null?t.label:t))!=null?s:c,typeof s===d?s.call(u,{name:"label",hash:{},data:r}):s))+'\n                                        </span>\n                                        <span class="forecast_details_amount">\n                                            '+l((s=(s=n.amount||(t!=null?t.amount:t))!=null?s:c,typeof s===d?s.call(u,{name:"amount",hash:{},data:r}):s))+'\n                                        </span>\n                                    </div>\n\n                                    <div class="forecast_details_default_feedback forecast_details_'+l(o(t!=null?t["case"]:t,t))+'_feedback ellipsis_inline">\n                                        <span class="forecast_details_feedback">\n                                            <div class="fdf_ln1">'+((a=(s=(s=n.feedbackLn1||(t!=null?t.feedbackLn1:t))!=null?s:c,typeof s===d?s.call(u,{name:"feedbackLn1",hash:{},data:r}):s))!=null?a:"")+"</div>\n                                            "+((a=(s=(s=n.feedbackLn2||(t!=null?t.feedbackLn2:t))!=null?s:c,typeof s===d?s.call(u,{name:"feedbackLn2",hash:{},data:r}):s))!=null?a:"")+"\n                                        </span>\n                                    </div>\n"},8:function(e,t,n,i,r){var a,s=e.escapeExpression,o=t!=null?t:{},l=n.helperMissing;return'                                    <div class="forecast_details_default_numbers forecast_details_'+s(e.lambda(t!=null?t["case"]:t,t))+'_numbers ellipsis_inline">\n                                        <span class="forecast_details_label">\n                                            '+s((a=(a=n.label||(t!=null?t.label:t))!=null?a:l,typeof a==="function"?a.call(o,{name:"label",hash:{},data:r}):a))+'\n                                        </span>\n                                        <span class="forecast_details_no_access">\n                                            '+s((n.str||t&&t.str||l).call(o,"LBL_NO_FIELD_ACCESS",{name:"str",hash:{},data:r}))+"\n                                        </span>\n                                    </div>\n"},10:function(e,t,n,i,r){var a,s;return"        "+((a=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:{},{name:"forecastsNotSetUpMsg",hash:{},data:r}):s))!=null?a:"")+"\n"},12:function(e,t,n,i,r){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:r}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'<div class="forecast-details">\n'+((o=n["if"].call(l,t!=null?t.isForecastSetup:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.program(10,r,0,a,s),data:r}))!=null?o:"")+"\n"+((o=n.unless.call(l,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(12,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="chart">\n    <div class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:r}))+'</div>\n\n    <div class="nv-chart nv-chart-reports"></div>\n</div>\n\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"has-grip"},3:function(e,t,n,i,r){var a;return'<span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.model:t)!=null?a.module:a,{name:"moduleNameSingular",hash:{},data:r}))+'</span><span class="module-name-comma">,</span>'},5:function(e,t,n,i,r){var a,s=e.lambda,o=e.escapeExpression,l=t!=null?t:{};return'                <div class="tb__info">\n                    <a href="#Users/'+((a=s((a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.assigned_user_id:a,t))!=null?a:"")+'">'+o(s((a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.assigned_user_name:a,t))+"</a>\n                    "+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(l,n.lookup.call(l,(a=t!=null?t.model:t)!=null?a.attributes:a,(a=(a=t!=null?t.view:t)!=null?a.listParams:a)!=null?a.record_date:a,{name:"lookup",hash:{},data:r}),{name:"relativeTime",hash:{},data:r}))+"\n                </div>\n"},7:function(e,t,n,i,r){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"menu-list-item",t,{name:"partial",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:r}):s))+'" module="'+c((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===u?s.call(o,{name:"moduleName",hash:{},data:r}):s))+'"\n         class="list-item fast-click-highlighted '+((a=n["if"].call(o,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'"\n         track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="txt '+c((s=(s=n.detailsCss||(t!=null?t.detailsCss:t))!=null?s:l,typeof s===u?s.call(o,{name:"detailsCss",hash:{},data:r}):s))+'">\n        <div class="tb__detail">\n            <a href="#Users/'+((a=e.lambda((a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.assigned_user_id:a,t))!=null?a:"")+'" class="tb__icon">\n                '+c((n.userPicture||t&&t.userPicture||l).call(o,(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.assigned_user_id:a,{name:"userPicture",hash:{},data:r}))+"\n            </a>\n            "+((a=n["if"].call(o,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n            <div class="tb__title item-name">\n                '+c((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:r}))+"\n                "+c((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:r}))+"\n            </div>\n"+((a=n["if"].call(o,(a=t!=null?t.model:t)!=null?a.attributes:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        </div>\n    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'<div class="wp__wrapper">\n    <div class="wp__container">\n        <div class="wp__favlogo">\n            '+l((n.icon||t&&t.icon||o).call(s,"actions.url",{name:"icon",hash:{},data:r}))+'\n        </div>\n        <div class="wp__content">\n            <div class="wp__title">\n            '+l((a=(a=n.title||(t!=null?t.title:t))!=null?a:o,typeof a===u?a.call(s,{name:"title",hash:{},data:r}):a))+'\n            </div>\n            <div class="wp__url">\n                    '+l((a=(a=n.url||(t!=null?t.url:t))!=null?a:o,typeof a===u?a.call(s,{name:"url",hash:{},data:r}):a))+"\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'        <span class="field-detail__value brake-lines"><a>'+e.escapeExpression(e.lambda(t!=null?t.addressValue:t,t))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.addressValue:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return"            "+((a=n["if"].call(t!=null?t:{},t!=null?t.required:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},2:function(e,t,n,i,r){return'<span class="placeholder">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=e.escapeExpression;return'<div class="field field--address fast-click-highlighted">\n    <label class="field__label">'+l((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly color-def">\n'+((a=n.unless.call(o,t!=null?t.addressValue:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        <span class="brake-lines">'+l(e.lambda(t!=null?t.addressValue:t,t))+"</span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+s((a=(a=n.label||(t!=null?t.label:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"label",hash:{},data:r}):a))+'</label>\n    <div class="field__controls field__controls--readonly brake-lines">'+s(e.lambda(t!=null?t.addressValue:t,t))+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="field-detail__value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{
name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="text" '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+' autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+'">\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:r}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<span class="field-value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'<div class="field">\n    <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_LOGIN_USERNAME",{name:"str",hash:{},data:r}))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="text" size="35" tabindex="1" id="'+l((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===u?a.call(s,{name:"name",hash:{},data:r}):a))+'" name="'+l((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===u?a.call(s,{name:"name",hash:{},data:r}):a))+'" value="'+l((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===u?a.call(s,{name:"value",hash:{},data:r}):a))+'" autocapitalize="off" autocorrect="off" autocomplete="off">\n            '+l((a=(a=n.clearButton||(t!=null?t.clearButton:t))!=null?a:o,typeof a===u?a.call(s,{name:"clearButton",hash:{},data:r}):a))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:r}):a))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===l?a.call(s,{name:"value",hash:{},data:r}):a))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_YES",{name:"str",hash:{},data:r}))},3:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO",{name:"str",hash:{},data:r}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</span>\n    <span class="field-detail__value">\n       '+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"\n    </span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return" checked"},3:function(e,t,n,i,r){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.checkboxOn",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:r}))+"\n"},5:function(e,t,n,i,r){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--bool">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <input type="checkbox" class="checkbox_custom"'+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+">\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_YES",{name:"str",hash:{},data:r}))},3:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO",{name:"str",hash:{},data:r}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+": "+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_YES",{name:"str",hash:{},data:r}))},3:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO",{name:"str",hash:{},data:r}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'class="selector"'},3:function(e,t,n,i,r){return'class="hide"'},5:function(e,t,n,i,r){return'placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o,l=t!=null?t:{},u=n.helperMissing,c="function",d=e.escapeExpression,f='<div class="field field--currency">\n    <label class="field__label">'+d((s=(s=n.label||(t!=null?t.label:t))!=null?s:u,typeof s===c?s.call(l,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <div ';a=(s=(s=n.ifFewCurrenciesAreAvailable||(t!=null?t.ifFewCurrenciesAreAvailable:t))!=null?s:u,o={name:"ifFewCurrenciesAreAvailable",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r},typeof s===c?s.call(l,o):s);if(!n.ifFewCurrenciesAreAvailable){a=n.blockHelperMissing.call(t,a,o)}if(a!=null){f+=a}return f+">\n            "+d((n.icon||t&&t.icon||u).call(l,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:r}))+"\n            "+d((n.currencySelect||t&&t.currencySelect||u).call(l,t!=null?t.availableCurrencies:t,{name:"currencySelect",hash:{},data:r}))+'\n        </div>\n        <span class="input-wrapper">\n            <input type="'+d((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:u,typeof s===c?s.call(l,{name:"fieldType",hash:{},data:r}):s))+'" class="_numeric" '+((a=n["if"].call(l,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+' autocorrect="off" value="'+d((s=(s=n.value||(t!=null?t.value:t))!=null?s:u,typeof s===c?s.call(l,{name:"value",hash:{},data:r}):s))+'">\n            '+d((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:u,typeof s===c?s.call(l,{name:"clearButton",hash:{},data:r}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing;return'<span class="placeholder '+((a=(n.isNotEmpty||t&&t.isNotEmpty||o).call(s,t!=null?t.value:t,{name:"isNotEmpty",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},2:function(e,t,n,i,r){return"hide"},4:function(e,t,n,i,r){return"disabled"},6:function(e,t,n,i,r){var a;return(a=n.unless.call(t!=null?t:{},t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:""},7:function(e,t,n,i,r){return"empty"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--date">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <span class="input-wrapper">\n            '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n            <input type="'+c((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","date",{name:"ternary",hash:{},data:r}))+'" autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+'"\n                '+((a=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+'  class="\n                '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n            ">\n        </span>\n        <div class="btn-group clear-button '+((a=n.unless.call(o,t!=null?t.showClearButton:t,{name:"unless",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n            <button class="btn secondary-btn inert">'+c((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:r}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return" field__controls--has-btns"},3:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<span class="placeholder '+((a=n["if"].call(s,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},4:function(e,t,n,i,r){return"hide"},6:function(e,t,n,i,r){return"disabled"},8:function(e,t,n,i,r){var a;return(a=n.unless.call(t!=null?t:{},t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))!=null?a:""},9:function(e,t,n,i,r){return"empty"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--datetime">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls '+((a=n["if"].call(o,t!=null?t.showClearButton:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n        '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n        <span class="date">\n            <input type="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","date",{name:"ternary",hash:{},data:r}))+'" data-type="date"  autocorrect="off"  '+((a=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n                value="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,(a=t!=null?t.formattedValues:t)!=null?a.date:a,(a=t!=null?t.values:t)!=null?a.date:a,{name:"ternary",hash:{},data:r}))+'" class="\n                '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n            "/>\n        </span>\n        <span class="time">\n            <input type="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","time",{name:"ternary",hash:{},data:r}))+'" data-type="time"  autocorrect="off"  '+((a=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n                value="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,(a=t!=null?t.formattedValues:t)!=null?a.time:a,(a=t!=null?t.values:t)!=null?a.time:a,{name:"ternary",hash:{},data:r}))+'" class="\n                '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n            "/>\n        </span>\n\n        <div class="btn-group clear-button '+((a=n.unless.call(o,t!=null?t.showClearButton:t,{name:"unless",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n            <button class="btn secondary-btn inert">'+u((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:r}))+"</button>\n        </div>\n\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'        <span class="field-detail__value">\n            <a data-index="'+c((s=(s=n.index||r&&r.index)!=null?s:l,typeof s===u?s.call(o,{name:"index",hash:{},data:r}):s))+'" class="'+((a=n["if"].call(o,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n                '+c((s=(s=n.email_address||(t!=null?t.email_address:t))!=null?s:l,typeof s===u?s.call(o,{name:"email_address",hash:{},data:r}):s))+"\n            </a>\n        </span>\n"},2:function(e,t,n,i,r){return" email_type_invalid"},4:function(e,t,n,i,r){return" email_type_opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'            <div class="field__controls--flex '+((o=n["if"].call(u,t!=null?t.primary_address:t,{name:"if",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+((o=n["if"].call(u,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+((o=n["if"].call(u,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'" email-id="'+f((l=(l=n.index||r&&r.index)!=null?l:c,typeof l===d?l.call(u,{name:"index",hash:{},data:r}):l))+'">\n                <span class="input-wrapper">\n                    <input type="email" class="input-email" placeholder="'+f((n.emailPlaceholder||t&&t.emailPlaceholder||c).call(u,t!=null?t.value:t,{name:"emailPlaceholder",hash:{required:(o=s[1]!=null?s[1].def:s[1])!=null?o.required:o},data:r}))+'" autocorrect="off" value="'+f((l=(l=n.email_address||(t!=null?t.email_address:t))!=null?l:c,typeof l===d?l.call(u,{name:"email_address",hash:{},data:r}):l))+'">\n                    '+f((l=(l=n.clearButton||(t!=null?t.clearButton:t))!=null?l:c,typeof l===d?l.call(u,{name:"clearButton",hash:{},data:r}):l))+'\n                </span>\n                <div class="btn-group">\n                    <button class="btn actions-btn inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:c,typeof l===d?l.call(u,{name:"id",hash:{},data:r}):l))+'">'+f((n.icon||t&&t.icon||c).call(u,"edit.email.actionsBtn",{name:"icon",hash:{},data:r}))+"</button>\n                </div>\n            </div>\n"},2:function(e,t,n,i,r){return" primary-address"},4:function(e,t,n,i,r){return" invalid-email"},6:function(e,t,n,i,r){return" opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="field field--email">\n    <label class="field__label">'+f((l=(l=n.label||(t!=null?t.label:t))!=null?l:c,typeof l===d?l.call(u,{name:"label",hash:{},data:r}):l))+'</label>\n    <div class="field__controls">\n'+((o=n.each.call(u,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'        <div class="field--email__add">\n            '+f((n.str||t&&t.str||c).call(u,"LBL_EMAIL_ADD",{name:"str",hash:{},data:r}))+'\n        </div>\n        <div class="field__controls--flex hide" email-id="-1">\n            <span class="input-wrapper">\n                <input type="email" class="input-email" autocorrect="off" value="">\n                '+f((l=(l=n.clearButton||(t!=null?t.clearButton:t))!=null?l:c,typeof l===d?l.call(u,{name:"clearButton",hash:{},data:r}):l))+'\n            </span>\n            <div class="btn-group">\n                <button class="btn add-btn inert" style="visibility: hidden">'+f((n.icon||t&&t.icon||c).call(u,"edit.email.addBtn",{name:"icon",hash:{},data:r}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return e.escapeExpression((n.primaryEmail||t&&t.primaryEmail||n.helperMissing).call(t!=null?t:{},t!=null?t.value:t,{name:"primaryEmail",hash:{},data:r}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'            <div class="field__controls--readonly field__controls--flex'+((a=n["if"].call(o,t!=null?t.primary_address:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n                <div class="txt-value">'+e.escapeExpression((s=(s=n.email_address||(t!=null?t.email_address:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"email_address",hash:{},data:r}):s))+"</div>\n            </div>\n"},2:function(e,t,n,i,r){return" primary-address"},4:function(e,t,n,i,r){return" invalid-email"},6:function(e,t,n,i,r){return" opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--email field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n'+((a=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression,d=e.lambda;return'<div class="field field--readonly fast-click-highlighted">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <textarea rows="'+c(d((a=t!=null?t.def:t)!=null?a.rows:a,t))+'" cols="'+c(d((a=t!=null?t.def:t)!=null?a.cols:a,t))+'" name="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+'" readonly>'+c((n.html2text||t&&t.html2text||l).call(o,t!=null?t.value:t,50,{name:"html2text",hash:{},data:r}))+"</textarea>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.prop||t&&t.prop||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"prop",hash:{},data:r}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing;return'<span class="placeholder '+((a=(n.isNotEmpty||t&&t.isNotEmpty||o).call(s,t!=null?t.value:t,{name:"isNotEmpty",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},2:function(e,t,n,i,r){return"hide"},4:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="actionsheet-select">\n            <span class="actionsheet-select__value">'+l((a=(a=n.valueText||(t!=null?t.valueText:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"valueText",hash:{},data:r}):a))+"</span>\n        </span>\n        "+l((n.icon||t&&t.icon||o).call(s,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:r}))+"\n"},6:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d=e.escapeExpression;return'        <select name="'+d((l=(l=n.name||(t!=null?t.name:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"name",hash:{},data:r}):l))+'">\n'+((o=(n.eachOptions||t&&t.eachOptions||c).call(u,t!=null?t.renderItems:t,{name:"eachOptions",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"        </select>\n        "+d((n.icon||t&&t.icon||c).call(u,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:r}))+"\n"},7:function(e,t,n,i,r,a,s){var o,l=e.lambda,u=t!=null?t:{},c=n.helperMissing,d=e.escapeExpression;return'                <option value="'+((o=l((o=t!=null?t.value:t)!=null?o["0"]:o,t))!=null?o:"")+'" '+((o=(n.eq||t&&t.eq||c).call(u,(o=t!=null?t.value:t)!=null?o["0"]:o,s[1]!=null?s[1].value:s[1],{name:"eq",hash:{},fn:e.program(8,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n                    "+d((n.debugAttributes||t&&t.debugAttributes||c).call(u,"label",(o=t!=null?t.value:t)!=null?o["1"]:o,{name:"debugAttributes",hash:{},data:r}))+">"+d(l((o=t!=null?t.value:t)!=null?o["1"]:o,t))+"</option>\n"},8:function(e,t,n,i,r){return"selected"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{};return'<div class="field field--enum">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"label",hash:{},data:r}):l))+'</label>\n    <div class="field__controls">\n        '+((o=n["if"].call(u,(o=t!=null?t.def:t)!=null?o.required:o,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n\n"+((o=n["if"].call(u,t!=null?t._viaActionSheet:t,{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.program(6,r,0,a,s),data:r}))!=null?o:"")+"    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return e.escapeExpression((n.prop||t&&t.prop||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"prop",hash:{},data:r}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">'+u((n.prop||t&&t.prop||l).call(o,(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"prop",hash:{defaultValue:""},data:r}))+"</div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'    <span track="click:my_fav">\n'+((a=n["if"].call(t!=null?t:{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")+"    </span>\n"},2:function(e,t,n,i,r){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"actions.favorite",{name:"icon",hash:{additionalClass:"favorite-icon"},data:r}))+"\n"},4:function(e,t,n,i,r){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"actions.unfavorite",{name:"icon",hash:{additionalClass:"favorite-icon color-disabled"},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=(n.isFavoriteable||t&&t.isFavoriteable||n.helperMissing).call(t!=null?t:{},t!=null?t.model:t,{name:"isFavoriteable",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'    <span track="click:my_fav">\n'+((a=n["if"].call(t!=null?t:{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")+"    </span>\n"},2:function(e,t,n,i,r){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"actions.favorite",{name:"icon",hash:{additionalClass:"favorite-icon"},data:r}))+"\n"},4:function(e,t,n,i,r){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"actions.unfavorite",{name:"icon",hash:{additionalClass:"favorite-icon color-disabled"},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=(n.isFavoriteable||t&&t.isFavoriteable||n.helperMissing).call(t!=null?t:{},t!=null?t.model:t,{name:"isFavoriteable",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field-detail">\n    <span class="field-detail__label">'+u((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:r}):a))+'</span>\n    <span class="field-detail__value horizontal-fieldset">'+u((a=(a=n.subfields||(t!=null?t.subfields:t))!=null?a:o,typeof a===l?a.call(s,{name:"subfields",hash:{},data:r}):a))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+u((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:r}):a))+'</label>\n    <div class="field__controls">\n        <span class="horizontal-fieldset">'+u((a=(a=n.subfields||(t!=null?t.subfields:t))!=null?a:o,typeof a===l?a.call(s,{name:"subfields",hash:{},data:r}):a))+"</span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'    <div class="avatar">\n        <i class="icon icon-file"></i>\n'},3:function(e,t,n,i,r){var a;return'    <div class="avatar placeholder">\n        <i class="icon icon-file"></i>\n'+((a=(n.ifFeatureSupported||t&&t.ifFeatureSupported||n.helperMissing).call(t!=null?t:{},"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")},4:function(e,t,n,i,r){var a;return"            "+((a=(n.ifHasAccessToModel||t&&t.ifHasAccessToModel||n.helperMissing).call(t!=null?t:{},"edit",(a=t!=null?t.view:t)!=null?a.model:a,{name:"ifHasAccessToModel",hash:{field:t!=null?t.name:t},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},5:function(e,t,n,i,r){return'<i class="icon icon-plus"></i>'},7:function(e,t,n,i,r){var a;return'    <input type="file" class="input_upload" accept="'+e.escapeExpression((a=(a=n.inputAccept||(t!=null?t.inputAccept:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"inputAccept",hash:{},data:r}):a))+'" track="click:file_upload"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing;return((a=(n.ifHasValue||t&&t.ifHasValue||o).call(s,(a=t!=null?t.view:t)!=null?a.model:a,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"    </div>\n"+((a=(n.ifFeatureSupported||t&&t.ifFeatureSupported||o).call(s,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(7,r,0),
inverse:e.noop,data:r}))!=null?a:"")},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"hide"},3:function(e,t,n,i,r){var a,s=t!=null?t:{};return'                <span class="placeholder '+((a=n["if"].call(s,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>\n"},5:function(e,t,n,i,r){var a;return'                <input type="file" accept="'+e.escapeExpression((a=(a=n.inputAccept||(t!=null?t.inputAccept:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"inputAccept",hash:{},data:r}):a))+'" class="input_upload" track="click:file_upload" />\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((a=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(a=t!=null?t.view:t)!=null?a.model:a,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:r}))+"</span>\n"+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'            <span class="value">'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+"</span>\n"+((a=(n.ifFeatureSupported||t&&t.ifFeatureSupported||l).call(o,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        </div>\n        <div class="btn-group pull-right">\n            <button class="btn file-remove '+((a=n.unless.call(o,t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{},data:r}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return"<!-->\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((a=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(a=t!=null?t.view:t)!=null?a.model:a,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:r}))+'</span>\n            <span class="value">'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+"</span>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"f.int.edit",t,{name:"partial",hash:{},data:r}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return" followed"},3:function(e,t,n,i,r){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_FOLLOWING",{name:"str",hash:{},data:r}))+"\n"},5:function(e,t,n,i,r){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_FOLLOW",{name:"str",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<span class="follow-label'+((a=n["if"].call(s,(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.following:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+' inert">\n    <i class="inert">\n'+((a=n["if"].call(s,(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.following:a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r}))!=null?a:"")+"    </i>\n</span>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression,d=e.lambda;return'<div class="field textarea field--readonly">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <textarea rows="'+c(d((a=t!=null?t.def:t)!=null?a.rows:a,t))+'" cols="'+c(d((a=t!=null?t.def:t)!=null?a.cols:a,t))+'" name="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+'" readonly>'+c((n.html2text||t&&t.html2text||l).call(o,t!=null?t.value:t,50,{name:"html2text",hash:{},data:r}))+"</textarea>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'    <div class="avatar"></div>\n'},3:function(e,t,n,i,r){return'    <div class="avatar placeholder">\n        '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"menu.user",{name:"icon",hash:{additionalClass:"user-icon"},data:r}))+"\n    </div>\n"},5:function(e,t,n,i,r){return'    <input type="file" class="input_upload" accept="image/*" track="click:image_upload"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing;return((a=(n.ifHasValue||t&&t.ifHasValue||o).call(s,(a=t!=null?t.view:t)!=null?a.model:a,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+((a=(n.ifFeatureSupported||t&&t.ifFeatureSupported||o).call(s,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"hide"},3:function(e,t,n,i,r){var a,s=t!=null?t:{};return'                <span class="placeholder '+((a=n["if"].call(s,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>\n"},5:function(e,t,n,i,r){return'                <input type="file" class="input_upload" accept="image/*" track="click:image_upload" />\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((a=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(a=t!=null?t.view:t)!=null?a.model:a,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:r}))+"</span>\n"+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'            <div class="avatar"></div>\n'+((a=(n.ifFeatureSupported||t&&t.ifFeatureSupported||l).call(o,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        </div>\n        <div class="btn-group pull-right">\n            <button class="btn file-remove '+((a=n.unless.call(o,t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:r}))+"</button>\n        </div>\n\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return"<!-->\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((a=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(a=t!=null?t.view:t)!=null?a.model:a,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:r}))+'</span>\n            <div class="avatar"></div>\n        </div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+'"'},3:function(e,t,n,i,r){return'pattern="[0-9]*" '},5:function(e,t,n,i,r){return' step="any" '},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="'+c((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:l,typeof s===u?s.call(o,{name:"fieldType",hash:{},data:r}):s))+'" class="_numeric" '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+' autocorrect="off" '+((a=n.unless.call(o,t!=null?t.isFloat:t,{name:"unless",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r}))!=null?a:"")+' value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+'"/>\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:r}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n.each.call(t!=null?t:{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:""},2:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return"                <div class=\"field__controls--flex\">\n                    <span class='txt-value'>"+u((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+'</span>\n                    <div class="btn-group">\n                        <button class="btn secondary-btn inert" uid="'+u((a=(a=n.id||(t!=null?t.id:t))!=null?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:r}):a))+'">'+u((n.icon||t&&t.icon||o).call(s,"edit.remove",{name:"icon",hash:{},data:r}))+"</button>\n                    </div>\n                </div>\n"},4:function(e,t,n,i,r){var a;return"            "+((a=n["if"].call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},5:function(e,t,n,i,r){return'<span class="placeholder">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--invitees fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n'+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a["default"]:a,t!=null?t.module:t,{name:"str",hash:{},data:r}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"multienumStr",hash:{},data:r}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=(n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"multienumStr",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:""},2:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <span class="multienum-list__label" item-id="'+u((a=(a=n.id||(t!=null?t.id:t))!=null?a:o,typeof a===l?a.call(s,{name:"id",hash:{},data:r}):a))+'" '+u((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.name:t,{name:"debugAttributes",hash:{},data:r}))+">"+u((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+" "+u((n.icon||t&&t.icon||o).call(s,"edit.multiselect.remove",{name:"icon",hash:{additionalClass:"inert multienum-list__remove"},data:r}))+"</span>\n"},4:function(e,t,n,i,r){var a;return"                "+((a=n["if"].call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},5:function(e,t,n,i,r){return'<span class="placeholder">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <div class="multienum-list">\n'+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<span class="value">'+e.escapeExpression((n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"multienumStr",hash:{},data:r}))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((n.multienumStr||t&&t.multienumStr||l).call(o,(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"multienumStr",hash:{},data:r}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{};return'    <span class="field-detail__value field-value">\n        '+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(s,(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.parent_type:a,{name:"moduleNameSingular",hash:{},data:r}))+":\n"+((a=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(7,r,0),data:r}))!=null?a:"")+"    </span>\n"},2:function(e,t,n,i,r){var a;return((a=n["if"].call(t!=null?t:{},t!=null?t.link:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r}))!=null?a:"")+"            </span>\n"},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                    <a href="#'+u((a=(a=n.link||(t!=null?t.link:t))!=null?a:o,typeof a===l?a.call(s,{name:"link",hash:{},data:r}):a))+'" class="relate-link fast-click-highlighted">'+u((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===l?a.call(s,{name:"value",hash:{},data:r}):a))+"</a>\n"},5:function(e,t,n,i,r){var a;return"                    "+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"\n"},7:function(e,t,n,i,r){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO_ACCESS",{name:"str",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+" </div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="txt-value">\n                '+l((n.moduleNameSingular||t&&t.moduleNameSingular||o).call(s,(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.parent_type:a,{name:"moduleNameSingular",hash:{},data:r}))+": "+((a=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")+'\n            </div>\n            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+l((n.icon||t&&t.icon||o).call(s,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:r}))+"</button>\n            </div>\n"},2:function(e,t,n,i,r){var a;return'<span class="field-value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>"},4:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO_ACCESS",{name:"str",hash:{},data:r}))},6:function(e,t,n,i,r){var a;return"            "+((a=n["if"].call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},7:function(e,t,n,i,r){return'<span class="placeholder">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n'+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(6,r,0),data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{};return e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(s,(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.parent_type:a,{name:"moduleNameSingular",hash:{},data:r}))+": "+((a=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")},2:function(e,t,n,i,r){var a;return e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))},4:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO_ACCESS",{name:"str",hash:{},data:r}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return((a=n["if"].call(t!=null?t:{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return": "+((a=n["if"].call(t!=null?t:{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")},2:function(e,t,n,i,r){var a;return'<span class="field-value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>"},4:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO_ACCESS",{name:"str",hash:{},data:r}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((n.moduleNameSingular||t&&t.moduleNameSingular||l).call(o,(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.parent_type:a,{name:"moduleNameSingular",hash:{},data:r}))+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'<div class="field">\n    <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_LOGIN_PASSWORD",{name:"str",hash:{},data:r}))+'</label>\n    <div class="field__controls">\n    <span class="input-wrapper">\n        <input type="password" size="26" tabindex="2" id="password" name="password" value="'+l((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===u?a.call(s,{name:"value",hash:{},data:r}):a))+'" autocomplete="off">\n        '+l((a=(a=n.clearButton||(t!=null?t.clearButton:t))!=null?a:o,typeof a===u?a.call(s,{name:"clearButton",hash:{},data:r}):a))+"\n    </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="field-detail__value">\n            <a>'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</a>\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="tel" '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+' autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+'">\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:r}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<span class="field-value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:r}):a))+'</label>\n    <div class="field__controls field__controls--readonly">'+u((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===l?a.call(s,{name:"value",hash:{},data:r}):a))+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.optionLabel||t&&t.optionLabel||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"optionLabel",hash:{},data:r}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{},u=n.helperMissing,c=e.escapeExpression,d=e.lambda;return"                <button "+c((n.gaTrack||t&&t.gaTrack||u).call(l,t!=null?t.key:t,s[1]!=null?s[1].def:s[1],{name:"gaTrack",hash:{},data:r}))+' class="btn '+((o=(n.eq||t&&t.eq||u).call(l,t!=null?t.key:t,s[1]!=null?s[1].value:s[1],{name:"eq",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'" data-value="'+c(d(t!=null?t.key:t,t))+'">'+c(d(t!=null?t.value:t,t))+"</button>\n"},2:function(e,t,n,i,r){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing;return'<div class="field field--radio">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"label",hash:{},data:r}):l))+'</label>\n    <div class="field__controls">\n        <div class="btn-group" data-toggle="buttons-radio">\n'+((o=(n.eachOptions||t&&t.eachOptions||c).call(u,(o=t!=null?t.def:t)!=null?o.options:o,{name:"eachOptions",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return e.escapeExpression((n.optionLabel||t&&t.optionLabel||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"optionLabel",hash:{},data:r}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((n.optionLabel||t&&t.optionLabel||l).call(o,(a=t!=null?t.def:t)!=null?a.options:a,t!=null?t.value:t,{name:"optionLabel",hash:{},data:r}))+"\n    </div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(7,r,0),data:r}))!=null?a:""},2:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.link:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),
data:r}))!=null?a:""},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <a href="#'+u((a=(a=n.link||(t!=null?t.link:t))!=null?a:o,typeof a===l?a.call(s,{name:"link",hash:{},data:r}):a))+'" class="field-detail__value relate-link fast-click-highlighted">'+u((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===l?a.call(s,{name:"value",hash:{},data:r}):a))+"</a>\n"},5:function(e,t,n,i,r){var a;return'                <span class="field-detail__value field-value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>\n"},7:function(e,t,n,i,r){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO_ACCESS",{name:"str",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="txt-value">'+l((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"value",hash:{},data:r}):a))+'</div>\n            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+l((n.icon||t&&t.icon||o).call(s,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:r}))+"</button>\n            </div>\n"},3:function(e,t,n,i,r){var a;return"            "+((a=n["if"].call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},4:function(e,t,n,i,r){return'<span class="placeholder">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--relate fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n'+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:""},2:function(e,t,n,i,r){var a;return e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))},4:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO_ACCESS",{name:"str",hash:{},data:r}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return((a=n["if"].call(t!=null?t:{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:""},2:function(e,t,n,i,r){var a;return e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))},4:function(e,t,n,i,r){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NO_ACCESS",{name:"str",hash:{},data:r}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return"    &ndash; "+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="field-detail__value">\n'+((a=n.each.call(t!=null?t:{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        </span>\n"},2:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'                <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:r}):s))+"</span>"+((a=n.unless.call(o,r&&r.last,{name:"unless",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},3:function(e,t,n,i,r){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return"    "+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+":\n"+((a=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")},2:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'        <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:r}):s))+"</span>"+((a=n.unless.call(o,r&&r.last,{name:"unless",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},3:function(e,t,n,i,r){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'            <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:r}):s))+"</span>"+((a=n.unless.call(o,r&&r.last,{name:"unless",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},2:function(e,t,n,i,r){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((a=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"    </div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return o((n.fieldValue||t&&t.fieldValue||s).call(a,t!=null?t.model:t,"name",{name:"fieldValue",hash:{},data:r}))+" "+o((n.fieldValue||t&&t.fieldValue||s).call(a,t!=null?t.model:t,"name_2",{name:"fieldValue",hash:{},data:r}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{};return'        <span class="field-detail__value">'+e.escapeExpression((l=(l=n.name||(t!=null?t.name:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"name",hash:{},data:r}):l))+" "+((o=n["if"].call(u,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+" "+((o=n["if"].call(u,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+" "+((o=n["if"].call(u,s[1]!=null?s[1].isTBAEnabled:s[1],{name:"if",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</span>\n"},2:function(e,t,n,i,r){var a;return" "+e.escapeExpression((a=(a=n.name_2||(t!=null?t.name_2:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"name_2",hash:{},data:r}):a))},4:function(e,t,n,i,r){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_COLLECTION_PRIMARY",{name:"str",hash:{},data:r}))+")</label>"},6:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:""},7:function(e,t,n,i,r){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_TEAM_SET_SELECTED",{name:"str",hash:{},data:r}))+")</label>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"label",hash:{},data:r}):l))+"</span>\n"+((o=n.each.call(u,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o;return(o=n.each.call(t!=null?t:{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:""},2:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return"                <div class=\"field__controls--flex\">\n                    <span class='txt-value'>"+f((l=(l=n.name||(t!=null?t.name:t))!=null?l:c,typeof l===d?l.call(u,{name:"name",hash:{},data:r}):l))+((o=n["if"].call(u,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'</span>\n                    <div class="btn-group">\n                        <button class="btn primary-btn '+((o=n["if"].call(u,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(5,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+' inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:c,typeof l===d?l.call(u,{name:"id",hash:{},data:r}):l))+'">\n                            '+((o=n["if"].call(u,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(7,r,0,a,s),inverse:e.program(9,r,0,a,s),data:r}))!=null?o:"")+"\n                        </button>\n"+((o=n["if"].call(u,s[1]!=null?s[1].isTBAEnabled:s[1],{name:"if",hash:{},fn:e.program(11,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'                        <button class="btn remove-btn inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:c,typeof l===d?l.call(u,{name:"id",hash:{},data:r}):l))+'">'+f((n.icon||t&&t.icon||c).call(u,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:r}))+"</i></button>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,r){var a;return" "+e.escapeExpression((a=(a=n.name_2||(t!=null?t.name_2:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"name_2",hash:{},data:r}):a))},5:function(e,t,n,i,r){return"active"},7:function(e,t,n,i,r){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.teamsetPrimary",{name:"icon",hash:{},data:r}))},9:function(e,t,n,i,r){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.teamsetSecondary",{name:"icon",hash:{},data:r}))},11:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'                            <button class="btn selected-btn '+((a=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(12,r,0),inverse:e.noop,data:r}))!=null?a:"")+' inert" team-id="'+e.escapeExpression((s=(s=n.id||(t!=null?t.id:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"id",hash:{},data:r}):s))+'">'+((a=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(14,r,0),inverse:e.program(16,r,0),data:r}))!=null?a:"")+"</button>\n"},12:function(e,t,n,i,r){return" active "},14:function(e,t,n,i,r){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.unlock",{name:"icon",hash:{},data:r}))},16:function(e,t,n,i,r){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.lock",{name:"icon",hash:{},data:r}))},18:function(e,t,n,i,r){var a;return"            "+((a=n["if"].call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(19,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},19:function(e,t,n,i,r){return'<span class="placeholder">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{};return'<div class="field field--teamset fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"label",hash:{},data:r}):l))+'</label>\n    <div class="field__controls">\n'+((o=n["if"].call(u,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.program(18,r,0,a,s),data:r}))!=null?o:"")+"    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:r}):s))+((a=n["if"].call(o,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")},2:function(e,t,n,i,r){var a;return" "+e.escapeExpression((a=(a=n.name_2||(t!=null?t.name_2:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"name_2",hash:{},data:r}):a))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return((a=(n.joinPrimaryFirst||t&&t.joinPrimaryFirst||n.helperMissing).call(t!=null?t:{},t!=null?t.value:t,{name:"joinPrimaryFirst",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n.each.call(t!=null?t:{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:""},2:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'            <span class="value">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:r}):s))+" "+((a=n["if"].call(o,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+" "+((a=n["if"].call(o,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+" "+((a=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</span>\n"},3:function(e,t,n,i,r){var a;return" "+e.escapeExpression((a=(a=n.name_2||(t!=null?t.name_2:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"name_2",hash:{},data:r}):a))},5:function(e,t,n,i,r){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_COLLECTION_PRIMARY",{name:"str",hash:{},data:r}))+")</label>"},7:function(e,t,n,i,r){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_TEAM_SET_SELECTED",{name:"str",hash:{},data:r}))+")</label>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'    <span class="field-detail__value">\n        '+e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:{},t!=null?t.value:t,{name:"nl2br",hash:{},data:r}))+"\n    </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail field-detail--textarea">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:""},2:function(e,t,n,i,r){return'<span class="placeholder">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--textarea fast-click-highlighted">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <div class="textarea-div" name="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+'">'+((a=n.unless.call(o,t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'<span class="field-value">'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+"</span></div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<span class="value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field field--textarea field--readonly fast-click-highlighted">\n    <label class="field__label">'+u((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:r}):a))+'</label>\n    <div class="field__controls">\n        <div class="textarea-div" name="'+u((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+'">'+u((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===l?a.call(s,{name:"value",hash:{},data:r}):a))+"</div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'        <div class="field__controls">\n            <a class="uneditable-link clip fast-click-highlighted" target="_blank" href="'+u((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===l?a.call(s,{name:"value",hash:{},data:r}):a))+'">'+u((a=(a=n.value||(t!=null?t.value:t))!=null?a:o,typeof a===l?a.call(s,{name:"value",hash:{},data:r}):a))+"</a>\n        </div>\n"},3:function(e,t,n,i,r){return'        <div class="field__controls field__controls--readonly">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NOT_AVAILABLE",{name:"str",hash:{},data:r}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</label>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="field-detail__value"><a>'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+"</span>\n"+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_REQUIRED",{name:"str",hash:{},data:r}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="url" '+((a=n["if"].call(o,(a=t!=null?t.def:t)!=null?a.required:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+' autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:r}):s))+'">\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:r}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<span class="value">'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'            <span class="value"><a>'+e.escapeExpression((a=(a=n.value||(t!=null?t.value:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"value",hash:{},data:r}):a))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:r}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((a=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"tint"},3:function(e,t,n,i,r){return"spinner"},5:function(e,t,n,i,r){return'        <span class="overlay-message">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.message:t,{name:"str",hash:{},data:r}))+"</span><br/>\n"},7:function(e,t,n,i,r){return'        <span class="overlay-spinner">'+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"spinner",t,{name:"partial",hash:{},data:r}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<div class="box__overlay hide '+e.escapeExpression((s=(s=n.additionalClass||(t!=null?t.additionalClass:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"additionalClass",hash:{},data:r}):s))+" "+((a=n["if"].call(o,t!=null?t.tint:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+" "+((a=n["if"].call(o,t!=null?t.spinner:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n'+((a=n["if"].call(o,t!=null?t.message:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.spinner:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'<div class="box__overlay-record '+l((a=(a=n.additionalClass||(t!=null?t.additionalClass:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"additionalClass",hash:{},data:r}):a))+'">\n    <span class="overlay-record__message">'+l((n.str||t&&t.str||o).call(s,t!=null?t.message:t,{name:"str",hash:{},data:r}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<div class="box__lead-preloader '+e.escapeExpression((a=(a=n.additionalClass||(t!=null?t.additionalClass:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"additionalClass",hash:{},data:r}):a))+'">\n    <div class="lead-preloader__tabs">\n        <div class="lead-preloader__tab"></div>\n        <div class="lead-preloader__tab lead-preloader__tab--2"></div>\n        <div class="lead-preloader__tab lead-preloader__tab--3"></div>\n    </div>\n    <div class="lead-preloader__content">\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--2"></div>\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--3"></div>\n        <div class="lead-preloader__line-radio"></div>\n    </div>\n    <div class="lead-preloader__content">\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--2"></div>\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--3"></div>\n        <div class="lead-preloader__line-radio"></div>\n    </div>\n    <div class="lead-conversion__footer">\n        <div class="lead-preloader__btn1"></div>\n        <div class="lead-preloader__btn2"></div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="box__preloader '+u((a=(a=n.additionalClass||(t!=null?t.additionalClass:t))!=null?a:o,typeof a===l?a.call(s,{name:"additionalClass",hash:{},data:r}):a))+'">\n    <div class="preloader__header">\n        <h3 class="brand">'+u((a=(a=n.brandName||(t!=null?t.brandName:t))!=null?a:o,typeof a===l?a.call(s,{name:"brandName",hash:{},data:r}):a))+'</h3>\n        <div class="preloader__message">\n            '+u((n.partial||t&&t.partial||o).call(s,"spinner",t,{name:"partial",hash:{},data:r}))+"\n            "+u((n.str||t&&t.str||o).call(s,"LBL_LOADING",{name:"str",hash:{},data:r}))+"\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792" class="icondefault icon-spinner rotate360">\n    <path class="icon-spinner-path" fill="white" transform="translate(0,256)" d="M1792 640q0 -182 -71 -348t-191 -286t-286 -191t-348 -71t-348 71t-286 191t-191 286t-71 348q0 222 101 414.5t276.5 317t390.5 155.5v-260q-221 -45 -366.5 -221t-145.5 -406q0 -130 51 -248.5t136.5 -204t204 -136.5t248.5 -51t248.5 51t204 136.5t136.5 204t51 248.5 q0 230 -145.5 406t-366.5 221v260q215 -31 390.5 -155.5t276.5 -317t101 -414.5z" />\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"has-icon-inside"},3:function(e,t,n,i,r){var a;return'        <span class="label-module-sm_title">\n'+((a=n["if"].call(t!=null?t:{},t!=null?t.iconLabel:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.program(6,r,0),data:r}))!=null?a:"")+"        </span>\n"},4:function(e,t,n,i,r){return"                "+e.escapeExpression((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:{},t!=null?t.iconLabel:t,{name:"moduleIconLabel",hash:{},data:r}))+"\n"},6:function(e,t,n,i,r){return"                "+e.escapeExpression((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:{},t!=null?t.module:t,{
name:"moduleIconLabel",hash:{},data:r}))+"\n"},8:function(e,t,n,i,r){var a;return'        <i class="icondefault '+e.escapeExpression((a=(a=n.iconClass||(t!=null?t.iconClass:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"iconClass",hash:{},data:r}):a))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<span class="label-module-sm label-'+c((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s===u?s.call(o,{name:"module",hash:{},data:r}):s))+" "+((a=n["if"].call(o,t!=null?t.iconClass:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+" "+c((s=(s=n.additionalClass||(t!=null?t.additionalClass:t))!=null?s:l,typeof s===u?s.call(o,{name:"additionalClass",hash:{},data:r}):s))+'">\n'+((a=n["if"].call(o,t!=null?t.displayInitials:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.iconClass:t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<i class="icondefault '+u((a=(a=n.iconClass||(t!=null?t.iconClass:t))!=null?a:o,typeof a===l?a.call(s,{name:"iconClass",hash:{},data:r}):a))+" "+u((a=(a=n.additionalClass||(t!=null?t.additionalClass:t))!=null?a:o,typeof a===l?a.call(s,{name:"additionalClass",hash:{},data:r}):a))+'"></i>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<svg xmlns="http://www.w3.org/2000/svg" width="100px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="ptr__spinner">\n    <g>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.84" transform="rotate(0 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.02" transform="rotate(30 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.04" transform="rotate(60 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.12" transform="rotate(90 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.2" transform="rotate(120 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.28" transform="rotate(150 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.36" transform="rotate(180 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.44" transform="rotate(210 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.52" transform="rotate(240 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.6" transform="rotate(270 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.68" transform="rotate(300 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.76" transform="rotate(330 50 50) translate(0 -37)"></rect>\n    </g>\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 249 28" version="1.1" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 249 28">\n<g fill="#b9bec6" class="copyright-logo__svg-color">\n	<g>\n		<path d="m14.699 9.616c-0.601 0.237-1.583 0.237-2.181 0l-10.825-4.288c-0.599-0.237-0.599-0.626 0-0.864l10.825-4.286c0.598-0.237 1.58-0.237 2.181 0l10.824 4.286c0.599 0.238 0.599 0.626 0 0.864l-10.824 4.288z"/>\n		<path d="m13.006 27.182c0 0.646-0.49 0.978-1.091 0.743l-10.824-4.287c-0.6-0.238-1.091-0.958-1.091-1.605v-15.031c0-0.644 0.491-0.978 1.091-0.74l10.825 4.287c0.6 0.237 1.091 0.959 1.091 1.605v15.028z"/>\n		<path d="m14.208 27.177c0 0.646 0.491 0.978 1.092 0.742l10.823-4.286c0.6-0.238 1.091-0.96 1.091-1.605v-15.029c0-0.645-0.49-0.98-1.091-0.742l-10.823 4.286c-0.601 0.238-1.092 0.961-1.092 1.605v15.029z"/>\n	</g>\n	<g>\n		<path d="m207.26 5.385c3.006 0 5.05 0.446 6.136 1.34 1.098 0.893 1.642 2.519 1.642 4.882 0 1.641-0.249 2.862-0.725 3.66-0.487 0.796-1.298 1.336-2.443 1.6 1.005 0.241 1.76 0.662 2.259 1.263 0.503 0.604 0.76 1.382 0.76 2.345v3.857h-5.818v-2.868c0-0.744-0.176-1.258-0.52-1.54-0.355-0.27-1.051-0.417-2.088-0.417h-8.609v4.825h-5.803v-18.947h15.2zm-0.22 4.724h-9.185v4.646h9.185c0.775 0 1.309-0.183 1.616-0.542 0.309-0.362 0.47-1.015 0.47-1.966 0-0.746-0.165-1.293-0.495-1.631-0.34-0.343-0.87-0.507-1.6-0.507z"/>\n		<path d="m36.389 18.012l5.706-0.008v0.343c0 0.723 0.176 1.217 0.527 1.461 0.351 0.255 1.086 0.382 2.206 0.382h7.268c0.714 0 1.224-0.124 1.531-0.362 0.304-0.242 0.452-0.647 0.452-1.209 0-0.567-0.171-0.983-0.525-1.223-0.35-0.251-1.111-0.411-2.276-0.501l-9.094-0.203c-2.28-0.069-3.819-0.499-4.622-1.294-0.802-0.798-1.2-2.26-1.2-4.361 0-1.084 0.104-1.975 0.313-2.682 0.212-0.699 0.554-1.292 1.024-1.759 0.549-0.524 1.271-0.896 2.167-1.115 0.899-0.226 2.352-0.332 4.367-0.332h8.826c2.183 0 3.76 0.395 4.725 1.191 0.96 0.801 1.438 2.088 1.438 3.879 0 0.119 0 0.247-0.003 0.383-0.002 0.133-0.013 0.353-0.043 0.658h-5.569v-0.076c0-0.622-0.156-1.083-0.474-1.394-0.322-0.311-0.793-0.463-1.433-0.463h-6.67c-1.108 0-1.841 0.109-2.196 0.328-0.358 0.219-0.536 0.61-0.536 1.154 0 0.542 0.162 0.933 0.483 1.178 0.321 0.237 0.916 0.392 1.786 0.462l9.512 0.153c2.171 0.06 3.696 0.549 4.58 1.464 0.892 0.917 1.329 2.485 1.329 4.697 0 1.317-0.162 2.338-0.485 3.056-0.328 0.727-0.879 1.336-1.651 1.844-0.512 0.328-1.199 0.555-2.072 0.696-0.869 0.141-2.143 0.211-3.789 0.211h-7.71c-3.17 0-5.289-0.357-6.361-1.069-1.069-0.712-1.607-2.037-1.607-3.969 0-0.121 0.009-0.305 0.02-0.561 0.011-0.261 0.033-0.581 0.056-0.959z"/>\n		<path d="m61.994 5.385h5.773v11.235c0 1.277 0.287 2.136 0.868 2.571 0.585 0.441 1.847 0.658 3.8 0.658h3.29c1.625 0 2.711-0.233 3.265-0.696 0.553-0.463 0.825-1.304 0.825-2.533v-11.235h5.808v13.025c0 2.239-0.607 3.823-1.802 4.759-1.203 0.926-3.284 1.399-6.248 1.399h-6.468c-3.47 0-5.858-0.445-7.159-1.335-1.308-0.896-1.951-2.502-1.951-4.824v-13.024z"/>\n		<path d="m106.02 12.193v-0.052c0-0.855-0.258-1.446-0.789-1.762-0.528-0.319-1.71-0.478-3.56-0.478h-3.376c-1.973 0-3.239 0.236-3.798 0.709-0.554 0.475-0.834 1.47-0.834 2.992v2.645c0 1.362 0.314 2.304 0.938 2.808 0.635 0.508 1.871 0.76 3.724 0.76h3.346c1.662 0 2.802-0.147 3.436-0.449 0.623-0.3 0.941-0.816 0.941-1.559 0-0.102-0.014-0.269-0.051-0.51v-0.058h-6.808v-3.842h12.849v6.226c0 1.794-0.669 3.066-1.989 3.814-1.322 0.754-3.618 1.132-6.903 1.132h-6.44c-1.974 0-3.428-0.108-4.372-0.319-0.936-0.215-1.735-0.578-2.388-1.091-0.764-0.599-1.324-1.337-1.67-2.225-0.342-0.878-0.521-1.991-0.521-3.331v-5.181c0-2.704 0.645-4.602 1.929-5.668 1.281-1.073 3.615-1.607 6.997-1.607h6.465c2.093 0 3.637 0.095 4.63 0.277 0.992 0.188 1.773 0.497 2.346 0.943 0.593 0.457 1.035 1.069 1.32 1.844 0.287 0.773 0.424 1.749 0.424 2.91v0.651c-0.011 0.153-0.015 0.292-0.023 0.42h-5.83z"/>\n		<path d="m118.21 24.331h-6.32l10.36-18.946h7.39l10.165 18.946h-6.357l-1.841-3.156h-11.552l-1.84 3.156zm4.04-7.708h7.287l-3.679-6.706-3.61 6.706z"/>\n		<path d="m155.71 5.385c3.006 0 5.059 0.446 6.144 1.34 1.086 0.893 1.633 2.519 1.633 4.882 0 1.641-0.24 2.862-0.728 3.66-0.49 0.796-1.3 1.336-2.434 1.6 1.002 0.241 1.753 0.662 2.257 1.263 0.504 0.604 0.751 1.382 0.751 2.345v3.857h-5.8v-2.868c0-0.744-0.182-1.258-0.531-1.54-0.348-0.27-1.044-0.417-2.085-0.417h-8.613v4.825h-5.803v-18.947h15.2zm-0.21 4.724h-9.193v4.646h9.193c0.774 0 1.312-0.183 1.622-0.542 0.311-0.362 0.455-1.015 0.455-1.966 0-0.746-0.16-1.293-0.494-1.631-0.33-0.343-0.86-0.507-1.59-0.507z"/>\n		<path d="m183.99 12.24v-0.191c0-0.735-0.242-1.281-0.731-1.627-0.49-0.348-1.263-0.522-2.321-0.522h-4.63c-1.982 0-3.252 0.24-3.822 0.716-0.563 0.482-0.844 1.489-0.844 3.016v2.614c0 1.362 0.316 2.304 0.944 2.808 0.626 0.508 1.873 0.76 3.722 0.76h3.359c1.838 0 3.047-0.183 3.618-0.553 0.572-0.369 0.861-1.059 0.861-2.057v-0.208h5.869c0 0.022 0.005 0.072 0.005 0.134 0.034 0.558 0.047 0.971 0.047 1.245 0 1.218-0.158 2.222-0.461 3.02-0.3 0.791-0.789 1.423-1.433 1.893-0.62 0.466-1.443 0.789-2.481 0.983-1.029 0.203-2.544 0.298-4.532 0.298h-6.46c-1.982 0-3.437-0.108-4.372-0.319-0.938-0.215-1.733-0.578-2.398-1.091-0.767-0.599-1.319-1.342-1.667-2.227-0.347-0.882-0.522-1.989-0.522-3.336v-5.126c0-2.728 0.654-4.625 1.938-5.705 1.293-1.084 3.631-1.618 7.022-1.618h6.46c2.075 0 3.608 0.095 4.596 0.277 0.978 0.193 1.755 0.503 2.322 0.955 0.606 0.45 1.045 1.076 1.339 1.855 0.283 0.782 0.42 1.765 0.42 2.933v0.649c-0.005 0.153-0.023 0.293-0.038 0.423h-5.82z"/>\n		<path d="m223.09 24.331h-5.637v-18.946h8.557l6.759 11.828 6.88-11.828h8.429v18.946h-5.602v-13.502l-7.832 13.502h-3.786l-7.767-13.502v13.502z"/>\n	</g>\n</g>\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[1],{name:"field",hash:{},data:r}))+"\n"},3:function(e,t,n,i,r){return"show-attribution"},5:function(e,t,n,i,r){var a;return'                    <p class="about__legal">\n                        '+e.escapeExpression((a=(a=n._trademark2Text||(t!=null?t._trademark2Text:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"_trademark2Text",hash:{},data:r}):a))+"\n                    </p>\n"},7:function(e,t,n,i,r){return'                <div class="box__copyright">\n                    <span class="copyright__text">powered by</span>\n                    <span class="copyright__logo">\n                        '+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"sugarcrm-copyright-logo",t,{name:"partial",hash:{},data:r}))+"\n                    </span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d=e.escapeExpression,f="function";return'<div class="box__edit box__edit_readonly page__about">\n    <div class="scroll">\n        <div class="pad">\n\n'+((o=n.each.call(u,t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n\n            <div class="field tcenter '+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n                <p class="about__legal">\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||c).call(u,t!=null?t.model:t,"privacy",{name:"fieldValue",hash:{},data:r}))+'" class="fast-click-highlighted" track="click:privacy">'+d((n.str||t&&t.str||c).call(u,"LNK_PRIVACY_POLICY",{name:"str",hash:{},data:r}))+'</a>,\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||c).call(u,t!=null?t.model:t,"tos",{name:"fieldValue",hash:{},data:r}))+'" class="fast-click-highlighted" track="click:tos">'+d((n.str||t&&t.str||c).call(u,"LNK_TERMS_OF_USE",{name:"str",hash:{},data:r}))+'</a>,\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||c).call(u,t!=null?t.model:t,"thirdPartySoftware",{name:"fieldValue",hash:{},data:r}))+'" class="fast-click-highlighted" track="click:thirdPartySoftware">'+d((n.str||t&&t.str||c).call(u,"LNK_THIRD_PARTY_SOFTWARE",{name:"str",hash:{},data:r}))+'</a>\n                </p>\n                <p class="about__legal">\n                    '+d((l=(l=n._copyrightText||(t!=null?t._copyrightText:t))!=null?l:c,typeof l===f?l.call(u,{name:"_copyrightText",hash:{},data:r}):l))+'\n                </p>\n                <p class="about__legal">\n                    '+d((l=(l=n._trademarkText||(t!=null?t._trademarkText:t))!=null?l:c,typeof l===f?l.call(u,{name:"_trademarkText",hash:{},data:r}):l))+"\n                </p>\n"+((o=n["if"].call(u,t!=null?t._displayTrademarks:t,{name:"if",hash:{},fn:e.program(5,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"            </div>\n\n"+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'      <div data-index="'+l((a=(a=n.index||r&&r.index)!=null?a:o,typeof a==="function"?a.call(s,{name:"index",hash:{},data:r}):a))+'" class="item fast-click-highlighted" '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t,{name:"debugAttributes",hash:{},data:r}))+">"+l(e.lambda(t,t))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="popup invisible">\n\n    <div class="header">'+c((s=(s=n.title||(t!=null?t.title:t))!=null?s:l,typeof s===u?s.call(o,{name:"title",hash:{},data:r}):s))+'</div>\n\n    <div class="items">\n'+((a=n.each.call(o,t!=null?t.items:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'    </div>\n\n    <div class="footer" style="margin-top: 10px;">\n        <a href="javascript:void(0)" class="cancel fast-click-highlighted">'+c((s=(s=n.cancelText||(t!=null?t.cancelText:t))!=null?s:l,typeof s===u?s.call(o,{name:"cancelText",hash:{},data:r}):s))+"</a>\n    </div>\n\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing;return((a=n["if"].call(s,t!=null?t.confirmVisible:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r}))!=null?a:"")+'            <div class="items nps-stars">\n'+((a=(n["for"]||t&&t["for"]||o).call(s,0,t!=null?t.rateCount:t,{name:"for",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=(n["for"]||t&&t["for"]||o).call(s,t!=null?t.rateCount:t,5,{name:"for",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+'            </div>\n            <div class="footer nps-footer '+((a=n["if"].call(s,t!=null?t.confirmVisible:t,{name:"if",hash:{},fn:e.program(10,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n                <a href="javascript:void(0)" class="cancel fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_NPS_NOT_NOW",{name:"str",hash:{},data:r}))+"</a>\n            </div>\n"},2:function(e,t,n,i,r){return'                    <div class="nps-confirm-header">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_NPS_THANKS_MSG",{name:"str",hash:{},data:r}))+"</div>\n"},4:function(e,t,n,i,r){return'                    <div class="nps-description">'+e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:{},t!=null?t.ratingMsg:t,{name:"nl2br",hash:{},data:r}))+"</div>\n"},6:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                    <div class="rate-btn btn" data-index="'+u((a=(a=n.index||r&&r.index)!=null?a:o,typeof a===l?a.call(s,{name:"index",hash:{},data:r}):a))+'" label="'+u((a=(a=n.counter||r&&r.counter)!=null?a:o,typeof a===l?a.call(s,{name:"counter",hash:{},data:r}):a))+' star">'+u((n.icon||t&&t.icon||o).call(s,"alert.star",{name:"icon",hash:{additionalClass:"nps-star-icon"},data:r}))+"</div>\n"},8:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                    <div class="rate-btn btn" data-index="'+u((a=(a=n.index||r&&r.index)!=null?a:o,typeof a===l?a.call(s,{name:"index",hash:{},data:r}):a))+'" label="'+u((a=(a=n.counter||r&&r.counter)!=null?a:o,typeof a===l?a.call(s,{name:"counter",hash:{},data:r}):a))+' star">'+u((n.icon||t&&t.icon||o).call(s,"alert.starOpen",{name:"icon",hash:{additionalClass:"nps-star-icon"},data:r}))+"</div>\n"},10:function(e,t,n,i,r){return"invisible"},12:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'        <div class="nps-header">'+o((n.str||t&&t.str||s).call(a,"LBL_NPS_THANKS_MSG",{name:"str",hash:{},data:r}))+'</div>\n        <div class="nps-app-rate-desc">'+o((n.str||t&&t.str||s).call(a,"LBL_NPS_APPSTORE_RATE_MSG",{name:"str",hash:{},data:r}))+'</div>\n        <div class="nps-footer">\n            <ul class="actions-ul">\n                <li class="actions-li">\n                    <a href="javascript:void(0)" class="submit-rate-app action-item fast-click-highlighted">'+o((n.str||t&&t.str||s).call(a,"LBL_NPS_RATE_NOW",{name:"str",hash:{},data:r}))+'</a>\n                </li>\n                <li class="actions-li">\n                    <a href="javascript:void(0)" class="cancel-rate-app action-item fast-click-highlighted">'+o((n.str||t&&t.str||s).call(a,"LBL_NPS_NO_THANKS",{name:"str",hash:{},data:r}))+"</a>\n                </li>\n            </ul>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<div class="popup nps-popup invisible">\n\n'+((a=n.unless.call(t!=null?t:{},t!=null?t.rateAppVisible:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.program(12,r,0),data:r}))!=null?a:"")+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return"alert--"+e.escapeExpression((a=(a=n.level||(t!=null?t.level:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"level",hash:{},data:r}):a))},3:function(e,t,n,i,r){return"closeable"},5:function(e,t,n,i,r){return"    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"alert.close",{name:"icon",hash:{additionalClass:"close-icon"},data:r}))+"\n"},7:function(e,t,n,i,r){return"    "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"spinner",t,{name:"partial",hash:{},data:r}))+"\n"},9:function(e,t,n,i,r){return e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:{},t,{name:"nl2br",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="alert '+((a=n["if"].call(s,t!=null?t.level:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+" "+((a=n["if"].call(s,t!=null?t.closeable:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n'+((a=n["if"].call(s,t!=null?t.closeable:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=(n.eq||t&&t.eq||n.helperMissing).call(s,t!=null?t.level:t,"load",{name:"eq",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n<div class="message">\n    '+((a=n.each.call(s,t!=null?t.messages:t,{name:"each",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'        <div class="bulkload__form">\n            <div class="field">\n                <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_USE_CELLULAR",{name:"str",hash:{},data:r}))+'</label>\n                <div class="field__controls">\n                    <label class="checkbox-toggle">\n                        <input type="checkbox" class="checkbox-toggle__checkbox cellular_checkbox" '+((a=n["if"].call(s,t!=null?t.useCellularData:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'>\n                        <span class="checkbox-toggle__slider"></span>\n                    </label>\n                </div>\n            </div>\n            <div class="bulkload__connect-message">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_CONNECTION_USE_MESSAGE",{name:"str",hash:{},data:r}))+"</div>\n        </div>\n"},2:function(e,t,n,i,r){return" checked"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'<div class="scroll">\n<div class="pad">\n    <div class="bulkload__title">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_OFFLINE_RECORDS",{name:"str",hash:{},data:r}))+'</div>\n    <div class="bulkload__message">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_PREFETCH_MESSAGE",{name:"str",hash:{},data:r}))+"</div>\n\n"+((a=n["if"].call(s,t!=null?t.shouldShowCellularCheckbox:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n    <div class="bulkload__btns">\n        <a class="btn btn--primary btn--large btn-download fast-click-highlighted" data-id="ok">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_BTN_DOWNLOAD",{name:"str",hash:{},data:r}))+'</a>\n        <a class="btn btn--secondary btn--large btn-cancel fast-click-highlighted" data-id="cancel">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_NOT_RIGHT_NOW",{name:"str",hash:{},data:r}))+"</a>\n    </div>\n</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="tabs__switcher tabs__switcher--dd">\n    <div class="filter">\n        '+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:{},t!=null?t.ddSwitcher:t,t,{name:"fieldByName",hash:{template:"edit"},data:r}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return o((n.icon||t&&t.icon||s).call(a,"swiper.prev",{name:"icon",hash:{additionalClass:"prev"},data:r}))+"\n"+o((n.icon||t&&t.icon||s).call(a,"swiper.next",{name:"icon",hash:{additionalClass:"next"},data:r}))+'\n<div class="pagination"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="'+u((a=(a=n.switcherCss||(t!=null?t.switcherCss:t))!=null?a:o,typeof a===l?a.call(s,{name:"switcherCss",hash:{},data:r}):a))+'"></div>\n<div class="'+u((a=(a=n.viewContainerCss||(t!=null?t.viewContainerCss:t))!=null?a:o,typeof a===l?a.call(s,{name:"viewContainerCss",hash:{},data:r}):a))+'">'+u((a=(a=n.childViews||(t!=null?t.childViews:t))!=null?a:o,typeof a===l?a.call(s,{name:"childViews",hash:{},data:r}):a))+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'        <li data-tab-index="'+f((l=(l=n.index||(t!=null?t.index:t))!=null?l:c,typeof l===d?l.call(u,{name:"index",hash:{},data:r}):l))+'" class="\n        tab fast-click-highlighted\n        '+((o=n["if"].call(u,t!=null?t.active:t,{name:"if",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n">\n            <div class="tab__title">\n                <span class="title" '+f((n.debugAttributes||t&&t.debugAttributes||c).call(u,"title",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+">\n                    "+f((l=(l=n.title||(t!=null?t.title:t))!=null?l:c,typeof l===d?l.call(u,{name:"title",hash:{},data:r}):l))+'\n                </span>\n                <span class="'+f(e.lambda(s[1]!=null?s[1].subtextCss:s[1],t))+' hide"></span>\n            </div>\n        </li>\n'},2:function(e,t,n,i,r){return"tab--active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o;return'<ul class="tabs__scroll-bar__ul">\n'+((o=n.each.call(t!=null?t:{},t!=null?t.tabs:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</ul>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o;return(o=n["if"].call(t!=null?t:{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,r,0,a,s),inverse:e.program(4,r,0,a,s),data:r}))!=null?o:""},2:function(e,t,n,i,r,a,s){var o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'            <a href="javascript:void(0)" class="context-menu__item favorite-item fast-click-highlighted" action="favorite" track="click:c-favorite" style='+u((n.ternary||t&&t.ternary||l).call(o,s[1]!=null?s[1].myFavorite:s[1],"display:none;","",{name:"ternary",hash:{},data:r}))+">"+u((n.icon||t&&t.icon||l).call(o,"actions.unfavorite",{name:"icon",hash:{},data:r}))+"<br>"+u((n.str||t&&t.str||l).call(o,"LBL_FAVORITE",{name:"str",hash:{},data:r}))+'</a>\n            <a href="javascript:void(0)" class="context-menu__item unfavorite-item fast-click-highlighted" action="favorite" track="click:c-unfavorite" style='+u((n.ternary||t&&t.ternary||l).call(o,s[1]!=null?s[1].myFavorite:s[1],"","display:none;",{name:"ternary",hash:{},data:r}))+">"+u((n.icon||t&&t.icon||l).call(o,"actions.favorite",{name:"icon",hash:{},data:r}))+"<br>"+u((n.str||t&&t.str||l).call(o,"LBL_UNFAVORITE",{name:"str",hash:{},data:r}))+"</a>\n"},4:function(e,t,n,i,r){return"            "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"record-action-button",t,{name:"partial",hash:{},data:r}))+"\n"},6:function(e,t,n,i,r){return'        <a class="no-options">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_MOBILE_NO_ACTIONS_AVAILABLE",{name:"str",hash:{},data:r}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'<div class="actions box__context-menu">\n'+((o=n.each.call(l,t!=null?t.contextMenuItems:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+((o=n["if"].call(l,t!=null?t.isEmptyMenu:t,{name:"if",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=e.escapeExpression,l=t!=null?t:{},u=n.helperMissing,c="function";return'                <div class="dashlets__list__col">\n                    <div class="dashlet__item fast-click-highlighted c-'+o(e.lambda((a=(a=t!=null?t.meta:t)!=null?a.view:a)!=null?a.type:a,t))+'"\n                         data-dashlet-index='+o((s=(s=n.index||(t!=null?t.index:t))!=null?s:u,typeof s===c?s.call(l,{name:"index",hash:{},data:r}):s))+"\n                        "+o((n.debugAttributes||t&&t.debugAttributes||u).call(l,"dashable-list-module",(a=(a=t!=null?t.meta:t)!=null?a.view:a)!=null?a.module:a,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+"\n                        "+o((n.debugAttributes||t&&t.debugAttributes||u).call(l,"dashlet-name",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+'>\n\n                        <div class="dashlet__title">'+o((s=(s=n.title||(t!=null?t.title:t))!=null?s:u,typeof s===c?s.call(l,{name:"title",hash:{},data:r}):s))+'</div>\n                        <div class="dashlet__icon">'+o((n.icon||t&&t.icon||u).call(l,t!=null?t.icon:t,{name:"icon",hash:{},data:r}))+"</div>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'                    <div class="dashlet__b" data-dashlet-index='+u((s=(s=n.index||(t!=null?t.index:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"index",hash:{},data:r}):s))+"\n                        "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashable-list-module",(a=(a=t!=null?t.meta:t)!=null?a.view:a)!=null?a.module:a,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+"\n                        "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashlet-name",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+">\n                        "+u((n.childViews||t&&t.childViews||l).call(o,(a=t!=null?t.meta:t)!=null?a.id:a,{name:"childViews",hash:{},data:r}))+"\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="dashboard-container">\n    <div class="dashboard"\n        '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashboard-id",(a=t!=null?t.model:t)!=null?a.id:a,{name:"debugAttributes",hash:{},data:r}))+"\n        "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashboard-name",(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.name:a,{name:"debugAttributes",hash:{localize:(a=t!=null?t.options:t)!=null?a.parentModule:a,removeSpaces:true},data:r}))+'>\n\n        <div class="dashlets__list">\n'+((a=n.each.call(o,t!=null?t._dashlets:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        </div>\n        <div class="dashlets__title hide">'+u((s=(s=n.subtitle||(t!=null?t.subtitle:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"subtitle",hash:{},data:r}):s))+'</div>\n        <div class="dashlets__slider-area">\n            <div class="dashlets__slider">\n'+((a=n.each.call(o,t!=null?t._dashlets:t,{name:"each",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"            </div>\n        </div>\n\n    </div>\n    <!--div.dashboard-container is required for pagination to be rendered here-->\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=e.escapeExpression;return'                <div class="field error">\n                    <label class="field__label">Error count:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+s(e.lambda((a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a._tx_error_count:a,t))+'\n                    </div>\n                </div>\n\n                <div class="field">\n                    <label class="field__label">Error Description:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+s((n.getErrorDescription||t&&t.getErrorDescription||n.helperMissing).call(t!=null?t:{},(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a._tx_error:a,{name:"getErrorDescription",hash:{},data:r}))+"\n                    </div>\n                </div>\n"},3:function(e,t,n,i,r){var a;return'                <div class="field">\n                    <label class="field__label">Link:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+e.escapeExpression(e.lambda((a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a._tx_link:a,t))+"\n                    </div>\n                </div>\n";

},5:function(e,t,n,i,r,a,s){var o;return"\n"+((o=n.each.call(t!=null?t:{},t!=null?t.updatedFields:t,{name:"each",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n"},6:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'                    <div class="field">\n                        <label class="field__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(l,t!=null?t.vname:t,(o=(o=s[1]!=null?s[1].model:s[1])!=null?o.attributes:o)!=null?o._tx_bean_module:o,{name:"str",hash:{},data:r}))+":</label>\n"+((o=n["with"].call(l,t,{name:"with",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"                    </div>\n"},7:function(e,t,n,i,r){var a,s=t!=null?t:{};return'                            <div class="field__controls field__controls--readonly clip">\n'+((a=n["if"].call(s,t!=null?t.before:t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(s,(a=t!=null?t.after:t)!=null?a.el:a,{name:"if",hash:{},fn:e.program(13,r,0),inverse:e.program(15,r,0),data:r}))!=null?a:"")+"                            </div>\n"},8:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},(a=t!=null?t.before:t)!=null?a.el:a,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.program(11,r,0),data:r}))!=null?a:""},9:function(e,t,n,i,r){var a;return'                                        <span class="line-through">'+((a=e.lambda((a=(a=t!=null?t.before:t)!=null?a.el:a)!=null?a.innerHTML:a,t))!=null?a:"")+"</span><br />\n"},11:function(e,t,n,i,r){var a;return'                                        <span class="line-through">'+e.escapeExpression((a=(a=n.before||(t!=null?t.before:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"before",hash:{},data:r}):a))+"</span><br />\n"},13:function(e,t,n,i,r){var a;return"                                    "+((a=e.lambda((a=(a=t!=null?t.after:t)!=null?a.el:a)!=null?a.innerHTML:a,t))!=null?a:"")+"<br />\n"},15:function(e,t,n,i,r){var a;return"                                    "+e.escapeExpression((a=(a=n.after||(t!=null?t.after:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"after",hash:{},data:r}):a))+"<br />\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="box__edit box__edit_readonly">\n    <div class="scroll">\n        <div class="pad">\n\n'+((o=n["if"].call(u,(o=(o=t!=null?t.model:t)!=null?o.attributes:o)!=null?o._tx_error_count:o,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n            <div class="field">\n                <label class="field__label">Summary:</label>\n                <div class="field__controls field__controls--readonly line-clamp">\n                    '+f((l=(l=n.getTxLogActionExplanation||(t!=null?t.getTxLogActionExplanation:t))!=null?l:c,typeof l===d?l.call(u,{name:"getTxLogActionExplanation",hash:{},data:r}):l))+'\n                </div>\n            </div>\n\n            <div class="field">\n                <label class="field__label">Action:</label>\n                <div class="field__controls field__controls--readonly clip">\n                    '+f((n.getTxLogActionName||t&&t.getTxLogActionName||c).call(u,(o=(o=t!=null?t.model:t)!=null?o.attributes:o)!=null?o._tx_action:o,{name:"getTxLogActionName",hash:{},data:r}))+'\n                </div>\n            </div>\n\n            <div class="field">\n                <label class="field__label">Module:</label>\n                <div class="field__controls field__controls--readonly clip">\n                    '+f((l=(l=n.getTxLogModuleName||(t!=null?t.getTxLogModuleName:t))!=null?l:c,typeof l===d?l.call(u,{name:"getTxLogModuleName",hash:{},data:r}):l))+"\n                </div>\n            </div>\n\n"+((o=n["if"].call(u,(o=t!=null?t.updatedFields:t)!=null?o.link:o,{name:"if",hash:{},fn:e.program(3,r,0,a,s),inverse:e.program(5,r,0,a,s),data:r}))!=null?o:"")+'\n            <div class="edit__footer">\n                <a href="javascript:void(0)" class="btn btn--danger btn--large  delete" track="click:delete">'+f((n.str||t&&t.str||c).call(u,"LBL_ROLLBACK_BUTTON",{name:"str",hash:{},data:r}))+"</a>\n            </div>\n\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o,l,u,c="        ";o=(l=(l=n.avatarField||(t!=null?t.avatarField:t))!=null?l:n.helperMissing,u={name:"avatarField",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r},typeof l==="function"?l.call(t!=null?t:{},u):l);if(!n.avatarField){o=n.blockHelperMissing.call(t,o,u)}if(o!=null){c+=o}return c+"\n"},2:function(e,t,n,i,r,a,s){return e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[1],{name:"field",hash:{},data:r}))},4:function(e,t,n,i,r){return"        "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u,c=t!=null?t:{},d=n.helperMissing,f="function",h=e.escapeExpression,p='<div class="view__detail-bg view__detail-bg_'+h((l=(l=n.module||(t!=null?t.module:t))!=null?l:d,typeof l===f?l.call(c,{name:"module",hash:{},data:r}):l))+'">\n'+((o=n["if"].call(c,t!=null?t.avatarField:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.program(4,r,0,a,s),data:r}))!=null?o:"")+'    <a class="box_detail__title">\n        ';o=(l=(l=n.headerField||(t!=null?t.headerField:t))!=null?l:d,u={name:"headerField",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r},typeof l===f?l.call(c,u):l);if(!n.headerField){o=n.blockHelperMissing.call(t,o,u)}if(o!=null){p+=o}return p+"\n    </a>\n    "+h((n.fieldByName||t&&t.fieldByName||d).call(c,"my_favorite",t,{name:"fieldByName",hash:{},data:r}))+'\n\n    <div class="box__record-actions__wrapper">\n        <div class="box__record-actions"></div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){return"    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[1],{name:"field",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o;return(o=n.each.call(t!=null?t:{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:""},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"box__edit_readonly"},3:function(e,t,n,i,r,a,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[1],{name:"field",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'<div class="box__edit '+((o=n["if"].call(l,t!=null?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.each.call(l,t!=null?t.addressFields:t,{name:"each",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'  <div class="field__error-message">'+e.escapeExpression(e.lambda(t,t))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n.each.call(t!=null?t:{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"box__edit_readonly"},3:function(e,t,n,i,r,a,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[1],{name:"field",hash:{},data:r}))+"\n"},5:function(e,t,n,i,r,a,s){var o;return(o=n.each.call(t!=null?t:{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:""},6:function(e,t,n,i,r,a,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[1],{name:"field",hash:{},data:r}))+"\n"},8:function(e,t,n,i,r){return'                    <a href="javascript:void(0)" tabindex="4" class="btn btn--danger btn--large delete hide fast-click-highlighted" track="click:delete">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_DELETE_BUTTON",{name:"str",hash:{},data:r}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'<div class="box__edit '+((o=n["if"].call(l,t!=null?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.each.call(l,t!=null?t.relationshipFields:t,{name:"each",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+((o=n.unless.call(l,t!=null?t.onlyRelationshipEdit:t,{name:"unless",hash:{},fn:e.program(5,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'            <div class="edit__footer">\n'+((o=n.unless.call(l,t!=null?t.isCreate:t,{name:"unless",hash:{},fn:e.program(8,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"readonly"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<div class="textarea">\n    <div class="scroll">\n        <div class="pad">\n            <textarea '+((a=n["if"].call(t!=null?t:{},(a=t!=null?t.options:t)!=null?a.isReadOnly:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"></textarea>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                        <option value="'+c((s=(s=n.key||r&&r.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:r}):s))+'" '+((a=n["if"].call(o,t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+">"+c((s=(s=n.key||r&&r.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:r}):s))+"</option>\n"},2:function(e,t,n,i,r){return"selected"},4:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'                    <div class="emulation-item">\n                        <div class="error-emulation-check">\n                            <input type="checkbox" class="checkbox_default" data-key="'+f((l=(l=n.key||r&&r.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:r}):l))+'" data-type="api" '+((o=n["if"].call(u,t!=null?t.status:t,{name:"if",hash:{},fn:e.program(5,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n                                "+((o=n["if"].call(u,t!=null?t.disabled:t,{name:"if",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+">"+f((l=(l=n.key||r&&r.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:r}):l))+"\n                        </div>\n"+((o=n["if"].call(u,t!=null?t.crud:t,{name:"if",hash:{},fn:e.program(9,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"                    </div>\n"},5:function(e,t,n,i,r){return"checked"},7:function(e,t,n,i,r){return"disabled"},9:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{};return'                            <select class="error-emulation-select" data-type="crud" data-parent-type="'+e.escapeExpression((l=(l=n.key||r&&r.key)!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"key",hash:{},data:r}):l))+'"\n                                    '+((o=n["if"].call(u,s[1]!=null?s[1].crudDisabled:s[1],{name:"if",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+">\n"+((o=n.each.call(u,t!=null?t.crud:t,{name:"each",hash:{},fn:e.program(10,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"                            </select>\n"},10:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                                    <option value="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+'" '+((a=n["if"].call(o,t!=null?t.status:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+">"+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+"</option>\n"},12:function(e,t,n,i,r){var a;return'                <li>\n                    <div class="bucket-header">\n                        Offline:\n                    </div>\n                    <div class="content">\n'+((a=n.each.call(t!=null?t:{},t!=null?t.offlineErrorItems:t,{name:"each",hash:{},fn:e.program(13,r,0),inverse:e.noop,data:r}))!=null?a:"")+"                    </div>\n                </li>\n"},13:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                        <div class="error-emulation-check">\n                            <input type="checkbox" class="checkbox_default" '+((a=n["if"].call(o,t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+' data-key="'+c((s=(s=n.key||r&&r.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:r}):s))+'" data-type="offline">'+c((s=(s=n.key||r&&r.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:r}):s))+"\n                        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <ul class="listing">\n            <li>\n                <div class="bucket-header">\n                    HTTP:\n                </div>\n\n                <h4>Error to be triggered:</h4>\n                <select class="error-emulation-select" data-type="http">\n                    <option value="default">no error</option>\n'+((o=n.each.call(l,t!=null?t.httpErrorItems:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'                </select>\n\n                <div class="content">\n'+((o=n.each.call(l,t!=null?t.apiErrorItems:t,{name:"each",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"                </div>\n            </li>\n"+((o=n.unless.call(l,t!=null?t.offlineDisabled:t,{name:"unless",hash:{},fn:e.program(12,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"        </ul>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return"\n    "+l((n.str||t&&t.str||o).call(s,"ERR_MOBILE_VIEW_NOT_SUPPORTED",{name:"str",hash:{},data:r}))+'\n\n    <div class="sugar-back-link">\n        <a id="sugar_url" track="click:desktop" target="_blank" href="'+l((a=(a=n.sugarLink||(t!=null?t.sugarLink:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"sugarLink",hash:{},data:r}):a))+'">'+l((n.str||t&&t.str||o).call(s,"LBL_MOBILE_DESKTOP","",t!=null?t.config:t,{name:"str",hash:{},data:r}))+"</a>\n    </div>\n"},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return"        Error "+l((a=(a=n.errorCode||(t!=null?t.errorCode:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"errorCode",hash:{},data:r}):a))+". "+l((n.str||t&&t.str||o).call(s,t!=null?t.errorLabel:t,{name:"str",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<div class="error-message b-vc-w">\n<div class="b-vc">\n'+((a=n["if"].call(t!=null?t:{},t!=null?t.showSugarBackLink:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return'        <span class="filter__item filter__item-main"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted '+((a=n["if"].call(t!=null?t:{},t!=null?t.isFilterDDOpened:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" track=""></a></span>\n'},2:function(e,t,n,i,r){return"active"},4:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'        <span class="filter__item filter__item-by"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted" track="">'+o((n.str||t&&t.str||s).call(a,"LBL_MOBILE_BY",{name:"str",hash:{},data:r}))+': <span class="field-name"></span></a></span>\n        <span class="filter__item filter__item-sort"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted" track="">\n            '+o((n.icon||t&&t.icon||s).call(a,"sorting.asc",{name:"icon",hash:{additionalClass:"filter-item-sort__asc"},data:r}))+"\n            "+o((n.icon||t&&t.icon||s).call(a,"sorting.desc",{name:"icon",hash:{additionalClass:"filter-item-sort__desc"},data:r}))+"\n        </a></span>\n"},6:function(e,t,n,i,r){return"hide"},8:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'    <div class="dropdown dropdown__filter '+((a=n.unless.call(s,t!=null?t.isFilterDDOpened:t,{name:"unless",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n        <ul>\n'+((a=n.each.call(s,t!=null?t.filters:t,{name:"each",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))!=null?a:"")+'            <li class="filters-preloader hide"><a><span class="name">'+l((n.partial||t&&t.partial||o).call(s,"spinner",t,{name:"partial",hash:{},data:r}))+l((n.str||t&&t.str||o).call(s,"LBL_LOADING",{name:"str",hash:{},data:r}))+'</span></a></li>\n            <li class="filters-fetching-error hide fast-click-highlighted">\n                <a class="filters-reload">\n                    <span>'+l((n.str||t&&t.str||o).call(s,"ERR_FILTERS_FETCHING",{name:"str",hash:{},data:r}))+'</span><br />\n                    <span class="filters-try-again">'+l((n.str||t&&t.str||o).call(s,"LBL_TRY_AGAIN",{name:"str",hash:{},data:r}))+"</span>\n                </a>\n            </li>\n        </ul>\n    </div>\n"},9:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                <li class="fast-click-highlighted"><a class="'+((a=n["if"].call(o,t!=null?t.active:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" data-filter-id="'+c((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s===u?s.call(o,{name:"id",hash:{},data:r}):s))+'">'+c((n.icon||t&&t.icon||l).call(o,"sorting.checked",{name:"icon",hash:{additionalClass:"check-icon"},data:r}))+' <span class="name">'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+"</span></a></li>\n"},11:function(e,t,n,i,r){var a;return'    <div class="dropdown dropdown__sortBy hide">\n        <ul>\n'+((a=n.each.call(t!=null?t:{},t!=null?t.sortableFields:t,{name:"each",hash:{},fn:e.program(12,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        </ul>\n    </div>\n"},12:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'            <li class="fast-click-highlighted"><a data-fieldname="'+u((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+'">'+u((n.icon||t&&t.icon||o).call(s,"sorting.checked",{name:"icon",hash:{additionalClass:"check-icon"},data:r}))+' <span class="name">'+u((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===l?a.call(s,{name:"label",hash:{},data:r}):a))+"</span></a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="box__filter">\n'+((a=n["if"].call(s,(a=t!=null?t.filters:t)!=null?a.length:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'    <span class="filter__seporate"></span>\n    <!--Sort buttons-->\n'+((a=n["if"].call(s,t!=null?t.sortable:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+'</div>\n\n<div class="overlay-dropdown '+((a=n.unless.call(s,t!=null?t.isFilterDDOpened:t,{name:"unless",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))!=null?a:"")+'"></div>\n'+((a=n["if"].call(s,(a=t!=null?t.filters:t)!=null?a.length:a,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"+((a=n["if"].call(s,t!=null?t.sortable:t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r}))!=null?a:"")},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"btns-long"},3:function(e,t,n,i,r){return"has-edit-button"},5:function(e,t,n,i,r){return"has-search"},7:function(e,t,n,i,r){return'<a href="javascript:void(0)" class="backBtn back fast-click-highlighted" track="click:back">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"header.back",{name:"icon",hash:{},data:r}))+"</a>"},9:function(e,t,n,i,r){var a;return'            <a href="javascript:void(0)" class="logo menuBtn fast-click-highlighted" track="click:home">\n                '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"header.menu",{name:"icon",hash:{},data:r}))+"\n"+((a=n.blockHelperMissing.call(t,e.lambda((a=t!=null?t.config:t)!=null?a.offlineEnabled:a,t),{name:"config.offlineEnabled",hash:{},fn:e.program(10,r,0),inverse:e.noop,data:r}))!=null?a:"")+"            </a>\n"},10:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'                    <span class="offline-status '+l((a=(a=n.offlineStatusClass||(t!=null?t.offlineStatusClass:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"offlineStatusClass",hash:{},data:r}):a))+'">'+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:r}))+"</span>\n"},12:function(e,t,n,i,r){return'<a href="javascript:void(0)" class="dashHomeBtn fast-click-highlighted" track="click:dashHome">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"header.dashboard",{name:"icon",hash:{},data:r}))+"</a>"},14:function(e,t,n,i,r){var a;return'            <div class="header__btn--cancel header__btn fast-click-highlighted" track="click:cancel">\n'+((a=n["if"].call(t!=null?t:{},(a=t!=null?t.config:t)!=null?a.cancelLabel:a,{name:"if",hash:{},fn:e.program(15,r,0),inverse:e.program(17,r,0),data:r}))!=null?a:"")+"            </div>\n"},15:function(e,t,n,i,r){var a;return"                    "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.config:t)!=null?a.cancelLabel:a,{name:"str",hash:{},data:r}))+"\n"},17:function(e,t,n,i,r){return"                    "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_CANCEL_BUTTON_LABEL",{name:"str",hash:{},data:r}))+"\n"},19:function(e,t,n,i,r){var a;return e.escapeExpression(e.lambda((a=t!=null?t.config:t)!=null?a.subtitle:a,t))},21:function(e,t,n,i,r){var a;return e.escapeExpression(e.lambda((a=t!=null?t.config:t)!=null?a.title:a,t))},23:function(e,t,n,i,r){var a,s=t!=null?t:{};return'            <div class="header__save-container '+((a=n["if"].call(s,(a=t!=null?t.config:t)!=null?a.saveHidden:a,{name:"if",hash:{},fn:e.program(24,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n                <div class="header__btn--save header__btn fast-click-highlighted '+((a=n["if"].call(s,t!=null?t._saveBtnDisabled:t,{name:"if",hash:{},fn:e.program(26,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" track="click:save">\n'+((a=n["if"].call(s,(a=t!=null?t.config:t)!=null?a.saveLabel:a,{name:"if",hash:{},fn:e.program(28,r,0),inverse:e.program(30,r,0),data:r}))!=null?a:"")+'                </div>\n                <div class="header__btn--caret header__btn fast-click-highlighted hide">\n                    '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(s,"header.saveBtnArrow",{name:"icon",hash:{additionalClass:"saveArrow-icon"},data:r}))+"\n                </div>\n            </div>\n"},24:function(e,t,n,i,r){return"hide"},26:function(e,t,n,i,r){return"disabled"},28:function(e,t,n,i,r){var a;return"                        "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.config:t)!=null?a.saveLabel:a,{name:"str",hash:{},data:r}))+"\n"},30:function(e,t,n,i,r){return"                        "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_SAVE_BUTTON_LABEL",{name:"str",hash:{},data:r}))+"\n"},32:function(e,t,n,i,r){var a,s,o,l=t!=null?t:{},u='            <a href="javascript:void(0)" class="createBtn launch create-entity fast-click-highlighted" track="click:create" ';a=(s=(s=n.quickAction||(t!=null?t.quickAction:t))!=null?s:n.helperMissing,o={name:"quickAction",hash:{},fn:e.program(33,r,0),inverse:e.noop,data:r},typeof s==="function"?s.call(l,o):s);if(!n.quickAction){a=n.blockHelperMissing.call(t,a,o)}if(a!=null){u+=a}return u+">\n"+((a=n["if"].call(l,t!=null?t.quickAction:t,{name:"if",hash:{},fn:e.program(35,r,0),inverse:e.program(37,r,0),data:r}))!=null?a:"")+"            </a>\n"},33:function(e,t,n,i,r){var a;return'action="'+e.escapeExpression((a=(a=n.name||(t!=null?t.name:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"name",hash:{},data:r}):a))+'"'},35:function(e,t,n,i,r){var a;return"                    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.quickAction:t)!=null?a.iconKey:a,{name:"icon",hash:{additionalClass:"header-icon__plus icon-size-md"},data:r}))+"\n"},37:function(e,t,n,i,r){return"                    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"header.overflow",{name:"icon",hash:{additionalClass:"header-icon__plus icon-size-md"},data:r}))+"\n"},39:function(e,t,n,i,r){return'            <a href="javascript:void(0)" class="searchBtn fast-click-highlighted" track="click:search">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"header.search",{name:"icon",hash:{additionalClass:"icon-size-md"},data:r}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o,l=t!=null?t:{},u=e.lambda,c=n.blockHelperMissing,d='<div class="box__header '+((a=n["if"].call(l,(a=t!=null?t.config:t)!=null?a.btnsLong:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+" "+((a=n["if"].call(l,(a=(a=t!=null?t.config:t)!=null?a.ui:a)!=null?a.hasEditButton:a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+" "+((a=n["if"].call(l,(a=t!=null?t.config:t)!=null?a.search:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" track="swipeLeft swipeRight:header">\n    <div class="header__inner">\n        '+((a=c.call(t,u((a=t!=null?t.config:t)!=null?a.back:a,t),{name:"config.back",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"+((a=c.call(t,u((a=t!=null?t.config:t)!=null?a.isMenuButtonSupported:a,t),{name:"config.isMenuButtonSupported",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        "+((a=c.call(t,u((a=t!=null?t.config:t)!=null?a.dashboardHome:a,t),{name:"config.dashboardHome",hash:{},fn:e.program(12,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"+((a=c.call(t,u((a=t!=null?t.config:t)!=null?a.cancel:a,t),{name:"config.cancel",hash:{},fn:e.program(14,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        <h1 class="header__title">\n            <span class="header-subtitle">'+((a=n["if"].call(l,(a=t!=null?t.config:t)!=null?a.subtitle:a,{name:"if",hash:{},fn:e.program(19,r,0),inverse:e.noop,data:r}))!=null?a:"")+'</span>\n            <span class="header-title">'+((a=n["if"].call(l,(a=t!=null?t.config:t)!=null?a.title:a,{name:"if",hash:{},fn:e.program(21,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</span>\n        </h1>\n"+((a=c.call(t,u((a=t!=null?t.config:t)!=null?a.save:a,t),{name:"config.save",hash:{},fn:e.program(23,r,0),inverse:e.noop,data:r}))!=null?a:"");a=(s=(s=n.rightMenu||(t!=null?t.rightMenu:t))!=null?s:n.helperMissing,o={name:"rightMenu",hash:{},fn:e.program(32,r,0),inverse:e.noop,data:r},typeof s==="function"?s.call(l,o):s);if(!n.rightMenu){a=c.call(t,a,o)}if(a!=null){d+=a}return d+((a=c.call(t,u((a=t!=null?t.config:t)!=null?a.search:a,t),{name:"config.search",hash:{},fn:e.program(39,r,0),inverse:e.noop,data:r}))!=null?a:"")+'    </div>\n    <div class="right-menu__container_tablet"></div>\n</div>\n<div class="overlay__right-menu hide" track="swipeLeft swipeRight:header"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"additional"},3:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'            <div class="field field-dupecheck-list">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'                <div class="row row--head clip field-dupecheck-list__value">\n                    '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:r}))+"\n                </div>\n            </div>\n"},4:function(e,t,n,i,r,a,s){return'                    <div class="clip field-dupecheck-list__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:r}))+"</div>\n"},6:function(e,t,n,i,r){return"        hide\n"},8:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'                <div class="field field-dupecheck-list">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(9,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'                    <div class="row clip field-dupecheck-list__value">\n                        '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:r}))+"\n                    </div>\n                </div>\n"},9:function(e,t,n,i,r,a,s){return'                        <div class="clip field-dupecheck-list__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:r}))+"</div>\n"},11:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'        <a href="javascript:void(0)" class="show-more-link fast-click-highlighted">'+o((n.str||t&&t.str||s).call(a,"LBL_SHOW_MORE",{name:"str",hash:{},data:r}))+'</a>\n        <a href="javascript:void(0)" class="hide show-less-link fast-click-highlighted">'+o((n.str||t&&t.str||s).call(a,"LBL_SHOW_LESS",{name:"str",hash:{},data:r}))+"</a>\n\n"},13:function(e,t,n,i,r){return'        <a href="javascript:void(0)" class="edit-link fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_EDIT_BUTTON",{name:"str",hash:{},data:r}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d=e.escapeExpression;return'<article data-id="'+d((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"itemId",
hash:{},data:r}):l))+'" class="fast-click-highlighted list-item-radio list-item-dupecheck">\n    '+d((n.icon||t&&t.icon||c).call(u,"edit.radioOff",{name:"icon",hash:{additionalClass:"radio-icon"},data:r}))+'\n    <div class="fields '+((o=n["if"].call(u,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n'+((o=n.each.call(u,t!=null?t.headFields:t,{name:"each",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'        <div class="\n        rest-fields\n'+((o=n["if"].call(u,(o=t!=null?t.links:t)!=null?o.showMore:o,{name:"if",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'        ">\n'+((o=n.each.call(u,t!=null?t.restFields:t,{name:"each",hash:{},fn:e.program(8,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"        </div>\n    </div>\n"+((o=n["if"].call(u,(o=t!=null?t.links:t)!=null?o.showMore:o,{name:"if",hash:{},fn:e.program(11,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n"+((o=n["if"].call(u,(o=t!=null?t.links:t)!=null?o.edit:o,{name:"if",hash:{},fn:e.program(13,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"                    hide\n"},3:function(e,t,n,i,r){var a;return"                    "+((a=n.unless.call(t!=null?t:{},t!=null?t.duplicatesCheckFailed:t,{name:"unless",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},4:function(e,t,n,i,r){return"hide"},6:function(e,t,n,i,r){var a;return"                    "+((a=n["if"].call(t!=null?t:{},t!=null?t.duplicatesCheckFailed:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"},8:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'                <a href="javascript:void 0"\n                   class="box__link-duplicates duplicates-list__search" track="click:lead-conversion-'+l((a=(a=n.module||(t!=null?t.module:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"module",hash:{},data:r}):a))+'-search">\n                    '+l((n.str||t&&t.str||o).call(s,"LBL_SEARCH_EXISTING_RECORD",null,t!=null?t.module:t,{name:"str",hash:{},data:r}))+" "+l((n.icon||t&&t.icon||o).call(s,"leadConversion.link",{name:"icon",hash:{},data:r}))+"\n                </a>\n"},10:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'                <a href="javascript:void 0"\n                   class="box__link-duplicates duplicates-list__create" track="click:lead-conversion-'+l((a=(a=n.module||(t!=null?t.module:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"module",hash:{},data:r}):a))+'-create">\n                    '+l((n.str||t&&t.str||o).call(s,"LBL_CREATE_MODULE",null,t!=null?t.moduleSingular:t,{name:"str",hash:{},data:r}))+" "+l((n.icon||t&&t.icon||o).call(s,"leadConversion.link",{name:"icon",hash:{},data:r}))+"\n                </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'<div class="lead-conversion__section lead-conversion__section--relative">\n    <div class="scroll">\n        <div class="pad">\n            <div class="duplicates-check-failed\n'+((a=n["if"].call(s,(a=t!=null?t.collection:t)!=null?a.length:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+'                ">'+l((n.str||t&&t.str||o).call(s,"LBL_DUPLICATES_CHECK_FAILED",{name:"str",hash:{},data:r}))+' <a href="javascript:void 0" class="reload-duplicates">'+l((n.str||t&&t.str||o).call(s,"LBL_TRY_AGAIN",{name:"str",hash:{},data:r}))+'</a></div>\n\n            <div class="duplicates-check-no-records-found\n'+((a=n["if"].call(s,(a=t!=null?t.collection:t)!=null?a.length:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(6,r,0),data:r}))!=null?a:"")+'            ">'+l((n.str||t&&t.str||o).call(s,"LBL_MOBILE_NO_DUPLICATES_FOUND",{name:"str",hash:{},data:r}))+'</div>\n\n            <div class="lead-conversion__content--relative '+((a=n.unless.call(s,(a=t!=null?t.collection:t)!=null?a.length:a,{name:"unless",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n                '+l((n.childViews||t&&t.childViews||o).call(s,"duplicates",{name:"childViews",hash:{},data:r}))+"\n            </div>\n\n"+((a=n["if"].call(s,t!=null?t.hasListAccess:t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"+((a=n["if"].call(s,t!=null?t.hasCreateAccess:t,{name:"if",hash:{},fn:e.program(10,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="lead-conversion__prev fast-click-highlighted" track="click:lead-conversion-back"\n            '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",(a=(a=t!=null?t.state:t)!=null?a.backBtn:a)!=null?a.label:a,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+">\n            "+l((n.icon||t&&t.icon||o).call(s,(a=(a=t!=null?t.state:t)!=null?a.backBtn:a)!=null?a.icon:a,{name:"icon",hash:{},data:r}))+"\n            "+((a=(n.str||t&&t.str||o).call(s,(a=(a=t!=null?t.state:t)!=null?a.backBtn:a)!=null?a.label:a,{name:"str",hash:{},data:r}))!=null?a:"")+"\n        </span>\n"},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="\n        lead-conversion__next\n        btn btn--primary '+((a=n.unless.call(s,(a=(a=t!=null?t.state:t)!=null?a.nextBtn:a)!=null?a.enabled:a,{name:"unless",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n        fast-click-highlighted" track="click:lead-conversion-next"\n            '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",(a=(a=t!=null?t.state:t)!=null?a.nextBtn:a)!=null?a.label:a,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+">\n            "+((a=(n.str||t&&t.str||o).call(s,(a=(a=t!=null?t.state:t)!=null?a.nextBtn:a)!=null?a.label:a,{name:"str",hash:{},data:r}))!=null?a:"")+"\n            "+l((n.icon||t&&t.icon||o).call(s,(a=(a=t!=null?t.state:t)!=null?a.nextBtn:a)!=null?a.icon:a,{name:"icon",hash:{},data:r}))+"\n        </span>\n"},4:function(e,t,n,i,r){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="lead-conversion__footer">\n'+((a=n["if"].call(s,(a=(a=t!=null?t.state:t)!=null?a.backBtn:a)!=null?a.show:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"+((a=n["if"].call(s,(a=(a=t!=null?t.state:t)!=null?a.nextBtn:a)!=null?a.show:a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"    "+e.escapeExpression((n.childViews||t&&t.childViews||n.helperMissing).call(t!=null?t:{},t!=null?t.viewId:t,{name:"childViews",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return"\n"+((a=n.each.call(o,t!=null?t._viewDefs:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'<div class="progress-wrap progress">\n    <div class="progress-bar progress"></div>\n</div>\n<div class="'+e.escapeExpression((s=(s=n.switcherCss||(t!=null?t.switcherCss:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"switcherCss",hash:{},data:r}):s))+'"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n["with"].call(t!=null?t:{},t!=null?t.attributes:t,{name:"with",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:""},2:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'        <div data-id="'+c((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s===u?s.call(o,{name:"id",hash:{},data:r}):s))+'" class="comment__item">\n            <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:r}):s))+'/edit">'+c((n.userPicture||t&&t.userPicture||l).call(o,t!=null?t.created_by:t,{name:"userPicture",hash:{},data:r}))+"</a>\n            "+c((n.comment||t&&t.comment||l).call(o,(a=t!=null?t.data:t)!=null?a.value:a,(a=t!=null?t.data:t)!=null?a.tags:a,{name:"comment",hash:{},data:r}))+'\n            <div class="comment__info">\n                <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:r}):s))+'">'+c((n.str||t&&t.str||l).call(o,t!=null?t.created_by_name:t,{name:"str",hash:{},data:r}))+"</a> "+c((n.relativeTime||t&&t.relativeTime||l).call(o,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:r}))+"\n            </div>\n        </div>\n"},4:function(e,t,n,i,r){var a;return'    <a href="#" class="comments-more-btn">'+e.escapeExpression((a=(a=n._moreCommentsCount||(t!=null?t._moreCommentsCount:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"_moreCommentsCount",hash:{},data:r}):a))+" more comments...</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return((a=n.each.call(s,(a=t!=null?t.collection:t)!=null?a.models:a,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(s,t!=null?t._moreCommentsCount:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return" has-grip "},3:function(e,t,n,i,r){return" has-drag-menu "},5:function(e,t,n,i,r){return" has-menu "},7:function(e,t,n,i,r){return" item-checkbox "},9:function(e,t,n,i,r){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:r}))+"\n"},11:function(e,t,n,i,r){return'            <span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:{},t!=null?t.moduleName:t,{name:"moduleNameSingular",hash:{},data:r}))+'</span><span class="module-name-comma">,</span>\n'},13:function(e,t,n,i,r){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:r}))+"\n"},15:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return((a=n["if"].call(s,t!=null?t.statusFieldDef:t,{name:"if",hash:{},fn:e.program(16,r,0),inverse:e.noop,data:r}))!=null?a:"")+'            <div class="item-name clip">\n                '+l((n.fieldByName||t&&t.fieldByName||o).call(s,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:r}))+"\n                "+l((n.fieldByName||t&&t.fieldByName||o).call(s,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:r}))+"\n            </div>\n"},16:function(e,t,n,i,r){var a;return'                <div class="field-leads-status-value">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.statusFieldDef:t)!=null?a.name:a,t,{name:"fieldByName",hash:{},data:r}))+"</div>\n"},18:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(19,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(21,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"            </div>\n"},19:function(e,t,n,i,r){return"additional"},21:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(22,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:r}))+"\n                        </div>\n                    </div>\n"},22:function(e,t,n,i,r,a,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:r}))+"</div>\n"},24:function(e,t,n,i,r){var a;return"            "+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.view:t)!=null?a.sortBy:a,t,{name:"fieldByName",hash:{},data:r}))+"\n"},26:function(e,t,n,i,r){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"menu-list-item",t,{name:"partial",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:c,typeof l===d?l.call(u,{name:"itemId",hash:{},data:r}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:c,typeof l===d?l.call(u,{name:"moduleName",hash:{},data:r}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(u,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.program(3,r,0,a,s),data:r}))!=null?o:"")+"\n    "+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n    "+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n'+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(9,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:c,typeof l===d?l.call(u,{name:"detailsCss",hash:{},data:r}):l))+'">\n'+((o=n["if"].call(u,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(11,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(13,r,0,a,s),inverse:e.program(15,r,0,a,s),data:r}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(18,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n"+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.sortBy:o,{name:"if",hash:{},fn:e.program(24,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(26,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"item-checkbox"},3:function(e,t,n,i,r){return e.escapeExpression((n.debugAttributes||t&&t.debugAttributes||n.helperMissing).call(t!=null?t:{},"label",t!=null?t.label:t,{name:"debugAttributes",hash:{},data:r}))},5:function(e,t,n,i,r){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:r}))+"\n"},7:function(e,t,n,i,r){return"        "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:r}):s))+'" class="picker-list-row fast-click-highlighted '+((a=n["if"].call(o,(a=t!=null?t.view:t)!=null?a.multiselect:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" '+((a=n["if"].call(o,(a=t!=null?t.view:t)!=null?a.multiselect:a,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"  "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"module",t!=null?t.module:t,{name:"debugAttributes",hash:{},data:r}))+">\n"+((a=n["if"].call(o,(a=t!=null?t.view:t)!=null?a.multiselect:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.module:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+'    <a href="javascript:void(0)">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:r}):s))+"</a>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"search"},3:function(e,t,n,i,r){return'            <div class="clip">'+e.escapeExpression((n.teamSearchItem||t&&t.teamSearchItem||n.helperMissing).call(t!=null?t:{},t!=null?t.model:t,{name:"teamSearchItem",hash:{},data:r}))+"</div>\n"},5:function(e,t,n,i,r){return'            <div class="clip">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:{},"name",t,{name:"fieldByName",hash:{type:"teamset-name"},data:r}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:r}):s))+'" class="list-item item-checkbox fast-click-highlighted"\n    '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"team_name",(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.name:a,{name:"debugAttributes",hash:{},data:r}))+"\n    "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"uid",(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a.id:a,{name:"debugAttributes",hash:{},data:r}))+">\n\n    "+u((n.icon||t&&t.icon||l).call(o,"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:r}))+'\n    <div class="'+((a=n["if"].call(o,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+' txt">\n'+((a=n["if"].call(o,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r}))!=null?a:"")+"    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article class="tx-item list-item fast-click-highlighted '+c((s=(s=n.getTxLogItemStatusClass||(t!=null?t.getTxLogItemStatusClass:t))!=null?s:l,typeof s===u?s.call(o,{name:"getTxLogItemStatusClass",hash:{},data:r}):s))+'" data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:r}):s))+'"\n         module="'+c(e.lambda((a=t!=null?t.model:t)!=null?a.module:a,t))+'" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"record_id",(a=(a=t!=null?t.model:t)!=null?a.attributes:a)!=null?a._tx_bean_id:a,{name:"debugAttributes",hash:{},data:r}))+'>\n    <div class="txt line-clamp">\n        '+c((s=(s=n.getTxLogActionExplanation||(t!=null?t.getTxLogActionExplanation:t))!=null?s:l,typeof s===u?s.call(o,{name:"getTxLogActionExplanation",hash:{},data:r}):s))+"\n    </div>\n    "+c((n.partial||t&&t.partial||l).call(o,"menu-list-item",t,{name:"partial",hash:{},data:r}))+"\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return" has-grip "},3:function(e,t,n,i,r){return" has-drag-menu "},5:function(e,t,n,i,r){return" has-menu "},7:function(e,t,n,i,r){return" item-checkbox "},9:function(e,t,n,i,r){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:r}))+"\n"},11:function(e,t,n,i,r){return'            <span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:{},t!=null?t.moduleName:t,{name:"moduleNameSingular",hash:{},data:r}))+'</span><span class="module-name-comma">,</span>\n'},13:function(e,t,n,i,r){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:r}))+"\n"},15:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'           <div class="item-name clip">\n               '+o((n.fieldByName||t&&t.fieldByName||s).call(a,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:r}))+"\n               "+o((n.fieldByName||t&&t.fieldByName||s).call(a,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:r}))+"\n           </div>\n"},17:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(18,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(20,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"            </div>\n"},18:function(e,t,n,i,r){return"additional"},20:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(21,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:r}))+"\n                        </div>\n                    </div>\n"},21:function(e,t,n,i,r,a,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:r}))+"</div>\n"},23:function(e,t,n,i,r){var a;return"            "+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.view:t)!=null?a.sortBy:a,t,{name:"fieldByName",hash:{},data:r}))+"\n"},25:function(e,t,n,i,r){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"menu-list-item",t,{name:"partial",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:c,typeof l===d?l.call(u,{name:"itemId",hash:{},data:r}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:c,typeof l===d?l.call(u,{name:"moduleName",hash:{},data:r}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(u,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.program(3,r,0,a,s),data:r}))!=null?o:"")+"\n        "+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n        "+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n'+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(9,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:c,typeof l===d?l.call(u,{name:"detailsCss",hash:{},data:r}):l))+'">\n'+((o=n["if"].call(u,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(11,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(13,r,0,a,s),inverse:e.program(15,r,0,a,s),data:r}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(17,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n"+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.sortBy:o,{name:"if",hash:{},fn:e.program(23,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(25,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="no-records-found hide">\n    '+e.escapeExpression(e.lambda(t!=null?t.labelNoRecords:t,t))+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="error-box">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"ERR_MOBILE_NOT_AUTHORIZED",{name:"str",hash:{},data:r}))+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return'<div class="scroll">\n    <div class="listing" id="listing">\n        '+e.escapeExpression((n.listItems||t&&t.listItems||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.collection:t)!=null?a.models:a,t,{name:"listItems",hash:{},data:r}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'    <div class="show-more-btn show-more-bottom-btn '+((a=n.unless.call(o,t!=null?t.needShowMoreBottomBtn:t,{name:"unless",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n        <div>\n            <a class="show_more_posts" href="javascript:void(0)" track="click:more-bottom">'+e.escapeExpression((s=(s=n.labelShowMoreBottom||(t!=null?t.labelShowMoreBottom:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"labelShowMoreBottom",hash:{},data:r}):s))+"</a>\n        </div>\n    </div>\n"},2:function(e,t,n,i,r){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.isPaginationEnabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'    <div class="show-more-btn show-more-top-btn '+((a=n.unless.call(o,t!=null?t.needShowMoreTopButton:t,{name:"unless",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n        <div>\n            <a class="show_more_posts" href="javascript:void(0)" track="click:more-top">'+e.escapeExpression((s=(s=n.labelShowMoreTop||(t!=null?t.labelShowMoreTop:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"labelShowMoreTop",hash:{},data:r}):s))+"</a>\n        </div>\n    </div>\n"},2:function(e,t,n,i,r){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.isPaginationEnabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="listing" id="'+u((s=(s=n.listViewId||(t!=null?t.listViewId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"listViewId",hash:{},data:r}):s))+'">\n  '+u((n.partial||t&&t.partial||l).call(o,"list-no-records",t,{name:"partial",hash:{},data:r}))+"\n  "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-top",t,{name:"partial",hash:{},data:r}))+'\n    <div class="items">\n      '+u((n.listItems||t&&t.listItems||l).call(o,(a=t!=null?t.collection:t)!=null?a.models:a,t,{name:"listItems",hash:{},data:r}))+"\n    </div>\n  "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-bottom",t,{name:"partial",hash:{},data:r}))+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'    <span class="menu-container-grip grip" track="click:c-menu">'+o((n.icon||t&&t.icon||s).call(a,"list.grip",{name:"icon",hash:{},data:r}))+'</span>\n    <div class="menu-container">\n        <span class="grip open" track="click:c-menu.open">'+o((n.icon||t&&t.icon||s).call(a,"list.grip",{name:"icon",hash:{},data:r}))+"</span>\n    </div>\n"},3:function(e,t,n,i,r){return'    <div class="menu-container"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s=e.lambda,o=e.escapeExpression;return'            <div class="as__icon">\n                <i class="tw__user_icon icon" style="background-image: url('+o(s(t!=null?t.tw_profile_image_url:t,t))+');">\n                </i>\n            </div>\n\n            <div class="as__info" >\n                <a class="tw__as_profile_link" target="_blank" href="'+o(s(t!=null?t.tw_profile_url:t,t))+'" ><strong>'+o(s(t!=null?t.name:t,t))+'</strong></a>\n                <a class="tw__as_profile_link" target="_blank" href="'+o(s(t!=null?t.tw_profile_url:t,t))+'" >@'+o(s(t!=null?t.screen_name:t,t))+'</a>\n                <div class="pull-right">\n                    '+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(t!=null?t:{},t!=null?t.date:t,{name:"relativeTime",hash:{},data:r}))+'\n                </div>\n            </div>\n            <div class="tw__as__title as__title">\n                '+((a=s(t!=null?t.text:t,t))!=null?a:"")+"\n            </div>\n"},3:function(e,t,n,i,r){return"            "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"menu-list-item",t,{name:"partial",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:r}):s))+'" module="'+c((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===u?s.call(o,{name:"moduleName",hash:{},data:r}):s))+'" class="activitystream-item list-item" track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="as__detail">\n'+((a=n["with"].call(o,(a=t!=null?t.model:t)!=null?a.attributes:a,{name:"with",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n"+((a=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"    </div>\n\n</article>\n"},useData:true
})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"readonly"},3:function(e,t,n,i,r){var a;return e.escapeExpression((a=(a=n.clearButton||(t!=null?t.clearButton:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"clearButton",hash:{},data:r}):a))},5:function(e,t,n,i,r){return"checked"},7:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="field no-border">\n    <div class="field__controls">\n    <div class="field__controls--flex">\n        <span class="settings__control_label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_EXTERNAL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:r}))+'</span>\n        <div class="settings__control_checkbox">\n            <label class="checkbox-toggle">\n                <input type="checkbox" '+((a=n.unless.call(s,t!=null?t.loginSettingsEditable:t,{name:"unless",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+' class="checkbox-toggle__checkbox sso_checkbox" '+((a=n["if"].call(s,t!=null?t.isSSO:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'>\n                <span class="checkbox-toggle__slider"></span>\n            </label>\n        </div>\n    </div>\n    </div>\n</div>\n'},8:function(e,t,n,i,r){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression,c="function";return'\n<div class="settings__controls_group">\n<div class="field">\n    <div class="field__controls">\n        <label class="field__label settings__control_label_url">'+u((n.str||t&&t.str||l).call(o,"LBL_MOBILE_SERVER_URL",{name:"str",hash:{},data:r}))+'</label>\n        <span class="input-wrapper">\n            <input type="url" class="login_settings_server_url" placeholder="your-'+u((s=(s=n.brandName||(t!=null?t.brandName:t))!=null?s:l,typeof s===c?s.call(o,{name:"brandName",hash:{},data:r}):s))+'-instance.com" value="'+u((s=(s=n.serverUrl||(t!=null?t.serverUrl:t))!=null?s:l,typeof s===c?s.call(o,{name:"serverUrl",hash:{},data:r}):s))+'" autocapitalize="off" autocorrect="off" autocomplete="off" '+((a=n.unless.call(o,t!=null?t.loginSettingsEditable:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+">\n            "+((a=n["if"].call(o,t!=null?t.loginSettingsEditable:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n        </span>\n    </div>\n</div>\n\n<div class="field no-border">\n    <div class="field__controls">\n        <div class="field__controls--flex">\n            <span class="settings__control_label">'+u((n.str||t&&t.str||l).call(o,"LBL_USE_HTTPS",{name:"str",hash:{},data:r}))+'</span>\n            <div class="settings__control_checkbox">\n                <label class="checkbox-toggle">\n                    <input type="checkbox" class="checkbox-toggle__checkbox ssl_checkbox" '+((a=n["if"].call(o,t!=null?t.useHttps:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'>\n                    <span class="checkbox-toggle__slider"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n</div>\n\n'+((a=n["if"].call(o,t!=null?t.showExternalLogin:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'<div class="page__login">\n\n    <div id="login_settings_section" class="login__body">\n        '+o((n.partial||t&&t.partial||s).call(a,"login-settings-section",t,{name:"partial",hash:{},data:r}))+'\n    </div>\n\n    <div class="login__footer">\n        <a href="javascript:void(0)" class="btn btn--primary btn--large continue_btn fast-click-highlighted" disabled="disabled" track="click:login">'+o((n.str||t&&t.str||s).call(a,"LBL_UPDATE",{name:"str",hash:{},data:r}))+"</a>\n    </div>\n\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'            <div  class="login__settings_div">\n                <a href="javascript:void(0)" class="login__settings_btn fast-click-highlighted" track="click:login-settings-btn">\n                    '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"menu.settings",{name:"icon",hash:{additionalClass:"icon-size-md"},data:r}))+"\n                </a>\n            </div>\n"},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'        <div id="login_settings_section" class="login__settings">\n            <div class="field">\n                <div class="settings__header">'+u((a=(a=n.loginSettingsTitle||(t!=null?t.loginSettingsTitle:t))!=null?a:o,typeof a===l?a.call(s,{name:"loginSettingsTitle",hash:{},data:r}):a))+'</div>\n                <div class="settings__header__desc">'+u((a=(a=n.loginSettingsDesc||(t!=null?t.loginSettingsDesc:t))!=null?a:o,typeof a===l?a.call(s,{name:"loginSettingsDesc",hash:{},data:r}):a))+"</div>\n            </div>\n            "+u((n.partial||t&&t.partial||o).call(s,"login-settings-section",t,{name:"partial",hash:{},data:r}))+"\n        </div>\n"},5:function(e,t,n,i,r,a,s){var o;return'        <form id="login_section" class="login-fields">\n'+((o=n.each.call(t!=null?t:{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"        </form>\n"},6:function(e,t,n,i,r,a,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[1],{name:"field",hash:{},data:r}))+"\n"},8:function(e,t,n,i,r){return"login__footer_show-attribution"},10:function(e,t,n,i,r){return'            <a href="javascript:void(0)" class="btn btn--primary btn--large continue_btn fast-click-highlighted" disabled="disabled" track="click:loginsettings_continue">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_CONTINUE",{name:"str",hash:{},data:r}))+"</a>\n"},12:function(e,t,n,i,r){var a,s=t!=null?t:{};return'            <a href="javascript:void(0)" id="login_btn" class="btn btn--primary btn--large fast-click-highlighted" disabled="disabled" track="click:login">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:r}))+"</a>\n"+((a=n["if"].call(s,t!=null?t.showExternalLogin:t,{name:"if",hash:{},fn:e.program(13,r,0),inverse:e.noop,data:r}))!=null?a:"")},13:function(e,t,n,i,r){return'                <a href="javascript:void(0)" id="external_login_btn" tabindex="5" class="btn btn--primary btn--large fast-click-highlighted" track="click:external_login">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_EXTERNAL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:r}))+"</a>\n"},15:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'        <div class="box__copyright">\n            <span class="copyright__text">powered by</span>\n            <span class="copyright__logo">\n                '+l((n.partial||t&&t.partial||o).call(s,"sugarcrm-copyright-logo",t,{name:"partial",hash:{},data:r}))+'\n            </span>\n            <span class="copyright__version">v. '+l((a=(a=n.productVersion||(t!=null?t.productVersion:t))!=null?a:o,typeof a==="function"?a.call(s,{name:"productVersion",hash:{},data:r}):a))+"</span>\n        </div>\n"},17:function(e,t,n,i,r){var a;return'        <div class="version">v. '+e.escapeExpression((a=(a=n.productVersion||(t!=null?t.productVersion:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"productVersion",hash:{},data:r}):a))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="page__login">\n    <div class="login__header">\n'+((o=n["if"].call(u,t!=null?t.settingsButtonVisible:t,{name:"if",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'        <h3 class="brand">'+f((l=(l=n.brandName||(t!=null?t.brandName:t))!=null?l:c,typeof l===d?l.call(u,{name:"brandName",hash:{},data:r}):l))+'</h3>\n    </div>\n    <div class="login__body">\n\n'+((o=n["if"].call(u,t!=null?t.firstLaunch:t,{name:"if",hash:{},fn:e.program(3,r,0,a,s),inverse:e.program(5,r,0,a,s),data:r}))!=null?o:"")+'\n    </div>\n    <div class="login__footer '+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(8,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n\n'+((o=n["if"].call(u,t!=null?t.firstLaunch:t,{name:"if",hash:{},fn:e.program(10,r,0,a,s),inverse:e.program(12,r,0,a,s),data:r}))!=null?o:"")+'\n    </div>\n</div>\n<div class="login__links">\n'+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(15,r,0,a,s),inverse:e.program(17,r,0,a,s),data:r}))!=null?o:"")+'    <a href="'+f((l=(l=n.tosLink||(t!=null?t.tosLink:t))!=null?l:c,typeof l===d?l.call(u,{name:"tosLink",hash:{},data:r}):l))+'" class="legal-link login-links__link fast-click-highlighted" track="click:tos">'+f((n.str||t&&t.str||c).call(u,"LNK_TERMS_OF_USE",{name:"str",hash:{},data:r}))+'</a>\n    <i class="separator"></i>\n    <a href="javascript:void(0)" class="about-link login-links__link fast-click-highlighted">'+f((n.str||t&&t.str||c).call(u,"LNK_ABOUT",{name:"str",hash:{},data:r}))+'</a>\n    <i class="separator"></i>\n    <a href="'+f((l=(l=n.privacyLink||(t!=null?t.privacyLink:t))!=null?l:c,typeof l===d?l.call(u,{name:"privacyLink",hash:{},data:r}):l))+'" class="legal-link login-links__link fast-click-highlighted" track="click:privacy">'+f((n.str||t&&t.str||c).call(u,"LNK_PRIVACY_POLICY",{name:"str",hash:{},data:r}))+"</a>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},t!=null?t.dashboards:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:""},2:function(e,t,n,i,r){var a;return(a=n.each.call(t!=null?t:{},t!=null?t.dashboards:t,{name:"each",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:""},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'                    <li class="menu__item fast-click-highlighted"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.label:t,{name:"debugAttributes",hash:{removeSpaces:true},data:r}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"dashboard-id",t!=null?t.id:t,{name:"debugAttributes",hash:{},data:r}))+'>\n                        <a href="#Dashboards/'+l((a=(a=n.id||(t!=null?t.id:t))!=null?a:o,typeof a===u?a.call(s,{name:"id",hash:{},data:r}):a))+'" class="menu-item__link">\n                            '+l((n.moduleIcon||t&&t.moduleIcon||o).call(s,"Dashboard",{name:"moduleIcon",hash:{iconLabel:t!=null?t.label:t},data:r}))+'\n                            <span class="menu-item__label">'+l((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===u?a.call(s,{name:"label",hash:{},data:r}):a))+"</span>\n                        </a>\n                    </li>\n"},5:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'        <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(a,"label","Activities",{name:"debugAttributes",hash:{},data:r}))+'>\n            <a href="#Activities" id="activities-link" class="menu-item__link">\n                <span class="menu-item__icon">'+o((n.icon||t&&t.icon||s).call(a,"menu.activities",{name:"icon",hash:{},data:r}))+'</span>\n                <span class="menu-item__label">'+o((n.str||t&&t.str||s).call(a,"LBL_ACTIVITY_STREAM",{name:"str",hash:{},data:r}))+"</span>\n            </a>\n        </li>\n"},7:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'            <li class="menu__item fast-click-highlighted"  '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.route:t,{name:"debugAttributes",hash:{},data:r}))+'>\n                <a href="#'+l((a=(a=n.route||(t!=null?t.route:t))!=null?a:o,typeof a===u?a.call(s,{name:"route",hash:{},data:r}):a))+'" class="menu-item__link">\n                    '+l((n.moduleIcon||t&&t.moduleIcon||o).call(s,t!=null?t.route:t,{name:"moduleIcon",hash:{iconLabel:t!=null?t.label:t,iconKey:t!=null?t.iconKey:t},data:r}))+'\n                    <span class="menu-item__label">'+l((a=(a=n.label||(t!=null?t.label:t))!=null?a:o,typeof a===u?a.call(s,{name:"label",hash:{},data:r}):a))+"</span>\n                </a>\n            </li>\n"},9:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'            <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(a,"label","Offline",{name:"debugAttributes",hash:{},data:r}))+'>\n                <a href="#Offline" id="offline-link" class="menu-item__link offline-settings">\n                    <span class="menu-item__icon">\n                        '+o((n.icon||t&&t.icon||s).call(a,"menu.offline-settings",{name:"icon",hash:{},data:r}))+"\n                        "+o((n.partial||t&&t.partial||s).call(a,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:r}))+'\n                    </span>\n                    <span class="menu-item__label">'+o((n.str||t&&t.str||s).call(a,"LBL_OFFLINE_MENU_SETTINGS",{name:"str",hash:{},data:r}))+"</span>\n                </a>\n            </li>\n"},11:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'            <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(a,"label","ErrorEmulation",{name:"debugAttributes",hash:{},data:r}))+'>\n                <a href="#ErrorEmulation" class="menu-item__link">\n                    <span class="menu-item__icon">'+o((n.icon||t&&t.icon||s).call(a,"menu.errorEmulation",{name:"icon",hash:{},data:r}))+'</span>\n                    <span class="menu-item__label">Error Emulation</span>\n                </a>\n            </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="box__menu">\n    <ul class="menu__inner" id="moduleList">\n\n        <li class="menu__item fast-click-highlighted">\n            <a href="#Users/'+c((s=(s=n.userId||(t!=null?t.userId:t))!=null?s:l,typeof s===u?s.call(o,{name:"userId",hash:{},data:r}):s))+'/edit" id="me" class="menu-item__link">\n                <span class="menu-item__userpic">'+c((n.icon||t&&t.icon||l).call(o,"menu.user",{name:"icon",hash:{additionalClass:"user-icon"},data:r}))+'</span>\n                <span class="menu-item__label">'+c((s=(s=n.userName||(t!=null?t.userName:t))!=null?s:l,typeof s===u?s.call(o,{name:"userName",hash:{},data:r}):s))+'</span>\n            </a>\n        </li>\n        <li class="menu__divider"></li>\n'+((a=n["if"].call(o,t!=null?t.dashboardsSupported:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Search",{name:"debugAttributes",hash:{},data:r}))+'>\n            <a href="#Search" id="globalSearch-link" class="menu-item__link">\n                <span class="menu-item__icon">'+c((n.icon||t&&t.icon||l).call(o,"menu.search",{name:"icon",hash:{},data:r}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LBL_MOBILE_GLOBAL_SEARCH",{name:"str",hash:{},data:r}))+"</span>\n            </a>\n        </li>\n"+((a=n["if"].call(o,t!=null?t.activitiesSupported:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        <li class="menu__divider"></li>\n'+((a=n.each.call(o,t!=null?t.items:t,{name:"each",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        <li class="menu__divider"></li>\n        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","About",{name:"debugAttributes",hash:{},data:r}))+'>\n            <a href="#About" class="menu-item__link">\n                <span class="menu-item__icon">'+c((n.icon||t&&t.icon||l).call(o,"menu.about",{name:"icon",hash:{},data:r}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LNK_ABOUT",{name:"str",hash:{},data:r}))+'</span>\n            </a>\n        </li>\n        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Settings",{name:"debugAttributes",hash:{},data:r}))+'>\n            <a href="#Settings" id="settings-link" class="menu-item__link">\n                <span class="menu-item__icon">'+c((n.icon||t&&t.icon||l).call(o,"menu.settings",{name:"icon",hash:{},data:r}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LNK_SETTINGS",{name:"str",hash:{},data:r}))+"</span>\n            </a>\n        </li>\n"+((a=n["if"].call(o,t!=null?t.offlineEnabled:t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))!=null?a:"")+((a=n["if"].call(o,t!=null?t.errorEmulationEnabled:t,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r}))!=null?a:"")+'        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Desktop",{name:"debugAttributes",hash:{},data:r}))+'>\n            <a href="'+c((s=(s=n.desktopURI||(t!=null?t.desktopURI:t))!=null?s:l,typeof s===u?s.call(o,{name:"desktopURI",hash:{},data:r}):s))+'" id="desktop" class="menu-item__link" track="click:desktop" target="_blank">\n                <span class="menu-item__icon">'+c((n.icon||t&&t.icon||l).call(o,"menu.desktop",{name:"icon",hash:{},data:r}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LBL_MOBILE_DESKTOP",{name:"str",hash:{},data:r}))+'</span>\n            </a>\n        </li>\n        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Logout",{name:"debugAttributes",hash:{},data:r}))+'>\n            <a href="#logout" track="click:logout" class="menu-item__link">\n                <span class="menu-item__icon">'+c((n.icon||t&&t.icon||l).call(o,"menu.logout",{name:"icon",hash:{},data:r}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LBL_LOGOUT",{name:"str",hash:{},data:r}))+"</span>\n            </a>\n        </li>\n    </ul>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o=e.lambda,l=e.escapeExpression;return'            <tr>\n                <td>\n                    <input type="checkbox" class="custom-data-checkbox" data-module="'+l(o(t,t))+'">\n                    <span>'+l(o(t,t))+'</span>\n                </td>\n                <td>\n                    <input type="number" class="icon-border" data-module="'+l(o(t,t))+'" value="'+l(o(s[1]!=null?s[1].recordsPerModule:s[1],t))+'">\n                </td>\n            </tr>\n'},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <option data-name="'+u((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+'">'+u((a=(a=n.name||(t!=null?t.name:t))!=null?a:o,typeof a===l?a.call(s,{name:"name",hash:{},data:r}):a))+" ("+u((a=(a=n.type||(t!=null?t.type:t))!=null?a:o,typeof a===l?a.call(s,{name:"type",hash:{},data:r}):a))+")</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="scroll">\n    <div>\n        <h3>Generate all data</h3>\n        <span>Records per module</span><input id="all-data-amount" type="text" class="icon-border" value="'+f((l=(l=n.recordsPerModule||(t!=null?t.recordsPerModule:t))!=null?l:c,typeof l===d?l.call(u,{name:"recordsPerModule",hash:{},data:r}):l))+'">\n        <br>\n        <button data-action="generate-default-data" class="btn primary-btn active">Generate</button>\n    </div>\n    <hr>\n    <div>\n        <h3>Generate data by module</h3>\n        <table>\n'+((o=n.each.call(u,t!=null?t._modules:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'        </table>\n        <button data-action="generate-selected-data" class="btn primary-btn active">Generate selected</button>\n    </div>\n    <hr>\n    <div>\n        <h3>Generate all relationships</h3>\n        <button data-action="generate-default-relationship" class="btn primary-btn active">Generate</button>\n        <hr>\n\n        <h3>Generate custom relationship</h3>\n        <span>Select relationship</span>\n        <select id="relation-select">\n'+((o=n.each.call(u,t!=null?t._relationships:t,{name:"each",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'        </select>\n        <div>\n            Parent module <span id="parent-module" style="font-weight: bold"></span>\n            <br>\n            Number of records<input type="number" class="icon-border" id="parent-module-amount" value="'+f((l=(l=n.parentRelationsAmount||(t!=null?t.parentRelationsAmount:t))!=null?l:c,typeof l===d?l.call(u,{name:"parentRelationsAmount",hash:{},data:r}):l))+'">\n        </div>\n        <div>\n            Child module <span id="child-module" style="font-weight: bold"></span>\n            <br>\n            Number of records<input type="number" class="icon-border" id="child-module-amount" value="'+f((l=(l=n.childRelationsAmount||(t!=null?t.childRelationsAmount:t))!=null?l:c,typeof l===d?l.call(u,{name:"childRelationsAmount",hash:{},data:r}):l))+'">\n        </div>\n        <button data-action="generate-selected-relationship" class="btn primary-btn active">Generate</button>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=e.escapeExpression;return'                    <div class="bucket-header">\n                        '+c((l=(l=n.key||r&&r.key)!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"key",hash:{},data:r}):l))+":\n                    </div>\n                "+c(n.log.call(u,t,{name:"log",hash:{},data:r}))+"\n"+((o=n.each.call(u,t,{name:"each",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")},2:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'                        <div class="offline-property">\n'+((o=n["if"].call(l,t!=null?t.isBoolean:t,{name:"if",hash:{},fn:e.program(3,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+((o=n["if"].call(l,t!=null?t.isString:t,{name:"if",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"                        </div>\n"},3:function(e,t,n,i,r,a,s){var o,l,u=t!=null?t:{},c=n.helperMissing,d="function",f=e.escapeExpression;return'                            <input type="checkbox" '+((o=n["if"].call(u,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+' class="checkbox_default" data-key="'+f((l=(l=n.key||r&&r.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:r}):l))+'" data-section="'+f(e.lambda(e.data(r,1)&&e.data(r,1).key,t))+'">'+f((l=(l=n.key||r&&r.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:r}):l))+"\n"},4:function(e,t,n,i,r){return"checked"},6:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{},u=n.helperMissing,c="function",d=e.escapeExpression;return"                            <label>"+d((o=(o=n.key||r&&r.key)!=null?o:u,typeof o===c?o.call(l,{name:"key",hash:{},data:r}):o))+'<input type="text" style="border: 1px solid darkgray;margin: 0" data-key="'+d((o=(o=n.key||r&&r.key)!=null?o:u,typeof o===c?o.call(l,{name:"key",hash:{},data:r}):o))+'" value="'+d((o=(o=n.value||(t!=null?t.value:t))!=null?o:u,typeof o===c?o.call(l,{name:"value",hash:{},data:r}):o))+'" data-section="'+d(e.lambda(e.data(r,1)&&e.data(r,1).key,t))+'"/></label>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o;return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n\n            <div style="padding-left: 12px; margin-bottom: 10px;">\n'+((o=n.each.call(t!=null?t:{},t!=null?t.sections:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'            </div>\n            <div><a href="#Offline/offlineDataGeneration" class="offline-list__item fast-click-highlighted">Generate fake data</a></div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression,c="function";return'                <div class="bucket-header">\n                    '+u((n.str||t&&t.str||l).call(o,"LBL_BULK_LOAD_DOWNLOAD_SETTINGS",{name:"str",hash:{},data:r}))+'\n                </div>\n                <div class="offline__text-container">\n                    <a class="btn btn--primary offline__start-stop-btn fast-click-highlighted" track="click:preload_records">'+u((s=(s=n.startStopButtText||(t!=null?t.startStopButtText:t))!=null?s:l,typeof s===c?s.call(o,{name:"startStopButtText",hash:{},data:r}):s))+'</a>\n                    <!--<div class="el__spinner offline__spinner-total">-->\n                        <!--<div class="spinner__circle spinner__circle_1"></div>-->\n                        <!--<div class="spinner__circle spinner__circle_2"></div>-->\n                        <!--<div class="spinner__circle spinner__circle_3"></div>-->\n                    <!--</div>-->\n                    <div class="status-text">'+u((s=(s=n.statusText||(t!=null?t.statusText:t))!=null?s:l,typeof s===c?s.call(o,{name:"statusText",hash:{},data:r}):s))+'</div>\n                    <div class="bh__timestamp">\n                        '+u((n.str||t&&t.str||l).call(o,"LBL_OFFLINE_LAST_DOWNLOAD",{name:"str",hash:{},data:r}))+": <span>"+u(e.lambda((a=t!=null?t.dbStats:t)!=null?a.lastCompletedTs:a,t))+"</span>\n                    </div>\n                </div>\n"+((a=n["if"].call(o,t!=null?t.showCellularCb:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))!=null?a:"")},2:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="offline__control-group">\n                        <div class="offline__checkbox-data">\n                            <label class="checkbox-toggle js-checkbox-toggle--cellular">\n                                <input type="checkbox" class="checkbox-toggle__checkbox" '+((a=n["if"].call(s,t!=null?t.useCellularData:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'>\n                                <span class="checkbox-toggle__slider"></span>\n                            </label>\n                        </div>\n                        <label class="offline__control-label">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_USE_CELLULAR",{name:"str",hash:{},data:r}))+'</label>\n                        <div class="offline__message-wifi">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_CONNECTION_USE_MESSAGE",{name:"str",hash:{},data:r}))+"</div>\n                    </div>\n"},3:function(e,t,n,i,r){return" checked"},5:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'-->\n                <!--<div class="bucket-header">-->\n                    <!--'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_DB_SIZE",{name:"str",hash:{},data:r}))+'-->\n                <!--</div>-->\n                <!--<div class="text-container">-->\n                    <!--'+l((n.humanFileSize||t&&t.humanFileSize||o).call(s,(a=t!=null?t.dbStats:t)!=null?a.dbSize:a,{name:"humanFileSize",hash:{},data:r}))+"-->\n                <!--</div>-->\n            <!--"},7:function(e,t,n,i,r){var a,s=t!=null?t:{},o=e.escapeExpression;return'                <div class="bucket-header">\n                    '+o((n.str||t&&t.str||n.helperMissing).call(s,"LBL_OFFLINE_TOTAL_RECORDS",{name:"str",hash:{},data:r}))+': <span class="total-count">'+o(e.lambda((a=t!=null?t.dbStats:t)!=null?a.totalRecordsCount:a,t))+'</span>\n                </div>\n\n                <table class="table">\n'+((a=n.each.call(s,(a=t!=null?t.dbStats:t)!=null?a.modules:a,{name:"each",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))!=null?a:"")+"                </table>\n"},8:function(e,t,n,i,r){var a=e.lambda,s=e.escapeExpression;return'                        <tr data-id="'+s(a(t!=null?t.name:t,t))+'">\n                            <td>\n                                <div class="ellipsis"><span class="label-module-sm label-'+s(a(t!=null?t.name:t,t))+'">'+s((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:{},t!=null?t.name:t,{name:"moduleIconLabel",hash:{},data:r}))+"</span> "+s(a(t!=null?t.moduleName:t,t))+'</div>\n                            </td>\n                            <td width="100" class="td-count">\n                                    <span class="icons">\n                                        <i class="hide offline-icon status-warning"></i>\n                                    </span>\n                                <span class="lbl-count">'+s(a(t!=null?t.count:t,t))+"</span>\n                            </td>\n                        </tr>\n"},10:function(e,t,n,i,r){return"                "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_LOADING",{name:"str",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n'+((a=n["if"].call(s,t!=null?t.bulkLoaderEnabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"\n            <!--we decide to hide this information for now-->\n            <!--"+((a=n["if"].call(s,(a=t!=null?t.dbStats:t)!=null?a.dbSize:a,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+"-->\n\n"+((a=n["if"].call(s,t!=null?t.dbStats:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.program(10,r,0),data:r}))!=null?a:"")+"\n\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<span class="offline-icon '+e.escapeExpression(e.lambda(t,t))+'"></span>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'    <div class="offline-statusbar__icon offline-statusbar__isSyncing">'+o((n.partial||t&&t.partial||s).call(a,"spinner",t,{name:"partial",hash:{},data:r}))+'</div>\n    <div class="offline-statusbar__message offline-statusbar__isSyncing">'+o((n.str||t&&t.str||s).call(a,"LBL_OFFLINE_SYNC_IN_PROGRESS",{name:"str",hash:{},data:r}))+"</div>\n"},3:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'    <div class="offline-statusbar__icon">'+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{
name:"partial",hash:{},data:r}))+'</div>\n    <div class="offline-statusbar__message">\n        '+l((n.str||t&&t.str||o).call(s,(a=t!=null?t.offlineMessage:t)!=null?a.message:a,{name:"str",hash:{},data:r}))+'\n        <span class="offline-statusbar__network">'+l((n.str||t&&t.str||o).call(s,(a=t!=null?t.offlineMessage:t)!=null?a.networkMessage:a,{name:"str",hash:{},data:r}))+"</span>\n    </div>\n"+((a=n["if"].call(s,(a=t!=null?t.offlineMessage:t)!=null?a.lastSyncMessage:a,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))!=null?a:"")},4:function(e,t,n,i,r){var a;return'        <div class="offline-statusbar__timestamp">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},(a=t!=null?t.offlineMessage:t)!=null?a.lastSyncMessage:a,{name:"str",hash:{},data:r}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n["if"].call(t!=null?t:{},(a=t!=null?t.offlineMessage:t)!=null?a.isSyncing:a,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'                    <li><a href="#Offline/offlineSettings" class="offline-list__item fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_OFFLINE_DEBUG_SETTINGS",{name:"str",hash:{},data:r}))+"</a></li>\n"},3:function(e,t,n,i,r){return'                <div class="offline__encryption-message">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_OFFLINE_DATA_ENCRYPTION_ENABLED",{name:"str",hash:{},data:r}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n            <div class="offline-statusbar">\n                '+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusBar:t,t,{name:"partial",hash:{},data:r}))+'\n            </div>\n\n            <ul class="box__offline-list">\n                <li><a href="#Offline/TxLog" class="offline-list__item fast-click-highlighted">'+l((n.str||t&&t.str||o).call(s,"LBL_TX_LOG",{name:"str",hash:{},data:r}))+'</a></li>\n                <li><a href="#Offline/offlineStats" class="offline-list__item fast-click-highlighted">'+l((n.str||t&&t.str||o).call(s,"LBL_RECORDS",{name:"str",hash:{},data:r}))+"</a></li>\n"+((a=n["if"].call(s,t!=null?t._devMode:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"            </ul>\n\n"+((a=n["if"].call(s,t!=null?t.offlineDbEncrypted:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+'\n            <!--\n            <div class="modal-footer">\n                <a href="javascript:void(0)" class="btn btn--primary" id="preload_relationships_button" track="click:preload_rels">'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_PREFETCH_RELATED_ACTION",{name:"str",hash:{},data:r}))+"</a> (experimental)\n            </div>\n            -->\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="pull-to-refresh">\n    <div class="ptr__wrap-spinner">\n        '+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"ptr-spinner",t,{name:"partial",hash:{},data:r}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"disabled"},3:function(e,t,n,i,r){var a;return e.escapeExpression((a=(a=n.googleAnalyticsName||(t!=null?t.googleAnalyticsName:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"googleAnalyticsName",hash:{},data:r}):a))},5:function(e,t,n,i,r){var a;return e.escapeExpression((a=(a=n.name||(t!=null?t.name:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"name",hash:{},data:r}):a))},7:function(e,t,n,i,r){var a;return'style="width:'+e.escapeExpression((a=(a=n.width||(t!=null?t.width:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"width",hash:{},data:r}):a))+'"'},9:function(e,t,n,i,r){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"spinner",t,{name:"partial",hash:{},data:r}))+"\n"},11:function(e,t,n,i,r){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},t!=null?t.iconKey:t,{name:"icon",hash:{},data:r}))+"\n"},13:function(e,t,n,i,r){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.label:t,{name:"str",hash:{},data:r}))+"\n"},15:function(e,t,n,i,r){var a;return"            "+e.escapeExpression((a=(a=n.name||(t!=null?t.name:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"name",hash:{},data:r}):a))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{};return'<a action="'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:r}):s))+'" class="context-menu__item '+((a=n.unless.call(o,t!=null?t.isEnabled:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'" href="javascript:void(0)"\n   track="click:'+((a=n["if"].call(o,t!=null?t.googleAnalyticsName:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.program(5,r,0),data:r}))!=null?a:"")+'"\n   '+((a=n["if"].call(o,t!=null?t.width:t,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))!=null?a:"")+">\n"+((a=n["if"].call(o,t!=null?t.isLoading:t,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.program(11,r,0),data:r}))!=null?a:"")+'    <span class="action-label">\n'+((a=n["if"].call(o,t!=null?t.label:t,{name:"if",hash:{},fn:e.program(13,r,0),inverse:e.program(15,r,0),data:r}))!=null?a:"")+"    </span>\n</a>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"    "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:{},"record-action-button",t,{name:"partial",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a;return(a=n.each.call(t!=null?t:{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:""},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{},u=e.lambda,c=e.escapeExpression,d=n.helperMissing;return'            <li class="related-action__item fast-click-highlighted '+((o=n["if"].call(l,t!=null?t.isEmpty:t,{name:"if",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'">\n                <a href="#'+c(u((o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,t))+"/"+c(u((o=s[1]!=null?s[1].model:s[1])!=null?o.id:o,t))+"/link/"+c(u((o=t!=null?t.context:t)!=null?o.link:o,t))+'" class="related-action-item__link">\n                    '+c((n.moduleIcon||t&&t.moduleIcon||d).call(l,t!=null?t.module:t,{name:"moduleIcon",hash:{},data:r}))+"\n                    "+c((n.str||t&&t.str||d).call(l,t!=null?t.label:t,(o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,{name:"str",hash:{},data:r}))+"\n                    "+((o=n["if"].call(l,t!=null?t.showCount:t,{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n                </a>\n"+((o=n["if"].call(l,t!=null?t.canCreate:t,{name:"if",hash:{},fn:e.program(6,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"            </li>\n"},2:function(e,t,n,i,r){return"related-action__item_empty"},4:function(e,t,n,i,r){var a;return'<span class="records-count">('+e.escapeExpression((a=(a=n.recordsCount||(t!=null?t.recordsCount:t))!=null?a:n.helperMissing,typeof a==="function"?a.call(t!=null?t:{},{name:"recordsCount",hash:{},data:r}):a))+")</span>"},6:function(e,t,n,i,r,a,s){var o,l=e.lambda,u=e.escapeExpression;return'                    <a class="related-action-item__add" href="#'+u(l((o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,t))+"/"+u(l((o=s[1]!=null?s[1].model:s[1])!=null?o.id:o,t))+"/link/"+u(l((o=t!=null?t.context:t)!=null?o.link:o,t))+'/create">\n                        '+u((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},"detail.createRelated",{name:"icon",hash:{},data:r}))+"\n                    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o;return'<div class="listing">\n    <ul class="box__related-actions">\n'+((o=n.each.call(t!=null?t:{},t!=null?t.relatedList:t,{name:"each",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"    </ul>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return"show"},3:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                <li class="menu__item fast-click-highlighted">\n                    <a class="menu-item__link" href="#" action="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+'" track="click:'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:r}):s))+'">\n                        <span class="menu-item__icon">\n'+((a=n["if"].call(o,t!=null?t.iconKey:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.program(6,r,0),data:r}))!=null?a:"")+'                        </span>\n                        <span class="menu-item__label">\n                            '+c((n.str||t&&t.str||l).call(o,t!=null?t.label:t,{name:"str",hash:{},data:r}))+"\n                        </span>\n                    </a>\n                </li>\n"},4:function(e,t,n,i,r){return"                                "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:{},t!=null?t.iconKey:t,{name:"icon",hash:{},data:r}))+"\n"},6:function(e,t,n,i,r){return"                                "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:r}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s=t!=null?t:{};return'<div class="right-menu '+((a=n["if"].call(s,t!=null?t._isShowing:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+'">\n    <div class="right-menu__corner"></div>\n    <div class="box__menu">\n        <ul class="menu__inner">\n'+((a=n.each.call(s,t!=null?t.availableActions:t,{name:"each",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        </ul>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'<form class="view__search" action="">\n    <div class="box__search-query not-empty">\n        '+o((n.icon||t&&t.icon||s).call(a,"header.search",{name:"icon",hash:{additionalClass:"box__search-icon"},data:r}))+"\n        "+o((n.partial||t&&t.partial||s).call(a,"spinner",t,{name:"partial",hash:{},data:r}))+'\n        <input type="search" class="search-query" value="">\n        '+o((n.clearButton||t&&t.clearButton||s).call(a,{name:"clearButton",hash:{iconKey:"header.clear"},data:r}))+'\n    </div>\n    <div class="search__cancel-btn fast-click-highlighted" track="click:searchCancel">\n        '+o((n.str||t&&t.str||s).call(a,"LBL_CANCEL_BUTTON_LABEL",{name:"str",hash:{},data:r}))+"\n    </div>\n</form>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,a,s){var o;return(o=n.each.call(t!=null?t:{},t!=null?t.fields:t,{name:"each",hash:{},fn:e.program(2,r,0,a,s),inverse:e.noop,data:r}))!=null?o:""},2:function(e,t,n,i,r,a,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:{},s[2],{name:"field",hash:{},data:r}))+"\n"},4:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'                <div class="field field--bool">\n                    <label class="field__label" for="offline-toggle">'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_MODE",{name:"str",hash:{},data:r}))+'</label>\n                    <div class="field__controls"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-name","offline-mode",{name:"debugAttributes",hash:{},data:r}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-type","toggle",{name:"debugAttributes",hash:{},data:r}))+'>\n\n                        <label class="checkbox-toggle">\n                            <input type="checkbox" class="checkbox-toggle__checkbox" id="offline-toggle" '+((a=n["if"].call(s,t!=null?t._offlineEnabled:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'>\n                            <span class="checkbox-toggle__slider"></span>\n                        </label>\n                    </div>\n                </div>\n'},5:function(e,t,n,i,r){return" checked"},7:function(e,t,n,i,r){var a,s=t!=null?t:{},o=n.helperMissing,l=e.escapeExpression;return'                <div class="field field--bool">\n                    <label class="field__label" for="touchid-toggle">'+l((n.str||t&&t.str||o).call(s,"LBL_TOUCHID",{name:"str",hash:{},data:r}))+'</label>\n                    <div class="field__controls"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-name","touchid-mode",{name:"debugAttributes",hash:{},data:r}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-type","toggle",{name:"debugAttributes",hash:{},data:r}))+'>\n\n                        <label class="checkbox-toggle">\n                            <input type="checkbox" class="checkbox-toggle__checkbox" id="touchid-toggle" '+((a=n["if"].call(s,t!=null?t._touchIdEnabled:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))!=null?a:"")+'>\n                            <span class="checkbox-toggle__slider"></span>\n                        </label>\n                    </div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,a,s){var o,l=t!=null?t:{};return'<div class="page__settings box__edit">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.blockHelperMissing.call(t,e.lambda((o=t!=null?t.meta:t)!=null?o.panels:o,t),{name:"meta.panels",hash:{},fn:e.program(1,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n            <div class="settings__other-fields"></div>\n\n'+((o=n["if"].call(l,t!=null?t._showOfflineButton:t,{name:"if",hash:{},fn:e.program(4,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+"\n"+((o=n["if"].call(l,t!=null?t._showTouchIdButton:t,{name:"if",hash:{},fn:e.program(7,r,0,a,s),inverse:e.noop,data:r}))!=null?o:"")+'\n            <div class="modal-footer"></div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<textarea class="taggable" placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER",{name:"str",hash:{},data:r}))+'"></textarea>\n<div class="taggable-shadow"></div>\n<ul class="taggable-dropdown hide"></ul>\n'},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var a=t!=null?t:{},s=n.helperMissing,o=e.escapeExpression;return'                <div class="sb__footer">\n                    <span class="sbEnableBtn">\n                        <a href="javascript:void(0)" class="btn btn--primary btn--large fast-click-highlighted">'+o((n.str||t&&t.str||s).call(a,"LBL_ENABLE",{name:"str",hash:{},data:r}))+'</a>\n                    </span>\n                    <span class="sbSkipBtn">\n                        <a href="javascript:void(0)" class="btn btn--secondary btn--large fast-click-highlighted">'+o((n.str||t&&t.str||s).call(a,"LBL_SKIP",{name:"str",hash:{},data:r}))+"</a>\n                    </span>\n                </div>\n"},3:function(e,t,n,i,r){return'                <div class="sb__footer sb__footer--single">\n                    <span class="sbOkBtn">\n                        <a href="javascript:void(0)" class="btn btn--primary btn--large fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},"LBL_OK",{name:"str",hash:{},data:r}))+"</a>\n                    </span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u=e.escapeExpression;return'<div class="box__edit">\n    <div class="setupbuddy__wrapper scroll">\n        <div class="pad">\n            <div class="sb__text__container">\n                <div class="sb__text">\n                    <div class="sb__icon">\n                        <div class="icon-touch-id"/>\n                    </div>\n                    <div class="sb__header">'+u((s=(s=n.sbHeader||(t!=null?t.sbHeader:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"sbHeader",hash:{},data:r}):s))+'</div>\n\n                    <span class="touch-id-enrolled">\n                        <div class="sb__description">'+u((n.nl2br||t&&t.nl2br||l).call(o,t!=null?t.sbDescription:t,{name:"nl2br",hash:{},data:r}))+"</div>\n                    </span>\n                </div>\n            </div>\n"+((a=n["if"].call(o,t!=null?t._isTouchIdEnrolled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))!=null?a:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'            <div class="tutorial-title">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.textTitle:t,{name:"str",hash:{},data:r}))+"</div>\n"},3:function(e,t,n,i,r){return'            <div class="tutorial-additional">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:{},t!=null?t.textAdditional:t,{name:"str",hash:{},data:r}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var a,s,o=t!=null?t:{},l=n.helperMissing,u="function";return'<div class="text-container '+e.escapeExpression((s=(s=n.textFormatClass||(t!=null?t.textFormatClass:t))!=null?s:l,typeof s===u?s.call(o,{name:"textFormatClass",hash:{},data:r}):s))+'">\n    <div class="text">\n'+((a=n["if"].call(o,t!=null?t.textTitle:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))!=null?a:"")+"        "+((a=(s=(s=n.text||(t!=null?t.text:t))!=null?s:l,typeof s===u?s.call(o,{name:"text",hash:{},data:r}):s))!=null?a:"")+"\n"+((a=n["if"].call(o,t!=null?t.textAdditional:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))!=null?a:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function r(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div id="tutorial__view">\n    <svg xlink="http://www.w3.org/1999/xlink" id="tutorial" height="100%" width="100%">\n        <defs>\n            <mask id="marker-glow">\n                <rect x="0" y="0" width="100%" height="100%" fill="white" />\n            </mask>\n            <g id="marker">\n                <circle cx="22" cy="22" r="20" fill="none" stroke="#fff" stroke-width="2px" />\n                <line x1="22" y1="42" x2="22" y2="67" stroke="#fff" stroke-width="1" />\n                <circle cx="22" cy="67" r="2" fill="#fff" />\n            </g>\n            <g id="tutorial-swipe">\n                <circle cx="65" cy="13" r="13" fill="#fff" />\n                <line x1="65" y1="26" x2="65" y2="46" stroke="#fff" stroke-width="2" />\n                <circle cx="65" cy="48" r="2.5" fill="#fff" />\n                <polygon points="0 13,8 8,8 12,49 12,49 14,8 14,8 18" fill="#fff" />\n            </g>\n        </defs>\n        <rect height="100%" width="100%" fill="black" fill-opacity="0.5" stroke="none" mask="url(#marker-glow)" />\n    </svg>\n    <div id="tutorial-content"></div>\n</div>\n'},useData:true})},function(e,t,n){(function i(n,r){if(true)e.exports=r();else if(typeof define==="function"&&define.amd)define([],r);else if(typeof t==="object")t["Handlebars"]=r();else n["Handlebars"]=r()})(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:false};e[i].call(r.exports,r,r.exports,n);r.loaded=true;return r.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(2);var a=i(r);var s=n(24);var o=i(s);var l=n(25);var u=n(30);var c=n(31);var d=i(c);var f=n(28);var h=i(f);var p=n(23);var m=i(p);var _=a["default"].create;function g(){var e=_();e.compile=function(t,n){return u.compile(t,n,e)};e.precompile=function(t,n){return u.precompile(t,n,e)};e.AST=o["default"];e.Compiler=u.Compiler;e.JavaScriptCompiler=d["default"];e.Parser=l.parser;e.parse=l.parse;return e}var v=g();v.create=g;m["default"](v);v.Visitor=h["default"];v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=true},function(e,t,n){"use strict";var i=n(3)["default"];var r=n(1)["default"];t.__esModule=true;var a=n(4);var s=i(a);var o=n(21);var l=r(o);var u=n(6);var c=r(u);var d=n(5);var f=i(d);var h=n(22);var p=i(h);var m=n(23);var _=r(m);function g(){var e=new s.HandlebarsEnvironment;f.extend(e,s);e.SafeString=l["default"];e.Exception=c["default"];e.Utils=f;e.escapeExpression=f.escapeExpression;e.VM=p;e.template=function(t){return p.template(t,e)};return e}var v=g();v.create=g;_["default"](v);v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}};t.__esModule=true},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.HandlebarsEnvironment=m;var r=n(5);var a=n(6);var s=i(a);var o=n(10);var l=n(18);var u=n(20);var c=i(u);var d="4.0.5";t.VERSION=d;var f=7;t.COMPILER_REVISION=f;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var p="[object Object]";function m(e,t,n){this.helpers=e||{};this.partials=t||{};this.decorators=n||{};o.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}m.prototype={constructor:m,logger:c["default"],log:c["default"].log,registerHelper:function g(e,t){if(r.toString.call(e)===p){if(t){throw new s["default"]("Arg not supported with multiple helpers")}r.extend(this.helpers,e)}else{this.helpers[e]=t}},unregisterHelper:function v(e){delete this.helpers[e]},registerPartial:function b(e,t){if(r.toString.call(e)===p){r.extend(this.partials,e)}else{if(typeof t==="undefined"){throw new s["default"]('Attempting to register a partial called "'+e+'" as undefined')}this.partials[e]=t}},unregisterPartial:function y(e){delete this.partials[e]},registerDecorator:function x(e,t){if(r.toString.call(e)===p){if(t){throw new s["default"]("Arg not supported with multiple decorators")}r.extend(this.decorators,e)}else{this.decorators[e]=t}},unregisterDecorator:function S(e){delete this.decorators[e]}};var _=c["default"].log;t.log=_;t.createFrame=r.createFrame;t.logger=c["default"]},function(e,t){"use strict";t.__esModule=true;t.extend=s;t.indexOf=c;t.escapeExpression=d;t.isEmpty=f;t.createFrame=h;t.blockParams=p;t.appendContextPath=m;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var i=/[&<>"'`=]/g,r=/[&<>"'`=]/;function a(e){return n[e]}function s(e){for(var t=1;t<arguments.length;t++){for(var n in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],n)){e[n]=arguments[t][n]}}}return e}var o=Object.prototype.toString;t.toString=o;var l=function _(e){return typeof e==="function"};if(l(/x/)){t.isFunction=l=function(e){return typeof e==="function"&&o.call(e)==="[object Function]"}}t.isFunction=l;var u=Array.isArray||function(e){return e&&typeof e==="object"?o.call(e)==="[object Array]":false};t.isArray=u;function c(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t){return n}}return-1}function d(e){if(typeof e!=="string"){if(e&&e.toHTML){return e.toHTML()}else if(e==null){return""}else if(!e){return e+""}e=""+e}if(!r.test(e)){return e}return e.replace(i,a)}function f(e){if(!e&&e!==0){return true}else if(u(e)&&e.length===0){return true}else{return false}}function h(e){var t=s({},e);t._parent=e;return t}function p(e,t){e.path=t;return e}function m(e,t){return(e?e+".":"")+t}},function(e,t,n){"use strict";var i=n(7)["default"];t.__esModule=true;var r=["description","fileName","lineNumber","message","name","number","stack"];function a(e,t){var n=t&&t.loc,s=undefined,o=undefined;if(n){s=n.start.line;o=n.start.column;e+=" - "+s+":"+o}var l=Error.prototype.constructor.call(this,e);for(var u=0;u<r.length;u++){this[r[u]]=l[r[u]]}if(Error.captureStackTrace){Error.captureStackTrace(this,a)}try{if(n){this.lineNumber=s;if(i){Object.defineProperty(this,"column",{value:o})}else{this.column=o}}}catch(c){}}a.prototype=new Error;t["default"]=a;e.exports=t["default"]},function(e,t,n){e.exports={"default":n(8),__esModule:true}},function(e,t,n){var i=n(9);e.exports=function r(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultHelpers=v;var r=n(11);var a=i(r);var s=n(12);var o=i(s);var l=n(13);var u=i(l);var c=n(14);var d=i(c);var f=n(15);var h=i(f);var p=n(16);var m=i(p);var _=n(17);var g=i(_);function v(e){a["default"](e);o["default"](e);u["default"](e);d["default"](e);h["default"](e);m["default"](e);g["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,a=n.fn;if(t===true){return a(this)}else if(t===false||t==null){return r(this)}else if(i.isArray(t)){if(t.length>0){if(n.ids){n.ids=[n.name]}return e.helpers.each(t,n)}else{return r(this)}}else{if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name);n={data:s}}return a(t,n)}})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(5);var a=n(6);var s=i(a);t["default"]=function(e){e.registerHelper("each",function(e,t){if(!t){throw new s["default"]("Must pass iterator to #each")}var n=t.fn,i=t.inverse,a=0,o="",l=undefined,u=undefined;if(t.data&&t.ids){u=r.appendContextPath(t.data.contextPath,t.ids[0])+"."}if(r.isFunction(e)){e=e.call(this)}if(t.data){l=r.createFrame(t.data)}function c(t,i,a){if(l){l.key=t;l.index=i;l.first=i===0;l.last=!!a;if(u){l.contextPath=u+t}}o=o+n(e[t],{data:l,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(e&&typeof e==="object"){if(r.isArray(e)){for(var d=e.length;a<d;a++){if(a in e){c(a,a,a===e.length-1)}}}else{var f=undefined;for(var h in e){if(e.hasOwnProperty(h)){if(f!==undefined){c(f,a-1)}f=h;a++}}if(f!==undefined){c(f,a-1,true)}}}if(a===0){o=i(this)}return o})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(6);var a=i(r);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new a["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("if",function(e,t){if(i.isFunction(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||i.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("log",function(){var t=[undefined],n=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++){t.push(arguments[i])}var r=1;if(n.hash.level!=null){r=n.hash.level}else if(n.data&&n.data.level!=null){r=n.data.level}t[0]=r;e.log.apply(e,t)})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){if(i.isFunction(e)){e=e.call(this)}var n=t.fn;if(!i.isEmpty(e)){var r=t.data;if(t.data&&t.ids){r=i.createFrame(t.data);r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])}return n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})}else{return t.inverse(this)}})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultDecorators=s;var r=n(19);var a=i(r);function s(e){a["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,r){var a=e;if(!t.partials){t.partials={};a=function(r,a){var s=n.partials;n.partials=i.extend({},s,t.partials);var o=e(r,a);n.partials=s;return o}}t.partials[r.args[0]]=r.fn;return a})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function a(e){if(typeof e==="string"){var t=i.indexOf(r.methodMap,e.toLowerCase());if(t>=0){e=t}else{e=parseInt(e,10)}}return e},log:function s(e){e=r.lookupLevel(e);if(typeof console!=="undefined"&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];if(!console[t]){t="log"}for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++){i[a-1]=arguments[a]}console[t].apply(console,i)}}};t["default"]=r;e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;function n(e){this.string=e}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(3)["default"];var r=n(1)["default"];t.__esModule=true;t.checkRevision=c;t.template=d;t.wrapProgram=f;t.resolvePartial=h;t.invokePartial=p;t.noop=m;var a=n(5);var s=i(a);var o=n(6);var l=r(o);var u=n(4);function c(e){var t=e&&e[0]||1,n=u.COMPILER_REVISION;if(t!==n){if(t<n){var i=u.REVISION_CHANGES[n],r=u.REVISION_CHANGES[t];throw new l["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}else{throw new l["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}}function d(e,t){if(!t){throw new l["default"]("No environment passed to template");

}if(!e||!e.main){throw new l["default"]("Unknown template object: "+typeof e)}e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);function n(n,i,r){if(r.hash){i=s.extend({},i,r.hash);if(r.ids){r.ids[0]=true}}n=t.VM.resolvePartial.call(this,n,i,r);var a=t.VM.invokePartial.call(this,n,i,r);if(a==null&&t.compile){r.partials[r.name]=t.compile(n,e.compilerOptions,t);a=r.partials[r.name](i,r)}if(a!=null){if(r.indent){var o=a.split("\n");for(var u=0,c=o.length;u<c;u++){if(!o[u]&&u+1===c){break}o[u]=r.indent+o[u]}a=o.join("\n")}return a}else{throw new l["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}}var i={strict:function a(e,t){if(!(t in e)){throw new l["default"]('"'+t+'" not defined in '+e)}return e[t]},lookup:function o(e,t){var n=e.length;for(var i=0;i<n;i++){if(e[i]&&e[i][t]!=null){return e[i][t]}}},lambda:function u(e,t){return typeof e==="function"?e.call(t):e},escapeExpression:s.escapeExpression,invokePartial:n,fn:function c(t){var n=e[t];n.decorator=e[t+"_d"];return n},programs:[],program:function d(e,t,n,i,r){var a=this.programs[e],s=this.fn(e);if(t||r||i||n){a=f(this,e,s,t,n,i,r)}else if(!a){a=this.programs[e]=f(this,e,s)}return a},data:function h(e,t){while(e&&t--){e=e._parent}return e},merge:function p(e,t){var n=e||t;if(e&&t&&e!==t){n=s.extend({},t,e)}return n},noop:t.VM.noop,compilerInfo:e.compiler};function r(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var a=n.data;r._setup(n);if(!n.partial&&e.useData){a=_(t,a)}var s=undefined,o=e.useBlockParams?[]:undefined;if(e.useDepths){if(n.depths){s=t!=n.depths[0]?[t].concat(n.depths):n.depths}else{s=[t]}}function l(t){return""+e.main(i,t,i.helpers,i.partials,a,o,s)}l=g(e.main,l,i,n.depths||[],a,o);return l(t,n)}r.isTop=true;r._setup=function(n){if(!n.partial){i.helpers=i.merge(n.helpers,t.helpers);if(e.usePartial){i.partials=i.merge(n.partials,t.partials)}if(e.usePartial||e.useDecorators){i.decorators=i.merge(n.decorators,t.decorators)}}else{i.helpers=n.helpers;i.partials=n.partials;i.decorators=n.decorators}};r._child=function(t,n,r,a){if(e.useBlockParams&&!r){throw new l["default"]("must pass block params")}if(e.useDepths&&!a){throw new l["default"]("must pass parent depths")}return f(i,t,e[t],n,0,r,a)};return r}function f(e,t,n,i,r,a,s){function o(t){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var o=s;if(s&&t!=s[0]){o=[t].concat(s)}return n(e,t,e.helpers,e.partials,r.data||i,a&&[r.blockParams].concat(a),o)}o=g(n,o,e,s,i,a);o.program=t;o.depth=s?s.length:0;o.blockParams=r||0;return o}function h(e,t,n){if(!e){if(n.name==="@partial-block"){var i=n.data;while(i["partial-block"]===m){i=i._parent}e=i["partial-block"];i["partial-block"]=m}else{e=n.partials[n.name]}}else if(!e.call&&!n.name){n.name=e;e=n.partials[e]}return e}function p(e,t,n){n.partial=true;if(n.ids){n.data.contextPath=n.ids[0]||n.data.contextPath}var i=undefined;if(n.fn&&n.fn!==m){n.data=u.createFrame(n.data);i=n.data["partial-block"]=n.fn;if(i.partials){n.partials=s.extend({},n.partials,i.partials)}}if(e===undefined&&i){e=i}if(e===undefined){throw new l["default"]("The partial "+n.name+" could not be found")}else if(e instanceof Function){return e(t,n)}}function m(){return""}function _(e,t){if(!t||!("root"in t)){t=t?u.createFrame(t):{};t.root=e}return t}function g(e,t,n,i,r,a){if(e.decorator){var o={};t=e.decorator(t,o,n,i&&i[0],r,a,i);s.extend(t,o)}return t}},function(e,t){(function(n){"use strict";t.__esModule=true;t["default"]=function(e){var t=typeof n!=="undefined"?n:window,i=t.Handlebars;e.noConflict=function(){if(t.Handlebars===e){t.Handlebars=i}return e}};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=true;var n={helpers:{helperExpression:function i(e){return e.type==="SubExpression"||(e.type==="MustacheStatement"||e.type==="BlockStatement")&&!!(e.params&&e.params.length||e.hash)},scopedId:function r(e){return/^\.|this\b/.test(e.original)},simpleId:function a(e){return e.parts.length===1&&!n.helpers.scopedId(e)&&!e.depth}}};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];var r=n(3)["default"];t.__esModule=true;t.parse=h;var a=n(26);var s=i(a);var o=n(27);var l=i(o);var u=n(29);var c=r(u);var d=n(5);t.parser=s["default"];var f={};d.extend(f,c);function h(e,t){if(e.type==="Program"){return e}s["default"].yy=f;f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var n=new l["default"](t);return n.accept(s["default"].parse(e))}},function(e,t){"use strict";var n=function(){var e={trace:function i(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function r(e,t,n,i,a,s,o){var l=s.length-1;switch(a){case 1:return s[l-1];break;case 2:this.$=i.prepareProgram(s[l]);break;case 3:this.$=s[l];break;case 4:this.$=s[l];break;case 5:this.$=s[l];break;case 6:this.$=s[l];break;case 7:this.$=s[l];break;case 8:this.$=s[l];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(s[l]),strip:i.stripFlags(s[l],s[l]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[l],value:s[l],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(s[l-2],s[l-1],s[l],this._$);break;case 12:this.$={path:s[l-3],params:s[l-2],hash:s[l-1]};break;case 13:this.$=i.prepareBlock(s[l-3],s[l-2],s[l-1],s[l],false,this._$);break;case 14:this.$=i.prepareBlock(s[l-3],s[l-2],s[l-1],s[l],true,this._$);break;case 15:this.$={open:s[l-5],path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:i.stripFlags(s[l-5],s[l])};break;case 16:this.$={path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:i.stripFlags(s[l-5],s[l])};break;case 17:this.$={path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:i.stripFlags(s[l-5],s[l])};break;case 18:this.$={strip:i.stripFlags(s[l-1],s[l-1]),program:s[l]};break;case 19:var u=i.prepareBlock(s[l-2],s[l-1],s[l],s[l],false,this._$),c=i.prepareProgram([u],s[l-1].loc);c.chained=true;this.$={strip:s[l-2].strip,program:c,chain:true};break;case 20:this.$=s[l];break;case 21:this.$={path:s[l-1],strip:i.stripFlags(s[l-2],s[l])};break;case 22:this.$=i.prepareMustache(s[l-3],s[l-2],s[l-1],s[l-4],i.stripFlags(s[l-4],s[l]),this._$);break;case 23:this.$=i.prepareMustache(s[l-3],s[l-2],s[l-1],s[l-4],i.stripFlags(s[l-4],s[l]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[l-3],params:s[l-2],hash:s[l-1],indent:"",strip:i.stripFlags(s[l-4],s[l]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(s[l-2],s[l-1],s[l],this._$);break;case 26:this.$={path:s[l-3],params:s[l-2],hash:s[l-1],strip:i.stripFlags(s[l-4],s[l])};break;case 27:this.$=s[l];break;case 28:this.$=s[l];break;case 29:this.$={type:"SubExpression",path:s[l-3],params:s[l-2],hash:s[l-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[l],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(s[l-2]),value:s[l],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(s[l-1]);break;case 33:this.$=s[l];break;case 34:this.$=s[l];break;case 35:this.$={type:"StringLiteral",value:s[l],original:s[l],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[l]),original:Number(s[l]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:s[l]==="true",original:s[l]==="true",loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:this.$=s[l];break;case 41:this.$=s[l];break;case 42:this.$=i.preparePath(true,s[l],this._$);break;case 43:this.$=i.preparePath(false,s[l],this._$);break;case 44:s[l-2].push({part:i.id(s[l]),original:s[l],separator:s[l-1]});this.$=s[l-2];break;case 45:this.$=[{part:i.id(s[l]),original:s[l]}];break;case 46:this.$=[];break;case 47:s[l-1].push(s[l]);break;case 48:this.$=[s[l]];break;case 49:s[l-1].push(s[l]);break;case 50:this.$=[];break;case 51:s[l-1].push(s[l]);break;case 58:this.$=[];break;case 59:s[l-1].push(s[l]);break;case 64:this.$=[];break;case 65:s[l-1].push(s[l]);break;case 70:this.$=[];break;case 71:s[l-1].push(s[l]);break;case 78:this.$=[];break;case 79:s[l-1].push(s[l]);break;case 82:this.$=[];break;case 83:s[l-1].push(s[l]);break;case 86:this.$=[];break;case 87:s[l-1].push(s[l]);break;case 90:this.$=[];break;case 91:s[l-1].push(s[l]);break;case 94:this.$=[];break;case 95:s[l-1].push(s[l]);break;case 98:this.$=[s[l]];break;case 99:s[l-1].push(s[l]);break;case 100:this.$=[s[l]];break;case 101:s[l-1].push(s[l]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function a(e,t){throw new Error(e)},parse:function s(e){var t=this,n=[0],i=[null],r=[],a=this.table,s="",o=0,l=0,u=0,c=2,d=1;this.lexer.setInput(e);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var f=this.lexer.yylloc;r.push(f);var h=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function p(e){n.length=n.length-2*e;i.length=i.length-e;r.length=r.length-e}function m(){var e;e=t.lexer.lex()||1;if(typeof e!=="number"){e=t.symbols_[e]||e}return e}var _,g,v,b,y,x,S={},w,L,E,k;while(true){v=n[n.length-1];if(this.defaultActions[v]){b=this.defaultActions[v]}else{if(_===null||typeof _=="undefined"){_=m()}b=a[v]&&a[v][_]}if(typeof b==="undefined"||!b.length||!b[0]){var A="";if(!u){k=[];for(w in a[v])if(this.terminals_[w]&&w>2){k.push("'"+this.terminals_[w]+"'")}if(this.lexer.showPosition){A="Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[_]||_)+"'"}else{A="Parse error on line "+(o+1)+": Unexpected "+(_==1?"end of input":"'"+(this.terminals_[_]||_)+"'")}this.parseError(A,{text:this.lexer.match,token:this.terminals_[_]||_,line:this.lexer.yylineno,loc:f,expected:k})}}if(b[0]instanceof Array&&b.length>1){throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+_)}switch(b[0]){case 1:n.push(_);i.push(this.lexer.yytext);r.push(this.lexer.yylloc);n.push(b[1]);_=null;if(!g){l=this.lexer.yyleng;s=this.lexer.yytext;o=this.lexer.yylineno;f=this.lexer.yylloc;if(u>0)u--}else{_=g;g=null}break;case 2:L=this.productions_[b[1]][1];S.$=i[i.length-L];S._$={first_line:r[r.length-(L||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(L||1)].first_column,last_column:r[r.length-1].last_column};if(h){S._$.range=[r[r.length-(L||1)].range[0],r[r.length-1].range[1]]}x=this.performAction.call(S,s,l,o,this.yy,b[1],i,r);if(typeof x!=="undefined"){return x}if(L){n=n.slice(0,-1*L*2);i=i.slice(0,-1*L);r=r.slice(0,-1*L)}n.push(this.productions_[b[1]][0]);i.push(S.$);r.push(S._$);E=a[n[n.length-2]][n[n.length-1]];n.push(E);break;case 3:return true}}return true}};var t=function(){var e={EOF:1,parseError:function t(e,n){if(this.yy.parser){this.yy.parser.parseError(e,n)}else{throw new Error(e)}},setInput:function n(e){this._input=e;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function i(){var e=this._input[0];this.yytext+=e;this.yyleng++;this.offset++;this.match+=e;this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);if(t){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return e},unput:function r(e){var t=e.length;var n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-t-1);this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(n.length-1)this.yylineno-=n.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-t]}return this},more:function a(){this._more=true;return this},less:function s(e){this.unput(this.match.slice(e))},pastInput:function o(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function l(){var e=this.match;if(e.length<20){e+=this._input.substr(0,20-e.length)}return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function u(){var e=this.pastInput();var t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function c(){if(this.done){return this.EOF}if(!this._input)this.done=true;var e,t,n,i,r,a;if(!this._more){this.yytext="";this.match=""}var s=this._currentRules();for(var o=0;o<s.length;o++){n=this._input.match(this.rules[s[o]]);if(n&&(!t||n[0].length>t[0].length)){t=n;i=o;if(!this.options.flex)break}}if(t){a=t[0].match(/(?:\r\n?|\n).*/g);if(a)this.yylineno+=a.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length};this.yytext+=t[0];this.match+=t[0];this.matches=t;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(t[0].length);this.matched+=t[0];e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(e)return e;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function d(){var e=this.next();if(typeof e!=="undefined"){return e}else{return this.lex()}},begin:function f(e){this.conditionStack.push(e)},popState:function h(){return this.conditionStack.pop()},_currentRules:function p(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function m(){return this.conditionStack[this.conditionStack.length-2]},pushState:function _(e){this.begin(e)}};e.options={};e.performAction=function g(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}var a=i;switch(n){case 0:if(t.yytext.slice(-2)==="\\\\"){r(0,1);this.begin("mu")}else if(t.yytext.slice(-1)==="\\"){r(0,1);this.begin("emu")}else{this.begin("mu")}if(t.yytext)return 15;break;case 1:return 15;break;case 2:this.popState();return 15;break;case 3:this.begin("raw");return 15;break;case 4:this.popState();if(this.conditionStack[this.conditionStack.length-1]==="raw"){return 15}else{t.yytext=t.yytext.substr(5,t.yyleng-9);return"END_RAW_BLOCK"}break;case 5:return 15;break;case 6:this.popState();return 14;break;case 7:return 65;break;case 8:return 68;break;case 9:return 19;break;case 10:this.popState();this.begin("raw");return 23;break;case 11:return 55;break;case 12:return 60;break;case 13:return 29;break;case 14:return 47;break;case 15:this.popState();return 44;break;case 16:this.popState();return 44;break;case 17:return 34;break;case 18:return 39;break;case 19:return 51;break;case 20:return 48;break;case 21:this.unput(t.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;break;case 23:return 48;break;case 24:return 73;break;case 25:return 72;break;case 26:return 72;break;case 27:return 87;break;case 28:break;case 29:this.popState();return 54;break;case 30:this.popState();return 33;break;case 31:t.yytext=r(1,2).replace(/\\"/g,'"');return 80;break;case 32:t.yytext=r(1,2).replace(/\\'/g,"'");return 80;break;case 33:return 85;break;case 34:return 82;break;case 35:return 82;break;case 36:return 83;break;case 37:return 84;break;case 38:return 81;break;case 39:return 75;break;case 40:return 77;break;case 41:return 72;break;case 42:t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1");return 72;break;case 43:return"INVALID";break;case 44:return 5;break}};e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return e}();e.lexer=t;function n(){this.yy={}}n.prototype=e;e.Parser=n;return new n}();t.__esModule=true;t["default"]=n},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(28);var a=i(r);function s(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];

this.options=e}s.prototype=new a["default"];s.prototype.Program=function(e){var t=!this.options.ignoreStandalone;var n=!this.isRootSeen;this.isRootSeen=true;var i=e.body;for(var r=0,a=i.length;r<a;r++){var s=i[r],d=this.accept(s);if(!d){continue}var f=o(i,r,n),h=l(i,r,n),p=d.openStandalone&&f,m=d.closeStandalone&&h,_=d.inlineStandalone&&f&&h;if(d.close){u(i,r,true)}if(d.open){c(i,r,true)}if(t&&_){u(i,r);if(c(i,r)){if(s.type==="PartialStatement"){s.indent=/([ \t]+$)/.exec(i[r-1].original)[1]}}}if(t&&p){u((s.program||s.inverse).body);c(i,r)}if(t&&m){u(i,r);c((s.inverse||s.program).body)}}return e};s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(e){this.accept(e.program);this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,r=n;if(n&&n.chained){i=n.body[0].program;while(r.chained){r=r.body[r.body.length-1].program}}var a={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:o((i||t).body)};if(e.openStrip.close){u(t.body,null,true)}if(n){var s=e.inverseStrip;if(s.open){c(t.body,null,true)}if(s.close){u(i.body,null,true)}if(e.closeStrip.open){c(r.body,null,true)}if(!this.options.ignoreStandalone&&o(t.body)&&l(i.body)){c(t.body);u(i.body)}}else if(e.closeStrip.open){c(t.body,null,true)}return a};s.prototype.Decorator=s.prototype.MustacheStatement=function(e){return e.strip};s.prototype.PartialStatement=s.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:true,open:t.open,close:t.close}};function o(e,t,n){if(t===undefined){t=e.length}var i=e[t-1],r=e[t-2];if(!i){return n}if(i.type==="ContentStatement"){return(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original)}}function l(e,t,n){if(t===undefined){t=-1}var i=e[t+1],r=e[t+2];if(!i){return n}if(i.type==="ContentStatement"){return(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original)}}function u(e,t,n){var i=e[t==null?0:t+1];if(!i||i.type!=="ContentStatement"||!n&&i.rightStripped){return}var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,"");i.rightStripped=i.value!==r}function c(e,t,n){var i=e[t==null?e.length-1:t-1];if(!i||i.type!=="ContentStatement"||!n&&i.leftStripped){return}var r=i.value;i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,"");i.leftStripped=i.value!==r;return i.leftStripped}t["default"]=s;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(6);var a=i(r);function s(){this.parents=[]}s.prototype={constructor:s,mutating:false,acceptKey:function c(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!s.prototype[n.type]){throw new a["default"]('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type)}e[t]=n}},acceptRequired:function d(e,t){this.acceptKey(e,t);if(!e[t]){throw new a["default"](e.type+" requires "+t)}},acceptArray:function f(e){for(var t=0,n=e.length;t<n;t++){this.acceptKey(e,t);if(!e[t]){e.splice(t,1);t--;n--}}},accept:function h(e){if(!e){return}if(!this[e.type]){throw new a["default"]("Unknown type: "+e.type,e)}if(this.current){this.parents.unshift(this.current)}this.current=e;var t=this[e.type](e);this.current=this.parents.shift();if(!this.mutating||t){return t}else if(t!==false){return e}},Program:function p(e){this.acceptArray(e.body)},MustacheStatement:o,Decorator:o,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:function m(e){u.call(this,e);this.acceptKey(e,"program")},ContentStatement:function _(){},CommentStatement:function g(){},SubExpression:o,PathExpression:function v(){},StringLiteral:function b(){},NumberLiteral:function y(){},BooleanLiteral:function x(){},UndefinedLiteral:function S(){},NullLiteral:function w(){},Hash:function L(e){this.acceptArray(e.pairs)},HashPair:function E(e){this.acceptRequired(e,"value")}};function o(e){this.acceptRequired(e,"path");this.acceptArray(e.params);this.acceptKey(e,"hash")}function l(e){o.call(this,e);this.acceptKey(e,"program");this.acceptKey(e,"inverse")}function u(e){this.acceptRequired(e,"name");this.acceptArray(e.params);this.acceptKey(e,"hash")}t["default"]=s;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.SourceLocation=o;t.id=l;t.stripFlags=u;t.stripComment=c;t.preparePath=d;t.prepareMustache=f;t.prepareRawBlock=h;t.prepareBlock=p;t.prepareProgram=m;t.preparePartialBlock=_;var r=n(6);var a=i(r);function s(e,t){t=t.path?t.path.original:t;if(e.path.original!==t){var n={loc:e.path.loc};throw new a["default"](e.path.original+" doesn't match "+t,n)}}function o(e,t){this.source=e;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function l(e){if(/^\[.*\]$/.test(e)){return e.substr(1,e.length-2)}else{return e}}function u(e,t){return{open:e.charAt(2)==="~",close:t.charAt(t.length-3)==="~"}}function c(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function d(e,t,n){n=this.locInfo(n);var i=e?"@":"",r=[],s=0,o="";for(var l=0,u=t.length;l<u;l++){var c=t[l].part,d=t[l].original!==c;i+=(t[l].separator||"")+c;if(!d&&(c===".."||c==="."||c==="this")){if(r.length>0){throw new a["default"]("Invalid path: "+i,{loc:n})}else if(c===".."){s++;o+="../"}}else{r.push(c)}}return{type:"PathExpression",data:e,depth:s,parts:r,original:i,loc:n}}function f(e,t,n,i,r,a){var s=i.charAt(3)||i.charAt(2),o=s!=="{"&&s!=="&";var l=/\*/.test(i);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:o,strip:r,loc:this.locInfo(a)}}function h(e,t,n,i){s(e,n);i=this.locInfo(i);var r={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function p(e,t,n,i,r,o){if(i&&i.path){s(e,i)}var l=/\*/.test(e.open);t.blockParams=e.blockParams;var u=undefined,c=undefined;if(n){if(l){throw new a["default"]("Unexpected inverse block on decorator",n)}if(n.chain){n.program.body[0].closeStrip=i.strip}c=n.strip;u=n.program}if(r){r=u;u=t;t=r}return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:u,openStrip:e.strip,inverseStrip:c,closeStrip:i&&i.strip,loc:this.locInfo(o)}}function m(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;if(n&&i){t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}}}}return{type:"Program",body:e,strip:{},loc:t}}function _(e,t,n,i){s(e,n);return{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.Compiler=c;t.precompile=d;t.compile=f;var r=n(6);var a=i(r);var s=n(5);var o=n(24);var l=i(o);var u=[].slice;function c(){}c.prototype={compiler:c,equals:function m(e){var t=this.opcodes.length;if(e.opcodes.length!==t){return false}for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!h(i.args,r.args)){return false}}t=this.children.length;for(var n=0;n<t;n++){if(!this.children[n].equals(e.children[n])){return false}}return true},guid:0,compile:function _(e,t){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=t;this.stringParams=t.stringParams;this.trackIds=t.trackIds;t.blockParams=t.blockParams||[];var n=t.knownHelpers;t.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true,lookup:true};if(n){for(var i in n){if(i in n){t.knownHelpers[i]=n[i]}}}return this.accept(e)},compileProgram:function g(e){var t=new this.compiler,n=t.compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial;this.children[i]=n;this.useDepths=this.useDepths||n.useDepths;return i},accept:function v(e){if(!this[e.type]){throw new a["default"]("Unknown type: "+e.type,e)}this.sourceNode.unshift(e);var t=this[e.type](e);this.sourceNode.shift();return t},Program:function b(e){this.options.blockParams.unshift(e.blockParams);var t=e.body,n=t.length;for(var i=0;i<n;i++){this.accept(t[i])}this.options.blockParams.shift();this.isSimple=n===1;this.blockParams=e.blockParams?e.blockParams.length:0;return this},BlockStatement:function y(e){p(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t);n=n&&this.compileProgram(n);var i=this.classifySexpr(e);if(i==="helper"){this.helperSexpr(e,t,n)}else if(i==="simple"){this.simpleSexpr(e);this.opcode("pushProgram",t);this.opcode("pushProgram",n);this.opcode("emptyHash");this.opcode("blockValue",e.path.original)}else{this.ambiguousSexpr(e,t,n);this.opcode("pushProgram",t);this.opcode("pushProgram",n);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function x(e){var t=e.program&&this.compileProgram(e.program);var n=this.setupFullMustacheParams(e,t,undefined),i=e.path;this.useDecorators=true;this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function S(e){this.usePartial=true;var t=e.program;if(t){t=this.compileProgram(e.program)}var n=e.params;if(n.length>1){throw new a["default"]("Unsupported number of partial arguments: "+n.length,e)}else if(!n.length){if(this.options.explicitPartialContext){this.opcode("pushLiteral","undefined")}else{n.push({type:"PathExpression",parts:[],depth:0})}}var i=e.name.original,r=e.name.type==="SubExpression";if(r){this.accept(e.name)}this.setupFullMustacheParams(e,t,undefined,true);var s=e.indent||"";if(this.options.preventIndent&&s){this.opcode("appendContent",s);s=""}this.opcode("invokePartial",r,i,s);this.opcode("append")},PartialBlockStatement:function w(e){this.PartialStatement(e)},MustacheStatement:function L(e){this.SubExpression(e);if(e.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},Decorator:function E(e){this.DecoratorBlock(e)},ContentStatement:function k(e){if(e.value){this.opcode("appendContent",e.value)}},CommentStatement:function A(){},SubExpression:function M(e){p(e);var t=this.classifySexpr(e);if(t==="simple"){this.simpleSexpr(e)}else if(t==="helper"){this.helperSexpr(e)}else{this.ambiguousSexpr(e)}},ambiguousSexpr:function T(e,t,n){var i=e.path,r=i.parts[0],a=t!=null||n!=null;this.opcode("getContext",i.depth);this.opcode("pushProgram",t);this.opcode("pushProgram",n);i.strict=true;this.accept(i);this.opcode("invokeAmbiguous",r,a)},simpleSexpr:function C(e){var t=e.path;t.strict=true;this.accept(t);this.opcode("resolvePossibleLambda")},helperSexpr:function R(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,s=r.parts[0];if(this.options.knownHelpers[s]){this.opcode("invokeKnownHelper",i.length,s)}else if(this.options.knownHelpersOnly){throw new a["default"]("You specified knownHelpersOnly, but used the unknown helper "+s,e)}else{r.strict=true;r.falsy=true;this.accept(r);this.opcode("invokeHelper",i.length,r.original,l["default"].helpers.simpleId(r))}},PathExpression:function D(e){this.addDepth(e.depth);this.opcode("getContext",e.depth);var t=e.parts[0],n=l["default"].helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);if(i){this.opcode("lookupBlockParam",i,e.parts)}else if(!t){this.opcode("pushContext")}else if(e.data){this.options.data=true;this.opcode("lookupData",e.depth,e.parts,e.strict)}else{this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n)}},StringLiteral:function I(e){this.opcode("pushString",e.value)},NumberLiteral:function O(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function N(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function F(){this.opcode("pushLiteral","undefined")},NullLiteral:function B(){this.opcode("pushLiteral","null")},Hash:function U(e){var t=e.pairs,n=0,i=t.length;this.opcode("pushHash");for(;n<i;n++){this.pushParam(t[n].value)}while(n--){this.opcode("assignToHash",t[n].key)}this.opcode("popHash")},opcode:function P(e){this.opcodes.push({opcode:e,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function Y(e){if(!e){return}this.useDepths=true},classifySexpr:function H(e){var t=l["default"].helpers.simpleId(e.path);var n=t&&!!this.blockParamIndex(e.path.parts[0]);var i=!n&&l["default"].helpers.helperExpression(e);var r=!n&&(i||t);if(r&&!i){var a=e.path.parts[0],s=this.options;if(s.knownHelpers[a]){i=true}else if(s.knownHelpersOnly){r=false}}if(i){return"helper"}else if(r){return"ambiguous"}else{return"simple"}},pushParams:function G(e){for(var t=0,n=e.length;t<n;t++){this.pushParam(e[t])}},pushParam:function V(e){var t=e.value!=null?e.value:e.original||"";if(this.stringParams){if(t.replace){t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")}if(e.depth){this.addDepth(e.depth)}this.opcode("getContext",e.depth||0);this.opcode("pushStringParam",t,e.type);if(e.type==="SubExpression"){this.accept(e)}}else{if(this.trackIds){var n=undefined;if(e.parts&&!l["default"].helpers.scopedId(e)&&!e.depth){n=this.blockParamIndex(e.parts[0])}if(n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else{t=e.original||t;if(t.replace){t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")}this.opcode("pushId",e.type,t)}}this.accept(e)}},setupFullMustacheParams:function j(e,t,n,i){var r=e.params;this.pushParams(r);this.opcode("pushProgram",t);this.opcode("pushProgram",n);if(e.hash){this.accept(e.hash)}else{this.opcode("emptyHash",i)}return r},blockParamIndex:function z(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&s.indexOf(i,e);if(i&&r>=0){return[t,r]}}}};function d(e,t,n){if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new a["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e)}t=t||{};if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function f(e,t,n){if(t===undefined)t={};if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new a["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e)}if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=undefined;function r(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),a=(new n.JavaScriptCompiler).compile(r,t,undefined,true);return n.template(a)}function s(e,t){if(!i){i=r()}return i.call(this,e,t)}s._setup=function(e){if(!i){i=r()}return i._setup(e)};s._child=function(e,t,n,a){if(!i){i=r()}return i._child(e,t,n,a)};return s}function h(e,t){if(e===t){return true}if(s.isArray(e)&&s.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++){if(!h(e[n],t[n])){return false}}return true}}function p(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:false,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(4);var a=n(6);var s=i(a);var o=n(5);var l=n(32);var u=i(l);function c(e){this.value=e}function d(){}d.prototype={nameLookup:function h(e,t){if(d.isValidJavaScriptVariableName(t)){return[e,".",t]}else{return[e,"[",JSON.stringify(t),"]"]}},depthedLookup:function p(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function m(){var e=r.COMPILER_REVISION,t=r.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function _(e,t,n){if(!o.isArray(e)){e=[e]}e=this.source.wrap(e,t);if(this.environment.isSimple){return["return ",e,";"]}else if(n){return["buffer += ",e,";"]}else{e.appendToBuffer=true;return e}},initializeBuffer:function g(){return this.quotedString("")},compile:function v(e,t,n,i){this.environment=e;this.options=t;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!i;this.name=this.environment.name;this.isChild=!!n;this.context=n||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(e,t);this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,a=undefined,o=undefined,l=undefined,u=undefined;for(l=0,u=r.length;l<u;l++){a=r[l];this.source.currentLocation=a.loc;o=o||a.loc;this[a.opcode].apply(this,a.args)}this.source.currentLocation=o;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new s["default"]("Compile completed with content left on stack")}if(!this.decorators.isEmpty()){this.useDecorators=true;this.decorators.prepend("var decorators = container.decorators;\n");this.decorators.push("return fn;");if(i){this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()])}else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}else{this.decorators=undefined}var c=this.createFunctionContext(i);if(!this.isChild){var d={compiler:this.compilerInfo(),main:c};if(this.decorators){d.main_d=this.decorators;d.useDecorators=true}var f=this.context;var h=f.programs;var p=f.decorators;for(l=0,u=h.length;l<u;l++){if(h[l]){d[l]=h[l];if(p[l]){d[l+"_d"]=p[l];d.useDecorators=true}}}if(this.environment.usePartial){d.usePartial=true}if(this.options.data){d.useData=true}if(this.useDepths){d.useDepths=true}if(this.useBlockParams){d.useBlockParams=true}if(this.options.compat){d.compat=true}if(!i){d.compiler=JSON.stringify(d.compiler);this.source.currentLocation={start:{line:1,column:0}};d=this.objectLiteral(d);if(t.srcName){d=d.toStringWithSourceMap({file:t.destName});d.map=d.map&&d.map.toString()}else{d=d.toString()}}else{d.compilerOptions=this.options}return d}else{return c}},preamble:function b(){this.lastContext=0;this.source=new u["default"](this.options.srcName);this.decorators=new u["default"](this.options.srcName)},createFunctionContext:function y(e){var t="";var n=this.stackVars.concat(this.registers.list);if(n.length>0){t+=", "+n.join(", ")}var i=0;for(var r in this.aliases){var a=this.aliases[r];if(this.aliases.hasOwnProperty(r)&&a.children&&a.referenceCount>1){t+=", alias"+ ++i+"="+r;a.children[0]="alias"+i}}var s=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths){s.push("blockParams")}if(this.useDepths){s.push("depths")}var o=this.mergeSource(t);if(e){s.push(o);return Function.apply(this,s)}else{return this.source.wrap(["function(",s.join(","),") {\n  ",o,"}"])}},mergeSource:function x(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=undefined,r=undefined,a=undefined,s=undefined;this.source.each(function(e){if(e.appendToBuffer){if(a){e.prepend("  + ")}else{a=e}s=e}else{if(a){if(!r){i=true}else{a.prepend("buffer += ")}s.add(";");a=s=undefined}r=true;if(!t){n=false}}});if(n){if(a){a.prepend("return ");s.add(";")}else if(!r){this.source.push('return "";')}}else{e+=", buffer = "+(i?"":this.initializeBuffer());if(a){a.prepend("return buffer + ");s.add(";")}else{this.source.push("return buffer;")}}if(e){this.source.prepend("var "+e.substring(2)+(i?"":";\n"))}return this.source.merge()},blockValue:function S(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i);this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function w(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,true);this.flushInline();var n=this.topStack();t.splice(1,0,n);this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function L(e){if(this.pendingContent){e=this.pendingContent+e}else{this.pendingLocation=this.source.currentLocation}this.pendingContent=e},append:function E(){if(this.isInline()){this.replaceStack(function(e){return[" != null ? ",e,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,undefined,true)," }"]);if(this.environment.isSimple){this.pushSource(["else { ",this.appendToBuffer("''",undefined,true)," }"])}}},appendEscaped:function k(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function A(e){this.lastContext=e},pushContext:function M(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function T(e,t,n,i){var r=0;if(!i&&this.options.compat&&!this.lastContext){this.push(this.depthedLookup(e[r++]))}else{this.pushContext()}this.resolvePath("context",e,r,t,n)},lookupBlockParam:function C(e,t){this.useBlockParams=true;this.push(["blockParams[",e[0],"][",e[1],"]"]);this.resolvePath("context",t,1)},lookupData:function R(e,t,n){if(!e){this.pushStackLiteral("data")}else{this.pushStackLiteral("container.data(data, "+e+")")}this.resolvePath("data",t,0,true,n)},resolvePath:function D(e,t,n,i,r){var a=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&r,this,t,e));return}var s=t.length;for(;n<s;n++){this.replaceStack(function(r){var s=a.nameLookup(r,t[n],e);if(!i){return[" != null ? ",s," : ",r]}else{return[" && ",s]}})}},resolvePossibleLambda:function I(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function O(e,t){this.pushContext();this.pushString(t);if(t!=="SubExpression"){if(typeof e==="string"){this.pushString(e)}else{this.pushStackLiteral(e)}}},emptyHash:function N(e){if(this.trackIds){this.push("{}")}if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(e?"undefined":"{}")},pushHash:function F(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function B(){var e=this.hash;this.hash=this.hashes.pop();if(this.trackIds){this.push(this.objectLiteral(e.ids))}if(this.stringParams){this.push(this.objectLiteral(e.contexts));this.push(this.objectLiteral(e.types))}this.push(this.objectLiteral(e.values))},pushString:function U(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function P(e){this.pushStackLiteral(e)},pushProgram:function Y(e){if(e!=null){this.pushStackLiteral(this.programExpression(e))}else{this.pushStackLiteral(null)}},registerDecorator:function H(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function G(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),a=n?[r.name," || "]:"";var s=["("].concat(a,i);if(!this.options.strict){s.push(" || ",this.aliasable("helpers.helperMissing"))}s.push(")");this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function V(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function j(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t);var r=this.lastHelper=this.nameLookup("helpers",e,"helper");var a=["(","(helper = ",r," || ",n,")"];if(!this.options.strict){a[0]="(helper = ";a.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",a,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function z(e,t,n){var i=[],r=this.setupParams(t,1,i);if(e){t=this.popStack();delete r.name}if(n){r.indent=JSON.stringify(n)}r.helpers="helpers";r.partials="partials";r.decorators="container.decorators";if(!e){i.unshift(this.nameLookup("partials",t,"partial"))}else{i.unshift(t)}if(this.options.compat){r.depths="depths"}r=this.objectLiteral(r);i.push(r);this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function $(e){var t=this.popStack(),n=undefined,i=undefined,r=undefined;if(this.trackIds){r=this.popStack()}if(this.stringParams){i=this.popStack();n=this.popStack()}var a=this.hash;if(n){a.contexts[e]=n}if(i){a.types[e]=i}if(r){a.ids[e]=r}a.values[e]=t},pushId:function q(e,t,n){if(e==="BlockParam"){this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):""))}else if(e==="PathExpression"){this.pushString(t)}else if(e==="SubExpression"){this.pushStackLiteral("true")}else{this.pushStackLiteral("null")}},compiler:d,compileChildren:function W(e,t){var n=e.children,i=undefined,r=undefined;for(var a=0,s=n.length;a<s;a++){i=n[a];r=new this.compiler;var o=this.matchExistingProgram(i);if(o==null){this.context.programs.push("");var l=this.context.programs.length;i.index=l;i.name="program"+l;this.context.programs[l]=r.compile(i,t,this.context,!this.precompile);this.context.decorators[l]=r.decorators;this.context.environments[l]=i;this.useDepths=this.useDepths||r.useDepths;this.useBlockParams=this.useBlockParams||r.useBlockParams;i.useDepths=this.useDepths;i.useBlockParams=this.useBlockParams}else{i.index=o.index;i.name="program"+o.index;this.useDepths=this.useDepths||o.useDepths;this.useBlockParams=this.useBlockParams||o.useBlockParams}}},matchExistingProgram:function K(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e)){return i}}},programExpression:function J(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];if(this.useBlockParams||this.useDepths){n.push("blockParams")}if(this.useDepths){n.push("depths")}return"container.program("+n.join(", ")+")"},useRegister:function X(e){if(!this.registers[e]){this.registers[e]=true;this.registers.list.push(e)}},push:function Z(e){if(!(e instanceof c)){e=this.source.wrap(e)}this.inlineStack.push(e);return e},pushStackLiteral:function Q(e){this.push(new c(e))},pushSource:function ee(e){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=undefined}if(e){this.source.push(e)}},replaceStack:function te(e){var t=["("],n=undefined,i=undefined,r=undefined;if(!this.isInline()){throw new s["default"]("replaceStack on non-inline")}var a=this.popStack(true);if(a instanceof c){n=[a.value];t=["(",n];r=true}else{i=true;var o=this.incrStack();t=["((",this.push(o)," = ",a,")"];n=this.topStack()}var l=e.call(this,n);if(!r){this.popStack()}if(i){this.stackSlot--}this.push(t.concat(l,")"))},incrStack:function ne(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function ie(){return"stack"+this.stackSlot},flushInline:function re(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i instanceof c){this.compileStack.push(i)}else{var r=this.incrStack();this.pushSource([r," = ",i,";"]);this.compileStack.push(r)}}},isInline:function ae(){return this.inlineStack.length},popStack:function se(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof c){return n.value}else{if(!t){if(!this.stackSlot){throw new s["default"]("Invalid stack pop")}this.stackSlot--}return n}},topStack:function oe(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];if(t instanceof c){return t.value}else{return t}},contextName:function le(e){if(this.useDepths&&e){return"depths["+e+"]"}else{return"depth"+e}},quotedString:function ue(e){return this.source.quotedString(e)},objectLiteral:function ce(e){return this.source.objectLiteral(e)},aliasable:function de(e){var t=this.aliases[e];if(t){t.referenceCount++;return t}t=this.aliases[e]=this.source.wrap(e);t.aliasable=true;t.referenceCount=1;return t},setupHelper:function fe(e,t,n){var i=[],r=this.setupHelperArgs(t,e,i,n);var a=this.nameLookup("helpers",t,"helper"),s=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:i,paramsInit:r,name:a,callParams:[s].concat(i)}},setupParams:function he(e,t,n){var i={},r=[],a=[],s=[],o=!n,l=undefined;if(o){n=[]}i.name=this.quotedString(e);i.hash=this.popStack();if(this.trackIds){i.hashIds=this.popStack()}if(this.stringParams){i.hashTypes=this.popStack();i.hashContexts=this.popStack()}var u=this.popStack(),c=this.popStack();if(c||u){i.fn=c||"container.noop";i.inverse=u||"container.noop"}var d=t;while(d--){l=this.popStack();n[d]=l;if(this.trackIds){s[d]=this.popStack()}if(this.stringParams){a[d]=this.popStack();r[d]=this.popStack()}}if(o){i.args=this.source.generateArray(n)}if(this.trackIds){i.ids=this.source.generateArray(s)}if(this.stringParams){i.types=this.source.generateArray(a);i.contexts=this.source.generateArray(r)}if(this.options.data){i.data="data"}if(this.useBlockParams){i.blockParams="blockParams"}return i},setupHelperArgs:function pe(e,t,n,i){var r=this.setupParams(e,t,n);r=this.objectLiteral(r);if(i){this.useRegister("options");n.push("options");return["options=",r]}else if(n){n.push(r);return""}else{return r}}};(function(){var e=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield await"+" null true false").split(" ");var t=d.RESERVED_WORDS={};for(var n=0,i=e.length;n<i;n++){t[e[n]]=true}})();d.isValidJavaScriptVariableName=function(e){return!d.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function f(e,t,n,i){var r=t.popStack(),a=0,s=n.length;if(e){s--}for(;a<s;a++){r=t.nameLookup(r,n[a],i)}if(e){return[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[a]),")"]}else{return r}}t["default"]=d;e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var r=undefined;try{if(false){var a=require("source-map");r=a.SourceNode}}catch(s){}if(!r){r=function(e,t,n,i){this.src="";if(i){this.add(i)}};r.prototype={add:function u(e){if(i.isArray(e)){e=e.join("")}this.src+=e},prepend:function c(e){if(i.isArray(e)){e=e.join("")}this.src=e+this.src},toStringWithSourceMap:function d(){return{code:this.toString()}},toString:function f(){return this.src}}}function o(e,t,n){if(i.isArray(e)){var r=[];for(var a=0,s=e.length;a<s;a++){r.push(t.wrap(e[a],n))}return r}else if(typeof e==="boolean"||typeof e==="number"){return e+""}return e}function l(e){this.srcFile=e;this.source=[]}l.prototype={isEmpty:function h(){return!this.source.length},prepend:function p(e,t){this.source.unshift(this.wrap(e,t))},push:function m(e,t){this.source.push(this.wrap(e,t))},merge:function _(){var e=this.empty();this.each(function(t){e.add(["  ",t,"\n"])});return e},each:function g(e){for(var t=0,n=this.source.length;t<n;t++){e(this.source[t])}},empty:function v(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function b(e){var t=arguments.length<=1||arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];if(e instanceof r){return e}e=o(e,this,t);return new r(t.start.line,t.start.column,this.srcFile,e)},functionCall:function y(e,t,n){n=this.generateList(n);return this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function x(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function S(e){var t=[];for(var n in e){if(e.hasOwnProperty(n)){var i=o(e[n],this);if(i!=="undefined"){t.push([this.quotedString(n),":",i])}}}var r=this.generateList(t);r.prepend("{");r.add("}");return r},generateList:function w(e){var t=this.empty();for(var n=0,i=e.length;n<i;n++){if(n){t.add(",")}t.add(o(e[n],this))}return t},generateArray:function L(e){var t=this.generateList(e);

t.prepend("[");t.add("]");return t}};t["default"]=l;e.exports=t["default"]}])})},function(e,t){var n=SUGAR.App;SUGAR.expressions.FormatedNameExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.FormatedNameExpression,SUGAR.expressions.StringExpression,{className:"FormatedNameExpression",evaluate:function(){var e=this.getParameters();var t={s:e[0].evaluate(),f:e[1].evaluate(),l:e[2].evaluate(),t:e[3].evaluate()};var n="";for(i=0;i<name_format.length;i++){if(t[name_format.substr(i,1)]!=undefined){n+=t[name_format.substr(i,1)]}else{n+=name_format.substr(i,1)}}return n},getParamCount:function(){return 4}});SUGAR.expressions.SugarTranslateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarTranslateExpression,SUGAR.expressions.StringExpression,{className:"SugarTranslateExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();if(t=="")t="app_strings";var n=e[0].evaluate();return SUGAR.language.get(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.DefineStringExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineStringExpression,SUGAR.expressions.StringExpression,{className:"DefineStringExpression",evaluate:function(){var e=this.getParameters().evaluate(),t;if(e instanceof Date){var i=e.type=="date";t=n.date(e).formatUser(i)}else{t=e+""}return t},getParamCount:function(){return 1},getParameterTypes:function(){return["generic"]}});SUGAR.expressions.SugarDropDownValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarDropDownValueExpression,SUGAR.expressions.StringExpression,{className:"SugarDropDownValueExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=this.context.getAppListStrings(t);if(i=="undefined")return"";for(var r in i){if(typeof r=="string"&&r==n)return i[r]}return""},getParamCount:function(){return 2}});SUGAR.expressions.ContainsExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ContainsExpression,SUGAR.expressions.BooleanExpression,{className:"ContainsExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();return t.indexOf(n)>-1?SUGAR.expressions.Expression.TRUE:SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return"string"}});SUGAR.expressions.CharacterAtExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CharacterAtExpression,SUGAR.expressions.StringExpression,{className:"CharacterAtExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();return t.charAt(n)},getParamCount:function(){return 2},getParameterTypes:function(){return["string","number"]}});SUGAR.expressions.StrToUpperExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StrToUpperExpression,SUGAR.expressions.StringExpression,{className:"StrToUpperExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.toUpperCase()},getParamCount:function(){return 1}});SUGAR.expressions.StrToLowerExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StrToLowerExpression,SUGAR.expressions.StringExpression,{className:"StrToLowerExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.toLowerCase()},getParamCount:function(){return 1}});SUGAR.expressions.ConcatenateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConcatenateExpression,SUGAR.expressions.StringExpression,{className:"ConcatenateExpression",evaluate:function(){var e="";var t=this.getParameters();for(var n=0;n<t.length;n++){e+=t[n].evaluate()}return e}});SUGAR.expressions.SubStrExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SubStrExpression,SUGAR.expressions.StringExpression,{className:"SubStrExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();var i=e[2].evaluate();return t.substr(n,i)},getParamCount:function(){return 3},getParameterTypes:function(){return["string","number","number"]}});SUGAR.expressions.ForecastCommitStageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastCommitStageExpression,SUGAR.expressions.EnumExpression,{className:"ForecastCommitStageExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return""}var t=n.metadata.getModule("Forecasts","config");if(t.forecast_setup===0){return""}var i=t[t.forecast_ranges+"_ranges"],r="";_.find(i,function(t,n){if(e>=t.min&&e<=t.max){r=n;return true}return false});return r},getParamCount:function(){return 1},getParameterTypes:function(){return["number"]}});SUGAR.expressions.DayOfWeekExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DayOfWeekExpression,SUGAR.expressions.NumericExpression,{className:"DayOfWeekExpression",evaluate:function(){var e,t=this.getParameters().evaluate();if(_.isString(t)&&_.isEmpty(t)){return""}if(this.context.view){e=n.date(t).format("d").toString()}else{e=new Date(t).getDay()}return e},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.MaxRelatedDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaxRelatedDateExpression,SUGAR.expressions.DateExpression,{className:"MaxRelatedDateExpression",evaluate:function(){},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.HoursUntilExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.HoursUntilExpression,SUGAR.expressions.NumericExpression,{className:"HoursUntilExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=SUGAR.util.DateUtils.parse(e);if(!t&&t!==0)return false;var n=new Date;if(typeof e=="string"&&e.indexOf(" ")==-1&&e.indexOf("T")==-1){n.setHours(0,0,0,0)}var i=t-n;return~~(i/36e5)},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.DefineDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineDateExpression,SUGAR.expressions.DateExpression,{className:"DefineDateExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=SUGAR.util.DateUtils.parse(e,"user");if(t==false)throw"Incorrect date format";return t},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.TodayExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.TodayExpression,SUGAR.expressions.DateExpression,{className:"TodayExpression",evaluate:function(){var e=new Date;e.setHours(0);e.setMinutes(0);e.setSeconds(0);if(this.context.view){e=n.date.format(e,"Y-m-d")}return e},getParamCount:function(){return 0}});SUGAR.expressions.AddDaysExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AddDaysExpression,SUGAR.expressions.DateExpression,{className:"AddDaysExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();if(!t){return""}var i=parseInt(e[1].evaluate(),10);if(_.isNaN(i)){return""}var r=SUGAR.util.DateUtils.parse(t,"user");var a=new Date(r);a.setDate(a.getDate()+i);if(this.context.view){a=n.date.format(a,"Y-m-d")}return a},getParamCount:function(){return 2},getParameterTypes:function(){return["date","number"]}});SUGAR.expressions.DaysUntilExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DaysUntilExpression,SUGAR.expressions.NumericExpression,{className:"DaysUntilExpression",evaluate:function(){var e=SUGAR.util.DateUtils.parse(this.getParameters().evaluate(),"user");var t=new Date;e.setHours(0);e.setMinutes(0);e.setSeconds(0);var n=e-t;var i=Math.ceil(n/864e5);return i},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.NowExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NowExpression,SUGAR.expressions.DateExpression,{className:"NowExpression",evaluate:function(){var e=SUGAR.util.DateUtils.getUserTime();e.setSeconds(0);if(this.context.view){e=n.date.format(e,"Y-m-d H:i:s")}return e},getParamCount:function(){return 0}});SUGAR.expressions.MonthOfYearExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MonthOfYearExpression,SUGAR.expressions.NumericExpression,{className:"MonthOfYearExpression",evaluate:function(){var e=this.getParameters().evaluate();return new Date(e).getMonth()+1},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.TimestampExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.TimestampExpression,SUGAR.expressions.DateExpression,{className:"TimestampExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,n=[],i=this.context.parseDate(e);return Math.round(+i.getTime()/1e3)},getParamCount:function(){return 1}});SUGAR.expressions.DefineTimeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineTimeExpression,SUGAR.expressions.TimeExpression,{className:"DefineTimeExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=Date.parse(e);if(isNaN(t))throw"Incorrect time format";return t},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.HourOfDayExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.HourOfDayExpression,SUGAR.expressions.TimeExpression,{className:"HourOfDayExpression",evaluate:function(){var e=this.getParameters().evaluate();return new Date(e).getHours()},getParamCount:function(){return 1}});SUGAR.expressions.CurrencyRateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CurrencyRateExpression,SUGAR.expressions.GenericExpression,{className:"CurrencyRateExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.getParameters().evaluate();return n.metadata.getCurrency(e).conversion_rate},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.RelatedFieldExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.RelatedFieldExpression,SUGAR.expressions.GenericExpression,{className:"RelatedFieldExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate(),n=e[1].evaluate();if(typeof t=="string"&&t!=""){return this.context.getRelatedField(t,"related",n)}else if(typeof rel=="object"){}return""},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.IndexValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IndexValueExpression,SUGAR.expressions.GenericExpression,{className:"IndexValueExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();if(typeof n=="string"&&!isNaN(n))n=Number(n);if(n>=t.length||n<0)throw"value_at: Attempt to access an index out of bounds";return t[n]},getParamCount:function(){return 2},getParameterTypes:function(){return["number","enum"]}});SUGAR.expressions.SugarFieldExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarFieldExpression,SUGAR.expressions.GenericExpression,{className:"SugarFieldExpression",evaluate:function(){var e=this.getParameters().evaluate();return SUGAR.forms.AssignmentHandler.getValue(e)},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.ConditionExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConditionExpression,SUGAR.expressions.GenericExpression,{className:"ConditionExpression",evaluate:function(){var e=SUGAR.expressions.Expression,t=this.getParameters(),n=t[0].evaluate();if(e.isTruthy(n)){return t[1].evaluate()}else{return t[2].evaluate()}},getParamCount:function(){return 3},getParameterTypes:function(){return["boolean","generic","generic"]}});SUGAR.expressions.AndExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AndExpression,SUGAR.expressions.BooleanExpression,{className:"AndExpression",evaluate:function(){var e=this.getParameters();if(!(e instanceof Array))e=[e];for(var t=0;t<e.length;t++){if(e[t].evaluate()!=SUGAR.expressions.Expression.TRUE)return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE}});SUGAR.expressions.IsForecastClosedWonExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedWonExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedWonExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config")||{},i=t.sales_stage_won||["Closed Won"];if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsRequiredCollectionExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsRequiredCollectionExpression,SUGAR.expressions.BooleanExpression,{className:"IsRequiredCollectionExpression",evaluate:function(){var e=this.getParameters().evaluate();table=document.getElementById(e);children=YAHOO.util.Dom.getElementsByClassName("sqsEnabled","input",table);for(id in children){if(trim(children[id].value)!=""){return SUGAR.expressions.Expression.TRUE}}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsInEnumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsInEnumExpression,SUGAR.expressions.BooleanExpression,{className:"IsInEnumExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();for(var i=0;i<t.length;i++){var r=t[i];if(r instanceof SUGAR.expressions.Expression)r=r.evaluate();if(r==n)return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","enum"]}});SUGAR.expressions.GreaterThanExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.GreaterThanExpression,SUGAR.expressions.BooleanExpression,{className:"GreaterThanExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(t>n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["number","number"]}});SUGAR.expressions.IsInRangeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsInRangeExpression,SUGAR.expressions.BooleanExpression,{className:"IsInRangeExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=e[2].evaluate();if(t>=n&&t<=i)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 3},getParameterTypes:function(){return["number","number","number"]}});SUGAR.expressions.IsValidTimeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidTimeExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidTimeExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=/^(\d{1,2}):(\d\d)\s*([ap]m)?$/i;if(e.length==0)return SUGAR.expressions.Expression.TRUE;myregexp=new RegExp(t);if(!myregexp.test(e))return SUGAR.expressions.Expression.FALSE;var n=e.match(t);if(n[1]>23||n[2]>59){return SUGAR.expressions.Expression.FALSE}if(n[3]&&(n[1]>12||n[1]==0)){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.NotExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NotExpression,SUGAR.expressions.BooleanExpression,{className:"NotExpression",evaluate:function(){if(this.getParameters().evaluate()==SUGAR.expressions.Expression.FALSE)return SUGAR.expressions.Expression.TRUE;else return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1}});SUGAR.expressions.IsValidDBNameExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidDBNameExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidDBNameExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e.length==0){return true}if(!/^[a-zA-Z][a-zA-Z\_0-9]+$/.test(e))return SUGAR.expressions.Expression.FALSE;return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.OrExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.OrExpression,SUGAR.expressions.BooleanExpression,{className:"OrExpression",evaluate:function(){var e=this.getParameters();for(var t=0;t<e.length;t++){if(e[t].evaluate()==SUGAR.expressions.Expression.TRUE)return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE}});SUGAR.expressions.IsValidDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidDateExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidDateExpression",evaluate:function(){var e=this.getParameters().evaluate();if(typeof e!="string"||e=="")return SUGAR.expressions.Expression.FALSE;var t="Y-m-d";if(SUGAR.expressions.userPrefs)t=SUGAR.expressions.userPrefs.datef;var n=SUGAR.util.DateUtils.parse(e,t);if(n!=false&&n!="Invalid Date")return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.isAfterExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.isAfterExpression,SUGAR.expressions.BooleanExpression,{className:"isAfterExpression",evaluate:function(){var e=this.getParameters();var t=SUGAR.util.DateUtils.parse(e[0].evaluate());var n=SUGAR.util.DateUtils.parse(e[1].evaluate());if(!t||!n||isNaN(t)||isNaN(n)){return SUGAR.expressions.Expression.FALSE}if(t>n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["date","date"]}});SUGAR.expressions.IsForecastClosedLostExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedLostExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedLostExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config")||{},i=t.sales_stage_lost||["Closed Lost"];if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.BinaryDependencyExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.BinaryDependencyExpression,SUGAR.expressions.BooleanExpression,{className:"BinaryDependencyExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(t!=null&&n!=null&&t!=""&&n!="")return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["string","string"]}});SUGAR.expressions.IsValidPhoneExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidPhoneExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidPhoneExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e.length==0)return SUGAR.expressions.Expression.TRUE;if(!/^\+?[0-9\-\(\)\s]+$/.test(e))return SUGAR.expressions.Expression.FALSE;return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsAlphaNumericExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsAlphaNumericExpression,SUGAR.expressions.BooleanExpression,{className:"IsAlphaNumericExpression",evaluate:function(){var e=this.getParameters().evaluate();if(/^[a-zA-Z0-9]+$/.test(e))return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.isBeforeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.isBeforeExpression,SUGAR.expressions.BooleanExpression,{className:"isBeforeExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(!t||!n||isNaN(t)||isNaN(n)){return SUGAR.expressions.Expression.FALSE}if(t<n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["date","date"]}});SUGAR.expressions.IsNumericExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsNumericExpression,SUGAR.expressions.BooleanExpression,{className:"IsNumericExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e===""||e===null){return SUGAR.expressions.Expression.FALSE}if(isFinite(e)&&!isNaN(parseFloat(e))){return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsForecastClosedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config"),i=["Closed Won","Closed Lost"];if(!_.isUndefined(t)){i=_.union(t.sales_stage_won,t.sales_stage_lost)}if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsAlphaExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsAlphaExpression,SUGAR.expressions.BooleanExpression,{className:"IsAlphaExpression",evaluate:function(){var e=this.getParameters().evaluate();if(/^[a-zA-Z]+$/.test(e))return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsValidEmailExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidEmailExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidEmailExpression",evaluate:function(){var e=this.getParameters().evaluate();if(typeof e!="string")return SUGAR.expressions.Expression.FALSE;if(e=="")return SUGAR.expressions.Expression.TRUE;var t=e.charAt(e.length-1);if(!t.match(/[^\.]/i))return SUGAR.expressions.Expression.FALSE;var n=e.split(/[,;]/);for(var i=0;i<n.length;i++){var r=n[i];r=r.replace(/^\s+|\s+$/g,"");if(r!=""&&!/^.+@.+$/gi.test(r)){return SUGAR.expressions.Expression.FALSE}}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.EqualExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.EqualExpression,SUGAR.expressions.BooleanExpression,{className:"EqualExpression",evaluate:function(){var e=SUGAR.expressions.Expression,t=this.getParameters(),n=t[0].evaluate(),i=t[1].evaluate(),r=t[0]instanceof SUGAR.expressions.BooleanExpression||t[1]instanceof SUGAR.expressions.BooleanExpression;if(n==i||r&&(e.isTruthy(n)&&e.isTruthy(i)||!e.isTruthy(n)&&!e.isTruthy(i))){return e.TRUE}return e.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","generic"]}});SUGAR.expressions.SugarListWhereExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarListWhereExpression,SUGAR.expressions.EnumExpression,{className:"SugarListWhereExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=[];for(var r=0;r<n.length;r++){if(n[r].length>0){if(n[r][0]==t){i=n[r][1];break}}}return i=="undefined"?[]:i},getParamCount:function(){return 2},getParameterTypes:function(){return["string","enum"]}});SUGAR.expressions.ForecastSalesStageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastSalesStageExpression,SUGAR.expressions.EnumExpression,{className:"ForecastSalesStageExpression",evaluate:function(){if(n===undefined){return SUGAR.language.get("app_list_strings","sales_stage_dom")}var e=SUGAR.expressions.Expression,t=n.metadata.getModule("Forecasts","config"),i=this.getParameters(),r=i[0].evaluate(),a=i[1].evaluate(),s=n.lang.getAppListStrings("sales_stage_dom"),o=[];if(!e.isTruthy(r)){o=_.union(o,t.sales_stage_won)}if(!e.isTruthy(a)){o=_.union(o,t.sales_stage_lost)}return _.without(s,o)},getParamCount:function(){return 2},getParameterTypes:function(){return["boolean","boolean"]}});SUGAR.expressions.SugarTranslatedDropDownExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarTranslatedDropDownExpression,SUGAR.expressions.EnumExpression,{className:"SugarTranslatedDropDownExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,i=[];if(n){t=n.lang.getAppListStrings(e)}else{t=SUGAR.language.get("app_list_strings",e)}if(t&&t!="undefined"){for(var r in t){if(typeof r=="string")i[i.length]=t[r]}}return i},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.DefineEnumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineEnumExpression,SUGAR.expressions.EnumExpression,{className:"DefineEnumExpression",evaluate:function(){var e=this.getParameters();var t=[];if(typeof e.length!="undefined"){for(var n=0;n<e.length;n++){t[t.length]=e[n].evaluate()}}else{return[e.evaluate()]}return t},getParameterTypes:function(){return"generic"}});SUGAR.expressions.SugarDropDownExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarDropDownExpression,SUGAR.expressions.EnumExpression,{className:"SugarDropDownExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,i=[];if(n){t=n.lang.getAppListStrings(e)}else{t=SUGAR.language.get("app_list_strings",e)}if(t&&t!="undefined"){for(var r in t){if(typeof r=="string")i[i.length]=r}}return i},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.ForecastIncludedCommitStagesExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastIncludedCommitStagesExpression,SUGAR.expressions.EnumExpression,{className:"ForecastIncludedCommitStagesExpression",evaluate:function(){if(n===undefined){return SUGAR.language.get("app_list_strings","sales_stage_dom")}var e=n.metadata.getModule("Forecasts","config");return e.commit_stages_included},getParamCount:function(){return 0},getParameterTypes:function(){return[]}});SUGAR.expressions.StringLengthExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StringLengthExpression,SUGAR.expressions.NumericExpression,{className:"StringLengthExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.length},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.NaturalLogExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NaturalLogExpression,SUGAR.expressions.NumericExpression,{className:"NaturalLogExpression",evaluate:function(){return Math.log(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.SubtractExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SubtractExpression,SUGAR.expressions.NumericExpression,{className:"SubtractExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate();for(var n=1;n<e.length;n++){t=this.context.subtract(t,e[n].evaluate())}return t}});SUGAR.expressions.MaxRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaxRelatedExpression,SUGAR.expressions.NumericExpression,{className:"MaxRelatedExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(typeof t=="string"&&t!=""){var i=this.context.getRelatedField(t,"rollupMax",n);if(typeof i=="object"){i=""}return i}else if(typeof rel=="object"){}return""},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.MinimumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MinimumExpression,SUGAR.expressions.NumericExpression,{className:"MinimumExpression",evaluate:function(){var e=this.getParameters();var t=null;for(var n=0;n<e.length;n++){var i=e[n].evaluate();if(t==null||i<t)t=i}return t}});SUGAR.expressions.LogExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.LogExpression,SUGAR.expressions.NumericExpression,{className:"LogExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();return this.context.divide(Math.log(n),Math.log(t))},getParamCount:function(){return 2}});SUGAR.expressions.AverageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AverageExpression,SUGAR.expressions.NumericExpression,{className:"AverageExpression",evaluate:function(){var e=0;var t=0;var n=this.getParameters();for(var i=0;i<n.length;i++){e=this.context.add(e,n[i].evaluate());t++}return this.context.divide(e,t)}});SUGAR.expressions.CountRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CountRelatedExpression,SUGAR.expressions.NumericExpression,{className:"CountRelatedExpression",evaluate:function(){var e=this.getParameters().evaluate();if(typeof e=="string"&&e!=""){return this.context.getRelatedField(e,"count")}return""},getParamCount:function(){return 1},getParameterTypes:function(){return["relate"]}});SUGAR.expressions.AbsoluteValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AbsoluteValueExpression,SUGAR.expressions.NumericExpression,{className:"AbsoluteValueExpression",evaluate:function(){return Math.abs(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.AverageRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AverageRelatedExpression,SUGAR.expressions.NumericExpression,{className:"AverageRelatedExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(typeof t=="string"&&t!=""){return SUGAR.forms.AssignmentHandler.getRelatedField(t,"rollupAve",n)}else if(typeof rel=="object"){}return""},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"];

}});SUGAR.expressions.RoundExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.RoundExpression,SUGAR.expressions.NumericExpression,{className:"RoundExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();return this.context.round(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.AddExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AddExpression,SUGAR.expressions.NumericExpression,{className:"AddExpression",evaluate:function(){var e=this.getParameters(),t=0;for(var n=0;n<e.length;n++){t=this.context.add(t,e[n].evaluate())}return t}});SUGAR.expressions.FloorExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.FloorExpression,SUGAR.expressions.NumericExpression,{className:"FloorExpression",evaluate:function(){return Math.floor(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.ValueOfExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ValueOfExpression,SUGAR.expressions.NumericExpression,{className:"ValueOfExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";e=e.replace(/,/g,"");var t=0;if(e.indexOf(".")!=-1)t=parseFloat(e);else t=parseInt(e);if(isNaN(t))throw"Error: '"+e+"' is not a number";return t},getParamCount:function(){return 1},getParameterTypes:function(){return"generic"}});SUGAR.expressions.MaximumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaximumExpression,SUGAR.expressions.NumericExpression,{className:"MaximumExpression",evaluate:function(){var e=this.getParameters();var t=null;for(var n=0;n<e.length;n++){var i=e[n].evaluate();if(t==null||i>t)t=i}return t}});SUGAR.expressions.MinRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MinRelatedExpression,SUGAR.expressions.NumericExpression,{className:"MinRelatedExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(typeof t=="string"&&t!=""){return this.context.getRelatedField(t,"rollupMin",n)}else if(typeof rel=="object"){}return""},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.MedianExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MedianExpression,SUGAR.expressions.NumericExpression,{className:"MedianExpression",evaluate:function(){var e=this.getParameters();var t=new Array;for(var n=0;n<e.length;n++)t[t.length]=parseFloat(e[n].evaluate());t.sort(function(e,t){return e-t});if(t.length%2==0){return(t[t.length/2]+t[t.length/2-1])/2}return t[Math.round(t.length/2)-1]}});SUGAR.expressions.MultiplyExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MultiplyExpression,SUGAR.expressions.NumericExpression,{className:"MultiplyExpression",evaluate:function(){var e=this.getParameters(),t="1";for(var n=0;n<e.length;n++){t=this.context.multiply(t,e[n].evaluate())}return t}});SUGAR.expressions.CeilingExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CeilingExpression,SUGAR.expressions.NumericExpression,{className:"CeilingExpression",evaluate:function(){return Math.ceil(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.NegateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NegateExpression,SUGAR.expressions.NumericExpression,{className:"NegateExpression",evaluate:function(){return this.context.multiply("-1",this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.SumRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SumRelatedExpression,SUGAR.expressions.NumericExpression,{className:"SumRelatedExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(typeof t=="string"&&t!=""){return this.context.getRelatedField(t,"rollupSum",n)}else if(typeof rel=="object"){}return""},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.DivideExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DivideExpression,SUGAR.expressions.NumericExpression,{className:"DivideExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate();denominator=e[1].evaluate();if(denominator==0){throw"Division by 0 error"}return this.context.divide(t,denominator)},getParamCount:function(){return 2}});SUGAR.expressions.StandardDeviationExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StandardDeviationExpression,SUGAR.expressions.NumericExpression,{className:"StandardDeviationExpression",evaluate:function(){var e=this.getParameters();var t=new Array;var n=0;var i=e.length;for(var r=0;r<e.length;r++){value=e[r].evaluate();t[t.length]=value;n=this.context.add(n,value)}var a=this.context.divide(n,i);var s=0;for(var r=0;r<t.length;r++)s+=Math.pow(this.context.subtract(t[r],a),2);var o=this.context.multiply(this.context.divide(1,i),s);return Math.sqrt(o)}});SUGAR.expressions.PowerExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.PowerExpression,SUGAR.expressions.NumericExpression,{className:"PowerExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();return Math.pow(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.IndexOfExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IndexOfExpression,SUGAR.expressions.NumericExpression,{className:"IndexOfExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();for(var i=0;i<t.length;i++){if(t[i]==n){return i}}return-1},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","enum"]}});SUGAR.forms.SetPanelVisibilityAction=function(e,t){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}if(_.isString(e)&&_.isUndefined(SUGAR.App)){var n=$("#"+e).parents("div");if(n.length){e=n.attr("id")}}this.target=e;this.expr="cond("+t+', "", "none")'};SUGAR.util.extend(SUGAR.forms.SetPanelVisibilityAction,SUGAR.forms.AbstractAction,{hideChildren:function(){if(typeof SUGAR.forms.SetPanelVisibilityAction.hiddenFields=="undefined"){this.createFieldBin()}var e=document.getElementById(this.target);var t=e.getElementsByTagName("table")[0];if(t!=null){t.id=this.target+"_tbl";SUGAR.forms.SetPanelVisibilityAction.hiddenFields.appendChild(t)}},showChildren:function(){var e=document.getElementById(this.target);var t=document.getElementById(this.target+"_tbl");if(t!=null)e.appendChild(t)},createFieldBin:function(){var e=document.createElement("div");e.id="panelHiddenFields";e.style.display="none";document.body.appendChild(e);SUGAR.forms.SetPanelVisibilityAction.hiddenFields=e},exec:function(e){if(typeof e=="undefined")e=this.context;if(e.view)return this.sidecarExec(e);try{var t=this.evalExpression(this.expr,e);var n=document.getElementById(this.target);if(n!=null){if(n.style.display!="none")SUGAR.forms.animation.sizes[this.target]=n.clientHeight;if(SUGAR.forms.AssignmentHandler.ANIMATE){if(t=="none"&&n.style.display!="none"){SUGAR.forms.animation.Collapse(this.target,this.hideChildren,this);return}else if(t!="none"&&n.style.display=="none"){this.showChildren();SUGAR.forms.animation.Expand(this.target);return}}if(t=="none")this.hideChildren();else this.showChildren();n.style.display=t}}catch(i){if(console&&console.log)console.log(i)}},sidecarExec:function(e){var t=this.evalExpression(this.expr,e)==="none",n=e.view.$(".tab."+this.target),i=e.view.$("div.record-panel[data-panelname='"+this.target+"']"),r=n&&n.hasClass("active");if(!n||!n.length){if(i.length>0){if(t){i.hide()}else{i.show()}this.triggerFieldsVisibility(e,this.target,t)}else{console.log("unable to find panel "+this.target)}}else{if(t){n.hide();if(r){var a=e.view.$("li.tab:visible");if(a.length>0&&e.view.setActiveTab){e.view.setActiveTab({currentTarget:a[0].children[0]});e.view.handleActiveTab()}}}else{n.show()}this.triggerFieldsVisibility(e,this.target,t)}},triggerFieldsVisibility:function(e,t,n){_.each(this.getPanelFieldNames(e,t),function(t){var i=e.view.getField(t);if(i&&_.isUndefined(i.wasRequired)){i.wasRequired=i.def.required}e.setFieldDisabled(t,n);if(i.wasRequired===true)e.setFieldRequired(t,!n)})},getPanelFieldNames:function(e,t){var n=_.find(e.view.meta.panels,function(e){return e.name===t});return _.pluck(n.fields,"name")}});SUGAR.forms.animation.sizes={};SUGAR.forms.animation.Collapse=function(e,t,n){var i=document.getElementById(e);if(i==null)return;SUGAR.forms.animation.sizes[e]=i.clientHeight;i.style.overflow="hidden";var r=new YAHOO.util.Anim(e,{height:{to:0}},.5,YAHOO.util.Easing.easeBoth);r.onComplete.subscribe(function(){i.style.display="none";t.call(n)});r.animate()};SUGAR.forms.animation.Expand=function(e){var t=document.getElementById(e);if(t==null)return;t.style.overflow="hidden";t.style.height="0px";t.style.display="";var n=new YAHOO.util.Anim(e,{height:{to:SUGAR.forms.animation.sizes[e]}},.5,YAHOO.util.Easing.easeBoth);n.onComplete.subscribe(function(){t.style.height="auto"});n.animate()};SUGAR.forms.SetRequiredAction=function(e,t,n){if(_.isObject(e)){t=e.value;n=e.label;e=e.target}this.variable=e;this.expr=t;this.label=n;this._el_lbl=document.getElementById(this.label);if(this._el_lbl)this.msg=this._el_lbl.innerText};SUGAR.util.extend(SUGAR.forms.SetRequiredAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;this.required=this.evalExpression(this.expr,e);if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setFieldRequired(this.variable,this.required)}else{this.bwcExec(e,this.required)}},bwcExec:function(e,t){var n=SUGAR.forms.AssignmentHandler.getElement(this.variable);if(typeof SUGAR.forms.FormValidator!="undefined")SUGAR.forms.FormValidator.setRequired(n.form.name,n.name,this.required);if(this._el_lbl!=null&&n!=null){var i=this._el_lbl,r=YAHOO.util.Dom.getElementsBy(function(e){return e.className=="req"},"span",i),a=false,s=n.name;if(r!=null&&r[0]!=null)a=r[0];if(this.required==true||this.required=="true"){if(!a){var o=document.createElement("span");o.innerHTML="<font color='red'>*</font>";o.className="req";this._el_lbl.appendChild(o);var l=this.findInValidate(e.formName,s);if(l>-1)validate[e.formName][l][2]=true;else addToValidate(e.formName,s,"text",true,this.msg)}}else{if(i!=null&&a!=false){a.parentNode.removeChild(a)}var l=this.findInValidate(e.formName,s);if(l>-1)validate[e.formName][l][2]=false}}},findInValidate:function(e,t){if(validate&&validate[e]){for(var n in validate[e]){if(typeof validate[e][n]=="object"&&validate[e][n][0]==t)return n}}return-1}});SUGAR.forms.StyleAction=function(e,t){this.target=e;this.attrs=t};SUGAR.util.extend(SUGAR.forms.StyleAction,SUGAR.forms.AbstractAction,{exec:function(e){if(SUGAR.App)return;if(typeof e=="undefined")e=this.context;try{var t={};for(var n in this.attrs){t[n]=this.evalExpression(this.attrs[n],e)}e.setStyle(this.target,t)}catch(i){return}}});SUGAR.forms.AssignToAction=function(e){if(_.isObject(e)){e=e.value}this.expr=e;this.target="assigned_user_name";if(_.isUndefined(SUGAR.App)){this.dataSource=new YAHOO.util.DataSource("index.php?",{responseType:YAHOO.util.XHRDataSource.TYPE_JSON,responseSchema:{resultsList:"fields",total:"totalCount",metaNode:"fields",metaFields:{total:"totalCount",fields:"fields"}},connMethodPost:true})}};SUGAR.util.extend(SUGAR.forms.AssignToAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined"){e=this.context}this.userName=this.evalExpression(this.expr,e);if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setAssignedUserName(this.target,this.userName)}else{this.bwcExec(e)}},bwcExec:function(e){if(typeof e=="undefined"){e=this.context}var t=SUGAR.util.paramsToUrl({to_pdf:"true",module:"Home",action:"quicksearchQuery",data:YAHOO.lang.JSON.stringify(sqs_objects["EditView_"+this.target]),query:this.userName});this.sqs=sqs_objects["EditView_"+this.target];this.dataSource.sendRequest(t,{success:function(e,t){if(t.results.length>0){var n=t.results[0];for(var i=0;i<this.sqs.field_list.length;i++){SUGAR.forms.AssignmentHandler.assign(this.sqs.populate_list[i],n[this.sqs.field_list[i]])}}},scope:this})},targetUrl:"index.php?module=Home&action=TaxRate&to_pdf=1"});var n=n||null;SUGAR.forms.SetVisibilityAction=function(e,t,n){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}this.target=e;this.expr="cond("+t+', "", "none")';this.view=n;if(!SUGAR.forms.SetVisibilityAction.initialized){var i=document.getElementsByTagName("head")[0];var r="span.vis_action_hidden, .vis_action_hidden * { visibility:hidden}";var a=document.createElement("style");a.setAttribute("type","text/css");if(a.styleSheet)a.styleSheet.cssText=r;else a.innerHTML=r;i.appendChild(a);SUGAR.forms.SetVisibilityAction.initialized=true}};SUGAR.util.extend(SUGAR.forms.SetVisibilityAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;try{var t=e&&e.getElement&&e.getElement(this.target)||null;if(t==null){return}var n=this.evalExpression(this.expr,e);var i=n=="none"||n=="hidden";if(SUGAR.App){this.sidecarExec(e,t,i)}else{this.legacyExec(e,t,i)}}catch(r){if(console&&console.log)console.log(r)}},sidecarExec:function(e,t,n){var i="vis_action_hidden",r=$(t).hasClass(i),a=e.view.getField(this.target),s=$(t).parents(".panel_body")[0];if(a&&_.isUndefined(a.wasRequired)){a.wasRequired=a.def.required}if(n){e.addClass(this.target,i,true);e.setFieldDisabled(this.target,true);if(a.wasRequired===true){e.setFieldRequired(this.target,false)}}else{e.removeClass(this.target,i,true);if(!a.def.calculated||!a.def.enforced){e.setFieldDisabled(this.target,false)}if(r){SUGAR.forms.FlashField(t,null,this.target)}if(a.wasRequired===true){e.setFieldRequired(this.target,true)}}if(s){this.checkRowSidecar(s,i)}},legacyExec:function(e,t,n){var i=YAHOO.util.Dom,r="vis_action_hidden",a=i.getAncestorByTagName(t,"TD"),s=i.getPreviousSiblingBy(a,function(e){return e.tagName=="TD"});this.wrapContent(s);this.wrapContent(a);var o=i.hasClass(s,r);if(n){i.addClass(s,r);i.addClass(a,r)}else{i.removeClass(s,r);i.removeClass(a,r);if(o&&this.view=="EditView"){SUGAR.forms.FlashField(t)}}this.checkRow(i.getAncestorByTagName(a,"TR"),r)},wrapContent:function(e){if(e&&this.containsPlainText(e)){var t=document.createElement("SPAN");var n=[];for(var i=0;i<e.childNodes.length;i++){n[i]=e.childNodes[i]}for(var i=0;i<n.length;i++){t.appendChild(n[i])}e.appendChild(t)}},containsPlainText:function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(n.nodeName=="#text"&&YAHOO.lang.trim(n.textContent)!=""){return true}}return false},checkRow:function(e,t){var n=true;for(var i=0;i<e.children.length;i++){var r=e.children[i];if(r.tagName.toLowerCase()=="td"&&!YAHOO.util.Dom.hasClass(r,t)){n=false;break}}e.style.display=n?"none":""},checkRowSidecar:function(e,t){if(!e||e.children){return}var n=true;for(var i=0;i<e.children.length;i++){var r=e.children[i];if(r.tagName.toLowerCase()=="div"&&!$(r).hasClass(t)&&$(r).children().length>1){n=false;break}}e.style.display=n?"none":""}});SUGAR.forms.SetValueAction=function(e,t){if(_.isObject(e)){this.expr=e.value;this.target=e.target;this.errorValue=!_.isUndefined(e.errorValue)?e.errorValue:null}else{this.expr=t;this.target=e}};SUGAR.util.extend(SUGAR.forms.SetValueAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined"){e=this.context}try{var t=this.evalExpression(this.expr,e),n=e.getValue(this.target).evaluate();if(!_.isUndefined(t)&&t!==n&&this.canSetValue(e)){e.setValue(this.target,t)}}catch(i){if(!_.isUndefined(this.errorValue)&&!_.isNull(this.errorValue)){e.setValue(this.target,this.errorValue)}}}});SUGAR.forms.SetOptionsAction=function(e,t,n){this.afterRender=true;if(_.isObject(e)){n=e.labels;t=e.keys;e=e.target}this.keyExpr=t;this.labelExpr=n;this.target=e};SUGAR.util.extend(SUGAR.forms.SetOptionsAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;var t=this.evalExpression(this.keyExpr,e),i=this.evalExpression(this.labelExpr,e),r,a="";if(e.view){var s=e.getField(this.target);if(!s){return}a=[].concat(s.model.get(this.target));if(!this.canSetValue(e)){t=_.uniq(t.concat(a))}r=(_.size(t)===0||_.size(t)===1)&&(t[0]==undefined||t[0]==="");if(_.isString(i))s.items=_.pick(n.lang.getAppListStrings(i),t);else s.items=_.object(t,i);slContext=e;s.model.fields[this.target].options=s.items;var o=new SUGAR.forms.SetVisibilityAction(this.target,r?"false":"true","");o.setContext(e);o.exec();a=_.filter(a,function(e){return _.contains(t,e)});if((a.length==0||a.length==1&&a[0]=="")&&s.model.fields[s.name].type!="multienum"){a=[r?"":t[0]]}e.setValue(this.target,a)}else{var s=e.getElement(this.target);if(s==null)return null;if(t instanceof Array&&s.options!=null){var l=s.options;a=[];for(var u=0;u<l.length;u++){if(l[u].selected)a=a.concat(l[u].value)}while(l.length>0){s.remove(l[0])}if(typeof i=="string"){var c=SUGAR.language.get("app_list_strings",i);i=[];for(var u in t){i[u]=c[t[u]]}}var d;for(var u in t){if(i instanceof Array){if(typeof t[u]=="string"){if(typeof i[u]=="string"){d=l[l.length]=new Option(i[u],t[u],t[u]==a)}else{d=l[l.length]=new Option(t[u],t[u],t[u]==a)}}}else{if(typeof t[0]=="undefined"){if(typeof t[u]=="string"){d=l[l.length]=new Option(t[u],u)}}else{if(typeof value[u]=="string"){d=l[l.length]=new Option(t[u],t[u])}}}if(_.indexOf(a,t[u])>-1){d.selected=true}}if(!s.multiple&&s.value!=a){SUGAR.forms.AssignmentHandler.assign(this.target,s.value)}var r=s.multiple&&s.options.length==0||!s.multiple&&s.options.length<=1&&s.value=="";var o=new SUGAR.forms.SetVisibilityAction(this.target,r?"false":"true","");o.setContext(e);o.exec();if(SUGAR.forms.AssignmentHandler.ANIMATE&&!r)SUGAR.forms.FlashField(s)}else if(t instanceof Array&&(t.length==0||t.length==1&&t[0]=="")){var f=new SUGAR.forms.SetVisibilityAction(this.target,"false","");f.exec(e)}}}});SUGAR.forms.ReadOnlyAction=function(e,t){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}this.target=e;this.expr=t};SUGAR.util.extend(SUGAR.forms.ReadOnlyAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;var t=this.evalExpression(this.expr,e),n=t==SUGAR.expressions.Expression.TRUE;if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setFieldDisabled(this.target,n)}else{this.bwcExec(e,n)}},bwcExec:function(e,t){var n=SUGAR.forms.AssignmentHandler.getElement(this.target);if(!n){return}this.setReadOnly(n,t);this.setDateField(n,t)},setReadOnly:function(e,t){var n=YAHOO.util.Dom;var i=e.type=="checkbox"||"select"?"disabled":"readonly";e[i]=t;if(t){n.setStyle(e,"background-color","#EEE");if(!SUGAR.isIE)n.setStyle(e,"color","#22")}else{n.setStyle(e,"background-color","");if(!SUGAR.isIE)n.setStyle(e,"color","")}},setDateField:function(e,t){var n=YAHOO.util.Dom,i=e.id,r=n.get(i+"_trigger");if(!r)return;var a=[n.get(i+"_date"),n.get(i+"_minutes"),n.get(i+"_meridiem"),n.get(i+"_hours")];for(var s in a)if(a[s]&&a[s].id)this.setReadOnly(a[s],t);if(t)n.setStyle(r,"display","none");else n.setStyle(r,"display","")}});SUGAR.FunctionMap={formatName:SUGAR.expressions.FormatedNameExpression,translateLabel:SUGAR.expressions.SugarTranslateExpression,translate:SUGAR.expressions.SugarTranslateExpression,toString:SUGAR.expressions.DefineStringExpression,string:SUGAR.expressions.DefineStringExpression,getDropdownValue:SUGAR.expressions.SugarDropDownValueExpression,getDDValue:SUGAR.expressions.SugarDropDownValueExpression,contains:SUGAR.expressions.ContainsExpression,charAt:SUGAR.expressions.CharacterAtExpression,strToUpper:SUGAR.expressions.StrToUpperExpression,strToLower:SUGAR.expressions.StrToLowerExpression,concat:SUGAR.expressions.ConcatenateExpression,subStr:SUGAR.expressions.SubStrExpression,forecastCommitStage:SUGAR.expressions.ForecastCommitStageExpression,dayofweek:SUGAR.expressions.DayOfWeekExpression,maxRelatedDate:SUGAR.expressions.MaxRelatedDateExpression,hoursUntil:SUGAR.expressions.HoursUntilExpression,date:SUGAR.expressions.DefineDateExpression,today:SUGAR.expressions.TodayExpression,addDays:SUGAR.expressions.AddDaysExpression,daysUntil:SUGAR.expressions.DaysUntilExpression,now:SUGAR.expressions.NowExpression,monthofyear:SUGAR.expressions.MonthOfYearExpression,timestamp:SUGAR.expressions.TimestampExpression,time:SUGAR.expressions.DefineTimeExpression,hourOfDay:SUGAR.expressions.HourOfDayExpression,currencyRate:SUGAR.expressions.CurrencyRateExpression,related:SUGAR.expressions.RelatedFieldExpression,valueAt:SUGAR.expressions.IndexValueExpression,sugarField:SUGAR.expressions.SugarFieldExpression,ifElse:SUGAR.expressions.ConditionExpression,cond:SUGAR.expressions.ConditionExpression,and:SUGAR.expressions.AndExpression,isForecastClosedWon:SUGAR.expressions.IsForecastClosedWonExpression,isRequiredCollection:SUGAR.expressions.IsRequiredCollectionExpression,isInList:SUGAR.expressions.IsInEnumExpression,isInEnum:SUGAR.expressions.IsInEnumExpression,greaterThan:SUGAR.expressions.GreaterThanExpression,isWithinRange:SUGAR.expressions.IsInRangeExpression,isValidTime:SUGAR.expressions.IsValidTimeExpression,not:SUGAR.expressions.NotExpression,isValidDBName:SUGAR.expressions.IsValidDBNameExpression,or:SUGAR.expressions.OrExpression,isValidDate:SUGAR.expressions.IsValidDateExpression,isAfter:SUGAR.expressions.isAfterExpression,isForecastClosedLost:SUGAR.expressions.IsForecastClosedLostExpression,doBothExist:SUGAR.expressions.BinaryDependencyExpression,isValidPhone:SUGAR.expressions.IsValidPhoneExpression,isAlphaNumeric:SUGAR.expressions.IsAlphaNumericExpression,isBefore:SUGAR.expressions.isBeforeExpression,isNumeric:SUGAR.expressions.IsNumericExpression,isForecastClosed:SUGAR.expressions.IsForecastClosedExpression,isAlpha:SUGAR.expressions.IsAlphaExpression,isValidEmail:SUGAR.expressions.IsValidEmailExpression,equal:SUGAR.expressions.EqualExpression,getListWhere:SUGAR.expressions.SugarListWhereExpression,forecastSalesStages:SUGAR.expressions.ForecastSalesStageExpression,getDropdownValueSet:SUGAR.expressions.SugarTranslatedDropDownExpression,getTransDD:SUGAR.expressions.SugarTranslatedDropDownExpression,createList:SUGAR.expressions.DefineEnumExpression,"enum":SUGAR.expressions.DefineEnumExpression,getDropdownKeySet:SUGAR.expressions.SugarDropDownExpression,getDD:SUGAR.expressions.SugarDropDownExpression,forecastIncludedCommitStages:SUGAR.expressions.ForecastIncludedCommitStagesExpression,strlen:SUGAR.expressions.StringLengthExpression,ln:SUGAR.expressions.NaturalLogExpression,subtract:SUGAR.expressions.SubtractExpression,currencySubtract:SUGAR.expressions.SubtractExpression,sub:SUGAR.expressions.SubtractExpression,rollupMax:SUGAR.expressions.MaxRelatedExpression,min:SUGAR.expressions.MinimumExpression,log:SUGAR.expressions.LogExpression,average:SUGAR.expressions.AverageExpression,avg:SUGAR.expressions.AverageExpression,count:SUGAR.expressions.CountRelatedExpression,abs:SUGAR.expressions.AbsoluteValueExpression,rollupAve:SUGAR.expressions.AverageRelatedExpression,rollupAvg:SUGAR.expressions.AverageRelatedExpression,countConditional:SUGAR.expressions.CountConditionalRelatedExpression,round:SUGAR.expressions.RoundExpression,add:SUGAR.expressions.AddExpression,currencyAdd:SUGAR.expressions.AddExpression,floor:SUGAR.expressions.FloorExpression,number:SUGAR.expressions.ValueOfExpression,max:SUGAR.expressions.MaximumExpression,rollupMin:SUGAR.expressions.MinRelatedExpression,median:SUGAR.expressions.MedianExpression,multiply:SUGAR.expressions.MultiplyExpression,currencyMultiply:SUGAR.expressions.MultiplyExpression,mul:SUGAR.expressions.MultiplyExpression,ceil:SUGAR.expressions.CeilingExpression,ceiling:SUGAR.expressions.CeilingExpression,negate:SUGAR.expressions.NegateExpression,rollupSum:SUGAR.expressions.SumRelatedExpression,rollupCurrencySum:SUGAR.expressions.SumRelatedExpression,divide:SUGAR.expressions.DivideExpression,currencyDivide:SUGAR.expressions.DivideExpression,div:SUGAR.expressions.DivideExpression,rollupConditionalSum:SUGAR.expressions.SumConditionalRelatedExpression,stddev:SUGAR.expressions.StandardDeviationExpression,pow:SUGAR.expressions.PowerExpression,indexOf:SUGAR.expressions.IndexOfExpression};SUGAR.NumericConstants={pi:3.1415926535898,e:2.718281828459}},function(e,t){(function(){(function(e){var t=Date.now||function(){return+new Date};var n=60;var i=1e3;var r={};var a=1;if(!e.core){e.core={effect:{}}}else if(!core.effect){core.effect={}}core.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame;var n=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())){n=false}if(n){return function(e,n){t(e,n)}}var i=60;var r={};var a=0;var s=1;var o=null;var l=+new Date;return function(e,t){var n=s++;r[n]=e;a++;if(o===null){o=setInterval(function(){var e=+new Date;var t=r;r={};a=0;for(var n in t){if(t.hasOwnProperty(n)){t[n](e);l=e}}if(e-l>2500){clearInterval(o);o=null}},1e3/i)}return n}}(),stop:function(e){var t=r[e]!=null;if(t){r[e]=null}return t},isRunning:function(e){return r[e]!=null},start:function(e,s,o,l,u,c){var d=t();var f=d;var h=0;var p=0;var m=a++;if(!c){c=document.body}if(m%20===0){var _={};for(var g in r){_[g]=true}r=_}var v=function(a){var _=a!==true;var g=t();if(!r[m]||s&&!s(m)){r[m]=null;o&&o(n-p/((g-d)/i),m,false);return}if(_){var b=Math.round((g-f)/(i/n))-1;for(var y=0;y<Math.min(b,4);y++){v(true);p++}}if(l){h=(g-d)/l;if(h>1){h=1}}var x=u?u(h):h;if((e(x,g,_)===false||h===1)&&_){r[m]=null;o&&o(n-p/((g-d)/i),m,h===1||l==null)}else if(_){f=g;core.effect.Animate.requestAnimationFrame(v,c)}};r[m]=true;core.effect.Animate.requestAnimationFrame(v,c);return m}}})(this)}).call(window)},function(e,t){e.exports={appId:"nomad",env:"prod",clientID:"sugar",restVersion:"10",platform:"mobile",debugSugarApi:false,logger:{level:"WARN",consoleWriter:"ConsoleWriter",formatter:"SimpleFormatter"},authStore:"cache",minServerVersion:"6.7.1",supportedServerFlavors:["PRO","CORP","ENT","ULT"],siteUrl:"..",serverTimeout:30,maxQueryResult:20,cacheMeta:true,metadataTypes:["server_info","labels","ordered_labels","modules","relationships","currencies","_override_values","config","modules_info","views","editable_dropdown_filters"],syncConfig:false,sugarLogic:{enabled:true,minServerVersion:"7.2",isDynamic:false},appName:"nomad",keychainService:"SugarCRM",productName:"SugarCRM",brandName:"SugarCRM",appVersion:"6.0.2",appBuild:"437/1116",sdkVersion:"6.0.2.437-1.2.0-1",buildTag:"",trialUntil:"",deviceMode:{type:"auto",landscape:false,portrait:false},keyValueStore:"sqlKeyValueStore",keyValueStoreEncryptionEnabled:true,nativeRedirectEnabled:true,loginSettings:{editable:true,defaultServerUrl:"",useHttps:true,externalLoginVisible:true,externalLoginOnly:false,loginSettingsLimit:5,logoutTimeout:3e3},leadConversion:{enabled:true,minServerVersion:"7.9.1"},maxHttpCacheAge:10,fetchLimit:{activities:10,bulkQueryRelatedRecords:10,maxPageSize:60,recents:20,filters:100},about:{privacy:"http://sugarcrm.com/mobile_privacy",tos:"http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/",trademark:"http://www.sugarcrm.com/about/trademark-information",displayTrademarks:false,support:"http://support.sugarcrm.com",supportEmail:"support@sugarcrm.com",showSdkVersion:false,thirdPartySoftware:"http://www.sugarcrm.com/third-party-software",showAttribution:false,supportEmailVisible:"concealed",copyrightText:"Copyright © 2004-2017 SugarCRM Inc. All Rights Reserved.",trademarkText:"Sugar and SugarCRM are trademarks owned by SugarCRM Inc. All other trademarks are the property of their respective owners.",trademark2Text:"SugarCRM ®, Sugar Enterprise™ and Sugar™ are trademarks of SugarCRM Inc."},analytics:{enabled:true,ignoreServerSetting:false,trackers:{"default":{appName:"SugarCRM",optOut:false,debug:false,dryRun:false,dispatchInterval:120,sampleRate:100,anonymize:false,useHttps:true},web:"UA-33012372-6","native":"UA-33012372-5",sdk:""},instanceTracking:true,serverUrlWhiteList:["sugarinternal.sugarondemand.com",".*\\.sugarondemand.com"],instanceUrlTracking:false,dbAnalyticsInterval:24},transMap:null,stringCleanupEnabled:true,setupBuddyEnabled:true,ui:{defaultFontSize:"normal",fontSizes:{tiny:10,small:12,normal:14,large:16,larger:18,huge:20,extra_huge:22},displayInitials:true,icons:{modules:{},menu:{user:"icon icon-user",search:"icon icon-search",activities:"icon icon-clock-o",about:"icon icon-info-circle",settings:"icon icon-cog",desktop:"icon icon-desktop",errorEmulation:"icon icon-support",logout:"icon icon-sign-out",duplicate:"icon icon-copy",createRelated:"icon icon-plus-circle",linkRelated:"icon icon-link",share:"icon icon-share-alt",create:"icon icon-plus","offline-settings":"icon icon-wifi"},header:{menu:"icon icon-bars",dashboard:"icon icon-th",back:"icon icon-chevron-left",search:"icon icon-search",overflow:"icon icon-ellipsis-v",saveBtnArrow:"icon icon-caret-down",clear:"icon icon-remove"},actions:{view:"icon icon-eye",edit:"icon icon-pencil",favorite:"icon icon-star",unfavorite:"icon icon-star-o",follow:"icon icon-check-circle",unfollow:"icon icon-check-circle-o",email:"icon icon-envelope",emailbody:"icon icon-font",unlink:"icon icon-minus-circle","delete":"icon icon-trash-o",close:"icon icon-times",call:"icon icon-phone",sms:"icon icon-comment",map:"icon icon-map-marker",url:"icon icon-external-link",file:"icon icon-file",comment:"icon icon-comment",reply:"icon icon-reply",more:"icon icon-ellipsis-h",retweet:"icon icon-retweet",convert:"icon icon-external-link-square"},sorting:{asc:"icon icon-caret-up",desc:"icon icon-caret-down",checked:"icon icon-check",myItemsOnly:"icon icon-user",teamItems:"icon icon-users"},alert:{close:"icon icon-remove",star:"icon icon-star",starOpen:"icon icon-star-o"},list:{grip:"icon icon-ellipsis-v"},detail:{createRelated:"icon icon-plus"},edit:{clear:"icon icon-remove",checkboxOff:"icon icon-square-o",checkboxOn:"icon icon-check-square",radioOn:"icon icon-circle-o",radioOff:"icon icon-circle-thin",selectArrow:"icon icon-caret-down",error:"icon icon-exclamation-circle",remove:"icon icon-remove",teamsetPrimary:"icon icon-star",teamsetSecondary:"icon icon-star-o",lock:"icon icon-lock",unlock:"icon icon-unlock-alt",picture:"icon icon-picture-o",email:{actionsBtn:"icon icon-ellipsis-v",addBtn:"icon icon-plus"},multiselect:{remove:"icon icon-remove"}},swiper:{prev:"icon icon-arrow-left",next:"icon icon-arrow-right",bullet:"icon icon-circle-thin",bulletActive:"icon-circle"},dashlets:{"default":"icon icon-th-large",dashablelist:"icon icon-th-list","tabbed-dashlet":{"active-tasks":"icon icon-check-square-o","planned-activities":"icon icon-calendar-o","inactive-tasks":"icon icon-check",history:"icon icon-history"},"forecast-pareto":"icon icon-bar-chart",bubblechart:"icon icon-trophy","forecast-pipeline":"icon icon-pipeline","activitystream-dashlet":"icon icon-clock-o","saved-reports-chart":"icon icon-download",forecastdetails:"icon icon-area-chart",twitter:"icon icon-twitter",webpage:"icon icon-globe","opportunity-metrics":"icon icon-line-chart",casessummary:"icon icon-folder-open"},leadConversion:{link:"icon icon-angle-right",back:"icon icon-chevron-left",next:"icon icon-chevron-right"}},fastClickEnabled:true,maxAlertsPerLayout:2,alertAutoCloseDelay:3e3,refreshOnResumeTimeout:3e4,searchDelay:600,configurableFontSize:true,numberOfAdditionalListFields:1,displayListFieldLabel:false,forceListReload:false,defaultViewScheme:"Search",showLogLevelSetting:false,showTutorial:true,constantlyVisibleViews:["offlineSettings","offlineStats","offlineDataGeneration","TxLog","Activities","Teams","Users"],
maxPreloaderPanelMessages:4},files:{resizeImagesOnUpload:600,imageResizeTimeout:8e3,iosCanvasSizeLimit:5,jpegEncoderQuality:80,fileSizeLimit:10},modules:{knownModules:["Settings","About","TxLog","Error","Forecasts","Users","Accounts","Contacts","Documents","Leads","Opportunities","RevenueLineItems","Meetings","Calls","Tasks","Notes","Reports","Cases","Quotes","Employees","Bugs","Campaigns","Contracts","KBDocuments","Products","Project","Prospects","Targets","Emails"],unsupportedModules:["Home","Bugs","Campaigns","Contracts","KBDocuments","Products","Project","Prospects","Targets","Emails","OutboundEmail","EmailAddresses","EmailParticipants","UserSignatures","ProductBundles","ProductBundleNotes","Shippers","TaxRates"],modulesWithFiles:["Documents"],modulesWithPDFs:["Reports"],modulesWithAvatars:["Contacts","Leads","Employees","Users"],nonDuplicatableModules:["Users","Documents","Employees","KBDocuments","Reports","Quotes","Emails"],nonCreatableModules:["TxLog","Users","Documents","Employees","KBDocuments","Reports","Quotes","Emails"],nonEditableModules:["KBDocuments","Quotes","Employees","Reports","Emails"],nonDeletableModules:["Users","Employees"],nonDeletableSalesStages:["Closed Won","Closed Lost"],nonLinkableModules:[],followableModules:["Accounts","Contacts","Leads","Opportunities","Cases","RevenueLineItems","Tasks","Notes","Products"],readonlyModules:["Teams","ProductTypes","ProductCategories","ProductTemplates","Manufacturers"],nonAclModules:["Error","Login","About"],hiddenModules:["Forecasts","Filters","Comments"]},deepLinking:{scheme:"sugarcrm",configUrlWhiteList:[]},localSecurity:{enabled:true,minServerVersion:"7.2",maxAllowedPasswordAttempt:3,touchIdForLoginEnabled:true,passkeyEnabled:false,touchIdForPasskeyEnabled:false},nps:{enabled:true,minRatingForStore:5,autoCloseTimeout:1500,sessionLength:60,attemptCriteria:[{days:7,sessions:5},{days:30,sessions:10},{days:90,sessions:15}]},teamBasedAcl:{enabled:true,minServerVersion:"7.8.0.0RC1",unsupportedModules:[]},offline:{enabled:true,storageProvider:"sql",storageAdapter:"native",storageSize:5,dbEncryptionEnabled:true,debug:{ignoreEnabled:false,render:false,forceMigrate:false,online:true,syncManagerEnabled:true,monitorStatus:true,outOfSpace:false,performanceTracing:{enabled:false,defaultReporter:"console",zipkinServerUrl:"",zipkinPayload:null}},minServerVersion:"7.1.5RC1",exclude:["About","Settings","Search","Login","Offline","Error","ErrorEmulation","Recents","Forecasts","BubbleChart","Dashboards","Activities","Filters","Comments","Home","SetupBuddy","TxLog"],customOfflineModules:["TxLog","Recents"],staticModules:["Users","Teams","ProductCategories","ProductTypes","ProductTemplates","Manufacturers"],bulkLoad:{enabled:true,requestDelay:500,initial:{pageSize:100,numPages:{"default":1,modules:{ProductTypes:2}},modules:["Users","Teams","ProductCategories","ProductTypes","ProductTemplates","Manufacturers"]},complete:{pageSize:300,numPages:{"default":3,modules:{ProductTemplates:9,Teams:9,Accounts:9,Contacts:9,Employees:9}}}},syncManager:{enabled:true,syncTimeout:10,executors:{wins:{enabled:true,interval:180,priority:1,preSyncMaxRecords:100,syncPageSize:20,preSyncPageSize:20},txLog:{enabled:true,interval:20,priority:0}}},maxMixedCollectionQueryResult:30,monitorTimeout:5e3,cleanUp:{defaultPurgeInterval:90,recordsToKeepPercentage:90},dbLimits:{"default":1e3,modules:{ProductTemplates:3e3,Teams:3e3,Accounts:3e3,Contacts:3e3,Employees:3e3}}},dashboards:{enabled:true,minServerVersion:"7.2",recordDashboardsEnabled:true,dashlets:{dashablelist:{minServerVersion:"7.2"},"tabbed-dashlet":{minServerVersion:"7.2"},"forecast-pareto":{minServerVersion:"7.6.0.0RC3"},bubblechart:{minServerVersion:"7.2"},"forecast-pipeline":{minServerVersion:"7.6.0.0RC3"},"sales-pipeline":{minServerVersion:"7.8.0.0RC2",icon:"icon-trophy"},"activitystream-dashlet":{minServerVersion:"7.2"},"saved-reports-chart":{minServerVersion:"7.2"},forecastdetails:{minServerVersion:"7.6.0.0RC3"},twitter:{minServerVersion:"7.5.0.0"},webpage:{minServerVersion:"7.5.0.0"},"opportunity-metrics":{minServerVersion:"7.6.0.0RC3"},casessummary:{minServerVersion:"7.5.0.0"}}},raven:{enabled:true,env:"store",url:"https://0c866dad58bb4a29b88e405491cfc6a6@app.getsentry.com/22007",enhancedErrorReporting:true,maxLogSize:30},errorEmulation:{enabled:false,user:"Max"},scheme:"store"}},function(e,t,n){var i={"./af":103,"./af.js":103,"./ar":107,"./ar-ma":104,"./ar-ma.js":104,"./ar-sa":105,"./ar-sa.js":105,"./ar-tn":106,"./ar-tn.js":106,"./ar.js":107,"./az":108,"./az.js":108,"./be":109,"./be.js":109,"./bg":110,"./bg.js":110,"./bn":111,"./bn.js":111,"./bo":112,"./bo.js":112,"./br":113,"./br.js":113,"./bs":114,"./bs.js":114,"./ca":115,"./ca.js":115,"./cs":116,"./cs.js":116,"./cv":117,"./cv.js":117,"./cy":118,"./cy.js":118,"./da":119,"./da.js":119,"./de":121,"./de-at":120,"./de-at.js":120,"./de.js":121,"./dv":122,"./dv.js":122,"./el":123,"./el.js":123,"./en-au":124,"./en-au.js":124,"./en-ca":125,"./en-ca.js":125,"./en-gb":126,"./en-gb.js":126,"./en-ie":127,"./en-ie.js":127,"./en-nz":128,"./en-nz.js":128,"./eo":129,"./eo.js":129,"./es":131,"./es-do":130,"./es-do.js":130,"./es.js":131,"./et":132,"./et.js":132,"./eu":133,"./eu.js":133,"./fa":134,"./fa.js":134,"./fi":135,"./fi.js":135,"./fo":136,"./fo.js":136,"./fr":139,"./fr-ca":137,"./fr-ca.js":137,"./fr-ch":138,"./fr-ch.js":138,"./fr.js":139,"./fy":140,"./fy.js":140,"./gd":141,"./gd.js":141,"./gl":142,"./gl.js":142,"./he":143,"./he.js":143,"./hi":144,"./hi.js":144,"./hr":145,"./hr.js":145,"./hu":146,"./hu.js":146,"./hy-am":147,"./hy-am.js":147,"./id":148,"./id.js":148,"./is":149,"./is.js":149,"./it":150,"./it.js":150,"./ja":151,"./ja.js":151,"./jv":152,"./jv.js":152,"./ka":153,"./ka.js":153,"./kk":154,"./kk.js":154,"./km":155,"./km.js":155,"./ko":156,"./ko.js":156,"./ky":157,"./ky.js":157,"./lb":158,"./lb.js":158,"./lo":159,"./lo.js":159,"./lt":160,"./lt.js":160,"./lv":161,"./lv.js":161,"./me":162,"./me.js":162,"./mk":163,"./mk.js":163,"./ml":164,"./ml.js":164,"./mr":165,"./mr.js":165,"./ms":167,"./ms-my":166,"./ms-my.js":166,"./ms.js":167,"./my":168,"./my.js":168,"./nb":169,"./nb.js":169,"./ne":170,"./ne.js":170,"./nl":171,"./nl.js":171,"./nn":172,"./nn.js":172,"./pa-in":173,"./pa-in.js":173,"./pl":174,"./pl.js":174,"./pt":176,"./pt-br":175,"./pt-br.js":175,"./pt.js":176,"./ro":177,"./ro.js":177,"./ru":178,"./ru.js":178,"./se":179,"./se.js":179,"./si":180,"./si.js":180,"./sk":181,"./sk.js":181,"./sl":182,"./sl.js":182,"./sq":183,"./sq.js":183,"./sr":185,"./sr-cyrl":184,"./sr-cyrl.js":184,"./sr.js":185,"./ss":186,"./ss.js":186,"./sv":187,"./sv.js":187,"./sw":188,"./sw.js":188,"./ta":189,"./ta.js":189,"./te":190,"./te.js":190,"./th":191,"./th.js":191,"./tl-ph":192,"./tl-ph.js":192,"./tlh":193,"./tlh.js":193,"./tr":194,"./tr.js":194,"./tzl":195,"./tzl.js":195,"./tzm":197,"./tzm-latn":196,"./tzm-latn.js":196,"./tzm.js":197,"./uk":198,"./uk.js":198,"./uz":199,"./uz.js":199,"./vi":200,"./vi.js":200,"./x-pseudo":201,"./x-pseudo.js":201,"./zh-cn":202,"./zh-cn.js":202,"./zh-tw":203,"./zh-tw.js":203};function r(e){return n(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function s(){return Object.keys(i)};r.resolve=a;e.exports=r;r.id=546},function(e,t){e.exports="//     Backbone.js 1.3.3\n\n//     (c) 2010-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = (typeof self == 'object' && self.self === self && self) ||\n            (typeof global == 'object' && global.global === global && global);\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'), $;\n    try { $ = require('jquery'); } catch (e) {}\n    factory(root, exports, _, $);\n\n  // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));\n  }\n\n})(function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to a common array method we'll want to use later.\n  var slice = Array.prototype.slice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.3.3';\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n  var addMethod = function(length, method, attribute) {\n    switch (length) {\n      case 1: return function() {\n        return _[method](this[attribute]);\n      };\n      case 2: return function(value) {\n        return _[method](this[attribute], value);\n      };\n      case 3: return function(iteratee, context) {\n        return _[method](this[attribute], cb(iteratee, this), context);\n      };\n      case 4: return function(iteratee, defaultVal, context) {\n        return _[method](this[attribute], cb(iteratee, this), defaultVal, context);\n      };\n      default: return function() {\n        var args = slice.call(arguments);\n        args.unshift(this[attribute]);\n        return _[method].apply(_, args);\n      };\n    }\n  };\n  var addUnderscoreMethods = function(Class, methods, attribute) {\n    _.each(methods, function(length, method) {\n      if (_[method]) Class.prototype[method] = addMethod(length, method, attribute);\n    });\n  };\n\n  // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n  var cb = function(iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n    return iteratee;\n  };\n  var modelMatcher = function(attrs) {\n    var matcher = _.matches(attrs);\n    return function(model) {\n      return matcher(model.attributes);\n    };\n  };\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {};\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n  var eventsApi = function(iteratee, events, name, callback, opts) {\n    var i = 0, names;\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n      for (names = _.keys(name); i < names.length ; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n    return events;\n  };\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  Events.on = function(name, callback, context) {\n    return internalOn(this, name, callback, context);\n  };\n\n  // Guard the `listening` argument from the public API.\n  var internalOn = function(obj, name, callback, context, listening) {\n    obj._events = eventsApi(onApi, obj._events || {}, name, callback, {\n      context: context,\n      ctx: obj,\n      listening: listening\n    });\n\n    if (listening) {\n      var listeners = obj._listeners || (obj._listeners = {});\n      listeners[listening.id] = listening;\n    }\n\n    return obj;\n  };\n\n  // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n  Events.listenTo = function(obj, name, callback) {\n    if (!obj) return this;\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = listeningTo[id];\n\n    // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n    if (!listening) {\n      var thisId = this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = listeningTo[id] = {obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0};\n    }\n\n    // Bind callbacks on obj, and keep track of them on listening.\n    internalOn(obj, name, callback, this, listening);\n    return this;\n  };\n\n  // The reducing API that adds a callback to the `events` object.\n  var onApi = function(events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context, ctx = options.ctx, listening = options.listening;\n      if (listening) listening.count++;\n\n      handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n    }\n    return events;\n  };\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  Events.off = function(name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n    return this;\n  };\n\n  // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n  Events.stopListening = function(obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]];\n\n      // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n      if (!listening) break;\n\n      listening.obj.off(name, callback, this);\n    }\n\n    return this;\n  };\n\n  // The reducing API that removes a callback from the `events` object.\n  var offApi = function(events, name, callback, options) {\n    if (!events) return;\n\n    var i = 0, listening;\n    var context = options.context, listeners = options.listeners;\n\n    // Delete all events listeners and \"drop\" events.\n    if (!name && !callback && !context) {\n      var ids = _.keys(listeners);\n      for (; i < ids.length; i++) {\n        listening = listeners[ids[i]];\n        delete listeners[listening.id];\n        delete listening.listeningTo[listening.objId];\n      }\n      return;\n    }\n\n    var names = name ? [name] : _.keys(events);\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name];\n\n      // Bail out if there are no events stored.\n      if (!handlers) break;\n\n      // Replace events if there are any remaining.  Otherwise, clean up.\n      var remaining = [];\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n        if (\n          callback && callback !== handler.callback &&\n            callback !== handler.callback._callback ||\n              context && context !== handler.context\n        ) {\n          remaining.push(handler);\n        } else {\n          listening = handler.listening;\n          if (listening && --listening.count === 0) {\n            delete listeners[listening.id];\n            delete listening.listeningTo[listening.objId];\n          }\n        }\n      }\n\n      // Update tail event if the list has any events.  Otherwise, clean up.\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n    return events;\n  };\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n  Events.once = function(name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  };\n\n  // Inversion-of-control versions of `once`.\n  Events.listenToOnce = function(obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));\n    return this.listenTo(obj, events);\n  };\n\n  // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n  var onceMap = function(map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function() {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n    }\n    return map;\n  };\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  Events.trigger = function(name) {\n    if (!this._events) return this;\n\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  };\n\n  // Handles triggering the appropriate event callbacks.\n  var triggerApi = function(objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n    return objEvents;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n    }\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    var defaults = _.result(this, 'defaults');\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function(attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      var unset      = options.unset;\n      var silent     = options.silent;\n      var changes    = [];\n      var changing   = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev    = this._previousAttributes;\n\n      // For each `set` attribute, update or delete the current value.\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Update the `id`.\n      if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n      }\n      return _.size(changed) ? changed : false;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true, parse: true}, options);\n      var wait = options.wait;\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      // Set temporary attributes if `{wait: true}` to properly find new ids.\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n      var method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function() {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n      if (!wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, 'urlRoot') ||\n        _.result(this.collection, 'url') ||\n        urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend({}, options, {validate: true}));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n  var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n      omit: 0, chain: 1, isEmpty: 1};\n\n  // Mix in each Underscore method as a proxy to `Model#attributes`.\n  addUnderscoreMethods(Model, modelMethods, 'attributes');\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Splices `insert` into `array` at index `at`.\n  var splice = function(array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model) { return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var removed = this._removeModels(models, options);\n      if (!options.silent && removed.length) {\n        options.changes = {added: [], merged: [], removed: removed};\n        this.trigger('update', this, options);\n      }\n      return singular ? removed[0] : removed;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      if (models == null) return;\n\n      options = _.extend({}, setOptions, options);\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      var model, i;\n      for (i = 0; i < models.length; i++) {\n        model = models[i];\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        var existing = this.get(model);\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n          if (model) {\n            toAdd.push(model);\n            this._addReference(model, options);\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      }\n\n      // Remove stale models.\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this._removeModels(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it's time to fire all appropriate add/sort/update events.\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n        if (sort || orderChanged) this.trigger('sort', this, options);\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options = options ? _.clone(options) : {};\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] ||\n        this._byId[this.modelId(obj.attributes || obj)] ||\n        obj.cid && this._byId[obj.cid];\n    },\n\n    // Returns `true` if the model is in the collection.\n    has: function(obj) {\n      return this.get(obj) != null;\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = _.bind(comparator, this);\n\n      // Run sort based on type of `comparator`.\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return this.map(attr + '');\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = _.extend({parse: true}, options);\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n\n    // Define how to uniquely identify models in the collection.\n    modelId: function(attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method called by both remove and set.\n    _removeModels: function(models, options) {\n      var removed = [];\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n\n        // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n        this._removeReference(model, options);\n      }\n      return removed;\n    },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function(model) {\n      return model instanceof Model;\n    },\n\n    // Internal method to create a model's ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n        if (event === 'change') {\n          var prevId = this.modelId(model.previousAttributes());\n          var id = this.modelId(model.attributes);\n          if (prevId !== id) {\n            if (prevId != null) delete this._byId[prevId];\n            if (id != null) this._byId[id] = model;\n          }\n        }\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n      foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n      select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n      contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n      head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n      without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n      isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n      sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  addUnderscoreMethods(Collection, collectionMethods, 'models');\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be set as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this._removeElement();\n      this.stopListening();\n      return this;\n    },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function() {\n      this.$el.remove();\n    },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function(element) {\n      this.undelegateEvents();\n      this._setElement(element);\n      this.delegateEvents();\n      return this;\n    },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function(el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function(events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], _.bind(method, this));\n      }\n      return this;\n    },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function(eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function(eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function(tagName) {\n      return document.createElement(tagName);\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function(attributes) {\n      this.$el.attr(attributes);\n    }\n\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Pass along `textStatus` and `errorThrown` from jQuery.\n    var error = options.error;\n    options.error = function(xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    };\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'patch': 'PATCH',\n    'delete': 'DELETE',\n    'read': 'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n                   .replace(optionalParam, '(?:$1)?')\n                   .replace(namedParam, function(match, optional) {\n                     return optional ? match : '([^/?]+)';\n                   })\n                   .replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    this.checkUrl = _.bind(this.checkUrl, this);\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n\n    // Does the pathname match the root?\n    matchRoot: function() {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function(fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function() {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the pathname and search params, without the root.\n    getPath: function() {\n      var path = this.decodeFragment(\n        this.location.pathname + this.getSearch()\n      ).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function(fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange   = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.history && this.history.pushState);\n      this._usePushState    = this._wantsPushState && this._hasPushState;\n      this.fragment         = this.getFragment();\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath());\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we've started out with a hash-based route, but we're currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {replace: true});\n        }\n\n      }\n\n      // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body;\n        // Using `appendChild` will throw on IE < 9 if the document is not ready.\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      }\n\n      // Add a cross-platform `addEventListener` shim for older browsers.\n      var addEventListener = window.addEventListener || function(eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      };\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function(eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      };\n\n      // Remove window listeners.\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      }\n\n      // Clean up the iframe if necessary.\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      }\n\n      // Some environments will throw when clearing an undefined interval.\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n\n      // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      // Normalize the fragment.\n      fragment = this.getFragment(fragment || '');\n\n      // Don't include a trailing slash on the root.\n      var rootPath = this.root;\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n      var url = rootPath + fragment;\n\n      // Strip the hash and decode for matching.\n      fragment = this.decodeFragment(fragment.replace(pathStripper, ''));\n\n      if (this.fragment === fragment) return;\n      this.fragment = fragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow;\n\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n";

},function(e,t){e.exports="/* big.js v3.1.3 https://github.com/MikeMcl/big.js/LICENCE */\r\n;(function (global) {\r\n    'use strict';\r\n\r\n/*\r\n  big.js v3.1.3\r\n  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\r\n  https://github.com/MikeMcl/big.js/\r\n  Copyright (c) 2014 Michael Mclaughlin <M8ch88l@gmail.com>\r\n  MIT Expat Licence\r\n*/\r\n\r\n/***************************** EDITABLE DEFAULTS ******************************/\r\n\r\n    // The default values below must be integers within the stated ranges.\r\n\r\n    /*\r\n     * The maximum number of decimal places of the results of operations\r\n     * involving division: div and sqrt, and pow with negative exponents.\r\n     */\r\n    var DP = 20,                           // 0 to MAX_DP\r\n\r\n        /*\r\n         * The rounding mode used when rounding to the above decimal places.\r\n         *\r\n         * 0 Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\r\n         * 1 To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\r\n         * 2 To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\r\n         * 3 Away from zero.                                  (ROUND_UP)\r\n         */\r\n        RM = 1,                            // 0, 1, 2 or 3\r\n\r\n        // The maximum value of DP and Big.DP.\r\n        MAX_DP = 1E6,                      // 0 to 1000000\r\n\r\n        // The maximum magnitude of the exponent argument to the pow method.\r\n        MAX_POWER = 1E6,                   // 1 to 1000000\r\n\r\n        /*\r\n         * The exponent value at and beneath which toString returns exponential\r\n         * notation.\r\n         * JavaScript's Number type: -7\r\n         * -1000000 is the minimum recommended exponent value of a Big.\r\n         */\r\n        E_NEG = -7,                   // 0 to -1000000\r\n\r\n        /*\r\n         * The exponent value at and above which toString returns exponential\r\n         * notation.\r\n         * JavaScript's Number type: 21\r\n         * 1000000 is the maximum recommended exponent value of a Big.\r\n         * (This limit is not enforced or checked.)\r\n         */\r\n        E_POS = 21,                   // 0 to 1000000\r\n\r\n/******************************************************************************/\r\n\r\n        // The shared prototype object.\r\n        P = {},\r\n        isValid = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,\r\n        Big;\r\n\r\n\r\n    /*\r\n     * Create and return a Big constructor.\r\n     *\r\n     */\r\n    function bigFactory() {\r\n\r\n        /*\r\n         * The Big constructor and exported function.\r\n         * Create and return a new instance of a Big number object.\r\n         *\r\n         * n {number|string|Big} A numeric value.\r\n         */\r\n        function Big(n) {\r\n            var x = this;\r\n\r\n            // Enable constructor usage without new.\r\n            if (!(x instanceof Big)) {\r\n                return n === void 0 ? bigFactory() : new Big(n);\r\n            }\r\n\r\n            // Duplicate.\r\n            if (n instanceof Big) {\r\n                x.s = n.s;\r\n                x.e = n.e;\r\n                x.c = n.c.slice();\r\n            } else {\r\n                parse(x, n);\r\n            }\r\n\r\n            /*\r\n             * Retain a reference to this Big constructor, and shadow\r\n             * Big.prototype.constructor which points to Object.\r\n             */\r\n            x.constructor = Big;\r\n        }\r\n\r\n        Big.prototype = P;\r\n        Big.DP = DP;\r\n        Big.RM = RM;\r\n        Big.E_NEG = E_NEG;\r\n        Big.E_POS = E_POS;\r\n\r\n        return Big;\r\n    }\r\n\r\n\r\n    // Private functions\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of Big x in normal or exponential\r\n     * notation to dp fixed decimal places or significant digits.\r\n     *\r\n     * x {Big} The Big to format.\r\n     * dp {number} Integer, 0 to MAX_DP inclusive.\r\n     * toE {number} 1 (toExponential), 2 (toPrecision) or undefined (toFixed).\r\n     */\r\n    function format(x, dp, toE) {\r\n        var Big = x.constructor,\r\n\r\n            // The index (normal notation) of the digit that may be rounded up.\r\n            i = dp - (x = new Big(x)).e,\r\n            c = x.c;\r\n\r\n        // Round?\r\n        if (c.length > ++dp) {\r\n            rnd(x, i, Big.RM);\r\n        }\r\n\r\n        if (!c[0]) {\r\n            ++i;\r\n        } else if (toE) {\r\n            i = dp;\r\n\r\n        // toFixed\r\n        } else {\r\n            c = x.c;\r\n\r\n            // Recalculate i as x.e may have changed if value rounded up.\r\n            i = x.e + i + 1;\r\n        }\r\n\r\n        // Append zeros?\r\n        for (; c.length < i; c.push(0)) {\r\n        }\r\n        i = x.e;\r\n\r\n        /*\r\n         * toPrecision returns exponential notation if the number of\r\n         * significant digits specified is less than the number of digits\r\n         * necessary to represent the integer part of the value in normal\r\n         * notation.\r\n         */\r\n        return toE === 1 || toE && (dp <= i || i <= Big.E_NEG) ?\r\n\r\n          // Exponential notation.\r\n          (x.s < 0 && c[0] ? '-' : '') +\r\n            (c.length > 1 ? c[0] + '.' + c.join('').slice(1) : c[0]) +\r\n              (i < 0 ? 'e' : 'e+') + i\r\n\r\n          // Normal notation.\r\n          : x.toString();\r\n    }\r\n\r\n\r\n    /*\r\n     * Parse the number or string value passed to a Big constructor.\r\n     *\r\n     * x {Big} A Big number instance.\r\n     * n {number|string} A numeric value.\r\n     */\r\n    function parse(x, n) {\r\n        var e, i, nL;\r\n\r\n        // Minus zero?\r\n        if (n === 0 && 1 / n < 0) {\r\n            n = '-0';\r\n\r\n        // Ensure n is string and check validity.\r\n        } else if (!isValid.test(n += '')) {\r\n            throwErr(NaN);\r\n        }\r\n\r\n        // Determine sign.\r\n        x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n        // Decimal point?\r\n        if ((e = n.indexOf('.')) > -1) {\r\n            n = n.replace('.', '');\r\n        }\r\n\r\n        // Exponential form?\r\n        if ((i = n.search(/e/i)) > 0) {\r\n\r\n            // Determine exponent.\r\n            if (e < 0) {\r\n                e = i;\r\n            }\r\n            e += +n.slice(i + 1);\r\n            n = n.substring(0, i);\r\n\r\n        } else if (e < 0) {\r\n\r\n            // Integer.\r\n            e = n.length;\r\n        }\r\n\r\n        // Determine leading zeros.\r\n        for (i = 0; n.charAt(i) == '0'; i++) {\r\n        }\r\n\r\n        if (i == (nL = n.length)) {\r\n\r\n            // Zero.\r\n            x.c = [ x.e = 0 ];\r\n        } else {\r\n\r\n            // Determine trailing zeros.\r\n            for (; n.charAt(--nL) == '0';) {\r\n            }\r\n\r\n            x.e = e - i - 1;\r\n            x.c = [];\r\n\r\n            // Convert string to array of digits without leading/trailing zeros.\r\n            for (e = 0; i <= nL; x.c[e++] = +n.charAt(i++)) {\r\n            }\r\n        }\r\n\r\n        return x;\r\n    }\r\n\r\n\r\n    /*\r\n     * Round Big x to a maximum of dp decimal places using rounding mode rm.\r\n     * Called by div, sqrt and round.\r\n     *\r\n     * x {Big} The Big to round.\r\n     * dp {number} Integer, 0 to MAX_DP inclusive.\r\n     * rm {number} 0, 1, 2 or 3 (DOWN, HALF_UP, HALF_EVEN, UP)\r\n     * [more] {boolean} Whether the result of division was truncated.\r\n     */\r\n    function rnd(x, dp, rm, more) {\r\n        var u,\r\n            xc = x.c,\r\n            i = x.e + dp + 1;\r\n\r\n        if (rm === 1) {\r\n\r\n            // xc[i] is the digit after the digit that may be rounded up.\r\n            more = xc[i] >= 5;\r\n        } else if (rm === 2) {\r\n            more = xc[i] > 5 || xc[i] == 5 &&\r\n              (more || i < 0 || xc[i + 1] !== u || xc[i - 1] & 1);\r\n        } else if (rm === 3) {\r\n            more = more || xc[i] !== u || i < 0;\r\n        } else {\r\n            more = false;\r\n\r\n            if (rm !== 0) {\r\n                throwErr('!Big.RM!');\r\n            }\r\n        }\r\n\r\n        if (i < 1 || !xc[0]) {\r\n\r\n            if (more) {\r\n\r\n                // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n                x.e = -dp;\r\n                x.c = [1];\r\n            } else {\r\n\r\n                // Zero.\r\n                x.c = [x.e = 0];\r\n            }\r\n        } else {\r\n\r\n            // Remove any digits after the required decimal places.\r\n            xc.length = i--;\r\n\r\n            // Round up?\r\n            if (more) {\r\n\r\n                // Rounding up may mean the previous digit has to be rounded up.\r\n                for (; ++xc[i] > 9;) {\r\n                    xc[i] = 0;\r\n\r\n                    if (!i--) {\r\n                        ++x.e;\r\n                        xc.unshift(1);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Remove trailing zeros.\r\n            for (i = xc.length; !xc[--i]; xc.pop()) {\r\n            }\r\n        }\r\n\r\n        return x;\r\n    }\r\n\r\n\r\n    /*\r\n     * Throw a BigError.\r\n     *\r\n     * message {string} The error message.\r\n     */\r\n    function throwErr(message) {\r\n        var err = new Error(message);\r\n        err.name = 'BigError';\r\n\r\n        throw err;\r\n    }\r\n\r\n\r\n    // Prototype/instance methods\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the absolute value of this Big.\r\n     */\r\n    P.abs = function () {\r\n        var x = new this.constructor(this);\r\n        x.s = 1;\r\n\r\n        return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return\r\n     * 1 if the value of this Big is greater than the value of Big y,\r\n     * -1 if the value of this Big is less than the value of Big y, or\r\n     * 0 if they have the same value.\r\n    */\r\n    P.cmp = function (y) {\r\n        var xNeg,\r\n            x = this,\r\n            xc = x.c,\r\n            yc = (y = new x.constructor(y)).c,\r\n            i = x.s,\r\n            j = y.s,\r\n            k = x.e,\r\n            l = y.e;\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n            return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n        }\r\n\r\n        // Signs differ?\r\n        if (i != j) {\r\n            return i;\r\n        }\r\n        xNeg = i < 0;\r\n\r\n        // Compare exponents.\r\n        if (k != l) {\r\n            return k > l ^ xNeg ? 1 : -1;\r\n        }\r\n\r\n        i = -1;\r\n        j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n        // Compare digit by digit.\r\n        for (; ++i < j;) {\r\n\r\n            if (xc[i] != yc[i]) {\r\n                return xc[i] > yc[i] ^ xNeg ? 1 : -1;\r\n            }\r\n        }\r\n\r\n        // Compare lengths.\r\n        return k == l ? 0 : k > l ^ xNeg ? 1 : -1;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the value of this Big divided by the\r\n     * value of Big y, rounded, if necessary, to a maximum of Big.DP decimal\r\n     * places using rounding mode Big.RM.\r\n     */\r\n    P.div = function (y) {\r\n        var x = this,\r\n            Big = x.constructor,\r\n            // dividend\r\n            dvd = x.c,\r\n            //divisor\r\n            dvs = (y = new Big(y)).c,\r\n            s = x.s == y.s ? 1 : -1,\r\n            dp = Big.DP;\r\n\r\n        if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n            throwErr('!Big.DP!');\r\n        }\r\n\r\n        // Either 0?\r\n        if (!dvd[0] || !dvs[0]) {\r\n\r\n            // If both are 0, throw NaN\r\n            if (dvd[0] == dvs[0]) {\r\n                throwErr(NaN);\r\n            }\r\n\r\n            // If dvs is 0, throw +-Infinity.\r\n            if (!dvs[0]) {\r\n                throwErr(s / 0);\r\n            }\r\n\r\n            // dvd is 0, return +-0.\r\n            return new Big(s * 0);\r\n        }\r\n\r\n        var dvsL, dvsT, next, cmp, remI, u,\r\n            dvsZ = dvs.slice(),\r\n            dvdI = dvsL = dvs.length,\r\n            dvdL = dvd.length,\r\n            // remainder\r\n            rem = dvd.slice(0, dvsL),\r\n            remL = rem.length,\r\n            // quotient\r\n            q = y,\r\n            qc = q.c = [],\r\n            qi = 0,\r\n            digits = dp + (q.e = x.e - y.e) + 1;\r\n\r\n        q.s = s;\r\n        s = digits < 0 ? 0 : digits;\r\n\r\n        // Create version of divisor with leading zero.\r\n        dvsZ.unshift(0);\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL++ < dvsL; rem.push(0)) {\r\n        }\r\n\r\n        do {\r\n\r\n            // 'next' is how many times the divisor goes into current remainder.\r\n            for (next = 0; next < 10; next++) {\r\n\r\n                // Compare divisor and remainder.\r\n                if (dvsL != (remL = rem.length)) {\r\n                    cmp = dvsL > remL ? 1 : -1;\r\n                } else {\r\n\r\n                    for (remI = -1, cmp = 0; ++remI < dvsL;) {\r\n\r\n                        if (dvs[remI] != rem[remI]) {\r\n                            cmp = dvs[remI] > rem[remI] ? 1 : -1;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // If divisor < remainder, subtract divisor from remainder.\r\n                if (cmp < 0) {\r\n\r\n                    // Remainder can't be more than 1 digit longer than divisor.\r\n                    // Equalise lengths using divisor with extra leading zero?\r\n                    for (dvsT = remL == dvsL ? dvs : dvsZ; remL;) {\r\n\r\n                        if (rem[--remL] < dvsT[remL]) {\r\n                            remI = remL;\r\n\r\n                            for (; remI && !rem[--remI]; rem[remI] = 9) {\r\n                            }\r\n                            --rem[remI];\r\n                            rem[remL] += 10;\r\n                        }\r\n                        rem[remL] -= dvsT[remL];\r\n                    }\r\n                    for (; !rem[0]; rem.shift()) {\r\n                    }\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // Add the 'next' digit to the result array.\r\n            qc[qi++] = cmp ? next : ++next;\r\n\r\n            // Update the remainder.\r\n            if (rem[0] && cmp) {\r\n                rem[remL] = dvd[dvdI] || 0;\r\n            } else {\r\n                rem = [ dvd[dvdI] ];\r\n            }\r\n\r\n        } while ((dvdI++ < dvdL || rem[0] !== u) && s--);\r\n\r\n        // Leading zero? Do not remove if result is simply zero (qi == 1).\r\n        if (!qc[0] && qi != 1) {\r\n\r\n            // There can't be more than one zero.\r\n            qc.shift();\r\n            q.e--;\r\n        }\r\n\r\n        // Round?\r\n        if (qi > digits) {\r\n            rnd(q, dp, Big.RM, rem[0] !== u);\r\n        }\r\n\r\n        return q;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this Big is equal to the value of Big y,\r\n     * otherwise returns false.\r\n     */\r\n    P.eq = function (y) {\r\n        return !this.cmp(y);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this Big is greater than the value of Big y,\r\n     * otherwise returns false.\r\n     */\r\n    P.gt = function (y) {\r\n        return this.cmp(y) > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this Big is greater than or equal to the\r\n     * value of Big y, otherwise returns false.\r\n     */\r\n    P.gte = function (y) {\r\n        return this.cmp(y) > -1;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this Big is less than the value of Big y,\r\n     * otherwise returns false.\r\n     */\r\n    P.lt = function (y) {\r\n        return this.cmp(y) < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this Big is less than or equal to the value\r\n     * of Big y, otherwise returns false.\r\n     */\r\n    P.lte = function (y) {\r\n         return this.cmp(y) < 1;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the value of this Big minus the value\r\n     * of Big y.\r\n     */\r\n    P.sub = P.minus = function (y) {\r\n        var i, j, t, xLTy,\r\n            x = this,\r\n            Big = x.constructor,\r\n            a = x.s,\r\n            b = (y = new Big(y)).s;\r\n\r\n        // Signs differ?\r\n        if (a != b) {\r\n            y.s = -b;\r\n            return x.plus(y);\r\n        }\r\n\r\n        var xc = x.c.slice(),\r\n            xe = x.e,\r\n            yc = y.c,\r\n            ye = y.e;\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n            // y is non-zero? x is non-zero? Or both are zero.\r\n            return yc[0] ? (y.s = -b, y) : new Big(xc[0] ? x : 0);\r\n        }\r\n\r\n        // Determine which is the bigger number.\r\n        // Prepend zeros to equalise exponents.\r\n        if (a = xe - ye) {\r\n\r\n            if (xLTy = a < 0) {\r\n                a = -a;\r\n                t = xc;\r\n            } else {\r\n                ye = xe;\r\n                t = yc;\r\n            }\r\n\r\n            t.reverse();\r\n            for (b = a; b--; t.push(0)) {\r\n            }\r\n            t.reverse();\r\n        } else {\r\n\r\n            // Exponents equal. Check digit by digit.\r\n            j = ((xLTy = xc.length < yc.length) ? xc : yc).length;\r\n\r\n            for (a = b = 0; b < j; b++) {\r\n\r\n                if (xc[b] != yc[b]) {\r\n                    xLTy = xc[b] < yc[b];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // x < y? Point xc to the array of the bigger number.\r\n        if (xLTy) {\r\n            t = xc;\r\n            xc = yc;\r\n            yc = t;\r\n            y.s = -y.s;\r\n        }\r\n\r\n        /*\r\n         * Append zeros to xc if shorter. No need to add zeros to yc if shorter\r\n         * as subtraction only needs to start at yc.length.\r\n         */\r\n        if (( b = (j = yc.length) - (i = xc.length) ) > 0) {\r\n\r\n            for (; b--; xc[i++] = 0) {\r\n            }\r\n        }\r\n\r\n        // Subtract yc from xc.\r\n        for (b = i; j > a;){\r\n\r\n            if (xc[--j] < yc[j]) {\r\n\r\n                for (i = j; i && !xc[--i]; xc[i] = 9) {\r\n                }\r\n                --xc[i];\r\n                xc[j] += 10;\r\n            }\r\n            xc[j] -= yc[j];\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (; xc[--b] === 0; xc.pop()) {\r\n        }\r\n\r\n        // Remove leading zeros and adjust exponent accordingly.\r\n        for (; xc[0] === 0;) {\r\n            xc.shift();\r\n            --ye;\r\n        }\r\n\r\n        if (!xc[0]) {\r\n\r\n            // n - n = +0\r\n            y.s = 1;\r\n\r\n            // Result must be zero.\r\n            xc = [ye = 0];\r\n        }\r\n\r\n        y.c = xc;\r\n        y.e = ye;\r\n\r\n        return y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the value of this Big modulo the\r\n     * value of Big y.\r\n     */\r\n    P.mod = function (y) {\r\n        var yGTx,\r\n            x = this,\r\n            Big = x.constructor,\r\n            a = x.s,\r\n            b = (y = new Big(y)).s;\r\n\r\n        if (!y.c[0]) {\r\n            throwErr(NaN);\r\n        }\r\n\r\n        x.s = y.s = 1;\r\n        yGTx = y.cmp(x) == 1;\r\n        x.s = a;\r\n        y.s = b;\r\n\r\n        if (yGTx) {\r\n            return new Big(x);\r\n        }\r\n\r\n        a = Big.DP;\r\n        b = Big.RM;\r\n        Big.DP = Big.RM = 0;\r\n        x = x.div(y);\r\n        Big.DP = a;\r\n        Big.RM = b;\r\n\r\n        return this.minus( x.times(y) );\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the value of this Big plus the value\r\n     * of Big y.\r\n     */\r\n    P.add = P.plus = function (y) {\r\n        var t,\r\n            x = this,\r\n            Big = x.constructor,\r\n            a = x.s,\r\n            b = (y = new Big(y)).s;\r\n\r\n        // Signs differ?\r\n        if (a != b) {\r\n            y.s = -b;\r\n            return x.minus(y);\r\n        }\r\n\r\n        var xe = x.e,\r\n            xc = x.c,\r\n            ye = y.e,\r\n            yc = y.c;\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n            // y is non-zero? x is non-zero? Or both are zero.\r\n            return yc[0] ? y : new Big(xc[0] ? x : a * 0);\r\n        }\r\n        xc = xc.slice();\r\n\r\n        // Prepend zeros to equalise exponents.\r\n        // Note: Faster to use reverse then do unshifts.\r\n        if (a = xe - ye) {\r\n\r\n            if (a > 0) {\r\n                ye = xe;\r\n                t = yc;\r\n            } else {\r\n                a = -a;\r\n                t = xc;\r\n            }\r\n\r\n            t.reverse();\r\n            for (; a--; t.push(0)) {\r\n            }\r\n            t.reverse();\r\n        }\r\n\r\n        // Point xc to the longer array.\r\n        if (xc.length - yc.length < 0) {\r\n            t = yc;\r\n            yc = xc;\r\n            xc = t;\r\n        }\r\n        a = yc.length;\r\n\r\n        /*\r\n         * Only start adding at yc.length - 1 as the further digits of xc can be\r\n         * left as they are.\r\n         */\r\n        for (b = 0; a;) {\r\n            b = (xc[--a] = xc[a] + yc[a] + b) / 10 | 0;\r\n            xc[a] %= 10;\r\n        }\r\n\r\n        // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n\r\n        if (b) {\r\n            xc.unshift(b);\r\n            ++ye;\r\n        }\r\n\r\n         // Remove trailing zeros.\r\n        for (a = xc.length; xc[--a] === 0; xc.pop()) {\r\n        }\r\n\r\n        y.c = xc;\r\n        y.e = ye;\r\n\r\n        return y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a Big whose value is the value of this Big raised to the power n.\r\n     * If n is negative, round, if necessary, to a maximum of Big.DP decimal\r\n     * places using rounding mode Big.RM.\r\n     *\r\n     * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n     */\r\n    P.pow = function (n) {\r\n        var x = this,\r\n            one = new x.constructor(1),\r\n            y = one,\r\n            isNeg = n < 0;\r\n\r\n        if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\r\n            throwErr('!pow!');\r\n        }\r\n\r\n        n = isNeg ? -n : n;\r\n\r\n        for (;;) {\r\n\r\n            if (n & 1) {\r\n                y = y.times(x);\r\n            }\r\n            n >>= 1;\r\n\r\n            if (!n) {\r\n                break;\r\n            }\r\n            x = x.times(x);\r\n        }\r\n\r\n        return isNeg ? one.div(y) : y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the value of this Big rounded to a\r\n     * maximum of dp decimal places using rounding mode rm.\r\n     * If dp is not specified, round to 0 decimal places.\r\n     * If rm is not specified, use Big.RM.\r\n     *\r\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\r\n     * [rm] 0, 1, 2 or 3 (ROUND_DOWN, ROUND_HALF_UP, ROUND_HALF_EVEN, ROUND_UP)\r\n     */\r\n    P.round = function (dp, rm) {\r\n        var x = this,\r\n            Big = x.constructor;\r\n\r\n        if (dp == null) {\r\n            dp = 0;\r\n        } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n            throwErr('!round!');\r\n        }\r\n        rnd(x = new Big(x), dp, rm == null ? Big.RM : rm);\r\n\r\n        return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the square root of the value of this Big,\r\n     * rounded, if necessary, to a maximum of Big.DP decimal places using\r\n     * rounding mode Big.RM.\r\n     */\r\n    P.sqrt = function () {\r\n        var estimate, r, approx,\r\n            x = this,\r\n            Big = x.constructor,\r\n            xc = x.c,\r\n            i = x.s,\r\n            e = x.e,\r\n            half = new Big('0.5');\r\n\r\n        // Zero?\r\n        if (!xc[0]) {\r\n            return new Big(x);\r\n        }\r\n\r\n        // If negative, throw NaN.\r\n        if (i < 0) {\r\n            throwErr(NaN);\r\n        }\r\n\r\n        // Estimate.\r\n        i = Math.sqrt(x.toString());\r\n\r\n        // Math.sqrt underflow/overflow?\r\n        // Pass x to Math.sqrt as integer, then adjust the result exponent.\r\n        if (i === 0 || i === 1 / 0) {\r\n            estimate = xc.join('');\r\n\r\n            if (!(estimate.length + e & 1)) {\r\n                estimate += '0';\r\n            }\r\n\r\n            r = new Big( Math.sqrt(estimate).toString() );\r\n            r.e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n        } else {\r\n            r = new Big(i.toString());\r\n        }\r\n\r\n        i = r.e + (Big.DP += 4);\r\n\r\n        // Newton-Raphson iteration.\r\n        do {\r\n            approx = r;\r\n            r = half.times( approx.plus( x.div(approx) ) );\r\n        } while ( approx.c.slice(0, i).join('') !==\r\n                       r.c.slice(0, i).join('') );\r\n\r\n        rnd(r, Big.DP -= 4, Big.RM);\r\n\r\n        return r;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new Big whose value is the value of this Big times the value of\r\n     * Big y.\r\n     */\r\n    P.mul = P.times = function (y) {\r\n        var c,\r\n            x = this,\r\n            Big = x.constructor,\r\n            xc = x.c,\r\n            yc = (y = new Big(y)).c,\r\n            a = xc.length,\r\n            b = yc.length,\r\n            i = x.e,\r\n            j = y.e;\r\n\r\n        // Determine sign of result.\r\n        y.s = x.s == y.s ? 1 : -1;\r\n\r\n        // Return signed 0 if either 0.\r\n        if (!xc[0] || !yc[0]) {\r\n            return new Big(y.s * 0);\r\n        }\r\n\r\n        // Initialise exponent of result as x.e + y.e.\r\n        y.e = i + j;\r\n\r\n        // If array xc has fewer digits than yc, swap xc and yc, and lengths.\r\n        if (a < b) {\r\n            c = xc;\r\n            xc = yc;\r\n            yc = c;\r\n            j = a;\r\n            a = b;\r\n            b = j;\r\n        }\r\n\r\n        // Initialise coefficient array of result with zeros.\r\n        for (c = new Array(j = a + b); j--; c[j] = 0) {\r\n        }\r\n\r\n        // Multiply.\r\n\r\n        // i is initially xc.length.\r\n        for (i = b; i--;) {\r\n            b = 0;\r\n\r\n            // a is yc.length.\r\n            for (j = a + i; j > i;) {\r\n\r\n                // Current sum of products at this digit position, plus carry.\r\n                b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n                c[j--] = b % 10;\r\n\r\n                // carry\r\n                b = b / 10 | 0;\r\n            }\r\n            c[j] = (c[j] + b) % 10;\r\n        }\r\n\r\n        // Increment result exponent if there is a final carry.\r\n        if (b) {\r\n            ++y.e;\r\n        }\r\n\r\n        // Remove any leading zero.\r\n        if (!c[0]) {\r\n            c.shift();\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = c.length; !c[--i]; c.pop()) {\r\n        }\r\n        y.c = c;\r\n\r\n        return y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this Big.\r\n     * Return exponential notation if this Big has a positive exponent equal to\r\n     * or greater than Big.E_POS, or a negative exponent equal to or less than\r\n     * Big.E_NEG.\r\n     */\r\n    P.toString = P.valueOf = P.toJSON = function () {\r\n        var x = this,\r\n            Big = x.constructor,\r\n            e = x.e,\r\n            str = x.c.join(''),\r\n            strL = str.length;\r\n\r\n        // Exponential notation?\r\n        if (e <= Big.E_NEG || e >= Big.E_POS) {\r\n            str = str.charAt(0) + (strL > 1 ? '.' + str.slice(1) : '') +\r\n              (e < 0 ? 'e' : 'e+') + e;\r\n\r\n        // Negative exponent?\r\n        } else if (e < 0) {\r\n\r\n            // Prepend zeros.\r\n            for (; ++e; str = '0' + str) {\r\n            }\r\n            str = '0.' + str;\r\n\r\n        // Positive exponent?\r\n        } else if (e > 0) {\r\n\r\n            if (++e > strL) {\r\n\r\n                // Append zeros.\r\n                for (e -= strL; e-- ; str += '0') {\r\n                }\r\n            } else if (e < strL) {\r\n                str = str.slice(0, e) + '.' + str.slice(e);\r\n            }\r\n\r\n        // Exponent zero.\r\n        } else if (strL > 1) {\r\n            str = str.charAt(0) + '.' + str.slice(1);\r\n        }\r\n\r\n        // Avoid '-0'\r\n        return x.s < 0 && x.c[0] ? '-' + str : str;\r\n    };\r\n\r\n\r\n    /*\r\n     ***************************************************************************\r\n     * If toExponential, toFixed, toPrecision and format are not required they\r\n     * can safely be commented-out or deleted. No redundant code will be left.\r\n     * format is used only by toExponential, toFixed and toPrecision.\r\n     ***************************************************************************\r\n     */\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this Big in exponential\r\n     * notation to dp fixed decimal places and rounded, if necessary, using\r\n     * Big.RM.\r\n     *\r\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\r\n     */\r\n    P.toExponential = function (dp) {\r\n\r\n        if (dp == null) {\r\n            dp = this.c.length - 1;\r\n        } else if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n            throwErr('!toExp!');\r\n        }\r\n\r\n        return format(this, dp, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this Big in normal notation\r\n     * to dp fixed decimal places and rounded, if necessary, using Big.RM.\r\n     *\r\n     * [dp] {number} Integer, 0 to MAX_DP inclusive.\r\n     */\r\n    P.toFixed = function (dp) {\r\n        var str,\r\n            x = this,\r\n            Big = x.constructor,\r\n            neg = Big.E_NEG,\r\n            pos = Big.E_POS;\r\n\r\n        // Prevent the possibility of exponential notation.\r\n        Big.E_NEG = -(Big.E_POS = 1 / 0);\r\n\r\n        if (dp == null) {\r\n            str = x.toString();\r\n        } else if (dp === ~~dp && dp >= 0 && dp <= MAX_DP) {\r\n            str = format(x, x.e + dp);\r\n\r\n            // (-0).toFixed() is '0', but (-0.1).toFixed() is '-0'.\r\n            // (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n            if (x.s < 0 && x.c[0] && str.indexOf('-') < 0) {\r\n        //E.g. -0.5 if rounded to -0 will cause toString to omit the minus sign.\r\n                str = '-' + str;\r\n            }\r\n        }\r\n        Big.E_NEG = neg;\r\n        Big.E_POS = pos;\r\n\r\n        if (!str) {\r\n            throwErr('!toFix!');\r\n        }\r\n\r\n        return str;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this Big rounded to sd\r\n     * significant digits using Big.RM. Use exponential notation if sd is less\r\n     * than the number of digits necessary to represent the integer part of the\r\n     * value in normal notation.\r\n     *\r\n     * sd {number} Integer, 1 to MAX_DP inclusive.\r\n     */\r\n    P.toPrecision = function (sd) {\r\n\r\n        if (sd == null) {\r\n            return this.toString();\r\n        } else if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n            throwErr('!toPre!');\r\n        }\r\n\r\n        return format(this, sd - 1, 2);\r\n    };\r\n\r\n\r\n    // Export\r\n\r\n\r\n    Big = bigFactory();\r\n\r\n    //AMD.\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(function () {\r\n            return Big;\r\n        });\r\n\r\n    // Node and other CommonJS-like environments that support module.exports.\r\n    } else if (typeof module !== 'undefined' && module.exports) {\r\n        module.exports = Big;\r\n\r\n    //Browser.\r\n    } else {\r\n        global.Big = Big;\r\n    }\r\n})(this);\r\n";

},function(e,t,n){n(204)(n(547))},function(e,t,n){n(204)(n(548))},function(e,t,n){(function(e,t){(function(e,n){"use strict";if(e.setImmediate){return}var i=1;var r={};var a=false;var s=e.document;var o;function l(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var n=0;n<t.length;n++){t[n]=arguments[n+1]}var a={callback:e,args:t};r[i]=a;o(i);return i++}function u(e){delete r[e]}function c(e){var t=e.callback;var i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i);break}}function d(e){if(a){setTimeout(d,0,e)}else{var t=r[e];if(t){a=true;try{c(t)}finally{u(e);a=false}}}}function f(){o=function(e){t.nextTick(function(){d(e)})}}function h(){if(e.postMessage&&!e.importScripts){var t=true;var n=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=n;return t}}function p(){var t="setImmediate$"+Math.random()+"$";var n=function(n){if(n.source===e&&typeof n.data==="string"&&n.data.indexOf(t)===0){d(+n.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",n,false)}else{e.attachEvent("onmessage",n)}o=function(n){e.postMessage(t+n,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)};o=function(t){e.port2.postMessage(t)}}function _(){var e=s.documentElement;o=function(t){var n=s.createElement("script");n.onreadystatechange=function(){d(t);n.onreadystatechange=null;e.removeChild(n);n=null};e.appendChild(n)}}function g(){o=function(e){setTimeout(d,0,e)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e;if({}.toString.call(e.process)==="[object process]"){f()}else if(h()){p()}else if(e.MessageChannel){m()}else if(s&&"onreadystatechange"in s.createElement("script")){_()}else{g()}v.setImmediate=l;v.clearImmediate=u})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(t,n(58),n(57))},function(e,t,n){var i=n(357);if(typeof i==="string")i=[[e.i,i,""]];var r=n(205)(i,{});if(i.locals)e.exports=i.locals;if(false){if(!i.locals){e.hot.accept("!!../../node_modules/css-loader/index.js!./smartbanner.css",function(){var t=require("!!../../node_modules/css-loader/index.js!./smartbanner.css");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,n){var i=n(358);if(typeof i==="string")i=[[e.i,i,""]];var r=n(205)(i,{});if(i.locals)e.exports=i.locals;if(false){if(!i.locals){e.hot.accept("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/index.js?noIeCompat!./bootstrap-mobile.less",function(){var t=require("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/index.js?noIeCompat!./bootstrap-mobile.less");if(typeof t==="string")t=[[e.id,t,""]];r(t)})}e.hot.dispose(function(){r()})}},function(e,t,n){(function(){var n=this;var i=n._;var r={};var a=Array.prototype,s=Object.prototype,o=Function.prototype;var l=a.slice,u=a.unshift,c=s.toString,d=s.hasOwnProperty;var f=a.forEach,h=a.map,p=a.reduce,m=a.reduceRight,_=a.filter,g=a.every,v=a.some,b=a.indexOf,y=a.lastIndexOf,x=Array.isArray,S=Object.keys,w=o.bind;var L=function(e){return new F(e)};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=L}t._=L}else{n["_"]=L}L.VERSION="1.3.3";var E=L.each=L.forEach=function(e,t,n){if(e==null)return;if(f&&e.forEach===f){e.forEach(t,n)}else if(e.length===+e.length){for(var i=0,a=e.length;i<a;i++){if(i in e&&t.call(n,e[i],i,e)===r)return}}else{for(var s in e){if(L.has(e,s)){if(t.call(n,e[s],s,e)===r)return}}}};L.map=L.collect=function(e,t,n){var i=[];if(e==null)return i;if(h&&e.map===h)return e.map(t,n);E(e,function(e,r,a){i[i.length]=t.call(n,e,r,a)});if(e.length===+e.length)i.length=e.length;return i};L.reduce=L.foldl=L.inject=function(e,t,n,i){var r=arguments.length>2;if(e==null)e=[];if(p&&e.reduce===p){if(i)t=L.bind(t,i);return r?e.reduce(t,n):e.reduce(t)}E(e,function(e,a,s){if(!r){n=e;r=true}else{n=t.call(i,n,e,a,s)}});if(!r)throw new TypeError("Reduce of empty array with no initial value");return n};L.reduceRight=L.foldr=function(e,t,n,i){var r=arguments.length>2;if(e==null)e=[];if(m&&e.reduceRight===m){if(i)t=L.bind(t,i);return r?e.reduceRight(t,n):e.reduceRight(t)}var a=L.toArray(e).reverse();if(i&&!r)t=L.bind(t,i);return r?L.reduce(a,t,n,i):L.reduce(a,t)};L.find=L.detect=function(e,t,n){var i;k(e,function(e,r,a){if(t.call(n,e,r,a)){i=e;return true}});return i};L.filter=L.select=function(e,t,n){var i=[];if(e==null)return i;if(_&&e.filter===_)return e.filter(t,n);E(e,function(e,r,a){if(t.call(n,e,r,a))i[i.length]=e});return i};L.reject=function(e,t,n){var i=[];if(e==null)return i;E(e,function(e,r,a){if(!t.call(n,e,r,a))i[i.length]=e});return i};L.every=L.all=function(e,t,n){var i=true;if(e==null)return i;if(g&&e.every===g)return e.every(t,n);E(e,function(e,a,s){if(!(i=i&&t.call(n,e,a,s)))return r});return!!i};var k=L.some=L.any=function(e,t,n){t||(t=L.identity);var i=false;if(e==null)return i;if(v&&e.some===v)return e.some(t,n);E(e,function(e,a,s){if(i||(i=t.call(n,e,a,s)))return r});return!!i};L.include=L.contains=function(e,t){var n=false;if(e==null)return n;if(b&&e.indexOf===b)return e.indexOf(t)!=-1;n=k(e,function(e){return e===t});return n};L.invoke=function(e,t){var n=l.call(arguments,2);return L.map(e,function(e){return(L.isFunction(t)?t||e:e[t]).apply(e,n)})};L.pluck=function(e,t){return L.map(e,function(e){return e[t]})};L.max=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&L.isEmpty(e))return-Infinity;var i={computed:-Infinity};E(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;s>=i.computed&&(i={value:e,computed:s})});return i.value};L.min=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&L.isEmpty(e))return Infinity;var i={computed:Infinity};E(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;s<i.computed&&(i={value:e,computed:s})});return i.value};L.shuffle=function(e){var t=[],n;E(e,function(e,i,r){n=Math.floor(Math.random()*(i+1));t[i]=t[n];t[n]=e});return t};L.sortBy=function(e,t,n){var i=L.isFunction(t)?t:function(e){return e[t]};return L.pluck(L.map(e,function(e,t,r){return{value:e,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n===void 0)return 1;if(i===void 0)return-1;return n<i?-1:n>i?1:0}),"value")};L.groupBy=function(e,t){var n={};var i=L.isFunction(t)?t:function(e){return e[t]};E(e,function(e,t){var r=i(e,t);(n[r]||(n[r]=[])).push(e)});return n};L.sortedIndex=function(e,t,n){n||(n=L.identity);var i=0,r=e.length;while(i<r){var a=i+r>>1;n(e[a])<n(t)?i=a+1:r=a}return i};L.toArray=function(e){if(!e)return[];if(L.isArray(e))return l.call(e);if(L.isArguments(e))return l.call(e);if(e.toArray&&L.isFunction(e.toArray))return e.toArray();return L.values(e)};L.size=function(e){return L.isArray(e)?e.length:L.keys(e).length};L.first=L.head=L.take=function(e,t,n){return t!=null&&!n?l.call(e,0,t):e[0]};L.initial=function(e,t,n){return l.call(e,0,e.length-(t==null||n?1:t))};L.last=function(e,t,n){if(t!=null&&!n){return l.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};L.rest=L.tail=function(e,t,n){return l.call(e,t==null||n?1:t)};L.compact=function(e){return L.filter(e,function(e){return!!e})};L.flatten=function(e,t){return L.reduce(e,function(e,n){if(L.isArray(n))return e.concat(t?n:L.flatten(n));e[e.length]=n;return e},[])};L.without=function(e){return L.difference(e,l.call(arguments,1))};L.uniq=L.unique=function(e,t,n){var i=n?L.map(e,n):e;var r=[];if(e.length<3)t=true;L.reduce(i,function(n,i,a){if(t?L.last(n)!==i||!n.length:!L.include(n,i)){n.push(i);r.push(e[a])}return n},[]);return r};L.union=function(){return L.uniq(L.flatten(arguments,true))};L.intersection=L.intersect=function(e){var t=l.call(arguments,1);return L.filter(L.uniq(e),function(e){return L.every(t,function(t){return L.indexOf(t,e)>=0})})};L.difference=function(e){var t=L.flatten(l.call(arguments,1),true);return L.filter(e,function(e){return!L.include(t,e)})};L.zip=function(){var e=l.call(arguments);var t=L.max(L.pluck(e,"length"));var n=new Array(t);for(var i=0;i<t;i++)n[i]=L.pluck(e,""+i);return n};L.indexOf=function(e,t,n){if(e==null)return-1;var i,r;if(n){i=L.sortedIndex(e,t);return e[i]===t?i:-1}if(b&&e.indexOf===b)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(i in e&&e[i]===t)return i;return-1};L.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1};L.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var i=Math.max(Math.ceil((t-e)/n),0);var r=0;var a=new Array(i);while(r<i){a[r++]=e;e+=n}return a};var A=function(){};L.bind=function P(e,t){var n,i;if(e.bind===w&&w)return w.apply(e,l.call(arguments,1));if(!L.isFunction(e))throw new TypeError;i=l.call(arguments,2);return n=function(){if(!(this instanceof n))return e.apply(t,i.concat(l.call(arguments)));A.prototype=e.prototype;var r=new A;var a=e.apply(r,i.concat(l.call(arguments)));if(Object(a)===a)return a;return r}};L.bindAll=function(e){var t=l.call(arguments,1);if(t.length==0)t=L.functions(e);E(t,function(t){e[t]=L.bind(e[t],e)});return e};L.memoize=function(e,t){var n={};t||(t=L.identity);return function(){var i=t.apply(this,arguments);return L.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}};L.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};L.defer=function(e){return L.delay.apply(L,[e,1].concat(l.call(arguments,1)))};L.throttle=function(e,t){var n,i,r,a,s,o;var l=L.debounce(function(){s=a=false},t);return function(){n=this;i=arguments;var u=function(){r=null;if(s)e.apply(n,i);l()};if(!r)r=setTimeout(u,t);if(a){s=true}else{o=e.apply(n,i)}l();a=true;return o}};L.debounce=function(e,t,n){var i;return function(){var r=this,a=arguments;var s=function(){i=null;if(!n)e.apply(r,a)};if(n&&!i)e.apply(r,a);clearTimeout(i);i=setTimeout(s,t)}};L.once=function(e){var t=false,n;return function(){if(t)return n;t=true;return n=e.apply(this,arguments)}};L.wrap=function(e,t){return function(){var n=[e].concat(l.call(arguments,0));return t.apply(this,n)}};L.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};L.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};L.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(L.has(e,n))t[t.length]=n;return t};L.values=function(e){return L.map(e,L.identity)};L.functions=L.methods=function(e){var t=[];for(var n in e){if(L.isFunction(e[n]))t.push(n)}return t.sort()};L.extend=function(e){E(l.call(arguments,1),function(t){for(var n in t){e[n]=t[n]}});return e};L.pick=function(e){var t={};E(L.flatten(l.call(arguments,1)),function(n){if(n in e)t[n]=e[n]});return t};L.defaults=function(e){E(l.call(arguments,1),function(t){for(var n in t){if(e[n]==null)e[n]=t[n]}});return e};L.clone=function(e){if(!L.isObject(e))return e;return L.isArray(e)?e.slice():L.extend({},e)};L.tap=function(e,t){t(e);return e};function M(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e._chain)e=e._wrapped;if(t._chain)t=t._wrapped;if(e.isEqual&&L.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&L.isFunction(t.isEqual))return t.isEqual(e);var i=c.call(e);if(i!=c.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var r=n.length;while(r--){if(n[r]==e)return true}n.push(e);var a=0,s=true;if(i=="[object Array]"){a=e.length;s=a==t.length;if(s){while(a--){if(!(s=a in e==a in t&&M(e[a],t[a],n)))break}}}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return false;for(var o in e){if(L.has(e,o)){a++;if(!(s=L.has(t,o)&&M(e[o],t[o],n)))break}}if(s){for(o in t){if(L.has(t,o)&&!a--)break}s=!a}}n.pop();return s}L.isEqual=function(e,t){return M(e,t,[])};L.isEmpty=function(e){if(e==null)return true;if(L.isArray(e)||L.isString(e))return e.length===0;for(var t in e)if(L.has(e,t))return false;return true};L.isElement=function(e){return!!(e&&e.nodeType==1)};L.isArray=x||function(e){return c.call(e)=="[object Array]"};L.isObject=function(e){return e===Object(e)};L.isArguments=function(e){return c.call(e)=="[object Arguments]"};if(!L.isArguments(arguments)){L.isArguments=function(e){return!!(e&&L.has(e,"callee"))}}L.isFunction=function(e){return c.call(e)=="[object Function]"};L.isString=function(e){return c.call(e)=="[object String]"};L.isNumber=function(e){return c.call(e)=="[object Number]"};L.isFinite=function(e){return L.isNumber(e)&&isFinite(e)};L.isNaN=function(e){return e!==e};L.isBoolean=function(e){return e===true||e===false||c.call(e)=="[object Boolean]"};L.isDate=function(e){return c.call(e)=="[object Date]"};L.isRegExp=function(e){return c.call(e)=="[object RegExp]"};L.isNull=function(e){return e===null};L.isUndefined=function(e){return e===void 0};L.has=function(e,t){return d.call(e,t)};L.noConflict=function(){n._=i;return this};L.identity=function(e){return e};L.times=function(e,t,n){for(var i=0;i<e;i++)t.call(n,i)};L.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};L.result=function(e,t){if(e==null)return null;var n=e[t];return L.isFunction(n)?n.call(e):n};L.mixin=function(e){E(L.functions(e),function(t){U(t,L[t]=e[t])})};var T=0;L.uniqueId=function(e){var t=T++;return e?e+t:t};L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/;var R={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var D in R)R[R[D]]=D;var I=/\\|'|\r|\n|\t|\u2028|\u2029/g;var O=/\\(\\|'|r|n|t|u2028|u2029)/g;var N=function(e){return e.replace(O,function(e,t){return R[t]})};L.template=function(e,t,n){n=L.defaults(n||{},L.templateSettings);var i="__p+='"+e.replace(I,function(e){return"\\"+R[e]}).replace(n.escape||C,function(e,t){return"'+\n_.escape("+N(t)+")+\n'"}).replace(n.interpolate||C,function(e,t){return"'+\n("+N(t)+")+\n'"}).replace(n.evaluate||C,function(e,t){return"';\n"+N(t)+"\n;__p+='"})+"';\n";if(!n.variable)i="with(obj||{}){\n"+i+"}\n";i="var __p='';"+"var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+i+"return __p;\n";var r=new Function(n.variable||"obj","_",i);if(t)return r(t,L);var a=function(e){return r.call(this,e,L)};a.source="function("+(n.variable||"obj")+"){\n"+i+"}";return a};L.chain=function(e){return L(e).chain()};var F=function(e){this._wrapped=e};L.prototype=F.prototype;var B=function(e,t){return t?L(e).chain():e};var U=function(e,t){F.prototype[e]=function(){var e=l.call(arguments);u.call(e,this._wrapped);return B(t.apply(L,e),this._chain)}};L.mixin(L);E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];F.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;if((e=="shift"||e=="splice")&&i===0)delete n[0];return B(n,this._chain)}});E(["concat","join","slice"],function(e){var t=a[e];F.prototype[e]=function(){return B(t.apply(this._wrapped,arguments),this._chain)}});F.prototype.chain=function(){this._chain=true;return this};F.prototype.value=function(){return this._wrapped}}).call(this)},function(e,t,n){var i,r,a,s,o,l,u,c,d,f,h=[].slice;c=n(554);i=Object.getPrototypeOf;r=Object.prototype;d={},a=d.hasOwnProperty,s=d.toString;o=t.DEFAULT_DELEGATE_OPTIONS={getter:"get",setter:"set",deleter:"unset"};l=t.TOMBSTONE={};u=t.DEFAULT_NESTED_OPTIONS=p({ensure:false,tombstone:l},o);f={isMember:function(e,t){var n,i;n=c.unique([].slice.call(arguments,1));i=c.intersection(c.values(e),n);return c.isEqual(n,i)},get:function(e,t,n,i){var r;if(e==null){return}r=(i!=null?i.getter:void 8)||"get";if(typeof e[r]==="function"){return e[r](t,n,i)}else{if(e[t]!==void 8){return e[t]}else{return n}}},set:function(e,t,n,i){var r,a,s;if(e==null){return}if(t!=null&&c.isObject(t)){s=[t,n],r=s[0],i=s[1]}else{r=(s={},s[t+""]=n,s)}a=(i!=null?i.setter:void 8)||"set";if(typeof e[a]==="function"){for(t in r){n=r[t];e[a](t,n,i)}}else{for(t in r){n=r[t];e[t]=n}}return e},unset:function(e,t,n){var i,r;if(e==null){return}i=(n!=null?n.deleter:void 8)||"unset";if(typeof e[i]==="function"){return e[i](t,n)}else{return r=e[t],delete e[t],r}},getNestedMeta:function(e,t,n){var i;if(typeof t==="string"){t=t.split(".")}i=t.length-1;n=p(c.clone(u),n||{});return c.reduce(t,function(e,t,r){var a;if(e==null){return}a=f.get(e,t,void 8,n);if(a===n.tombstone){if(!ops.ensure){return}a=void 8}if(r===i){return{key:t,val:a,obj:e,opts:n}}if(a==null&&n.ensure){a={};f.set(e,t,a,n)}return a},e)},getNested:function(e,t,n,i){var r;r=f.getNestedMeta(e,t,i);if((r!=null?r.val:void 8)===void 8){return n}return r.val},setNested:function(e,t,n,i){var r,a,s;if(!(r=f.getNestedMeta(e,t,i))){return}e=r.obj,a=r.key,s=r.val,i=r.opts;f.set(e,a,n,i);return s},unsetNested:function(e,t,n){var i,r,a;if(!(i=f.getNestedMeta(e,t,n))){return}e=i.obj,r=i.key,a=i.val,n=i.opts;f.unset(e,r,n);return a},isPlainObject:function(e){var t;if(!e||s.call(e)!=="[object Object]"||e.nodeType||e.setInterval){return false}if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf")){return false}for(t in e){}return t===void 8||a.call(e,t)},remove:function(e,t){var n,i,r,a,s;n=[].slice.call(arguments,1);if(c.isArray(e)||e instanceof Array){for(a=0,s=n.length;a<s;++a){t=n[a];i=e.indexOf(t);if(i!==-1){e.splice(i,1)}}}else{for(r in e){t=e[r];if(-1!==n.indexOf(t)){delete e[r]}}}return e},items:function(e){if(c.isObject(e)&&!c.isArguments(e)){return c.map(e,function(e,t){return[t,e]})}else{return[].slice.call(e)}},merge:function(e){var t,n,i,r;e==null&&(e={});t=h.call(arguments,1);if(!(typeof e==="object"||c.isFunction(e))){e=c.isArray(t[0])?[]:{}}for(i=0,r=t.length;i<r;++i){n=t[i];if(n==null){continue}c.each(n,a)}return e;function a(t,n){var i,r;i=e[n];if(e===t){return}if(t&&(f.isPlainObject(t)||(r=c.isArray(t)))){if(r){if(!c.isArray(i)){i=[]}}else{if(!(i&&typeof i==="object")){i={}}}return f.set(e,n,f.merge(i,t))}else if(t!==void 8){return f.set(e,n,t)}}}};p(t,f);function p(e,t){var n={}.hasOwnProperty;for(var i in t)if(n.call(t,i))e[i]=t[i];return e}},function(e,t,n){var i,r;(function(){var n=this;var a=n._;var s=Array.prototype,o=Object.prototype,l=Function.prototype;var u=s.push,c=s.slice,d=o.toString,f=o.hasOwnProperty;var h=Array.isArray,p=Object.keys,m=l.bind,_=Object.create;var g=function(){};var v=function(e){if(e instanceof v)return e;if(!(this instanceof v))return new v(e);this._wrapped=e};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=v}t._=v}else{n._=v}v.VERSION="1.8.3";var b=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(){return e.apply(t,arguments)}};var y=function(e,t,n){if(e==null)return v.identity;if(v.isFunction(e))return b(e,t,n);if(v.isObject(e))return v.matcher(e);return v.property(e)};v.iteratee=function(e,t){return y(e,t,Infinity)};var x=function(e,t){return function(n){var i=arguments.length;if(i<2||n==null)return n;for(var r=1;r<i;r++){var a=arguments[r],s=e(a),o=s.length;for(var l=0;l<o;l++){var u=s[l];if(!t||n[u]===void 0)n[u]=a[u]}}return n}};var S=function(e){if(!v.isObject(e))return{};if(_)return _(e);g.prototype=e;var t=new g;g.prototype=null;return t};var w=function(e){return function(t){return t==null?void 0:t[e]}};var L=Math.pow(2,53)-1;var E=w("length");var k=function(e){var t=E(e);return typeof t=="number"&&t>=0&&t<=L};v.each=v.forEach=function(e,t,n){t=b(t,n);var i,r;if(k(e)){for(i=0,r=e.length;i<r;i++){t(e[i],i,e)}}else{var a=v.keys(e);for(i=0,r=a.length;i<r;i++){t(e[a[i]],a[i],e)}}return e};v.map=v.collect=function(e,t,n){t=y(t,n);var i=!k(e)&&v.keys(e),r=(i||e).length,a=Array(r);for(var s=0;s<r;s++){var o=i?i[s]:s;a[s]=t(e[o],o,e)}return a};function A(e){function t(t,n,i,r,a,s){for(;a>=0&&a<s;a+=e){var o=r?r[a]:a;i=n(i,t[o],o,t)}return i}return function(n,i,r,a){i=b(i,a,4);var s=!k(n)&&v.keys(n),o=(s||n).length,l=e>0?0:o-1;if(arguments.length<3){r=n[s?s[l]:l];l+=e}return t(n,i,r,s,l,o)}}v.reduce=v.foldl=v.inject=A(1);v.reduceRight=v.foldr=A(-1);v.find=v.detect=function(e,t,n){var i;if(k(e)){i=v.findIndex(e,t,n)}else{i=v.findKey(e,t,n)}if(i!==void 0&&i!==-1)return e[i]};v.filter=v.select=function(e,t,n){var i=[];t=y(t,n);v.each(e,function(e,n,r){if(t(e,n,r))i.push(e)});return i};v.reject=function(e,t,n){return v.filter(e,v.negate(y(t)),n)};v.every=v.all=function(e,t,n){t=y(t,n);var i=!k(e)&&v.keys(e),r=(i||e).length;for(var a=0;a<r;a++){var s=i?i[a]:a;if(!t(e[s],s,e))return false}return true};v.some=v.any=function(e,t,n){t=y(t,n);var i=!k(e)&&v.keys(e),r=(i||e).length;for(var a=0;a<r;a++){var s=i?i[a]:a;if(t(e[s],s,e))return true}return false};v.contains=v.includes=v.include=function(e,t,n,i){if(!k(e))e=v.values(e);if(typeof n!="number"||i)n=0;return v.indexOf(e,t,n)>=0};v.invoke=function(e,t){var n=c.call(arguments,2);var i=v.isFunction(t);return v.map(e,function(e){var r=i?t:e[t];return r==null?r:r.apply(e,n)})};v.pluck=function(e,t){return v.map(e,v.property(t))};v.where=function(e,t){return v.filter(e,v.matcher(t))};v.findWhere=function(e,t){return v.find(e,v.matcher(t))};v.max=function(e,t,n){var i=-Infinity,r=-Infinity,a,s;if(t==null&&e!=null){e=k(e)?e:v.values(e);for(var o=0,l=e.length;o<l;o++){a=e[o];if(a>i){i=a}}}else{t=y(t,n);v.each(e,function(e,n,a){s=t(e,n,a);if(s>r||s===-Infinity&&i===-Infinity){i=e;r=s}})}return i};v.min=function(e,t,n){var i=Infinity,r=Infinity,a,s;if(t==null&&e!=null){e=k(e)?e:v.values(e);for(var o=0,l=e.length;o<l;o++){a=e[o];if(a<i){i=a}}}else{t=y(t,n);v.each(e,function(e,n,a){s=t(e,n,a);if(s<r||s===Infinity&&i===Infinity){i=e;r=s}})}return i};v.shuffle=function(e){var t=k(e)?e:v.values(e);var n=t.length;var i=Array(n);for(var r=0,a;r<n;r++){a=v.random(0,r);if(a!==r)i[r]=i[a];i[a]=t[r]}return i};v.sample=function(e,t,n){if(t==null||n){if(!k(e))e=v.values(e);return e[v.random(e.length-1)]}return v.shuffle(e).slice(0,Math.max(0,t))};v.sortBy=function(e,t,n){t=y(t,n);return v.pluck(v.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria;var i=t.criteria;if(n!==i){if(n>i||n===void 0)return 1;if(n<i||i===void 0)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,i){var r={};n=y(n,i);v.each(t,function(i,a){var s=n(i,a,t);e(r,i,s)});return r}};v.groupBy=M(function(e,t,n){if(v.has(e,n))e[n].push(t);else e[n]=[t]});v.indexBy=M(function(e,t,n){e[n]=t});v.countBy=M(function(e,t,n){if(v.has(e,n))e[n]++;else e[n]=1});v.toArray=function(e){if(!e)return[];if(v.isArray(e))return c.call(e);if(k(e))return v.map(e,v.identity);return v.values(e)};v.size=function(e){if(e==null)return 0;return k(e)?e.length:v.keys(e).length};v.partition=function(e,t,n){t=y(t,n);var i=[],r=[];v.each(e,function(e,n,a){(t(e,n,a)?i:r).push(e)});return[i,r]};v.first=v.head=v.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];return v.initial(e,e.length-t)};v.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))};v.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return v.rest(e,Math.max(0,e.length-t))};v.rest=v.tail=v.drop=function(e,t,n){return c.call(e,t==null||n?1:t)};v.compact=function(e){return v.filter(e,v.identity)};var T=function(e,t,n,i){var r=[],a=0;for(var s=i||0,o=E(e);s<o;s++){var l=e[s];if(k(l)&&(v.isArray(l)||v.isArguments(l))){if(!t)l=T(l,t,n);var u=0,c=l.length;r.length+=c;while(u<c){r[a++]=l[u++]}}else if(!n){r[a++]=l}}return r};v.flatten=function(e,t){return T(e,t,false)};v.without=function(e){return v.difference(e,c.call(arguments,1))};v.uniq=v.unique=function(e,t,n,i){if(!v.isBoolean(t)){i=n;n=t;t=false}if(n!=null)n=y(n,i);var r=[];var a=[];for(var s=0,o=E(e);s<o;s++){var l=e[s],u=n?n(l,s,e):l;if(t){if(!s||a!==u)r.push(l);a=u}else if(n){if(!v.contains(a,u)){a.push(u);r.push(l)}}else if(!v.contains(r,l)){r.push(l)}}return r};v.union=function(){return v.uniq(T(arguments,true,true))};v.intersection=function(e){var t=[];var n=arguments.length;for(var i=0,r=E(e);i<r;i++){var a=e[i];if(v.contains(t,a))continue;for(var s=1;s<n;s++){if(!v.contains(arguments[s],a))break}if(s===n)t.push(a)}return t};v.difference=function(e){var t=T(arguments,true,true,1);return v.filter(e,function(e){return!v.contains(t,e)})};v.zip=function(){return v.unzip(arguments)};v.unzip=function(e){var t=e&&v.max(e,E).length||0;var n=Array(t);for(var i=0;i<t;i++){n[i]=v.pluck(e,i)}return n};v.object=function(e,t){var n={};for(var i=0,r=E(e);i<r;i++){if(t){n[e[i]]=t[i]}else{n[e[i][0]]=e[i][1]}}return n};function C(e){return function(t,n,i){n=y(n,i);var r=E(t);var a=e>0?0:r-1;for(;a>=0&&a<r;a+=e){if(n(t[a],a,t))return a}return-1}}v.findIndex=C(1);v.findLastIndex=C(-1);v.sortedIndex=function(e,t,n,i){n=y(n,i,1);var r=n(t);var a=0,s=E(e);while(a<s){var o=Math.floor((a+s)/2);if(n(e[o])<r)a=o+1;else s=o}return a};function R(e,t,n){return function(i,r,a){var s=0,o=E(i);if(typeof a=="number"){if(e>0){s=a>=0?a:Math.max(a+o,s)}else{o=a>=0?Math.min(a+1,o):a+o+1}}else if(n&&a&&o){a=n(i,r);return i[a]===r?a:-1}if(r!==r){a=t(c.call(i,s,o),v.isNaN);return a>=0?a+s:-1}for(a=e>0?s:o-1;a>=0&&a<o;a+=e){if(i[a]===r)return a}return-1}}v.indexOf=R(1,v.findIndex,v.sortedIndex);v.lastIndexOf=R(-1,v.findLastIndex);v.range=function(e,t,n){if(t==null){t=e||0;e=0}n=n||1;var i=Math.max(Math.ceil((t-e)/n),0);var r=Array(i);for(var a=0;a<i;a++,e+=n){r[a]=e}return r};var D=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var a=S(e.prototype);var s=e.apply(a,r);if(v.isObject(s))return s;return a};v.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);var i=function(){return D(e,i,t,this,n.concat(c.call(arguments)))};return i};v.partial=function(e){var t=c.call(arguments,1);var n=function(){var i=0,r=t.length;var a=Array(r);for(var s=0;s<r;s++){a[s]=t[s]===v?arguments[i++]:t[s]}while(i<arguments.length)a.push(arguments[i++]);return D(e,n,this,this,a)};return n};v.bindAll=function(e){var t,n=arguments.length,i;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++){i=arguments[t];e[i]=v.bind(e[i],e)}return e};v.memoize=function(e,t){var n=function(i){var r=n.cache;var a=""+(t?t.apply(this,arguments):i);if(!v.has(r,a))r[a]=e.apply(this,arguments);return r[a]};n.cache={};return n};v.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};v.defer=v.partial(v.delay,v,1);v.throttle=function(e,t,n){var i,r,a;var s=null;var o=0;if(!n)n={};var l=function(){o=n.leading===false?0:v.now();s=null;a=e.apply(i,r);if(!s)i=r=null};return function(){var u=v.now();if(!o&&n.leading===false)o=u;var c=t-(u-o);i=this;r=arguments;if(c<=0||c>t){if(s){clearTimeout(s);s=null}o=u;a=e.apply(i,r);if(!s)i=r=null}else if(!s&&n.trailing!==false){s=setTimeout(l,c)}return a}};v.debounce=function(e,t,n){var i,r,a,s,o;var l=function(){var u=v.now()-s;if(u<t&&u>=0){i=setTimeout(l,t-u)}else{i=null;if(!n){o=e.apply(a,r);if(!i)a=r=null}}};return function(){a=this;r=arguments;s=v.now();var u=n&&!i;if(!i)i=setTimeout(l,t);if(u){o=e.apply(a,r);a=r=null}return o}};v.wrap=function(e,t){return v.partial(t,e)};v.negate=function(e){return function(){return!e.apply(this,arguments)}};v.compose=function(){var e=arguments;var t=e.length-1;return function(){var n=t;var i=e[t].apply(this,arguments);while(n--)i=e[n].call(this,i);return i}};v.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};v.before=function(e,t){var n;return function(){if(--e>0){n=t.apply(this,arguments)}if(e<=1)t=null;return n}};v.once=v.partial(v.before,2);var I=!{toString:null}.propertyIsEnumerable("toString");var O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(e,t){var n=O.length;var i=e.constructor;var r=v.isFunction(i)&&i.prototype||o;var a="constructor";if(v.has(e,a)&&!v.contains(t,a))t.push(a);while(n--){a=O[n];if(a in e&&e[a]!==r[a]&&!v.contains(t,a)){t.push(a)}}}v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)if(v.has(e,n))t.push(n);if(I)N(e,t);return t};v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);if(I)N(e,t);return t};v.values=function(e){var t=v.keys(e);var n=t.length;var i=Array(n);for(var r=0;r<n;r++){i[r]=e[t[r]]}return i};v.mapObject=function(e,t,n){t=y(t,n);var i=v.keys(e),r=i.length,a={},s;for(var o=0;o<r;o++){s=i[o];a[s]=t(e[s],s,e)}return a};v.pairs=function(e){var t=v.keys(e);var n=t.length;var i=Array(n);for(var r=0;r<n;r++){i[r]=[t[r],e[t[r]]]}return i};v.invert=function(e){var t={};var n=v.keys(e);for(var i=0,r=n.length;i<r;i++){t[e[n[i]]]=n[i]}return t};v.functions=v.methods=function(e){var t=[];for(var n in e){if(v.isFunction(e[n]))t.push(n)}return t.sort()};v.extend=x(v.allKeys);v.extendOwn=v.assign=x(v.keys);v.findKey=function(e,t,n){t=y(t,n);var i=v.keys(e),r;for(var a=0,s=i.length;a<s;a++){r=i[a];if(t(e[r],r,e))return r}};v.pick=function(e,t,n){var i={},r=e,a,s;if(r==null)return i;if(v.isFunction(t)){s=v.allKeys(r);a=b(t,n)}else{s=T(arguments,false,false,1);a=function(e,t,n){return t in n};r=Object(r)}for(var o=0,l=s.length;o<l;o++){var u=s[o];var c=r[u];if(a(c,u,r))i[u]=c}return i};v.omit=function(e,t,n){if(v.isFunction(t)){t=v.negate(t)}else{var i=v.map(T(arguments,false,false,1),String);t=function(e,t){return!v.contains(i,t)}}return v.pick(e,t,n)};v.defaults=x(v.allKeys,true);v.create=function(e,t){var n=S(e);if(t)v.extendOwn(n,t);return n};v.clone=function(e){if(!v.isObject(e))return e;return v.isArray(e)?e.slice():v.extend({},e)};v.tap=function(e,t){t(e);return e};v.isMatch=function(e,t){var n=v.keys(t),i=n.length;if(e==null)return!i;var r=Object(e);for(var a=0;a<i;a++){var s=n[a];if(t[s]!==r[s]||!(s in r))return false}return true};var F=function(e,t,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;if(e instanceof v)e=e._wrapped;if(t instanceof v)t=t._wrapped;var r=d.call(e);if(r!==d.call(t))return false;switch(r){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a=r==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return false;var s=e.constructor,o=t.constructor;if(s!==o&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(o)&&o instanceof o)&&("constructor"in e&&"constructor"in t)){return false}}n=n||[];i=i||[];var l=n.length;while(l--){if(n[l]===e)return i[l]===t}n.push(e);i.push(t);if(a){l=e.length;if(l!==t.length)return false;while(l--){if(!F(e[l],t[l],n,i))return false}}else{var u=v.keys(e),c;l=u.length;if(v.keys(t).length!==l)return false;while(l--){c=u[l];if(!(v.has(t,c)&&F(e[c],t[c],n,i)))return false}}n.pop();i.pop();return true};v.isEqual=function(e,t){return F(e,t)};v.isEmpty=function(e){if(e==null)return true;if(k(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e)))return e.length===0;return v.keys(e).length===0};v.isElement=function(e){return!!(e&&e.nodeType===1)};v.isArray=h||function(e){return d.call(e)==="[object Array]"};v.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return d.call(t)==="[object "+e+"]";

}});if(!v.isArguments(arguments)){v.isArguments=function(e){return v.has(e,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){v.isFunction=function(e){return typeof e=="function"||false}}v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};v.isNaN=function(e){return v.isNumber(e)&&e!==+e};v.isBoolean=function(e){return e===true||e===false||d.call(e)==="[object Boolean]"};v.isNull=function(e){return e===null};v.isUndefined=function(e){return e===void 0};v.has=function(e,t){return e!=null&&f.call(e,t)};v.noConflict=function(){n._=a;return this};v.identity=function(e){return e};v.constant=function(e){return function(){return e}};v.noop=function(){};v.property=w;v.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}};v.matcher=v.matches=function(e){e=v.extendOwn({},e);return function(t){return v.isMatch(t,e)}};v.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i};v.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};v.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var U=v.invert(B);var P=function(e){var t=function(t){return e[t]};var n="(?:"+v.keys(e).join("|")+")";var i=RegExp(n);var r=RegExp(n,"g");return function(e){e=e==null?"":""+e;return i.test(e)?e.replace(r,t):e}};v.escape=P(B);v.unescape=P(U);v.result=function(e,t,n){var i=e==null?void 0:e[t];if(i===void 0){i=n}return v.isFunction(i)?i.call(e):i};var Y=0;v.uniqueId=function(e){var t=++Y+"";return e?e+t:t};v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/;var G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var V=/\\|'|\r|\n|\u2028|\u2029/g;var j=function(e){return"\\"+G[e]};v.template=function(e,t,n){if(!t&&n)t=n;t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g");var r=0;var a="__p+='";e.replace(i,function(t,n,i,s,o){a+=e.slice(r,o).replace(V,j);r=o+t.length;if(n){a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(i){a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"}else if(s){a+="';\n"+s+"\n__p+='"}return t});a+="';\n";if(!t.variable)a="with(obj||{}){\n"+a+"}\n";a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var s=new Function(t.variable||"obj","_",a)}catch(o){o.source=a;throw o}var l=function(e){return s.call(this,e,v)};var u=t.variable||"obj";l.source="function("+u+"){\n"+a+"}";return l};v.chain=function(e){var t=v(e);t._chain=true;return t};var z=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];u.apply(e,arguments);return z(this,n.apply(v,e))}})};v.mixin(v);v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];v.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e==="shift"||e==="splice")&&n.length===0)delete n[0];return z(this,n)}});v.each(["concat","join","slice"],function(e){var t=s[e];v.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}});v.prototype.value=function(){return this._wrapped};v.prototype.valueOf=v.prototype.toJSON=v.prototype.value;v.prototype.toString=function(){return""+this._wrapped};if(true){!(i=[],r=function(){return v}.apply(t,i),r!==undefined&&(e.exports=r))}}).call(this)},function(e,t){(function(e){var t=0,n=window.document,i,r,a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,o=/^(?:text|application)\/xml/i,l="application/json",u="text/html",c=/^\s*$/,d=n.createElement("a");d.href=window.location.href;function f(t,n,i){var r=e.Event(n);e(t).trigger(r,i);return!r.isDefaultPrevented()}function h(e,t,i,r){if(e.global)return f(t||n,i,r)}e.active=0;function p(t){if(t.global&&e.active++===0)h(t,null,"ajaxStart")}function m(t){if(t.global&&!--e.active)h(t,null,"ajaxStop")}function _(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===false||h(t,n,"ajaxBeforeSend",[e,t])===false)return false;h(t,n,"ajaxSend",[e,t])}function g(e,t,n,i){var r=n.context,a="success";n.success.call(r,e,a,t);if(i)i.resolveWith(r,[e,a,t]);h(n,r,"ajaxSuccess",[t,n,e]);b(a,t,n)}function v(e,t,n,i,r){var a=i.context;i.error.call(a,n,t,e);if(r)r.rejectWith(a,[n,t,e]);h(i,a,"ajaxError",[n,i,e||t]);b(t,n,i)}function b(e,t,n){var i=n.context;n.complete.call(i,t,e);h(n,i,"ajaxComplete",[t,n]);m(n)}function y(){}e.ajaxJSONP=function(i,r){if(!("type"in i))return e.ajax(i);var a=i.jsonpCallback,s=(e.isFunction(a)?a():a)||"jsonp"+ ++t,o=n.createElement("script"),l=window[s],u,c=function(t){e(o).triggerHandler("error",t||"abort")},d={abort:c},f;if(r)r.promise(d);e(o).on("load error",function(t,n){clearTimeout(f);e(o).off().remove();if(t.type=="error"||!u){v(null,n||"error",d,i,r)}else{g(u[0],d,i,r)}window[s]=l;if(u&&e.isFunction(l))l(u[0]);l=u=undefined});if(_(d,i)===false){c("abort");return d}window[s]=function(){u=arguments};o.src=i.url.replace(/\?(.+)=\?/,"?$1="+s);n.head.appendChild(o);if(i.timeout>0)f=setTimeout(function(){c("timeout")},i.timeout);return d};e.ajaxSettings={type:"GET",beforeSend:y,success:y,error:y,complete:y,context:null,global:true,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:l,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true};function x(e){if(e)e=e.split(";",2)[0];return e&&(e==u?"html":e==l?"json":s.test(e)?"script":o.test(e)&&"xml")||"text"}function S(e,t){if(t=="")return e;return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function w(t){if(t.processData&&t.data&&e.type(t.data)!="string")t.data=e.param(t.data,t.traditional);if(t.data&&(!t.type||t.type.toUpperCase()=="GET"))t.url=S(t.url,t.data),t.data=undefined}e.ajax=function(t){var a=e.extend({},t||{}),s=e.Deferred&&e.Deferred(),o;for(i in e.ajaxSettings)if(a[i]===undefined)a[i]=e.ajaxSettings[i];p(a);if(!a.crossDomain){o=n.createElement("a");o.href=a.url;o.href=o.href;a.crossDomain=d.protocol+"//"+d.host!==o.protocol+"//"+o.host}if(!a.url)a.url=window.location.toString();w(a);var l=a.dataType,u=/\?.+=\?/.test(a.url);if(u)l="jsonp";if(a.cache===false||(!t||t.cache!==true)&&("script"==l||"jsonp"==l))a.url=S(a.url,"_="+Date.now());if("jsonp"==l){if(!u)a.url=S(a.url,a.jsonp?a.jsonp+"=?":a.jsonp===false?"":"callback=?");return e.ajaxJSONP(a,s)}var f=a.accepts[l],h={},m=function(e,t){h[e.toLowerCase()]=[e,t]},b=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:window.location.protocol,L=a.xhr(),E=L.setRequestHeader,k;if(s)s.promise(L);if(!a.crossDomain)m("X-Requested-With","XMLHttpRequest");m("Accept",f||"*/*");if(f=a.mimeType||f){if(f.indexOf(",")>-1)f=f.split(",",2)[0];L.overrideMimeType&&L.overrideMimeType(f)}if(a.contentType||a.contentType!==false&&a.data&&a.type.toUpperCase()!="GET")m("Content-Type",a.contentType||"application/x-www-form-urlencoded");if(a.headers)for(r in a.headers)m(r,a.headers[r]);L.setRequestHeader=m;L.onreadystatechange=function(){if(L.readyState==4){L.onreadystatechange=y;clearTimeout(k);var t,n=false;if(L.status>=200&&L.status<300||L.status==304||L.status==0&&b=="file:"){l=l||x(a.mimeType||L.getResponseHeader("content-type"));t=L.responseText;try{if(l=="script")(1,eval)(t);else if(l=="xml")t=L.responseXML;else if(l=="json")t=c.test(t)?null:e.parseJSON(t)}catch(i){n=i}if(n)v(n,"parsererror",L,a,s);else g(t,L,a,s)}else{v(L.statusText||null,L.status?"error":"abort",L,a,s)}}};if(_(L,a)===false){L.abort();v(null,"abort",L,a,s);return L}if(a.xhrFields)for(r in a.xhrFields)L[r]=a.xhrFields[r];var A="async"in a?a.async:true;L.open(a.type,a.url,A,a.username,a.password);for(r in h)E.apply(L,h[r]);if(a.timeout>0)k=setTimeout(function(){L.onreadystatechange=y;L.abort();v(null,"timeout",L,a,s)},a.timeout);L.send(a.data?a.data:null);return L};function L(t,n,i,r){if(e.isFunction(n))r=i,i=n,n=undefined;if(!e.isFunction(i))r=i,i=undefined;return{url:t,data:n,success:i,dataType:r}}e.get=function(){return e.ajax(L.apply(null,arguments))};e.post=function(){var t=L.apply(null,arguments);t.type="POST";return e.ajax(t)};e.getJSON=function(){var t=L.apply(null,arguments);t.dataType="json";return e.ajax(t)};e.fn.load=function(t,n,i){if(!this.length)return this;var r=this,s=t.split(/\s/),o,l=L(t,n,i),u=l.success;if(s.length>1)l.url=s[0],o=s[1];l.success=function(t){r.html(o?e("<div>").html(t.replace(a,"")).find(o):t);u&&u.apply(r,arguments)};e.ajax(l);return this};var E=encodeURIComponent;function k(t,n,i,r){var a,s=e.isArray(n),o=e.isPlainObject(n);e.each(n,function(n,l){a=e.type(l);if(r)n=i?r:r+"["+(o||a=="object"||a=="array"?n:"")+"]";if(!r&&s)t.add(l.name,l.value);else if(a=="array"||!i&&a=="object")k(t,l,i,n);else t.add(n,l)})}e.param=function(t,n){var i=[];i.add=function(t,n){if(e.isFunction(n))n=n();if(n==null)n="";this.push(E(t)+"="+E(n))};k(i,t,n);return i.join("&").replace(/%20/g,"+")}})(Zepto)},function(e,t){(function(e){function t(e,t){var n=this.os={},i=this.browser={},r=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!e.match(/\(Macintosh\; Intel /),o=e.match(/(iPad).*OS\s([\d_]+)/),l=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),c=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=/Win\d{2}|Windows/.test(t),f=e.match(/Windows Phone ([\d.]+)/),h=c&&e.match(/TouchPad/),p=e.match(/Kindle\/([\d.]+)/),m=e.match(/Silk\/([\d._]+)/),_=e.match(/(BlackBerry).*Version\/([\d.]+)/),g=e.match(/(BB10).*Version\/([\d.]+)/),v=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=e.match(/PlayBook/),y=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),x=e.match(/Firefox\/([\d.]+)/),S=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),w=!y&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),L=w||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(i.webkit=!!r)i.version=r[1];if(a)n.android=true,n.version=a[2];if(u&&!l)n.ios=n.iphone=true,n.version=u[2].replace(/_/g,".");if(o)n.ios=n.ipad=true,n.version=o[2].replace(/_/g,".");if(l)n.ios=n.ipod=true,n.version=l[3]?l[3].replace(/_/g,"."):null;if(f)n.wp=true,n.version=f[1];if(c)n.webos=true,n.version=c[2];if(h)n.touchpad=true;if(_)n.blackberry=true,n.version=_[2];if(g)n.bb10=true,n.version=g[2];if(v)n.rimtabletos=true,n.version=v[2];if(b)i.playbook=true;if(p)n.kindle=true,n.version=p[1];if(m)i.silk=true,i.version=m[1];if(!m&&n.android&&e.match(/Kindle Fire/))i.silk=true;if(y)i.chrome=true,i.version=y[1];if(x)i.firefox=true,i.version=x[1];if(S)i.ie=true,i.version=S[1];if(L&&(s||n.ios||d)){i.safari=true;if(!n.ios)i.version=L[1]}if(w)i.webview=true;n.tablet=!!(o||b||a&&!e.match(/Mobile/)||x&&e.match(/Tablet/)||S&&!e.match(/Phone/)&&e.match(/Touch/));n.phone=!!(!n.tablet&&!n.ipod&&(a||u||c||_||g||y&&e.match(/Android/)||y&&e.match(/CriOS\/([\d.]+)/)||x&&e.match(/Mobile/)||S&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform);e.__detect=t})(Zepto)},function(e,t){(function(e){var t=1,n,i=Array.prototype.slice,r=e.isFunction,a=function(e){return typeof e=="string"},s={},o={},l="onfocusin"in window,u={focus:"focusin",blur:"focusout"},c={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents";function d(e){return e._zid||(e._zid=t++)}function f(e,t,n,i){t=h(t);if(t.ns)var r=p(t.ns);return(s[d(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!i||e.sel==i)})}function h(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function p(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function m(e,t){return e.del&&(!l&&e.e in u)||!!t}function _(e){return c[e]||l&&u[e]||e}function g(t,i,r,a,o,l,u){var f=d(t),p=s[f]||(s[f]=[]);i.split(/\s/).forEach(function(i){if(i=="ready")return e(document).ready(r);var s=h(i);s.fn=r;s.sel=o;if(s.e in c)r=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return s.fn.apply(this,arguments)};s.del=l;var d=l||r;s.proxy=function(e){e=w(e);if(e.isImmediatePropagationStopped())return;e.data=a;var i=d.apply(t,e._args==n?[e]:[e].concat(e._args));if(i===false)e.preventDefault(),e.stopPropagation();return i};s.i=p.length;p.push(s);if("addEventListener"in t)t.addEventListener(_(s.e),s.proxy,m(s,u))})}function v(e,t,n,i,r){var a=d(e);(t||"").split(/\s/).forEach(function(t){f(e,t,n,i).forEach(function(t){delete s[a][t.i];if("removeEventListener"in e)e.removeEventListener(_(t.e),t.proxy,m(t,r))})})}e.event={add:g,remove:v};e.proxy=function(t,n){var s=2 in arguments&&i.call(arguments,2);if(r(t)){var o=function(){return t.apply(n,s?s.concat(i.call(arguments)):arguments)};o._zid=d(t);return o}else if(a(n)){if(s){s.unshift(t[n],t);return e.proxy.apply(null,s)}else{return e.proxy(t[n],t)}}else{throw new TypeError("expected function")}};e.fn.bind=function(e,t,n){return this.on(e,t,n)};e.fn.unbind=function(e,t){return this.off(e,t)};e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var b=function(){return true},y=function(){return false},x=/^([A-Z]|returnValue$|layer[XY]$)/,S={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function w(t,i){if(i||!t.isDefaultPrevented){i||(i=t);e.each(S,function(e,n){var r=i[e];t[e]=function(){this[n]=b;return r&&r.apply(i,arguments)};t[n]=y});if(i.defaultPrevented!==n?i.defaultPrevented:"returnValue"in i?i.returnValue===false:i.getPreventDefault&&i.getPreventDefault())t.isDefaultPrevented=b}return t}function L(e){var t,i={originalEvent:e};for(t in e)if(!x.test(t)&&e[t]!==n)i[t]=e[t];return w(i,e)}e.fn.delegate=function(e,t,n){return this.on(t,e,n)};e.fn.undelegate=function(e,t,n){return this.off(t,e,n)};e.fn.live=function(t,n){e(document.body).delegate(this.selector,t,n);return this};e.fn.die=function(t,n){e(document.body).undelegate(this.selector,t,n);return this};e.fn.on=function(t,s,o,l,u){var c,d,f=this;if(t&&!a(t)){e.each(t,function(e,t){f.on(e,s,o,t,u)});return f}if(!a(s)&&!r(l)&&l!==false)l=o,o=s,s=n;if(r(o)||o===false)l=o,o=n;if(l===false)l=y;return f.each(function(n,r){if(u)c=function(e){v(r,e.type,l);return l.apply(this,arguments)};if(s)d=function(t){var n,a=e(t.target).closest(s,r).get(0);if(a&&a!==r){n=e.extend(L(t),{currentTarget:a,liveFired:r});return(c||l).apply(a,[n].concat(i.call(arguments,1)))}};g(r,t,l,o,s,d||c)})};e.fn.off=function(t,i,s){var o=this;if(t&&!a(t)){e.each(t,function(e,t){o.off(e,i,t)});return o}if(!a(i)&&!r(s)&&s!==false)s=i,i=n;if(s===false)s=y;return o.each(function(){v(this,t,s,i)})};e.fn.trigger=function(t,n){t=a(t)||e.isPlainObject(t)?e.Event(t):w(t);t._args=n;return this.each(function(){if(t.type in u&&typeof this[t.type]=="function")this[t.type]();else if("dispatchEvent"in this)this.dispatchEvent(t);else e(this).triggerHandler(t,n)})};e.fn.triggerHandler=function(t,n){var i,r;this.each(function(s,o){i=L(a(t)?e.Event(t):t);i._args=n;i.target=o;e.each(f(o,t.type||t),function(e,t){r=t.proxy(i);if(i.isImmediatePropagationStopped())return false})});return r};("focusin focusout focus blur load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select keydown keypress keyup error").split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}});e.Event=function(e,t){if(!a(e))t=e,e=t.type;var n=document.createEvent(o[e]||"Events"),i=true;if(t)for(var r in t)r=="bubbles"?i=!!t[r]:n[r]=t[r];n.initEvent(e,i,true);return w(n)}})(Zepto)},function(e,t){(function(e,t){var n="",i,r,a,s={Webkit:"webkit",Moz:"",O:"o"},o=window.document,l=o.createElement("div"),u=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,c,d,f,h,p,m,_,g,v,b={};function y(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function x(e){return i?i+e:e.toLowerCase()}e.each(s,function(e,r){if(l.style[e+"TransitionProperty"]!==t){n="-"+e.toLowerCase()+"-";i=r;return false}});c=n+"transform";b[d=n+"transition-property"]=b[f=n+"transition-duration"]=b[p=n+"transition-delay"]=b[h=n+"transition-timing-function"]=b[m=n+"animation-name"]=b[_=n+"animation-duration"]=b[v=n+"animation-delay"]=b[g=n+"animation-timing-function"]="";e.fx={off:i===t&&l.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:x("TransitionEnd"),animationEnd:x("AnimationEnd")};e.fn.animate=function(n,i,r,a,s){if(e.isFunction(i))a=i,r=t,i=t;if(e.isFunction(r))a=r,r=t;if(e.isPlainObject(i))r=i.easing,a=i.complete,s=i.delay,i=i.duration;if(i)i=(typeof i=="number"?i:e.fx.speeds[i]||e.fx.speeds._default)/1e3;if(s)s=parseFloat(s)/1e3;return this.anim(n,i,r,a,s)};e.fn.anim=function(n,i,r,a,s){var o,l={},x,S="",w=this,L,E=e.fx.transitionEnd,k=false;if(i===t)i=e.fx.speeds._default/1e3;if(s===t)s=0;if(e.fx.off)i=0;if(typeof n=="string"){l[m]=n;l[_]=i+"s";l[v]=s+"s";l[g]=r||"linear";E=e.fx.animationEnd}else{x=[];for(o in n)if(u.test(o))S+=o+"("+n[o]+") ";else l[o]=n[o],x.push(y(o));if(S)l[c]=S,x.push(c);if(i>0&&typeof n==="object"){l[d]=x.join(", ");l[f]=i+"s";l[p]=s+"s";l[h]=r||"linear"}}L=function(t){if(typeof t!=="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(E,L)}else e(this).unbind(E,L);k=true;e(this).css(b);a&&a.call(this)};if(i>0){this.bind(E,L);setTimeout(function(){if(k)return;L.call(w)},(i+s)*1e3+25)}this.size()&&this.get(0).clientLeft;this.css(l);if(i<=0)setTimeout(function(){w.each(function(){L.call(this)})},0);return this};l=null})(Zepto)},function(e,t){(function(e){var t=e.zepto,n=t.qsa,i=t.matches;function r(t){t=e(t);return!!(t.width()||t.height())&&t.css("display")!=="none"}var a=e.expr[":"]={visible:function(){if(r(this))return this},hidden:function(){if(!r(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(e){if(e===0)return this},last:function(e,t){if(e===t.length-1)return this},eq:function(e,t,n){if(e===n)return this},contains:function(t,n,i){if(e(this).text().indexOf(i)>-1)return this},has:function(e,n,i){if(t.qsa(this,i).length)return this}};var s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),o=/^\s*>/,l="Zepto"+ +new Date;function u(e,t){e=e.replace(/=#\]/g,'="#"]');var n,i,r=s.exec(e);if(r&&r[2]in a){n=a[r[2]],i=r[3];e=r[1];if(i){var o=Number(i);if(isNaN(o))i=i.replace(/^["']|["']$/g,"");else i=o}}return t(e,n,i)}t.qsa=function(i,r){return u(r,function(a,s,u){try{var c;if(!a&&s)a="*";else if(o.test(a))c=e(i).addClass(l),a="."+l+" "+a;var d=n(i,a)}catch(f){console.error("error performing selector: %o",r);throw f}finally{if(c)c.removeClass(l)}return!s?d:t.uniq(e.map(d,function(e,t){return s.call(e,t,d,u)}))})};t.matches=function(e,t){return u(t,function(t,n,r){return(!t||i(e,t))&&(!n||n.call(e,null,r)===e)})}})(Zepto)},function(e,t,n){const i=n(45);(function(e){e(window.jQuery||window.Zepto,i)})(function(e,t){var n=6e4,i=e([]),r;var a=function(){if(!i.length){return}r=setTimeout(a,n);s.update()};var s={update:function(n){n=n||i;n.each(function(n,r){var a=e(r),s=a.data("liveRelativeDate"),o;if(!s){i=i.not(r);return}o=s.date?a.data(s.date):a.attr("datetime");var l=a.html(),u=t(o).fromNow();if(l===u){return}var c=e.Event("change.liveRelativeDate");a.trigger(c,[l,u]);if(!c.isDefaultPrevented()){a.html(u)}})},pause:function(){clearTimeout(r);r=null},resume:function(){if(!r){a()}},interval:function(e){if(e===undefined){return n}n=e}};var o={add:function(e,t){if(!e||e.length===0){return e}t=t||{};e.data("liveRelativeDate",JSON.stringify(t));i=i.add(e);s.resume();return e},destroy:function(e){i=i.not(e);e.removeAttr("data-live-relative-date");return e},isLiveRelativeDate:function(t){var n=true;e.each(t,function(t){if(e(t).data("liveRelativeDate")===undefined){n=false;return true}});return n}};e.liverelativedate=s;e.fn.liverelativedate=function(e,t){if(!o[e]){t=e;e="add"}return o[e](this,t)}})},function(e,t){if(typeof SUGAR=="undefined")SUGAR={};if(typeof SUGAR.util=="undefined")SUGAR.util={};if(typeof SUGAR.expressions=="undefined")SUGAR.expressions={};(function(){SUGAR.util.extend=SUGAR.util.extend||(SUGAR.App?SUGAR.App.utils.extendFrom:null);var e=SUGAR.expressions.Expression=function(e){this.context=e};e.INFINITY=-1;e.STRING_TYPE="string";e.NUMERIC_TYPE="number";e.DATE_TYPE="date";e.TIME_TYPE="time";e.BOOLEAN_TYPE="boolean";e.ENUM_TYPE="enum";e.RELATE_TYPE="relate";e.GENERIC_TYPE="generic";e.TRUE="true";e.FALSE="false";e.isTruthy=function(t){return _.isString(t)?t=="1"||t==e.TRUE:!!t};SUGAR.expressions.NumericConstants={pi:3.14159265,e:2.718281828459045};e.prototype.init=function(e){if(e instanceof Array&&e.length==1){this.params=e[0]}else{this.params=e}this.validateParameters()};e.prototype.getParameters=function(){if(!this.params){return this.params}var n,i,r=[],a=this.getParameterTypes(),s=this.getParamCount()==1,o,l;if(s||!_.isArray(this.params)&&_.isObject(this.params)){n=[this.params]}else{n=this.params}if(!(a instanceof Array)){o=a;a=[];for(l=0;l<n.length;l++){a.push(o)}}var u=this.constructor.TYPE_CAST_MAP;for(l=0;l<n.length;l++){i=n[l];if(i instanceof e){o=t.prototype.getType(i);if(o!=a[l]&&a[l]in u){i=new SUGAR.expressions[u[a[l]]](i,this.context)}}r.push(i)}if(s){r=r.shift()}return r};e.prototype.validateParameters=function(){var t=this.params;var n=this.getParamCount();var i=this.getParameterTypes();if(typeof n!="number"){throw this.getClass()+": Number of paramters required must be a number"}if(typeof i!="string"&&!(i instanceof Array)){throw this.getClass()+": Parameter types must be valid and match the parameter count"}if(i instanceof Array&&n!=e.INFINITY&&n!=i.length){throw this.getClass()+": Parameter types must be valid and match the parameter count"}if(typeof i=="string"){if(e.TYPE_MAP[i]==null){throw this.getClass()+": Invalid type requirement '"+i+"'"}}else{for(var r=0;r<i.length;r++){if(typeof e.TYPE_MAP[i[r]]=="undefined"){throw this.getClass()+": Invalid type requirement '"+i[r]+"'"}}}if(n==0&&typeof t=="undefined"){return}if(n==1&&this.isProperType(t,i)){return}if(n>1&&!(t instanceof Array)){throw this.getClass()+": Requires exactly "+n+" parameter(s)"}if(n==1&&t instanceof Array){throw this.getClass()+": Requires exactly 1 parameter"}if(n!=e.INFINITY&&t instanceof Array&&t.length!=n){throw this.getClass()+": Requires exactly "+n+" parameter(s)"}if(typeof i=="string"){if(!(t instanceof Array)){if(this.isProperType(t,i)){return}throw this.getClass()+": Parameter must be of type '"+i+"'"}for(var r=0;r<t.length;r++){if(!this.isProperType(t[r],i)){throw this.getClass()+": All parameters must be of type '"+i+"'"}}}else{if(!(t instanceof Array)){if(this.isProperType(t,i[0])){return}throw this.getClass()+": Parameter must be of type '"+i[0]+"'"}for(var r=0;r<i.length;r++){if(!this.isProperType(t[r],i[r])){throw this.getClass()+": The parameter at index "+r+" must be of type "+i[r]}}}};e.prototype.getParamCount=function(){return e.INFINITY};e.prototype.isProperType=function(t,n){var i=e;if(n instanceof Array){return false}var r=i.TYPE_MAP[n];if(typeof r=="undefined"||r==null||r==""){return false}if(t instanceof r||t instanceof i.TYPE_MAP.generic||n==i.GENERIC_TYPE)return true;if(t instanceof i){t=t.evaluate()}switch(n){case i.STRING_TYPE:return typeof t=="string"||typeof t=="number"||t instanceof i.TYPE_MAP[i.NUMERIC_TYPE];break;case i.NUMERIC_TYPE:return typeof t=="number"||SUGAR.expressions.isNumeric(t);break;case i.BOOLEAN_TYPE:return t==i.TRUE||t==i.FALSE||t===1||t===0||t==="1"||t==="0"||t==="";break;case i.DATE_TYPE:case i.TIME_TYPE:if(t===null||t===""||typeof t=="string"&&SUGAR.util.DateUtils.guessFormat(t))return true;break;case i.RELATE_TYPE:return true;break}return false};e.prototype.evaluate=function(){};e.prototype.getClass=function(e){for(var t in SUGAR.FunctionMap){if(typeof SUGAR.FunctionMap[t]=="function"&&SUGAR.FunctionMap[t].prototype&&this instanceof SUGAR.FunctionMap[t])return t}return false};e.prototype.getParameterTypes=function(){};SUGAR.expressions.GenericExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.GenericExpression,e,{getParameterTypes:function(){return e.GENERIC_TYPE}});SUGAR.expressions.NumericExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.NumericExpression,e,{getParameterTypes:function(){return e.NUMERIC_TYPE}});SUGAR.expressions.StringExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.StringExpression,e,{getParameterTypes:function(){return e.STRING_TYPE}});SUGAR.expressions.BooleanExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.BooleanExpression,e,{getParameterTypes:function(){return e.BOOLEAN_TYPE}});SUGAR.expressions.EnumExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.EnumExpression,e,{getParameterTypes:function(){return e.ENUM_TYPE}});SUGAR.expressions.DateExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.DateExpression,e,{getParameterTypes:function(){return e.DATE_TYPE}});SUGAR.expressions.TimeExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.TimeExpression,e,{getParameterTypes:function(){return e.TIME_TYPE}});SUGAR.expressions.RelateExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.RelateExpression,e,{getParameterTypes:function(){return e.GENERIC_TYPE}});e.TYPE_MAP={number:SUGAR.expressions.NumericExpression,string:SUGAR.expressions.StringExpression,date:SUGAR.expressions.DateExpression,time:SUGAR.expressions.TimeExpression,"boolean":SUGAR.expressions.BooleanExpression,"enum":SUGAR.expressions.EnumExpression,relate:SUGAR.expressions.RelateExpression,generic:SUGAR.expressions.GenericExpression};e.TYPE_CAST_MAP={number:"ValueOfExpression",string:"DefineStringExpression"};SUGAR.expressions.ConstantExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConstantExpression,SUGAR.expressions.NumericExpression,{evaluate:function(){return this.getParameters()},getParamCount:function(){return 1}});SUGAR.expressions.StringLiteralExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.StringLiteralExpression,SUGAR.expressions.StringExpression,{evaluate:function(){return this.getParameters()},getParamCount:function(){return 1}});SUGAR.expressions.FalseExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.FalseExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return e.FALSE},getParamCount:function(){return 0}});SUGAR.expressions.TrueExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.TrueExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return e.TRUE},getParamCount:function(){return 0}});var t=SUGAR.expressions.ExpressionParser=function(){};t.prototype.getFieldsFromExpression=function(e){return _.map(e.match(/\$(\w+)/g),function(e){return e.replace(/\$/g,"")})};t.prototype._generateRange=function(e,t,n){var i="";var r=parseInt(t);if(typeof n=="undefined")while(this.getElement(e+""+r)!=null)i+="$"+e+""+r++ +",";else for(;r<=n;r++){var a=e+""+r;if(this.getElement(a)!=null)i+="$"+a+","}return i.substring(0,i.length-1)};t.prototype._valueReplace=function(e){if(!/^\$.*$/.test(e)){return e}return this.getValue(e.substring(1))};t.prototype._performRangeReplace=function(e){var t=false;var n;var i;for(var r=0;;r++){if(r==e.length)break;var a=e.charAt(r);if(a=='"'&&n!="\\")t=!t;if(!t&&a=="%"){i=true;var s=e.indexOf("[",r+1);var o=e.indexOf(",",s);var l=e.indexOf("]",s);if(s<0||l<0)throw"Invalid range syntax";var u=e.substring(r+1,s);var c,d;if(o>-1&&o<l){c=e.substring(s+1,o);d=e.substring(o+1,l)}else{c=e.substring(s+1,l)}if(o>-1&&o<l)d=e.substring(o+1,l);var f=this._generateRange(u,this._valueReplace(c),this._valueReplace(d));if(typeof d=="undefined")e=e.replace("%"+u+"["+c+"]",f);else e=e.replace("%"+u+"["+c+","+d+"]",f);r=r+f.length-1}n=a}return e};t.prototype.validate=function(e){if(typeof e!="string")throw"ExpressionParser requires a string expression.";var t=this.toConstant(e);if(t!=null&&typeof t!="undefined")return true;if(/^[\w\-]+\(.*\)$/.exec(e)==null){throw"Syntax Error (Expression Format Incorrect '"+e+"' )"}if(e.indexOf("(")<0)throw"Syntax Error (No opening paranthesis found)";return true};t.prototype.tokenize=function(e){var t=this.toConstant(e);if(t!=null&&typeof t!="undefined"){return{type:"constant",returnType:this.getType(t),value:t.evaluate()}}if(/^[$]\w+$/.test(e)){return{type:"variable",name:$.trim(e).substr(1)}}if(/^[$]\w+\.\w+$/.test(e)){e=$.trim(e);return{type:"variable",name:e.substr(1,e.indexOf(".")-1),relate:e.substr(e.indexOf(".")+1)}}var n=e.indexOf("(");if(n<1)throw e+": Syntax Error, no open parentheses found";if(e.charAt(e.length-1)!=")")throw e+": Syntax Error, no close parentheses found";var i=e.substring(0,n);var r=e.substring(n+1,e.length-1);var a=0;var s=r.length;var o="";var l=new Array;var u=null;var c=null;var d=false;var f=false;var h=false;var p=false;for(var m=0;m<=s;m++){c=u;f=false;if(m==s){o=$.trim(o);if(o!="")l[l.length]=this.tokenize(o);break}p=c=="\\";u=r.charAt(m);if(h&&u!='"'&&!p){o+=u;continue}if(u=='"'&&!p&&a==0){if(h){var _=r.indexOf(",",m);if(_<0)_=r.length-1;var g=m<s-1?m+1:s-1;var v=r.substring(g,_);if(/^\s*$/.exec(v)==null)throw i+": Syntax Error (Improperly Terminated String '"+v+"')"+g+" "+_}h=!h}if(u=="("){a++}else if(u==")"){a--}else if(u==","&&a==0){o=$.trim(o);if(o=="")throw"Syntax Error: Unexpected ','";l[l.length]=this.tokenize(o);o="";f=true;continue}o+=u}if(h)throw"Syntax Error (Unterminated String Literal)";if(a!=0)throw"Syntax Error (Incorrectly Matched Parantheses)";if(f)throw"Syntax Error (No parameter after comma near <b>"+i+"</b>)";return{type:"function",name:$.trim(i),args:l}};t.prototype.getType=function(t){for(var n in e.TYPE_MAP){if(t instanceof e.TYPE_MAP[n]){return n}}return false};t.prototype.evaluate=function(e,t){if(typeof e!="string")throw"ExpressionParser requires a string expression.";e=e.replace(/^\s+|\s+$|\n/g,"");var n=this.toConstant(e);if(n!=null&&typeof n!="undefined")return n;if(e.match(/^\$\w+$/)){if(typeof t=="undefined")throw"Syntax Error: variable "+e+" without context";return t.getValue(e.substring(1))}if(e.match(/^\$\w+\.\w+$/)){return t.getRelatedValue(e.substr(1,e.indexOf(".")-1),e.substr(e.indexOf(".")+1))}if(/^[\w\-]+\(.*\)$/.exec(e)==null){throw"Syntax Error (Expression Format Incorrect '"+e+"' )"}var i=e.indexOf("(");if(i<0)throw"Syntax Error (No opening paranthesis found)";var r=e.substring(0,i);if(SUGAR.FunctionMap[r]==null)throw r+": No such function defined";var a=e.substring(i+1,e.length-1);var s=0;var o=a.length;var l="";var u=new Array;var c=null;var d=null;var f=false;var h=false;var p=false;var m=false;if(o>0){for(var _=0;_<=o;_++){d=c;if(_==o){u[u.length]=this.evaluate(l,t);break}p=d=="\\";c=a.charAt(_);if(h&&c!='"'&&!p){l+=c;continue}if(m&&(c==" "||c==","))m=false;if(c=='"'&&!p&&s==0){if(h){var g=a.indexOf(",",_);if(g<0)g=a.length-1;var v=_<o-1?_+1:o-1;var b=a.substring(v,g);if(/^\s*$/.exec(b)==null)throw r+": Syntax Error (Improperly Terminated String '"+b+"')"+v+" "+g}h=!h}if(c=="$"&&!p&&!h&&s==0){if(m)throw r+": Syntax Error (unexpeted '$' in  '"+l+"')";else{m=true}}if(c=="("){s++}else if(c==")"){s--}else if(c==","&&s==0){u[u.length]=this.evaluate(l,t);l="";continue}l+=c}}if(h)throw"Syntax Error (Unterminated String Literal)";if(s!=0)throw"Syntax Error (Incorrectly Matched Parantheses)";return new SUGAR.FunctionMap[r](u,t)};t.prototype.toConstant=function(e){if(isFinite(e)&&!isNaN(parseFloat(e))){return new SUGAR.expressions.ConstantExpression(parseFloat(e))}var t=SUGAR.expressions.NumericConstants[e];if(t!=null&&typeof t!="undefined")return new SUGAR.expressions.ConstantExpression(parseFloat(t));if(/^"[\s\S]*"$/.exec(e)!=null){e=e.substring(1,e.length-1);return new SUGAR.expressions.StringLiteralExpression(e)}if(e==""){return new SUGAR.expressions.StringLiteralExpression(e);

}if(e=="true"){return new SUGAR.expressions.TrueExpression}else if(e=="false"){return new SUGAR.expressions.FalseExpression}if(/^(0[0-9]|1[0-2])\/([0-2][0-9]|3[0-1])\/[0-3][0-9]{3,3}$/.exec(e)!=null){var n=parseFloat(e.substring(0,2));var i=parseFloat(e.substring(3,2));var r=parseFloat(e.substring(6,4));return new SUGAR.expressions.DateExpression([n,i,r])}if(/^([0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9]$/.exec(e)!=null){var a=parseFloat(e.substring(0,2));var s=parseFloat(e.substring(3,2));var o=parseFloat(e.substring(6,2));return new SUGAR.expressions.TimeExpression([a,s,o])}return null};t.prototype.getRelatedFieldsFromFormula=function(e,t){var n=[],i=["related","count","rollupSum","rollupMax","rollupMin","rollupAve","rollupAvg","rollupCurrencySum","rollupConditionalSum","countConditional","maxRelatedDate"];var r=function(e,t){if(e.type=="variable"&&e.relate){n.push({type:"related",link:e.name,relate:e.relate})}else if(e.type=="function"&&i.indexOf(e.name)!=-1){switch(e.name){case"related":if(e.args[1].type=="constant")n.push({type:"related",link:e.args[0].name,relate:e.args[1].value});break;case"rollupConditionalSum":var a={type:"rollupConditionalSum",link:e.args[0].name,relate:e.args[1].value,condition_field:e.args[2].value};if(e.args[3].type=="function"){var s=[];for(var o=0;o<e.args[3].args.length;o++){s.push('"'+e.args[3].args[o].value+'"')}a.condition_expr=e.args[3].name+"("+s.join(",")+")"}else{a.condition_expr=e.args[3].value}n.push(a);break;case"countConditional":var a={target:t,type:"countConditional",link:e.args[0].name,condition_field:e.args[1].value};if(e.args[2].type=="function"){var s=[];for(var o=0;o<e.args[2].args.length;o++){s.push('"'+e.args[2].args[o].value+'"')}a.condition_expr=e.args[2].name+"("+s.join(",")+")"}else{a.condition_expr=e.args[2].value}n.push(a);break;case"count":n.push({type:"count",link:e.args[0].name});break;default:if(e.args[1].type=="constant"){n.push({type:e.name,link:e.args[0].name,relate:e.args[1].value})}}}else if(e.type=="function"){for(var o=0;o<e.args.length;o++){r(e.args[o],t)}}};try{var a=this.tokenize(e);r(a,t)}catch(s){}return n};var n=SUGAR.expressions.ExpressionContext=function(){};n.prototype.getValue=function(e){return""};n.prototype.setValue=function(e,t){return""};n.prototype.addListener=function(e,t,n){return""};n.prototype.getRelatedValue=function(e,t){return new SUGAR.RelatedFieldExpression([new SUGAR.expressions.StringLiteralExpression(e),new SUGAR.expressions.StringLiteralExpression(t)])};SUGAR.expressions.isNumeric=function(e){if(typeof e!="number"&&typeof e!="string"){return false}e=SUGAR.expressions.unFormatNumber(e);return isFinite(e)&&!isNaN(parseFloat(e))};SUGAR.expressions.unFormatNumber=function(e){if(typeof e=="string"){var t=SUGAR.expressions;var n=",",i=".";if(t.userPrefs){n=t.userPrefs.num_grp_sep;i=t.userPrefs.dec_sep}e=t.replaceAll(e,n,"");e=t.replaceAll(e,i,".")}return e};SUGAR.expressions.replaceAll=function(e,t,n){if(t==n||e==""||t=="")return e;var i=e;while(i.indexOf(t)>-1){i=i.replace(t,n)}return i};SUGAR.util.DateUtils={parse:function(e,t){if(e instanceof Date)return e;if(t=="user"){if(SUGAR.expressions.userPrefs&&SUGAR.expressions.userPrefs.datef){t=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef}else{t=SUGAR.util.DateUtils.guessFormat(e)}}if(t==null||t==""){t=SUGAR.util.DateUtils.guessFormat(e)}if(t==false){if(/^\d+$/.test(e))return new Date(e);return false}var n=new Date("Jan 1, 1970 00:00:00");var i="";var r=$.trim(e);t=$.trim(t)+" ";for(var a=0;a<t.length;a++){var s=t.charAt(a);if(s==":"||s=="/"||s=="-"||s=="."||s==" "||s=="a"||s=="A"||s=="T"){var o=r.indexOf(s);if(o==-1)o=r.length;var l=r.substring(0,o);r=r.substring(o+1);switch(i){case"m":if(!(l>0&&l<13))return false;n.setMonth(l-1);break;case"d":if(!(l>0&&l<32))return false;n.setDate(l);break;case"Y":if(!(l>0))return false;n.setYear(l);break;case"h":var u=t.substring(t.length-4);if(u.toLowerCase()=="i a "||u.toLowerCase()==s+"ia "){if(r.substring(r.length-2).toLowerCase()=="pm"){l=l*1;if(l<12){l+=12}}}case"H":n.setHours(l);break;case"i":l=l.substring(0,2);n.setMinutes(l);break}i=""}else{i=s}}return n},guessFormat:function(e){if(typeof e!="string")return false;var t="";var n;if(e.indexOf(" ")!=-1){n=" "}else if(e.indexOf("T")!=-1){n="T"}if(n){t=e.substring(e.indexOf(n)+1,e.length);e=e.substring(0,e.indexOf(n))}var i="/";if(e.indexOf("/")!=-1){}else if(e.indexOf("-")!=-1){i="-"}else if(e.indexOf(".")!=-1){i="."}else{return false}var r=e.split(i);var a="";var s=new Date("Jan 1, 1970 00:00:00");if(r[0].length==4){a="Y"+i+"m"+i+"d"}else if(r[2].length==4){a="m"+i+"d"+i+"Y"}else{return false}if(t!=""){var o="";var l=":";if(t.indexOf(".")==2){l="."}if(t.indexOf(" ")!=-1){var u=t.split(" ");if(u[1]=="am"||u[1]=="pm"){return a+n+"h"+l+"i a"}else if(u[1]=="AM"||u[1]=="PM"){return a+n+"h"+l+"i A"}}else{var c=t.substring(t.length-2,t.length);if(c=="AM"||c=="PM"){return a+n+"h"+l+"iA"}if(c=="am"||c=="pm"){return a+n+"h"+l+"iA"}return a+n+"H"+l+"i"}}return a},formatDate:function(e,t,n){if(!n&&SUGAR.expressions.userPrefs.datef&&SUGAR.expressions.userPrefs.timef){if(t)n=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef;else n=SUGAR.expressions.userPrefs.datef}var i="";for(var r=0;r<n.length;r++){var a=n.charAt(r);switch(a){case"m":var s=e.getMonth()+1;i+=s<10?"0"+s:s;break;case"d":var o=e.getDate();i+=o<10?"0"+o:o;break;case"Y":i+=e.getFullYear();break;case"H":case"h":var l=e.getHours();if(a=="h")l=l>12?l-12:l;i+=l<10?"0"+l:l;break;case"i":var s=e.getMinutes();i+=s<10?"0"+s:s;break;case"a":if(e.getHours()<12)i+="am";else i+="pm";break;case"A":if(e.getHours()<12)i+="AM";else i+="PM";break;default:i+=a}}return i},roundTime:function(e){var t=e.getMinutes();if(t<1){t=0}else if(t<16){t=15}else if(t<31){t=30}else if(t<46){t=45}else{t=0;e.setHours(e.getHours()+1)}e.setMinutes(t);return e},getUserTime:function(){var e=new Date;if(SUGAR.expressions.userPrefs&&typeof SUGAR.expressions.userPrefs.gmt_offset!="undefined"){var t=SUGAR.expressions.userPrefs.gmt_offset;e.setMinutes(e.getMinutes()+(e.getTimezoneOffset()+t))}return e}}})()},function(e,t){(function(){SUGAR.forms=SUGAR.forms||{};SUGAR.forms.animation=SUGAR.forms.animation||{};var e=SUGAR.expressions;var t=SUGAR.App||t;var n=e.SidecarExpressionContext=function(e,n,i){this.view=e;if(i instanceof t.data.beanCollection){this.collection=i}else{this.collection=e.collection||e.context.get("collection")}this.model=n||e.model||e.context.get("model")};t.utils.extendFrom(n,e.ExpressionContext,{dispose:function(){if(!this.view.disposed){var e=this.view.context;_.each(this.dependencies,function(t){e.off("list:editrow:fire",null,t)})}},initialize:function(e,t){var n=[];var t=t||false;var i=this.view.context;this.dependencies=[];var r=_.bind(function(e,t){_.each(e,function(e){if(t.dependency.testOnLoad||e.isNew()){t.context.isOnLoad=true;t.context.inCollection=true;SUGAR.forms.Trigger.fire.apply(t,[e]);t.context.isOnLoad=null;t.context.inCollection=null}},this)},this);_.each(e,function(e){var a=SUGAR.forms.Dependency.fromMeta(e,this);if(a){n=_.union(n,a.getRelatedFields());if(i.isCreate()||a.fireLinkOnlyDependency()||t){SUGAR.forms.Trigger.fire.apply(a.trigger);this.view.trigger("sugarlogic:initialize")}if(a.testOnLoad){i.on("list:editrow:fire",function(){i.isOnLoad=true;SUGAR.forms.Trigger.fire.apply(this.trigger,arguments);i.isOnLoad=null},a)}if(this.collection instanceof SUGAR.App.data.beanCollection){this.collection.on("sync",function(e,t){var n;var i;if(e instanceof SUGAR.App.data.beanCollection){i=_.pluck(t,"id");n=e.filter(function(e){return _.contains(i,e.id)});_.defer(r,n,a.trigger)}else{r([e],a.trigger)}},this);this.collection.on("add",function(e){r([e],a.trigger)},this);r(this.collection.models,a.trigger)}this.dependencies.push(a)}},this);this._setupLinks(n);this._requestRollups(n);this.view.on("render",function(){_.each(this.dependencies,function(e){if(i.isCreate()||e.fireLinkOnlyDependency()){SUGAR.forms.Trigger.fire.apply(e.trigger);this.view.trigger("sugarlogic:initialize")}},this)},this)},getValue:function(i){var r=this.model.get(i),a=this.model.fields[i],s;if(!a){SUGAR.App.logger.warn("Attempted to get a value for field "+i+" which is not a field in "+this.model.module)}if(a&&a.type=="link"){r=i}if(typeof r=="string"){r=r.replace(/\n/g,"");if(/^(\s*)$/.exec(r)!=null||r===""){s=n.parser.toConstant('""')}else if(a.type!=="currency"&&a.type!=="enum"&&e.isNumeric(r)){s=n.parser.toConstant(e.unFormatNumber(r))}else if(a.type=="date"||a.type=="datetime"){r=t.date.stripIsoTimeDelimterAndTZ(r);r=t.date.parse(r);r.type=a.type;s=this.getDateExpression(r)}else{s=n.parser.toConstant('"'+r+'"')}}else if(typeof r=="object"&&r!=null&&r.getTime){s=this.getDateExpression(r)}else if(typeof r=="number"){s=n.parser.toConstant(""+r)}else if(_.isBoolean(r)){s=r?new SUGAR.expressions.TrueExpression:new SUGAR.expressions.FalseExpression}else{s=n.parser.toConstant('""')}return s},setValue:function(e,n){if(typeof this.model.fields[e]!="object"){return}var i=this.model.fields[e];this.lockedFields=this.lockedFields||[];if(typeof n=="object"&&n.length>0&&i.type!="multienum"){n=n.join(", ")}else if(n&&i.type==="date"){n=t.date(n).formatServer(true)}else if(n&&i.type==="datetimecombo"){n=t.date(n).format()}if(i.type=="bool"&&_.isString(n)){n=SUGAR.expressions.Expression.isTruthy(n)}if(n&&(i.type==="decimal"||i.type==="float")){n=t.utils.formatNumber(n,i.round||6,i.precision||6,null,null)}if(_.isString(n)&&i.len&&n.length>i.len){var r=this;n=n.substring(0,i.len);this.model.once("change:"+e,function(){var t=SUGAR.App.lang.getAppString("LBL_FIELD_TRIMMED");SUGAR.forms.markField(e,r.getElement(e),t)})}else if(SUGAR.forms.markedField[e]){SUGAR.forms.unmarkField(e,this.getElement(e))}if(!this.lockedFields[e]){this.lockedFields[e]=true;var a=this.getElement(e);if(a){SUGAR.forms.FlashField($(a).parents('[data-fieldname="'+e+'"]'),null,e)}var s=this.model.set(e,n);this.lockedFields=[];return s}},addListener:function(e,t,n){if(this.collection){this.collection.off("change:"+e,t,n);this.collection.on("change:"+e,t,n)}if(this.model){this.model.off("change:"+e,t,n);this.model.on("change:"+e,t,n)}},getElement:function(e){var t=this.getField(e);if(t&&t.el)return t.el},getField:function(e){return this.view.getField(e,this.model)},addClass:function(e,t,n){var i=this.view.getFieldMeta(e,true),r=n?["css_class","cell_css"]:["css_class"],a=this.getElement(e),s=$(a).closest("div.record-cell");_.each(r,function(e){if(!i[e]){i[e]=t}else if(i[e].indexOf(t)==-1){i[e]+=" "+t}});this.view.setFieldMeta(e,i);$(a).addClass(t);if(!i._isChild&&n&&s){s.addClass(t)}},removeClass:function(e,t,n){var i=this.view.getFieldMeta(e,true),r=this.view.getField(e),a=n?["css_class","cell_css"]:["css_class"],s=this.getElement(e),o=$(s).closest("div.record-cell");_.each([r.def,i],function(e){_.each(a,function(n){if(e[n]&&e[n].indexOf(t)!=-1){e[n]=$.trim((" "+e[n]+" ").replace(new RegExp(" "+t+" "),""))}})});this.view.setFieldMeta(e,i);$(s).removeClass(t);if(!i._isChild&&n&&o){o.removeClass(t);o.find("."+t).removeClass(t)}},getLink:function(e){var t=this.model;if(t&&t.fields&&t.fields[e])return t.fields[e]},showError:function(e,t){},clearError:function(e){},setStyle:function(e,t){},setRelatedFields:function(e,t,n){t=!!t;n=n||this.model;for(var i in e){var r=this._linkValueVarname(i),a=n.get(r),s=!!a,o=a||{};_.each(e[i],function(e,t){if(_.isObject(e)){e=_.mapObject(e,function(e){return _.isArray(e)?_.object(e):e});o[t]=_.extend(o[t]||{},e)}else{o[t]=e}});var l={};l[r]=o;n.set(l,{silent:t});if(!t&&s){n.trigger("change:"+i,n)}}},getRelatedFieldValues:function(e,n,i,r){var a=this,s=t.api,o=i instanceof t.data.beanModel?i:this.model;if(e.length>0){n=n||o.module||this.view.context.get("module");i=_.isString(i)?i:o.get("id");for(var l=0;l<e.length;l++){var u=e[l].link,c={};if(e[l].type=="related"){var d=o.fields[u];if(d&&d.id_name&&d.module){var f=o.get(d.id_name);if(f){e[l].relId=f;e[l].relModule=d.module}}}if(e[l].relate){c[u]={};c[u][e[l].type]={};c[u][e[l].type][e[l].relate]="";a.setRelatedFields(c,true,o)}}var h={id:i,action:"related"},p={module:n,fields:JSON.stringify(e)};s.call("read",s.buildURL("ExpressionEngine","related",h,p),h,p,{success:function(e){a.setRelatedFields(e,r,o);return e}})}return null},updateRelatedFieldValue:function(e,t,n,i,r){var a=this.model.get(this._linkValueVarname(e))||{},r=r||false,s={};if(!_.isUndefined(a[t])||r){if(!n){a[t]=i}else if(!r&&!_.isUndefined(a[t][n])){a[t][n]=i}else if(r){if(_.isUndefined(a[t])){a[t]={}}a[t][n]=i}}s[e]=a;this.setRelatedFields(s,true)},_linkValueVarname:function(e){return"_"+e+"-rel_exp_values"},getRelatedCollectionValues:function(e,t,n,i){e=e||this.model;var r=e.get(this._linkValueVarname(t))||{};var a=i+"_values";if(n){if(r[n]&&r[n][a]){return r[n][a]}return[]}return r},updateRelatedCollectionValues:function(e,n,i,r,a,s){e=e||this.model;var n=this._linkValueVarname(n);var o=e.get(n)||{};var l=[i];var u=[r];if(!i){l=_.keys(o)}_.each(l,function(e){if(e=="related"){return}if(!r){u=_.filter(_.keys(o[e]),function(e){return e.substr(-7)!="_values"})}_.each(u,function(n){var i=n+"_values";var r=a.fields[n]&&a.fields[n].type==="currency";var l=o[e]&&o[e][i]||{};if(!_.isEmpty(l)&&s=="remove"){if(l[a.id]){delete l[a.id]}if(l[a.cid]){delete l[a.cid]}}if(!s||s=="add"){if(l[a.cid]&&a.id){delete l[a.cid]}var u=a.id?a.id:a.cid;var c=a.get(n);if(r){c=t.currency.convertToBase(c,a.get("currency_id"))}l[u]=c}o[e]=o[e]||{};o[e][i]=l},this)},this);e.set(n,o)},getRelatedField:function(e,t,n){var i=this._linkValueVarname(e);var r=this.model.get(i)||{};if(t=="related"&&!this.inCollection){return this._handleRelateExpression(e,n)}if(typeof r[t]!="undefined"){if(!n){return r[t]}else if(typeof r[t][n]!="undefined"){return r[t][n]}}if(this.inCollection){r[t]=r[t]||{};r[t][n]=r[t][n]||"";this.model.set(i,r,{silent:true});return""}if(this.model.isNew()){return""}var a={link:e,type:t};if(n){a.relate=n}this.getRelatedFieldValues([a]);r=this.model.get(i)||{};if(!_.isUndefined(r[t])){if(!n){return r[t]}else if(!_.isUndefined(r[t][n])){return r[t][n]}}return""},_handleRelateExpression:function(e,n){this.view.context.set("model",this.model);var i=this.view.context.get("isSubpanel")===true;if(i){var r=this.view.context.parent}else{var r=this.view.context.getChildContext({link:e})}r.prepare();var a=r.get("collection"),s=r.get("fields")||[],o=this,l=_.find(this.model.fields,function(t){return t.type&&t.type=="relate"&&t.id_name&&t.link&&t.link==e})||{},u=r.get("model");if(r.isDataFetched()&&!r.get("modelId")){u=a.length>0?a.models[0]:null}var c=this.model.get(l.id_name);var d=u&&u.get("id")!==c;var f;if(!_.isEmpty(l)&&(!c||d)&&!i){r.set({model:null});r.resetLoadFlag();if(!c){return""}}if(_.isUndefined(this.view._loadedRelatedFields)){this.view._loadedRelatedFields={}}if(c){f=c}else{var h=this.model.fields[e].relationship;f=h?h:""}var p=e+"_"+n+"_"+f;if(n&&(!r.isDataFetched()||u&&_.isUndefined(u.get(n))&&!u.getFetchRequest())&&!this.view._loadedRelatedFields.hasOwnProperty(p)){_.each(s,_.bind(function(t){var n=e+"_"+t+"_"+f;this.view._loadedRelatedFields[n]=n},this));if(!_.contains(s,n)){s.push(n)}this._loadRelatedData(e,s,r,l);if(l.id_name){this.addListener(l.id_name,function(){this.view._loadedRelatedFields={}},this)}}else if(u){var m=u.get(n);if(m){var g=u.fields[n];if(g.type=="date"||g.type=="datetime"){m=t.date.stripIsoTimeDelimterAndTZ(m);m=t.date.parse(m);m.type=g.type}}return m}else if(!a.page){var v=this.model;SUGAR.App.utils.doWhen(function(){return a.page>0},function(){v.trigger("change:"+e,v)})}return""},getDateExpression:function(t){var n=new e.DateExpression("");n.evaluate=function(){return this.value};n.value=t;return n},_loadRelatedData:function(e,t,n,i){var r=this;if(i&&this.model.get(i.id_name)){var a=this.model.get(i.id_name),s=n.get("model")||SUGAR.App.data.createRelatedBean(this.model,this.model.get(i.id_name),e);n.set({modelId:a,model:s})}else{if(_.isEmpty(this.model.get("id")))return""}n.prepare();n.set({fields:_.union(n.get("fields")||[],t),skipFetch:false});if(n.isDataFetched()){n.resetLoadFlag()}var s=this.model;n.loadData({relate:!i,success:function(){s.trigger("change:"+e,s)}})},_setupLinks:function(e){_.each(e,function(e){if(e.link&&e.relate&&e.type=="related"){var t=this.view.context.getChildContext({link:e.link});if(t){t.set("fields",_.union(t.get("fields")||[],[e.relate]))}}},this)},_requestRollups:function(e,t){t=t||this.model;if(!t.isNew()){this.getRelatedFieldValues(e,t.module,t,true)}},fireOnLoad:function(e){},getAppListStrings:function(e){return SUGAR.App.lang.getAppListStrings(e)},parseDate:function(e,t){return SUGAR.App.date.parse(e)},setFieldDisabled:function(e,t){t=_.isUndefined(t)?true:t;var n=this.getField(e);if(n){n.setDisabled(t);this.view.$("span.record-edit-link-wrapper[data-name="+e+"]").toggleClass("hide",t);if(_.isEqual(t,false)&&!_.isEqual(n.currentState,"edit")&&_.isEqual(this.view.currentState,"edit")&&!_.isEqual(this.view.inlineEditMode,true)){n.setMode("edit");this.view.editableFields.push(n)}if(_.isFunction(this.view.setEditableFields)){this.view.setEditableFields()}}},setFieldRequired:function(e,t){t=SUGAR.expressions.Expression.isTruthy(t);var n=this.view.getField(e,this.model);if(n){n.def.required=t;n.render()}},setAssignedUserName:function(e,t){if(this.model.has("assigned_user_name")&&this.model.has("assigned_user_id")){var n=this,i={},r=SUGAR.App.data.createBeanCollection("Users");i.filter={filter:[{user_name:t}]};i.success=function(t){var i=t.first();if(i){n.model.set({assigned_user_name:i.get("full_name"),assigned_user_id:i.get("id")});var r=n.view.getField(e,n.model);if(r&&r.el){SUGAR.forms.FlashField(r.el,null,e)}}};i.error=function(){SUGAR.App.alert.show("server-error",{level:"error",title:SUGAR.App.lang.get("ERR_GENERIC_TITLE"),messages:SUGAR.App.lang.get("ERR_ASSIGNTO_ACTION")})};r.fetch({fields:["full_name"],limit:1,params:i.filter,success:i.success,error:i.error})}},setModel:function(e){this.model=e},setRelatedModel:function(e){this.relatedModel=e},add:function(e,t){return SUGAR.App.math.add(e,t,6,true)},subtract:function(e,t){return SUGAR.App.math.sub(e,t,6,true)},multiply:function(e,t){return SUGAR.App.math.mul(e,t,6,true)},divide:function(e,t){return SUGAR.App.math.div(e,t,6,true)},round:function(e,t){return SUGAR.App.math.round(e,t,true)},getNestedCollectionFromModel:function(e,t){var n;t=t||this.model;var i=_.pluck(t.fieldsOfType("collection"),"name");if(!_.isEmpty(i)){var r=_.chain(i).filter(function(n){return _.contains(t.fields[n].links,e)},this).value();if(_.size(r)===1){var a=_.first(r);if(t.has(a)){n=t.get(a);if(!(n instanceof SUGAR.App.data.beanCollection)){n=undefined}}else{n=a}}}return n},getLinkContext:function(e,t){var n=e.context.getChildContext({link:t});n.prepare();return n}});n.parser=new SUGAR.expressions.ExpressionParser;n.evalVariableExpression=function(e,t){return n.parser.evaluate(e,new n(t))};SUGAR.forms.Dependency=function(e,t,n,i,r){this.actions=t;this.falseActions=n;this.context=r;this.testOnLoad=i;this.trigger=e;e.setContext(this.context);e.setDependency(this);if(i){r.fireOnLoad(this)}};SUGAR.forms.Dependency.fromMeta=function(t,n){var i=t.trigger||"true",r=t.triggerFields||e.ExpressionParser.prototype.getFieldsFromExpression(i),a=t.relatedFields||[],s=t.actions||[],o=t.notActions||[],l=t.onload||false,u=n.model&&_.isEmpty(n.model.get("id")),c=[],d=[];if(_.isEmpty(r)&&!l&&!u)return null;if(_.isEmpty(s)&&_.isEmpty(o))return null;_.each(s,function(e){if(!e.action||!SUGAR.forms[e.action+"Action"])return;var t=true;if(e.action==="SetValue"&&e.params.target){t=SUGAR.App.acl.hasAccess("edit",this.model.module,undefined,e.params.target)}if(t){c.push(new SUGAR.forms[e.action+"Action"](e.params))}},n);_.each(o,function(e){if(!e.action||!SUGAR.forms[e.action+"Action"])return;var t=true;if(e.action==="SetValue"&&e.params.target){t=SUGAR.App.acl.hasAccess("edit",this.model.module,undefined,e.params.target)}if(t){d.push(new SUGAR.forms[e.action+"Action"](e.params))}},n);return new SUGAR.forms.Dependency(new SUGAR.forms.Trigger(r,i,n,a),c,d,l,n)};SUGAR.forms.Dependency.prototype.fireLinkOnlyDependency=function(){if(!this.testOnLoad){return false}var e=true;if(this.context.model.fields){_.each(this.trigger.variables,function(t){e=e&&this.context.model.fields[t]&&this.context.model.fields[t].type=="link"},this)}return e};SUGAR.forms.Dependency.prototype.fire=function(e){if(this.context.view.disposed||!this.context.view.context){return}try{var t=this.context.model;this.lastTriggeredActions=this.lastTriggeredActions||[];if(t.inSync&&!this.testOnLoad){return}var n=this.actions;if(e&&this.falseActions!=null)n=this.falseActions;_.each(this.lastTriggeredActions,function(e){this.context.view.off(null,null,e)},this);if(n instanceof SUGAR.forms.AbstractAction)n=[n];for(var i in n){var r=n[i];if(typeof r.exec=="function"){r.setContext(this.context);r.exec();if(this.testOnLoad&&r.afterRender){this.context.view.on("render",r.exec,r)}}}this.lastTriggeredActions=n}catch(a){if(!SUGAR.isIE&&console&&console.log){console.log("ERROR: "+a)}return}};SUGAR.forms.Dependency.prototype.getRelatedFields=function(){var e=n.parser,t=e.getRelatedFieldsFromFormula(this.trigger.condition);var i=function(n){if(n instanceof SUGAR.forms.AbstractAction){n=[n]}for(var i in n){var r=n[i],a=r.target||undefined;if(typeof r.exec=="function"){for(var s in r){if(typeof r[s]=="string"&&r[s].indexOf("$")>-1){t=$.merge(t,e.getRelatedFieldsFromFormula(r[s],a))}}}}};i(this.actions);i(this.falseActions);return t};SUGAR.forms.AbstractAction=function(e){this.target=e};SUGAR.forms.AbstractAction.prototype.exec=function(){};SUGAR.forms.AbstractAction.prototype.setContext=function(e){this.context=e};SUGAR.forms.AbstractAction.prototype.evalExpression=function(e,t){t=t||this.context;return n.parser.evaluate(e,t).evaluate()};SUGAR.forms.AbstractAction.prototype.canSetValue=function(e){if(e.options&&e.options.revert){return false}if(e.isOnLoad&&!e.model.isNew()){return false}return true};SUGAR.forms.Trigger=function(e,t,n,i){this.variables=e;this.condition=t;this.context=n;this.relatedFields=i||[];this.dependency={}};SUGAR.forms.Trigger.prototype._findRelatedCollection=function(e,t){t=t||this.context.model;var n=this.context.getNestedCollectionFromModel(e,t);if(_.isUndefined(n)){var i=this.context.getLinkContext(this.context.view,e);if(i&&i.has("collection")){n=i.get("collection")}}return n};SUGAR.forms.Trigger.prototype._attachListeners=function(){if(!(this.variables instanceof Array)){this.variables=[this.variables]}for(var e=0;e<this.variables.length;e++){this.context.addListener(this.variables[e],SUGAR.forms.Trigger.fire,this,true)}var t=[this.context.model];if(this.context.useCollection){t=this.context.collection.models;this.context.collection.off("add",null,this);this.context.collection.off("remove",null,this);this.context.collection.on("add",function(e,t,n){this._attachCollectionListeners(e)},this);this.context.collection.on("remove",function(e,t,n){_.each(e._relatedCollections,function(e){e.off(null,null,this)});e.off(null,null,this)},this)}_.each(t,function(e){this._attachCollectionListeners(e)},this)};SUGAR.forms.Trigger.prototype._attachCollectionListeners=function(e,t,n){var i=this.relatedFields,r=[],a,s=false;t=t||false;_.each(this.dependency.getRelatedFields(),function(e){r[e.link]=_.union(r[e.link]||[],[e.relate])});var o=_.bind(function(t,n,r){if(n!==null&&!_.isUndefined(n)){_.find(t.changed,function(e,t){if(_.contains(i,t)&&e===n){a=t;return true}})}else if(r&&r.type=="remove"){this.context.isRemoveEvent=true}if(r&&r.link){this.context.updateRelatedCollectionValues(e,r.link,null,null,t,r.type)}var o=this.context.model;this.context.model=e;this.context.changingField=a;SUGAR.forms.Trigger.fire.call(this,t,null,{fromRelated:true,changingField:a,isRemoveEvent:s});this.context.model=o;delete this.context.isRemoveEvent;delete this.context.changingField},this);for(var l=0;l<this.variables.length;l++){var u=this.variables[l];var c=r[u]||[];var d=this._findRelatedCollection(u,e);if(d instanceof Backbone.Collection){d.off("add",null,this);d.on("add",function(e){o(e,null,{type:"add",link:u})},this);d.off("remove",null,this);d.on("remove",function(e){o(e,null,{type:"remove",link:u})},this);if(!_.isEmpty(c)){var f="change:"+_.unique(c).join(" change:");d.off(f,null,this);d.on(f,o,this)}}else if(_.isString(d)){e.once("change:"+d,function(t,n){this._attachListeners();if(_.isObject(n)&&_.intersection(_.keys(n.changed),i).length>0){SUGAR.forms.Trigger.fire.call(this,e)}},this);return d}}if(t&&_.contains(this.variables,t)){o(n,null,"add")}};SUGAR.forms.Trigger.prototype.setDependency=function(e){this.dependency=e;this._attachListeners()};SUGAR.forms.Trigger.prototype.setContext=function(e){this.context=e};SUGAR.forms.Trigger.fire=function(e,t,i){i=i||{};var r,a,s,o;if(e){var l=i.fromRelated||false;if(!l&&e){s=this.context.model;this.context.setModel(e)}else if(l){o=this.context.relatedModel;this.context.setRelatedModel(e)}}this.context.options=i;try{r=n.parser.evaluate(this.condition,this.context)}catch(u){if(!SUGAR.isIE&&console&&console.log){console.log("ERROR:"+u+"; in Condition: "+this.condition)}}if(!_.isUndefined(r)){a=r.evaluate()}if(a==SUGAR.expressions.Expression.TRUE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(false)}}else if(a==SUGAR.expressions.Expression.FALSE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(true)}}if(!l&&e){this.context.setModel(s)}if(l){this.context.setRelatedModel(s)}};SUGAR.forms.flashInProgress={};SUGAR.forms.markedField={};SUGAR.forms.exclamationMarkTemplate=Handlebars.compile('<span class="warning-tooltip add-on" data-container="body" rel="tooltip" title="{{this}}"><i class="fa fa-warning"></i></span>');SUGAR.forms.FlashField=function(e,t,n){if(typeof e=="undefined"||!n&&!e.id)return;n=n||e.id;if(SUGAR.forms.flashInProgress[n])return;SUGAR.forms.flashInProgress[n]=true;t=t||"#FF8F8F";var i=e.style&&e.style.backgroundColor?e.style.backgroundColor:"#FFFFFF";$(e).css("backgroundColor",i);$(e).animate({backgroundColor:t},200,function(){$(e).animate({backgroundColor:i},200,function(){delete SUGAR.forms.flashInProgress[n]})})};SUGAR.forms.markField=function(e,t,n){if(SUGAR.forms.markedField[e])return;if(!t)return;var i=$(t).parents('[data-fieldname="'+e+'"]');var r=$(t).children();i.addClass("warning");var a=$(SUGAR.forms.exclamationMarkTemplate(n));var s=r.parent().hasClass("input-append");if(!s){r.wrap('<div class="input-append warning">')}r.parent().addClass("warning");r.after(a);SUGAR.forms.markedField[e]=a};SUGAR.forms.unmarkField=function(e,t){if(!SUGAR.forms.markedField[e])return;if(!t)return;var n=$(t).parents('[data-fieldname="'+e+'"]');n.removeClass("warning");SUGAR.forms.markedField[e].remove();SUGAR.forms.markedField[e]=null};e.plugin={onAttach:function(){this.on("init",function(){this._slCtx=this.initSugarLogic();Object.defineProperty(this,"slContext",{get:function(){SUGAR.App.logger.warn("`View.slContext` has been deprecated since 7.9.");return this._slCtx},configurable:true,enumerable:true});this.context.addFields(this._getDepFields())},this)},initSugarLogic:function(e,t,n){e=e||this.model;this._dependencies=t||this.getApplicableDeps();n=n||false;var i=new SUGAR.expressions.SidecarExpressionContext(this,e,this.collection);if(_.isEmpty(this._dependencies)){return i}i.initialize(this._dependencies,n);return i},_getDepFields:function(){var t;var n=e.ExpressionParser.prototype.getFieldsFromExpression;var i=this.getApplicableDeps();_.each(i,function(e){if(e.trigger){t=_.union(t,n(e.trigger))}_.each(e.actions,function(e){_.each(e.params,function(e){if(_.isString(e)){t=_.union(t,n(e))}})})});if(this.model){t=_.filter(t,function(e){return this.model.fields[e]&&this.model.fields[e].type!=="link"},this)}return t},getApplicableDeps:function(){var e=_.extend({},this.meta,this.options.meta),t=SUGAR.App.metadata.getModule(this.context.get("module"),"dependencies"),n=_.contains(this.plugins,"Editable")||this.name=="edit"||this.name=="create"?"edit":"view",i=e.dependencies;if(!_.isEmpty(t)){var r=_.filter(t,function(e){if(_.contains(e.hooks,"all")||_.contains(e.hooks,n)){return true}return false});i=!_.isEmpty(i)?_.union(i,r):r}return i},onDetach:function(){this.off(null,null,this._slCtx);this.model&&this.model.off(null,null,this._slCtx);this.collection&&this.collection.off(null,null,this._slCtx);_.each(this._slCtx.dependencies,function(e){this.context.off("list:editrow:fire",null,e);_.each(e.actions,function(e){this.off(null,null,e)},this)},this)}};if(SUGAR.App&&SUGAR.App.plugins){SUGAR.App.plugins.register("SugarLogic","view",e.plugin)}else if(console.error){console.error("unable to find the plugin manager")}})()},function(e,t,n){e.exports=n(207)}]);